/*! For license information please see 2.95480503.chunk.js.LICENSE.txt */
(this.webpackJsonpmed3web=this.webpackJsonpmed3web||[]).push([[2],[function(e,t,n){"use strict";(function(e,r,i,a){n.d(t,"a",(function(){return Dh})),n.d(t,"b",(function(){return Se})),n.d(t,"c",(function(){return fr})),n.d(t,"d",(function(){return hr})),n.d(t,"e",(function(){return dr})),n.d(t,"f",(function(){return sr})),n.d(t,"g",(function(){return Xs})),n.d(t,"h",(function(){return zl})),n.d(t,"i",(function(){return Ul})),n.d(t,"j",(function(){return jl})),n.d(t,"k",(function(){return Vl})),n.d(t,"l",(function(){return pr})),n.d(t,"m",(function(){return mr})),n.d(t,"n",(function(){return gr})),n.d(t,"o",(function(){return qr})),n.d(t,"p",(function(){return vr})),n.d(t,"q",(function(){return Al})),n.d(t,"r",(function(){return Ml})),n.d(t,"s",(function(){return Yt})),n.d(t,"t",(function(){return eu})),n.d(t,"u",(function(){return ru})),n.d(t,"v",(function(){return ou})),n.d(t,"w",(function(){return lu})),n.d(t,"x",(function(){return Bn})),n.d(t,"y",(function(){return kh})),n.d(t,"z",(function(){return zn})),n.d(t,"A",(function(){return yr})),n.d(t,"B",(function(){return br})),n.d(t,"C",(function(){return dn})),n.d(t,"D",(function(){return Mn})),n.d(t,"E",(function(){return Dn})),n.d(t,"F",(function(){return Rn})),n.d(t,"G",(function(){return Pn})),n.d(t,"H",(function(){return Nn})),n.d(t,"I",(function(){return ol})),n.d(t,"J",(function(){return sl})),n.d(t,"K",(function(){return ml})),n.d(t,"L",(function(){return ul})),n.d(t,"M",(function(){return wr})),n.d(t,"N",(function(){return Sr})),n.d(t,"O",(function(){return Wt})),n.d(t,"P",(function(){return jn})),n.d(t,"Q",(function(){return fl})),n.d(t,"R",(function(){return Qt})),n.d(t,"S",(function(){return ui})),n.d(t,"T",(function(){return yu})),n.d(t,"U",(function(){return yc})),n.d(t,"V",(function(){return Kl})),n.d(t,"W",(function(){return h})),n.d(t,"X",(function(){return ju})),n.d(t,"Y",(function(){return xr})),n.d(t,"Z",(function(){return _r})),n.d(t,"ab",(function(){return Vn})),n.d(t,"bb",(function(){return Tr})),n.d(t,"cb",(function(){return wu})),n.d(t,"db",(function(){return cc})),n.d(t,"eb",(function(){return kn})),n.d(t,"fb",(function(){return Er})),n.d(t,"gb",(function(){return Xr})),n.d(t,"hb",(function(){return tf})),n.d(t,"ib",(function(){return tl})),n.d(t,"jb",(function(){return gc})),n.d(t,"kb",(function(){return Gu})),n.d(t,"lb",(function(){return Wu})),n.d(t,"mb",(function(){return fc})),n.d(t,"nb",(function(){return mn})),n.d(t,"ob",(function(){return Qc})),n.d(t,"pb",(function(){return _h})),n.d(t,"qb",(function(){return dc})),n.d(t,"rb",(function(){return Xt})),n.d(t,"sb",(function(){return Zl})),n.d(t,"tb",(function(){return Qu})),n.d(t,"ub",(function(){return Xu})),n.d(t,"vb",(function(){return Uc})),n.d(t,"wb",(function(){return Cn})),n.d(t,"xb",(function(){return nc})),n.d(t,"yb",(function(){return kr})),n.d(t,"zb",(function(){return Cr})),n.d(t,"Ab",(function(){return _i})),n.d(t,"Bb",(function(){return hu})),n.d(t,"Cb",(function(){return du})),n.d(t,"Db",(function(){return pu})),n.d(t,"Eb",(function(){return vl})),n.d(t,"Fb",(function(){return Wl})),n.d(t,"Gb",(function(){return Cl})),n.d(t,"Hb",(function(){return Il})),n.d(t,"Ib",(function(){return Dl})),n.d(t,"Jb",(function(){return Yr})),n.d(t,"Kb",(function(){return Hl})),n.d(t,"Lb",(function(){return Ht})),n.d(t,"Mb",(function(){return ql})),n.d(t,"Nb",(function(){return Zr})),n.d(t,"Ob",(function(){return $r})),n.d(t,"Pb",(function(){return Ql})),n.d(t,"Qb",(function(){return ti})),n.d(t,"Rb",(function(){return ni})),n.d(t,"Sb",(function(){return Su})),n.d(t,"Tb",(function(){return Or})),n.d(t,"Ub",(function(){return Gh})),n.d(t,"Vb",(function(){return Zu})),n.d(t,"Wb",(function(){return xu})),n.d(t,"Xb",(function(){return Tn})),n.d(t,"Yb",(function(){return On})),n.d(t,"Zb",(function(){return _u})),n.d(t,"ac",(function(){return ri})),n.d(t,"bc",(function(){return Jl})),n.d(t,"cc",(function(){return Yl})),n.d(t,"dc",(function(){return Lu})),n.d(t,"ec",(function(){return Fu})),n.d(t,"fc",(function(){return An})),n.d(t,"gc",(function(){return pn})),n.d(t,"hc",(function(){return Ir})),n.d(t,"ic",(function(){return $l})),n.d(t,"jc",(function(){return Gn})),n.d(t,"kc",(function(){return wl})),n.d(t,"lc",(function(){return hc})),n.d(t,"mc",(function(){return Mr})),n.d(t,"nc",(function(){return Dr})),n.d(t,"oc",(function(){return yn})),n.d(t,"pc",(function(){return lc})),n.d(t,"qc",(function(){return tc})),n.d(t,"rc",(function(){return pl})),n.d(t,"sc",(function(){return Ih})),n.d(t,"tc",(function(){return Xn})),n.d(t,"uc",(function(){return Rr})),n.d(t,"vc",(function(){return Pr})),n.d(t,"wc",(function(){return Br})),n.d(t,"xc",(function(){return zr})),n.d(t,"yc",(function(){return Rl})),n.d(t,"zc",(function(){return Pl})),n.d(t,"Ac",(function(){return Nl})),n.d(t,"Bc",(function(){return Ll})),n.d(t,"Cc",(function(){return Fl})),n.d(t,"Dc",(function(){return xi})),n.d(t,"Ec",(function(){return Ur})),n.d(t,"Fc",(function(){return Wn})),n.d(t,"Gc",(function(){return mc})),n.d(t,"Hc",(function(){return Ln})),n.d(t,"Ic",(function(){return jr})),n.d(t,"Jc",(function(){return Bu})),n.d(t,"Kc",(function(){return zu})),n.d(t,"Lc",(function(){return Hn})),n.d(t,"Mc",(function(){return qn})),n.d(t,"Nc",(function(){return sc})),n.d(t,"Oc",(function(){return oi})),n.d(t,"Pc",(function(){return Xl})),n.d(t,"Qc",(function(){return Gr})),n.d(t,"Rc",(function(){return Wr})),n.d(t,"Sc",(function(){return gn})),n.d(t,"Tc",(function(){return bn})),n.d(t,"Uc",(function(){return wn})),n.d(t,"Vc",(function(){return Le})),n.d(t,"Wc",(function(){return qt})),n.d(t,"Xc",(function(){return bu})),n.d(t,"Yc",(function(){return uc})),n.d(t,"Zc",(function(){return jh})),n.d(t,"ad",(function(){return Ti})),n.d(t,"bd",(function(){return Uu})),n.d(t,"cd",(function(){return Qn})),n.d(t,"dd",(function(){return fe})),n.d(t,"ed",(function(){return _n})),n.d(t,"fd",(function(){return Mh})),n.d(t,"gd",(function(){return gu})),n.d(t,"hd",(function(){return vu})),n.d(t,"id",(function(){return En})),n.d(t,"jd",(function(){return In}));var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var c=function(){function e(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(e,t){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=e,this.platform=t},e.prototype.registerFlag=function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+r+"."),this.set(e,r)}},e.prototype.get=function(e){return e in this.flags||(this.flags[e]=this.evaluateFlag(e)),this.flags[e]},e.prototype.getNumber=function(e){return this.get(e)},e.prototype.getBool=function(e){return this.get(e)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)},e.prototype.evaluateFlag=function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},e.prototype.setFlags=function(e){this.flags=Object.assign({},e)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var e=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var t,n,r=(t=this.global.location.search,n={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return f(n,t[0],t[1]),t.join("=")})),n);"tfjsflags"in r&&r.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),r=n[0],i=n[1];e.urlFlags[r]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error("Could not parse value flag value "+t+" for flag "+e+".")}(r,i)}))}},e}();function f(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function h(){return d}var d=null,p=new Map,m=new Map;function g(e,t){var n=S(e,t);return p.get(n)}function v(e){return m.get(e)}function y(e){for(var t=p.entries(),n=[];;){var r=t.next(),i=r.done,a=r.value;if(i)break;var o=a[0],s=a[1];o.split("_")[0]===e&&n.push(s)}return n}function b(e){var t=e.kernelName,n=e.backendName,r=S(t,n);if(p.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");p.set(r,e)}function w(e){var t=e.kernelName;m.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),m.set(t,e)}function S(e,t){return t+"_"+e}function x(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function _(e,t,n){return Math.max(e,Math.min(t,n))}function T(e){return e%2==0?e:e+1}function E(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function k(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function C(e,t,n){void 0===n&&(n=""),k(M(e,t),(function(){return n+" Shapes "+e+" and "+t+" must match"}))}function A(e){k(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function O(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=!1),null==t&&(t=[]),Array.isArray(e)||H(e)&&!n)for(var r=0;r<e.length;++r)O(e[r],t,n);else t.push(e);return t}function I(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function M(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function D(e){return e%1==0}function R(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function P(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function N(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function L(e,t,n){return void 0===t&&(t=function(e){return 0}),new Promise((function(r,i){var a=0;!function o(){if(e())r();else{a++;var s=t(a);null!=n&&a>=n?i():setTimeout(o,s)}}()}))}function F(e,t){for(var n=1,r=-1,i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(-1===e[i]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+i);r=i}else if(e[i]<0)throw Error("Shapes can not be < 0. Found "+e[i]+" at dim "+i);if(-1===r){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(0===n)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var a=e.slice();return a[r]=t/n,a}function B(e,t){var n=t.length;return k((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e})),k(e.every((function(e){return D(e)})),(function(){return"All values in axis param must be integers but got axis "+e})),e.map((function(e){return e<0?n+e:e}))}function z(e,t){for(var n=[],r=[],i=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||i?null:B(t,e).sort(),o=0,s=0;s<e.length;++s){if(null!=a){if(a[o]===s&&1!==e[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(null==a[o]||a[o]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),a[o]<=s&&o++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function U(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function j(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type "+e);n=new Array(t)}return n}function V(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function G(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function W(e,t){return"complex64"!==t&&("float32"!==t||"complex64"===e)&&("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)}function H(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function q(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype "+e)}function Q(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function X(e){return"string"==typeof e||e instanceof String}function Y(e){return"boolean"==typeof e}function K(e){return"number"==typeof e}function Z(e){return Array.isArray(e)?Z(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":K(e)?"float32":X(e)?"string":Y(e)?"bool":"float32"}function J(e){return!!(e&&e.constructor&&e.call&&e.apply)}function $(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function ee(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function te(e,t,n){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=O(e)),n&&V(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var r=new Uint8Array(e.length),i=0;i<r.length;++i)0!==Math.round(e[i])&&(r[i]=1);return r}throw new Error("Unknown data type "+t)}function ne(e,t){if(0===e.length)return t[0];var n=e.reduce((function(e,t){return e*t}));if(0===n)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function e(t,n,r){var i=new Array;if(1===n.length)for(var a=n[0],o=0;o<a;o++)i[o]=r[t+o];else{a=n[0];var s=n.slice(1),u=s.reduce((function(e,t){return e*t}));for(o=0;o<a;o++)i[o]=e(t+o*u,s,r)}return i}(0,e,t)}function re(e,t){for(var n=ie(e,t),r=0;r<n.length;r++)n[r]=1;return n}function ie(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}function ae(){return h().platform.now()}function oe(e){e.forEach((function(t){k(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."}))}))}function se(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",h().platform.encode(e,t)}function ue(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",h().platform.decode(e,t)}function le(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],i=0;i<e.length-1;++i)r+=n[i]*e[i];return r}function ce(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),i=0;i<r.length-1;++i)r[i]=Math.floor(e/n[i]),e-=r[i]*n[i];return r[r.length-1]=e,r}var fe=Object.freeze({shuffle:x,clamp:_,nearestLargerEven:T,sum:E,randUniform:function(e,t){var n=Math.random();return t*n+(1-n)*e},distSquared:function(e,t){for(var n=0,r=0;r<e.length;r++){var i=Number(e[r])-Number(t[r]);n+=i*i}return n},assert:k,assertShapesMatch:C,assertNonNull:A,flatten:O,sizeFromShape:I,isScalarShape:function(e){return 0===e.length},arraysEqual:M,isInt:D,tanh:R,sizeToSquarishShape:P,createShuffledIndices:function(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return x(t),t},rightPad:N,repeatedTry:L,inferFromImplicitShape:F,parseAxisParam:B,squeezeShape:z,getTypedArrayFromDType:U,getArrayFromDType:j,checkConversionForErrors:V,isValidDtype:G,hasEncodingLoss:W,isTypedArray:H,bytesPerElement:q,bytesFromStringArray:Q,isString:X,isBoolean:Y,isNumber:K,inferDtype:Z,isFunction:J,nearestDivisor:$,computeStrides:ee,toTypedArray:te,toNestedArray:ne,makeOnesTypedArray:re,makeZerosTypedArray:ie,now:ae,assertNonNegativeIntegerDimensions:oe,fetch:function(e,t){return h().platform.fetch(e,t)},encodeString:se,decodeString:ue,locToIndex:le,indexToLoc:ce}),he=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new de)}return e.prototype.profileKernel=function(e,t,n){var r,i=this,a=this.backendTimer.time((function(){r=n()}));return r.forEach((function(n){n.data().then((function(r){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var i=e[r];if(isNaN(i)||!isFinite(i))return console.warn("Found "+i+" in the result of '"+n+"'"),!0}}(r,n.dtype,e),a.then((function(a){var o="";null!=a.getExtraProfileInfo&&(o=a.getExtraProfileInfo()),i.logger.logKernelProfile(e,n,r,a.kernelMs,t,o)}))}))})),r},e}(),de=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,n,r,i,a){var o="number"==typeof r?N(r+"ms",9):r.error,s=N(e,25),u=t.rank,l=t.size,c=N(t.shape.toString(),14),f="";for(var h in i){var d=i[h].shape||t.shape,p=d.length;f+=h+": "+p+"D "+(p>0?d:"")+" "}console.log("%c"+s+"\t%c"+o+"\t%c"+u+"D "+c+"\t%c"+l+"\t%c"+f+"\t%c"+a,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}();function pe(e,t,n){return N(Array.isArray(e)?parseFloat(e[0].toFixed(7))+" + "+parseFloat(e[1].toFixed(7))+"j":X(e)?"'"+e+"'":"bool"===n?me(e):parseFloat(e.toFixed(7)).toString(),t)}function me(e){return 0===e?"false":"true"}function ge(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var ve=function(){function e(e,t,n){var r=this;if(this.dtype=t,this.shape=e.slice(),this.size=I(e),null!=n){var i=n.length;k(i===this.size,(function(){return"Length of values '"+i+"' does not match the size inferred by the shape '"+r.size+"'."}))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||j(t,this.size),this.strides=ee(e)}return e.prototype.set=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),k(n.length===this.rank,(function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+t.rank+")"}));var i=this.locToIndex(n);this.values[i]=e},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===e.length&&(e=[0]);for(var n=0,r=0,i=e;r<i.length;r++){var a=i[r];if(a<0||a>=this.shape[n]){var o="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(o)}n++}for(var s=e[e.length-1],u=0;u<e.length-1;++u)s+=this.strides[u]*e[u];return this.values[s]},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return ye().makeTensor(this.values,this.shape,this.dtype)},e}(),ye=null,be=null,we=null,Se=function(){function e(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=I(e),this.strides=ee(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),k(1===this.size,(function(){return"The array must have only 1 element."})),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])},e.prototype.as5D=function(e,t,n,r,i){return this.throwIfDisposed(),this.reshape([e,t,n,r,i])},e.prototype.asType=function(e){return this.throwIfDisposed(),be.cast(this,e)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,be.buffer(this.shape,this.dtype,e)]}}))}))},e.prototype.bufferSync=function(){return be.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,ne(this.shape,e)]}}))}))},e.prototype.arraySync=function(){return ne(this.shape,this.dataSync())},e.prototype.data=function(){return u(this,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=ye().read(this.dataId),"string"!==this.dtype?[3,2]:[4,e];case 1:t=n.sent();try{return[2,t.map((function(e){return ue(e)}))]}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,e]}}))}))},e.prototype.dataSync=function(){this.throwIfDisposed();var e=ye().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return ue(e)}))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},e.prototype.bytes=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,ye().read(this.dataId)];case 1:return e=t.sent(),"string"===this.dtype?[2,e]:[2,new Uint8Array(e.buffer)]}}))}))},e.prototype.dispose=function(){this.isDisposed||(ye().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(e){return void 0===e&&(e=!1),be.print(this,e)},e.prototype.reshape=function(e){return this.throwIfDisposed(),be.reshape(this,e)},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},e.prototype.expandDims=function(e){return void 0===e&&(e=0),be.expandDims(this,e)},e.prototype.cumsum=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===n&&(n=!1),be.cumsum(this,e,t,n)},e.prototype.squeeze=function(e){return this.throwIfDisposed(),be.squeeze(this,e)},e.prototype.clone=function(){return this.throwIfDisposed(),be.clone(this)},e.prototype.toString=function(e){return void 0===e&&(e=!1),function(e,t,n,r){var i=ee(t),a=function(e,t,n,r){var i=I(t),a=r[r.length-1],o=new Array(a).fill(0),s=t.length,u="complex64"===n?ge(e):e;if(s>1)for(var l=0;l<i/a;l++)for(var c=l*a,f=0;f<a;f++)o[f]=Math.max(o[f],pe(u[c+f],0,n).length);return o}(e,t,n,i),o=t.length,s=function e(t,n,r,i,a,o){void 0===o&&(o=!0);var s="complex64"===r?2:1,u=n[0],l=n.length;if(0===l)return"complex64"===r?[pe(ge(t)[0],0,r)]:"bool"===r?[me(t[0])]:[t[0].toString()];if(1===l){if(u>20){var c=3*s,f=Array.from(t.slice(0,c)),h=Array.from(t.slice((u-3)*s,u*s));return"complex64"===r&&(f=ge(f),h=ge(h)),["["+f.map((function(e,t){return pe(e,a[t],r)})).join(", ")+", ..., "+h.map((function(e,t){return pe(e,a[u-3+t],r)})).join(", ")+"]"]}return["["+("complex64"===r?ge(t):Array.from(t)).map((function(e,t){return pe(e,a[t],r)})).join(", ")+"]"]}var d=n.slice(1),p=i.slice(1),m=i[0]*s,g=[];if(u>20){for(var v=0;v<3;v++){var y=(b=v*m)+m;g.push.apply(g,e(t.slice(b,y),d,r,p,a,!1))}for(g.push("..."),v=u-3;v<u;v++)y=(b=v*m)+m,g.push.apply(g,e(t.slice(b,y),d,r,p,a,v===u-1))}else for(v=0;v<u;v++){var b;y=(b=v*m)+m,g.push.apply(g,e(t.slice(b,y),d,r,p,a,v===u-1))}var w=2===l?",":"";for(g[0]="["+g[0]+w,v=1;v<g.length-1;v++)g[v]=" "+g[v]+w;var S=",\n";for(v=2;v<l;v++)S+="\n";return g[g.length-1]=" "+g[g.length-1]+"]"+(o?"":S),g}(e,t,n,i,a),u=["Tensor"];return r&&(u.push("  dtype: "+n),u.push("  rank: "+o),u.push("  shape: ["+t+"]"),u.push("  values:")),u.push(s.map((function(e){return"    "+e})).join("\n")),u.join("\n")}(this.dataSync(),this.shape,this.dtype,e)},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),be.gather(this,e,t)},e.prototype.matMul=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.throwIfDisposed(),be.matMul(this,e,t,n)},e.prototype.dot=function(e){return this.throwIfDisposed(),be.dot(this,e)},e.prototype.norm=function(e,t,n){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===n&&(n=!1),this.throwIfDisposed(),be.norm(this,e,t,n)},e.prototype.slice=function(e,t){return this.throwIfDisposed(),be.slice(this,e,t)},e.prototype.reverse=function(e){return this.throwIfDisposed(),be.reverse(this,e)},e.prototype.concat=function(t,n){return void 0===n&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),be.concat([this].concat(t),n)},e.prototype.split=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),be.split(this,e,t)},e.prototype.stack=function(e,t){return void 0===t&&(t=0),be.stack([this,e],t)},e.prototype.unstack=function(e){return void 0===e&&(e=0),be.unstack(this,e)},e.prototype.batchNormalization=function(e,t,n,r,i){return void 0===n&&(n=.001),we("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,t,i,r,n)},e.prototype.all=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),be.all(this,e,t)},e.prototype.any=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),be.any(this,e,t)},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),be.logSumExp(this,e,t)},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),be.sum(this,e,t)},e.prototype.prod=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),be.prod(this,e,t)},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),be.mean(this,e,t)},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),be.min(this,e,t)},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),be.max(this,e,t)},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),be.argMin(this,e)},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),be.argMax(this,e)},e.prototype.cast=function(e){return this.throwIfDisposed(),be.cast(this,e)},e.prototype.addStrict=function(e){return this.throwIfDisposed(),be.addStrict(this,e)},e.prototype.atan2=function(e){return this.throwIfDisposed(),be.atan2(this,e)},e.prototype.sub=function(e){return this.throwIfDisposed(),be.sub(this,e)},e.prototype.subStrict=function(e){return this.throwIfDisposed(),be.subStrict(this,e)},e.prototype.pow=function(e){return this.throwIfDisposed(),be.pow(this,e)},e.prototype.powStrict=function(e){return this.throwIfDisposed(),be.powStrict(this,e)},e.prototype.mul=function(e){return this.throwIfDisposed(),be.mul(this,e)},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),be.mulStrict(this,e)},e.prototype.floorDiv=function(e){return this.throwIfDisposed(),be.floorDiv(this,e)},e.prototype.divStrict=function(e){return this.throwIfDisposed(),be.divStrict(this,e)},e.prototype.minimum=function(e){return this.throwIfDisposed(),be.minimum(this,e)},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),be.minimumStrict(this,e)},e.prototype.maximum=function(e){return this.throwIfDisposed(),be.maximum(this,e)},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),be.maximumStrict(this,e)},e.prototype.mod=function(e){return this.throwIfDisposed(),be.mod(this,e)},e.prototype.modStrict=function(e){return this.throwIfDisposed(),be.modStrict(this,e)},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),be.squaredDifferenceStrict(this,e)},e.prototype.notEqual=function(e){return this.throwIfDisposed(),be.notEqual(this,e)},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),be.notEqualStrict(this,e)},e.prototype.less=function(e){return this.throwIfDisposed(),be.less(this,e)},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),be.lessStrict(this,e)},e.prototype.equal=function(e){return this.throwIfDisposed(),be.equal(this,e)},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),be.equalStrict(this,e)},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),be.lessEqual(this,e)},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),be.lessEqualStrict(this,e)},e.prototype.greater=function(e){return this.throwIfDisposed(),be.greater(this,e)},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),be.greaterStrict(this,e)},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),be.greaterEqual(this,e)},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),be.greaterEqualStrict(this,e)},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),be.logicalAnd(this,e)},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),be.logicalOr(this,e)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),be.logicalNot(this)},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),be.logicalXor(this,e)},e.prototype.where=function(e,t){return this.throwIfDisposed(),be.where(e,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),be.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),be.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),be.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),be.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),be.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),be.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),be.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),be.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),be.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),be.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),be.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),be.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),be.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),be.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),be.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),be.abs(this)},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),be.clipByValue(this,e,t)},e.prototype.relu=function(){return this.throwIfDisposed(),be.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),be.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),be.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),be.selu(this)},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),be.leakyRelu(this,e)},e.prototype.prelu=function(e){return this.throwIfDisposed(),be.prelu(this,e)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),be.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),be.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),be.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),be.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),be.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),be.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),be.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),be.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),be.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),be.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),be.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),be.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),be.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),be.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),be.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),be.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),be.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),be.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),be.round(this)},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),be.step(this,e)},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),be.softmax(this,e)},e.prototype.logSoftmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),be.logSoftmax(this,e)},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),be.image.resizeBilinear(this,e,t)},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),be.image.resizeNearestNeighbor(this,e,t)},e.prototype.conv1d=function(e,t,n,r,i,a){return void 0===r&&(r="NWC"),void 0===i&&(i=1),this.throwIfDisposed(),be.conv1d(this,e,t,n,r,i,a)},e.prototype.conv2d=function(e,t,n,r,i,a){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),be.conv2d(this,e,t,n,r,i,a)},e.prototype.conv2dTranspose=function(e,t,n,r,i){return this.throwIfDisposed(),be.conv2dTranspose(this,e,t,n,r,i)},e.prototype.depthwiseConv2D=function(e,t,n,r,i,a){return void 0===r&&(r="NHWC"),void 0===i&&(i=[1,1]),this.throwIfDisposed(),be.depthwiseConv2d(this,e,t,n,r,i,a)},e.prototype.separableConv2d=function(e,t,n,r,i,a){return void 0===i&&(i=[1,1]),void 0===a&&(a="NHWC"),this.throwIfDisposed(),be.separableConv2d(this,e,t,n,r,i,a)},e.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),be.avgPool(this,e,t,n,r)},e.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),be.maxPool(this,e,t,n,r)},e.prototype.localResponseNormalization=function(e,t,n,r){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=.5),be.localResponseNormalization(this,e,t,n,r)},e.prototype.pool=function(e,t,n,r,i){return this.throwIfDisposed(),be.pool(this,e,t,n,r,i)},e.prototype.variable=function(e,t,n){return void 0===e&&(e=!0),this.throwIfDisposed(),ye().makeVariable(this,e,t,n)},e.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),be.unsortedSegmentSum(this,e,t)},e.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),be.batchToSpaceND(this,e,t)},e.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),be.spaceToBatchND(this,e,t)},e.prototype.topk=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!0),this.throwIfDisposed(),be.topk(this,e,t)},e.prototype.stridedSlice=function(e,t,n,r,i,a,o,s){return void 0===r&&(r=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0),this.throwIfDisposed(),be.stridedSlice(this,e,t,n,r,i,a,o,s)},e.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),be.depthToSpace(this,e,t)},e.prototype.fft=function(){return this.throwIfDisposed(),be.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),be.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),be.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),be.spectral.irfft(this)},e}();Object.defineProperty(Se,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.dataId&&null!=e.shape&&null!=e.dtype}});var xe,_e,Te,Ee,ke,Ce,Ae=function(e){function t(t,n,r,i){var a=e.call(this,t.shape,t.dtype,t.dataId,i)||this;return a.trainable=n,a.name=r,a}return s(t,e),t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!M(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");ye().disposeTensor(this),this.dataId=e.dataId,ye().incRef(this,null)},t.prototype.dispose=function(){ye().disposeVariable(this),this.isDisposedInternal=!0},t}(Se);Object.defineProperty(Ae,Symbol.hasInstance,{value:function(e){return e instanceof Se&&null!=e.assign&&e.assign instanceof Function}}),(Ce=xe||(xe={})).R0="R0",Ce.R1="R1",Ce.R2="R2",Ce.R3="R3",Ce.R4="R4",Ce.R5="R5",Ce.R6="R6",function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(_e||(_e={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Te||(Te={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Ee||(Ee={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(ke||(ke={}));var Oe={float32:Ee,int32:_e,bool:Te,complex64:ke};function Ie(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast "+e+" with "+t)}return Oe[e][t]}function Me(e){return Ie(e,"int32")}function De(e,t){if(e.dtype===t.dtype)return[e,t];var n=Ie(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function Re(e,t){k(e.dtype===t.dtype,(function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"}))}function Pe(e){var t=[];return function e(t,n,r){if(null!=t)if(t instanceof Se)n.push(t);else if(i=t,Array.isArray(i)||"object"==typeof i){var i,a=t;for(var o in a){var s=a[o];r.has(s)||(r.add(s),e(s,n,r))}}}(e,t,new Set),t}var Ne,Le=Object.freeze({makeTypesMatch:De,assertTypesMatch:Re,isTensorInList:function(e,t){return t.some((function(t){return t.id===e.id}))},getTensorsInContainer:Pe}),Fe=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},e}(),Be=function(){function e(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Fe}return e.prototype.ready=function(){return u(this,void 0,void 0,(function(){var e,t,n;return l(this,(function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then((function(){}))];if(null!=this.backendInstance)return[2];e=this.getSortedBackends(),t=0,r.label=1;case 1:return t<e.length?(n=e[t],[4,this.initializeBackend(n).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(n)]:[3,4];case 3:return r.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}}))}))},Object.defineProperty(e.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]},e.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},e.prototype.registerBackend=function(e,t,n){return void 0===n&&(n=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)},e.prototype.setBackend=function(e){return u(this,void 0,void 0,(function(){var t,n,r;return l(this,(function(i){switch(i.label){case 0:if(null==this.registryFactory[e])throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,null!=this.registry[e]?[3,4]:(this.backendInstance=null,t=this.initializeBackend(e),n=t.success,t.asyncInit?[4,n]:[3,2]);case 1:return r=i.sent(),[3,3];case 2:r=n,i.label=3;case 3:if(!r)return[2,!1];i.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new he(this.backendInstance),[2,!0]}}))}))},e.prototype.setupRegisteredKernels=function(){var e=this;y(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))},e.prototype.disposeRegisteredKernels=function(e){var t=this;y(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))},e.prototype.initializeBackend=function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var r=n.factory();if(Promise.resolve(r)===r){var i=++this.pendingBackendInitId,a=r.then((function(n){return!(i<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return!(i<t.pendingBackendInitId)&&(t.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(n.stack||n.message),!1)}));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(t){return console.warn("Initialization of backend "+e+" failed"),console.warn(t.stack||t.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))},e.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),i=r.success,a=r.asyncInit;if(a||i)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,i=this.readSync(t);r.disposeData(t),n.backend=e,e.move(t,i,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(e,t){var n,r=this,i=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=e}return this.scopedRun((function(){return r.startScope(i)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))},e.prototype.scopedRun=function(e,t,n){e();try{var r=n();return t(),r}catch(e){throw t(),e}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(e){var t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){return e.toFloat()}}}),[],{}),t},e.prototype.runKernel=function(e,t,n,r,i){return this.runKernelFunc(null,t,null,e,n,r,i)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(e,t,n){var r=this.backend.numDataIds(),i=0;n.forEach((function(e){i+="complex64"===e.dtype?3:1}));var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-i-a;if(o>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+o+" data ids) after running '"+e+"'")},e.prototype.runKernelFunc=function(e,t,n,r,i,a,o){var s,u=this,l=[],c=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");var f,h=this.state.numBytes,d=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var p,m=g(r,this.backendName);if(null!=m)f=function(){var e=u.backend.numDataIds();p=m.kernelFunc({inputs:t,attrs:i,backend:u.backend});var n=Array.isArray(p)?p:[p];u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,e,n);var s=n.map((function(e){var t=e.dataId,n=e.shape,r=e.dtype;return u.makeTensorFromDataId(t,n,r)}));if(c){var f=u.getTensorsForGradient(r,t,s);if(null==f){null==o&&(o=[]);var h=s.filter((function(e,t){return o[t]}));f=(a||[]).slice().concat(h)}l=u.saveTensorsForBackwardMode(f)}return s};else{var v=function(e){c&&(l=e.map((function(e){return u.keep(u.clone(e))})))};f=function(){var t=u.backend.numDataIds();p=u.tidy((function(){return e(u.backend,v)}));var n=Array.isArray(p)?p:[p];return u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,t,n),n}}return this.scopedRun((function(){return u.state.kernelDepth++}),(function(){return u.state.kernelDepth--}),(function(){s=u.ENV.getBool("DEBUG")?u.profiler.profileKernel(r,t,(function(){return f()})):f()})),c&&this.addTapeNode(r,t,s,n,l,i),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-h,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-d,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map((function(e){return t[e].shape})),outputShapes:s.map((function(e){return e.shape}))}),Array.isArray(p)?s:s[0]},e.prototype.saveTensorsForBackwardMode=function(e){var t=this;return e.map((function(e){return t.keep(t.clone(e))}))},e.prototype.getTensorsForGradient=function(e,t,n){var r=v(e);if(null!=r){var i=r.inputsToSave||[],a=r.outputsToSave||[],o=void 0;r.saveAllInputs?(k(Array.isArray(t),(function(){return"saveAllInputs is true, expected inputs to be an array."})),o=Object.keys(t).map((function(e){return t[e]}))):o=i.map((function(e){return t[e]}));var s=n.filter((function(e,t){return a[t]}));return o.concat(s)}return null},e.prototype.makeTensor=function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var i=e;"string"===n&&X(e[0])&&(i=e.map((function(e){return se(e)})));var a=r.write(i,t,n),o=new Se(t,n,a,this.nextTensorId());if(this.incRef(o,r),"string"===n){var s=this.state.tensorInfo.get(a),u=Q(i);this.state.numBytes+=u-s.bytes,s.bytes=u}return o},e.prototype.makeTensorFromDataId=function(e,t,n,r){var i=new Se(t,n=n||"float32",e,this.nextTensorId());return this.incRef(i,r),i},e.prototype.makeVariable=function(e,t,n,r){void 0===t&&(t=!0),n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.asType(r));var i=new Ae(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error("Variable with name "+i.name+" was already registered");return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i},e.prototype.incRef=function(e,t){var n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*q(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof Ae||this.track(e)},e.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,"string"===e.dtype&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?("complex64"!==e.dtype&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}},e.prototype.disposeVariable=function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},e.prototype.profile=function(e){return u(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){return this.state.profiling=!0,t=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]}))}))},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},e.prototype.addTapeNode=function(e,t,n,r,i,a){var o=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:i},u=v(e);null!=u&&(r=u.gradFunc),null!=r&&(s.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],i=ie(r.size,r.dtype);return o.makeTensor(i,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],i,a)}),this.state.activeTape.push(s)},e.prototype.keep=function(e){return e.kept=!0,e},e.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t},e.prototype.endScope=function(e){for(var t=this,n=Pe(e),r=new Set(n.map((function(e){return e.id}))),i=0;i<this.state.activeScope.track.length;i++){var a=this.state.activeScope.track[i];a.kept||r.has(a.id)||a.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==o.id||t.track(e)}))},e.prototype.gradients=function(e,t,n,r){var i=this;if(void 0===r&&(r=!1),k(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var a=this.scopedRun((function(){return i.startTape()}),(function(){return i.endTape()}),(function(){return i.tidy("forward",e)}));k(a instanceof Se,(function(){return"The result y returned by f() must be a tensor."}));var o=function(e,t,n){for(var r={},i={},a=0;a<t.length;a++)r[t[a].id]=!0;for(a=0;a<e.length;a++){var o=(p=e[a]).inputs;for(var s in o){for(var u=o[s],l=!1,c=0;c<t.length;c++)if(r[u.id]){p.outputs.forEach((function(e){return r[e.id]=!0})),l=!0,i[p.id]=!0;break}if(l)break}}var f={};f[n.id]=!0;var h={};for(a=e.length-1;a>=0;a--)for(o=(p=e[a]).inputs,c=0;c<p.outputs.length;c++)if(f[p.outputs[c].id]){for(var s in o)f[o[s].id]=!0,h[p.id]=!0;break}var d=[];for(a=0;a<e.length;a++){var p;if(i[(p=e[a]).id]&&h[p.id]){var m={};for(var s in p.inputs){var g=p.inputs[s];r[g.id]&&(m[s]=g)}var v=Object.assign({},p);v.inputs=m,v.outputs=p.outputs,d.push(v)}}return d}(this.state.activeTape,t,a);if(!r&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e,r,s={};s[a.id]=null==n?(r=re(I(e=a.shape),"float32"),ze.makeTensor(r,e,"float32")):n,function(e,t,n){for(var r=function(r){var i=t[r],a=[];if(i.outputs.forEach((function(t){var n=e[t.id];null!=n?a.push(n):a.push(null)})),null==i.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+i.kernelName+".");var o=i.gradient(a),s=function(t){if(!(t in o))throw new Error("Cannot backprop through input "+t+". Available gradients found: "+Object.keys(o)+".");var r=n((function(){return o[t]()}));if("float32"!==r.dtype)throw new Error("Error in gradient for op "+i.kernelName+". The gradient of input "+t+" must have 'float32' dtype, but has '"+r.dtype+"'");var a=i.inputs[t];if(!M(r.shape,a.shape))throw new Error("Error in gradient for op "+i.kernelName+". The gradient of input '"+t+"' has shape '"+r.shape+"', which does not match the shape of the input '"+a.shape+"'");if(null==e[a.id])e[a.id]=r;else{var s=e[a.id];e[a.id]=s.add(r),s.dispose()}};for(var u in i.inputs)s(u)},i=t.length-1;i>=0;i--)r(i)}(s,o,(function(e){return i.tidy(e)}));var u=t.map((function(e){return s[e.id]}));return 0===i.state.gradientDepth&&(i.state.activeTape.forEach((function(e){for(var t=0,n=e.saved;t<n.length;t++)n[t].dispose()})),i.state.activeTape=null),{value:a,grads:u}}))},e.prototype.customGrad=function(e){var t=this;return k(J(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];k(r.every((function(e){return e instanceof Se})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var a={};return r.forEach((function(e,t){a[t]=e})),t.runKernelFunc((function(t,i){return k((n=e.apply(void 0,r.concat([i]))).value instanceof Se,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),k(J(n.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),n.value}),a,(function(e,t){var i=n.gradFunc(e,t),a=Array.isArray(i)?i:[i];k(a.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),k(a.every((function(e){return e instanceof Se})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var o={};return a.forEach((function(e,t){o[t]=function(){return e}})),o}))}},e.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},e.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},e.prototype.time=function(e){return u(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return t=ae(),[4,this.backend.time(e)];case 1:return(n=r.sent()).wallMs=ae()-t,[2,n]}}))}))},e.prototype.track=function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Fe,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),ze=function(){var t=function(){if(null==Ne){var t=void 0;if("undefined"!=typeof window)t=window;else if("undefined"!=typeof e)t=e;else if("undefined"!=typeof r)t=r;else{if("undefined"==typeof self)throw new Error("Could not find a global object");t=self}Ne=t}return Ne}();if(null==t._tfengine){var n=new c(t);t._tfengine=new Be(n)}return function(e){d=e}(t._tfengine.ENV),ye=function(){return t._tfengine},t._tfengine}();function Ue(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var je=h();je.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),je.registerFlag("IS_BROWSER",(function(){return Ue()})),je.registerFlag("IS_NODE",(function(){return"undefined"!=typeof r&&void 0!==r.versions&&void 0!==r.versions.node})),je.registerFlag("IS_CHROME",(function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),je.registerFlag("PROD",(function(){return!1})),je.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return je.getBool("DEBUG")})),je.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),je.registerFlag("IS_TEST",(function(){return!1}));var Ve,Ge,We,He={},qe={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Qe(e,t){He[e]=t}function Xe(e){e in He||(He[e]=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);return t.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete He[e]}),!1),1===e?t.getContext("webgl",qe)||t.getContext("experimental-webgl",qe):t.getContext("webgl2",qe)}(e));var t=He[e];return t.isContextLost()?(delete He[e],Xe(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),He[e])}function Ye(e,t){return[t,e]}function Ke(e){var t=I(e);return P(Math.ceil(t/4))}function Ze(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function Je(e,t){var n,r,i,a,o,s,u,l,c,f=e;return 2===h().getNumber("WEBGL_VERSION")?(n=f.R32F,r=f.R16F,i=f.RGBA16F,a=f.RGBA32F,o=f.RED,s=4,u=1,l=f.HALF_FLOAT,c=f.FLOAT):(n=e.RGBA,r=e.RGBA,i=e.RGBA,a=f.RGBA,o=e.RGBA,s=4,u=4,l=null!=t?t.HALF_FLOAT_OES:null,c=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:o,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:l,textureTypeFloat:c}}function $e(e,t,n){var r=n();return t&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+tt(e,t))}(e),r}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(Ve||(Ve={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(Ge||(Ge={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(We||(We={}));function et(e){return!!(h().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function tt(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function nt(e,t,n){return Et(e,t,(function(){return e.getExtension(n)}),'Extension "'+n+'" not supported on this browser.')}function rt(e,t,n){var r=Et(e,t,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if($e(e,t,(function(){return e.shaderSource(r,n)})),$e(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function it(e,t,n){var r=Et(e,t,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if($e(e,t,(function(){return e.shaderSource(r,n)})),$e(e,t,(function(){return e.compileShader(r)})),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw function(e,t){var n=st.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],i=e.split("\n"),a=i.length.toString().length+2,o=i.map((function(e,t){return N((t+1).toString(),a)+e})),s=0,u=0;u<o.length;u++)s=Math.max(o[u].length,s);var l=o.slice(0,r-1),c=o.slice(r-1,r),f=o.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+N(c[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var at,ot,st=/ERROR: [0-9]+:([0-9]+):/g;function ut(e,t){return Et(e,t,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function lt(e,t,n){if($e(e,t,(function(){return e.linkProgram(n)})),!1===e.getProgramParameter(n,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function ct(e,t,n){if($e(e,t,(function(){return e.validateProgram(n)})),!1===e.getProgramParameter(n,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function ft(e,t,n){var r=Et(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return $e(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),$e(e,t,(function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function ht(e,t,n){var r=Et(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return $e(e,t,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)})),$e(e,t,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)})),r}function dt(e,t){return Et(e,t,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function pt(e,t){var n=h().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function mt(e,t){return Et(e,t,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function gt(e,t,n,r,i,a,o,s){var u=e.getAttribLocation(n,r);return-1!==u&&($e(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,i)})),$e(e,t,(function(){return e.vertexAttribPointer(u,a,e.FLOAT,!1,o,s)})),$e(e,t,(function(){return e.enableVertexAttribArray(u)})),!0)}function vt(e,t,n,r){kt(e,r),$e(e,t,(function(){return e.activeTexture(e.TEXTURE0+r)})),$e(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)}))}function yt(e,t,n,r){return Et(e,t,(function(){return e.getUniformLocation(n,r)}),'uniform "'+r+'" not present in program.')}function bt(e,t,n){return e.getUniformLocation(t,n)}function wt(e,t,n,r,i,a){$e(e,t,(function(){return vt(e,t,r,a)})),$e(e,t,(function(){return e.uniform1i(i,a)}))}function St(e,t,n,r){$e(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)})),$e(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}))}function xt(e,t,n){$e(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),$e(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function _t(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+Tt(e,t))}function Tt(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function Et(e,t,n,r){var i=$e(e,t,(function(){return n()}));if(null==i)throw new Error(r);return i}function kt(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function Ct(e,t){return void 0===t&&(t=2),I(e.slice(0,e.length-t))}function At(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function Ot(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[Ct(e)].concat(At(e))),t}function It(e,t){var n;void 0===t&&(t=!1);var r=h().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,1===(e=e.map((function(t,n){return n>=e.length-2?T(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var i=z(e);e=i.newShape}var a=I(e);if(e.length<=1&&a<=r)return[1,a];if(2===e.length&&e[0]<=r&&e[1]<=r)return e;if(3===e.length&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var o=Ct(e),s=2,u=2;return e.length&&(s=(n=At(e))[0],u=n[1]),P(a=o*(s/2)*(u/2)).map((function(e){return 2*e}))}return P(a)}function Mt(e){return e%2==0}function Dt(e,t){if(M(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(Mt(n)&&Mt(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&Mt(e[0])&&Mt(t[0])}function Rt(e){if(null==at){var t=Xe(e);at=t.getParameter(t.MAX_TEXTURE_SIZE)}return at}function Pt(e){if(null==ot){var t=Xe(e);ot=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,ot)}function Nt(e){if(0===e)return 0;var t=Xe(e);return Lt(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:Lt(t,"EXT_disjoint_timer_query")?1:0}function Lt(e,t){return null!=e.getExtension(t)}function Ft(e){try{if(null!=Xe(e))return!0}catch(e){return!1}return!1}function Bt(e){if(0===e)return!1;var t=Xe(e);if(1===e){if(!Lt(t,"OES_texture_float"))return!1}else if(!Lt(t,"EXT_color_buffer_float"))return!1;return Ut(t)}function zt(e){if(0===e)return!1;var t=Xe(e);if(1!==e){if(Lt(t,"EXT_color_buffer_float"))return Ut(t);if(Lt(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(e,t){var n=Je(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(i),a}(t,n)}return!1}return!!Lt(t,"OES_texture_float")&&!!Lt(t,"WEBGL_color_buffer_float")&&Ut(t)}function Ut(e){var t=Je(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),i}function jt(e){return 2===e&&null!=Xe(e).fenceSync}var Vt=Object.freeze({callAndCheck:$e,canBeRepresented:et,getWebGLErrorMessage:tt,getExtensionOrThrow:nt,createVertexShader:rt,createFragmentShader:it,createProgram:ut,linkProgram:lt,validateProgram:ct,createStaticVertexBuffer:ft,createStaticIndexBuffer:ht,getNumChannels:function(){return 2===h().getNumber("WEBGL_VERSION")?1:4},createTexture:dt,validateTextureSize:pt,createFramebuffer:mt,bindVertexBufferToProgramAttribute:gt,bindTextureUnit:vt,unbindTextureUnit:function(e,t,n){kt(e,n),$e(e,t,(function(){return e.activeTexture(e.TEXTURE0+n)})),$e(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))},getProgramUniformLocationOrThrow:yt,getProgramUniformLocation:bt,bindTextureToProgramUniformSampler:wt,bindCanvasToFramebuffer:function(e,t){$e(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),$e(e,t,(function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)})),$e(e,t,(function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)}))},bindColorTextureToFramebuffer:St,unbindColorTextureFromFramebuffer:xt,validateFramebuffer:_t,getFramebufferErrorMessage:Tt,getBatchDim:Ct,getRowsCols:At,getShapeAs3D:Ot,getTextureShapeFromLogicalShape:It,isReshapeFree:Dt,getWebGLMaxTextureSize:Rt,resetMaxTextureSize:function(){at=null},resetMaxTexturesInShader:function(){ot=null},getMaxTexturesInShader:Pt,getWebGLDisjointQueryTimerVersion:Nt,hasExtension:Lt,isWebGLVersionEnabled:Ft,isCapableOfRenderingToFloatTexture:Bt,isDownloadFloatTextureEnabled:zt,isWebGLFenceEnabled:jt}),Gt=h();function Wt(e){h().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Ht(){return ze.memory()}function qt(e,t){return ze.tidy(e,t)}function Qt(e){Pe(e).forEach((function(e){return e.dispose()}))}function Xt(e){return ze.keep(e)}function Yt(){return ze.backend}function Kt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];h().getBool("IS_TEST")||console.warn.apply(console,e)}function Zt(e,t){var n=e;if(H(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||H(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&h().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,n,r){if(r=r||[],Array.isArray(t)||H(t)){k(n.length>0,(function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+t.length+" elements"})),k(t.length===n[0],(function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+t.length+" elements"}));for(var i=n.slice(1),a=0;a<t.length;++a)e(t[a],i,r.concat(a))}else k(0===n.length,(function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+n[0]+" elements"}))}(e,r,[]),r}function Jt(e,t,n,r){if(null!=e&&("numeric"!==e&&e!==t||"numeric"===e&&"string"===t))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function $t(e,t,n,r){if(void 0===r&&(r="numeric"),e instanceof Se)return Jt(r,e.dtype,t,n),e;var i=Z(e);if("string"!==i&&["bool","int32","float32"].indexOf(r)>=0&&(i=r),Jt(r,i,t,n),null==e||!H(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){var a=null==e?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+a+"'")}var o=Zt(e,i);H(e)||Array.isArray(e)||(e=[e]);var s="string"!==i?te(e,i,h().getBool("DEBUG")):O(e,[],!0);return ze.makeTensor(s,o,i)}function en(e,t,n,r){if(void 0===r&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map((function(e,r){return $t(e,t+"["+r+"]",n)}),r)}function tn(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function nn(e,t,n){for(var r=e.length+t.length,i=[],a=0,o=0,s=0;s<r;s++)-1===n.indexOf(s)?i.push(e[a++]):i.push(t[o++]);return i}function rn(e,t){for(var n=[],r=e.length,i=0;i<r;i++)-1===t.indexOf(i)&&n.push(e[i]);return[n,t.map((function(t){return e[t]}))]}function an(e,t){return nn(e,t.map((function(e){return 1})),t)}function on(e,t,n){k(tn(t,n),(function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."}))}function sn(e,t){if(tn(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function un(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function ln(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function cn(e,t){var n=e[0].length;e.forEach((function(e,t){k(e.length===n,(function(){return"Error in concat"+n+"D: rank of tensors["+t+"] must be the same as the rank of the rest ("+n+")"}))})),k(t>=0&&t<n,(function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."}));var r=e[0];e.forEach((function(e,i){for(var a=0;a<n;a++)k(a===t||e[a]===r[a],(function(){return"Error in concat"+n+"D: Shape of tensors["+i+"] ("+e+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+i+"."}))}))}function fn(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function hn(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];ze.startScope(n);try{var i=r.apply(void 0,e);return i instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),ze.endScope(i),i}catch(e){throw ze.endScope(null),e}};return Object.defineProperty(i,"name",{value:n,configurable:!0}),i}Gt.registerFlag("HAS_WEBGL",(function(){return Gt.getNumber("WEBGL_VERSION")>0})),Gt.registerFlag("WEBGL_VERSION",(function(){return Ft(2)?2:Ft(1)?1:0})),Gt.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===Gt.get("WEBGL_VERSION")})),Gt.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),Gt.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),Gt.registerFlag("WEBGL_PACK",(function(){return Gt.getBool("HAS_WEBGL")})),Gt.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return Gt.getBool("WEBGL_PACK")})),Gt.registerFlag("WEBGL_PACK_CLIP",(function(){return Gt.getBool("WEBGL_PACK")})),Gt.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return!1})),Gt.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return Gt.getBool("WEBGL_PACK")})),Gt.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return Gt.getBool("WEBGL_PACK")})),Gt.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return Gt.getBool("WEBGL_PACK")})),Gt.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return Gt.getBool("WEBGL_PACK")})),Gt.registerFlag("WEBGL_PACK_REDUCE",(function(){return Gt.getBool("WEBGL_PACK")})),Gt.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return Gt.getBool("WEBGL_PACK")})),Gt.registerFlag("WEBGL_CONV_IM2COL",(function(){return Gt.getBool("WEBGL_PACK")})),Gt.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return Rt(Gt.getNumber("WEBGL_VERSION"))})),Gt.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return Pt(Gt.getNumber("WEBGL_VERSION"))})),Gt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=Gt.getNumber("WEBGL_VERSION");return 0===e?0:Nt(e)})),Gt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return Gt.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e})),Gt.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return Bt(Gt.getNumber("WEBGL_VERSION"))})),Gt.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!Gt.getBool("WEBGL_FORCE_F16_TEXTURES")&&Gt.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),Gt.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return zt(Gt.getNumber("WEBGL_VERSION"))})),Gt.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return jt(Gt.getNumber("WEBGL_VERSION"))})),Gt.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return Gt.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),we=Wt;var dn=hn({complex_:function(e,t){var n=$t(e,"real","complex"),r=$t(t,"imag","complex");return C(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),ze.runKernelFunc((function(e){return e.complex(n,r)}),{$real:n,$imag:r})}}),pn=hn({real_:function(e){var t=$t(e,"input","real");return ze.runKernelFunc((function(e){return e.real(t)}),{$input:t})}}),mn=hn({imag_:function(e){var t=$t(e,"input","imag");return ze.runKernelFunc((function(e){return e.imag(t)}),{$input:t})}});function gn(e,t,n){return vn(e,t,Zt(e,n),n)}function vn(e,t,n,r){if(null==r&&(r=Z(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!H(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){oe(t);var i=I(t),a=I(n);k(i===a,(function(){return"Based on the provided shape, ["+t+"], the tensor should have "+i+" values but has "+a}));for(var o=0;o<n.length;++o){var s=n[o],u=o!==n.length-1||s!==I(t.slice(o));k(n[o]===t[o]||!u,(function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "}))}}return H(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?te(e,r,h().getBool("DEBUG")):O(e,[],!0),ze.makeTensor(e,t,r)}function yn(e,t){if((H(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&H(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return vn(e,[],[],t)}function bn(e,t){A(e);var n=Zt(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return vn(e,null,n,t)}function wn(e,t,n){if(A(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=Zt(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return vn(e,t,r,n)}function Sn(e,t,n){if(A(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=Zt(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return vn(e,t,r,n)}function xn(e,t,n){if(A(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=Zt(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return vn(e,t,r,n)}function _n(e,t,n,r){return void 0===t&&(t=!0),ze.makeVariable(e,t,n,r)}function Tn(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=Tn(e,"float32"),r=En(e,"float32");return dn(n,r)}var i=re(I(e),t);return ze.makeTensor(i,e,t)}function En(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=En(e,"float32"),r=En(e,"float32");return dn(n,r)}var i=ie(I(e),t);return ze.makeTensor(i,e,t)}function kn(e,t,n){return ze.runKernelFunc((function(r){return r.fill(e,t,n)}),{})}function Cn(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return ze.runKernelFunc((function(r){return r.linspace(e,t,n)}),{})}function An(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return En([0],r);var i=ie(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),i[0]=e;for(var a=1;a<i.length;a++)i[a]=i[a-1]+n;return bn(i,r)}var On=hn({onesLike_:function(e){var t=$t(e,"x","onesLike");if("complex64"===t.dtype){var n=On(pn(t)),r=In(mn(t));return dn(n,r)}return ze.runKernelFunc((function(e){return e.onesLike(t)}),{x:t},(function(e,t){return{x:function(){return In(e)}}}),"OnesLike")}}),In=hn({zerosLike_:function(e){var t=$t(e,"x","zerosLike");return ze.runKernelFunc((function(e){return e.zerosLike(t)}),{x:t},(function(e,t){return{x:function(){return In(e)}}}),"ZerosLike")}}),Mn=hn({concat_:function(e,t){void 0===t&&(t=0),k(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=en(e,"tensors","concat");"complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+e.dtype+". ")})),t=B(t,n[0].shape)[0];var r=fn(n.map((function(e){return e.shape})),t);if(0===I(r))return gn([],r);if(1===(n=n.filter((function(e){return e.size>0}))).length)return n[0];var i=n.map((function(e){return e.shape}));cn(i,t);var a=n,o={axis:t};return ze.runKernelFunc((function(e){return e.concat(n,t)}),a,(function(e){var n=i.map((function(e){return e[t]}));return Ln(e,n,t).map((function(e){return function(){return e}}))}),"Concat",o)}}),Dn=hn({concat1d_:function(e){return Mn(e,0)}}),Rn=hn({concat2d_:function(e,t){return Mn(e,t)}}),Pn=hn({concat3d_:function(e,t){return Mn(e,t)}}),Nn=hn({concat4d_:function(e,t){return Mn(e,t)}}),Ln=hn({split_:function(e,t,n){void 0===n&&(n=0);var r,i=$t(e,"x","split");return n=B(n,i.shape)[0],"number"==typeof t?(k(i.shape[n]%t==0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(i.shape[n]/t)):(k(i.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t),ze.runKernelFunc((function(e){return e.split(i,r,n)}),{$x:i},(function(e){return{$x:function(){return Mn(e,n)}}}))}});function Fn(e,t,n){return void 0===t&&(t="float32"),t=t||"float32",oe(e),new ve(e,t,n)}var Bn=hn({batchToSpaceND_:function(e,t,n){var r=$t(e,"x","batchToSpaceND"),i=t.reduce((function(e,t){return e*t}));return k(r.rank>=1+t.length,(function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length})),k(n.length===t.length,(function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length})),k(r.shape[0]%i==0,(function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+i})),ze.runKernelFunc((function(e){return e.batchToSpaceND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.spaceToBatchND(t,n)}}}))}}),zn=hn({cast_:function(e,t){var n=$t(e,"x","cast");if(!G(t))throw new Error("Failed to cast to unknown dtype "+t);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={dtype:t};return ze.runKernelFunc((function(e){return e.cast(n,t)}),{x:n},(function(e){return{x:function(){return e.clone()}}}),"Cast",r)}}),Un=hn({cumsum_:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var i=$t(e,"x","cumsum"),a=sn([t|=0],i.rank),o=i;null!=a&&(o=i.transpose(a));var s=ln(1,i.rank)[0],u=ze.runKernelFunc((function(e){return e.cumsum(o,s,n,r)}),{permutedX:o},(function(e){return{permutedX:function(){return e.cumsum(t,n,!r)}}}));return null!=a&&(u=u.transpose(a)),u}}),jn=hn({depthToSpace_:function(e,t,n){void 0===n&&(n="NHWC");var r=$t(e,"x","depthToSpace"),i="NHWC"===n?r.shape[1]:r.shape[2],a="NHWC"===n?r.shape[2]:r.shape[3],o="NHWC"===n?r.shape[3]:r.shape[1];return k(i*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+i+" and "+t+"  for depthToSpace with input shape\n      "+r.shape})),k(a*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n      "+a+" and "+t+" for depthToSpace with input shape\n          "+r.shape})),k(o%(t*t)==0,(function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+o+" for depthToSpace with input shape "+r.shape})),ze.runKernelFunc((function(e){return e.depthToSpace(r,t,n)}),{$x:r})}}),Vn=hn({expandDims_:function(e,t){void 0===t&&(t=0);var n=$t(e,"x","expandDims",null);k(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var r=n.shape.slice();return t<0&&(k(-(n.rank+1)<=t,(function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"})),t=n.rank+t+1),r.splice(t,0,1),Gn(n,r)}}),Gn=hn({reshape_:function(e,t){var n=$t(e,"x","reshape",null);t=F(t,n.size),k(n.size===I(t),(function(){return"new shape and old shape must have the same number of elements."}));var r={shape:t};return ze.runKernelFunc((function(e){return e.reshape(n,t)}),{x:n},(function(e){return{x:function(){return e.reshape(n.shape)}}}),"Reshape",r)}}),Wn=hn({spaceToBatchND_:function(e,t,n){var r=$t(e,"x","spaceToBatchND");return k(r.rank>=1+t.length,(function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length})),k(n.length===t.length,(function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length})),k(r.shape.reduce((function(e,r,i){return i>0&&i<=t.length?e&&(r+n[i-1][0]+n[i-1][1])%t[i-1]==0:e}),!0),(function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()})),ze.runKernelFunc((function(e){return e.spaceToBatchND(r,t,n)}),{$x:r},(function(e){return{$x:function(){return e.batchToSpaceND(t,n)}}}))}}),Hn=hn({squeeze_:function(e,t){var n=$t(e,"x","squeeze");return Gn(n,z(n.shape,t).newShape)}}),qn=hn({stack_:function(e,t){void 0===t&&(t=0);var n=en(e,"tensors","stack");if(k(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),1===n.length)return n[0].expandDims(t);var r=n[0].rank,i=n[0].shape,a=n[0].dtype;k(t<=r,(function(){return"Axis must be <= rank of the tensor"})),n.forEach((function(e){C(i,e.shape,"All tensors passed to stack must have matching shapes")})),n.forEach((function(e){k(a===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var o=n.map((function(e){return e.expandDims(t)}));return Mn(o,t)}}),Qn=hn({unstack_:function(e,t){void 0===t&&(t=0),t=t||0;var n=$t(e,"x","unstack");k(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"})),t<0&&(t+=n.shape.length);var r={axis:t};return ze.runKernelFunc((function(e){return e.unstack(n,t)}),{x:n},(function(e){return{x:function(){return qn(e,t)}}}),"Unpack",r)}}),Xn=function(e,t){return u(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,c,f,h;return l(this,(function(l){switch(l.label){case 0:return n=$t(e,"x","setdiff1d"),r=$t(t,"y","setdiff1d"),k(n.dtype===r.dtype,(function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."})),k(1===n.rank,(function(){return"x should be 1D tensor, but got x ("+n.shape+")."})),k(1===r.rank,(function(){return"y should be 1D tensor, but got y ("+r.shape+")."})),[4,n.data()];case 1:return i=l.sent(),[4,r.data()];case 2:for(a=l.sent(),o=new Set(a),s=0,f=0;f<i.length;f++)o.has(i[f])||s++;for(u=new ve([s],n.dtype),c=new ve([s],"int32"),f=0,h=0;f<i.length;f++)o.has(i[f])||(u.values[h]=i[f],c.values[h]=f,h++);return[2,[u.toTensor(),c.toTensor()]]}}))}))};function Yn(e,t,n,r){void 0===r&&(r=!0);var i=[];if(r)(i=i.concat(t.slice(0))).push(e[0]/n),i=i.concat(e.slice(1));else{i=i.concat(e[0]);for(var a=t.length,o=0;o<a;++o)i=i.concat([e[o+1]/t[o],t[o]]);i=i.concat(e.slice(a+1))}return i}function Kn(e,t,n){void 0===n&&(n=!0);var r=[];if(n){r.push(t);for(var i=t+1;i<e;++i)i<=2*t?(r.push(i),r.push(i-(t+1))):r.push(i)}else{var a=[],o=[];for(i=1;i<e;++i)i>=2*t+1||i%2==1?o.push(i):a.push(i);r.push.apply(r,a),r.push(0),r.push.apply(r,o)}return r}function Zn(e,t,n,r){void 0===r&&(r=!0);var i=[];r?i.push(e[0]/n):i.push(e[0]*n);for(var a=1;a<e.length;++a)a<=t.length?r?i.push(t[a-1]*e[a]):i.push(e[a]/t[a-1]):i.push(e[a]);return i}function Jn(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function $n(e,t,n){for(var r=e.slice(0,1),i=0;i<n;++i)r.push(e[i+1]-t[i][0]-t[i][1]);return r}var er="Div",tr="SquaredDifference",nr="BroadcastTo",rr="OneHot",ir="Identity",ar="Tile",or="PadV2",sr=hn({add_:function(e,t){var n,r=$t(e,"a","add"),i=$t(t,"b","add");n=De(r,i),r=n[0],i=n[1];var a={a:r,b:i};return ze.runKernelFunc((function(e,t){var n=e.add(r,i);return t([r,i]),n}),a,null,"Add")}});function ur(e,t){for(var n=e.length,r=[],i=0;i<n;i++){var a=n-1-i,o=e[a]||1;(t[t.length-1-i]||1)>1&&1===o&&r.unshift(a)}return r}function lr(e,t){for(var n=[],r=0;r<t.length;r++){var i=e[e.length-r-1],a=t.length-r-1,o=t[a];(null==i||1===i&&o>1)&&n.unshift(a)}return n}function cr(e,t){for(var n=[],r=Math.max(e.length,t.length),i=0;i<r;i++){var a=e[e.length-i-1];null==a&&(a=1);var o=t[t.length-i-1];if(null==o&&(o=1),1===a)n.unshift(o);else if(1===o)n.unshift(a);else{if(a!==o)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(a)}}return n}var fr=hn({abs_:function(e){var t=$t(e,"x","abs");return"complex64"===t.dtype?ze.runKernelFunc((function(e){return e.complexAbs(t)}),{$x:t}):ze.runKernelFunc((function(e,n){var r=e.abs(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().step(-1))}}}),"Abs")}}),hr=hn({acos_:function(e){var t=$t(e,"x","acos");return ze.runKernelFunc((function(e,n){var r=e.acos(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(yn(1).sub(n.toFloat().square()).sqrt()).neg()}}}))}}),dr=hn({acosh_:function(e){var t=$t(e,"x","acosh");return ze.runKernelFunc((function(e,n){var r=e.acosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(n.toFloat().square().sub(1).sqrt())}}}))}}),pr=hn({asin_:function(e){var t=$t(e,"x","asin");return ze.runKernelFunc((function(e,n){var r=e.asin(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(yn(1).sub(n.toFloat().square()).sqrt())}}}))}}),mr=hn({asinh_:function(e){var t=$t(e,"x","asinh");return ze.runKernelFunc((function(e,n){var r=e.asinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.divStrict(yn(1).add(n.toFloat().square()).sqrt())}}}))}}),gr=hn({atan_:function(e){var t=$t(e,"x","atan");return ze.runKernelFunc((function(e,n){var r=e.atan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().square().add(1))}}}))}}),vr=hn({atanh_:function(e){var t=$t(e,"x","atanh");return ze.runKernelFunc((function(e,n){var r=e.atanh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(yn(1).sub(n.toFloat().square()))}}}))}}),yr=hn({ceil_:function(e){var t=$t(e,"x","ceil");return ze.runKernelFunc((function(e){return e.ceil(t)}),{$x:t},(function(e){return{$x:function(){return In(e)}}}))}}),br=hn({clipByValue_:function(e,t,n){var r=$t(e,"x","clipByValue");k(t<=n,(function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."}));var i=[r],a={min:t,max:n};return ze.runKernelFunc((function(e,i){var a=e.clip(r,t,n);return i([r]),a}),{x:r},(function(e,r){var i=r[0];return{x:function(){return e.where(i.greaterEqual(t).logicalAnd(i.lessEqual(n)),In(e))}}}),"ClipByValue",a,i)}}),wr=hn({cos_:function(e){var t=$t(e,"x","cos"),n=[t];return ze.runKernelFunc((function(e,n){var r=e.cos(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return n.toFloat().sin().neg().mul(e)}}}),"Cos",{},n)}}),Sr=hn({cosh_:function(e){var t=$t(e,"x","cosh");return ze.runKernelFunc((function(e,n){var r=e.cosh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().sinh().mulStrict(e)}}}))}}),xr=hn({erf_:function(e){var t=$t(e,"x","erf");return k("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=t.toFloat()),ze.runKernelFunc((function(e,n){var r=e.erf(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}}))}}),_r=hn({exp_:function(e){var t=$t(e,"x","exp");return ze.runKernelFunc((function(e,n){var r=e.exp(t);return n([r]),r}),{x:t},(function(e,t){return{x:function(){return e.mulStrict(t[0])}}}),"Exp",{},[],[!0])}}),Tr=hn({expm1_:function(e){var t=$t(e,"x","expm1");return ze.runKernelFunc((function(e,n){var r=e.expm1(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.exp())}}}))}}),Er=hn({floor_:function(e){var t=$t(e,"x","floor");return ze.runKernelFunc((function(e){return e.floor(t)}),{$x:t},(function(e){return{$x:function(){return In(e)}}}))}}),kr=hn({log_:function(e){var t=$t(e,"x","log"),n=[t];return ze.runKernelFunc((function(e,n){var r=e.log(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.div(n.toFloat())}}}),"Log",{},n)}}),Cr=hn({log1p_:function(e){var t=$t(e,"x","log1p");return ze.runKernelFunc((function(e,n){var r=e.log1p(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.add(1))}}}))}}),Ar=hn({logSigmoid_:function(e){var t=$t(e,"x","logSigmoid");return ze.runKernelFunc((function(e,n){var r=e.softplus(t.neg()).neg();return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.neg().sigmoid())}}}))}}),Or=hn({neg_:function(e){var t=$t(e,"x","neg"),n=[t];return ze.runKernelFunc((function(e){return e.neg(t)}),{x:t},(function(e){return{x:function(){return e.neg()}}}),"Neg",{},n)}}),Ir=hn({reciprocal_:function(e){var t=$t(e,"x","reciprocal");return ze.runKernelFunc((function(e,n){var r=e.reciprocal(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.square().neg())}}}))}}),Mr=hn({round_:function(e){var t=$t(e,"x","round");return ze.runKernelFunc((function(e){return e.round(t)}),{$x:t},(function(e){return{$x:function(){return In(e)}}}))}}),Dr=hn({rsqrt_:function(e){var t=$t(e,"x","rsqrt"),n=[t];return ze.runKernelFunc((function(e,n){var r=e.rsqrt(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.div(n.pow(1.5).mul(2)).neg()}}}),"Rsqrt",{},n)}}),Rr=hn({sigmoid_:function(e){var t=$t(e,"x","sigmoid");return ze.runKernelFunc((function(e,n){var r=e.sigmoid(t);return n([r]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mul(n.mul(yn(1).sub(n)))}}}),"Sigmoid")}}),Pr=hn({sign_:function(e){var t=$t(e,"x","sign");return ze.runKernelFunc((function(e){return e.sign(t)}),{$x:t},(function(e){return{$x:function(){return In(e)}}}))}}),Nr=hn({isNaN_:function(e){var t=$t(e,"x","isNaN");return ze.runKernelFunc((function(e){return e.isNaN(t)}),{$x:t},(function(e){return{$x:function(){return In(e)}}}))}}),Lr=hn({isInf_:function(e){var t=$t(e,"x","isInf");return ze.runKernelFunc((function(e){return e.isInf(t)}),{$x:t},(function(e){return{$x:function(){return In(e)}}}))}}),Fr=hn({isFinite_:function(e){var t=$t(e,"x","isFinite");return ze.runKernelFunc((function(e){return e.isFinite(t)}),{$x:t},(function(e){return{$x:function(){return In(e)}}}))}}),Br=hn({sin_:function(e){var t=$t(e,"x","sin"),n=[t];return ze.runKernelFunc((function(e,n){var r=e.sin(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return n.toFloat().cos().mul(e)}}}),"Sin",{},n)}}),zr=hn({sinh_:function(e){var t=$t(e,"x","sinh");return ze.runKernelFunc((function(e,n){var r=e.sinh(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return n.toFloat().cosh().mulStrict(e)}}}))}}),Ur=hn({softplus_:function(e){var t=$t(e,"x","softplus");return ze.runKernelFunc((function(e,n){var r=e.softplus(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.mul(n.sigmoid())}}}))}}),jr=hn({sqrt_:function(e){var t=$t(e,"x","sqrt");return ze.runKernelFunc((function(e,n){var r=e.sqrt(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().sqrt().mul(2))}}}))}}),Vr=hn({step_:function(e,t){void 0===t&&(t=0);var n=$t(e,"x","step");return ze.runKernelFunc((function(e){return e.step(n,t)}),{$x:n},(function(e){return{$x:function(){return In(e)}}}))}}),Gr=hn({tan_:function(e){var t=$t(e,"x","tan");return ze.runKernelFunc((function(e,n){var r=e.tan(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return e.div(n.cos().square())}}}))}}),Wr=hn({tanh_:function(e){var t=$t(e,"x","tanh");return ze.runKernelFunc((function(e,n){var r=e.tanh(t);return n([r]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return yn(1).sub(n.square()).mulStrict(e)}}}),"Tanh",{},null,[!0])}}),Hr=hn({addStrict_:function(e,t){var n=$t(e,"a","addStrict"),r=$t(t,"b","addStrict");return C(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),qr=hn({atan2_:function(e,t){var n,r=$t(e,"a","atan2"),i=$t(t,"b","atan2");n=De(r,i),r=n[0],i=n[1];var a=cr(r.shape,i.shape);return ze.runKernelFunc((function(e,t){var n=e.atan2(r,i);return t([r,i]),n}),{$a:r,$b:i},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=sr(n.square(),r.square()),i=e.mul(r.div(t)),o=lr(n.shape,a);return o.length>0&&(i=i.sum(o)),i.reshape(n.shape)},$b:function(){var t=sr(n.square(),r.square()),i=Or(e.mul(n.div(t))),o=lr(r.shape,a);return o.length>0&&(i=i.sum(o)),i.reshape(r.shape)}}}))}}),Qr=hn({divStrict_:function(e,t){var n=$t(e,"a","div"),r=$t(t,"b","div");return C(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),Xr=hn({floorDiv_:function(e,t){var n,r=$t(e,"a","floorDiv"),i=$t(t,"b","floorDiv");n=De(r,i),r=n[0],i=n[1];var a=cr(r.shape,i.shape);return ze.runKernelFunc((function(e,t){var n=e.floorDiv(r,i);return t([r,i]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),i=lr(n.shape,a);return i.length>0?t.sum(i).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),i=lr(r.shape,a);i.length>0&&(t=t.sum(i).reshape(r.shape));var o=r.square();return t.div(o.toFloat()).neg()}}}),"FloorDiv")}}),Yr=hn({maximum_:function(e,t){var n,r=$t(e,"a","maximum"),i=$t(t,"b","maximum");return n=De(r,i),r=n[0],i=n[1],"bool"===r.dtype&&(r=r.toInt(),i=i.toInt()),cr(r.shape,i.shape),ze.runKernelFunc((function(e,t){var n=e.maximum(r,i);return t([r,i]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.greaterEqual(r).toFloat())},b:function(){return e.mul(n.less(r).toFloat())}}}),"Maximum")}}),Kr=hn({maximumStrict_:function(e,t){var n=$t(e,"a","maximumStrict"),r=$t(t,"b","maximumStrict");return C(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),Zr=hn({minimum_:function(e,t){var n,r=$t(e,"a","minimum"),i=$t(t,"b","minimum");return n=De(r,i),r=n[0],i=n[1],"bool"===r.dtype&&(r=r.toInt(),i=i.toInt()),cr(r.shape,i.shape),ze.runKernelFunc((function(e,t){var n=e.minimum(r,i);return t([r,i]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.lessEqual(r).toFloat())},b:function(){return e.mul(n.greater(r).toFloat())}}}),"Minimum")}}),Jr=hn({minimumStrict_:function(e,t){var n=$t(e,"a","minimumStrict"),r=$t(t,"b","minimumStrict");return C(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),$r=hn({mod_:function(e,t){var n,r=$t(e,"a","mod"),i=$t(t,"b","mod");n=De(r,i),r=n[0],i=n[1];var a=cr(r.shape,i.shape);return ze.runKernelFunc((function(e,t){var n=e.mod(r,i);return t([r,i]),n}),{$a:r,$b:i},(function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=lr(n.shape,a);return t.length>0?e.sum(t).reshape(n.shape):e},$b:function(){var t=e.mul(n.div(r).floor().neg()),i=lr(r.shape,a);return i.length>0?t.sum(i).reshape(r.shape):t}}}))}}),ei=hn({modStrict_:function(e,t){var n=$t(e,"a","modStrict"),r=$t(t,"b","modStrict");return C(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),ti=hn({mul_:function(e,t){var n,r=$t(e,"a","mul"),i=$t(t,"b","mul");n=De(r,i),r=n[0],i=n[1];var a=cr(r.shape,i.shape);return ze.runKernelFunc((function(e,t){var n=e.multiply(r,i);return t([r,i]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.mul(r.toFloat()),i=lr(n.shape,a);return i.length>0?t.sum(i).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),i=lr(r.shape,a);return i.length>0?t.sum(i).reshape(r.shape):t}}}),"Mul")}}),ni=hn({mulStrict_:function(e,t){var n=$t(e,"a","mul"),r=$t(t,"b","mul");return C(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),ri=hn({pow_:function(e,t){var n,r=$t(e,"base","pow"),i=$t(t,"exp","pow");n=De(r,i),r=n[0],i=n[1];var a=cr(r.shape,i.shape),o=[r,i];return ze.runKernelFunc((function(e,t){var n=e.pow(r,i);return t([r,i,n]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1],i=t[2];return{a:function(){var t=r.toFloat(),i=e.mul(t.mul(n.pow(t.sub(yn(1))))),o=lr(n.shape,a);return o.length>0&&(i=i.sum(o)),i.reshape(n.shape)},b:function(){var t=n.greater(0),o=n.log().where(t,In(n)),s=e.mul(i.mul(o)),u=lr(r.shape,a);return u.length>0&&(s=s.sum(u)),s.reshape(r.shape)}}}),"Pow",{},o,[!0])}}),ii=hn({powStrict_:function(e,t){return C(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),ai=hn({squaredDifferenceStrict_:function(e,t){var n=$t(e,"a","squaredDifferenceStrict"),r=$t(t,"b","squaredDifferenceStrict");return C(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),oi=hn({sub_:function(e,t){var n,r=$t(e,"a","sub"),i=$t(t,"b","sub");n=De(r,i),r=n[0],i=n[1];var a=cr(r.shape,i.shape);return ze.runKernelFunc((function(e){return e.subtract(r,i)}),{a:r,b:i},(function(e){return{a:function(){var t=e,n=lr(r.shape,a);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=lr(i.shape,a);return n.length>0&&(t=t.sum(n)),t.neg().reshape(i.shape)}}}),"Sub")}}),si=hn({subStrict_:function(e,t){var n=$t(e,"a","subStrict"),r=$t(t,"b","subStrict");return C(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),ui=hn({div_:function(e,t){var n,r=$t(e,"a","div"),i=$t(t,"b","div");if(n=De(r,i),r=n[0],i=n[1],"int32"===r.dtype&&"int32"===i.dtype)return Xr(r,i);var a={a:r,b:i};return ze.runKernelFunc((function(e,t){var n=e.realDivide(r,i);return t([r,i]),n}),a,null,er,{})}});function li(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(0===e.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],i=1,a=0;a<n.length-1;++a)i*=n[a];var o=e.shape,s=n.slice();s.pop();var u=1;for(a=r;a<e.rank;++a)u*=o[a],s.push(o[a]);var l=ee(e.shape).map((function(e){return e/u})).concat([1]).slice(0,r);return[s,i,u,l]}Object.freeze({prepareAndValidate:li});function ci(e){return e<=30?e:$(e,Math.floor(Math.sqrt(e)))}function fi(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,i=t.rank>1?t.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+i+".";if(n.rank<i)throw new Error(a+" update.rank < "+i+". ");if(e.length<r+(n.rank-i))throw new Error(a+" Output shape length < "+(r+(n.rank-i)));if(n.rank!==i+e.length-r)throw new Error(a+" update.rank != "+(i+e.length-r));for(var o=0;o<i;++o)if(n.shape[o]!==t.shape[o])throw new Error(a+" updates.shape["+o+"] ("+n.shape[o]+") != indices.shape["+o+"] ("+t.shape[o]+").");for(o=0;o<n.rank-i;++o)if(n.shape[o+i]!==e[o+r])throw new Error(a+" updates.shape["+(o+i)+"] ("+n.shape[o+i]+") != shape["+(o+i)+"] ("+e[o+i]+")")}function hi(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(0===e.size)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}fi(n,t,e)}function di(e,t,n){for(var r=t.shape.length,i=r>1?t.shape[r-1]:1,a=n.length,o=1,s=i;s<a;++s)o*=n[s];var u=i<1?1:i;return{sliceRank:i,numUpdates:I(t.shape)/u,sliceSize:o,strides:ee(n.slice(0,i)).concat([1]),outputSize:I(n)}}Object.freeze({validateUpdateShape:fi,validateInput:hi,calculateShapes:di});function pi(e,t,n){k(e.rank===t.length,(function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."})),k(e.rank===n.length,(function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."}));for(var r=function(r){k(t[r]+n[r]<=e.shape[r],(function(){return"Error in slice"+e.rank+"D: begin["+r+"] + size["+r+"] ("+(t[r]+n[r])+") would overflow input.shape["+r+"] ("+e.shape[r]+")"}))},i=0;i<e.rank;++i)r(i)}function mi(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function gi(e,t,n){for(var r=[],i=0;i<e.length;i++)r[i]=Math.ceil((t[i]-e[i])/n[i]);return r}function vi(e,t,n,r,i){var a=t[i],o=n[i]||1;(e&1<<i||null==a)&&(a=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[i];return a<0&&(a+=s),_(0,a,s-1)}function yi(e,t,n,r,i){var a=t[i],o=n[i]||1;(e&1<<i||null==a)&&(a=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[i];return a<0&&(a+=s),o>0?_(0,a,s):_(-1,a,s-1)}function bi(e,t,n){for(var r=n.length,i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(i=r+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function wi(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}Object.freeze({assertParamsValid:pi,maskToAxes:mi,computeOutShape:gi,startForAxis:vi,stopForAxis:yi,isSliceContinous:bi,computeFlatOffset:wi});function Si(e){return ze.customGrad(e)}var xi=hn({softmax_:function(e,t){void 0===t&&(t=-1);var n=$t(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return ze.runKernelFunc((function(e,r){var i=e.softmax(n,t);return r([i]),i}),{logits:n},(function(e,n){var r=n[0],i=e.mul(r);return{logits:function(){return i.sub(i.sum([t],!0).mul(r))}}}),"Softmax",{dim:t},[],[!0])}}),_i=hn({logSoftmax_:function(e,t){void 0===t&&(t=-1);var n=$t(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return Si((function(e,n){var r=e.max(t,!0),i=e.sub(r),a=i.toFloat().sub(i.exp().sum(t,!0).log());return n([a]),{value:a,gradFunc:function(e,n){var r=n[0].exp();return e.sub(e.sum(t,!0).mul(r))}}}))(n)}}),Ti=hn({transpose_:function(e,t){var n=$t(e,"x","transpose");if(null==t&&(t=n.shape.map((function(e,t){return t})).reverse()),k(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."})),t.forEach((function(e){k(e>=0&&e<n.rank,(function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t}))})),n.rank<=1)return n.clone();var r={perm:t};return ze.runKernelFunc((function(e){return e.transpose(n,t)}),{x:n},null,"Transpose",r)}}),Ei=function(){function e(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},e.prototype.set=function(e,t){this.dataIdsCount++,this.data.set(e,t)},e.prototype.has=function(e){return this.data.has(e)},e.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),ki=function(){function e(){}return e.prototype.time=function(e){return Ci("time")},e.prototype.read=function(e){return Ci("read")},e.prototype.readSync=function(e){return Ci("readSync")},e.prototype.numDataIds=function(){return Ci("numDataIds")},e.prototype.disposeData=function(e){return Ci("disposeData")},e.prototype.write=function(e,t,n){return Ci("write")},e.prototype.move=function(e,t,n,r){return Ci("move")},e.prototype.memory=function(){return Ci("memory")},e.prototype.floatPrecision=function(){return Ci("floatPrecision")},e.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},e.prototype.batchMatMul=function(e,t,n,r){return Ci("batchMatMul")},e.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,Ci("fusedBatchMatMul")},e.prototype.slice=function(e,t,n){return Ci("slice")},e.prototype.stridedSlice=function(e,t,n,r){return Ci("stridedSlice")},e.prototype.unstack=function(e,t){return Ci("unstack")},e.prototype.reverse=function(e,t){return Ci("reverse")},e.prototype.concat=function(e,t){return Ci("concat")},e.prototype.neg=function(e){return Ci("neg")},e.prototype.add=function(e,t){return Ci("add")},e.prototype.addN=function(e){return Ci("addN")},e.prototype.subtract=function(e,t){return Ci("subtract")},e.prototype.multiply=function(e,t){return Ci("multiply")},e.prototype.realDivide=function(e,t){return Ci("realDivide")},e.prototype.floorDiv=function(e,t){return Ci("floorDiv")},e.prototype.sum=function(e,t){return Ci("sum")},e.prototype.prod=function(e,t){return Ci("prod")},e.prototype.unsortedSegmentSum=function(e,t,n){return Ci("unsortedSegmentSum")},e.prototype.argMin=function(e,t){return Ci("argMin")},e.prototype.argMax=function(e,t){return Ci("argMax")},e.prototype.equal=function(e,t){return Ci("equal")},e.prototype.notEqual=function(e,t){return Ci("notEqual")},e.prototype.less=function(e,t){return Ci("less")},e.prototype.lessEqual=function(e,t){return Ci("lessEqual")},e.prototype.greater=function(e,t){return Ci("greater")},e.prototype.greaterEqual=function(e,t){return Ci("greaterEqual")},e.prototype.logicalNot=function(e){return Ci("logicalNot")},e.prototype.logicalAnd=function(e,t){return Ci("logicalAnd")},e.prototype.logicalOr=function(e,t){return Ci("logicalOr")},e.prototype.where=function(e){return Ci("where")},e.prototype.select=function(e,t,n){return Ci("select")},e.prototype.topk=function(e,t,n){return Ci("topk")},e.prototype.min=function(e,t){return Ci("min")},e.prototype.minimum=function(e,t){return Ci("minimum")},e.prototype.mod=function(e,t){return Ci("mod")},e.prototype.max=function(e,t){return Ci("max")},e.prototype.maximum=function(e,t){return Ci("maximum")},e.prototype.all=function(e,t){return Ci("all")},e.prototype.any=function(e,t){return Ci("any")},e.prototype.squaredDifference=function(e,t){return Ci("squaredDifference")},e.prototype.ceil=function(e){return Ci("ceil")},e.prototype.floor=function(e){return Ci("floor")},e.prototype.round=function(e){return Ci("round")},e.prototype.sign=function(e){return Ci("sign")},e.prototype.isNaN=function(e){return Ci("isNaN")},e.prototype.isInf=function(e){return Ci("isInf")},e.prototype.isFinite=function(e){return Ci("isFinite")},e.prototype.pow=function(e,t){return Ci("pow")},e.prototype.exp=function(e){return Ci("exp")},e.prototype.expm1=function(e){return Ci("expm1")},e.prototype.softmax=function(e,t){return Ci("softmax")},e.prototype.log=function(e){return Ci("log")},e.prototype.log1p=function(e){return Ci("log1p")},e.prototype.sqrt=function(e){return Ci("sqrt")},e.prototype.rsqrt=function(e){return Ci("rsqrt")},e.prototype.square=function(e){return Ci("square")},e.prototype.reciprocal=function(e){return Ci("reciprocal")},e.prototype.relu=function(e){return Ci("relu")},e.prototype.relu6=function(e){return Ci("relu6")},e.prototype.prelu=function(e,t){return Ci("prelu")},e.prototype.elu=function(e){return Ci("elu")},e.prototype.eluDer=function(e,t){return Ci("eluDer")},e.prototype.selu=function(e){return Ci("selu")},e.prototype.int=function(e){return Ci("int")},e.prototype.clip=function(e,t,n){return Ci("clip")},e.prototype.abs=function(e){return Ci("abs")},e.prototype.complexAbs=function(e){return Ci("complexAbs")},e.prototype.sigmoid=function(e){return Ci("sigmoid")},e.prototype.softplus=function(e){return Ci("softplus")},e.prototype.sin=function(e){return Ci("sin")},e.prototype.cos=function(e){return Ci("cos")},e.prototype.tan=function(e){return Ci("tan")},e.prototype.asin=function(e){return Ci("asin")},e.prototype.acos=function(e){return Ci("acos")},e.prototype.atan=function(e){return Ci("atan")},e.prototype.atan2=function(e,t){return Ci("atan2")},e.prototype.sinh=function(e){return Ci("sinh")},e.prototype.cosh=function(e){return Ci("cosh")},e.prototype.tanh=function(e){return Ci("tanh")},e.prototype.asinh=function(e){return Ci("asinh")},e.prototype.acosh=function(e){return Ci("acosh")},e.prototype.atanh=function(e){return Ci("atanh")},e.prototype.erf=function(e){return Ci("erf")},e.prototype.step=function(e,t){return Ci("step")},e.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,Ci("fusedConv2d")},e.prototype.conv2d=function(e,t,n){return Ci("conv2d")},e.prototype.conv2dDerInput=function(e,t,n){return Ci("conv2dDerInput")},e.prototype.conv2dDerFilter=function(e,t,n){return Ci("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,Ci("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(e,t,n){return Ci("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(e,t,n){return Ci("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){return Ci("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(e,t,n){return Ci("conv3d")},e.prototype.conv3dDerInput=function(e,t,n){return Ci("conv3dDerInput")},e.prototype.conv3dDerFilter=function(e,t,n){return Ci("conv3dDerFilter")},e.prototype.maxPool=function(e,t){return Ci("maxPool")},e.prototype.maxPoolBackprop=function(e,t,n,r){return Ci("maxPoolBackprop")},e.prototype.avgPool=function(e,t){return Ci("avgPool")},e.prototype.avgPoolBackprop=function(e,t,n){return Ci("avgPoolBackprop")},e.prototype.avgPool3d=function(e,t){return Ci("avgPool3d")},e.prototype.avgPool3dBackprop=function(e,t,n){return Ci("avgPool3dBackprop")},e.prototype.maxPool3d=function(e,t){return Ci("maxPool3d")},e.prototype.maxPool3dBackprop=function(e,t,n,r){return Ci("maxPool3dBackprop")},e.prototype.reshape=function(e,t){return Ci("reshape")},e.prototype.cast=function(e,t){return Ci("cast")},e.prototype.tile=function(e,t){return Ci("tile")},e.prototype.pad=function(e,t,n){return Ci("pad")},e.prototype.transpose=function(e,t){return Ci("transpose")},e.prototype.gather=function(e,t,n){return Ci("gather")},e.prototype.gatherND=function(e,t){return Ci("gatherND")},e.prototype.scatterND=function(e,t,n){return Ci("scatterND")},e.prototype.batchToSpaceND=function(e,t,n){return Ci("batchToSpaceND")},e.prototype.spaceToBatchND=function(e,t,n){return Ci("spaceToBatchND")},e.prototype.resizeBilinear=function(e,t,n,r){return Ci("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(e,t,n){return Ci("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(e,t,n,r){return Ci("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){return Ci("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(e,t,n,r,i,a){return Ci("batchNormalization")},e.prototype.localResponseNormalization4D=function(e,t,n,r,i){return Ci("localResponseNormalization4D")},e.prototype.LRNGrad=function(e,t,n,r,i,a,o){return Ci("LRNGrad")},e.prototype.multinomial=function(e,t,n,r){return Ci("multinomial")},e.prototype.oneHot=function(e,t,n,r){return Ci("oneHot")},e.prototype.cumsum=function(e,t,n,r){return Ci("cumsum")},e.prototype.nonMaxSuppression=function(e,t,n,r,i){return Ci("nonMaxSuppression")},e.prototype.fft=function(e){return Ci("fft")},e.prototype.ifft=function(e){return Ci("ifft")},e.prototype.complex=function(e,t){return Ci("complex")},e.prototype.real=function(e){return Ci("real")},e.prototype.imag=function(e){return Ci("imag")},e.prototype.cropAndResize=function(e,t,n,r,i,a){return Ci("cropAndResize")},e.prototype.depthToSpace=function(e,t,n){return Ci("depthToSpace")},e.prototype.split=function(e,t,n){return Ci("split")},e.prototype.sparseToDense=function(e,t,n,r){return Ci("sparseToDense")},e.prototype.diag=function(e){return Ci("diag")},e.prototype.fill=function(e,t,n){return Ci("fill")},e.prototype.onesLike=function(e){return Ci("onesLike")},e.prototype.zerosLike=function(e){return Ci("zerosLike")},e.prototype.linspace=function(e,t,n){return Ci("linspace")},e.prototype.dispose=function(){return Ci("dispose")},e}();function Ci(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function Ai(e,t,n,r,i,a,o){void 0===o&&(o="channelsLast");var s,u=Ri(t),l=u[0],c=u[1];if("channelsLast"===o)s=[l,c,e[3],e[3]];else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat "+o);s=[l,c,e[1],e[1]]}return Ii(e,s,n,r,i,a,!1,o)}function Oi(e,t,n,r,i,a,o){void 0===o&&(o="NDHWC");var s,u,l=Pi(t),c=l[0],f=l[1],h=l[2];if("NDHWC"===o)u="channelsLast",s=[c,f,h,e[4],e[4]];else{if("NCDHW"!==o)throw new Error("Unknown dataFormat "+o);u="channelsFirst",s=[c,f,h,e[1],e[1]]}return Mi(e,s,n,r,i,!1,u,a)}function Ii(e,t,n,r,i,a,o,s){void 0===o&&(o=!1),void 0===s&&(s="channelsLast");var u=[-1,-1,-1,-1],l=u[0],c=u[1],f=u[2],h=u[3];if("channelsLast"===s)l=e[0],c=e[1],f=e[2],h=e[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);l=e[0],h=e[1],c=e[2],f=e[3]}var d,p=t[0],m=t[1],g=t[3],v=Ri(n),y=v[0],b=v[1],w=Ri(r),S=w[0],x=w[1],_=Ni(p,S),T=Ni(m,x),E=function(e,t,n,r,i,a,o,s){var u,l,c;if("number"==typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var f=function(e,t,n,r,i){null==r&&(r=Di(e,t,n));var a=e[1],o=Li((e[0]-t+2*r)/n+1,i);k(D(o),(function(){return"The output # of rows ("+o+") must be an integer. Change the stride and/or zero pad parameters"}));var s=Li((a-t+2*r)/n+1,i);return k(D(s),(function(){return"The output # of columns ("+s+") must be an integer. Change the stride and/or zero pad parameters"})),[o,s]}([t,n],a,r,e,s);l=f[0],c=f[1]}else if("same"===e){l=Math.ceil(t/r),c=Math.ceil(n/i);var h=Math.max(0,(l-1)*r+a-t),d=Math.max(0,(c-1)*i+o-n),p=Math.floor(h/2),m=h-p,g=Math.floor(d/2);u={top:p,bottom:m,left:g,right:d-g,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);u={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((t-a+1)/r),c=Math.ceil((n-o+1)/i)}return{padInfo:u,outHeight:l,outWidth:c}}(i,c,f,y,b,_,T,a),C=E.padInfo,A=E.outHeight,O=E.outWidth,I=o?g*h:g;return"channelsFirst"===s?d=[l,I,A,O]:"channelsLast"===s&&(d=[l,A,O,I]),{batchSize:l,dataFormat:s,inHeight:c,inWidth:f,inChannels:h,outHeight:A,outWidth:O,outChannels:I,padInfo:C,strideHeight:y,strideWidth:b,filterHeight:p,filterWidth:m,effectiveFilterHeight:_,effectiveFilterWidth:T,dilationHeight:S,dilationWidth:x,inShape:e,outShape:d,filterShape:t}}function Mi(e,t,n,r,i,a,o,s){void 0===a&&(a=!1),void 0===o&&(o="channelsLast");var u=[-1,-1,-1,-1,-1],l=u[0],c=u[1],f=u[2],h=u[3],d=u[4];if("channelsLast"===o)l=e[0],c=e[1],f=e[2],h=e[3],d=e[4];else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat "+o);l=e[0],d=e[1],c=e[2],f=e[3],h=e[4]}var p,m=t[0],g=t[1],v=t[2],y=t[4],b=Pi(n),w=b[0],S=b[1],x=b[2],_=Pi(r),T=_[0],E=_[1],C=_[2],A=Ni(m,T),O=Ni(g,E),I=Ni(v,C),M=function(e,t,n,r,i,a,o,s,u,l,c){var f,h,d,p;if("number"==typeof e){f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var m=function(e,t,n,r,i,a){null==i&&(i=Di(e,t,r));var o=e[1],s=e[2],u=Li((e[0]-t+2*i)/r+1,a);k(D(u),(function(){return"The output # of depths ("+u+") must be an integer. Change the stride and/or zero pad parameters"}));var l=Li((o-t+2*i)/r+1,a);k(D(l),(function(){return"The output # of rows ("+l+") must be an integer. Change the stride and/or zero pad parameters"}));var c=Li((s-t+2*i)/r+1,a);return k(D(c),(function(){return"The output # of columns ("+c+") must be an integer. Change the stride and/or zero pad parameters"})),[u,l,c,1]}([t,n,r,1],s,0,i,e,c);h=m[0],d=m[1],p=m[2]}else if("same"===e){var g=((h=Math.ceil(t/i))-1)*i+s-t,v=((d=Math.ceil(n/a))-1)*a+u-n,y=((p=Math.ceil(r/o))-1)*o+l-r,b=Math.floor(g/2),w=g-b,S=Math.floor(v/2),x=v-S,_=Math.floor(y/2);f={top:S,bottom:x,left:_,right:y-_,front:b,back:w,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);f={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},h=Math.ceil((t-s+1)/i),d=Math.ceil((n-u+1)/a),p=Math.ceil((r-l+1)/o)}return{padInfo:f,outDepth:h,outHeight:d,outWidth:p}}(i,c,f,h,w,S,x,A,O,I,s),R=M.padInfo,P=M.outDepth,N=M.outHeight,L=M.outWidth,F=a?y*d:y;return"channelsFirst"===o?p=[l,F,P,N,L]:"channelsLast"===o&&(p=[l,P,N,L,F]),{batchSize:l,dataFormat:o,inDepth:c,inHeight:f,inWidth:h,inChannels:d,outDepth:P,outHeight:N,outWidth:L,outChannels:F,padInfo:R,strideDepth:w,strideHeight:S,strideWidth:x,filterDepth:m,filterHeight:g,filterWidth:v,effectiveFilterDepth:A,effectiveFilterHeight:O,effectiveFilterWidth:I,dilationDepth:T,dilationHeight:E,dilationWidth:C,inShape:e,outShape:p,filterShape:t}}function Di(e,t,n,r){void 0===r&&(r=1);var i=Ni(t,r);return Math.floor((e[0]*(n-1)-n+i)/2)}function Ri(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function Pi(e){return"number"==typeof e?[e,e,e]:e}function Ni(e,t){return t<=1?e:e+(e-1)*(t-1)}function Li(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function Fi(e){var t=Ri(e),n=t[0],r=t[1],i=t[2];return 1===n&&1===r&&1===i}function Bi(e,t){return Fi(e)||Fi(t)}function zi(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function Ui(e,t,n){if("complex64"===t){if("complex64"===e.dtype)return e.clone();var r=En(e.shape),i=e.toFloat(),a=n.complex(i,r);return r.dispose(),i.dispose(),a}if(!W(e.dtype,t))return ze.makeTensorFromDataId(e.dataId,e.shape,t);if("complex64"===e.dtype){var o=n.real(e);return a=o.cast(t),o.dispose(),a}if("int32"===t)return n.int(e);if("bool"===t){var s=yn(0,e.dtype);return a=n.notEqual(e,s),s.dispose(),a}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function ji(e,t){return ze.makeTensorFromDataId(e.dataId,t,e.dtype)}function Vi(e,t,n){var r=(t-e)/(n-1),i=ie(n,"float32");i[0]=e;for(var a=1;a<i.length;a++)i[a]=i[a-1]+r;return bn(i,"float32")}Object.freeze({castTensor:Ui,reshapeTensor:ji,linspaceImpl:Vi,upcastType:Ie,axesAreInnerMostDims:tn,combineLocations:nn,computeOutAndReduceShapes:rn,expandShapeToKeepDim:an,assertAxesAreInnerMostDims:on,getAxesPermutation:sn,getUndoAxesPermutation:un,getInnerMostAxes:ln,getBroadcastDims:ur,getReductionAxes:lr,assertAndGetBroadcastShape:cr,assertParamsConsistent:cn,computeOutShape:fn,computePool2DInfo:Ai,computePool3DInfo:Oi,computeConv2DInfo:Ii,computeConv3DInfo:Mi,computeDefaultPad:Di,tupleValuesAreOne:Fi,eitherStridesOrDilationsAreOne:Bi,convertConv2DDataFormat:zi,PARALLELIZE_THRESHOLD:30,computeOptimalWindowSize:ci});function Gi(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Wi(e,t){return{real:e[2*t],imag:e[2*t+1]}}function Hi(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function qi(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function Qi(e,t,n){var r=function(e,t,n){return function(e,t,n){for(var r=0,i=e.length,a=0,o=!1;r<i;){var s=n(t,e[a=r+(i-r>>>1)]);s>0?r=a+1:(i=a,o=!s)}return o?r:-r-1}(e,t,n||Xi)}(e,t,n),i=r<0?-(r+1):r;e.splice(i,0,t)}function Xi(e,t){return e>t?1:e<t?-1:0}function Yi(e,t,n,r,i){return Zi(e,t,n,r,i,0).selectedIndices}function Ki(e,t,n,r,i,a){var o=Zi(e,t,n,r,i,a,!0);return o.numValidOutputs.dispose(),{selectedIndices:o.selectedIndices,selectedScores:o.selectedScores}}function Zi(e,t,n,r,i,a,o,s){void 0===o&&(o=!1),void 0===s&&(s=!1);for(var u=Array.from(t).map((function(e,t){return{score:e,boxIndex:t,suppressBeginIndex:0}})).filter((function(e){return e.score>i})).sort(ea),l=a>0?-.5/a:0,c=[],f=[];c.length<n&&u.length>0;){var h=u.pop(),d=h.score,p=h.boxIndex,m=h.suppressBeginIndex;if(d<i)break;for(var g=!1,v=c.length-1;v>=m;--v){var y=Ji(e,p,c[v]);if(y>=r){g=!0;break}if(h.score=h.score*$i(r,l,y),h.score<=i)break}h.suppressBeginIndex=c.length,g||(h.score===d?(c.push(p),f.push(h.score)):h.score>i&&Qi(u,h,ea))}var b=c.length;return s&&(c.fill(0,b),f.fill(0,b)),{selectedIndices:bn(c,"int32"),selectedScores:bn(f,"float32"),numValidOutputs:yn(b,"int32")}}function Ji(e,t,n){var r=e.subarray(4*t,4*t+4),i=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),l=Math.min(i[0],i[2]),c=Math.min(i[1],i[3]),f=Math.max(i[0],i[2]),h=Math.max(i[1],i[3]),d=(s-a)*(u-o),p=(f-l)*(h-c);if(d<=0||p<=0)return 0;var m=Math.max(a,l),g=Math.max(o,c),v=Math.min(s,f),y=Math.min(u,h),b=Math.max(v-m,0)*Math.max(y-g,0);return b/(d+p-b)}function $i(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function ea(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function ta(e,t,n){var r=new Array(e.rank).fill(0),i=e.shape.slice();return t.map((function(t){i[n]=t;var a=e.slice(r,i);return r[n]+=t,a}))}function na(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var i=Fn(n,e.dtype);for(r=0;r<i.values.length;++r){for(var a=i.indexToLoc(r),o=new Array(e.rank),s=0;s<o.length;s++)o[s]=a[s]%e.shape[s];var u=e.locToIndex(o);i.values[r]=e.values[u]}return i.toTensor()}function ra(e,t,n,r,i){for(var a=t[t.length-1],o=[e.length/a,a],s=o[0],u=o[1],l=U(n,s*r),c=U("int32",s*r),f=0;f<s;f++){for(var h=f*u,d=e.subarray(h,h+u),p=[],m=0;m<d.length;m++)p.push({value:d[m],index:m});p.sort((function(e,t){return t.value-e.value}));var g=f*r,v=l.subarray(g,g+r),y=c.subarray(g,g+r);for(m=0;m<r;m++)v[m]=p[m].value,y[m]=p[m].index}var b=t.slice();return b[b.length-1]=r,[gn(l,b,n),gn(c,b,"int32")]}function ia(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var i=Fn(e,"int32"),a=Fn([n.length,e.length],"int32");for(r=0;r<n.length;r++){var o=i.indexToLoc(n[r]),s=r*e.length;a.values.set(o,s)}return a.toTensor()}var aa=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("float v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},oa=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((function(e,t){return"T"+t}));var n=[];this.variableNames.forEach((function(e){n.push("vec4 v"+e+" = get"+e+"AtOutCoords();")}));var r=this.variableNames.map((function(e){return"v"+e})).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},sa=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,i=e.batchSize,a=e.inSize,o=Math.ceil(a/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];var s="max"===t?">":"<",u=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+u+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function ua(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return e+"."+t}))}function la(e,t){return 1===t?[e]:ua(e,t)}function ca(){var e,t,n,r,i,a,o,s,u,l;return 2===h().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",i="texture",a="outputColor",o="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",u="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",i="texture2D",a="gl_FragColor",o="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",u="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:i,output:a,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:u,defineRound:l}}function fa(e,t,n){void 0===n&&(n="index");var r=ee(t);return r.map((function(t,i){return"int "+e[i]+" = "+n+" / "+t+"; "+(i===r.length-1?"int "+e[i+1]+" = "+n+" - "+e[i]+" * "+t:"index -= "+e[i]+" * "+t)+";"})).join("")}function ha(e){var t=ee(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+t[0]+" + coords.y * "+t[1]+" + coords.z;\n  }\n"}var da="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function pa(e,t,n,r){var i=[];e.forEach((function(e){var t=I(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?i.push("uniform float "+e.name+(t>1?"["+t+"]":"")+";"):(i.push("uniform sampler2D "+e.name+";"),i.push("uniform int offset"+e.name+";"))}));var a,o,s=i.join("\n"),u=e.map((function(e){return function(e,t,n){void 0===n&&(n=!1);var r="";r+=n?ga(e):ma(e);var i=e.shapeInfo.logicalShape,a=t.logicalShape;return i.length<=a.length&&(r+=n?function(e,t){var n,r=e.name,i=r.charAt(0).toUpperCase()+r.slice(1),a="get"+i+"AtOutCoords",o=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,u=ur(e.shapeInfo.logicalShape,t.logicalShape),l=_a(s),c=s-o,f=["x","y","z","w","u","v"];n=0===o?"":s<2&&u.length>=1?"coords = 0;":u.map((function(e){return"coords."+f[e+c]+" = 0;"})).join("\n");var h;h=s<2&&o>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+f[t+c]})).join(", ");var d="return outputValue;",p=1===I(e.shapeInfo.logicalShape),m=1===I(t.logicalShape);if(1!==o||p||m){if(p&&!m)d=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){var g=o-2,v=o-1;u.indexOf(g)>-1&&u.indexOf(v)>-1?d="return vec4(outputValue.x);":u.indexOf(g)>-1?d="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(v)>-1&&(d="return vec4(outputValue.xx, outputValue.zz);")}}else d="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+a+"() {\n      "+l+" coords = getOutputCoords();\n      "+n+"\n      vec4 outputValue = get"+i+"("+h+");\n      "+d+"\n    }\n  "}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),i="get"+r+"AtOutCoords",a=t.texShape,o=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,u=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===u&&null==e.shapeInfo.flatOffset&&M(o,a))return"\n      float "+i+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ";var l=_a(u),c=ur(e.shapeInfo.logicalShape,t.logicalShape),f=u-s,h=["x","y","z","w","u","v"];return"\n    float "+i+"() {\n      "+l+" coords = getOutputCoords();\n      "+(0===s?"":u<2&&c.length>=1?"coords = 0;":c.map((function(e){return"coords."+h[e+f]+" = 0;"})).join("\n"))+"\n      return get"+r+"("+(u<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords."+h[t+f]})).join(", "))+");\n    }\n  "}(e,t)),r}(e,t,r)})).join("\n"),l=t.texShape,c=ca(),f=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+e.texture2D+"(textureSampler, uv).r;\n    }\n  "}(c),h=function(e){return e.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+e.varyingFs+" vec2 resultUV;\n    "+e.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+e.defineSpecialNaN+"\n    "+e.defineSpecialInf+"\n    "+e.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+va+"\n    "+ya+"\n    "+ba+"\n  "}(c);return t.isPacked?(a=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===n[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===n[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return 2 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n    }\n  "}(0,t);case 2:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(M(e,t))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(e[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=e,r=t,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],o=(a=Math.ceil(n[2]/2))*Math.ceil(n[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+i[0]+", "+i[1]+"));\n      int index = resTexRC.x * "+i[1]+" + resTexRC.y;\n\n      int b = index / "+o+";\n      index -= b * "+o+";\n\n      int r = 2 * (index / "+a+");\n      int c = imod(index, "+a+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(e,t){for(var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),i=r*Math.ceil(e[e.length-2]/2),a=i,o="",s="b, r, c",u=2;u<e.length-1;u++)o="\n      int b"+u+" = index / "+(a*=e[e.length-u-1])+";\n      index -= b"+u+" * "+a+";\n    "+o,s="b"+u+", "+s;return"\n    ivec"+e.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      "+o+"\n\n      int b = index / "+i+";\n      index -= b * "+i+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec"+e.length+"("+s+");\n    }\n  "}(e,t)}var n,r,i,a,o}(t.logicalShape,l),o=function(e){return"\n    void setOutput(vec4 val) {\n      "+e.output+" = val;\n    }\n  "}(c)):(a=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}(0,t);case 2:return function(e,t){return M(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=t,r=fa(["r","c","d"],e),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(e,t){var n=fa(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(e,t);case 5:return function(e,t){var n=fa(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+t[0]+",\n                             "+t[1]+"));\n\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(e,t);case 6:return function(e,t){var n=fa(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}var n,r}(t.logicalShape,l),o=function(e){return"\n    void setOutput(float val) {\n      "+e.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(c)),r&&(h+=wa),[h,f,o,s,a,u,n].join("\n")}function ma(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"float "+n+"() {return "+t+";}";var r=e.shapeInfo.texShape,i=r[0],a=r[1];if(1===i&&1===a)return"\n      float "+n+"() {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var o=e.shapeInfo.texShape;return"\n    float "+n+"() {\n      vec2 uv = uvFromFlat("+o[0]+", "+o[1]+", "+Sa(t)+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"\n      float "+n+"(int index) {\n        "+xa(e)+"\n      }\n    ";var r=e.shapeInfo.texShape,i=r[0],a=r[1];if(1===a&&1===i)return"\n      float "+n+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var o=Sa(t);return 1===a?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+o+") + 0.5) / "+i+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===i?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index + "+o+") + 0.5) / "+a+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = uvFromFlat("+i+", "+a+", index + "+o+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape;if(null!=i&&M(t,i)){var a=i[0];return"\n    float "+r+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+i[1]+".0, "+a+".0);\n      return sampleTexture("+n+", uv);\n    }\n  "}var o=z(t),s=o.newShape,u=o.keptDims,l=s;if(l.length<t.length)return"\n      "+ma(Ta(e,l))+"\n      float "+r+"(int row, int col) {\n        return "+r+"("+Ea(["row","col"],u)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+t[1]+", 1)));\n        "+xa(e)+"\n      }\n    ";var c=i[0],f=i[1],h=Sa(n);return 1===f?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+h+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+c+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":1===c?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+h+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+f+".0, 0.5);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n  float "+r+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+t[1]+" + col + "+h+";\n    vec2 uv = uvFromFlat("+c+", "+f+", index);\n    return sampleTexture("+n+", uv);\n  }\n"}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[1]*t[2],a=t[2],o=z(t),s=o.newShape,u=o.keptDims,l=s;if(l.length<t.length)return"\n        "+ma(Ta(e,l))+"\n        float "+r+"(int row, int col, int depth) {\n          return "+r+"("+Ea(["row","col","depth"],u)+");\n        }\n      ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+i+", "+a+", 1)));\n        "+xa(e)+"\n      }\n    ";var c=e.shapeInfo.texShape,f=c[0],h=c[1],d=e.shapeInfo.flatOffset;return h===i&&null==d?"\n        float "+r+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+a+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+h+".0, "+f+".0);\n          return sampleTexture("+n+", uv);\n        }\n      ":h===a&&null==d?"\n    float "+r+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+t[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+h+".0, "+f+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n      float "+r+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+i+" + col * "+a+" + depth + "+Sa(n)+";\n        vec2 uv = uvFromFlat("+f+", "+h+", index);\n        return sampleTexture("+n+", uv);\n      }\n  "}(e);case 4:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[3],a=t[2]*i,o=t[1]*a,s=z(t),u=s.newShape,l=s.keptDims;if(u.length<t.length)return"\n      "+ma(Ta(e,u))+"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        return "+r+"("+Ea(["row","col","depth","depth2"],l)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+o+", "+a+", "+i+", 1)));\n        "+xa(e)+"\n      }\n    ";var c=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,h=f[0],d=f[1];return d===o&&null==c?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+a+", "+i+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+d+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":d===i&&null==c?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+t[1]*t[2]+", "+t[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+d+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+o+" + col * "+a+" +\n          depth * "+i+" + depth2;\n      vec2 uv = uvFromFlat("+h+", "+d+", index + "+Sa(n)+");\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=t[4],a=t[3]*i,o=t[2]*a,s=t[1]*o,u=z(t),l=u.newShape,c=u.keptDims;if(l.length<t.length)return"\n      "+ma(Ta(e,l))+"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+r+"("+Ea(["row","col","depth","depth2","depth3"],c)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+s+", "+o+", "+a+", "+i+")) +\n          depth3;\n        "+xa(e)+"\n      }\n    ";var f=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,d=h[0],p=h[1];return p===s&&null==f?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+o+", "+a+", "+i+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+p+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":p===i&&null==f?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]+",\n               "+t[2]*t[3]+", "+t[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+p+".0, "+d+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+s+" + col * "+o+" + depth * "+a+" +\n          depth2 * "+i+" + depth3 + "+Sa(n)+";\n      vec2 uv = uvFromFlat("+d+", "+p+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=z(t),a=i.newShape,o=i.keptDims;if(a.length<t.length)return"\n      "+ma(Ta(e,a))+"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+r+"("+Ea(["row","col","depth","depth2","depth3","depth4"],o)+");\n      }\n    ";var s=t[5],u=t[4]*s,l=t[3]*u,c=t[2]*l,f=t[1]*c;if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+f+", "+c+", "+l+", "+u+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+s+", 1)));\n        "+xa(e)+"\n      }\n    ";var h=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],m=d[1];return m===f&&null==h?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+c+", "+l+", "+u+", "+s+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+m+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":m===s&&null==h?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]*t[4]+",\n               "+t[2]*t[3]*t[4]+",\n               "+t[3]*t[4]+",\n               "+t[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+m+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+f+" + col * "+c+" + depth * "+l+" +\n          depth2 * "+u+" + depth3 * "+s+" + depth4 + "+Sa(n)+";\n      vec2 uv = uvFromFlat("+p+", "+m+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function ga(e){var t;switch(e.shapeInfo.logicalShape.length){case 0:return"\n    vec4 "+("get"+(t=e.name).charAt(0).toUpperCase()+t.slice(1))+"() {\n      return "+ca().texture2D+"("+t+", halfCR);\n    }\n  ";case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=e.shapeInfo.texShape,i=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=ca();return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+i[0]+", "+i[1]+", index);\n      return "+a.texture2D+"("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,a=i[0],o=i[1],s=ca();if(null!=i&&M(t,i))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+o+".0, "+a+".0);\n\n        return "+s.texture2D+"("+n+", uv);\n      }\n    ";var u=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(t[1]/2)+", "+u[0]+", "+u[1]+", row, col);\n      return "+s.texture2D+"("+n+", uv);\n    }\n  "}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===t[0])return"\n        "+ga(Ta(e,t.slice(1)))+"\n        vec4 "+r+"(int b, int row, int col) {\n          return "+r+"("+Ea(["b","row","col"],[1,2])+");\n        }\n      ";var o=a[0],s=a[1],u=Math.ceil(t[2]/2);return"\n    vec4 "+r+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+o+", "+s+", "+u*Math.ceil(t[1]/2)+", "+u+", b, row, col);\n      return "+ca().texture2D+"("+n+", uv);\n    }\n  "}(e);default:return function(e){for(var t=e.shapeInfo.logicalShape,n=t.length,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],s=o[0],u=o[1],l=Math.ceil(t[n-1]/2),c=l*Math.ceil(t[n-2]/2),f="int b, int row, int col",h="b * "+c+" + (row / 2) * "+l+" + (col / 2)",d=2;d<n-1;d++)f="int b"+d+", "+f,h="b"+d+" * "+(c*=t[n-d-1])+" + "+h;return"\n    vec4 "+i+"("+f+") {\n      int index = "+h+";\n      int texR = index / "+u+";\n      int texC = index - texR * "+u+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+u+", "+s+");\n      return "+ca().texture2D+"("+r+", uv);\n    }\n  "}(e)}}var va="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",ya="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",ba="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",wa="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function Sa(e){return"offset"+e}function xa(e){var t=e.name,n=I(e.shapeInfo.logicalShape);return n<2?"return "+t+";":"\n    for (int i = 0; i < "+n+"; i++) {\n      if (i == index) {\n        return "+t+"[i];\n      }\n    }\n  "}function _a(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function Ta(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Ea(e,t){return t.map((function(t){return e[t]})).join(", ")}var ka=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,k(e.length>2,(function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."}));var i=e[e.length-1],a=Math.ceil(i/t);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),r||this.variableNames.push("bestIndicesA");var o,s,u=this.outputShape,l=u.length,c=_a(l),f=la("coords",l);if(1===a){var h=_a(s=l+1);o="\n        "+h+" sourceLocR = "+h+"("+f.join()+", 0);\n        ++"+f[l-1]+";\n        "+h+" sourceLocG = "+h+"("+f.join()+", 0);\n        ++"+f[l-2]+";\n        "+h+" sourceLocA = "+h+"("+f.join()+", 0);\n        --"+f[l-1]+";\n        "+h+" sourceLocB = "+h+"("+f.join()+", 0);\n        --"+f[l-2]+";"}else s=l,o="\n        "+c+" sourceLocR = coords;\n        ++"+f[l-1]+";\n        "+c+" sourceLocG = coords;\n        ++"+f[l-2]+";\n        "+c+" sourceLocA = coords;\n        --"+f[l-1]+";\n        "+c+" sourceLocB = coords;\n        --"+f[l-2]+";";var d=["x","y","z","w","u","v"].slice(0,s),p="."+d[s-1],m=d.map((function(e){return"int "+e})),g=la("sourceLocR",s-1).concat("inIdx.r"),v=la("sourceLocG",s-1).concat("inIdx.g"),y=la("sourceLocB",s-1).concat("inIdx.b"),b=la("sourceLocA",s-1).concat("inIdx.a"),w="max"===n?"greaterThan":"lessThan",S=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+v.join()+"),\n                             getBestIndicesAChannel("+y.join()+"),\n                             getBestIndicesAChannel("+b.join()+")));",x="vec4(\n            getAChannel("+g.join()+"),\n            hasNextCol ? getAChannel("+v.join()+") : 0.,\n            hasNextRow ? getAChannel("+y.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+b.join()+") : 0.)",_=r?"":"\n      float getBestIndicesAChannel("+m.join()+") {\n        return getChannel(getBestIndicesA("+d.join()+"),\n                                          vec2("+d.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+m.join()+") {\n        return getChannel(getA("+d.join()+"),\n                               vec2("+d.slice(-2).join()+"));\n      }\n      "+_+"\n      void main() {\n        "+c+" coords = getOutputCoords();\n        bool hasNextCol = "+f[l-1]+" < "+(u[l-1]-1)+";\n        bool hasNextRow = "+f[l-2]+" < "+(u[l-2]-1)+";\n        "+o+"\n        ivec4 srcIdx = ivec4(sourceLocR"+p+", sourceLocG"+p+",\n          sourceLocB"+p+", sourceLocA"+p+") * "+t+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+x+";\n\n        for (int i = 0; i < "+t+"; i++) {\n          inIdx = srcIdx;\n          "+S+"\n          vec4 candidate = "+x+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+w+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},Ca=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,l=s-1-e.padInfo.top,c=u-1-e.padInfo.left,f=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2("+l+", "+c+");\n      const float avgMultiplier = float("+f+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+a+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+u+";\n            wC+= "+o+") {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Aa=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,f=e.effectiveFilterHeight,h=e.effectiveFilterWidth,d=c-1-e.padInfo.front,p=f-1-e.padInfo.top,m=h-1-e.padInfo.left,g=1/(t*n*r);this.userCode="\n      const ivec3 pads = ivec3("+d+", "+p+", "+m+");\n      const float avgMultiplier = float("+g+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+c+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+i+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+f+";\n              wR += "+u+") {\n            float dyR = float(dyRCorner + wR) / "+a+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+h+";\n                wC += "+l+") {\n              float dyC = float(dyCCorner + wC) / "+o+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Oa=function(e,t,n,r,i,a){this.outputShape=[],this.variableNames=["x","mean","variance"],cr(e,t),cr(e,n);var o="0.0";null!=r&&(cr(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="1.0";null!=i&&(cr(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+o+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+a+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},Ia=function(e,t,n,r,i,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],cr(e,t),cr(e,n);var o="vec4(0.0)";null!=r&&(cr(e,r),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=i&&(cr(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = "+o+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+a+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},Ma=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=cr(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+e+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},Da="return a + b;",Ra="return a - b;",Pa="return a * b;",Na="return (a < 0.) ? b * a : a;",La=function(e,t,n){this.variableNames=["A","B"],this.outputShape=cr(t,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},Fa="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",Ba=function(e,t,n,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=cr(t,n);var i=this.outputShape.length,a="";if(r)if(0===i||1===I(this.outputShape))a="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(a="\n          "+_a(i)+" coords = getOutputCoords();\n        ",1===i)a+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var o=la("coords",i);a+="\n            bool nextRowOutOfBounds =\n              ("+o[i-2]+" + 1) >= "+this.outputShape[i-2]+";\n            bool nextColOutOfBounds =\n              ("+o[i-1]+" + 1) >= "+this.outputShape[i-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+a+"\n\n        setOutput(result);\n      }\n    "},za=function(){function e(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,i){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(i,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),Ua=function(){function e(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,i){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(i,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),ja=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},Va=function(e){this.outputShape=[],this.outputShape=fn(e,1),this.variableNames=e.map((function(e,t){return"T"+t}));var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var i=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+i+"));")}var a=t.length,o=t[t.length-1];r.push("else setOutput(getT"+a+"(yR, yC-"+o+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},Ga=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=fn(e,t);var n=this.outputShape,r=n.length,i=_a(r),a=la("coords",r),o=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((function(e,t){return"T"+t}));var s=new Array(e.length-1);s[0]=e[0][t];for(var u=1;u<s.length;u++)s[u]=s[u-1]+e[u][t];var l=o[t],c=o.slice(-2),f=o.join(),h="if ("+l+" < "+s[0]+") {\n        return getChannel(\n            getT0("+f+"), vec2("+c.join()+"));\n        }";for(u=1;u<s.length;u++){var d=s[u-1];h+="\n        if ("+l+" < "+s[u]+"  && "+l+" >= "+s[u-1]+") {\n          return getChannel(\n            getT"+u+"("+Wa(o,l,d)+"),\n            vec2("+Wa(c,l,d)+"));\n        }"}var p=s.length,m=s[s.length-1];h+="\n        return getChannel(\n          getT"+p+"("+Wa(o,l,m)+"),\n          vec2("+Wa(c,l,m)+"));",this.userCode="\n      float getValue("+o.map((function(e){return"int "+e}))+") {\n        "+h+"\n      }\n\n      void main() {\n        "+i+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+a+"), 0., 0., 0.);\n\n        "+a[r-1]+" = "+a[r-1]+" + 1;\n        if ("+a[r-1]+" < "+n[r-1]+") {\n          result.g = getValue("+a+");\n        }\n\n        "+a[r-2]+" = "+a[r-2]+" + 1;\n        if ("+a[r-2]+" < "+n[r-2]+") {\n          result.a = getValue("+a+");\n        }\n\n        "+a[r-1]+" = "+a[r-1]+" - 1;\n        if ("+a[r-2]+" < "+n[r-2]+" &&\n            "+a[r-1]+" < "+n[r-1]+") {\n          result.b = getValue("+a+");\n        }\n        setOutput(result);\n      }\n    "};function Wa(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?e+" - "+n:e})).join()}var Ha=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,i=e.padInfo.left,a="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+i+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              if ("+a+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},qa=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a="channelsLast"===e.dataFormat,o=t-1-e.padInfo.top,s=n-1-e.padInfo.left,u=a?1:2,l=a?2:3,c=a?3:1;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+c+"];\n\n        ivec2 dyCorner = ivec2(coords["+u+"], coords["+l+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n\n              if ("+a+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Qa=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,i=e.padInfo.front,a=e.padInfo.top,o=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yF = 0; yF < "+e.outDepth+"; yF++) {\n            int xF = wF + yF * "+t+" - "+i+";\n\n            if (xF < 0 || xF >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n              int xR = wR + yR * "+n+" - "+a+";\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+o+";\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Xa=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=t-1-e.padInfo.front,u=n-1-e.padInfo.top,l=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+u+", "+l+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+t+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+i+".0;\n\n          if (dyF < 0.0 || dyF >= "+e.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+t+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+a+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+o+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ya=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,i=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+a+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+i+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Ka=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,i=e.strideWidth,a=t-1-e.padInfo.top,o=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+o+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+i+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Za=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var i=e.padInfo.top,a=e.padInfo.left,o=e.strideHeight,s=e.strideWidth,u=e.dilationHeight,l=e.dilationWidth,c=e.filterHeight,f=e.filterWidth,h=4*Math.floor(e.inChannels/4),d=e.inChannels%4,p="channelsLast"===e.dataFormat,m=p?1:2,g=p?2:3,v=p?3:1,y="",b="";n&&(y=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",b="result = activation(result);");var w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+y+"\n\n      const ivec2 strides = ivec2("+o+", "+s+");\n      const ivec2 pads = ivec2("+i+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+v+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+m+"], coords["+g+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+c+"; wR++) {\n          int xR = xRCorner + wR * "+u+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+f+"; wC++) {\n            int xC = xCCorner + wC * "+l+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+h+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+p+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===d)+") {\n\n              if ("+p+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+h+") *\n                    getW(wR, wC, "+h+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+h+", xR, xC) *\n                    getW(wR, wC, "+h+", d2);\n              }\n\n            } else if ("+(2===d)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+h+", d2),\n                getW(wR, wC, "+h+" + 1, d2)\n              );\n\n              if ("+p+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+h+"),\n                  getX(batch, xR, xC, "+h+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+h+", xR, xC),\n                  getX(batch, "+h+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===d)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+h+", d2),\n                getW(wR, wC, "+h+" + 1, d2),\n                getW(wR, wC, "+h+" + 2, d2)\n              );\n\n              if ("+p+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+h+"),\n                  getX(batch, xR, xC, "+h+" + 1),\n                  getX(batch, xR, xC, "+h+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+h+", xR, xC),\n                  getX(batch, "+h+" + 1, xR, xC),\n                  getX(batch, "+h+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+w+"\n        "+b+"\n        setOutput(result);\n      }\n    "},Ja=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.filterDepth,f=e.filterHeight,h=e.filterWidth,d=4*Math.floor(e.inChannels/4),p=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+i+", "+a+", "+o+");\n      const ivec3 pads = ivec3("+t+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+c+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+f+"; wR++) {\n            int xR = xRCorner + wR * "+u+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+h+"; wC++) {\n              int xC = xCCorner + wC * "+l+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+d+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===p)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+d+") *\n                  getW(wF, wR, wC, "+d+", d2);\n              } else if ("+(2===p)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+d+"),\n                  getX(batch, xF, xR, xC, "+d+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+d+", d2),\n                  getW(wF, wR, wC, "+d+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===p)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+d+"),\n                  getX(batch, xF, xR, xC, "+d+" + 1),\n                  getX(batch, xF, xR, xC, "+d+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+d+", d2),\n                  getW(wF, wR, wC, "+d+" + 1, d2),\n                  getW(wF, wR, wC, "+d+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},$a=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var i=e.inHeight,a=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,f=e.dilationWidth,h=e.filterHeight,d=e.filterWidth,p=e.outChannels/e.inChannels,m="",g="";n&&(m=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",g="result = activation(result);");var v=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+m+"\n\n      const ivec2 strides = ivec2("+u+", "+l+");\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+p+";\n        int q = d2 - d1 * "+p+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+h+"; wR++) {\n          int xR = xRCorner + wR * "+c+";\n\n          if (xR < 0 || xR >= "+i+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+d+"; wC++) {\n            int xC = xCCorner + wC * "+f+";\n\n            if (xC < 0 || xC >= "+a+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+v+"\n        "+g+"\n        setOutput(result);\n      }\n    "},eo=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var i=e.inHeight,a=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,f=e.dilationWidth,h=e.filterHeight,d=e.filterWidth,p=d,m="int xR; int xC; int xCOffset;",g=0;g<h;g++)for(var v=0;v<d;v++)m+="\n          vec4 xTexelR"+g+"C"+2*v+" = vec4(0.);\n          vec4 wR"+g+"C"+v+" = vec4(0.);\n          vec4 xR"+g+"C"+v+" = vec4(0.);";for(g=0;g<h;g++)for(var y=0;y<p;y++){if(m+="\n          xR = xRCorner + "+g*c+";\n          xC = xCCorner + "+(v=2*y)*f+";\n        ",1===l){if(v<d&&(m+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+g+"C"+v+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+a+") {\n                    xTexelR"+g+"C"+v+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+g+"C"+v+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+i+" && xCOffset >= 0 && xCOffset < "+a+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+a+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+g+"C"+v+" = vec4(previous.zw, xTexelR"+g+"C"+v+".xy);\n                } else {\n                  xR"+g+"C"+v+" = vec4(0, 0, xTexelR"+g+"C"+v+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+i+" && xC >= 0 && xC < "+a+") {\n                  xTexelR"+g+"C"+v+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+g+"C"+v+" = vec4(0.);\n                }\n\n                xR"+g+"C"+v+" = xTexelR"+g+"C"+v+";\n              ",v+1<d)){var b=s%2==0?T(f):f;f%2==0&&s%2==1||f%2!=0&&s%2!=1?(m+="\n                  xCOffset = xC + "+s%2+" + "+b+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+a+") {\n                    xTexelR"+g+"C"+(v+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",f>1&&(m+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+i+" &&\n                      xCOffset >= 0 && xCOffset < "+a+") {\n                      xTexelR"+g+"C"+v+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+g+"C"+v+" = vec4(0.);\n                    }\n                  "),m+="\n                  xR"+g+"C"+(v+1)+" = vec4(\n                    xTexelR"+g+"C"+v+".zw, xTexelR"+g+"C"+(v+2)+".xy);\n                "):m+="\n                  xCOffset = xC + "+b+";\n\n                  if(xR >= 0 && xR < "+i+" &&\n                    xCOffset >= 0 && xCOffset < "+a+") {\n                    xTexelR"+g+"C"+(v+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+g+"C"+(v+1)+" = xTexelR"+g+"C"+(v+2)+";\n                "}}else v<d&&(m+="\n              if(xR >= 0 && xR < "+i+") {\n            ",s%2==1?(m+="\n                xCOffset = xC + 1 - "+l+";\n                if(xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+g+"C"+v+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+g+"C"+v+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+a+") {\n                  xTexelR"+g+"C"+(v+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+g+"C"+(v+2)+" = vec4(0.);\n                }\n\n                xR"+g+"C"+v+" = vec4(\n                  xTexelR"+g+"C"+v+".zw, xTexelR"+g+"C"+(v+2)+".zw);\n              ",v+1<d&&(m+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+l+";\n                  if(xCOffset >= 0 && xCOffset < "+a+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+g+"C"+(v+1)+" = vec4(xTexelR"+g+"C"+(v+2)+".xy, final.xy);\n                ")):(m+="\n                if(xC >= 0 && xC < "+a+") {\n                  xTexelR"+g+"C"+v+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+g+"C"+v+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+l+";\n                if(xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+g+"C"+(v+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+g+"C"+(v+2)+" = vec4(0.);\n                }\n\n                xR"+g+"C"+v+" = vec4(\n                  xTexelR"+g+"C"+v+".xy, xTexelR"+g+"C"+(v+2)+".xy);\n              ",v+1<d&&(m+="\n                  xR"+g+"C"+(v+1)+" = vec4(\n                    xTexelR"+g+"C"+v+".zw, xTexelR"+g+"C"+(v+2)+".zw);\n                ")),m+="}");v<d&&(m+="\n            vec4 wTexelR"+g+"C"+v+" = getW("+g+", "+v+", d1, q);\n            wR"+g+"C"+v+" = vec4(wTexelR"+g+"C"+v+".xz, wTexelR"+g+"C"+v+".xz);\n          ",v+1<d&&(m+="\n              vec4 wTexelR"+g+"C"+(v+1)+" = getW("+g+", "+(v+1)+", d1, q);\n              wR"+g+"C"+(v+1)+" =\n                vec4(wTexelR"+g+"C"+(v+1)+".xz, wTexelR"+g+"C"+(v+1)+".xz);"))}for(g=0;g<h;g++)for(v=0;v<d;v++)m+="dotProd += xR"+g+"C"+v+" * wR"+g+"C"+v+";";var w="",S="";n&&(w=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"vec4 activation(vec4 x) {\n          "+n+"\n        }",S="result = activation(result);");var x=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+w+"\n\n      const ivec2 strides = ivec2("+u+", "+l+");\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+m+"\n\n        vec4 result = dotProd;\n        "+x+"\n        "+S+"\n        setOutput(result);\n      }\n    "},to=function(e,t,n,r,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var a=e[0],o=e[1],s=e[2],u=e[3],l=t[0],c=n[0],f=n[1];this.outputShape=[l,c,f,u];var h="bilinear"===r?1:0,d=[o-1+".0",s-1+".0"],p=d[0],m=d[1],g=c>1?[""+(o-1)/(c-1),"(y2-y1) * height_ratio","y1*"+p+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+p],v=g[0],y=g[1],b=g[2],w=f>1?[""+(s-1)/(f-1),"(x2-x1) * width_ratio","x1*"+m+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+m],S=w[0],x=w[1],_=w[2];this.userCode="\n      const float height_ratio = float("+v+");\n      const float width_ratio = float("+S+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+a+") {\n          return;\n        }\n\n        float height_scale = "+y+";\n        float width_scale = "+x+";\n\n        float in_y = "+b+";\n        if( in_y < 0.0 || in_y > "+p+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n        float in_x = "+_+";\n        if( in_x < 0.0 || in_x > "+m+" ) {\n          setOutput(float("+i+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+h+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},no=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,i=e[e.length-1],a=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+i+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+_a(r)+" coords = getOutputCoords();\n        int end = "+ro(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+i+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+a+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+ro(r,"coords")+" = idx;\n          val += getX("+function(e,t){if(1===e)return""+t;if(2===e)return t+".x, "+t+".y";if(3===e)return t+".x, "+t+".y, "+t+".z";if(4===e)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function ro(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var io=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Ve.DENSE;var t=Ke(e),n=ca();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+fa(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+n.output+" = result;\n      }\n    "},ao=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Ve.DENSE;var t=Ke(e),n=ca();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+fa(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+n.output+" = result;\n      }\n    "},oo=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return e.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),so=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},uo=function(e){this.variableNames=["A"],this.outTexUsage=Ge.DOWNLOAD;var t=ca();this.outputShape=e,this.userCode="\n      "+da+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+t.output+" = encode_float(x);\n      }\n    "},lo=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Ge.DOWNLOAD;var t=ca();this.outputShape=e,this.userCode="\n      "+da+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+t.output+" = encode_float(x);\n      }\n    "},co=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"];var r=ca(),i=t[0],a=t[1];this.outputShape=e;var o="result";n&&(o="floor(result * 255. + 0.5)"),this.userCode="\n      "+ha(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+a+";\n        int c = imod(flatIndex, "+a+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+a+".0, "+i+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+o+", 0., 0., 0.);\n      }\n    "},fo=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=ca(),i=t[0],a=t[1];this.outputShape=e;var o="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var l=0;l<=1;l++){var c=2*u+l;o+="\n          localCoords = coords;\n          if(localCoords[2] + "+l+" < "+e[2]+") {\n            localCoords[2] += "+l+";\n            if(localCoords[1] + "+u+" < "+e[1]+") {\n              localCoords[1] += "+u+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+a+";\n              c = imod(flatIndex, "+a+");\n              uv = (vec2(c, r) + halfCR) / vec2("+a+".0, "+i+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+c+"] = values[0];\n              } else if(offset == 1) {\n                result["+c+"] = values[1];\n              } else if(offset == 2) {\n                result["+c+"] = values[2];\n              } else {\n                result["+c+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+ha(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+o+"\n\n        "+r.output+" = "+s+";\n      }\n    "},ho=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var i=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,a=n?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+i+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+e+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+a+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},po=function(){function e(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.valueLoc&&(t.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(t.valueLoc,e)}},e}(),mo=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var i=_a(this.rank),a=function(e,t){var n=e.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],a=0;a<e.length;a++)a===t?i.push("int(getIndices("+r[a]+"))"):i.push(""+r[a]);return i.join()}(e,n);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "},go=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=_a(t.length),i=_a(n.length),a=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+i+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+a+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function vo(e,t){var n=ca();return rt(e,t,n.version+"\n    precision highp float;\n    "+n.attribute+" vec3 clipSpacePos;\n    "+n.attribute+" vec2 uv;\n    "+n.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function yo(e,t){return ft(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function bo(e,t){return ht(e,t,new Uint16Array([0,1,2,2,1,3]))}function wo(e,t,n,r,i,a,o){pt(n,r);var s=dt(e,t),u=e.TEXTURE_2D;return $e(e,t,(function(){return e.bindTexture(u,s)})),$e(e,t,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),$e(e,t,(function(){return e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),$e(e,t,(function(){return e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)})),$e(e,t,(function(){return e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)})),$e(e,t,(function(){return e.texImage2D(u,0,i,n,r,0,a,o,null)})),$e(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),s}function So(e,t,n,r,i){var a=Ye(n,r);return wo(e,t,a[0],a[1],i.internalFormatFloat,i.textureFormatFloat,e.FLOAT)}function xo(e,t,n,r,i){var a=Ye(n,r);return wo(e,t,a[0],a[1],i.internalFormatHalfFloat,i.textureFormatFloat,i.textureTypeHalfFloat)}function _o(e,t,n,r,i){var a=Ye(n,r);return wo(e,t,a[0],a[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function To(e,t,n,r,i){var a=Ze(n,r);return wo(e,t,a[0],a[1],i.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function Eo(e,t,n,r,i){var a=Ze(n,r);return wo(e,t,a[0],a[1],i.internalFormatPackedHalfFloat,e.RGBA,i.textureTypeHalfFloat)}function ko(e,t,n,r){return $e(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),gt(e,t,n,"clipSpacePos",r,3,20,0)&&gt(e,t,n,"uv",r,2,20,12)}function Co(e,t,n,r,i,a,o){var s,u,l;$e(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),a instanceof Uint8Array?(s=new Uint8Array(r*i*4),u=e.UNSIGNED_BYTE,l=e.RGBA):(s=new Float32Array(r*i*4),u=e.FLOAT,l=o.internalFormatPackedFloat),s.set(a),$e(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,l,r,i,0,e.RGBA,u,s)})),$e(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Ao(e,t,n,r){$e(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,n)})),r.data instanceof Uint8Array?$e(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)})):$e(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)})),$e(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Oo(e,t,n,r,i){var a=e.createBuffer();$e(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)}));var o=16*n*r;return $e(e,t,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ)})),$e(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)})),$e(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),a}function Io(e,t,n){var r=e,i=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}function Mo(e,t,n,r,i){var a=Ye(n,r),o=a[0],s=a[1],u=new Uint8Array(n*r*4);return $e(e,t,(function(){return e.readPixels(0,0,o,s,i.downloadTextureFormat,e.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}function Do(e,t,n,r,i,a,o,s){var u=e,l=new Float32Array(function(e,t){var n=Ze(e,t);return n[0]*n[1]*4}(a,o));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,l),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),l}function Ro(e,t,n,r){var i=new Float32Array(n*r*4);return $e(e,t,(function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,i)})),i}var Po=Object.freeze({createVertexShader:vo,createVertexBuffer:yo,createIndexBuffer:bo,createFloat32MatrixTexture:So,createFloat16MatrixTexture:xo,createUnsignedBytesMatrixTexture:_o,createPackedMatrixTexture:To,createFloat16PackedMatrixTexture:Eo,bindVertexProgramAttributeStreams:ko,uploadDenseMatrixToTexture:Co,uploadPixelDataToTexture:Ao,createBufferFromOutputTexture:Oo,downloadFloat32MatrixFromBuffer:Io,downloadByteEncodedFloatMatrixFromOutputTexture:Mo,downloadPackedMatrixFromBuffer:Do,downloadMatrixFromPackedOutputTexture:Ro}),No=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=h().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,Qe(t,e)):this.gl=Xe(t);var n="WEBGL_color_buffer_float";if(1===h().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=nt(this.gl,this.debug,"OES_texture_float"),Lt(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=nt(this.gl,this.debug,"OES_texture_half_float");else if(h().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),Lt(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=nt(this.gl,this.debug,"EXT_color_buffer_half_float");else if(h().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",Lt(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!Lt(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=yo(this.gl,this.debug),this.indexBuffer=bo(this.gl,this.debug),this.framebuffer=mt(this.gl,this.debug),this.textureConfig=Je(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return h().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;$e(t,this.debug,(function(){return t.finish()})),$e(t,this.debug,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),$e(t,this.debug,(function(){return t.deleteFramebuffer(e.framebuffer)})),$e(t,this.debug,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),$e(t,this.debug,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),$e(t,this.debug,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),So(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),xo(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),_o(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),Ao(this.gl,this.debug,e,t)},e.prototype.uploadDenseMatrixToTexture=function(e,t,n,r){this.throwIfDisposed(),Co(this.gl,this.debug,e,t,n,r,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),Eo(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),To(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(xt(this.gl,this.debug,this.framebuffer),this.outputTexture=null),$e(this.gl,this.debug,(function(){return t.gl.deleteTexture(e)}))},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return Mo(r.gl,r.debug,t,n,r.textureConfig)}))},e.prototype.downloadPackedMatrixFromBuffer=function(e,t,n,r,i,a){return Do(this.gl,e,0,0,0,i,a,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(e,t){return Io(this.gl,e,t)},e.prototype.createBufferFromTexture=function(e,t,n){this.bindTextureToFrameBuffer(e);var r=Oo(this.gl,this.debug,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},e.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},e.prototype.createFence=function(e){var t,n,r=this;if(h().getBool("WEBGL_FENCE_API_ENABLED")){var i=e,a=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=i.clientWaitSync(a,0,0);return e===i.ALREADY_SIGNALED||e===i.CONDITION_SATISFIED},t=a}else h().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,h().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return Ro(r.gl,r.debug,t,n)}))},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=it(t,this.debug,e),r=vo(t,this.debug),i=ut(t,this.debug);return $e(t,this.debug,(function(){return t.attachShader(i,r)})),$e(t,this.debug,(function(){return t.attachShader(i,n)})),lt(t,this.debug,i),this.debug&&ct(t,this.debug,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=ko(t,this.debug,this.program,this.vertexBuffer)),i},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&$e(this.gl,this.debug,(function(){return t.gl.deleteProgram(e)}))},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&ct(this.gl,this.debug,this.program),$e(this.gl,this.debug,(function(){return t.gl.useProgram(e)}))},e.prototype.getUniformLocation=function(e,t,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?yt(this.gl,this.debug,e,t):bt(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),$e(this.gl,this.debug,(function(){return n.gl.getAttribLocation(e,t)}))},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),wt(this.gl,this.debug,this.program,e,t,n)},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=Ze(t,n),i=r[0],a=r[1];this.setOutputMatrixTextureDriver(e,i,a)},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&ct(this.gl,this.debug,this.program),_t(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),$e(e,this.debug,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),$e(this.gl,this.debug,(function(){return e.gl.finish()}))},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=nt(this.gl,this.debug,2===h().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(2===h().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),i=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,i),i},e.prototype.endQuery=function(){if(2!==h().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(e){return u(this,void 0,void 0,(function(){var t=this;return l(this,(function(n){switch(n.label){case 0:return[4,L((function(){return t.disposed||t.isQueryAvailable(e,h().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}))];case 1:return n.sent(),[2,this.getQueryTime(e,h().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}}))}))},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),i=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint}return i=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint},e.prototype.pollFence=function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))},e.prototype.pollItems=function(){for(var e=function(e){for(var t=0;t<e.length&&e[t]();++t);return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},e.prototype.addItemToPoll=function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||L((function(){return n.pollItems(),0===n.itemsToPoll.length}))},e.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),St(this.gl,this.debug,e,this.framebuffer),this.debug&&_t(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(St(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&_t(this.gl)):xt(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;St(r,this.debug,e,this.framebuffer),this.debug&&_t(r),this.outputTexture=e,$e(r,this.debug,(function(){return r.viewport(0,0,t,n)})),$e(r,this.debug,(function(){return r.scissor(0,0,t,n)}))},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var i=this;this.throwIfDisposed(),$e(this.gl,this.debug,(function(){return i.gl.scissor(e,t,n,r)}))},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();function Lo(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach((function(e,n){var r=e.logicalShape,i=t[n],a=i.shape;if(!M(r,a))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+a+" must match");if(!e.isUniform||!i.isUniform){var o=e.texShape,s=i.isUniform?null:i.texData.texShape;if(!M(o,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+o+" and "+s+" must match")}}))}var Fo=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,i=n.inChannels,a=n.strideWidth,o=n.strideHeight,s=n.padInfo,u=n.outWidth,l=n.dilationWidth,c=n.dilationHeight,f=n.dataFormat,h=s.left,d=s.top,p=i*r,m=ca(),g="channelsLast"===f,v=g?0:1,y=g?1:2,b="",w=0;w<=1;w++)for(var S=0;S<=1;S++)b+="\n          blockIndex = rc.y + "+S+";\n          pos = rc.x + "+w+";\n\n          if(blockIndex < "+e[1]+" && pos < "+e[0]+") {\n            offsetY = int(blockIndex / ("+u+")) * "+o+" - "+d+";\n            d0 = offsetY + "+c+" * (pos / "+p+");\n\n            if(d0 < "+t[v]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+u+".) * "+a+". - "+h+".);\n              d1 = offsetX + "+l+" * (int(mod(float(pos), "+p+".) / "+i+".));\n\n              if(d1 < "+t[y]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+i+".));\n\n                if ("+g+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*w+S)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*w+S)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+b+"\n\n        "+m.output+" = result;\n      }\n    "},Bo=function(e,t,n,r,i){this.variableNames=["x"],this.outputShape=[];var a,o=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";a=.5===i?"inversesqrt("+u+")":1===i?"1.0/("+u+")":"exp(log("+u+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+o+"; j <= "+o+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+a+";\n        setOutput(val);\n      }\n    "},zo=function(e,t,n,r,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+t+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+t+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+i+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+i+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},Uo=function(e,t,n,r,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var a,o=t,s=e[3]-1;this.outputShape=e;var u="float("+n+") + float("+r+") * sum";a=.5===i?"inversesqrt("+u+")":1===i?"1.0/("+u+")":"exp(log("+u+") * float(-"+i+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+o+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+o+"; j <= "+o+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+a+";\n        setOutput(result);\n      }\n    "},jo=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,i=e.effectiveFilterHeight,a=e.effectiveFilterWidth,o=i-1-e.padInfo.top,s=a-1-e.padInfo.left,u=i*a-1;this.userCode="\n      const ivec2 pads = ivec2("+o+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+i+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+t+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+a+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+n+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+u+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+a+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Vo=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,i=e.dilationDepth,a=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterDepth,u=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=s-1-e.padInfo.front,f=u-1-e.padInfo.top,h=l-1-e.padInfo.left,d=s*u*l-1;this.userCode="\n      const ivec3 pads = ivec3("+c+", "+f+", "+h+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+i+") {\n          float dyD = float(dyDCorner + wD) / "+t+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+u+";\n              wR += "+a+") {\n            float dyR = float(dyRCorner + wR) / "+n+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+l+";\n                wC += "+o+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+d+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+u+" * "+l+" +\n                  wR * "+l+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},Go=function(e,t,n,r,i,a,o){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===a&&(a=null),void 0===o&&(o=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],u=Math.ceil(s/2),l=n?"i * 2, rc.y":"rc.y, i * 2",c=r?"rc.z, i * 2":"i * 2, rc.z",f=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],h=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],d="",p="";a&&(d=o?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+a+"\n        }":"vec4 activation(vec4 x) {\n          "+a+"\n        }",p="result = activation(result);");var m=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+d+"\n\n      const float sharedDimension = "+u+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+u+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+l+");\n          vec4 b = getMatrixB(rc.x, "+c+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+f[0]+" * "+h[0]+");\n          result += ("+f[1]+" * "+h[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+m+"\n\n        "+p+"\n\n        setOutput(result);\n      }\n    "},Wo=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}(),Ho=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},qo=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(0===t)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=la("rc",t),r=_a(t),i=function(e,t,n){if(1===e)return"rc > "+t[0];for(var r="",i=e-2;i<e;i++)r+=n[i]+" >= "+t[i],i<e-1&&(r+="||");return r}(t,e,n),a=function(e,t,n,r){if(1===e)return"";var i=r.slice(-2);return"\n    int r = "+i[0]+";\n    int c = "+i[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+t+";\n    bool rEdge = rp1 >= "+n+";\n  "}(t,e[e.length-1],e[e.length-2],n),o=function(e,t){var n=e.length,r=function(e,t){for(var n=[],r=0;r<=1;r++)for(var i=0;i<=1;i++){for(var a=(0===r?"r":"rp1")+", "+(0===i?"c":"cp1"),o=2;o<e;o++)a=t[t.length-1-o]+","+a;n.push(a)}return n}(n,t);return 1===n?"getA(rc),\n            rc + 1 >= "+e[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(e,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+i+") {\n            setOutput(vec4(0));\n          } else {\n            "+a+"\n\n            setOutput(vec4("+o+"));\n          }\n        }\n      "}},Qo=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));var r=e.length,i=_a(r),a=t.map((function(e){return e[0]})).join(","),o=t.map((function(t,n){return t[0]+e[n]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+i+" start = "+i+"("+a+");\n      "+i+" end = "+i+"("+o+");\n\n      void main() {\n        "+i+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+i+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+a+";\n        int end = "+o+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},Xo=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((function(t,n){return t[0]+e[n]+t[1]}));for(var r=e.length,i=_a(r),a=t.map((function(e){return e[0]})).join(","),o=t.map((function(t,n){return t[0]+e[n]})).join(","),s=la("rc",r),u=la("source",r),l=s[r-1]+" < "+this.outputShape[r-1],c=1===r?"source":"vec2("+u.slice(-2).join()+")",f=[i+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+l+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+s[r-1]+" += 1;\n         if("+l+") {"],h=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",d="",p=0,m=1===r?2:4;p<m;p++)d+="\n        "+f[p]+"\n        if ("+h+") {\n          result["+p+"] = float("+n+");\n        } else {\n          "+i+" source = rc - start;\n          result["+p+"] = getChannel(getX("+u.join()+"), "+c+");\n        }\n      ";d+=1===r?"} ":"}}",this.userCode="\n      const "+i+" start = "+i+"("+a+");\n      const "+i+" end = "+i+"("+o+");\n\n      void main() {\n        "+i+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+d+"\n        setOutput(result);\n      }\n    "},Yo=function(e,t,n,r,i){if(void 0===r&&(r=!1),void 0===i&&(i=!1),this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var a=e.filterWidth,o=e.strideHeight,s=e.strideWidth,u=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterHeight,f=e.effectiveFilterWidth,h=e.padInfo.top,d=e.padInfo.left;this.outputShape=e.outShape;var p="avg"===t,m="((batch  * "+e.inHeight+" + xR) * "+e.inWidth+" + xC) * "+e.inChannels+" + d",g="(xR * "+e.inWidth+" + xC) * "+e.inChannels+" + d",v="0.0";if(p||(v="-1.0 / 1e-20"),n)this.userCode="\n        const ivec2 strides = ivec2("+o+", "+s+");\n        const ivec2 pads = ivec2("+h+", "+d+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+c+";\n              wR += "+u+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+f+";\n                wC += "+l+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = "+(r?i?m:g:"wR * "+f+" + wC")+";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var y=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(y="avgValue / count");var b=4*Math.floor(a/4),w=a%4,S="\n      if ("+p+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+o+", "+s+");\n      const ivec2 pads = ivec2("+h+", "+d+");\n      const float initializationValue = "+v+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+v+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+c+";\n            wR += "+u+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+b+"; wC += 4) {\n            int xC = xCCorner + wC * "+l+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+l+", d),\n              getValue(batch, xR, xC + 2 * "+l+", d),\n              getValue(batch, xR, xC + 3 * "+l+", d)\n            );\n\n            "+S+"\n          }\n\n          int xC = xCCorner + "+b+";\n          if ("+(1===w)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+S+"\n          } else if ("+(2===w)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+l+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+S+"\n          } else if ("+(3===w)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+l+", d),\n              getValue(batch, xR, xC + 2 * "+l+", d),\n              initializationValue\n            );\n\n            "+S+"\n          }\n        }\n        setOutput("+y+");\n      }\n    "}},Ko=function(e,t,n,r,i){if(void 0===r&&(r=!1),void 0===i&&(i=!1),this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var a=e.filterWidth,o=e.strideDepth,s=e.strideHeight,u=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,f=e.dilationWidth,h=e.effectiveFilterDepth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,v=e.padInfo.left;this.outputShape=e.outShape;var y="avg"===t,b="0.0";if(y||(b="-1.0 / 1e-20"),n)this.userCode="\n        const ivec3 strides =\n            ivec3("+o+", "+s+", "+u+");\n        const ivec3 pads = ivec3("+m+", "+g+", "+v+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+h+";\n              wD += "+l+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+d+";\n                wR += "+c+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+p+";\n                  wC += "+f+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = "+(r?i?"(((batch * "+e.inDepth+" + xD) * "+e.inHeight+" + xR) * "+e.inWidth+" + xC) * "+e.inChannels+" + ch":"((xD * "+e.inHeight+" + xR) * "+e.inWidth+" + xC) * "+e.inChannels+" + ch":"wD * "+d+" * "+p+" +\n                      wR * "+p+" + wC")+";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var w=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(w="avgValue / count");var S=4*Math.floor(a/4),x=a%4,_="\n      if ("+y+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+o+", "+s+", "+u+");\n      const ivec3 pads = ivec3("+m+", "+g+", "+v+");\n      const float initializationValue = "+b+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+b+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+h+";\n            wD += "+l+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+d+";\n            wR += "+c+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+S+"; wC += 4) {\n              int xC = xCCorner + wC * "+f+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+f+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+f+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+f+", ch)\n              );\n\n              "+_+"\n            }\n\n            int xC = xCCorner + "+S+";\n            if ("+(1===x)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+_+"\n            } else if ("+(2===x)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+f+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+_+"\n            } else if ("+(3===x)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+f+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+f+", ch),\n                initializationValue\n              );\n\n              "+_+"\n            }\n          }\n          setOutput("+w+");\n        }\n      }\n    "}},Zo=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,i=e.inSize,a=Math.ceil(i/n);this.outputShape=[r,a];var o="0.0",s="";"prod"===t?o="1.0":"min"===t?(o="1.0 / 1e-20",s="min"):"max"===t&&(o="-1.0 / 1e-20",s="max");var u=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?u="sumValue":"prod"===t?u="prodValue":"all"===t?u="allValue":"any"===t&&(u="anyValue");var l=4*Math.floor(n/4),c=n%4,f="\n      if ("+("sum"===t)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===t)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",h="vec4";"all"===t?(o="1.0",f="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):"any"===t&&(o="0.0",f="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");var d="";i%n>0&&(d="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+o+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+d+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+o+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+l+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+f+"\n        }\n\n        int inIdx = inOffset + "+l+";\n        if ("+(1===c)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(2===c)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+f+"\n        } else if ("+(3===c)+") {\n          "+h+" values = "+h+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+f+"\n        }\n        setOutput("+u+");\n      }\n    "},Jo=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var i="thisRC = rc;";r%2==1&&(i+="thisRC.z += 1;"),r>1&&(i+="thisRC.y += 1;"),n+="\n        "+i+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+fa(["r","c","d"],t)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+ha(e)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+e[1]+";\n        int cols = "+e[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "},$o=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,i=r[1],a=r[2],o=e.shape,s=o[1],u=o[2],l=[n&&s>1?i-1:i,n&&u>1?a-1:a],c=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=l[0]/c[0],h=l[1]/c[1],d=1/f,p=1/h,m=2*Math.ceil(d)+2,g=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+h+");\n\n        const float invHeightScale = float("+d+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(i-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(a-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},es=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,n,s];var u=[r&&t>1?a-1:a,r&&n>1?o-1:o],l=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},ts=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,n,s];var u=[r&&t>1?a-1:a,r&&n>1?o-1:o],l=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+",\n          "+u[1]/l[1]+");\n      const vec3 inputShapeRC = vec3("+a+".0, "+o+".0,\n                                     "+o+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(n-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},ns=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,i=r[1],a=r[2],o=e.shape,s=o[1],u=o[2],l=[n&&s>1?i-1:i,n&&u>1?a-1:a],c=[n&&s>1?s-1:s,n&&u>1?u-1:u],f=l[0]/c[0],h=l[1]/c[1],d=1/f,p=1/h,m=2*Math.ceil(d)+2,g=2*Math.ceil(p)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+f+");\n        const float widthScale = float("+h+");\n\n        const float invHeightScale = float("+d+");\n        const float invWidthScale = float("+p+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+g+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+u+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+l[0]+") *\n                (float(dyR) / float("+c[0]+"));\n\n            float sourceFracCol =\n                float("+l[1]+") *\n                  (float(dyC) / float("+c[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+i+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+a+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},rs=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,n,s];var u=[r&&t>1?a-1:a,r&&n>1?o-1:o],l=[r&&t>1?t-1:t,r&&n>1?n-1:n],c=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+u[0]/l[0]+",\n          "+u[1]/l[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+o+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+c+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},is=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,1!==n){var r=e.map((function(n,r){return function(n){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)})).join(","),i=_a(n);this.userCode="\n      void main() {\n        "+i+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      "},as=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=la("rc",n),i=r[n-1]+" + 1 < "+this.outputShape[n-1],a=r[n-2]+" + 1 < "+this.outputShape[n-2],o=_a(n);function s(n){var r=e.map((function(r,i){return function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - "+r[n]+" - 1":""+r[n]}(i,n)}));return"getChannel(getX("+r.join(",")+"), vec2("+r.slice(-2).join(",")+"))"}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+e[0]+" - rc - 1),\n            "+e[0]+" - rc - 1);\n          if("+i+"){\n              result.g = getChannel(getX("+e[0]+" - (rc  + 1) - 1),\n                "+e[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+o+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+function(e){return s(e)}(r.slice())+";\n          if("+i+"){\n            result.g = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice())+";\n          }\n          if("+a+") {\n            result.b = "+function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            if("+i+") {\n              result.a = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},os=function(e,t,n,r,i,a,o){void 0===o&&(o=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;var s=_a(i.length),u=_a(a.length),l="";1===n?l="i":2===n&&(l="i, j");var c="getIndices("+l+")",f="";1===r?f="i":2===r&&(f="i, coords[1]");var h="getUpdates("+f+")",d=t>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+i+");\n\n        void main() {\n          "+u+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+e+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+t+"; j++) {\n              int index = round("+c+");\n              flattenedIndex += index * "+d+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+h+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},ss=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,i=e.inSize,a=e.numSegments,o=a*Math.ceil(i/n);this.outputShape=[r,o];var s=4*Math.floor(n/4),u=n%4,l="\n        sumValue += dot(values, segFilter);\n    ",c="";i%n>0&&(c="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return initializationValue;\n        }\n      ");var f="";i%n>0&&(f="\n        if (inIdx < 0 || inIdx >= "+i+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+c+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+f+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+a+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+a+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+l+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+l+"\n        } else if ("+(2===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+l+"\n        } else if ("+(3===u)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+l+"\n        }\n        setOutput(sumValue);\n      }\n    "},us=function(e,t,n){var r,i;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)i="resRC",r="resRC";else{for(var a=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],s=[],u=0;u<t.length;u++)s.push(""+a[u]),u<e&&o.push(""+a[u]);r=o.join(),i=s.join()}var l=_a(n);this.userCode="\n      void main() {\n        "+l+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+i+"));\n        } else {\n          setOutput(getB("+i+"));\n        }\n      }\n    "},ls=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t,n=_a(this.rank),r="uniform int start["+this.rank+"];",i=function(e){if(1===e)return"sourceLoc";if(e<=6)return cs.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank "+e+" is not yet supported")}(this.rank);t="\n        "+n+" sourceLoc;\n        "+n+" coords = getOutputCoords();\n        "+e.map((function(e,t){return"sourceLoc."+cs[t]+" = start["+t+"] + coords."+cs[t]+";"})).join("\n")+"\n      ",this.userCode="\n      "+r+"\n      void main() {\n        "+t+"\n        setOutput(getSource("+i+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),cs=["x","y","z","w","u","v"],fs=function(){function e(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var t=_a(this.rank),n=la("coords",this.rank),r=la("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":"vec2("+r.slice(-2).join()+")",a="getChannel(getSource("+r.join()+"), "+i+")",o="\n      result.x = "+a+";\n      if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n        ++"+r[this.rank-1]+";\n        result.y = "+a+";\n        --"+r[this.rank-1]+";\n      }\n    ",s=1===this.rank?"":"\n      --"+n[this.rank-1]+";\n      if (++"+n[this.rank-2]+" < "+e[this.rank-2]+") {\n        ++"+r[this.rank-2]+";\n        result.z = "+a+";\n        if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n          ++"+r[this.rank-1]+";\n          result.w = "+a+";\n        }\n      }\n    ",u=this.rank<=4?"sourceLoc = coords +\n            "+t+"("+e.map((function(e,t){return"start["+t+"]"})).join()+");":e.map((function(e,t){return r[t]+" = "+n[t]+" + start["+t+"];"})).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+t+" coords = getOutputCoords();\n        "+t+" sourceLoc;\n        "+u+"\n        vec4 result = vec4(0.);\n        "+o+"\n        "+s+"\n        setOutput(result);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),hs=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,i=_a(n.length),a=_a(n.length),o="";if(1===r)o="coords * strides + begin";else{var s=0;o=n.map((function(e,t){return s++,1===n.length?"coords * strides["+t+"] + begin["+t+"]":"coords["+(s-1)+"] * strides["+t+"] + begin["+t+"]"})).join(",")}this.userCode="\n      "+i+" begin = "+i+"("+e+");\n      "+i+" strides = "+i+"("+t+");\n\n      void main() {\n        "+a+" coords = getOutputCoords();\n        setOutput(getX("+o+"));\n      }\n    "},ds=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(e,t,n){var r,i=ps(t,n),a=ms(e,i,n);if(a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]),this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var o=this.freeTextures[a].shift();return this.usedTextures[a].push(o),o}return this.numUsedTextures++,this.log(),i===We.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):i===We.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):i===We.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):i===We.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):i===We.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(r),r},e.prototype.releaseTexture=function(e,t,n,r){if(null!=this.freeTextures){var i=ms(t,ps(n,r),r);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(e),this.numFreeTextures++,this.numUsedTextures--;var a=this.usedTextures[i],o=a.indexOf(e);if(o<0)throw new Error("Cannot release a texture that was never provided by this texture manager");a.splice(o,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));for(var t in this.usedTextures)this.usedTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function ps(e,t){if(e===Ge.UPLOAD)return We.PACKED_2X2_FLOAT32;if(e===Ge.RENDER||null==e)return function(e){return h().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?We.PACKED_2X2_FLOAT32:We.UNPACKED_FLOAT32:e?We.PACKED_2X2_FLOAT16:We.UNPACKED_FLOAT16}(t);if(e===Ge.DOWNLOAD||e===Ge.PIXELS)return We.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function ms(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var gs=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var i=_a(this.rank),a=function(e){var t=e.length;if(t>5)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],i=0;i<e.length;i++)r.push("imod("+n[i]+", "+e[i]+")");return r.join()}(e);this.userCode="\n      void main() {\n        "+i+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "},vs=1.7580993408473768,ys=1.0507009873554805,bs=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},ws="if (isnan(x)) return x;",Ss="return abs(x);",xs=ws+"\n  return (x < 0.0) ? 0.0 : x;\n",_s=ws+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Ts="return (x >= 0.0) ? x : (exp(x) - 1.0);",Es="return -x;",ks="return ceil(x);",Cs="return floor(x);",As="return exp(x);",Os="return exp(x) - 1.0;",Is="return x;",Ms="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Ds="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Rs="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Ps=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+t+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},Ns=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=la("rc",t),r=_a(t),i=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),a=n.slice(-2),o=t<=1?"rc":"vec2("+a.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+i+");\n\n        setOutput(getChannel(packedInput, "+o+"));\n      }\n    "},Ls={};function Fs(e,t){if(void 0===t&&(t=!1),"linear"===e)return"return x;";if("relu"===e)return t?Ms:xs;if("elu"===e)return t?Rs:Ts;if("relu6"===e)return t?Ds:_s;if("prelu"===e)return t?Fa:Na;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var Bs=function(e){function t(t){var n,r=e.call(this)||this;if(r.pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!h().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==t){var i=Xe(h().getNumber("WEBGL_VERSION"));r.binaryCache=((n=h().getNumber("WEBGL_VERSION"))in Ls||(Ls[n]={}),Ls[n]),r.gpgpu=new No(i),r.canvas=i.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=t,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=t.gl.canvas;return r.textureManager=new ds(r.gpgpu),r.numMBBeforeWarning=null==h().global.screen?1024:h().global.screen.height*h().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new Ei(r,ze),r}return s(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(e,t,n){if(h().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:Ge.UPLOAD}),r},t.prototype.move=function(e,t,n,r){if(h().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:Ge.UPLOAD})},t.prototype.readSync=function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,i=t.complexTensors,a=t.slice,o=t.shape,s=t.isPacked;if(null!=a){var u;u=s?new Ps(o,Is):new bs(o,Is);var l=this.runWebGLProgram(u,[{dataId:e,shape:o,dtype:r}],r),c=this.readSync(l.dataId);return this.disposeData(l.dataId),c}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var f,h,d=null!=this.activeTimers;return d&&(f=ae()),h="complex64"===r?Gi(i.real.dataSync(),i.imag.dataSync()):this.getValuesFromTexture(e),d&&(this.downloadWaitMs+=ae()-f),this.convertAndCacheOnCPU(e,h)},t.prototype.read=function(e){return u(this,void 0,void 0,(function(){var t,n,r,i,a,o,s,u,c,f,d,p,m,g,v,y,b,w,S,x,_,T;return l(this,(function(l){switch(l.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise((function(e){return t.push(e)}))];if(n=this.texData.get(e),r=n.values,i=n.shape,a=n.slice,o=n.dtype,s=n.complexTensors,u=n.isPacked,null!=a)return void 0,c=u?new Ps(i,Is):new bs(i,Is),f=this.runWebGLProgram(c,[{dataId:e,shape:i,dtype:o}],o),d=this.read(f.dataId),this.disposeData(f.dataId),[2,d];if(null!=r)return[2,this.convertAndCacheOnCPU(e)];if(!h().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===h().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return p=null,"complex64"!==o&&h().get("WEBGL_BUFFER_SUPPORTED")&&(m=this.decode(e),g=this.texData.get(m.dataId),p=(T=this.gpgpu).createBufferFromTexture.apply(T,[g.texture].concat(Ke(i)))),this.pendingRead.set(e,[]),"complex64"===o?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:l.sent(),l.label=2;case 2:return"complex64"!==o?[3,4]:[4,Promise.all([s.real.data(),s.imag.data()])];case 3:return y=l.sent(),b=y[0],w=y[1],v=Gi(b,w),[3,5];case 4:null==p?v=this.getValuesFromTexture(e):(S=I(i),v=this.gpgpu.downloadFloat32MatrixFromBuffer(p,S)),l.label=5;case 5:return null!=m&&this.disposeData(m.dataId),x=this.convertAndCacheOnCPU(e,v),_=this.pendingRead.get(e),this.pendingRead.delete(e),_.forEach((function(e){return e(x)})),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),[2,x]}}))}))},t.prototype.checkNumericalProblems=function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!et(n)){if(h().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value "+n+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value "+n+" cannot be represented on this device.")}}},t.prototype.getValuesFromTexture=function(e){var t,n=this.texData.get(e),r=n.shape,i=n.dtype,a=n.isPacked,o=I(r);if(h().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s=this.decode(e),u=this.texData.get(s.dataId),l=(t=this.gpgpu).downloadMatrixFromPackedTexture.apply(t,[u.texture].concat(Ke(r))).subarray(0,o);return this.disposeData(s.dataId),l}var c=h().getBool("WEBGL_PACK")&&!0===a,f=c?Ot(r):r,d=c?new lo(f):new uo(f),p=this.runWebGLProgram(d,[{shape:f,dtype:i,dataId:e}],"float32"),m=this.texData.get(p.dataId),g=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(m.texture,m.texShape[0],m.texShape[1]).subarray(0,o);return this.disposeData(p.dataId),g},t.prototype.time=function(e){return u(this,void 0,void 0,(function(){var t,n,r,i,a,o,s;return l(this,(function(u){switch(u.label){case 0:return t=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e(),i=O(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),a=O(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e})),this.activeTimers=t,r&&(this.programTimersStack=null),o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},h().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(i)]:[3,2];case 1:return s=u.sent(),o.kernelMs=E(s),o.getExtraProfileInfo=function(){return s.map((function(e,t){return{name:a[t],ms:e}})).map((function(e){return e.name+": "+e.ms})).join(", ")},[3,3];case 2:o.kernelMs={error:"WebGL query timers are not supported in this environment."},u.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,o]}}))}))},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return h().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:ae(),endMs:null}},t.prototype.endTimer=function(e){return h().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=ae(),e)},t.prototype.getQueryTime=function(e){return u(this,void 0,void 0,(function(){var t;return l(this,(function(n){return h().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(t=e).endMs-t.startMs]}))}))},t.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(this.texData.has(e)){this.releaseGPUData(e);var t=this.texData.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.texData.delete(e)}}},t.prototype.releaseGPUData=function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,i=t.texShape,a=t.usage,o=t.isPacked,s=t.slice,u=s&&s.origDataId||e,l=this.dataRefCount.get(u);l>1?this.dataRefCount.set(u,l-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(i,r),this.textureManager.releaseTexture(n,i,a,o)));var c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null},t.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},t.prototype.getDataInfo=function(e){return this.texData.get(e)},t.prototype.getCPUBackend=function(){return h().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=ze.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(e,t){var n=this;return void 0===t&&(t=128),null!=this.getCPUBackend()&&e.every((function(e){return null==n.texData.get(e.dataId).texture&&I(e.shape)<t}))},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(e,t){var n=this.makeOutput(e.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:ze.keep(e.clone()),imag:ze.keep(t.clone())},n},t.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,t,n);if(0===I(n))return gn([],n,e.dtype);var r=this.texData.get(e.dataId).isPacked,i=bi(e.shape,t,n);if(r||!i){var a=h().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new fs(n):new ls(n),o=a.getCustomSetupFunc(t);return this.compileAndRun(a,[e],null,o)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,t,n)},t.prototype.shallowSlice=function(e,t,n){var r=this.texData.get(e.dataId),i=this.makeOutput(n,e.dtype),a=this.texData.get(i.dataId);Object.assign(a,r),a.shape=n,a.dtype=e.dtype;var o=wi(t,e.strides);r.slice&&(o+=r.slice.flatOffset),a.slice={flatOffset:o,origDataId:r.slice&&r.slice.origDataId||e.dataId};var s=this.dataRefCount.get(a.slice.origDataId)||1;return this.dataRefCount.set(a.slice.origDataId,s+1),i},t.prototype.stridedSlice=function(e,t,n,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,t,n,r);var i=gi(t,n,r);if(i.some((function(e){return 0===e})))return gn([],i);var a=new hs(t,r,i);return this.compileAndRun(a,[e])},t.prototype.reverse=function(e,t){var n=h().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new as(e.shape,t):new is(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.concat=function(e,t){if("complex64"===e[0].dtype){var n=e.map((function(e){return pn(e)})),r=e.map((function(e){return mn(e)}));return dn(this.concat(n,t),this.concat(r,t))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,t);if(1===e.length)return e[0];if(e.length>h().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var i=Math.floor(e.length/2),a=this.concat(e.slice(0,i),t),o=this.concat(e.slice(i),t);return this.concat([a,o],t)}if(h().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){var s=new Ga(e.map((function(e){return e.shape})),t);return this.compileAndRun(s,e)}var u=fn(e.map((function(e){return e.shape})),t),l=e.map((function(e){return e.as2D(-1,I(e.shape.slice(t)))})),c=new Va(l.map((function(e){return e.shape})));return this.compileAndRun(c,l).reshape(u)},t.prototype.neg=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(h().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Es,e.dtype);var t=new bs(e.shape,Es);return this.compileAndRun(t,[e])},t.prototype.batchMatMul=function(e,t,n,r){var i=n?e.shape[2]:e.shape[1],a=r?t.shape[1]:t.shape[2],o=n?e.shape[1]:e.shape[2],s=e.shape[0];if((1===i||1===a)&&o>1e3){n&&(e=Ti(e,[0,2,1])),r&&(t=Ti(t,[0,2,1]));var u=1===a?e:e.as3D(s,o,1),l=1===a?2:1,c=1===a?t.as3D(s,1,o):t;return this.multiply(u,c).sum(l,!0)}var f=Ie(e.dtype,t.dtype),h=new Go(e.shape,[s,i,a],n,r);return this.compileAndRun(h,[e,t],f)},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,i=e.transposeB,a=e.bias,o=e.activation,s=e.preluActivationWeights,u=r?t.shape[2]:t.shape[1],l=i?n.shape[1]:n.shape[2],c=t.shape[0],f=Ie(t.dtype,n.dtype),h=null!=a,d=null!=s,p=o?Fs(o,!0):null,m=new Go(t.shape,[c,u,l],r,i,h,p,d),g=[t,n];return a&&g.push(a),s&&g.push(s),this.compileAndRun(m,g,f)},t.prototype.multiply=function(e,t){if("complex64"===e.dtype){var n=this.texData.get(e.dataId),r=this.texData.get(t.dataId),i=new Ma("return areal * breal - aimag * bimag;",e.shape,t.shape),a=new Ma("return areal * bimag + aimag * breal;",e.shape,t.shape),o=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag),this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)],s=this.compileAndRun(i,o),u=this.compileAndRun(a,o),l=this.complex(s,u);return s.dispose(),u.dispose(),l}if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.multiply(e,t);if(h().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Pa,e.dtype);var c=new La(Pa,e.shape,t.shape);return this.compileAndRun(c,[e,t],e.dtype)},t.prototype.batchNormalization=function(e,t,n,r,i,a){var o=[e,t,n],s=null;null!=a&&(s=a.shape,o.push(a));var u=null;if(null!=i&&(u=i.shape,o.push(i)),h().getBool("WEBGL_PACK_NORMALIZATION")){var l=new Ia(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(l,o)}var c=new Oa(e.shape,t.shape,n.shape,s,u,r);return this.compileAndRun(c,o)},t.prototype.localResponseNormalization4D=function(e,t,n,r,i){var a=h().getBool("WEBGL_PACK_NORMALIZATION")?new Uo(e.shape,t,n,r,i):new Bo(e.shape,t,n,r,i);return this.compileAndRun(a,[e])},t.prototype.LRNGrad=function(e,t,n,r,i,a,o){var s=new zo(t.shape,r,i,a,o);return this.compileAndRun(s,[t,n,e])},t.prototype.tile=function(e,t){if("string"===e.dtype){var n=this.readSync(e.dataId).map((function(e){return ue(e)}));return na(Fn(e.shape,e.dtype,n),t)}var r=new gs(e.shape,t);return this.compileAndRun(r,[e])},t.prototype.pad=function(e,t,n){var r=h().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Xo(e.shape,t,n):new Qo(e.shape,t,n);return this.compileAndRun(r,[e])},t.prototype.gather=function(e,t,n){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.gather(e,t,n);var r=new mo(e.shape,t.size,n);return this.compileAndRun(r,[e,t])},t.prototype.batchToSpaceND=function(e,t,n){k(e.rank<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),i=Yn(e.shape,t,r),a=Kn(i.length,t.length),o=Zn(e.shape,t,r),s=Jn(n,t.length),u=$n(o,n,t.length);return Ti(e.reshape(i),a).reshape(o).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){k(e.rank<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var r=t.reduce((function(e,t){return e*t})),i=[[0,0]];i.push.apply(i,n);for(var a=1+t.length;a<e.shape.length;++a)i.push([0,0]);var o=e.pad(i),s=Yn(o.shape,t,r,!1),u=Kn(s.length,t.length,!1),l=Zn(o.shape,t,r,!1);return Ti(o.reshape(s),u).reshape(l)},t.prototype.reduce=function(e,t,n){var r=e.shape[0],i=e.shape[1],a=ci(i),o=new Zo({windowSize:a,inSize:i,batchSize:r},t),s=this.compileAndRun(o,[e],n);return 1===s.shape[1]?s:this.reduce(s,t,n)},t.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],i=e.shape[1];null!=n&&(r=n.shape[0],i=n.shape[1]);var a=ci(i),o=new sa({windowSize:a,inSize:i,batchSize:r},t,null==n),s=[e];null!=n&&s.push(n);var u=this.compileAndRun(o,s,"int32");return 1===u.shape[1]?u:this.argReduce(e,t,u)},t.prototype.argReducePacked=function(e,t,n){void 0===n&&(n=null);var r=null!=n?n.shape:e.shape,i=ci(r[r.length-1]),a=new ka(r,i,t,null==n),o=null==n?[e]:[e,n],s=this.compileAndRun(a,o,"int32");return s.rank===e.rank?this.argReducePacked(e,t,s):s},t.prototype.sum=function(e,t){on("sum",t,e.rank);var n=rn(e.shape,t),r=n[0],i=I(n[1]),a=e.as2D(-1,i),o=Me(e.dtype);return this.reduce(a,"sum",o).reshape(r)},t.prototype.prod=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,t);var n=rn(e.shape,t),r=n[0],i=I(n[1]),a=e.as2D(-1,i),o=Me(e.dtype);return this.reduce(a,"prod",o).reshape(r)},t.prototype.unsortedSegmentSum=function(e,t,n){var r=0,i=sn([r],e.rank),a=e;null!=i&&(a=Ti(e,i),r=ln(1,e.rank)[0]);var o=function(e,t,n){for(var r=[],i=e.length,a=0;a<i;a++)a!==t?r.push(e[a]):r.push(n);return r}(a.shape,r,n),s=I([a.shape[r]]),u=a.as2D(-1,s),l=Me(e.dtype),c=this.segOpCompute(u,"unsortedSegmentSum",t,l,n).reshape(o);return null!=i&&(c=Ti(c,un(i))),c},t.prototype.segOpCompute=function(e,t,n,r,i){var a=e.shape[0],o=e.shape[1],s=function(e,t){var n,r=!1;for(e<=30?(n=e,r=!0):n=$(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=$(e,n+1);return n}(o,i),u=new ss({windowSize:s,inSize:o,batchSize:a,numSegments:i},t),l=this.compileAndRun(u,[e,n],r);return l.shape[1]===i?l:(n=An(0,i).tile([o/s]),this.segOpCompute(l,t,n,r,i))},t.prototype.argMinMaxReduce=function(e,t,n){var r=[t];if(on("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,e.rank),!h().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){var i=rn(e.shape,r),a=i[0],o=I(i[1]),s=e.as2D(-1,o);return this.argReduce(s,n).reshape(a)}return this.argReducePacked(e,n)},t.prototype.argMin=function(e,t){return this.argMinMaxReduce(e,t,"min")},t.prototype.argMax=function(e,t){return this.argMinMaxReduce(e,t,"max")},t.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var i=new no(e.shape,n,r);return this.compileAndRun(i,[e])},t.prototype.equal=function(e,t){if(h().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(equal(a, b));\n","bool");var n=new La("return float(a == b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.notEqual=function(e,t){if(h().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(notEqual(a, b));\n","bool");var n=new La("return float(a != b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.less=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.less(e,t);if(h().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThan(a, b));\n","bool");var n=new La("return float(a < b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.lessEqual=function(e,t){if(h().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new La("return float(a <= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greater=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.greater(e,t);if(h().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new La("return float(a > b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greaterEqual=function(e,t){if(h().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new La("return float(a >= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalNot=function(e){var t=new bs(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(t,[e])},t.prototype.logicalAnd=function(e,t){if(h().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new La("return float(a >= 1.0 && b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalOr=function(e,t){if(h().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new La("return float(a >= 1.0 || b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.select=function(e,t,n){var r=new us(e.rank,t.shape,t.rank);return this.compileAndRun(r,[e,t,n],Ie(t.dtype,n.dtype))},t.prototype.where=function(e){Kt("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return ia(e.shape,t)},t.prototype.topk=function(e,t,n){return ra(e.dataSync(),e.shape,e.dtype,t)},t.prototype.min=function(e,t){on("min",t,e.rank);var n=rn(e.shape,t),r=n[0],i=I(n[1]),a=e.as2D(-1,i);return this.reduce(a,"min",a.dtype).reshape(r)},t.prototype.minimum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.minimum(e,t);var n=h().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ba("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new La("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.mod=function(e,t){var n=h().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ba("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new La("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.max=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.max(e,t);on("max",t,e.rank);var n=rn(e.shape,t),r=n[0],i=I(n[1]),a=e.as2D(-1,i);return this.reduce(a,"max",a.dtype).reshape(r)},t.prototype.maximum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.maximum(e,t);var n=h().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ba("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new La("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.all=function(e,t){on("all",t,e.rank);var n=rn(e.shape,t),r=n[0],i=I(n[1]),a=e.as2D(-1,i);return this.reduce(a,"all",a.dtype).reshape(r)},t.prototype.any=function(e,t){on("any",t,e.rank);var n=rn(e.shape,t),r=n[0],i=I(n[1]),a=e.as2D(-1,i);return this.reduce(a,"any",a.dtype).reshape(r)},t.prototype.floorDiv=function(e,t){if(h().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new La("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",e.shape,t.shape);return this.compileAndRun(n,[e,t],"int32")},t.prototype.add=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,Da);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.add(e,t);var n=Ie(e.dtype,t.dtype);if(h().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Da,n);var r=new La(Da,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.packedUnaryOp=function(e,t,n){var r=new Ps(e.shape,t);return this.compileAndRun(r,[e],n)},t.prototype.packedBinaryOp=function(e,t,n,r,i){void 0===i&&(i=!1);var a=new Ba(n,e.shape,t.shape,i);return this.compileAndRun(a,[e,t],r)},t.prototype.complexSeparableBinaryOp=function(e,t,n){var r=this,i=this.texData.get(e.dataId),a=this.texData.get(t.dataId),o=[[i.complexTensors.real,a.complexTensors.real],[i.complexTensors.imag,a.complexTensors.imag]].map((function(i){var a=i[0],o=i[1],s=r.makeComplexComponentTensorInfo(e,a),u=r.makeComplexComponentTensorInfo(t,o),l=new La(n,e.shape,t.shape);return r.compileAndRun(l,[s,u],Ie(a.dtype,o.dtype))})),s=o[0],u=o[1],l=this.complex(s,u);return s.dispose(),u.dispose(),l},t.prototype.makeComplexComponentTensorInfo=function(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}},t.prototype.addN=function(e){if(1===e.length)return e[0];if(e.length>h().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var t=Math.floor(e.length/2),n=this.addN(e.slice(0,t)),r=this.addN(e.slice(t));return this.addN([n,r])}var i=e.map((function(e){return e.dtype})).reduce((function(e,t){return Ie(e,t)})),a=e.map((function(e){return e.shape})),o=h().getBool("WEBGL_PACK")?new oa(e[0].shape,a):new aa(e[0].shape,a);return this.compileAndRun(o,e,i)},t.prototype.subtract=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,Ra);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.subtract(e,t);var n=Ie(e.dtype,t.dtype);if(h().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,Ra,e.dtype);var r=new La(Ra,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.pow=function(e,t){var n=h().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ba("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new La("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,t.shape),r=Ie(e.dtype,t.dtype);return this.compileAndRun(n,[e,t],r)},t.prototype.ceil=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(h().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,ks,e.dtype);var t=new bs(e.shape,ks);return this.compileAndRun(t,[e])},t.prototype.floor=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(h().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Cs,e.dtype);var t=new bs(e.shape,Cs);return this.compileAndRun(t,[e])},t.prototype.sign=function(e){var t=new bs(e.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(t,[e])},t.prototype.isNaN=function(e){var t=new bs(e.shape,"return float(isnan(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isInf=function(e){var t=new bs(e.shape,"return float(isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isFinite=function(e){var t=new bs(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.round=function(e){var t=new bs(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(t,[e])},t.prototype.exp=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(h().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,As,e.dtype);var t=new bs(e.shape,As);return this.compileAndRun(t,[e])},t.prototype.expm1=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(h().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Os,e.dtype);var t=new bs(e.shape,Os);return this.compileAndRun(t,[e])},t.prototype.softmax=function(e,t){var n=B([t],e.shape),r=this.max(e,n),i=an(r.shape,n),a=this.subtract(e,r.reshape(i)),o=this.exp(a),s=this.sum(o,n).reshape(i);return ui(o,s)},t.prototype.log=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(h().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",e.dtype);var t=new bs(e.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(t,[e])},t.prototype.log1p=function(e){var t=new bs(e.shape,"return log(1.0 + x);");return this.compileAndRun(t,[e])},t.prototype.sqrt=function(e){var t=new bs(e.shape,"return sqrt(x);");return this.compileAndRun(t,[e])},t.prototype.rsqrt=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);var t=new bs(e.shape,"return inversesqrt(x);");return this.compileAndRun(t,[e])},t.prototype.reciprocal=function(e){var t=new bs(e.shape,"return 1.0 / x;");return this.compileAndRun(t,[e])},t.prototype.relu=function(e){var t;return t=h().getBool("WEBGL_PACK")?new Ps(e.shape,Ms):new bs(e.shape,xs),this.compileAndRun(t,[e])},t.prototype.relu6=function(e){var t;return t=h().getBool("WEBGL_PACK")?new Ps(e.shape,Ds):new bs(e.shape,_s),this.compileAndRun(t,[e])},t.prototype.prelu=function(e,t){var n=h().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ba(Fa,e.shape,t.shape):new La(Na,e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.elu=function(e){if(h().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Rs,e.dtype);var t=new bs(e.shape,Ts);return this.compileAndRun(t,[e])},t.prototype.eluDer=function(e,t){var n=h().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ba("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",e.shape,t.shape):new La("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.selu=function(e){var t=new bs(e.shape,"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = 1.7580993408473768;\n  float scale = 1.0507009873554805;\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n");return this.compileAndRun(t,[e])},t.prototype.int=function(e){var t=new bs(e.shape,"return float(int(x));");return this.compileAndRun(t,[e],"int32")},t.prototype.clip=function(e,t,n){var r,i=(r=h().getBool("WEBGL_PACK_CLIP")?new Ua(e.shape):new za(e.shape)).getCustomSetupFunc(t,n);return this.compileAndRun(r,[e],null,i)},t.prototype.abs=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(h().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Ss,e.dtype);var t=new bs(e.shape,Ss);return this.compileAndRun(t,[e])},t.prototype.complexAbs=function(e){var t=this.texData.get(e.dataId),n=new ja(e.shape),r=[this.makeComplexComponentTensorInfo(e,t.complexTensors.real),this.makeComplexComponentTensorInfo(e,t.complexTensors.imag)];return this.compileAndRun(n,r)},t.prototype.sigmoid=function(e){var t=new bs(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(t,[e])},t.prototype.softplus=function(e){var t=new bs(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(t,[e])},t.prototype.sin=function(e){var t=new bs(e.shape,"if (isnan(x)) return x;\n  return sin(x);\n");return this.compileAndRun(t,[e])},t.prototype.cos=function(e){var t=new bs(e.shape,"if (isnan(x)) return x;\n  return cos(x);\n");return this.compileAndRun(t,[e])},t.prototype.tan=function(e){var t=new bs(e.shape,"return tan(x);");return this.compileAndRun(t,[e])},t.prototype.asin=function(e){var t=new bs(e.shape,"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n");return this.compileAndRun(t,[e])},t.prototype.acos=function(e){var t=new bs(e.shape,"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n");return this.compileAndRun(t,[e])},t.prototype.atan=function(e){var t=new bs(e.shape,"if (isnan(x)) return x;\n  return atan(x);\n");return this.compileAndRun(t,[e])},t.prototype.atan2=function(e,t){var n=h().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ba("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new La("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.sinh=function(e){var t=new bs(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.cosh=function(e){var t=new bs(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.tanh=function(e){var t=new bs(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(t,[e])},t.prototype.asinh=function(e){var t=new bs(e.shape,"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));");return this.compileAndRun(t,[e])},t.prototype.acosh=function(e){var t=new bs(e.shape,"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));");return this.compileAndRun(t,[e])},t.prototype.atanh=function(e){var t=new bs(e.shape,"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;");return this.compileAndRun(t,[e])},t.prototype.erf=function(e){var t=new bs(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(t,[e])},t.prototype.step=function(e,t){var n=new bs(e.shape,function(e){return void 0===e&&(e=0),ws+"\n    return x > 0.0 ? 1.0 : float("+e+");\n  "}(t));return this.compileAndRun(n,[e])},t.prototype.conv2dByMatMul=function(e,t,n,r,i,a){var o=e.shape,s=this.texData.get(e.dataId),u=n.inChannels,l=o[0]*o[1]*o[2],c=n.outChannels,f="channelsLast"===n.dataFormat,d=(1===l||1===c)&&u>1e3,p=o[2]%2!=0&&!!s.isPacked;if(d||!h().getBool("WEBGL_LAZILY_UNPACK")||!h().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!p){var m=f?o[0]*o[1]*o[2]:o[0]*o[2]*o[3],g=this.reshape(e,[1,m,n.inChannels]),v=this.reshape(t,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:g,b:v,transposeA:!1,transposeB:!1,bias:r,activation:i,preluActivationWeights:a}),n.outShape)}var y=f?o[0]*o[1]*(o[2]+1):o[0]*o[2]*(o[3]+1),b={dataId:e.dataId,shape:[1,y,n.inChannels],dtype:e.dtype},w=s.shape;s.shape=s.shape.slice(),s.shape[s.shape.length-2]++,k(Dt(s.shape,b.shape),(function(){return"packed reshape "+s.shape+" to "+b.shape+" isn't free"}));var S=this.reshape(t,[1,n.inChannels,n.outChannels]),x=this.fusedBatchMatMul({a:b,b:S,transposeA:!1,transposeB:!1,bias:r,activation:i,preluActivationWeights:a}),_=this.texData.get(x.dataId);return k(_.isPacked,(function(){return"batchMatMul result is expected to be packed"})),s.shape=w,_.shape=n.outShape,ze.makeTensorFromDataId(x.dataId,n.outShape,x.dtype)},t.prototype.conv2dWithIm2Row=function(e,t,n,r,i,a){var o=n.filterWidth,s=n.filterHeight,u=n.inChannels,l=n.outWidth,c=n.outHeight,f="channelsLast"===n.dataFormat,h=o*s*u,d=c*l,p=[h,d],m=e.squeeze([0]),g=t.reshape([1,h,-1]),v=new Fo(p,m.shape,n),y=this.compileAndRun(v,[m]).reshape([1,p[0],p[1]]),b=null!=r,w=null!=a,S=i?Fs(i,!0):null,x=new Go(y.shape,[1,d,n.outChannels],!0,!1,b,S,w),_=[y,g];r&&_.push(r),w&&_.push(a);var T=this.compileAndRun(x,_);return f?T.reshape([1,c,l,n.outChannels]):T.reshape([1,n.outChannels,c,l])},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,a=e.activation,o=e.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return this.conv2dByMatMul(t,n,r,i,a,o);if(h().getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,n,r,i,a,o);var s=null!=i,u=null!=o,l=a?Fs(a,!1):null,c=new Za(r,s,l,u),f=[t,n];return i&&f.push(i),o&&f.push(o),this.compileAndRun(c,f)},t.prototype.conv2d=function(e,t,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n);if(h().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n);var r=new Za(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerInput=function(e,t,n){var r=new qa(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerFilter=function(e,t,n){var r=new Ha(n);return this.compileAndRun(r,[e,t])},t.prototype.fusedDepthwiseConv2D=function(e){var t,n=e.input,r=e.filter,i=e.convInfo,a=e.bias,o=e.activation,s=e.preluActivationWeights,u=h().getBool("WEBGL_PACK_DEPTHWISECONV")&&i.strideWidth<=2&&i.outChannels/i.inChannels==1,l=o?Fs(o,u):null,c=[n,r],f=null!=a,d=null!=s;return f&&c.push(a),d&&c.push(s),u?(t=new eo(i,f,l,d),this.compileAndRun(t,c)):(t=new $a(i,f,l,d),this.compileAndRun(t,c))},t.prototype.depthwiseConv2D=function(e,t,n){var r;return h().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new eo(n),this.compileAndRun(r,[e,t])):(r=new $a(n),this.compileAndRun(r,[e,t]))},t.prototype.depthwiseConv2DDerInput=function(e,t,n){var r=new Ka(n);return this.compileAndRun(r,[e,t])},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){var r=new Ya(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3d=function(e,t,n){var r=new Ja(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerInput=function(e,t,n){var r=new Xa(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerFilter=function(e,t,n){var r=new Qa(n);return this.compileAndRun(r,[e,t])},t.prototype.maxPool=function(e,t){var n=new Yo(t,"max",!1);return this.compileAndRun(n,[e])},t.prototype.avgPool=function(e,t){var n=new Yo(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPoolBackprop=function(e,t,n,r){var i=new Yo(r,"max",!0),a=this.compileAndRun(i,[t]),o=new jo(r),s=this.compileAndRun(o,[e,a],t.dtype);return a.dispose(),s},t.prototype.avgPoolBackprop=function(e,t,n){var r=new Ca(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.cast=function(e,t){return Ui(e,t,this)},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),i=0,a=0;a<e.rank;a++)a!==t&&(r[i++]=e.shape[a]);var o=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(a=0;a<u.length;a++)o[t]=a,u[a]=this.slice(e,o,s).reshape(r);return u},t.prototype.avgPool3d=function(e,t){var n=new Ko(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.avgPool3dBackprop=function(e,t,n){var r=new Aa(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.maxPool3d=function(e,t){var n=new Ko(t,"max",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPool3dBackprop=function(e,t,n,r){var i=new Ko(r,"max",!0),a=this.compileAndRun(i,[t]),o=new Vo(r),s=this.compileAndRun(o,[e,a],t.dtype);return a.dispose(),s},t.prototype.reshape=function(e,t){var n=this.texData.get(e.dataId);if(n.isPacked&&!Dt(e.shape,t)&&(null===n.texture||!Dt(n.shape,t))){var r=this.packedReshape(e,t);return ze.makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return ji(e,t)},t.prototype.resizeBilinear=function(e,t,n,r){var i=h().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ts(e.shape,t,n,r):new es(e.shape,t,n,r);return this.compileAndRun(i,[e],"float32")},t.prototype.resizeBilinearBackprop=function(e,t,n){var r=new $o(e,t,n);return this.compileAndRun(r,[e])},t.prototype.resizeNearestNeighbor=function(e,t,n,r){var i=new rs(e.shape,t,n,r);return this.compileAndRun(i,[e])},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){var r=new ns(e,t,n);return this.compileAndRun(r,[e])},t.prototype.multinomial=function(e,t,n,r){var i=t?e:xi(e),a=i.shape[0],o=i.shape[1],s=new Wo(a,o,n),u=s.getCustomSetupFunc(r);return this.compileAndRun(s,[i],"int32",u)},t.prototype.oneHot=function(e,t,n,r){var i=new Ho(e.size,t,n,r);return this.compileAndRun(i,[e])},t.prototype.diag=function(e){var t=new so(e.size);return this.compileAndRun(t,[e])},t.prototype.nonMaxSuppression=function(e,t,n,r,i){return Kt("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),Yi(e.dataSync(),t.dataSync(),n,r,i)},t.prototype.cropAndResize=function(e,t,n,r,i,a){var o=new to(e.shape,t.shape,r,i,a);return this.compileAndRun(o,[e,t,n],"float32")},t.prototype.depthToSpace=function(e,t,n){k(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));var r=e.shape[0],i="NHWC"===n?e.shape[1]:e.shape[2],a="NHWC"===n?e.shape[2]:e.shape[3],o="NHWC"===n?e.shape[3]:e.shape[1],s=i*t,u=a*t,l=o/(t*t),c=new oo("NHWC"===n?[r,s,u,l]:[r,l,s,u],t,n);return this.compileAndRun(c,[e])},t.prototype.split=function(e,t,n){return ta(e,t,n)},t.prototype.scatterND=function(e,t,n){var r=di(0,e,n),i=r.sliceRank,a=r.numUpdates,o=r.sliceSize,s=r.strides,u=r.outputSize,l=[u/o,o],c=e.reshape([a,i]),f=t.reshape([a,o]);if(0===u)return ji(gn([]),n);var h=yn(0),d=new os(a,i,c.rank,f.rank,s,l);return this.compileAndRun(d,[f,c,h]).reshape(n)},t.prototype.sparseToDense=function(e,t,n,r){var i=di(0,e,n),a=i.sliceRank,o=i.numUpdates,s=i.strides,u=i.outputSize,l=new os(o,a,e.rank,t.rank,s,[u,1],!1);return this.compileAndRun(l,[t,e,r]).reshape(n)},t.prototype.fft=function(e){return this.fftImpl(e,!1)},t.prototype.ifft=function(e){return this.fftImpl(e,!0)},t.prototype.fftImpl=function(e,t){var n=this.texData.get(e.dataId),r=new ho("return real * expR - imag * expI;",e.shape,t),i=new ho("return real * expI + imag * expR;",e.shape,t),a=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag)],o=this.compileAndRun(r,a),s=this.compileAndRun(i,a),u=this.complex(o,s).as2D(e.shape[0],e.shape[1]);return o.dispose(),s.dispose(),u},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],i=li(e,t),a=i[0],o=i[1],s=i[2],u=i[3],l=t.reshape([o,r]),c=e.reshape([e.size/s,s]),f=new go(r,u,[o,s]);return this.compileAndRun(f,[c,l]).reshape(a)},t.prototype.fill=function(e,t,n){if("string"===(n=n||Z(t))){var r=j(n,I(e));return r.fill(t),ze.makeTensor(r,e,n,this)}var i=new po(e,t),a=i.getCustomSetupFunc(t);return this.compileAndRun(i,[],n,a)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)},t.prototype.linspace=function(e,t,n){return Vi(e,t,n)},t.prototype.makeTensorInfo=function(e,t){var n=this.write(null,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}},t.prototype.makeOutput=function(e,t){var n=this.makeTensorInfo(e,t).dataId;return ze.makeTensorFromDataId(n,e,t,this)},t.prototype.unpackTensor=function(e){var t=new Ns(e.shape);return this.runWebGLProgram(t,[e],e.dtype)},t.prototype.packTensor=function(e){var t=new qo(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)},t.prototype.packedReshape=function(e,t){var n=[Ct(e.shape)].concat(At(e.shape)),r={dtype:e.dtype,shape:n,dataId:e.dataId},i=[Ct(t)].concat(At(t)),a=new Jo(i,n),o=this.runWebGLProgram(a,[r],e.dtype,null,!0);return{dataId:o.dataId,shape:t,dtype:o.dtype}},t.prototype.decode=function(e){var t,n=this.texData.get(e),r=n.isPacked,i=n.shape,a=n.dtype,o=Ot(i);return t=r?new ao(o):new io(o),{dtype:a,shape:i,dataId:this.runWebGLProgram(t,[{shape:o,dtype:a,dataId:e}],a,null,!0).dataId}},t.prototype.runWebGLProgram=function(e,t,n,r,i){var a=this;void 0===i&&(i=!1);var o=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(o.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===Ve.DENSE){var u=Ke(e.outputShape);s.texShape=u.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===I(o.shape))return s.values=U(o.dtype,0),o;var l=[],c=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=a.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&I(t.shape)<=h().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}else if(!!n.isPacked!=!!e.packedInputs)t=n.isPacked?a.unpackTensor(t):a.packTensor(t),l.push(t),n=a.texData.get(t.dataId);else if(n.isPacked&&!Dt(n.shape,t.shape)){var r=t,i=t.shape;t.shape=n.shape,t=a.packedReshape(t,i),l.push(t),n=a.texData.get(t.dataId),r.shape=i}return a.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(o.dataId);var f,d={shape:o.shape,texData:s,isUniform:!1},p=function(e,t,n){var r="";t.concat(n).forEach((function(e){var t=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,n=e.isUniform?"uniform":e.texData.texShape;r+=e.shape+"_"+n+"_"+t}));var i=e.userCode;return e.constructor.name+"_"+r+"_"+i}(e,c,d),m=this.getAndSaveBinary(p,(function(){return function(e,t,n,r){var i=t.userCode,a=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),o=a.map((function(e){return e.shapeInfo})),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},u=pa(a,s,i,t.packedInputs),l=e.createProgram(u),c=null,f=e.getUniformLocation(l,"NAN",!1);1===h().getNumber("WEBGL_VERSION")&&(c=e.getUniformLocation(l,"INFINITY",!1));for(var d={},p=0;p<t.variableNames.length;p++){var m=t.variableNames[p];d[m]=e.getUniformLocation(l,m,!1),d["offset"+m]=e.getUniformLocation(l,"offset"+m,!1)}return{program:t,source:u,webGLProgram:l,uniformLocations:d,inShapeInfos:o,outShapeInfo:s,infLoc:c,nanLoc:f}}(a.gpgpu,e,c,d)})),g=null!=this.activeTimers;if(g&&(f=this.startTimer()),function(e,t,n,r,i){Lo(t.inShapeInfos,n),Lo([t.outShapeInfo],[r]);var a=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(a,o[0],o[1]):e.setOutputMatrixTexture(a,o[0],o[1]),e.setProgram(t.webGLProgram),1===h().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var i=t.program.variableNames[r],a=t.uniformLocations[i],o=t.uniformLocations["offset"+i];if(null!=a)if(n.isUniform)if(I(n.shape)<2)e.gl.uniform1f(a,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),e.gl.uniform1fv(a,s)}else null!=n.texData.slice&&null!=o&&e.gl.uniform1i(o,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,a,r)})),null!=i&&i(e,t.webGLProgram),e.executeProgram()}(this.gpgpu,m,c,d,r),l.forEach((function(e){return a.disposeData(e.dataId)})),g&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)})),!h().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===i){var v=this.unpackTensor(o);return this.disposeData(o.dataId),v}return o},t.prototype.compileAndRun=function(e,t,n,r,i){void 0===i&&(i=!1),n=n||t[0].dtype;var a=this.runWebGLProgram(e,t,n,r,i);return ze.makeTensorFromDataId(a.dataId,a.shape,a.dtype)},t.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var e=this;this.disposed||(h().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]})),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=qt((function(){if(!h().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=h().getBool("DEBUG");h().set("DEBUG",!1);var n=e.abs(yn(1e-8)).dataSync()[0];if(h().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.uploadToGPU=function(e){var t,n=this.texData.get(e),r=n.shape,i=n.dtype,a=n.values,o=n.texture,s=n.usage,u=n.isPacked;if(null==o){var l,c=null!=this.activeTimers;c&&(l=ae());var f=n.texShape;if(null==f&&(f=It(r,u),n.texShape=f),null!=a){var h=Ot(r),d=void 0,p=f[1],m=f[0],g=a instanceof Uint8Array;u?(p=(t=Ze(f[0],f[1]))[0],m=t[1],d=new fo(h,[m,p],g)):d=new co(h,[m,p],g);var v=this.makeTensorInfo([m,p],i);this.texData.get(v.dataId).usage=g?Ge.PIXELS:Ge.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(v.dataId),p,m,a);var y=this.runWebGLProgram(d,[v],i,null,!0),b=this.texData.get(y.dataId);n.texture=b.texture,n.texShape=b.texShape,n.isPacked=b.isPacked,n.usage=b.usage,this.disposeData(v.dataId),this.texData.delete(y.dataId),n.values=null,c&&(this.uploadWaitMs+=ae()-l)}else{var w=this.acquireTexture(f,s,i,u);n.texture=w}}},t.prototype.convertAndCacheOnCPU=function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype "+t)}(t,r)),n.values},t.prototype.acquireTexture=function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+i+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)},t.prototype.computeBytes=function(e,t){return e[0]*e[1]*q(t)},t}(ki);function zs(e,t){return e(t={exports:{}},t.exports),t.exports}Ue()&&ze.registerBackend("webgl",(function(){return new Bs}),2),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e||"undefined"!=typeof self&&self;var Us=zs((function(e){!function(e,t,n){function r(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function a(e,t){var n=new r(e),a=t&&t.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,a&&("object"==typeof a&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.alea=a}(0,e)})),js=zs((function(e){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function a(e,t){var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&("object"==typeof a&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.xor128=a}(0,e)})),Vs=zs((function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function a(e,t){var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&("object"==typeof a&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.xorwow=a}(0,e)})),Gs=zs((function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function a(e,t){null==e&&(e=+new Date);var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&(a.x&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.xorshift7=a}(0,e)})),Ws=zs((function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,a=-32;a<u;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function a(e,t){null==e&&(e=+new Date);var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&(a.X&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.xor4096=a}(0,e)})),Hs=zs((function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function a(e,t){var n=new r(e),a=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,a&&("object"==typeof a&&i(a,n),o.state=function(){return i(n,{})}),o}t&&t.exports?t.exports=a:this.tychei=a}(0,e)})),qs=zs((function(e){!function(t,r){var i,a=this,o=256,s="random",u=r.pow(o,6),l=r.pow(2,52),c=2*l,f=255;function h(e,n,f){var h=[],v=m(function e(t,n){var r,i=[],a=typeof t;if(n&&"object"==a)for(r in t)try{i.push(e(t[r],n-1))}catch(e){}return i.length?i:"string"==a?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,g(t)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(o):(e=new Uint8Array(o),(a.crypto||a.msCrypto).getRandomValues(e)),g(e)}catch(e){var n=a.navigator,r=n&&n.plugins;return[+new Date,a,r,a.screen,g(t)]}}():e,3),h),y=new d(h),b=function(){for(var e=y.g(6),t=u,n=0;e<l;)e=(e+n)*o,t*=o,n=y.g(1);for(;e>=c;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|y.g(4)},b.quick=function(){return y.g(4)/4294967296},b.double=b,m(g(y.S),t),(n.pass||f||function(e,t,n,i){return i&&(i.S&&p(i,y),e.state=function(){return p(y,{})}),n?(r[s]=e,t):e})(b,v,"global"in n?n.global:this==r,n.state)}function d(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);i<o;)s[i]=i++;for(i=0;i<o;i++)s[i]=s[a=f&a+e[i%n]+(t=s[i])],s[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,s=r.S;e--;)t=s[i=f&i+1],n=n*o+s[f&(s[i]=s[a=f&a+t])+(s[a]=t)];return r.i=i,r.j=a,n})(o)}function p(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){for(var n,r=e+"",i=0;i<r.length;)t[f&i]=f&(n^=19*t[f&i])+r.charCodeAt(i++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(r["seed"+s]=h,m(r.random(),t),e.exports){e.exports=h;try{i=n(145)}catch(e){}}}([],Math)}));qs.alea=Us,qs.xor128=js,qs.xorwow=Vs,qs.xorshift7=Gs,qs.xor4096=Ws,qs.tychei=Hs;var Qs=qs.alea,Xs=hn({addN_:function(e){k(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),k(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length}));var t=e.map((function(e,t){return $t(e,"tensors"+t,"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!M(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return ze.runKernelFunc((function(e,n){return e.addN(t)}),r,null,"AddN")}});function Ys(){Wt("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}function Ks(e){return 0===e.rank||1===e.rank?e.as4D(1,1,1,e.size):2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function Zs(e,t,n,r,i,a){null==a&&(a=.001);var o,s,u=$t(e,"x","batchNorm"),l=$t(t,"mean","batchNorm"),c=$t(n,"variance","batchNorm");null!=i&&(o=$t(i,"scale","batchNorm")),null!=r&&(s=$t(r,"offset","batchNorm")),k(l.rank===c.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),k(null==s||l.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),k(null==o||l.rank===o.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var f={x:u,scale:o,offset:s,mean:l,variance:c},h={varianceEpsilon:a};return ze.runKernelFunc((function(e,t){var n=Ks(u),r=e.batchNormalization(n,Js(l),Js(c),a,Js(o),Js(s));return t([u,l,c,o]),r}),f,null,"FusedBatchNorm",h).reshape(u.shape)}function Js(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}var $s=hn({batchNormalization_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),Ys(),Zs(e,t,n,a,i,r)}}),eu=hn({batchNorm_:Zs});function tu(e,t,n,r,i,a){var o,s,u=$t(e,"x","batchNorm"),l=$t(t,"mean","batchNorm"),c=$t(n,"variance","batchNorm");return null!=i&&(o=$t(i,"scale","batchNorm")),null!=r&&(s=$t(r,"offset","batchNorm")),k(2===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),k(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+l.rank+"."})),k(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+c.rank+"."})),null!=o&&k(2===o.rank||1===o.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+o.rank+"."})),null!=s&&k(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."})),eu(u,l,c,s,o,a)}var nu=hn({batchNormalization2d_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),Ys(),tu(e,t,n,a,i,r)}}),ru=hn({batchNorm2d_:tu});function iu(e,t,n,r,i,a){var o,s,u=$t(e,"x","batchNorm"),l=$t(t,"mean","batchNorm"),c=$t(n,"variance","batchNorm");return null!=i&&(o=$t(i,"scale","batchNorm")),null!=r&&(s=$t(r,"offset","batchNorm")),k(3===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),k(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+l.rank+"."})),k(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+c.rank+"."})),null!=o&&k(3===o.rank||1===o.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+o.rank+"."})),null!=s&&k(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."})),eu(u,l,c,s,o,a)}var au=hn({batchNormalization3d_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),Ys(),iu(e,t,n,a,i,r)}}),ou=hn({batchNorm3d_:iu});function su(e,t,n,r,i,a){var o,s,u=$t(e,"x","batchNorm"),l=$t(t,"mean","batchNorm"),c=$t(n,"variance","batchNorm");return null!=i&&(o=$t(i,"scale","batchNorm")),null!=r&&(s=$t(r,"offset","batchNorm")),k(4===u.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."})),k(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+l.rank+"."})),k(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+c.rank+"."})),null!=o&&k(4===o.rank||1===o.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+o.rank+"."})),null!=s&&k(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."})),eu(u,l,c,s,o,a)}var uu=hn({batchNormalization4d_:function(e,t,n,r,i,a){return void 0===r&&(r=.001),Ys(),su(e,t,n,a,i,r)}}),lu=hn({batchNorm4d_:su}),cu=hn({broadcastTo_:function(e,t){var n=$t(e,"broadcastTo","x"),r=n.shape;if(t.some((function(e){return!(e>0)||e%1!=0})))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var i=n.shape.slice();i.length<t.length;)i.unshift(1);n=n.reshape(i)}for(var a=n.shape,o=Array.from(t),s=t.length-1;s>=0;s--)if(a[s]===t[s])o[s]=1;else if(1!==n.shape[s])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var u=o.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0}));if(0===u.length)return n.clone();var l={x:n},c={shape:t,inputShape:a};return ze.runKernelFunc((function(e){return e.tile(n,o)}),l,(function(e){return{x:function(){return e.sum(u,!0)}}}),nr,c)}}),fu=hn({clone_:function(e){var t=$t(e,"x","clone",null);return ze.runKernelFunc((function(){return ze.makeTensorFromDataId(t.dataId,t.shape,t.dtype)}),{x:t},null,ir)}}),hu=hn({logicalAnd_:function(e,t){var n=$t(e,"a","logicalAnd","bool"),r=$t(t,"b","logicalAnd","bool");return cr(n.shape,r.shape),ze.runKernelFunc((function(e){return e.logicalAnd(n,r)}),{a:n,b:r},null,"LogicalAnd")}}),du=hn({logicalNot_:function(e){var t=$t(e,"x","logicalNot","bool");return ze.runKernelFunc((function(e){return e.logicalNot(t)}),{$x:t})}}),pu=hn({logicalOr_:function(e,t){var n=$t(e,"a","logicalOr","bool"),r=$t(t,"b","logicalOr","bool");return cr(n.shape,r.shape),ze.runKernelFunc((function(e){return e.logicalOr(n,r)}),{$a:n,$b:r})}}),mu=hn({logicalXor_:function(e,t){var n=$t(e,"a","logicalXor","bool"),r=$t(t,"b","logicalXor","bool");return cr(n.shape,r.shape),pu(e,t).logicalAnd(hu(e,t).logicalNot())}}),gu=hn({where_:function(e,t,n){var r=$t(t,"a","where"),i=$t(n,"b","where"),a=$t(e,"condition","where","bool");return C(r.shape,i.shape,"Error in where: "),1===a.rank?k(a.shape[0]===r.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})):C(a.shape,i.shape,"Error in where: "),ze.runKernelFunc((function(e,t){var n=e.select(a,r,i);return t([a]),n}),{$condition:a,$a:r,$b:i},(function(e,t){var n=t[0];return{$condition:function(){return In(n).toFloat()},$a:function(){return e.mul(n.cast(e.dtype))},$b:function(){return e.mul(n.logicalNot().cast(e.dtype))}}}))}}),vu=function(e){return u(this,void 0,void 0,(function(){var t,n,r;return l(this,(function(i){switch(i.label){case 0:return[4,(t=$t(e,"condition","whereAsync","bool")).data()];case 1:return n=i.sent(),r=ia(t.shape,n),e!==t&&t.dispose(),[2,r]}}))}))},yu=hn({divNoNan_:function(e,t){var n,r=$t(e,"a","div"),i=$t(t,"b","div");r=(n=De(r,i))[0],i=n[1];var a=ui(r,i),o=In(a),s=i.equal(o);return gu(s,o,a)}}),bu=hn({tile_:function(e,t){var n=$t(e,"x","tile",null);k(n.rank===t.length,(function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."}));var r=[n],i={x:n},a={reps:t};return ze.runKernelFunc((function(e,r){var i=e.tile(n,t);return r([n]),i}),i,null,ar,a,r)}}),wu=hn({eye_:function(e,t,n,r){void 0===r&&(r="float32"),null==t&&(t=e);for(var i=Fn([e,t],r),a=e<=t?e:t,o=0;o<a;++o)i.set(1,o,o);var s=i.toTensor().as2D(e,t);if(null==n)return s;if(1===n.length)return bu(Vn(s,0),[n[0],1,1]);if(2===n.length)return bu(Vn(Vn(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return bu(Vn(Vn(Vn(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),Su=hn({multinomial_:function(e,t,n,r){void 0===r&&(r=!1);var i=$t(e,"logits","multinomial"),a=i.size,o=i.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+a+".");if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+o);n=n||Math.random();var s=1===o?i.as2D(1,-1):i,u=ze.runKernelFunc((function(e){return e.multinomial(s,r,t,n)}),{logits2D:s});return 1===o?u.as1D():u}}),xu=hn({oneHot_:function(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var i=$t(e,"indices","oneHot","int32"),a=i.shape.concat([t]),o={indices:i=i.flatten()},s={depth:t,onValue:n,offValue:r};return ze.runKernelFunc((function(e,a){return a([i]),e.oneHot(i,t,n,r)}),o,null,rr,s).reshape(a)}}),_u=hn({pad_:function(e,t,n){void 0===n&&(n=0);var r=$t(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var i={paddings:t,constantValue:n},a={x:r};return ze.runKernelFunc((function(e,i){return i([r]),e.pad(r,t,n)}),a,null,or,i)}}),Tu=hn({pad1d_:function(e,t,n){return void 0===n&&(n=0),k(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),_u(e,[t],n)}}),Eu=hn({pad2d_:function(e,t,n){return void 0===n&&(n=0),k(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),_u(e,t,n)}}),ku=hn({pad3d_:function(e,t,n){return void 0===n&&(n=0),k(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),_u(e,t,n)}}),Cu=hn({pad4d_:function(e,t,n){return void 0===n&&(n=0),k(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),_u(e,t,n)}}),Au=hn({rand_:function(e,t,n){var r=I(e),i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);i=new Uint8Array(r)}for(var a=0;a<r;a++)i[a]=t();return ze.makeTensor(i,e,n)}});function Ou(){return 32===ze.backend.floatPrecision()?.001:.1}function Iu(e,t,n){var r=!0;if((H(e)||H(t))&&(r=!1),H(e)&&H(t)&&(r=!0),r){var i=e.constructor.name,a=t.constructor.name;if(i!==a)throw new Error("Arrays are of different type. Actual: "+i+". Expected: "+a)}if(Array.isArray(e)&&Array.isArray(t)){var o=Zt(e),s=Zt(t);if(!M(o,s))throw new Error("Arrays have different shapes. Actual: ["+o+"]. Expected: ["+s+"]")}var u=H(e)?e:O(e),l=H(t)?t:O(t);if(u.length!==l.length)throw new Error("Arrays have different lengths actual: "+u.length+" vs expected: "+l.length+".\nActual:   "+u+".\nExpected: "+l+".");for(var c=0;c<l.length;++c){var f=u[c],h=l[c];if(!n(f,h))throw new Error("Arrays differ: actual["+c+"] = "+f+", expected["+c+"] = "+h+".\nActual:   "+u+".\nExpected: "+l+".")}}function Mu(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}Object.freeze({TEST_EPSILON_FLOAT16:.1,expectArraysClose:function(e,t,n){return null==n&&(n=Ou()),Iu(e,t,(function(e,t){return Mu(e,t,n)}))},testEpsilon:Ou,expectPromiseToFail:function(e,t){e().then((function(){return t.fail()}),(function(){return t()}))},expectArraysEqual:function(e,t){var n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return X(e)||X(e[0])||X(t)||X(t[0])?Iu(e,n,(function(e,t){return e==t})):Iu(e,t,(function(e,t){return Mu(e,t,0)}))},expectNumbersClose:function(e,t,n){if(null==n&&(n=Ou()),!Mu(e,t,n))throw new Error("Numbers differ: actual === "+e+", expected === "+t)},expectValuesInRange:function(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:"+e[r]+" low: "+t+", high: "+n)},expectArrayBuffersEqual:function(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}});var Du=function(){function e(e,t,n,r,i){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var a=i||Math.random();this.random=Qs(a.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var i=void 0,a=void 0,o=void 0;do{o=(i=2*this.random()-1)*i+(a=2*this.random()-1)*a}while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*i*s,n=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}(),Ru=function(){function e(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;var i=r||Math.random();this.randu=Qs(i.toString()),this.randn=new Du(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var e,t,n,r,i,a;;){do{r=this.randn.nextValue(),a=1+this.c*r}while(a<=0);if(a*=a*a,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-a+Math.log(a)),(i=this.randu())<t||Math.log(i)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)},e.prototype.convertValue=function(e){return"float32"===this.dtype?e:Math.round(e)},e}(),Pu=function(){function e(e,t,n,r){var i=this;if(void 0===e&&(e=0),void 0===t&&(t=1),this.canReturnFloat=function(){return null==i.dtype||"float32"===i.dtype},this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+t+" <= 1 and dtype is not float");this.random=Qs(r)}return e.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}(),Nu=hn({randomGamma_:function(e,t,n,r,i){if(void 0===n&&(n=1),void 0===r&&(r="float32"),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var a=new Ru(t,n,r,i),o=Fn(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),Lu=hn({randomNormal_:function(e,t,n,r,i){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var a=new Du(t,n,r,!1,i),o=Fn(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),Fu=hn({randomUniform_:function(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var a=Fn(e,r),o=new Pu(t,n,null,i),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),Bu=hn({square_:function(e){var t=$t(e,"x","square"),n=[t];return ze.runKernelFunc((function(e,n){return n([t]),e.square(t)}),{x:t},null,"Square",{},n,[])}}),zu=hn({squaredDifference_:function(e,t){var n,r=$t(e,"a","squaredDifference"),i=$t(t,"b","squaredDifference");n=De(r,i),r=n[0],i=n[1],cr(r.shape,i.shape);var a={a:r,b:i},o=[r,i];return ze.runKernelFunc((function(e,t){var n=e.squaredDifference(r,i);return t([r,i]),n}),a,(function(e,t){var n=t[0],r=t[1],i=yn(2);return{a:function(){return e.mul(n.sub(r).mul(i))},b:function(){return e.mul(r.sub(n).mul(i))}}}),tr,{},o,[])}}),Uu=hn({truncatedNormal_:function(e,t,n,r,i){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");for(var a=new Du(t,n,r,!0,i),o=Fn(e,r),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),ju=hn({equal_:function(e,t){var n,r=$t(e,"a","equal"),i=$t(t,"b","equal");return n=De(r,i),r=n[0],i=n[1],cr(r.shape,i.shape),ze.runKernelFunc((function(e){return e.equal(r,i)}),{$a:r,$b:i})}}),Vu=hn({equalStrict_:function(e,t){var n=$t(e,"a","equalStrict"),r=$t(t,"b","equalStrict");return C(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),Gu=hn({greater_:function(e,t){var n,r=$t(e,"a","greater"),i=$t(t,"b","greater");return n=De(r,i),r=n[0],i=n[1],cr(r.shape,i.shape),ze.runKernelFunc((function(e){return e.greater(r,i)}),{a:r,b:i},null,"Greater")}}),Wu=hn({greaterEqual_:function(e,t){var n,r=$t(e,"a","greaterEqual"),i=$t(t,"b","greaterEqual");return n=De(r,i),r=n[0],i=n[1],cr(r.shape,i.shape),ze.runKernelFunc((function(e,t){var n=e.greaterEqual(r,i);return t([r,i]),n}),{a:r,b:i},(function(e,t){var n=t[0],r=t[1];return{a:function(){return In(n)},b:function(){return In(r)}}}),"GreaterEqual")}}),Hu=hn({greaterEqualStrict_:function(e,t){var n=$t(e,"a","greaterEqualStrict"),r=$t(t,"b","greaterEqualStrict");return C(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),qu=hn({greaterStrict_:function(e,t){var n=$t(e,"a","greaterStrict"),r=$t(t,"b","greaterStrict");return C(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),Qu=hn({less_:function(e,t){var n,r=$t(e,"a","less"),i=$t(t,"b","less");return n=De(r,i),r=n[0],i=n[1],cr(r.shape,i.shape),ze.runKernelFunc((function(e){return e.less(r,i)}),{a:r,b:i},null,"Less")}}),Xu=hn({lessEqual_:function(e,t){var n,r=$t(e,"a","lessEqual"),i=$t(t,"b","lessEqual");return n=De(r,i),r=n[0],i=n[1],cr(r.shape,i.shape),ze.runKernelFunc((function(e,t){var n=e.lessEqual(r,i);return t([r,i]),n}),{a:r,b:i},null,"LessEqual")}}),Yu=hn({lessEqualStrict_:function(e,t){var n=$t(e,"a","lessEqualStrict"),r=$t(t,"b","lessEqualStrict");return C(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),Ku=hn({lessStrict_:function(e,t){var n=$t(e,"a","lessStrict"),r=$t(t,"b","lessStrict");return C(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),Zu=hn({notEqual_:function(e,t){var n,r=$t(e,"a","notEqual"),i=$t(t,"b","notEqual");return n=De(r,i),r=n[0],i=n[1],cr(r.shape,i.shape),ze.runKernelFunc((function(e){return e.notEqual(r,i)}),{a:r,b:i},null,"NotEqual")}}),Ju=hn({notEqualStrict_:function(e,t){var n=$t(e,"a","notEqualStrict"),r=$t(t,"b","notEqualStrict");return C(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function $u(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function el(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var tl=hn({gather_:function(e,t,n){void 0===n&&(n=0);var r=$t(e,"x","gather"),i=$t(t,"indices","gather","int32");n=B(n,r.shape)[0];var a=function(e,t,n){for(var r=e.shape[n],i=[],a=1,o=1,s=0;s<n;s++)i.push(e.shape[s]),a*=e.shape[s];for(s=0;s<t.rank;s++)i.push(t.shape[s]);for(s=n+1;s<e.rank;s++)i.push(e.shape[s]),o*=e.shape[s];return{batchSize:a,sliceSize:o,dimSize:r,outputShape:i}}(r,i,n);return ze.runKernelFunc((function(e,t){var a=e.gather(r,i.flatten(),n);return t([i]),a}),{x:r,indices:i},(function(e,t){var i=t[0];return{x:function(){var t=r.shape,a=i.size,o=t.slice(0,n),s=o.length,u=t.slice(n,t.length).slice(1),l=u.length,c=$u(0,s),f=$u(s+1,s+1+l),h=el([o,[a],u]),d=e.reshape(h),p=i.reshape([a]),m=el([[s],c,f]),g=d.transpose(m),v=nl(g,p,r.shape[n]),y=un(m);return v.transpose(y)},indices:function(){return i}}}),"Gather",{axis:n}).reshape(a.outputShape)}}),nl=hn({unsortedSegmentSum_:function(e,t,n){var r=$t(e,"x","unsortedSegmentSum"),i=$t(t,"segmentIds","unsortedSegmentSum","int32");return k(D(n),(function(){return"numSegments must be of dtype int"})),ze.runKernelFunc((function(e,t){var a=e.unsortedSegmentSum(r,i,n);return t([i]),a}),{$x:r},(function(e,t){var n=t[0];return{$x:function(){return function(e,t){for(var n=Yr(t,In(t)),r=tl(e,n),i=Wu(t,yn(0,"int32")),a=r.rank-i.rank,o=0;o<a;++o)i=Vn(i,o+1);i=hu(i,Tn(r.shape,"bool"));var s=In(r);return gu(i,r,s)}(e,n)}}}))}});function rl(e,t,n,r,i,a,o){void 0===a&&(a="NHWC"),k(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var s=e,u=t,l=!1;3===t.rank&&(l=!0,u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),k(4===s.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."})),k(4===u.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank})),k(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank}));var c="NHWC"===a?s[3]:s[1],f="NHWC"===a?u.shape[3]:u.shape[1];k(c===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input ("+c+") must match input depth for filter "+n.shape[2]+"."})),k(f===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output ("+f+") must match output depth for filter "+n.shape[3]+"."})),null!=o&&k(D(i),(function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."}));var h=zi(a),d=Ii(s,n.shape,r,1,i,o,!1,h),p=ze.runKernelFunc((function(e,t){var r=e.conv2dDerInput(u,n,d);return t([n,u]),r}),{dy4D:u,filter:n},(function(e,t){var n=t[0],s=t[1];return{dy4D:function(){return sl(e,n,r,i,a,1,o)},filter:function(){return ll(e,s,n.shape,r,i,a,o)}}}));return l?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function il(e){var t=function(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}(e),n=t[0],r=t[1],i=t[2];return 1===n&&1===r&&1===i}function al(e,t,n,r,i){k(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var a=e,o=t,s=!1;4===t.rank&&(s=!0,o=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),a=[1,e[0],e[1],e[2],e[3]]);var u=a[4],l=o.shape[4];k(5===a.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+a.length+"."})),k(5===o.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+o.rank})),k(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank})),k(u===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+n.shape[3]+"."})),k(l===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output ("+l+") must match output depth for filter "+n.shape[4]+"."}));var c=Mi(a,n.shape,r,1,i),f=ze.runKernelFunc((function(e){return e.conv3dDerInput(o,n,c)}),{dy5D:o});return s?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}var ol=hn({conv1d_:function(e,t,n,r,i,a,o){void 0===i&&(i="NWC"),void 0===a&&(a=1);var s=$t(e,"x","conv1d"),u=$t(t,"filter","conv1d"),l=s,c=!1;2===s.rank&&(c=!0,l=s.as3D(1,s.shape[0],s.shape[1])),k(3===l.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank "+l.rank+"."})),k(3===u.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."})),null!=o&&k(D(r),(function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."})),k(l.shape[2]===u.shape[1],(function(){return"Error in conv1d: depth of input ("+l.shape[2]+") must match input depth for filter "+u.shape[1]+"."})),k(Bi(n,a),(function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+a+"'"})),k("NWC"===i,(function(){return"Error in conv1d: got dataFormat of "+i+" but only NWC is currently supported."}));var f=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),h=l.as4D(l.shape[0],1,l.shape[1],l.shape[2]),d=sl(h,f,[1,n],r,"NHWC",[1,a],o);return c?d.as2D(d.shape[2],d.shape[3]):d.as3D(d.shape[0],d.shape[2],d.shape[3])}}),sl=hn({conv2d_:function(e,t,n,r,i,a,o){void 0===i&&(i="NHWC"),void 0===a&&(a=[1,1]);var s=$t(e,"x","conv2d"),u=$t(t,"filter","conv2d"),l=s,c=!1;3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),k(4===l.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank "+l.rank+"."})),k(4===u.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."})),null!=o&&k(D(r),(function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var f="NHWC"===i?l.shape[3]:l.shape[1];k(f===u.shape[2],(function(){return"Error in conv2d: depth of input ("+f+") must match input depth for filter "+u.shape[2]+"."})),k(Bi(n,a),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}));var h=zi(i),d=Ii(l.shape,u.shape,n,a,r,o,!1,h),p=[u,l],m=ze.runKernelFunc((function(e,t){var n=e.conv2d(l,u,d);return t([u,l]),n}),{x:l,filter:u},(function(e,t){var o=t,s=o[0],u=o[1];return k(Fi(a),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"})),{x:function(){return cl(u.shape,e,s,n,r,i)},filter:function(){return ll(u,e,s.shape,n,r,i)}}}),"Conv2D",d,p);return c?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),ul=hn({conv3d_:function(e,t,n,r,i,a){void 0===i&&(i="NDHWC"),void 0===a&&(a=[1,1,1]);var o=$t(e,"x","conv3d"),s=$t(t,"filter","conv3d"),u=o,l=!1;4===o.rank&&(l=!0,u=o.as5D(1,o.shape[0],o.shape[1],o.shape[2],o.shape[3])),k(5===u.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."})),k(5===s.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."})),k(u.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."})),k(function(e,t){return il(e)||il(t)}(n,a),(function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),k("NDHWC"===i,(function(){return"Error in conv3d: got dataFormat of "+i+" but only NDHWC is currently supported."}));var c=Mi(u.shape,s.shape,n,a,r),f=ze.runKernelFunc((function(e,t){var n=e.conv3d(u,s,c);return t([u,s]),n}),{x:u,$filter:s},(function(e,t){k(il(a),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"}));var i=t[0],o=t[1];return{x:function(){return al(i.shape,e,o,n,r)},$filter:function(){return function(e,t,n,r,i){var a=e;4===e.rank&&(a=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]));var o=t;4===o.rank&&(o=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3])),k(5===a.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+a.shape+"."})),k(5===o.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+o.shape+"."})),k(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."})),k(a.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input "+a.shape[4]+") must match input depth in filter ("+n[3]+"."})),k(o.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy ("+o.shape[4]+") must match output depth for filter ("+n[4]+")."}));var s=Mi(a.shape,n,r,1,i);return ze.runKernelFunc((function(e){return e.conv3dDerFilter(a,o,s)}),{x5D:a,dy5D:o})}(i,e,o.shape,n,r)}}}));return l?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),ll=hn({conv2dDerFilter_:function(e,t,n,r,i,a,o){void 0===a&&(a="NHWC");var s=e;3===e.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var u=t;3===u.rank&&(u=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),k(4===s.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."})),k(4===u.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."})),k(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."}));var l="NHWC"===a?s.shape[3]:s.shape[1],c="NHWC"===a?u.shape[3]:u.shape[1];k(l===n[2],(function(){return"Error in conv2dDerFilter: depth of input "+l+") must match input depth in filter ("+n[2]+"."})),k(c===n[3],(function(){return"Error in conv2dDerFilter: depth of dy ("+c+") must match output depth for filter ("+n[3]+")."})),null!=o&&k(D(i),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."}));var f=zi(a),h=Ii(s.shape,n,r,1,i,o,!1,f);return ze.runKernelFunc((function(e){return e.conv2dDerFilter(s,u,h)}),{x4D:s,dy4D:u})}}),cl=hn({conv2dDerInput_:rl}),fl=hn({depthwiseConv2d_:function(e,t,n,r,i,a,o){void 0===i&&(i="NHWC"),void 0===a&&(a=[1,1]);var s=$t(e,"x","depthwiseConv2d"),u=$t(t,"filter","depthwiseConv2d"),l=s,c=!1;3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),k(4===l.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+l.rank+"."})),k(4===u.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."})),k(l.shape[3]===u.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels ("+l.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."})),null==a&&(a=[1,1]),k(Bi(n,a),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"})),null!=o&&k(D(r),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."}));var f=Ii(l.shape,u.shape,n,a,r,o,!0),h=[l,u],d=ze.runKernelFunc((function(e,t){var n=e.depthwiseConv2D(l,u,f);return t([l,u]),n}),{x:l,filter:u},(function(e,t){k(Fi(a),(function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+a+"'"}));var n=t[0],r=t[1];return{x:function(){return hl(n.shape,e,r,f)},filter:function(){return dl(n,e,r.shape,f)}}}),"DepthwiseConv2dNative",f,h);return c?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}}),hl=hn({depthwiseConv2dDerInput_:function(e,t,n,r){var i=t,a=!1;3===t.rank&&(a=!0,i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var o=ze.runKernelFunc((function(e){return e.depthwiseConv2DDerInput(i,n,r)}),{dy4D:i});return a?o.as3D(o.shape[1],o.shape[2],o.shape[3]):o}}),dl=hn({depthwiseConv2dDerFilter_:function(e,t,n,r){var i=e;3===e.rank&&(i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var a=t;return 3===a.rank&&(a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),ze.runKernelFunc((function(e){return e.depthwiseConv2DDerFilter(i,a,r)}),{x4D:i,dy4D:a})}}),pl=hn({separableConv2d_:function(e,t,n,r,i,a,o){void 0===a&&(a=[1,1]),void 0===o&&(o="NHWC");var s=$t(e,"x","separableConv2d"),u=$t(t,"depthwiseFilter","separableConv2d"),l=$t(n,"pointwiseFilter","separableConv2d"),c=s,f=!1;if(3===s.rank&&(f=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===o)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");k(4===c.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got rank "+c.rank+"."})),k(4===u.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."})),k(4===l.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."})),k(1===l.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+l.shape[0]+"."})),k(1===l.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+l.shape[1]+"."}));var h=u.shape[2],d=u.shape[3];k(l.shape[2]===h*d,(function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+h*d+", but got "+l.shape[2]+"."}));var p=fl(c,u,r,i,o,a),m=sl(p,l,1,"valid",o);return f?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),ml=hn({conv2dTranspose_:function(e,t,n,r,i,a){return rl(n,$t(e,"x","conv2dTranspose"),$t(t,"filter","conv2dTranspose"),r,i,"NHWC",a)}}),gl=hn({conv3dTranspose_:function(e,t,n,r,i){return al(n,$t(e,"x","conv3dTranspose"),$t(t,"filter","conv3dTranspose"),r,i)}}),vl=hn({matMul_:function(e,t,n,r){var i;void 0===n&&(n=!1),void 0===r&&(r=!1);var a=$t(e,"a","matMul"),o=$t(t,"b","matMul");i=De(a,o),a=i[0],o=i[1];var s=n?a.shape[a.rank-2]:a.shape[a.rank-1],u=r?o.shape[o.rank-1]:o.shape[o.rank-2],l=n?a.shape[a.rank-1]:a.shape[a.rank-2],c=r?o.shape[o.rank-2]:o.shape[o.rank-1],f=a.shape.slice(0,-2),h=o.shape.slice(0,-2),d=I(f),p=I(h);k(a.rank>=2&&o.rank>=2&&a.rank===o.rank,(function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+a.rank+" and "+o.rank+"."})),k(M(f,h),(function(){return"Error in matMul: outer dimensions ("+f+") and ("+h+") of Tensors with shapes "+a.shape+" and "+o.shape+" must match."})),k(s===u,(function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+a.shape+" and "+o.shape+" and transposeA="+n+" and transposeB="+r+" must match."}));var m=a.shape.slice(0,-2).concat([l,c]),g=n?a.as3D(d,s,l):a.as3D(d,l,s),v=r?o.as3D(p,c,u):o.as3D(p,u,c),y={transposeA:n,transposeB:r};return ze.runKernelFunc((function(e,t){var i=e.batchMatMul(g,v,n,r);return t([g,v]),i}),{a:g,b:v},(function(e,t){var i=t,a=i[0],o=i[1];return n||r?!n&&r?{a:function(){return e.matMul(o,!1,!1)},b:function(){return e.matMul(a,!0,!1)}}:n&&!r?{a:function(){return o.matMul(e,!1,!0)},b:function(){return a.matMul(e,!1,!1)}}:{a:function(){return o.matMul(e,!0,!0)},b:function(){return e.matMul(a,!0,!0)}}:{a:function(){return e.matMul(o,!1,!0)},b:function(){return a.matMul(e,!0,!1)}}}),"BatchMatMul",y).reshape(m)}}),yl=hn({dot_:function(e,t){var n=$t(e,"t1","dot"),r=$t(t,"t2","dot");k(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."}));var i=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];return k(i===a,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+i+" and "+a+"."})),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),bl=hn({outerProduct_:function(e,t){var n=$t(e,"v1","outerProduct"),r=$t(t,"v2","outerProduct");return k(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."})),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),wl=hn({reverse_:function(e,t){var n=$t(e,"x","reverse");if(0===n.rank)return n.clone();var r=B(t,n.shape);return ze.runKernelFunc((function(e){return e.reverse(n,r)}),{$x:n},(function(e){return{$x:function(){return e.reverse(r)}}})).reshapeAs(n)}}),Sl=hn({reverse1d_:function(e){var t=$t(e,"x","reverse");return k(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."})),wl(t,0)}}),xl=hn({reverse2d_:function(e,t){var n=$t(e,"x","reverse");return k(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."})),wl(n,t)}}),_l=hn({reverse3d_:function(e,t){var n=$t(e,"x","reverse");return k(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."})),wl(n,t)}}),Tl=hn({reverse4d_:function(e,t){var n=$t(e,"x","reverse");return k(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."})),wl(n,t)}});function El(e,t,n,r,i,a){var o=$t(e,"x","maxPool"),s=o,u=!1;3===o.rank&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),null==r&&(r=[1,1]),k(4===s.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."})),k(Bi(n,r),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"})),null!=a&&k(D(i),(function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."}));var l=Ai(s.shape,t,n,r,i,a);if(1===l.filterWidth&&1===l.filterHeight&&M(l.inShape,l.outShape))return o.clone();var c=[s],f=ze.runKernelFunc((function(e,t){var n=e.maxPool(s,l);return t([s,n]),n}),{x:s},(function(e,a){var o=a[0],s=a[1];return{x:function(){return function(e,t,n,r,i,a,o,s){var u=$t(e,"dy","maxPoolBackprop"),l=$t(t,"input","maxPoolBackprop"),c=$t(n,"output","maxPoolBackprop");k(l.rank===u.rank,(function(){return"Rank of input ("+l.rank+") does not match rank of dy ("+u.rank+")"})),null==a&&(a=[1,1]),k(Bi(i,a),(function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+a+"'"})),k(4===u.rank,(function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."})),k(4===l.rank,(function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+l.rank+"."}));var f=Ai(l.shape,r,i,a,o,s);return ze.runKernelFunc((function(e){return e.maxPoolBackprop(u,l,c,f)}),{$dy:u,$input:l})}(e,o,s,t,n,r,i)}}}),"MaxPool",l,c);return u?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}function kl(e,t,n,r,i,a){var o=$t(e,"x","avgPool","float32");null==r&&(r=[1,1]),k(Bi(n,r),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}));var s=o,u=!1;3===o.rank&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),k(4===s.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."})),null!=a&&k(D(i),(function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."}));var l=Ai(s.shape,t,n,r,i,a);if(1===l.filterWidth&&1===l.filterHeight&&M(l.inShape,l.outShape))return o.clone();var c=ze.runKernelFunc((function(e){return e.avgPool(s,l)}),{x:s},(function(e){return{x:function(){return function(e,t,n,r,i,a){var o=$t(e,"dy","avgPoolBackprop"),s=$t(t,"input","avgPoolBackprop");k(s.rank===o.rank,(function(){return"Rank of input ("+s.rank+") does not match rank of dy ("+o.rank+")"})),null==i&&(i=[1,1]),k(Bi(r,i),(function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"}));var u=s,l=o,c=!1;3===s.rank&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),l=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),k(4===l.rank,(function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+l.rank+"."})),k(4===u.rank,(function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+u.rank+"."}));var f=Ai(u.shape,n,r,i,a),h=ze.runKernelFunc((function(e){return e.avgPoolBackprop(l,u,f)}),{dy4D:l,input4D:u});return c?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}(e,s,t,n,r,i)}}}),"AvgPool",l);return c=c.cast(o.dtype),u?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}var Cl=hn({maxPool_:function(e,t,n,r,i){return El(e,t,n,1,r,i)}}),Al=hn({avgPool_:function(e,t,n,r,i){return kl(e,t,n,1,r,i)}}),Ol=hn({pool_:function(e,t,n,r,i,a){null==i&&(i=[1,1]),null==a&&(a=1),0===r&&(r="valid");var o=$t(e,"x","maxPool"),s=o,u=!1;3===o.rank&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),k(Bi(a,i),(function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+a+" and dilations '"+i+"'"}));var l,c=Ai(s.shape,t,a,i,r),f=[c.dilationHeight,c.dilationWidth];l="same"===r?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),i=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],i[t]]}))}([c.filterHeight,c.filterWidth],f):[[0,0],[0,0]];var h=1===f[0]&&1===f[1],d=function(e,t,n){var r=n.map((function(e){return e[0]})),i=n.map((function(e){return e[1]})),a=e.concat(r,i),o=t.map((function(e,t){return(e-a[t]%e)%e})),s=i.map((function(e,t){return e+o[t]}));return[t.map((function(e,t){return[r[t],s[t]]})),t.map((function(e,t){return[0,o[t]]}))]}([c.inHeight,c.inWidth],f,l),p=d[0],m=d[1],g=h?r:"valid",v=h?s:Wn(s,f,p),y=("avg"===n?function(){return kl(v,t,a,1,g)}:function(){return El(v,t,a,1,g)})(),b=h?y:Bn(y,f,m);return u?b.as3D(b.shape[1],b.shape[2],b.shape[3]):b}}),Il=hn({maxPool3d_:function(e,t,n,r,i,a,o){void 0===a&&(a="NDHWC");var s=$t(e,"x","maxPool3d"),u=s,l=!1;4===s.rank&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==o&&(o=[1,1,1]),k(5===u.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."})),k("NDHWC"===a,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+a})),k(Bi(n,o),(function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"})),null!=i&&k(D(r),(function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var c=Oi(u.shape,t,n,o,r,i,a),f=ze.runKernelFunc((function(e,t){var n=e.maxPool3d(u,c);return t([u,n]),n}),{x:u},(function(e,a){var s=a[0],u=a[1];return{x:function(){return function(e,t,n,r,i,a,o,s){var u=$t(e,"dy","maxPool3dBackprop"),l=$t(t,"input","maxPool3dBackprop"),c=$t(n,"output","maxPool3dBackprop"),f=u,h=l,d=c,p=!1;4===l.rank&&(p=!0,f=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]),h=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]),d=c.as5D(1,c.shape[0],c.shape[1],c.shape[2],c.shape[3])),k(5===f.rank,(function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+f.rank+"."})),k(5===h.rank,(function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+h.rank+"."})),k(5===d.rank,(function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+d.rank+"."})),null==a&&(a=[1,1,1]),k(Bi(i,a),(function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+a+"'"})),null!=s&&k(D(o),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+o+"."}));var m=Oi(h.shape,r,i,a,o,s),g=ze.runKernelFunc((function(e){return e.maxPool3dBackprop(f,h,d,m)}),{dy5D:f,input5D:h});return p?g.as4D(g.shape[1],g.shape[2],g.shape[3],g.shape[4]):g}(e,s,u,t,n,o,r,i)}}}));return l?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),Ml=hn({avgPool3d_:function(e,t,n,r,i,a,o){void 0===a&&(a="NDHWC");var s=$t(e,"x","avgPool3d","float32"),u=s,l=!1;4===s.rank&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==o&&(o=[1,1,1]),k(5===u.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."})),k("NDHWC"===a,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+a})),k(Bi(n,o),(function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+o+"'"})),null!=i&&k(D(r),(function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}));var c=Oi(u.shape,t,n,o,r,i,a),f=ze.runKernelFunc((function(e){return e.avgPool3d(u,c)}),{x:u},(function(e){return{x:function(){return function(e,t,n,r,i,a,o){var s=$t(e,"dy","avgPool3dBackprop"),u=$t(t,"input","avgPool3dBackprop"),l=s,c=u,f=!1;4===u.rank&&(f=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),c=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3])),k(5===l.rank,(function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+l.rank+"."})),k(5===c.rank,(function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+c.rank+"."})),null==i&&(i=[1,1,1]),k(Bi(r,i),(function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"})),null!=o&&k(D(a),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."}));var h=Oi(c.shape,n,r,i,a,o),d=ze.runKernelFunc((function(e){return e.avgPool3dBackprop(l,c,h)}),{dy5D:l,input5D:c});return f?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}(e,u,t,n,o,r,i)}}}));return f=f.cast(u.dtype),l?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),Dl=hn({maxPoolWithArgmax_:function(e,t,n,r,i){void 0===i&&(i=!1);var a=$t(e,"x","maxPoolWithArgmax"),o={filterSize:t,strides:n,pad:r,includeBatchInIndex:i},s=ze.runKernel("MaxPoolWithArgmax",{x:a},o);return{result:s[0],indexes:s[1]}}}),Rl=hn({slice_:function(e,t,n){var r,i,a=$t(e,"x","slice");if(0===a.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof t?[t].concat(new Array(a.rank-1).fill(0)):t.length<a.rank?t.concat(new Array(a.rank-t.length).fill(0)):t.slice()).forEach((function(e){k(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),i=(i=null==n?new Array(a.rank).fill(-1):"number"==typeof n?[n].concat(new Array(a.rank-1).fill(-1)):n.length<a.rank?n.concat(new Array(a.rank-n.length).fill(-1)):n).map((function(e,t){return e>=0?e:(k(-1===e,(function(){return"Negative size values should be exactly -1 but got "+e+" for the slice() size at index "+t+"."})),a.shape[t]-r[t])})),pi(a,r,i);var o=a.shape,s={begin:r,size:i};return ze.runKernelFunc((function(e){return e.slice(a,r,i)}),{x:a},(function(e){for(var t=[],n=0;n<e.rank;n++)t.push([r[n],o[n]-r[n]-i[n]]);return{x:function(){return _u(e,t)}}}),"Slice",s)}}),Pl=hn({slice1d_:function(e,t,n){var r=$t(e,"x","slice1d");return k(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"})),Rl(r,[t],[n])}}),Nl=hn({slice2d_:function(e,t,n){var r=$t(e,"x","slice2d");return k(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"})),Rl(r,t,n)}}),Ll=hn({slice3d_:function(e,t,n){var r=$t(e,"x","slice3d");return k(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"})),Rl(r,t,n)}}),Fl=hn({slice4d_:function(e,t,n){var r=$t(e,"x","slice4d");return k(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"})),Rl(r,t,n)}});function Bl(e,t,n,r,i){return t.rank<n.rank&&(t=t.reshape(an(t.shape,r))),e.rank<n.rank&&(e=e.reshape(an(e.shape,r))),{x:function(){var r=e.mul(n.equal(t).cast(e.dtype));return null==i?r:r.transpose(i)}}}var zl=hn({all_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=$t(e,"x","all","bool"),i=B(t,r.shape),a=i,o=sn(a,r.rank);null!=o&&(r=r.transpose(o),a=ln(a.length,r.rank));var s=ze.runKernelFunc((function(e){return e.all(r,a)}),{$x:r});if(n){var u=an(s.shape,i);return s.reshape(u)}return s}}),Ul=hn({any_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=$t(e,"x","any","bool"),i=B(t,r.shape),a=i,o=sn(a,r.rank);null!=o&&(r=r.transpose(o),a=ln(a.length,r.rank));var s=ze.runKernelFunc((function(e){return e.any(r,a)}),{$x:r});if(n){var u=an(s.shape,i);return s.reshape(u)}return s}}),jl=hn({argMax_:function(e,t){void 0===t&&(t=0);var n=$t(e,"x","argMax");null==t&&(t=0);var r=B(t,n.shape),i=sn(r,n.rank);null!=i&&(n=n.transpose(i),r=ln(r.length,n.rank));var a={axis:r[0]},o=[n];return ze.runKernelFunc((function(e,t){var i=e.argMax(n,r[0]);return t([n]),i}),{x:n},(function(e,t){var n=t[0];return{x:function(){return In(n)}}}),"ArgMax",a,o)}}),Vl=hn({argMin_:function(e,t){void 0===t&&(t=0);var n=$t(e,"x","argMin");null==t&&(t=0);var r=B(t,n.shape),i=sn(r,n.rank);return null!=i&&(n=n.transpose(i),r=ln(r.length,n.rank)),ze.runKernelFunc((function(e,t){var i=e.argMin(n,r[0]);return t([n]),i}),{$x:n},(function(e,t){var n=t[0];return{$x:function(){return In(n)}}}))}}),Gl=hn({logSumExp_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=$t(e,"x","logSumExp"),i=B(t,r.shape),a=r.max(i,!0),o=r.sub(a).exp().sum(i).log(),s=a.reshape(o.shape).add(o);if(n){var u=an(s.shape,i);return s.reshape(u)}return s}}),Wl=hn({max_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=$t(e,"x","max"),i=r,a=B(t,r.shape),o=a,s=sn(o,r.rank);null!=s&&(r=r.transpose(s),o=ln(o.length,r.rank));var u=[r],l=ze.runKernelFunc((function(e,t){var n=e.max(r,o);return t([i,n]),n}),{x:r},(function(e,t){return Bl(e,t[1],t[0],a,s)}),"Max",{axes:o},u,[!0]);if(n){var c=an(l.shape,a);l=l.reshape(c)}return l}}),Hl=hn({mean_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=$t(e,"x","mean"),i=B(t,r.shape),a=I(rn(r.shape,i)[1]);return Si((function(e){var r=yn(a);return{value:(r.dtype===e.dtype?e:e.cast(r.dtype)).div(r).sum(t,n),gradFunc:function(t){var n=e.shape.slice();return i.forEach((function(e){n[e]=1})),t.reshape(n).mul(Tn(e.shape,"float32")).div(a)}}}))(r)}}),ql=hn({min_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=$t(e,"x","min"),i=r,a=B(t,r.shape),o=a,s=sn(o,r.rank);null!=s&&(r=r.transpose(s),o=ln(o.length,r.rank));var u=[r],l=ze.runKernelFunc((function(e,t){var n=e.min(r,o);return t([i,n]),n}),{x:r},(function(e,t){return Bl(e,t[1],t[0],a,s)}),"Min",{axes:o},u,[!0]);if(n){var c=an(l.shape,a);l=l.reshape(c)}return l}}),Ql=hn({moments_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=B(t,(e=$t(e,"x","moments")).shape),i=e.mean(r,n),a=i.shape;n||(a=an(i.shape,r));var o=e.toFloat().sub(i.reshape(a)).square();return{mean:i,variance:o.mean(r,n)}}}),Xl=hn({sum_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=$t(e,"x","sum");"bool"===r.dtype&&(r=r.toInt());var i=B(t,r.shape);return Si((function(e){var t=sn(i,e.rank),r=i,a=e;null!=t&&(a=e.transpose(t),r=ln(r.length,e.rank));var o=function(t){var n=e.shape.slice();return i.forEach((function(e){n[e]=1})),t.reshape(n).mul(Tn(e.shape,"float32"))},s={axes:r},u=ze.runKernelFunc((function(e){return e.sum(a,r)}),{x:a},(function(e){return{x:function(){return o(e)}}}),"Sum",s);if(n){var l=an(u.shape,i);u=u.reshape(l)}return{value:u,gradFunc:o}}))(r)}}),Yl=hn({prod_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=$t(e,"x","prod");"bool"===r.dtype&&(r=r.toInt());var i=B(t,r.shape),a=sn(i,r.rank),o=i,s=r;null!=a&&(s=r.transpose(a),o=ln(o.length,r.rank));var u=ze.runKernelFunc((function(e){return e.prod(s,o)}),{permutedX:s});if(n){var l=an(u.shape,i);u=u.reshape(l)}return u}}),Kl=hn({elu_:function(e){var t=$t(e,"x","elu");return ze.runKernelFunc((function(e,n){var r=e.elu(t);return n([r]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){return ze.runKernelFunc((function(t){return t.eluDer(e,n)}),{dy:e,y:n})}}}))}}),Zl=hn({leakyRelu_:function(e,t){void 0===t&&(t=.2);var n=$t(e,"x","leakyRelu");return Yr(yn(t).mul(n),n)}}),Jl=hn({prelu_:function(e,t){var n=$t(e,"x","prelu"),r=$t(t,"alpha","prelu");return ze.runKernelFunc((function(e,t){var i=e.prelu(n,r);return t([n,r]),i}),{x:n,alpha:r},(function(e,t){var n=t[0],r=t[1],i=n.greater(0);return{x:function(){return gu(i,e,e.mul(r))},alpha:function(){var t=gu(i,In(e),e.mul(n)),a=lr(r.shape,e.shape);return a.length>0&&(t=t.sum(a)),t.reshape(r.shape)}}}),"Prelu")}}),$l=hn({relu_:function(e){var t=$t(e,"x","relu");return"bool"===t.dtype?t.toInt():ze.runKernelFunc((function(e,n){var r=e.relu(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0];return{x:function(){return e.mulStrict(n.step().toFloat())}}}),"Relu")}}),ec=hn({relu6_:function(e){var t=$t(e,"x","relu6");return"bool"===t.dtype?t.toInt():ze.runKernelFunc((function(e,n){var r=e.relu6(t);return n([t]),r}),{x:t},(function(e,t){var n=t[0],r=n.lessEqual(6).mul(n.step());return{x:function(){return e.mulStrict(r.toFloat())}}}),"Relu6")}}),tc=hn({selu_:function(e){var t=$t(e,"x","selu");return ze.runKernelFunc((function(e,n){var r=e.selu(t);return n([t]),r}),{$x:t},(function(e,t){var n=t[0];return{$x:function(){var t=n.greater(yn(0)),r=yn(vs),i=yn(ys),a=e.mul(i),o=e.mul(r).mul(n.toFloat().exp());return gu(t,a,o)}}}))}}),nc=hn({localResponseNormalization_:function(e,t,n,r,i){void 0===t&&(t=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=.5);var a=$t(e,"x","localResponseNormalization");k(4===a.rank||3===a.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+a.rank+"."})),k(D(t),(function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."}));var o=a,s=!1;3===a.rank&&(s=!0,o=a.as4D(1,a.shape[0],a.shape[1],a.shape[2]));var u=ze.runKernelFunc((function(e,a){var s=e.localResponseNormalization4D(o,t,n,r,i);return a([o,s]),s}),{x4D:o},(function(e,a){var o=a[0],s=a[1];return{x4D:function(){return ze.runKernelFunc((function(a){return a.LRNGrad(e,o,s,t,n,r,i)}),{})}}}));return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),rc=hn({norm_:function(e,t,n,r){void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var i=function e(t,n,r){if(void 0===r&&(r=null),0===t.rank)return t.abs();if(1!==t.rank&&null===r)return e(t.reshape([-1]),n,r);if(1===t.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return t.abs().sum(r);if(n===1/0)return t.abs().max(r);if(n===-1/0)return t.abs().min(r);if("euclidean"===n||2===n)return t.abs().pow(yn(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return t.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return t.abs().sum(r[1]).max(r[0]);if(n===-1/0)return t.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return t.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(e=$t(e,"x","norm"),t,n),a=i.shape;if(r){var o=B(n,e.shape);a=an(i.shape,o)}return i.reshape(a)}}),ic=hn({basicLSTMCell_:function(e,t,n,r,i,a){var o=$t(e,"forgetBias","basicLSTMCell"),s=$t(t,"lstmKernel","basicLSTMCell"),u=$t(n,"lstmBias","basicLSTMCell"),l=$t(r,"data","basicLSTMCell"),c=$t(i,"c","basicLSTMCell"),f=$t(a,"h","basicLSTMCell"),h=l.concat(f,1).matMul(s).add(u),d=h.shape[0],p=h.shape[1]/4,m=[d,p],g=h.slice([0,0],m),v=h.slice([0,p],m),y=h.slice([0,2*p],m),b=h.slice([0,3*p],m),w=g.sigmoid().mulStrict(v.tanh()).addStrict(c.mulStrict(o.add(y).sigmoid())),S=w.tanh().mulStrict(b.sigmoid());return[w,S]}}),ac=hn({multiRNNCell_:function(e,t,n,r){for(var i=$t(t,"data","multiRNNCell"),a=en(n,"c","multiRNNCell"),o=en(r,"h","multiRNNCell"),s=i,u=[],l=0;l<e.length;l++){var c=e[l](s,a[l],o[l]);u.push(c[0]),u.push(c[1]),s=c[1]}var f=[],h=[];for(l=0;l<u.length;l+=2)f.push(u[l]),h.push(u[l+1]);return[f,h]}}),oc=hn({movingAverage_:function(e,t,n,r,i){void 0===i&&(i=!0);var a=$t(e,"v","movingAverage"),o=$t(t,"x","movingAverage"),s=$t(n,"decay","movingAverage");Re(a,o),k(M(a.shape,o.shape),(function(){return"Shape mismatch in v and x"}));var u=yn(1),l=u.sub(s),c=o.sub(a).mul(l);if(i){k(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var f=$t(r,"step","movingAverage");c=c.div(u.sub(ri(s,f)))}return a.add(c)}}),sc=hn({stridedSlice_:function(e,t,n,r,i,a,o,s,u){if(void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===u&&(u=0),null==r&&(r=new Array(t.length)),0!==o)throw new Error("ellipsis mask is not yet supported");var l=$t(e,"x","stridedSlice"),c=mi(s),f=l.shape.slice();c.forEach((function(e){t[e]=0,n[e]=1,f.splice(e,0,1)})),l=l.reshape(f);for(var h=0;h<l.rank;h++)t[h]=vi(i,t,r,l.shape,h),n[h]=yi(a,n,r,l.shape,h),r[h]=r[h]||1;var d=mi(u);d.forEach((function(e){n[e]=t[e]+1,r[e]=1}));var p=gi(t,n,r),m=p.filter((function(e,t){return-1===d.indexOf(t)}));return r.every((function(e){return 1===e}))?Rl(l,t,p).reshape(m):ze.runKernelFunc((function(e){return e.stridedSlice(l,t,n,r)}),{$x:l}).reshape(m)}}),uc=hn({topk_:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!0);var r=$t(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var i=r.shape[r.shape.length-1];if(t>i)throw new Error("'k' passed to topk() must be <= the last dimension ("+i+") but got "+t);var a=ze.runKernelFunc((function(e){return e.topk(r,t,n)}),{$x:r});return{values:a[0],indices:a[1]}}}),lc=hn({scatterND_:function(e,t,n){var r=$t(e,"indices","scatterND","int32"),i=$t(t,"updates","scatterND");return hi(i,r,n),ze.runKernelFunc((function(e){return e.scatterND(r,i,n)}),{indices:r,updates:i},null,"ScatterNd",{shape:n})}}),cc=hn({fft_:function(e){k("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return ze.runKernelFunc((function(e){return e.fft(r)}),{input:e}).reshape(e.shape)}}),fc=hn({ifft_:function(e){k("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return ze.runKernelFunc((function(e){return e.ifft(r)}),{input:e}).reshape(e.shape)}}),hc=hn({rfft_:function(e,t){k("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got "+e.dtype}));var n,r=e.shape[e.shape.length-1],i=e.size/r;if(null!=t&&t<r){var a=e.shape.map((function(e){return 0})),o=e.shape.map((function(e){return e}));o[e.shape.length-1]=t,n=e.slice(a,o),r=t}else if(null!=t&&t>r){var s=e.shape.map((function(e){return e}));s[e.shape.length-1]=t-r,n=e.concat(En(s),e.shape.length-1),r=t}else n=e;var u=n.zerosLike(),l=dn(n,u).as2D(i,r),c=cc(l),f=Math.floor(r/2)+1,h=pn(c),d=mn(c),p=h.split([f,r-f],h.shape.length-1),m=d.split([f,r-f],d.shape.length-1),g=n.shape.slice();return g[n.shape.length-1]=f,dn(p[0],m[0]).reshape(g)}}),dc=hn({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),i=fc(r);return pn(i)}var a=[n,2*(t-1)],o=pn(e).as2D(n,t),s=mn(e).as2D(n,t),u=o.slice([0,1],[n,t-2]).reverse(1),l=s.slice([0,1],[n,t-2]).reverse(1).mul(yn(-1)),c=o.concat(u,1),f=s.concat(l,1);return r=dn(c,f).as2D(a[0],a[1]),i=fc(r),pn(i)}}),pc=Object.freeze({fft:cc,ifft:fc,rfft:hc,irfft:dc}),mc=hn({sparseToDense_:function(e,t,n,r){void 0===r&&(r=0);var i=$t(e,"sparseIndices","sparseToDense","int32"),a=$t(t,"sparseValues","sparseToDense"),o=$t(r,"defaultValue","sparseToDense",a.dtype);return function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+e.shape+".");var i=e.rank>0?e.shape[0]:1,a=e.rank>1?e.shape[1]:1;if(n.length!==a)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+a+".");var o=t.size;if(0!==t.rank&&(1!==t.rank||o!==i))throw new Error("sparseValues has incorrect shape "+t.shape+", should be [] or ["+i+"]");if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(i,a,n,o),ze.runKernelFunc((function(e){return e.sparseToDense(i,a,n,o)}),{$sparseIndices:i,$sparseValues:a,$defaultValue:o})}}),gc=hn({gatherND_:function(e,t){var n=$t(t,"indices","gatherND","int32"),r=$t(e,"x","gatherND");return ze.runKernelFunc((function(e){return e.gatherND(r,n)}),{x:r,indices:n},null,"GatherNd")}}),vc=hn({diag_:function(e){var t=$t(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return ze.runKernelFunc((function(e){return e.diag(t)}),{$x:t}).reshape(n)}}),yc=hn({dropout_:function(e,t,n,r){var i=$t(e,"x","dropout");if(k("float32"===i.dtype,(function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+i.dtype+" tensor instead."})),k(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got "+t+"."})),0===t)return e instanceof Se?i.clone():i;var a=function(e,t){if(null==t)return e.shape.slice();if(M(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(i,n),o=1-t,s=Fu(a,0,1,"float32",r).add(o).floor().div(o);return i.mul(s)}});function bc(e,t,n){for(var r=1-e%2,i=new Float32Array(e),a=0;a<e;++a){var o=2*Math.PI*a/(e+r-1);i[a]=t-n*Math.cos(o)}return bn(i,"float32")}var wc,Sc=hn({hannWindow_:function(e){return bc(e,.5,.5)}}),xc=hn({hammingWindow_:function(e){return bc(e,.54,.46)}}),_c=hn({frame_:function(e,t,n,r,i){void 0===r&&(r=!1),void 0===i&&(i=0);for(var a=0,o=[];a+t<=e.size;)o.push(Rl(e,a,t)),a+=n;if(r)for(;a<e.size;){var s=a+t-e.size,u=Mn([Rl(e,a,t-s),kn([s],i)]);o.push(u),a+=n}return 0===o.length?wn([],[0,t]):Mn(o).as2D(o.length,t)}}),Tc=hn({stft_:function(e,t,n,r,i){var a;void 0===i&&(i=Sc),null==r&&(a=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(a)/Math.log(2)))));for(var o=_c(e,t,n),s=ti(o,i(t)),u=[],l=0;l<o.shape[0];l++)u.push(hc(s.slice([l,0],[1,t]),r));return Mn(u)}}),Ec=Object.freeze({hannWindow:Sc,hammingWindow:xc,frame:_c,stft:Tc});!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(wc||(wc={}));var kc=hn({absoluteDifference_:function(e,t,n,r){void 0===r&&(r=wc.SUM_BY_NONZERO_WEIGHTS);var i=$t(e,"labels","absoluteDifference"),a=$t(t,"predictions","absoluteDifference"),o=null;null!=n&&(o=$t(n,"weights","absoluteDifference")),C(i.shape,a.shape,"Error in absoluteDifference: ");var s=i.sub(a).abs();return Cc(s,o,r)}}),Cc=hn({computeWeightedLoss_:function(e,t,n){void 0===n&&(n=wc.SUM_BY_NONZERO_WEIGHTS);var r=$t(e,"losses","computeWeightedLoss"),i=null;null!=t&&(i=$t(t,"weights","computeWeightedLoss"));var a=null==i?r:r.mul(i);if(n===wc.NONE)return a;if(n===wc.SUM)return a.sum();if(n===wc.MEAN){if(null==i)return a.mean();var o=r.size/i.size,s=a.sum().div(i.sum());return o>1?s.div(yn(o)):s}if(n===wc.SUM_BY_NONZERO_WEIGHTS){if(null==i)return a.sum().div(yn(r.size));var u=i.mul(Tn(r.shape)).notEqual(yn(0)).sum().toFloat();return a.sum().div(u)}throw Error("Unknown reduction: "+n)}}),Ac=hn({cosineDistance_:function(e,t,n,r,i){void 0===i&&(i=wc.SUM_BY_NONZERO_WEIGHTS);var a=$t(e,"labels","cosineDistance"),o=$t(t,"predictions","cosineDistance"),s=null;null!=r&&(s=$t(r,"weights","cosineDistance")),C(a.shape,o.shape,"Error in cosineDistance: ");var u=yn(1).sub(a.mul(o).sum(n,!0));return Cc(u,s,i)}}),Oc=hn({hingeLoss_:function(e,t,n,r){void 0===r&&(r=wc.SUM_BY_NONZERO_WEIGHTS);var i=$t(e,"labels","hingeLoss"),a=$t(t,"predictions","hingeLoss"),o=null;null!=n&&(o=$t(n,"weights","hingeLoss")),C(i.shape,a.shape,"Error in hingeLoss: ");var s=yn(1);i=yn(2).mul(i).sub(s);var u=s.sub(i.mul(a)).relu();return Cc(u,o,r)}}),Ic=hn({huberLoss_:function(e,t,n,r,i){void 0===r&&(r=1),void 0===i&&(i=wc.SUM_BY_NONZERO_WEIGHTS);var a=$t(e,"labels","huberLoss"),o=$t(t,"predictions","huberLoss"),s=null;null!=n&&(s=$t(n,"weights","huberLoss")),C(a.shape,o.shape,"Error in huberLoss: ");var u=yn(r),l=o.sub(a).abs(),c=Zr(l,u),f=l.sub(c),h=yn(.5).mul(c.square()).add(u.mul(f));return Cc(h,s,i)}}),Mc=hn({logLoss_:function(e,t,n,r,i){void 0===r&&(r=1e-7),void 0===i&&(i=wc.SUM_BY_NONZERO_WEIGHTS);var a=$t(e,"labels","logLoss"),o=$t(t,"predictions","logLoss"),s=null;null!=n&&(s=$t(n,"weights","logLoss")),C(a.shape,o.shape,"Error in logLoss: ");var u=yn(1),l=yn(r),c=a.mul(o.add(l).log()).neg().sub(u.sub(a).mul(u.sub(o).add(l).log()));return Cc(c,s,i)}}),Dc=hn({meanSquaredError_:function(e,t,n,r){void 0===r&&(r=wc.SUM_BY_NONZERO_WEIGHTS);var i=$t(e,"labels","meanSquaredError"),a=$t(t,"predictions","meanSquaredError"),o=null;null!=n&&(o=$t(n,"weights","meanSquaredError")),C(i.shape,a.shape,"Error in meanSquaredError: ");var s=i.squaredDifference(a);return Cc(s,o,r)}}),Rc=hn({sigmoidCrossEntropy_:function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=wc.SUM_BY_NONZERO_WEIGHTS);var a=$t(e,"multiClassLabels","sigmoidCrossEntropy"),o=$t(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=$t(n,"weights","sigmoidCrossEntropy")),C(a.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=yn(r),l=yn(1),c=yn(.5);a=a.mul(l.sub(u)).add(c.mul(u))}var f=function(e,t){var n=$t(e,"labels","sigmoidCrossEntropyWithLogits"),r=$t(t,"logits","sigmoidCrossEntropyWithLogits");C(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var i=r.relu(),a=r.mul(n),o=r.abs().neg().exp().log1p();return i.sub(a).add(o)}(a,o);return Cc(f,s,i)}}),Pc=hn({softmaxCrossEntropy_:function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=wc.SUM_BY_NONZERO_WEIGHTS);var a=$t(e,"onehotLabels","softmaxCrossEntropy"),o=$t(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=$t(n,"weights","softmaxCrossEntropy")),C(a.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var u=yn(r),l=yn(1),c=yn(a.shape[1]);a=a.mul(l.sub(u)).add(u.div(c))}var f=function(e,t,n){if(void 0===n&&(n=-1),-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+t.rank+" and dim was "+n);return Si((function(e,t,r){var i=t.logSumExp([n],!0),a=t.toFloat().sub(i);return r([e,a]),{value:a.mul(e).neg().sum([n]),gradFunc:function(e,t){var r=t[0],i=t[1],a=an(e.shape,[n]);return[e.reshape(a).mul(r.toFloat().sub(i.exp())),e.reshape(a).mul(i.exp().sub(r.toFloat()))]}}}))(e,t)}(a,o);return Cc(f,s,i)}}),Nc=Object.freeze({get Reduction(){return wc},absoluteDifference:kc,computeWeightedLoss:Cc,cosineDistance:Ac,hingeLoss:Oc,huberLoss:Ic,logLoss:Mc,meanSquaredError:Dc,sigmoidCrossEntropy:Rc,softmaxCrossEntropy:Pc});function Lc(e,t){return void 0===t&&(t=!1),ze.tidy((function(){if(2!==e.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],i=wu(n),a=e.clone(),o=wn([[1]],[1,1]),s=o.clone(),u=n>=r?r:n,l=function(e){var t,u=a,l=s,c=i;t=ze.tidy((function(){var t=a.slice([e,e],[n-e,1]),u=t.norm(),l=a.slice([e,e],[1,1]),c=wn([[-1]]).where(l.greater(0),wn([[1]])),f=l.sub(c.mul(u)),h=t.div(f);s=1===h.shape[0]?o.clone():o.concat(h.slice([1,0],[h.shape[0]-1,h.shape[1]]),0);var d=c.matMul(f).div(u).neg(),p=a.slice([e,0],[n-e,r]),m=d.mul(s),g=s.transpose();if(0===e)a=p.sub(m.matMul(g.matMul(p)));else{var v=p.sub(m.matMul(g.matMul(p)));a=a.slice([0,0],[e,r]).concat(v,0)}var y=m.transpose(),b=i.slice([0,e],[n,i.shape[1]-e]);if(0===e)i=b.sub(b.matMul(s).matMul(y));else{var w=b.sub(b.matMul(s).matMul(y));i=i.slice([0,0],[n,e]).concat(w,1)}return[s,a,i]})),s=t[0],a=t[1],i=t[2],Qt([u,l,c])},c=0;c<u;++c)l(c);return!t&&n>r&&(i=i.slice([0,0],[n,r]),a=a.slice([0,0],[r,r])),[i,a]}))}var Fc=hn({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=$t(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var i=r.shape,a=r.shape.slice(-2),o=a[0],s=a[1];if(!(t<=o))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+o+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");t<0&&(t=o),n<0&&(n=s);var u=An(0,o,1,"int32").reshape([-1,1]),l=An(0,s,1,"int32"),c=oi(u,l),f=hu(c.lessEqual(yn(+t,"int32")),c.greaterEqual(yn(-n,"int32"))),h=En([o,s],r.dtype);return qn(Qn(r.reshape([-1,o,s])).map((function(e){return gu(f,e,h)}))).reshape(i)}}),Bc=hn({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,k(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){k(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[t].shape[0]+" vs. "+n+")"}))},i=1;i<e.length;++i)r(i)}else t=!0,e=Ln(e,e.shape[0],0).map((function(e){return Hn(e,[0])}));k(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."}));var a=[],o=e,s=function(e){a.push(ze.tidy((function(){var t=o[e];if(e>0)for(var n=0;n<e;++n){var r=Xl(a[n].mulStrict(t)).mul(a[n]);t=t.sub(r)}return t.div(rc(t,"euclidean"))})))};for(i=0;i<e.length;++i)s(i);return t?qn(a,0):a}}),zc=hn({qr_:function(e,t){if(void 0===t&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(2===e.rank)return Lc(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=Qn(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),i=[],a=[];return r.forEach((function(e){var n=Lc(e,t),r=n[0],o=n[1];i.push(r),a.push(o)})),[qn(i,0).reshape(e.shape),qn(a,0).reshape(e.shape)]}}),Uc=Object.freeze({bandPart:Fc,gramSchmidt:Bc,qr:zc});function jc(e,t,n,r,i,a){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==a&&(a=0);var o=e.shape[0];return n=Math.min(n,o),k(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"})),k(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"})),k(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]})),k(1===t.rank,(function(){return"scores must be a 1D tensor"})),k(t.shape[0]===o,(function(){return"scores has incompatible shape with boxes. Expected "+o+", but was "+t.shape[0]})),k(0<=a&&a<=1,(function(){return"softNmsSigma must be in [0, 1], but was '"+a+"'"})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:a}}var Vc=hn({resizeBilinear_:function(e,t,n){void 0===n&&(n=!1);var r=$t(e,"images","resizeBilinear");k(3===r.rank||4===r.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."})),k(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."}));var i=r,a=!1;3===r.rank&&(a=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=t[0],s=t[1],u=ze.runKernelFunc((function(e,t){return t([i]),e.resizeBilinear(i,o,s,n)}),{x:i},(function(e,t){return{x:function(){return ze.runKernelFunc((function(r){return r.resizeBilinearBackprop(e,t[0],n)}),{})}}}),"ResizeBilinear",{alignCorners:n,newHeight:o,newWidth:s});return a?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Gc=hn({resizeNearestNeighbor_:function(e,t,n){void 0===n&&(n=!1);var r=$t(e,"images","resizeNearestNeighbor");k(3===r.rank||4===r.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."})),k(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."})),k("float32"===r.dtype||"int32"===r.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"}));var i=r,a=!1;3===r.rank&&(a=!0,i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=t[0],s=t[1],u=ze.runKernelFunc((function(e,t){return t([i]),e.resizeNearestNeighbor(i,o,s,n)}),{batchImages:i},(function(e,t){return{batchImages:function(){return ze.runKernelFunc((function(r){return r.resizeNearestNeighborBackprop(e,t[0],n)}),{})}}}));return a?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Wc=hn({nonMaxSuppression_:function(e,t,n,r,i){void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY);var a=$t(e,"boxes","nonMaxSuppression"),o=$t(t,"scores","nonMaxSuppression"),s=jc(a,o,n,r,i);n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold;var u={maxOutputSize:n,iouThreshold:r,scoreThreshold:i};return ze.runKernelFunc((function(e){return e.nonMaxSuppression(a,o,n,r,i)}),{boxes:a,scores:o},null,"NonMaxSuppressionV3",u)}}),Hc=hn({nonMaxSuppressionWithScore_:function(e,t,n,r,i,a){void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===a&&(a=0);var o=$t(e,"boxes","nonMaxSuppression"),s=$t(t,"scores","nonMaxSuppression"),u=jc(o,s,n,r,i,a),l={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:i=u.scoreThreshold,softNmsSigma:a=u.softNmsSigma},c=ze.runKernel("NonMaxSuppressionV5",{boxes:o,scores:s},l);return{selectedIndices:c[0],selectedScores:c[1]}}}),qc=hn({cropAndResize_:function(e,t,n,r,i,a){var o=$t(e,"image","cropAndResize"),s=$t(t,"boxes","cropAndResize","float32"),u=$t(n,"boxInd","cropAndResize","int32");i=i||"bilinear",a=a||0;var l=s.shape[0];return k(4===o.rank,(function(){return"Error in cropAndResize: image must be rank 4,but got rank "+o.rank+"."})),k(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size ["+l+",4] but had shape "+s.shape+"."})),k(1===u.rank&&u.shape[0]===l,(function(){return"Error in cropAndResize: boxInd must be have size ["+l+"] but had shape "+s.shape+"."})),k(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."})),k(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was "+r})),k("bilinear"===i||"nearest"===i,(function(){return"method must be bilinear or nearest, but was "+i})),ze.runKernelFunc((function(e,t){return e.cropAndResize(o,s,u,r,i,a)}),{images:o,boxes:s,boxInd:u},null,"CropAndResize",{method:i,extrapolationValue:a,cropSize:r})}}),Qc=Object.freeze({resizeBilinear:Vc,resizeNearestNeighbor:Gc,nonMaxSuppression:Wc,nonMaxSuppressionAsync:function(e,t,n,r,i){return void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),u(this,void 0,void 0,(function(){var a,o,s,u,c,f,h;return l(this,(function(l){switch(l.label){case 0:return a=$t(e,"boxes","nonMaxSuppressionAsync"),o=$t(t,"scores","nonMaxSuppressionAsync"),s=jc(a,o,n,r,i),n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold,[4,Promise.all([a.data(),o.data()])];case 1:return u=l.sent(),c=u[0],f=u[1],h=Yi(c,f,n,r,i),a!==e&&a.dispose(),o!==t&&o.dispose(),[2,h]}}))}))},nonMaxSuppressionWithScore:Hc,nonMaxSuppressionWithScoreAsync:function(e,t,n,r,i,a){return void 0===r&&(r=.5),void 0===i&&(i=Number.NEGATIVE_INFINITY),void 0===a&&(a=0),u(this,void 0,void 0,(function(){var o,s,u,c,f,h,d;return l(this,(function(l){switch(l.label){case 0:return o=$t(e,"boxes","nonMaxSuppressionAsync"),s=$t(t,"scores","nonMaxSuppressionAsync"),u=jc(o,s,n,r,i,a),n=u.maxOutputSize,r=u.iouThreshold,i=u.scoreThreshold,a=u.softNmsSigma,[4,Promise.all([o.data(),s.data()])];case 1:return c=l.sent(),f=c[0],h=c[1],d=Ki(f,h,n,r,i,a),o!==e&&o.dispose(),s!==t&&s.dispose(),[2,d]}}))}))},cropAndResize:qc}),Xc=function(e,t){return!(e>0)||"linear"===t},Yc=function(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},Kc=function(e,t){var n=t,r=lr(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},Zc=function(e,t,n){if("linear"===t)return e;if("relu"===t)return $l(e);if("elu"===t)return Kl(e);if("relu6"===t)return ec(e);if("prelu"===t)return Jl(e,n);throw new Error("Unknown fused activation "+t+".")},Jc=hn({fusedMatMul_:function(e){var t,n=e.a,r=e.b,i=e.transposeA,a=void 0!==i&&i,o=e.transposeB,s=void 0!==o&&o,u=e.bias,l=e.activation,c=void 0===l?"linear":l,f=e.preluActivationWeights;if(!1===Xc(ze.state.gradientDepth,c)){var h=vl(n,r,a,s);return null!=u&&(h=sr(h,u)),Zc(h,c,f)}var d=$t(n,"a","fused matMul"),p=$t(r,"b","fused matMul");t=De(d,p),d=t[0],p=t[1];var m=a?d.shape[d.rank-2]:d.shape[d.rank-1],g=s?p.shape[p.rank-1]:p.shape[p.rank-2],v=a?d.shape[d.rank-1]:d.shape[d.rank-2],y=s?p.shape[p.rank-2]:p.shape[p.rank-1],b=d.shape.slice(0,-2),w=p.shape.slice(0,-2),S=I(b),x=I(w);k(d.rank>=2&&p.rank>=2&&d.rank===p.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+d.rank+" and "+p.rank+"."})),k(M(b,w),(function(){return"Error in fused matMul: outer dimensions ("+b+") and ("+w+") of Tensors with shapes "+d.shape+" and "+p.shape+" must match."})),k(m===g,(function(){return"Error in fused matMul: inner shapes ("+m+") and ("+g+") of Tensors with shapes "+d.shape+" and "+p.shape+" and transposeA="+a+" and transposeB="+s+" must match."}));var _,T,E=d.shape.slice(0,-2).concat([v,y]),C=a?d.as3D(S,m,v):d.as3D(S,v,m),A=s?p.as3D(x,y,g):p.as3D(x,g,y);null!=u&&cr(E,(_=De(_=$t(u,"bias","fused matMul"),d)[0]).shape),null!=f&&(T=$t(f,"prelu weights","fused matMul"));var O={a:C,b:A};null!=u&&(O.bias=_),null!=f&&(O.preluActivationWeights=T);var D=[C,A];return ze.runKernelFunc((function(e,t){var n=e.fusedBatchMatMul({a:C,b:A,transposeA:a,transposeB:s,bias:_,activation:c,preluActivationWeights:T});return t([C,A,n]),n}),O,(function(e,t){var n=t[0],r=t[1],i=t[2],o=Yc(e,i,c),l={};return null!=u&&(l={bias:function(){return Kc(_,o)}}),a||s?!a&&s?Object.assign({a:function(){return o.matMul(r,!1,!1)},b:function(){return o.matMul(n,!0,!1)}},l):a&&!s?Object.assign({a:function(){return r.matMul(o,!1,!0)},b:function(){return n.matMul(o,!1,!1)}},l):Object.assign({a:function(){return r.matMul(o,!0,!0)},b:function(){return o.matMul(n,!0,!0)}},l):Object.assign({a:function(){return o.matMul(r,!1,!0)},b:function(){return n.matMul(o,!0,!1)}},l)}),"_FusedMatMul",{transposeA:a,transposeB:s,activation:c},D,[!0]).reshape(E)}}),$c=hn({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,i=e.pad,a=e.dataFormat,o=void 0===a?"NHWC":a,s=e.dilations,u=void 0===s?[1,1]:s,l=e.dimRoundingMode,c=e.bias,f=e.activation,h=void 0===f?"linear":f,d=e.preluActivationWeights;if(h=h||"linear",!1===Xc(ze.state.gradientDepth,h)){var p=sl(t,n,r,i,o,u,l);return null!=c&&(p=sr(p,c)),Zc(p,h,d)}var m=$t(t,"x","conv2d"),g=$t(n,"filter","conv2d"),v=m,y=!1;3===m.rank&&(y=!0,v=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),k(4===v.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+v.rank+"."})),k(4===g.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+g.rank+"."})),null!=l&&k(D(i),(function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+l+" but got pad "+i+"."})),k(v.shape[3]===g.shape[2],(function(){return"Error in conv2d: depth of input ("+v.shape[3]+") must match input depth for filter "+g.shape[2]+"."})),k(Bi(r,u),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),k("NHWC"===o,(function(){return"Error in conv2d: got dataFormat of "+o+" but only NHWC is currently supported."}));var b,w,S=Ii(v.shape,g.shape,r,u,i,l);null!=c&&(b=De(b=$t(c,"bias","fused conv2d"),m)[0],cr(S.outShape,b.shape)),null!=d&&(w=$t(d,"prelu weights","fused conv2d"));var x={x:v,filter:g};null!=c&&(x.bias=b),null!=d&&(x.preluActivationWeights=w);var _=[g,v],T=ze.runKernelFunc((function(e,t){var n=e.fusedConv2d({input:v,filter:g,convInfo:S,bias:b,activation:h,preluActivationWeights:w});return t([g,v,n]),n}),x,(function(e,t){var n=t,a=n[0],o=n[1],s=n[2],l=Yc(e,s,h);k(Fi(u),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"}));var f={};return null!=c&&(f={bias:function(){return Kc(b,l)}}),Object.assign({x:function(){return cl(o.shape,l,a,r,i)},filter:function(){return ll(o,l,a.shape,r,i)}},f)}),"FusedConv2D",{convInfo:S,activation:h},_,[!0]);return y?T.as3D(T.shape[1],T.shape[2],T.shape[3]):T}}),ef=hn({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,i=e.pad,a=e.dataFormat,o=void 0===a?"NHWC":a,s=e.dilations,u=void 0===s?[1,1]:s,l=e.dimRoundingMode,c=e.bias,f=e.activation,h=void 0===f?"linear":f,d=e.preluActivationWeights;if(!1===Xc(ze.state.gradientDepth,h)){var p=fl(t,n,r,i,o,u,l);return null!=c&&(p=sr(p,c)),Zc(p,h,d)}var m=$t(t,"x","depthwiseConv2d"),g=$t(n,"filter","depthwiseConv2d"),v=m,y=!1;3===m.rank&&(y=!0,v=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),k(4===v.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+v.rank+"."})),k(4===g.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+g.rank+"."})),k(v.shape[3]===g.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels ("+v.shape[3]+") must match the inChannels dimension in filter "+g.shape[2]+"."})),null==u&&(u=[1,1]),k(Bi(r,u),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+u+"'"})),null!=l&&k(D(i),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+l+" but got pad "+i+"."}));var b,w,S=Ii(v.shape,g.shape,r,u,i,l,!0);null!=c&&(b=De(b=$t(c,"bias","fused conv2d"),m)[0],cr(S.outShape,b.shape)),null!=d&&(w=$t(d,"prelu weights","fused depthwiseConv2d"));var x={x:v,filter:g};null!=c&&(x.bias=b),null!=d&&(x.preluActivationWeights=w);var _=[g,v],T=ze.runKernelFunc((function(e,t){var n=e.fusedDepthwiseConv2D({input:v,filter:g,convInfo:S,bias:b,activation:h,preluActivationWeights:w});return t([g,v,n]),n}),x,(function(e,t){k(Fi(u),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"}));var n=t[0],r=t[1],i=t[2],a=Yc(e,i,h),o={};return null!=c&&(o={bias:function(){return Kc(b,a)}}),Object.assign({x:function(){return hl(r.shape,a,n,S)},filter:function(){return dl(r,a,n.shape,S)}},o)}),"FusedDepthwiseConv2D",{convInfo:S,activation:h},_,[!0]);return y?T.as3D(T.shape[1],T.shape[2],T.shape[3]):T}}),tf=Object.freeze({matMul:Jc,conv2d:$c,depthwiseConv2d:ef}),nf=Object.freeze({image:Qc,linalg:Uc,losses:Nc,spectral:pc,fused:tf,signal:Ec,add:sr,addN:Xs,batchNorm:eu,batchNormalization:$s,batchNorm2d:ru,batchNormalization2d:nu,batchNorm3d:ou,batchNormalization3d:au,batchNorm4d:lu,batchNormalization4d:uu,broadcastTo:cu,clone:fu,div:ui,divNoNan:yu,eye:wu,multinomial:Su,oneHot:xu,pad:_u,pad1d:Tu,pad2d:Eu,pad3d:ku,pad4d:Cu,rand:Au,randomGamma:Nu,randomNormal:Lu,randomUniform:Fu,square:Bu,squaredDifference:zu,tile:bu,truncatedNormal:Uu,conv1d:ol,conv2d:sl,conv3d:ul,depthwiseConv2d:fl,separableConv2d:pl,conv2dTranspose:ml,conv3dTranspose:gl,op:hn,booleanMaskAsync:function(e,t,n){return u(this,void 0,void 0,(function(){var r,i,a,o,s,u,c,f,h,d,p,m,g;return l(this,(function(l){switch(l.label){case 0:for(r=$t(e,"tensor","boolMask"),i=$t(t,"mask","boolMask","bool"),a=null==n?0:n,o=i.rank,s=r.shape,k(o>0,(function(){return"mask cannot be scalar"})),C(s.slice(a,a+o),i.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,c=a;c<a+o;c++)u*=s[c];return f=s.slice(0,a).concat([u],s.slice(a+o)),h=r.reshape(f),d=i.reshape([-1]),[4,vu(d)];case 1:return p=l.sent(),m=p.squeeze([1]),g=tl(h,m,a),e!==r&&r.dispose(),t!==i&&i.dispose(),m.dispose(),h.dispose(),d.dispose(),p.dispose(),[2,g]}}))}))},complex:dn,real:pn,imag:mn,concat:Mn,concat1d:Dn,concat2d:Rn,concat3d:Pn,concat4d:Nn,split:Ln,matMul:vl,dot:yl,outerProduct:bl,reverse:wl,reverse1d:Sl,reverse2d:xl,reverse3d:_l,reverse4d:Tl,maxPool:Cl,avgPool:Al,pool:Ol,maxPool3d:Il,avgPool3d:Ml,maxPoolWithArgmax:Dl,slice:Rl,slice1d:Pl,slice2d:Nl,slice3d:Ll,slice4d:Fl,abs:fr,acos:hr,acosh:dr,asin:pr,asinh:mr,atan:gr,atanh:vr,ceil:yr,clipByValue:br,cos:wr,cosh:Sr,erf:xr,exp:_r,expm1:Tr,floor:Er,log:kr,log1p:Cr,logSigmoid:Ar,neg:Or,reciprocal:Ir,round:Mr,rsqrt:Dr,sigmoid:Rr,sign:Pr,isNaN:Nr,isInf:Lr,isFinite:Fr,sin:Br,sinh:zr,softplus:Ur,sqrt:jr,step:Vr,tan:Gr,tanh:Wr,all:zl,any:Ul,argMax:jl,argMin:Vl,logSumExp:Gl,max:Wl,mean:Hl,min:ql,moments:Ql,sum:Xl,prod:Yl,equal:ju,equalStrict:Vu,greater:Gu,greaterEqual:Wu,greaterEqualStrict:Hu,greaterStrict:qu,less:Qu,lessEqual:Xu,lessEqualStrict:Yu,lessStrict:Ku,notEqual:Zu,notEqualStrict:Ju,addStrict:Hr,atan2:qr,divStrict:Qr,floorDiv:Xr,maximum:Yr,maximumStrict:Kr,minimum:Zr,minimumStrict:Jr,mod:$r,modStrict:ei,mul:ti,mulStrict:ni,pow:ri,powStrict:ii,squaredDifferenceStrict:ai,sub:oi,subStrict:si,elu:Kl,leakyRelu:Zl,prelu:Jl,relu:$l,relu6:ec,selu:tc,logicalAnd:hu,logicalNot:du,logicalOr:pu,logicalXor:mu,where:gu,whereAsync:vu,buffer:Fn,print:function(e,t){void 0===t&&(t=!1),console.log(e.toString(t))},batchToSpaceND:Bn,cast:zn,cumsum:Un,depthToSpace:jn,expandDims:Vn,reshape:Gn,spaceToBatchND:Wn,squeeze:Hn,stack:qn,unstack:Qn,setdiff1dAsync:Xn,fill:kn,linspace:Cn,ones:Tn,range:An,scalar:yn,tensor:gn,tensor1d:bn,tensor2d:wn,tensor3d:Sn,tensor4d:xn,tensor5d:function(e,t,n){if(A(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=Zt(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return vn(e,t,r,n)},tensor6d:function(e,t,n){if(A(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=Zt(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return vn(e,t=t||r,r,n)},variable:_n,zeros:En,onesLike:On,zerosLike:In,transpose:Ti,softmax:xi,logSoftmax:_i,localResponseNormalization:nc,norm:rc,gather:tl,unsortedSegmentSum:nl,basicLSTMCell:ic,multiRNNCell:ac,movingAverage:oc,stridedSlice:sc,topk:uc,scatterND:lc,fft:cc,ifft:fc,rfft:hc,irfft:dc,sparseToDense:mc,gatherND:gc,diag:vc,dropout:yc,hannWindow:Sc,hammingWindow:xc,frame:_c,stft:Tc,inTopKAsync:function(e,t,n){return void 0===n&&(n=1),u(this,void 0,void 0,(function(){var r,i,a,o,s,u,c,f,h,d,p,m,g,v;return l(this,(function(l){switch(l.label){case 0:return r=$t(e,"predictions","inTopK"),i=$t(t,"targets","inTopK"),k(r.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank})),k(r.rank-1===i.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+i.rank})),C(r.shape.slice(0,r.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),a=r.shape[r.shape.length-1],k(n>0&&n<=a,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+a+"), but got "+n})),[4,r.data()];case 1:return o=l.sent(),[4,i.data()];case 2:for(s=l.sent(),u=[o.length/a,a],f=u[1],h=U("bool",c=u[0]),d=0;d<c;d++){for(p=d*f,m=o.subarray(p,p+f),g=[],v=0;v<m.length;v++)g.push({value:m[v],index:v});for(g.sort((function(e,t){return t.value-e.value})),h[d]=0,v=0;v<n;v++)if(g[v].index===s[d]){h[d]=1;break}}return e!==r&&r.dispose(),t!==i&&i.dispose(),[2,gn(h,i.shape,"bool")]}}))}))}});function rf(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&k("complex64"!==e.dtype,(function(){return t+" does not support complex64 tensors."}))}))}function af(e,t,n,r,i,a){for(var o=i.strideHeight,s=i.strideWidth,u=i.dilationHeight,l=i.dilationWidth,c=i.effectiveFilterHeight,f=i.effectiveFilterWidth,h=i.padInfo.top,d=i.padInfo.left,p="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=Fn(i.outShape,n),g=m.values,v=i.outShape[1]*i.outShape[2]*i.outShape[3],y=i.outShape[2]*i.outShape[3],b=i.outShape[3],w=0;w<i.batchSize;++w)for(var S=w*v,x=w*r[0],_=0;_<i.inChannels;++_)for(var T=0;T<i.outHeight;++T)for(var E=T*o-h,k=Math.max(0,E),C=Math.min(i.inHeight,c+E),A=S+T*y,O=0;O<i.outWidth;++O){for(var I=O*s-d,M=Math.max(0,I),D=Math.min(i.inWidth,f+I),R=p,P=0,N=0,L=k;L<C;L+=u){for(var F=x+L*r[1],B=M;B<D;B+=l){var z=e[F+B*r[2]+_];"max"===a&&z>R?R=z:"avg"===a&&(P+=z,N++)}if(isNaN(R))break}g[A+O*b+_]="avg"===a?P/N:R}return m}function of(e,t,n,r,i,a){void 0===i&&(i=!1),void 0===a&&(a=!1);for(var o=Fn(r.outShape,"int32"),s=r.strideHeight,u=r.strideWidth,l=r.dilationHeight,c=r.dilationWidth,f=r.effectiveFilterHeight,h=r.effectiveFilterWidth,d=r.padInfo.top,p=r.padInfo.left,m=Fn(t,n,e),g=0;g<r.batchSize;++g)for(var v=0;v<r.inChannels;++v)for(var y=0;y<r.outHeight;++y){for(var b=y*s-d,w=b;w<0;)w+=l;for(var S=Math.min(r.inHeight,f+b),x=0;x<r.outWidth;++x){for(var _=x*u-p,T=_;T<0;)T+=c;for(var E=Math.min(r.inWidth,h+_),k=Number.NEGATIVE_INFINITY,C=-1,A=w;A<S;A+=l)for(var O=A-b,I=T;I<E;I+=c){var M=I-_,D=m.get(g,A,I,v);D>k&&(k=D,C=i?a?((g*r.inHeight+A)*r.inWidth+I)*r.inChannels+v:(A*r.inWidth+I)*r.inChannels+v:O*h+M)}o.set(C,g,y,x,v)}}return o}function sf(e,t,n,r){if("linear"===n)return e.linear(t);if("relu"===n)return e.relu(t);if("elu"===n)return e.elu(t);if("relu6"===n)return e.relu6(t);if("prelu"===n)return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var uf=function(e){function t(){var t=e.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new Ei(t,ze),t}return s(t,e),t.prototype.write=function(e,t,n){this.firstUse&&(this.firstUse=!1,h().get("IS_NODE")&&Kt("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={};return this.data.set(r,{values:e,dtype:n}),r},t.prototype.move=function(e,t,n,r){this.data.set(e,{values:t,dtype:r})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){return[2,this.readSync(e)]}))}))},t.prototype.readSync=function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensors;return"complex64"===n?Gi(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(e).values},t.prototype.bufferSync=function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map((function(e){return ue(e)}))}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return Fn(e.shape,e.dtype,n)},t.prototype.makeOutput=function(e,t,n){var r=this.write(e,t,n);return ze.makeTensorFromDataId(r,t,n,this)},t.prototype.disposeData=function(e){if(this.data.has(e)){var t=this.data.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.data.delete(e)}},t.prototype.time=function(e){return u(this,void 0,void 0,(function(){var t;return l(this,(function(n){return t=ae(),e(),[2,{kernelMs:ae()-t}]}))}))},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(e,t){var n=this.makeOutput(null,e.shape,"complex64");return this.data.get(n.dataId).complexTensors={real:ze.keep(e.clone()),imag:ze.keep(t.clone())},n},t.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(rf(e,"slice"),bi(e.shape,t,n)){var r=wi(t,e.strides),i=I(n);return gn(this.readSync(e.dataId).subarray(r,r+i),n,e.dtype)}for(var a=Fn(n,e.dtype),o=this.bufferSync(e),s=0;s<a.size;++s){var u=a.indexToLoc(s).map((function(e,n){return e+t[n]}));a.values[s]=o.get.apply(o,u)}return a.toTensor()},t.prototype.stridedSlice=function(e,t,n,r){rf(e,"stridedSlice");var i=gi(t,n,r);if(i.some((function(e){return 0===e})))return gn([],i);for(var a=Fn(i,e.dtype),o=this.bufferSync(e),s=0;s<a.size;s++){for(var u=a.indexToLoc(s),l=new Array(u.length),c=0;c<l.length;c++)l[c]=u[c]*r[c]+t[c];a.set.apply(a,[o.get.apply(o,l)].concat(u))}return a.toTensor()},t.prototype.diag=function(e){for(var t=this.readSync(e.dataId),n=Fn([e.size,e.size],e.dtype),r=n.values,i=0;i<t.length;i++)r[i*e.size+i]=t[i];return n.toTensor()},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),i=0,a=0;a<e.rank;a++)a!==t&&(r[i++]=e.shape[a]);var o=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var u=new Array(n);for(a=0;a<u.length;a++)o[t]=a,u[a]=this.slice(e,o,s).reshape(r);return u},t.prototype.reverse=function(e,t){rf(e,"reverse");for(var n=Fn(e.shape,e.dtype),r=this.bufferSync(e),i=function(i){var a=n.indexToLoc(i),o=a.slice();t.forEach((function(t){return o[t]=e.shape[t]-1-o[t]})),n.set.apply(n,[r.get.apply(r,o)].concat(a))},a=0;a<n.size;a++)i(a);return n.toTensor()},t.prototype.concat=function(e,t){var n=this;if("complex64"===e[0].dtype){var r=e.map((function(e){return pn(e)})),i=e.map((function(e){return mn(e)}));return dn(this.concat(r,t),this.concat(i,t))}var a=e.map((function(e){var n=I(e.shape.slice(t));return e.as2D(-1,n)})),o=fn(a.map((function(e){return e.shape})),1),s=Fn(o,e[0].dtype).values;if(1===a[0].shape[0]){var u=0;a.forEach((function(e){s.set(n.readSync(e.dataId),u),u+=e.size}))}else{var l=0;a.forEach((function(e){for(var t=n.readSync(e.dataId),r=0,i=0;i<e.shape[0];++i)for(var a=i*o[1]+l,u=0;u<e.shape[1];++u)s[a+u]=t[r++];l+=e.shape[1]}))}var c=fn(e.map((function(e){return e.shape})),t);return gn(s,c,e[0].dtype)},t.prototype.neg=function(e){return rf(e,"neg"),this.multiply(yn(-1),e)},t.prototype.add=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e+n,imag:t+r}})):this.broadcastedBinaryOp(e,t,Ie(e.dtype,t.dtype),(function(e,t){return e+t}))},t.prototype.addN=function(e){var t=this;rf(e,"addN");for(var n=e.map((function(e){return t.readSync(e.dataId)})),r=Fn(e[0].shape,e[0].dtype),i=r.values,a=0;a<e.length;a++)for(var o=n[a],s=0;s<i.length;s++)i[s]+=o[s];return r.toTensor()},t.prototype.softmax=function(e,t){var n=B([t],e.shape),r=this.max(e,n),i=an(r.shape,n),a=this.subtract(e,r.reshape(i)),o=this.exp(a),s=this.sum(o,n).reshape(i);return ui(o,s)},t.prototype.subtract=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e-n,imag:t-r}})):this.broadcastedBinaryOp(e,t,Ie(e.dtype,t.dtype),(function(e,t){return e-t}))},t.prototype.pow=function(e,t){return rf([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.pow(e,t)}))},t.prototype.batchMatMul=function(e,t,n,r){rf([e,t],"matMul");for(var i=n?e.shape[1]:e.shape[2],a=n?e.shape[2]:e.shape[1],o=r?t.shape[1]:t.shape[2],s=e.shape[0],u=this.readSync(e.dataId),l=this.readSync(t.dataId),c=n?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],f=c[0],h=c[1],d=c[2],p=r?[1,t.strides[1],t.strides[0]]:[t.strides[1],1,t.strides[0]],m=p[0],g=p[1],v=p[2],y=a*o,b=Fn([s,a,o],e.dtype),w=b.values,S=this.blockSize,x=0;x<s;x++)for(var _=0;_<a;_+=S)for(var T=0;T<o;T+=S)for(var E=0;E<i;E+=S)for(var k=Math.min(_+S,a),C=Math.min(T+S,o),A=Math.min(E+S,i),O=_;O<k;O++)for(var I=T;I<C;I++){for(var M=0,D=E;D<A;D++)M+=u[x*f+O*h+D*d]*l[D*m+I*g+x*v];w[x*y+(O*o+I)]+=M}return b.toTensor()},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,i=e.transposeB,a=e.bias,o=e.activation,s=e.preluActivationWeights,u=this.batchMatMul(t,n,r,i);return a&&(u=this.add(u,a)),o&&(u=sf(this,u,o,s)),u},t.prototype.multiply=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),(function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})):this.broadcastedBinaryOp(e,t,Ie(e.dtype,t.dtype),(function(e,t){return e*t}))},t.prototype.floorDiv=function(e,t){return rf([e,t],"floorDiv"),this.broadcastedBinaryOp(e,t,"int32",(function(e,t){return Math.floor(e/t)}))},t.prototype.sum=function(e,t){rf(e,"sum"),on("sum",t,e.rank);for(var n=rn(e.shape,t),r=n[0],i=n[1],a=En(r,Ie(e.dtype,"int32")),o=I(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*o,f=0,h=0;h<o;++h)f+=u[c+h];s[l]=f}return a},t.prototype.prod=function(e,t){rf(e,"sum");for(var n=rn(e.shape,t),r=n[0],i=n[1],a=En(r,Ie(e.dtype,"int32")),o=I(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*o,f=1,h=0;h<o;++h)f*=u[c+h];s[l]=f}return a},t.prototype.unsortedSegmentSum=function(e,t,n){rf(e,"unsortedSegmentSum");for(var r=[],i=e.rank-t.rank,a=0;a<i;++a)t=t.expandDims(a+1);for(a=0;a<n;++a){var o=yn(a,"int32"),s=ju(o,t).asType("float32").mul(e).sum(0);r.push(s)}return qn(r)},t.prototype.argMin=function(e,t){rf(e,"argMin");var n=[t];on("argMin",n,e.rank);for(var r=rn(e.shape,n),i=r[0],a=r[1],o=En(i,"int32"),s=I(a),u=this.readSync(o.dataId),l=this.readSync(e.dataId),c=0;c<u.length;++c){for(var f=c*s,h=l[f],d=0,p=0;p<s;++p){var m=l[f+p];m<h&&(h=m,d=p)}u[c]=d}return o},t.prototype.argMax=function(e,t){rf(e,"argMax");var n=[t];on("argMax",n,e.rank);for(var r=rn(e.shape,n),i=r[0],a=r[1],o=En(i,"int32"),s=I(a),u=this.readSync(o.dataId),l=this.readSync(e.dataId),c=0;c<u.length;++c){for(var f=c*s,h=l[f],d=0,p=0;p<s;++p){var m=l[f+p];m>h&&(h=m,d=p)}u[c]=d}return o},t.prototype.cumsum=function(e,t,n,r){if(rf(e,"cumsum"),t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var i=Ie(e.dtype,"int32"),a=En(e.shape,i),o=this.readSync(a.dataId),s=this.readSync(e.dataId),u=e.shape[e.rank-1],l=r?function(e,t){return e+u-t-1}:function(e,t){return e+t},c=0;c<s.length;c+=u)for(var f=0;f<u;f++){var h=l(c,f);if(0===f)o[h]=n?0:s[h];else{var d=l(c,f-1);o[h]=n?s[d]+o[d]:s[h]+o[d]}}return a},t.prototype.equal=function(e,t){return rf([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e===t?1:0}))},t.prototype.notEqual=function(e,t){return rf([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e!==t?1:0}))},t.prototype.less=function(e,t){return rf([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<t?1:0}))},t.prototype.lessEqual=function(e,t){return rf([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e<=t?1:0}))},t.prototype.greater=function(e,t){return rf([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>t?1:0}))},t.prototype.greaterEqual=function(e,t){return rf([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e>=t?1:0}))},t.prototype.logicalNot=function(e){rf(e,"logicalNot");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t[r]?0:1;return this.makeOutput(n,e.shape,"bool")},t.prototype.logicalAnd=function(e,t){return rf([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e&&t}))},t.prototype.logicalOr=function(e,t){return rf([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",(function(e,t){return e||t}))},t.prototype.select=function(e,t,n){rf([e,t,n],"select");for(var r=this.readSync(e.dataId),i=this.readSync(t.dataId),a=this.readSync(n.dataId),o=En(t.shape,Ie(t.dtype,n.dtype)),s=this.readSync(o.dataId),u=0,l=0===e.rank||e.rank>1||1===t.rank?1:I(t.shape.slice(1)),c=0;c<r.length;c++)for(var f=0;f<l;f++)1===r[c]?s[u++]=i[c]:s[u++]=a[c];return o},t.prototype.where=function(e){rf([e],"where");var t=this.readSync(e.dataId);return ia(e.shape,t)},t.prototype.topk=function(e,t,n){return rf(e,"topk"),ra(this.readSync(e.dataId),e.shape,e.dtype,t)},t.prototype.min=function(e,t){rf(e,"min"),on("min",t,e.rank);for(var n=rn(e.shape,t),r=n[0],i=n[1],a=En(r,e.dtype),o=I(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*o,f=u[c],h=0;h<o;++h){var d=u[c+h];d<f&&(f=d)}s[l]=f}return a},t.prototype.minimum=function(e,t){return rf([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.min(e,t)}))},t.prototype.mod=function(e,t){return rf([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t}))},t.prototype.max=function(e,t){rf(e,"max"),on("max",t,e.rank);for(var n=rn(e.shape,t),r=n[0],i=n[1],a=En(r,e.dtype),o=I(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*o,f=u[c],h=0;h<o;++h){var d=u[c+h];d>f&&(f=d)}s[l]=f}return a},t.prototype.maximum=function(e,t){return rf([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.max(e,t)}))},t.prototype.all=function(e,t){rf(e,"all"),on("all",t,e.rank);for(var n=rn(e.shape,t),r=n[0],i=n[1],a=En(r,e.dtype),o=I(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*o,f=u[c],h=0;h<o;++h){var d=u[c+h];f=f&&d}s[l]=f}return a},t.prototype.any=function(e,t){rf(e,"any"),on("any",t,e.rank);for(var n=rn(e.shape,t),r=n[0],i=n[1],a=En(r,e.dtype),o=I(i),s=this.readSync(a.dataId),u=this.readSync(e.dataId),l=0;l<s.length;++l){for(var c=l*o,f=u[c],h=0;h<o;++h){var d=u[c+h];f=f||d}s[l]=f}return a},t.prototype.squaredDifference=function(e,t){return rf([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){var n=e-t;return n*n}))},t.prototype.ceil=function(e){rf(e,"ceil");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.ceil(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.floor=function(e){rf(e,"floor");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.floor(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.sign=function(e){rf(e,"x");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)t[r]<0?n[r]=-1:t[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,e.shape,"float32")},t.prototype.isNaN=function(e){rf(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isNaN(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isInf=function(e){rf(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Math.abs(t[r])===1/0&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isFinite=function(e){rf(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isFinite(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.round=function(e){rf(e,"round");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=Math.floor(t[r]);t[r]-i<.5?n[r]=Math.floor(t[r]):t[r]-i>.5?n[r]=Math.ceil(t[r]):n[r]=i%2==0?i:i+1}return this.makeOutput(n,e.shape,"float32")},t.prototype.exp=function(e){rf(e,"exp");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.exp(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.expm1=function(e){rf(e,"expm1");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.expm1(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.log=function(e){rf(e,"log");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.log(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.log1p=function(e){rf(e,"log1p");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.log1p(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.sqrt=function(e){rf(e,"sqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=Math.sqrt(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.rsqrt=function(e){rf(e,"rsqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var i=t[r];n[r]=1/Math.sqrt(i)}return this.makeOutput(n,e.shape,"float32")},t.prototype.reciprocal=function(e){rf(e,"reciprocal");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=1/t[r];return this.makeOutput(n,e.shape,"float32")},t.prototype.linear=function(e){return e},t.prototype.relu=function(e){rf(e,"relu");for(var t=En(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),i=0;i<r.length;++i)n[i]=Math.max(0,r[i]);return t},t.prototype.relu6=function(e){rf(e,"relu");for(var t=En(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),i=0;i<r.length;++i)n[i]=Math.min(Math.max(0,r[i]),6);return t},t.prototype.prelu=function(e,t){return rf([e,t],"prelu"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return e<0?t*e:e}))},t.prototype.elu=function(e){rf(e,"elu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var i=n[r];t[r]=i>=0?i:Math.exp(i)-1}return this.makeOutput(t,e.shape,"float32")},t.prototype.eluDer=function(e,t){rf([e,t],"eluDer");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),i=this.readSync(e.dataId),a=0;a<r.length;++a){var o=r[a];n[a]=o>=1?i[a]:i[a]*(o+1)}return this.makeOutput(n,t.shape,"float32")},t.prototype.selu=function(e){rf(e,"selu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var i=n[r];t[r]=i>=0?1.0507009873554805*i:1.7580993408473768*(Math.exp(i)-1)}return this.makeOutput(t,e.shape,"float32")},t.prototype.clip=function(e,t,n){rf(e,"clip");for(var r=new Float32Array(e.size),i=this.readSync(e.dataId),a=0;a<i.length;++a){var o=i[a];r[a]=o>n?n:o<t?t:o}return this.makeOutput(r,e.shape,"float32")},t.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.abs(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.complexAbs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<e.size;++r){var i=n[2*r],a=n[2*r+1];t[r]=Math.hypot(i,a)}return this.makeOutput(t,e.shape,"float32")},t.prototype.int=function(e){rf(e,"int");for(var t=new Int32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=n[r];return this.makeOutput(t,e.shape,"int32")},t.prototype.sigmoid=function(e){rf(e,"sigmoid");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(t,e.shape,"float32")},t.prototype.softplus=function(e){rf(e,"softplus");for(var t=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(e.size),r=this.readSync(e.dataId),i=0;i<r.length;++i){var a,o=r[i]>-t,s=r[i]<t,u=Math.exp(r[i]);a=s?u:o?r[i]:Math.log(1+u),n[i]=a}return this.makeOutput(n,e.shape,"float32")},t.prototype.sin=function(e){rf(e,"sin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cos=function(e){rf(e,"cos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tan=function(e){rf(e,"tan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.tan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asin=function(e){rf(e,"asin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acos=function(e){rf(e,"acos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan=function(e){rf(e,"atan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan2=function(e,t){return rf([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,(function(e,t){return Math.atan2(e,t)}))},t.prototype.sinh=function(e){rf(e,"sinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cosh=function(e){rf(e,"cosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tanh=function(e){rf(e,"tanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=R(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asinh=function(e){rf(e,"asinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acosh=function(e){rf(e,"acosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atanh=function(e){rf(e,"atanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atanh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.erf=function(e){rf(e,"erf");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var i=Math.sign(n[r]),a=Math.abs(n[r]),o=1/(1+.3275911*a);t[r]=i*(1-((((1.061405429*o-1.453152027)*o+1.421413741)*o-.284496736)*o+.254829592)*o*Math.exp(-a*a))}return this.makeOutput(t,e.shape,"float32")},t.prototype.step=function(e,t){void 0===t&&(t=0),rf(e,"step");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),i=0;i<r.length;++i){var a=r[i];isNaN(a)?n[i]=NaN:n[i]=a>0?1:t}return this.makeOutput(n,e.shape,"float32")},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,a=e.activation,o=e.preluActivationWeights,s=this.conv2d(t,n,r);return i&&(s=this.add(s,i)),a&&(s=sf(this,s,a,o)),s},t.prototype.conv2d=function(e,t,n){rf([e,t],"conv2d");for(var r=n.filterHeight,i=n.filterWidth,a=n.dilationHeight,o=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,l="channelsLast"===n.dataFormat,c=Fn(n.outShape,e.dtype),f=e.strides[0],h=l?e.strides[1]:e.strides[2],d=l?e.strides[2]:1,p=l?1:e.strides[1],m=c.strides[0],g=l?c.strides[1]:c.strides[2],v=l?c.strides[2]:1,y=l?1:c.strides[1],b=this.readSync(e.dataId),w=this.readSync(t.dataId),S=c.values,x=0;x<n.batchSize;++x)for(var _=x*f,T=x*m,E=0;E<n.outHeight;++E)for(var k=T+E*g,C=E*n.strideHeight-u,A=0;A<r;A++){var O=C+A*a;if(!(O<0||O>=n.inHeight))for(var I=A*t.strides[0],M=_+O*h,D=0;D<n.outWidth;++D)for(var R=k+D*v,P=D*n.strideWidth-s,N=0;N<i;N++){var L=P+N*o;if(!(L<0||L>=n.inWidth))for(var F=M+L*d,B=I+N*t.strides[1],z=0;z<n.inChannels;++z){for(var U=b[F+z*p],j=0;j<n.outChannels;++j)S[R+j*y]+=U*w[B+j];B+=n.outChannels}}}return c.toTensor()},t.prototype.conv3d=function(e,t,n){for(var r=n.filterDepth,i=n.filterHeight,a=n.filterWidth,o=n.dilationDepth,s=n.dilationHeight,u=n.dilationWidth,l=n.padInfo.front,c=n.padInfo.left,f=n.padInfo.top,h=Fn(n.outShape,e.dtype),d=this.readSync(e.dataId),p=this.readSync(t.dataId),m=h.values,g=0;g<n.batchSize;++g)for(var v=g*e.strides[0],y=g*h.strides[0],b=0;b<n.outDepth;++b)for(var w=y+b*h.strides[1],S=b*n.strideDepth-l,x=0;x<r;x++){var _=S+x*o;if(!(_<0||_>=n.inDepth))for(var T=x*t.strides[0],E=v+_*e.strides[1],k=0;k<n.outHeight;++k)for(var C=w+k*h.strides[2],A=k*n.strideHeight-f,O=0;O<i;O++){var I=A+O*s;if(!(I<0||I>=n.inHeight))for(var M=T+O*t.strides[1],D=E+I*e.strides[2],R=0;R<n.outWidth;++R)for(var P=C+R*n.outChannels,N=R*n.strideWidth-c,L=0;L<a;L++){var F=N+L*u;if(!(F<0||F>=n.inWidth))for(var B=M+L*t.strides[2],z=D+F*n.inChannels,U=B,j=0;j<n.inChannels;++j){for(var V=d[z+j],G=0;G<n.outChannels;++G)m[P+G]+=V*p[U+G];U+=n.outChannels}}}}return h.toTensor()},t.prototype.conv2dDerInput=function(e,t,n){rf([e,t],"conv2dDerInput");for(var r=Fn(n.inShape,"float32"),i=r.values,a=this.readSync(e.dataId),o=this.readSync(t.dataId),s=t.strides,u=s[0],l=s[1],c=s[2],f=n.batchSize,h=n.filterHeight,d=n.filterWidth,p=n.inChannels,m=n.inHeight,g=n.inWidth,v=n.outChannels,y=n.outHeight,b=n.outWidth,w=n.strideHeight,S=n.strideWidth,x=n.dataFormat,_=h-1-n.padInfo.top,T=d-1-n.padInfo.left,E="channelsLast"===x,k=r.strides[0],C=E?r.strides[1]:r.strides[2],A=E?r.strides[2]:1,O=E?1:r.strides[1],I=e.strides[0],M=E?e.strides[1]:e.strides[2],D=E?e.strides[2]:1,R=E?1:e.strides[1],P=0;P<f;++P)for(var N=0;N<p;++N)for(var L=0;L<m;++L)for(var F=L-_,B=Math.max(0,Math.ceil(F/w)),z=Math.min(y,(h+F)/w),U=0;U<g;++U){for(var j=U-T,V=Math.max(0,Math.ceil(j/S)),G=Math.min(b,(d+j)/S),W=0,H=B;H<z;++H)for(var q=H*w-F,Q=V;Q<G;++Q)for(var X=I*P+M*H+D*Q,Y=u*(h-1-q)+l*(d-1-(Q*S-j))+c*N,K=0;K<v;++K)W+=a[X+R*K]*o[Y+K];i[k*P+C*L+A*U+O*N]=W}return r.toTensor()},t.prototype.conv3dDerInput=function(e,t,n){for(var r=Fn(n.inShape,"float32"),i=r.values,a=r.strides,o=a[0],s=a[1],u=a[2],l=a[3],c=this.readSync(e.dataId),f=e.strides,h=f[0],d=f[1],p=f[2],m=f[3],g=this.readSync(t.dataId),v=t.strides,y=v[0],b=v[1],w=v[2],S=v[3],x=n.batchSize,_=n.filterDepth,T=n.filterHeight,E=n.filterWidth,k=n.inChannels,C=n.inDepth,A=n.inHeight,O=n.inWidth,I=n.outChannels,M=n.outDepth,D=n.outHeight,R=n.outWidth,P=n.strideDepth,N=n.strideHeight,L=n.strideWidth,F=_-1-n.padInfo.front,B=T-1-n.padInfo.top,z=E-1-n.padInfo.left,U=0;U<x;++U)for(var j=0;j<k;++j)for(var V=0;V<C;++V)for(var G=V-F,W=Math.max(0,Math.ceil(G/P)),H=Math.min(M,(_+G)/P),q=0;q<A;++q)for(var Q=q-B,X=Math.max(0,Math.ceil(Q/N)),Y=Math.min(D,(T+Q)/N),K=0;K<O;++K){for(var Z=K-z,J=Math.max(0,Math.ceil(Z/L)),$=Math.min(R,(E+Z)/L),ee=0,te=W;te<H;++te)for(var ne=te*P-G,re=X;re<Y;++re)for(var ie=re*N-Q,ae=J;ae<$;++ae)for(var oe=h*U+d*te+p*re+m*ae,se=y*(_-1-ne)+b*(T-1-ie)+w*(E-1-(ae*L-Z))+S*j,ue=0;ue<I;++ue)ee+=c[oe+ue]*g[se+ue];i[o*U+s*V+u*q+l*K+j]=ee}return r.toTensor()},t.prototype.conv2dDerFilter=function(e,t,n){rf([e,t],"conv2dDerFilter");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s="channelsLast"===n.dataFormat,u=Fn(n.filterShape,"float32"),l=n.padInfo.left,c=n.padInfo.top,f=this.bufferSync(e),h=this.bufferSync(t),d=0;d<a;++d)for(var p=Math.max(0,Math.ceil((c-d)/r)),m=Math.min(n.outHeight,(n.inHeight+c-d)/r),g=0;g<o;++g)for(var v=Math.max(0,Math.ceil((l-g)/i)),y=Math.min(n.outWidth,(n.inWidth+l-g)/i),b=0;b<n.inChannels;++b)for(var w=0;w<n.outChannels;++w){for(var S=0,x=0;x<n.batchSize;++x)for(var _=p;_<m;++_)for(var T=d+_*r-c,E=v;E<y;++E){var k=g+E*i-l;S+=s?f.get(x,T,k,b)*h.get(x,_,E,w):f.get(x,b,T,k)*h.get(x,w,_,E)}u.set(S,d,g,b,w)}return u.toTensor()},t.prototype.conv3dDerFilter=function(e,t,n){for(var r=n.strideDepth,i=n.strideHeight,a=n.strideWidth,o=n.filterDepth,s=n.filterHeight,u=n.filterWidth,l=Fn(n.filterShape,"float32"),c=l.values,f=l.strides,h=f[0],d=f[1],p=f[2],m=f[3],g=this.readSync(t.dataId),v=t.strides,y=v[0],b=v[1],w=v[2],S=v[3],x=this.readSync(e.dataId),_=e.strides,T=_[0],E=_[1],k=_[2],C=_[3],A=n.padInfo.front,O=n.padInfo.left,I=n.padInfo.top,M=0;M<o;++M)for(var D=Math.max(0,Math.ceil((A-M)/r)),R=Math.min(n.outDepth,(n.inDepth+A-M)/r),P=M*h,N=0;N<s;++N)for(var L=Math.max(0,Math.ceil((I-N)/i)),F=Math.min(n.outHeight,(n.inHeight+I-N)/i),B=N*d+P,z=0;z<u;++z)for(var U=Math.max(0,Math.ceil((O-z)/a)),j=Math.min(n.outWidth,(n.inWidth+O-z)/a),V=z*p+B,G=0;G<n.inChannels;++G)for(var W=G*m+V,H=0;H<n.outChannels;++H){for(var q=0,Q=0;Q<n.batchSize;++Q)for(var X=Q*T,Y=Q*y,K=D;K<R;++K)for(var Z=(M+K*r-A)*E+X,J=K*b+Y,$=L;$<F;++$)for(var ee=(N+$*i-I)*k+Z,te=$*w+J,ne=U;ne<j;++ne){var re=ne*S+te;q+=x[(z+ne*a-O)*C+ee+G]*g[re+H]}c[W+H]=q}return l.toTensor()},t.prototype.fusedDepthwiseConv2D=function(e){var t=e.input,n=e.filter,r=e.convInfo,i=e.bias,a=e.activation,o=e.preluActivationWeights,s=this.depthwiseConv2D(t,n,r);return i&&(s=this.add(s,i)),a&&(s=sf(this,s,a,o)),s},t.prototype.depthwiseConv2D=function(e,t,n){rf([e,t],"depthwiseConv2D");for(var r=n.filterHeight,i=n.filterWidth,a=n.dilationHeight,o=n.dilationWidth,s=n.padInfo.left,u=n.padInfo.top,l=n.outChannels/n.inChannels,c=Fn(n.outShape,e.dtype),f=this.readSync(e.dataId),h=this.readSync(t.dataId),d=c.values,p=0;p<n.batchSize;++p)for(var m=p*e.strides[0],g=p*c.strides[0],v=0;v<n.outHeight;++v)for(var y=g+v*c.strides[1],b=v*n.strideHeight-s,w=0;w<r;++w){var S=b+w*a;if(!(S<0||S>=n.inHeight))for(var x=w*t.strides[0],_=m+S*e.strides[1],T=0;T<n.outWidth;++T)for(var E=y+T*c.strides[2],k=T*n.strideWidth-u,C=0;C<i;++C){var A=k+C*o;if(!(A<0||A>=n.inWidth))for(var O=x+C*t.strides[1],I=_+A*n.inChannels,M=E,D=O,R=0;R<n.inChannels;++R){for(var P=f[I+R],N=0;N<l;++N)d[M+N]+=P*h[D+N];M+=l,D+=l}}}return c.toTensor()},t.prototype.depthwiseConv2DDerInput=function(e,t,n){rf([e,t],"depthwiseConv2DDerInput");for(var r=Fn(n.inShape,"float32"),i=r.values,a=r.strides,o=a[0],s=a[1],u=a[2],l=this.readSync(e.dataId),c=e.strides,f=c[0],h=c[1],d=c[2],p=this.readSync(t.dataId),m=t.strides,g=m[0],v=m[1],y=m[2],b=n.batchSize,w=n.filterHeight,S=n.filterWidth,x=n.inChannels,_=n.inHeight,T=n.inWidth,E=n.outChannels,k=n.outHeight,C=n.outWidth,A=n.strideHeight,O=n.strideWidth,I=w-1-n.padInfo.top,M=S-1-n.padInfo.left,D=E/x,R=0;R<b;++R)for(var P=0;P<x;++P)for(var N=0;N<_;++N)for(var L=N-I,F=Math.max(0,Math.ceil(L/A)),B=Math.min(k,(w+L)/A),z=0;z<T;++z){for(var U=z-M,j=Math.max(0,Math.ceil(U/O)),V=Math.min(C,(S+U)/O),G=0,W=F;W<B;++W)for(var H=W*A-L,q=j;q<V;++q)for(var Q=f*R+h*W+d*q,X=g*(w-1-H)+v*(S-1-(q*O-U))+y*P,Y=0;Y<D;++Y)G+=l[Q+(P*D+Y)]*p[X+Y];i[o*R+s*N+u*z+P]=G}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){rf([e,t],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s=Fn(n.filterShape,"float32"),u=n.padInfo.left,l=n.padInfo.top,c=n.outChannels/n.inChannels,f=this.bufferSync(e),h=this.bufferSync(t),d=0;d<a;++d)for(var p=Math.max(0,Math.ceil((l-d)/r)),m=Math.min(n.outHeight,(n.inHeight+l-d)/r),g=0;g<o;++g)for(var v=Math.max(0,Math.ceil((u-g)/i)),y=Math.min(n.outWidth,(n.inWidth+u-g)/i),b=0;b<n.outChannels;++b){for(var w=Math.trunc(b/c),S=b%c,x=0,_=0;_<n.batchSize;++_)for(var T=p;T<m;++T)for(var E=d+T*r-l,k=v;k<y;++k){var C=g+k*i-u;x+=f.get(_,E,C,w)*h.get(_,T,k,b)}s.set(x,d,g,w,S)}return s.toTensor()},t.prototype.tile=function(e,t){return rf(e,"tile"),na(this.bufferSync(e),t)},t.prototype.pad=function(e,t,n){rf(e,"pad");var r=t.map((function(t,n){return t[0]+e.shape[n]+t[1]})),i=t.map((function(e){return e[0]})),a=this.bufferSync(e),o=Fn(r,e.dtype);0!==n&&o.values.fill(n);for(var s=0;s<e.size;s++){var u=a.indexToLoc(s),l=u.map((function(e,t){return e+i[t]}));o.set.apply(o,[a.get.apply(a,u)].concat(l))}return o.toTensor()},t.prototype.gather=function(e,t,n){rf([e,t],"gather");var r=e.shape.slice(),i=this.readSync(t.dataId);r[n]=i.length;for(var a=Fn(r,e.dtype),o=this.bufferSync(e),s=0;s<a.size;++s){var u=a.indexToLoc(s),l=u.slice();l[n]=i[u[n]];var c=o.locToIndex(l);a.values[s]=o.values[c]}return a.toTensor()},t.prototype.batchToSpaceND=function(e,t,n){rf([e],"batchToSpaceND");var r=t.reduce((function(e,t){return e*t})),i=Yn(e.shape,t,r),a=Kn(i.length,t.length),o=Zn(e.shape,t,r),s=Jn(n,t.length),u=$n(o,n,t.length);return Ti(e.reshape(i),a).reshape(o).slice(s,u)},t.prototype.spaceToBatchND=function(e,t,n){rf([e],"spaceToBatchND");var r=t.reduce((function(e,t){return e*t})),i=[[0,0]];i.push.apply(i,n);for(var a=1+t.length;a<e.shape.length;++a)i.push([0,0]);var o=e.pad(i),s=Yn(o.shape,t,r,!1),u=Kn(s.length,t.length,!1),l=Zn(o.shape,t,r,!1);return Ti(o.reshape(s),u).reshape(l)},t.prototype.maxPool=function(e,t){return rf(e,"maxPool"),af(this.readSync(e.dataId),e.shape,e.dtype,e.strides,t,"max").toTensor()},t.prototype.maxPoolBackprop=function(e,t,n,r){rf([t,n],"maxPoolBackprop");for(var i=this.readSync(t.dataId),a=Fn(r.outShape,t.dtype,of(i,t.shape,t.dtype,r).values),o=r.strideHeight,s=r.strideWidth,u=r.dilationHeight,l=r.dilationWidth,c=r.effectiveFilterHeight,f=r.effectiveFilterWidth,h=f-1-r.padInfo.left,d=c-1-r.padInfo.top,p=Fn(t.shape,"float32"),m=this.bufferSync(e),g=0;g<r.batchSize;++g)for(var v=0;v<r.inChannels;++v)for(var y=0;y<r.inHeight;++y)for(var b=0;b<r.inWidth;++b){for(var w=y-d,S=b-h,x=0,_=0;_<c;_+=u){var T=(w+_)/o;if(!(T<0||T>=r.outHeight||Math.floor(T)!==T))for(var E=0;E<f;E+=l){var k=(S+E)/s;if(!(k<0||k>=r.outWidth||Math.floor(k)!==k)){var C=c*f-1-a.get(g,T,k,v)===_*f+E?1:0;0!==C&&(x+=m.get(g,T,k,v)*C)}}}p.set(x,g,y,b,v)}return p.toTensor()},t.prototype.avgPoolBackprop=function(e,t,n){rf([e,t],"avgPoolBackprop");for(var r=n.strideHeight,i=n.strideWidth,a=n.filterHeight,o=n.filterWidth,s=n.dilationHeight,u=n.dilationWidth,l=n.effectiveFilterHeight,c=n.effectiveFilterWidth,f=c-1-n.padInfo.left,h=l-1-n.padInfo.top,d=Fn(t.shape,"float32"),p=1/(a*o),m=this.bufferSync(e),g=0;g<n.batchSize;++g)for(var v=0;v<n.inChannels;++v)for(var y=0;y<n.inHeight;++y)for(var b=0;b<n.inWidth;++b){for(var w=y-h,S=b-f,x=0,_=0;_<l;_+=s){var T=(w+_)/r;if(!(T<0||T>=n.outHeight||Math.floor(T)!==T))for(var E=0;E<c;E+=u){var k=(S+E)/i;k<0||k>=n.outWidth||Math.floor(k)!==k||(x+=m.get(g,T,k,v))}}d.set(x*p,g,y,b,v)}return d.toTensor()},t.prototype.pool3d=function(e,t,n){rf(e,"pool3d");for(var r=t.strideDepth,i=t.strideHeight,a=t.strideWidth,o=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,l=t.effectiveFilterDepth,c=t.effectiveFilterHeight,f=t.effectiveFilterWidth,h=t.padInfo.front,d=t.padInfo.top,p=t.padInfo.left,m="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=this.readSync(e.dataId),v=Fn(t.outShape,e.dtype),y=v.values,b=t.outShape[1]*t.outShape[2]*t.outShape[3]*t.outShape[4],w=t.outShape[2]*t.outShape[3]*t.outShape[4],S=t.outShape[3]*t.outShape[4],x=t.outShape[4],_=0;_<t.batchSize;++_)for(var T=_*b,E=_*e.strides[0],k=0;k<t.inChannels;++k)for(var C=0;C<t.outDepth;++C){for(var A=C*r-h,O=A;O<0;)O+=o;for(var I=Math.min(t.inDepth,l+A),M=T+C*w,D=0;D<t.outHeight;++D){for(var R=D*i-d,P=R;P<0;)P+=s;for(var N=Math.min(t.inHeight,c+R),L=M+D*S,F=0;F<t.outWidth;++F){for(var B=F*a-p,z=B;z<0;)z+=u;for(var U=Math.min(t.inWidth,f+B),j=L+F*x,V=m,G=0,W=0,H=O;H<I;H+=o){for(var q=E+H*e.strides[1],Q=P;Q<N;Q+=s){for(var X=q+Q*e.strides[2],Y=z;Y<U;Y+=u){var K=g[X+Y*e.strides[3]+k];if("max"===n&&K>V?V=K:"avg"===n&&(G+=K,W++),isNaN(V))break}if(isNaN(V))break}if(isNaN(V))break}y[j+k]="avg"===n?G/W:V}}}return v.toTensor()},t.prototype.avgPool3d=function(e,t){return rf(e,"avgPool3d"),this.pool3d(e,t,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(e,t,n){rf([e,t],"avgPool3dBackprop");for(var r=n.strideDepth,i=n.strideHeight,a=n.strideWidth,o=n.filterDepth,s=n.filterHeight,u=n.filterWidth,l=n.dilationDepth,c=n.dilationHeight,f=n.dilationWidth,h=n.effectiveFilterDepth,d=n.effectiveFilterHeight,p=n.effectiveFilterWidth,m=h-1-n.padInfo.front,g=p-1-n.padInfo.left,v=d-1-n.padInfo.top,y=Fn(t.shape,"float32"),b=1/(o*s*u),w=this.bufferSync(e),S=0;S<n.batchSize;++S)for(var x=0;x<n.inChannels;++x)for(var _=0;_<n.inDepth;++_)for(var T=0;T<n.inHeight;++T)for(var E=0;E<n.inWidth;++E){for(var k=_-m,C=T-v,A=E-g,O=0,I=0;I<h;I+=l){var M=(k+I)/r;if(!(M<0||M>=n.outDepth||Math.floor(M)!==M))for(var D=0;D<d;D+=c){var R=(C+D)/i;if(!(R<0||R>=n.outHeight||Math.floor(R)!==R))for(var P=0;P<p;P+=f){var N=(A+P)/a;N<0||N>=n.outWidth||Math.floor(N)!==N||(O+=w.get(S,M,R,N,x))}}}y.set(O*b,S,_,T,E,x)}return y.toTensor()},t.prototype.maxPool3d=function(e,t){return rf(e,"maxPool3d"),this.pool3d(e,t,"max").toFloat()},t.prototype.maxPool3dPositions=function(e,t){for(var n=Fn(t.outShape,"int32"),r=t.strideDepth,i=t.strideHeight,a=t.strideWidth,o=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,l=t.effectiveFilterDepth,c=t.effectiveFilterHeight,f=t.effectiveFilterWidth,h=t.padInfo.front,d=t.padInfo.top,p=t.padInfo.left,m=this.bufferSync(e),g=0;g<t.batchSize;++g)for(var v=0;v<t.inChannels;++v)for(var y=0;y<t.outDepth;++y){for(var b=y*r-h,w=b;w<0;)w+=o;for(var S=Math.min(t.inDepth,l+b),x=0;x<t.outHeight;++x){for(var _=x*i-d,T=_;T<0;)T+=s;for(var E=Math.min(t.inHeight,c+_),k=0;k<t.outWidth;++k){for(var C=k*a-p,A=C;A<0;)A+=u;for(var O=Math.min(t.inWidth,f+C),I=Number.NEGATIVE_INFINITY,M=-1,D=w;D<S;D+=o)for(var R=D-b,P=T;P<E;P+=s)for(var N=P-_,L=A;L<O;L+=u){var F=L-C,B=m.get(g,D,P,L,v);B>=I&&(I=B,M=R*c*f+N*c+F)}n.set(M,g,y,x,k,v)}}}return n.toTensor()},t.prototype.maxPool3dBackprop=function(e,t,n,r){rf([t,n],"maxPool3dBackprop");for(var i=this.maxPool3dPositions(t,r),a=r.strideDepth,o=r.strideHeight,s=r.strideWidth,u=r.dilationDepth,l=r.dilationHeight,c=r.dilationWidth,f=r.effectiveFilterDepth,h=r.effectiveFilterHeight,d=r.effectiveFilterWidth,p=f-1-r.padInfo.front,m=d-1-r.padInfo.left,g=h-1-r.padInfo.top,v=Fn(t.shape,"float32"),y=this.bufferSync(i),b=this.bufferSync(e),w=0;w<r.batchSize;++w)for(var S=0;S<r.inChannels;++S)for(var x=0;x<r.inDepth;++x)for(var _=0;_<r.inHeight;++_)for(var T=0;T<r.inWidth;++T){for(var E=x-p,k=_-g,C=T-m,A=0,O=0;O<f;O+=u){var I=(E+O)/a;if(!(I<0||I>=r.outDepth||Math.floor(I)!==I))for(var M=0;M<h;M+=l){var D=(k+M)/o;if(!(D<0||D>=r.outHeight||Math.floor(D)!==D))for(var R=0;R<d;R+=c){var P=(C+R)/s;if(!(P<0||P>=r.outWidth||Math.floor(P)!==P)){var N=f*h*d-1-y.get(w,I,D,P,S)===O*h*d+M*d+R?1:0;0!==N&&(A+=b.get(w,I,D,P,S)*N)}}}}v.set(A,w,x,_,T,S)}return v.toTensor()},t.prototype.cast=function(e,t){return Ui(e,t,this)},t.prototype.reshape=function(e,t){return ji(e,t)},t.prototype.avgPool=function(e,t){return rf(e,"avgPool"),rf(e,"maxPool"),af(this.readSync(e.dataId),e.shape,e.dtype,e.strides,t,"avg").toTensor().toFloat()},t.prototype.resizeBilinear=function(e,t,n,r){rf(e,"resizeBilinear");for(var i=e.shape,a=i[0],o=i[1],s=i[2],u=i[3],l=this.readSync(e.dataId),c=new Float32Array(I([a,t,n,u])),f=[r&&t>1?o-1:o,r&&n>1?s-1:s],h=[r&&t>1?t-1:t,r&&n>1?n-1:n],d=0,p=f[0]/h[0],m=f[1]/h[1],g=0;g<a;g++)for(var v=0;v<t;v++)for(var y=p*v,b=Math.floor(y),w=y-b,S=Math.min(o-1,Math.ceil(y)),x=g*e.strides[0]+b*e.strides[1],_=g*e.strides[0]+S*e.strides[1],T=0;T<n;T++)for(var E=m*T,k=Math.floor(E),C=E-k,A=Math.min(s-1,Math.ceil(E)),O=x+k*e.strides[2],M=_+k*e.strides[2],D=x+A*e.strides[2],R=_+A*e.strides[2],P=0;P<u;P++){var N=l[O+P],L=l[M+P],F=N+(l[D+P]-N)*C,B=F+(L+(l[R+P]-L)*C-F)*w;c[d++]=B}return gn(c,[a,t,n,u])},t.prototype.resizeBilinearBackprop=function(e,t,n){rf([e,t],"resizeBilinearBackprop");for(var r=t.shape,i=r[0],a=r[1],o=r[2],s=r[3],u=e.shape,l=u[1],c=u[2],f=new Float32Array(i*a*o*s),h=[n&&l>1?a-1:a,n&&c>1?o-1:o],d=[n&&l>1?l-1:l,n&&c>1?c-1:c],p=h[0]/d[0],m=h[1]/d[1],g=this.readSync(e.dataId),v=0,y=0;y<i;y++)for(var b=y*t.strides[0],w=0;w<l;w++)for(var S=w*p,x=Math.floor(S),_=Math.min(Math.ceil(S),a-1),T=b+x*t.strides[1],E=b+_*t.strides[1],k=S-x,C=1-k,A=0;A<c;A++)for(var O=A*m,I=Math.floor(O),M=Math.min(Math.ceil(O),o-1),D=O-I,R=1-D,P=T+I*t.strides[2],N=T+M*t.strides[2],L=E+I*t.strides[2],F=E+M*t.strides[2],B=C*R,z=C*D,U=k*R,j=k*D,V=0;V<s;V++){var G=g[v++];f[P+V]+=G*B,f[N+V]+=G*z,f[L+V]+=G*U,f[F+V]+=G*j}return xn(f,[i,o,a,s],t.dtype)},t.prototype.resizeNearestNeighbor=function(e,t,n,r){rf(e,"resizeNearestNeighbor");for(var i=e.shape,a=i[0],o=i[1],s=i[2],u=i[3],l=this.readSync(e.dataId),c=new Float32Array(a*t*n*u),f=[r&&t>1?o-1:o,r&&n>1?s-1:s],h=[r&&t>1?t-1:t,r&&n>1?n-1:n],d=f[0]/h[0],p=f[1]/h[1],m=0,g=0;g<a;g++)for(var v=g*e.strides[0],y=0;y<t;y++)for(var b=d*y,w=v+Math.min(o-1,r?Math.round(b):Math.floor(b))*e.strides[1],S=0;S<n;S++)for(var x=p*S,_=w+Math.min(s-1,r?Math.round(x):Math.floor(x))*e.strides[2],T=0;T<u;T++){var E=l[_+T];c[m++]=E}return gn(c,[a,t,n,u],e.dtype)},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){rf([e,t],"resizeNearestNeighborBackprop");for(var r=t.shape,i=r[0],a=r[1],o=r[2],s=r[3],u=e.shape,l=u[1],c=u[2],f=new Float32Array(i*a*o*s),h=this.readSync(e.dataId),d=[n&&l>1?a-1:a,n&&c>1?o-1:o],p=[n&&l>1?l-1:l,n&&c>1?c-1:c],m=d[0]/p[0],g=d[1]/p[1],v=1/m,y=1/g,b=2*Math.ceil(v)+2,w=2*Math.ceil(y)+2,S=0;S<i;S++)for(var x=S*t.strides[0],_=0;_<a;_++)for(var T=x+_*t.strides[1],E=Math.floor(_*v),k=Math.floor(E-b/2),C=0;C<o;C++)for(var A=T+C*t.strides[2],O=Math.floor(C*y),I=Math.floor(O-w/2),M=0;M<s;M++){for(var D=0,R=0;R<b;R++){var P=R+k;if(!(P<0||P>=l)){var N=x+P*e.strides[1],L=P*m;if(_===Math.min(a-1,n?Math.round(L):Math.floor(L)))for(var F=0;F<w;F++){var B=F+I;if(!(B<0||B>=c)){var z=N+B*e.strides[2],U=B*g;C===Math.min(o-1,n?Math.round(U):Math.floor(U))&&(D+=h[z+M])}}}}f[A+M]=D}return xn(f,t.shape,t.dtype)},t.prototype.batchNormalization=function(e,t,n,r,i,a){rf([e,t,n,i,a],"batchNorm");for(var o=this.readSync(e.dataId),s=this.readSync(t.dataId),u=this.readSync(n.dataId),l=i?this.readSync(i.dataId):new Float32Array([1]),c=a?this.readSync(a.dataId):new Float32Array([0]),f=new Float32Array(o.length),h=c.length,d=l.length,p=u.length,m=s.length,g=0,v=0,y=0,b=0,w=0;w<o.length;++w)f[w]=c[g++]+(o[w]-s[v++])*l[y++]/Math.sqrt(u[b++]+r),g>=h&&(g=0),v>=m&&(v=0),y>=d&&(y=0),b>=p&&(b=0);return xn(f,e.shape)},t.prototype.localResponseNormalization4D=function(e,t,n,r,i){rf(e,"localResponseNormalization4D");var a=e.shape[3],o=a-1,s=this.readSync(e.dataId),u=e.size,l=new Float32Array(u);function c(e){for(var n=e%a,r=e-n+Math.max(0,n-t),i=e-n+Math.min(n+t,o),u=0;r<=i;r++){var l=s[r];u+=l*l}return u}for(var f=0;f<u;f++){var h=c(f),d=s[f]*Math.pow(n+r*h,-i);l[f]=d}return xn(l,e.shape)},t.prototype.LRNGrad=function(e,t,n,r,i,a,o){rf(e,"LRNGrad");for(var s=e.shape[3],u=this.readSync(e.dataId),l=this.readSync(t.dataId),c=this.readSync(n.dataId),f=new Float32Array(e.size),h=e.size,d=0;d<h;d++){for(var p=d%s,m=d-p+Math.max(0,p-r),g=d-p+Math.min(s,p+r+1),v=0,y=m;y<g;y++)v+=Math.pow(l[y],2);for(v=a*v+i,y=m;y<g;y++){var b=-2*a*o*l[y]*c[d]/v;d===y&&(b+=Math.pow(v,-o)),b*=u[d],f[y]+=b}}return xn(f,e.shape)},t.prototype.multinomial=function(e,t,n,r){rf(e,"multinomial");for(var i=t?e:xi(e),a=i.shape[0],o=i.shape[1],s=En([a,n],"int32"),u=this.readSync(s.dataId),l=this.readSync(i.dataId),c=0;c<a;++c){var f=c*o,h=new Float32Array(o-1);h[0]=l[f];for(var d=1;d<h.length;++d)h[d]=h[d-1]+l[f+d];for(var p=Qs(r.toString()),m=c*n,g=0;g<n;++g){var v=p();u[m+g]=h.length;for(var y=0;y<h.length;y++)if(v<h[y]){u[m+g]=y;break}}}return s},t.prototype.oneHot=function(e,t,n,r){rf(e,"oneHot");var i=new Float32Array(e.size*t);i.fill(r);for(var a=this.readSync(e.dataId),o=0;o<e.size;++o)a[o]>=0&&a[o]<t&&(i[o*t+a[o]]=n);return wn(i,[e.size,t],"int32")},t.prototype.nonMaxSuppression=function(e,t,n,r,i){return rf(e,"nonMaxSuppression"),Yi(this.readSync(e.dataId),this.readSync(t.dataId),n,r,i)},t.prototype.fft=function(e){return this.fftBatch(e,!1)},t.prototype.ifft=function(e){return this.fftBatch(e,!0)},t.prototype.fftBatch=function(e,t){for(var n=e.shape[0],r=e.shape[1],i=Fn(e.shape,"float32"),a=Fn(e.shape,"float32"),o=pn(e).as2D(n,r),s=mn(e).as2D(n,r),u=0;u<n;u++)for(var l=o.slice([u,0],[1,r]),c=s.slice([u,0],[1,r]),f=dn(l,c),h=this.readSync(this.fftImpl(f,t).dataId),d=0;d<r;d++){var p=Wi(h,d);i.values[u*r+d]=p.real,a.values[u*r+d]=p.imag}return dn(i.toTensor(),a.toTensor()).as2D(n,r)},t.prototype.fftImpl=function(e,t){var n=e.as1D(),r=n.size;if(this.isExponentOf2(r)){var i=this.fftRadix2(n,r,t).as2D(e.shape[0],e.shape[1]);return t&&(i=dn(pn(i).div(yn(r)),mn(i).div(yn(r)))),i}var a=this.readSync(e.dataId),o=function(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(this.fourierTransformByMatmul(a,r,t));return dn(o.real,o.imag).as2D(e.shape[0],e.shape[1])},t.prototype.isExponentOf2=function(e){return 0==(e&e-1)},t.prototype.fftRadix2=function(e,t,n){if(1===t)return e;var r=this.readSync(e.dataId),i=t/2,a=function(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=0;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}(r),o=dn(a.real,a.imag).as1D(),s=function(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),i=2;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}(r),u=dn(s.real,s.imag).as1D();o=this.fftRadix2(o,i,n),u=this.fftRadix2(u,i,n);var l=function(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),i=0;i<Math.ceil(e/2);i++){var a=(t?2:-2)*Math.PI*(i/e);n[i]=Math.cos(a),r[i]=Math.sin(a)}return{real:n,imag:r}}(t,n),c=dn(l.real,l.imag).mul(u),f=o.add(c),h=o.sub(c),d=pn(f).concat(pn(h)),p=mn(f).concat(mn(h));return dn(d,p).as1D()},t.prototype.fourierTransformByMatmul=function(e,t,n){for(var r=new Float32Array(2*t),i=0;i<t;i++){for(var a=0,o=0,s=0;s<t;s++){var u=qi(i*s,t,n),l=Wi(e,s);a+=l.real*u.real-l.imag*u.imag,o+=l.real*u.imag+l.imag*u.real}n&&(a/=t,o/=t),Hi(r,a,o,i)}return r},t.prototype.depthToSpace=function(e,t,n){k("NHWC"===n,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n})),k(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+t}));for(var r=e.shape[0],i=e.shape[1],a=e.shape[2],o=e.shape[3],s=i*t,u=a*t,l=o/(t*t),c=this.readSync(e.dataId),f=new Float32Array(r*s*u*l),h=0,d=0;d<r;++d)for(var p=0;p<s;++p)for(var m=Math.floor(p/t),g=p%t,v=0;v<u;++v)for(var y=Math.floor(v/t),b=(g*t+v%t)*l,w=0;w<l;++w){var S=w+b+o*(y+a*(m+i*d));f[h++]=c[S]}return xn(f,[r,s,u,l])},t.prototype.broadcastedBinaryOp=function(e,t,n,r){var i=cr(e.shape,t.shape),a=Fn(i,n),o=this.readSync(e.dataId),s=this.readSync(t.dataId),u=ur(e.shape,i),l=ur(t.shape,i),c=a.values;if(u.length+l.length===0)for(var f=0;f<c.length;++f)c[f]=r(o[f%o.length],s[f%s.length]);else{var h=this.bufferSync(e),d=this.bufferSync(t),p=function(n){var i=a.indexToLoc(n),f=i.slice(-e.rank);u.forEach((function(e){return f[e]=0}));var p=h.locToIndex(f),m=i.slice(-t.rank);l.forEach((function(e){return m[e]=0}));var g=d.locToIndex(m);c[n]=r(o[p],s[g])};for(f=0;f<c.length;++f)p(f)}return a.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(e,t,n){var r=cr(e.shape,t.shape),i=Fn(r,"float32"),a=Fn(r,"float32"),o=this.readSync(e.dataId),s=this.readSync(t.dataId),u=ur(e.shape,r),l=ur(t.shape,r),c=i.values,f=a.values;if(u.length+l.length===0)for(var h=0;h<c.length;h++){var d=h%o.length,p=h%s.length,m=n(o[2*d],o[2*d+1],s[2*p],s[2*p+1]);c[h]=m.real,f[h]=m.imag}else{var g=this.bufferSync(this.data.get(e.dataId).complexTensors.real),v=this.bufferSync(this.data.get(t.dataId).complexTensors.real),y=function(r){var a=i.indexToLoc(r),h=a.slice(-e.rank);u.forEach((function(e){return h[e]=0}));var d=g.locToIndex(h),p=a.slice(-t.rank);l.forEach((function(e){return p[e]=0}));var m=v.locToIndex(p),y=n(o[2*d],o[2*d+1],s[2*m],s[2*m+1]);c[r]=y.real,f[r]=y.imag};for(h=0;h<c.length;h++)y(h)}return this.complex(i.toTensor(),a.toTensor())},t.prototype.split=function(e,t,n){return ta(e,t,n)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(e,t,n,r,i,a){for(var o=e.shape,s=o[0],u=o[1],l=o[2],c=o[3],f=t.shape[0],h=r[0],d=r[1],p=Fn([f,h,d,c],"float32"),m=this.readSync(t.dataId),g=this.readSync(n.dataId),v=this.readSync(e.dataId),y=e.strides,b=p.strides,w=0;w<f;w++){var S=4*w,x=m[S],_=m[S+1],T=m[S+2],E=m[S+3],k=g[w];if(!(k>=s))for(var C=h>1?(T-x)*(u-1)/(h-1):0,A=d>1?(E-_)*(l-1)/(d-1):0,O=0;O<h;O++){var I=h>1?x*(u-1)+O*C:.5*(x+T)*(u-1);if(I<0||I>u-1)for(var M=0;M<d;M++)for(var D=0;D<c;D++){var R=D+M*b[2]+O*b[1]+w*b[0];p.values[R]=a}else if("bilinear"===i){var P=Math.floor(I),N=Math.ceil(I),L=I-P;for(M=0;M<d;M++)if((H=d>1?_*(l-1)+M*A:.5*(_+E)*(l-1))<0||H>l-1)for(D=0;D<c;D++)R=D+M*b[2]+O*b[1]+w*b[0],p.values[R]=a;else{var F=Math.floor(H),B=Math.ceil(H),z=H-F;for(D=0;D<c;D++){var U=v[R=D+F*y[2]+P*y[1]+k*y[0]],j=v[R=D+B*y[2]+P*y[1]+k*y[0]],V=v[R=D+F*y[2]+N*y[1]+k*y[0]],G=U+(j-U)*z,W=V+(v[R=D+B*y[2]+N*y[1]+k*y[0]]-V)*z;R=D+M*b[2]+O*b[1]+w*b[0],p.values[R]=G+(W-G)*L}}}else for(M=0;M<d;++M){var H;if((H=d>1?_*(l-1)+M*A:.5*(_+E)*(l-1))<0||H>l-1)for(D=0;D<c;D++)R=D+M*b[2]+O*b[1]+w*b[0],p.values[R]=a;else{var q=Math.round(H),Q=Math.round(I);for(D=0;D<c;D++){var X=D+q*y[2]+Q*y[1]+k*y[0],Y=D+M*b[2]+O*b[1]+w*b[0];p.values[Y]=v[X]}}}}}return p.toTensor()},t.prototype.sparseToDense=function(e,t,n,r){var i=di(0,e,n),a=i.sliceRank,o=i.numUpdates,s=i.sliceSize,u=i.strides,l=i.outputSize;return this.scatter(e,t,n,l,s,o,a,u,r,!1)},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],i=li(e,t),a=i[0],o=i[1],s=i[2],u=i[3];if(0===o)return gn([],a,e.dtype);for(var l=new ve([o,s],e.dtype),c=this.readSync(t.dataId),f=this.readSync(e.dataId),h=0;h<o;h++){for(var d=[],p=0,m=0;m<r;m++){var g=c[h*r+m];p+=g*u[m],d.push(g)}if(p<0||p>=e.size/s)throw new Error("Invalid indices: "+d+" does not index into "+e.shape);for(var v=0;v<s;v++)l.values[h*s+v]=f[p*s+v]}return l.toTensor().reshape(a)},t.prototype.scatterND=function(e,t,n){var r=di(0,e,n),i=r.sliceRank,a=r.numUpdates,o=r.sliceSize,s=r.strides,u=r.outputSize,l=yn(0);return this.scatter(e,t,n,u,o,a,i,s,l,!0)},t.prototype.fill=function(e,t,n){var r=j(n=n||Z(t),I(e));return r.fill(t),ze.makeTensor(r,e,n,this)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){var t=j(e.dtype,I(e.shape));return this.makeOutput(t,e.shape,e.dtype)},t.prototype.linspace=function(e,t,n){return Vi(e,t,n)},t.prototype.scatter=function(e,t,n,r,i,a,o,s,u,l){var c=[r/i,i],f=this.readSync(e.dataId),h=this.readSync(t.dataId);if(0===r)return gn([],n,t.dtype);var d=new ve(c,t.dtype);d.values.fill(this.readSync(u.dataId)[0]);for(var p=0;p<a;p++){for(var m=[],g=0,v=0;v<o;v++){var y=f[p*o+v];m.push(y),g+=y*s[v]}if(g<0||g>=r/i)throw new Error("Invalid indices: "+m+" does not index into "+n);for(var b=0;b<i;b++)l?d.values[g*i+b]+=h[p*i+b]:d.values[g*i+b]=0===t.rank?h[0]:h[p*i+b]}return d.toTensor().reshape(n)},t}(ki);function lf(e,t){return{kernelName:e,backendName:"cpu",kernelFunc:function(n){var r=n.inputs,i=n.backend,a=r,o=a.a,s=a.b,u=i;rf([o,s],e);var l=u.data.get(o.dataId).values,c=u.data.get(s.dataId).values,f=t(o.shape,s.shape,l,c,o.dtype),h=f[0],d=f[1];return{dataId:u.write(h,d,o.dtype),shape:d,dtype:o.dtype}}}}function cf(e){return function(t,n,r,i,a){var o=cr(t,n),s=o.length,u=ee(o),l=U(a,I(o)),c=t.length,f=n.length,h=ee(t),d=ee(n),p=ur(t,o),m=ur(n,o);if(p.length+m.length===0)for(var g=0;g<l.length;++g)l[g]=e(r[g%r.length],i[g%i.length]);else{var v=function(t){var n=ce(t,s,u),a=n.slice(-c);p.forEach((function(e){return a[e]=0}));var o=le(a,c,h),g=n.slice(-f);m.forEach((function(e){return g[e]=0}));var v=le(g,f,d);l[t]=e(r[o],i[v])};for(g=0;g<l.length;++g)v(g)}return[l,o]}}ze.registerBackend("cpu",(function(){return new uf}),1);var ff=cf((function(e,t){return e/t})),hf=lf(er,ff),df={kernelName:"MaxPoolWithArgmax",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=n,o=a.filterSize,s=a.strides,u=a.pad,l=a.includeBatchInIndex,c=r;rf(i,"MaxPoolWithArgmax");var f=c.data.get(i.dataId).values,h=Ai(i.shape,o,s,[1,1],u),d=function(e,t,n,r,i){var a=af(e,0,n,ee(t),i,"max"),o=of(e,t,n,i,!0,r);return[a.values,o.values]}(f,i.shape,i.dtype,l,h),p=d[0],m=d[1],g=c.write(p,h.outShape,i.dtype),v=c.write(m,h.outShape,i.dtype);return[{dataId:g,shape:h.outShape,dtype:i.dtype},{dataId:v,shape:h.outShape,dtype:"int32"}]}},pf={kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t,a=i.boxes,o=i.scores,s=r,u=s.maxOutputSize,l=s.iouThreshold,c=s.scoreThreshold,f=s.softNmsSigma,h=n;rf(a,"NonMaxSuppressionWithScore");var d=Ki(h.data.get(a.dataId).values,h.data.get(o.dataId).values,u,l,c,f);return[d.selectedIndices,d.selectedScores]}},mf={kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n;rf(r,"square");for(var a=i.data.get(r.dataId).values,o=new Float32Array(a.length),s=0;s<a.length;++s){var u=a[s];o[s]=u*u}return{dataId:i.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},gf=cf((function(e,t){var n=e-t;return n*n}));function vf(e,t,n,r,i){for(var a=I(t),o=t.length,s=ee(t),u=ee(i),l=U(n,I(i)),c=0;c<a;++c){for(var f=ce(c,o,s),h=new Array(f.length),d=0;d<h.length;d++)h[d]=f[r[d]];l[le(h,o,u)]=e[c]}return l}for(var yf=0,bf=[pf,mf,lf(tr,gf),hf,{kernelName:"Transpose",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=n.perm,o=r;rf(i,"transpose");for(var s=i.shape.length,u=new Array(s),l=0;l<u.length;l++)u[l]=i.shape[a[l]];var c=vf(o.data.get(i.dataId).values,i.shape,i.dtype,a,u);return{dataId:o.write(c,u,i.dtype),shape:u,dtype:i.dtype}}},df];yf<bf.length;yf++)b(bf[yf]);for(var wf,Sf=function(e){this.variableNames=["A"];var t=ca(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n\n        vec4 values = "+t.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},xf=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=ca(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+n+".0);\n            vec4 values = "+t.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+t.output+" = result;\n      }\n    "},_f=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var i=_a(this.rank),a=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),i=0;i<e.length;i++)r[e[i]]=n[i];return r.join()}(t);this.userCode="\n    void main() {\n      "+i+" resRC = getOutputCoords();\n      setOutput(getA("+a+"));\n    }\n    "},Tf=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var i=_a(this.rank),a=ua("rc",this.rank),o=new Array(this.rank);for(r=0;r<t.length;r++)o[t[r]]=a[r];var s="vec2("+o.slice(-2).join()+")",u="++"+a[this.rank-1]+" < "+n[this.rank-1],l="getChannel(getA("+o.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+i+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+l+";\n      if("+u+") {\n        result[1] = "+l+";\n      }\n      --"+a[this.rank-1]+";\n      if(++"+a[this.rank-2]+" < "+n[this.rank-2]+") {\n        result[2] = "+l+";\n        if("+u+") {\n          result[3] = "+l+";\n        }\n      }\n      setOutput(result);\n    }\n    "},Ef=0,kf=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.pixels,a=r.numChannels,o="undefined"!=typeof HTMLVideoElement&&i instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&i instanceof HTMLImageElement,u=o?[i.videoWidth,i.videoHeight]:[i.width,i.height],l=u[0],c=u[1],f=[c,l],d=[c,l,a];(s||o)&&(null==wf&&(wf=document.createElement("canvas").getContext("2d")),wf.canvas.width=l,wf.canvas.height=c,wf.drawImage(i,0,0,l,c),i=wf.canvas);var p=n.makeTensorInfo(f,"int32");n.texData.get(p.dataId).usage=Ge.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(p.dataId),i);var m=h().getBool("WEBGL_PACK")?new xf(d):new Sf(d),g=n.runWebGLProgram(m,[p],"int32");return n.disposeData(p.dataId),g}},{kernelName:er,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t;return function(e,t,n){var r=new La("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",e.shape,t.shape);return h().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&(r=new Ba("\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",e.shape,t.shape,!0)),n.runWebGLProgram(r,[e,t],"float32")}(r.a,r.b,n)}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;Kt("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var i=t,a=i.boxes,o=i.scores,s=r,u=s.maxOutputSize,l=s.iouThreshold,c=s.scoreThreshold,f=s.softNmsSigma,h=n,d=Ki(h.readSync(a.dataId),h.readSync(o.dataId),u,l,c,f);return[d.selectedIndices,d.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,i=n,a=new bs(r.shape,"return x * x;");return i.runWebGLProgram(a,[r],r.dtype)}},{kernelName:tr,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,i=r.a,a=r.b,o=n,s=h().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ba("return (a - b) * (a - b);",i.shape,a.shape):new La("return (a - b) * (a - b);",i.shape,a.shape);return o.compileAndRun(s,[i,a])}},{kernelName:"Transpose",backendName:"webgl",kernelFunc:function(e){for(var t,n=e.inputs,r=e.attrs,i=e.backend,a=n.x,o=r.perm,s=i,u=a.shape.length,l=new Array(u),c=0;c<l.length;c++)l[c]=a.shape[o[c]];if(s.shouldExecuteOnCPU([a])){var f=vf(s.texData.get(a.dataId).values,a.shape,a.dtype,o,l);t=s.makeTensorInfo(l,a.dtype),s.texData.get(t.dataId).values=f}else t=function(e,t,n){var r=h().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Tf(e.shape,t):new _f(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}(a,o,s);return t}},{kernelName:"MaxPoolWithArgmax",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,a=n,o=a.filterSize,s=a.strides,u=a.pad,l=a.includeBatchInIndex,c=r;k(4===i.shape.length,(function(){return"Error in maxPool: input must be rank 4 but got rank "+i.shape.length+"."}));var f=[1,1];k(Bi(s,f),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+s+" and dilations '"+f+"'"}));var h=Ai(i.shape,o,s,f,u),d=function(e,t,n,r){var i=new Yo(n,"max",!1),a=r.runWebGLProgram(i,[e],"float32");return i=new Yo(n,"max",!0,!0,t),[a,r.runWebGLProgram(i,[e],"float32")]}(i,l,h,c);return[d[0],d[1]]}}];Ef<kf.length;Ef++)b(kf[Ef]);for(var Cf=0,Af=[{kernelName:"Add",inputsToSave:["a","b"],gradFunc:function(e,t){var n=t[0],r=t[1],i=cr(n.shape,r.shape);return{a:function(){var t=e,r=lr(n.shape,i);return r.length>0&&(t=t.sum(r)),t.reshape(n.shape)},b:function(){var t=e,n=lr(r.shape,i);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)}}}},{kernelName:"AddN",saveAllInputs:!0,gradFunc:function(e,t){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}},{kernelName:nr,gradFunc:function(e,t,n){for(var r=n,i=r.inputShape,a=r.shape,o=Array.from(a),s=i.length-1;s>=0;s--)if(i[s]===a[s])o[s]=1;else if(1!==i[s])throw new Error("broadcastTo(): ["+i+"] cannot be broadcast to ["+a+"].");var u=[];for(s=0;s<o.length;s++)o[s]>1&&u.push(s);return{x:function(){return e.sum(u,!0)}}}},{kernelName:er,inputsToSave:["a","b"],gradFunc:function(e,t){var n=t[0],r=t[1],i=cr(n.shape,r.shape);return{a:function(){var t=ui(e,r.toFloat()),a=lr(n.shape,i);return a.length>0?Xl(t,a).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),a=lr(r.shape,i);a.length>0&&(t=Xl(t,a).reshape(r.shape));var o=Bu(r);return Or(ui(t,o.toFloat()))}}}},{kernelName:"FusedBatchNorm",inputsToSave:["x","mean","variance","scale"],gradFunc:function(e,t,n){var r=n.varianceEpsilon,i=t[0],a=t[1],o=t[2],s=t[3],u=Ks(i),l=null==s?yn(1):s,c=lr(a.shape,u.shape),f=[];if(1===a.rank){for(var h=0;h<u.shape.length-1;++h)f.push(u.shape[h]);f.push(1)}var d=oi(i,a),p=ti(e,l),m=Dr(sr(o,yn(r))),g=ti(ti(ti(m,m),m),yn(-.5));return{x:function(){return 1===a.rank?Gn(ti(ti(e,bu(m.as4D(1,1,1,a.shape[0]),f)),l),i.shape):Gn(ti(ti(e,m),l),i.shape)},mean:function(){var e=ti(ti(m,yn(-1)),p);return 1===a.rank&&(e=Xl(e,c)),Gn(e,a.shape)},variance:function(){var e=ti(ti(g,d),p);return 1===a.rank&&(e=Xl(e,c)),Gn(e,a.shape)},scale:function(){var t=ti(d,m),n=ti(e,t);return 1===a.rank&&(n=Xl(n,c)),Gn(n,a.shape)},offset:function(){var t=e;return 1===a.rank&&(t=Xl(t,c)),Gn(t,a.shape)}}}},{kernelName:ir,gradFunc:function(e){return{x:function(){return e.toFloat()}}}},{kernelName:rr,inputsToSave:["indices"],gradFunc:function(e,t){var n=t[0];return{indices:function(){return En(n.shape,"float32")}}}},{kernelName:or,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],i=n.paddings.map((function(e){return e[0]}));return{x:function(){return e.slice(i,r.shape)}}}},{kernelName:"Square",inputsToSave:["x"],gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:tr,inputsToSave:["a","b"],gradFunc:function(e,t){var n=t[0],r=t[1],i=yn(2);return{a:function(){return ti(e,ti(i,oi(n,r)))},b:function(){return ti(e,ti(i,oi(r,n)))}}}},{kernelName:ar,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],i=n.reps;return{x:function(){var t=In(r);if(1===r.rank)for(var n=0;n<i[0];++n)t=t.add(e.slice([n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(n=0;n<i[0];++n)for(var a=0;a<i[1];++a)t=t.add(e.slice([n*r.shape[0],a*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(n=0;n<i[0];++n)for(a=0;a<i[1];++a)for(var o=0;o<i[2];++o)t=t.add(e.slice([n*r.shape[0],a*r.shape[1],o*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(n=0;n<i[0];++n)for(a=0;a<i[1];++a)for(o=0;o<i[2];++o)for(var s=0;s<i[3];++s)t=t.add(e.slice([n*r.shape[0],a*r.shape[1],o*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},{kernelName:"Transpose",gradFunc:function(e,t,n){var r=un(n.perm);return{x:function(){return Ti(e,r)}}}}];Cf<Af.length;Cf++)w(Af[Cf]);var Of=function(){function e(){}return e.prototype.fetch=function(e,t){return fetch(e,t)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got "+t);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return new TextDecoder(t).decode(e)},e}();h().get("IS_BROWSER")&&h().setPlatform("browser",new Of);var If,Mf=function(){function e(){this.util=n(147),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(e,t){return null!=h().global.fetch?h().global.fetch(e,t):(null==If&&(If=n(146)),If(e,t))},e.prototype.now=function(){var e=r.hrtime();return 1e3*e[0]+e[1]/1e6},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)},e}();h().get("IS_NODE")&&h().setPlatform("node",new Mf);var Df={float32:4,int32:4,uint16:2,uint8:1,bool:1};function Rf(e,t){for(var n={},r=0,i=function(t){var i=t.name,a=t.dtype,o=t.shape,s=I(o),u=void 0;if("quantization"in t){var l=t.quantization;if("uint8"!==l.dtype&&"uint16"!==l.dtype)throw new Error("Weight "+t.name+" has unknown quantization dtype "+l.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var c=Df[l.dtype],f=e.slice(r,r+s*c),h="uint8"===l.dtype?new Uint8Array(f):new Uint16Array(f);if("float32"===a)u=Float32Array.from(h,(function(e){return e*l.scale+l.min}));else{if("int32"!==a)throw new Error("Unsupported dtype in weight '"+i+"': "+a);u=Int32Array.from(h,(function(e){return Math.round(e*l.scale+l.min)}))}r+=s*c}else if("string"===a){var d=I(t.shape);u=[];for(var p=0;p<d;p++){var m=new Uint32Array(e.slice(r,r+4))[0];r+=4;var g=new Uint8Array(e.slice(r,r+m));u.push(g),r+=m}}else{var v=Df[a];if(f=e.slice(r,r+s*v),"float32"===a)u=new Float32Array(f);else if("int32"===a)u=new Int32Array(f);else{if("bool"!==a)throw new Error("Unsupported dtype in weight '"+i+"': "+a);u=new Uint8Array(f)}r+=s*v}n[i]=gn(u,o,a)},a=0,o=t;a<o.length;a++)i(o[a]);return n}function Pf(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name)}));var r=new Uint8Array(t),i=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),i),i+=e.byteLength})),r.buffer}var Nf="undefined"!=typeof i&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function Lf(e){return Nf?i.byteLength(e):new Blob([e]).size}function Ff(e){var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function Bf(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function zf(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Lf(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Lf(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}var Uf=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var i=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&i.push(n)})),i},e}(),jf="://",Vf=function(){function e(){this.managers={}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerManager=function(t,n){k(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(jf)&&(t=t.slice(0,t.indexOf(jf))),k(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();k(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '"+t+"'."})),r.managers[t]=n},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function Gf(e){if(-1===e.indexOf(jf))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+Vf.getSchemes().join(","));return{scheme:e.split(jf)[0],path:e.split(jf)[1]}}function Wf(e,t,n){return void 0===n&&(n=!1),u(this,void 0,void 0,(function(){var r,i,a,o,s,u,c,f,h;return l(this,(function(l){switch(l.label){case 0:return k(e!==t,(function(){return"Old path and new path are the same: '"+e+"'"})),k((r=Uf.getLoadHandlers(e)).length>0,(function(){return"Copying failed because no load handler is found for source URL "+e+"."})),k(r.length<2,(function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."})),i=r[0],k((a=Uf.getSaveHandlers(t)).length>0,(function(){return"Copying failed because no save handler is found for destination URL "+t+"."})),k(a.length<2,(function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."})),o=a[0],s=Gf(e).scheme,u=Gf(e).path,c=s===Gf(e).scheme,[4,i.load()];case 1:return f=l.sent(),n&&c?[4,Vf.getManager(s).removeModel(u)]:[3,3];case 2:l.sent(),l.label=3;case 3:return[4,o.save(f)];case 4:return h=l.sent(),!n||c?[3,6]:[4,Vf.getManager(s).removeModel(u)];case 5:l.sent(),l.label=6;case 6:return[2,h.modelArtifactsInfo]}}))}))}var Hf="models_store",qf="model_info_store";function Qf(){if(!h().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Xf(e){var t=e.result;t.createObjectStore(Hf,{keyPath:"modelPath"}),t.createObjectStore(qf,{keyPath:"modelPath"})}var Yf=function(){function e(e){if(this.indexedDB=Qf(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]}))}))},e.prototype.load=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return[2,this.databaseAction(this.modelPath)]}))}))},e.prototype.databaseAction=function(e,t){var n=this;return new Promise((function(e,r){var i=n.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return Xf(i)},i.onsuccess=function(){var a=i.result;if(null==t){var o=a.transaction(Hf,"readonly"),s=o.objectStore(Hf).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return a.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return a.close(),r(s.error)},o.oncomplete=function(){return a.close()}}else{var u,l=zf(t),c=a.transaction(qf,"readwrite"),f=c.objectStore(qf),h=f.put({modelPath:n.modelPath,modelArtifactsInfo:l});h.onsuccess=function(){var i=(u=a.transaction(Hf,"readwrite")).objectStore(Hf).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:l});i.onsuccess=function(){return e({modelArtifactsInfo:l})},i.onerror=function(e){var t=(f=c.objectStore(qf)).delete(n.modelPath);t.onsuccess=function(){return a.close(),r(i.error)},t.onerror=function(e){return a.close(),r(i.error)}}},h.onerror=function(e){return a.close(),r(h.error)},c.oncomplete=function(){null==u?a.close():u.oncomplete=function(){return a.close()}}}},i.onerror=function(e){return r(i.error)}}))},e.URL_SCHEME="indexeddb://",e}(),Kf=function(e){return h().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Yf.URL_SCHEME)?(t=e.slice(Yf.URL_SCHEME.length),new Yf(t)):null;var t};Uf.registerSaveRouter(Kf),Uf.registerLoadRouter(Kf);var Zf=function(){function e(){this.indexedDB=Qf()}return e.prototype.listModels=function(){return u(this,void 0,void 0,(function(){var e=this;return l(this,(function(t){return[2,new Promise((function(t,n){var r=e.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return Xf(r)},r.onsuccess=function(){var e=r.result,i=e.transaction(qf,"readonly"),a=i.objectStore(qf).getAll();a.onsuccess=function(){for(var e={},n=0,r=a.result;n<r.length;n++){var i=r[n];e[i.modelPath]=i.modelArtifactsInfo}t(e)},a.onerror=function(t){return e.close(),n(a.error)},i.oncomplete=function(){return e.close()}},r.onerror=function(e){return n(r.error)}}))]}))}))},e.prototype.removeModel=function(e){return u(this,void 0,void 0,(function(){var t=this;return l(this,(function(n){var r;return e=(r=e).startsWith(Yf.URL_SCHEME)?r.slice(Yf.URL_SCHEME.length):r,[2,new Promise((function(n,r){var i=t.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return Xf(i)},i.onsuccess=function(){var t,a=i.result,o=a.transaction(qf,"readwrite"),s=o.objectStore(qf),u=s.get(e);u.onsuccess=function(){if(null==u.result)return a.close(),r(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var i=s.delete(e),o=function(){var i=(t=a.transaction(Hf,"readwrite")).objectStore(Hf).delete(e);i.onsuccess=function(){return n(u.result.modelArtifactsInfo)},i.onerror=function(e){return r(u.error)}};i.onsuccess=o,i.onerror=function(e){return o(),a.close(),r(u.error)}},u.onerror=function(e){return a.close(),r(u.error)},o.oncomplete=function(){null==t?a.close():t.oncomplete=function(){return a.close()}}},i.onerror=function(e){return r(i.error)}}))]}))}))},e}();if(h().getBool("IS_BROWSER"))try{Vf.registerManager(Yf.URL_SCHEME,new Zf)}catch(Ce){}var Jf="/",$f="tensorflowjs_models",eh="info",th="model_topology",nh="weight_specs",rh="weight_data",ih="model_metadata";function ah(e){return{info:[$f,e,eh].join(Jf),topology:[$f,e,th].join(Jf),weightSpecs:[$f,e,nh].join(Jf),weightData:[$f,e,rh].join(Jf),modelMetadata:[$f,e,ih].join(Jf)}}function oh(e){var t=e.split(Jf);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(Jf)}var sh=function(){function e(e){if(!h().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=ah(this.modelPath)}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){var t,n,r;return l(this,(function(a){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=zf(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(Nf)return i.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:r}]}catch(e){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}return[2]}))}))},e.prototype.load=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,a,o,s;return l(this,(function(u){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=r,null!=(a=this.LS.getItem(this.keys.modelMetadata))&&(o=JSON.parse(a),t.format=o.format,t.generatedBy=o.generatedBy,t.convertedBy=o.convertedBy,t.userDefinedMetadata=o.userDefinedMetadata),null==(s=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(e){if(Nf){var t=i.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),a=0;a<n.length;++a)r.set([n.charCodeAt(a)],a);return r.buffer}(s),[2,t]}))}))},e.URL_SCHEME="localstorage://",e}(),uh=function(e){return h().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(sh.URL_SCHEME)?(t=e.slice(sh.URL_SCHEME.length),new sh(t)):null;var t};Uf.registerSaveRouter(uh),Uf.registerLoadRouter(uh);var lh=function(){function e(){k(h().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),k("undefined"==typeof window||void 0!==window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return e.prototype.listModels=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,i,a;return l(this,(function(o){for(e={},t=$f+Jf,n=Jf+eh,r=0;r<this.LS.length;++r)(i=this.LS.key(r)).startsWith(t)&&i.endsWith(n)&&(a=oh(i),e[a]=JSON.parse(this.LS.getItem(i)));return[2,e]}))}))},e.prototype.removeModel=function(e){return u(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){var i;if(e=(i=e).startsWith(sh.URL_SCHEME)?i.slice(sh.URL_SCHEME.length):i,t=ah(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]}))}))},e}();if(h().getBool("IS_BROWSER"))try{Vf.registerManager(sh.URL_SCHEME,new lh)}catch(Ce){}function ch(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var fh=function(){function e(t){if(!h().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelTopologyFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){var t,n,r,i,a,o;return l(this,(function(s){switch(s.label){case 0:if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n},i=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(a=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,a.href=i,[4,ch((function(){return a.dispatchEvent(new MouseEvent("click"))}))];case 2:return s.sent(),null==e.weightData?[3,4]:((o=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,o.href=t,[4,ch((function(){return o.dispatchEvent(new MouseEvent("click"))}))]);case 3:s.sent(),s.label=4;case 4:return[2,{modelArtifactsInfo:zf(e)}]}}))}))},e.URL_SCHEME="downloads://",e}(),hh=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return e.prototype.load=function(){return u(this,void 0,void 0,(function(){var e,t,n=this;return l(this,(function(r){return e=this.files[0],t=this.files.slice(1),[2,new Promise((function(r,i){var a=new FileReader;a.onload=function(a){var o=JSON.parse(a.target.result),s=o.modelTopology;if(null!=s){0===t.length&&r({modelTopology:s});var u=o.weightsManifest;if(null!=u){var l;try{l=n.checkManifestAndWeightFiles(u,t)}catch(e){return void i(e)}var c=[],f=[],h=[];u.forEach((function(e){e.paths.forEach((function(e){f.push(e),h.push(null)})),c.push.apply(c,e.weights)})),u.forEach((function(e){e.paths.forEach((function(e){var t=new FileReader;t.onload=function(t){var n=t.target.result,i=f.indexOf(e);h[i]=n,-1===h.indexOf(null)&&r({modelTopology:s,weightSpecs:c,weightData:Ff(h),format:o.format,generatedBy:o.generatedBy,convertedBy:o.convertedBy,userDefinedMetadata:o.userDefinedMetadata})},t.onerror=function(t){return i("Failed to weights data from file of path '"+e+"'.")},t.readAsArrayBuffer(l[e])}))}))}else i(new Error("weightManifest field is missing from file "+e.name))}else i(new Error("modelTopology field is missing from file "+e.name))},a.onerror=function(t){return i("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},a.readAsText(e)}))]}))}))},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],r=t.map((function(e){return Bf(e.name)})),i={},a=0,o=e;a<o.length;a++)o[a].paths.forEach((function(e){var a=Bf(e);if(-1!==n.indexOf(a))throw new Error("Duplicate file basename found in weights manifest: '"+a+"'");if(n.push(a),-1===r.indexOf(a))throw new Error("Weight file with basename '"+a+"' is not provided.");i[e]=t[r.indexOf(a)]}));if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return i},e}();function dh(e,t,n,r){!function(e){k(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){k(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but got startFraction "+e})),k(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but got endFraction "+t})),k(t>=e,(function(){return"startFraction must be no more than endFraction, but got startFraction "+e+" and endFraction "+t}))}(n=null==n?0:n,r=null==r?1:r);var i=0;return Promise.all(e.map((function(a){return a.then((function(a){var o=n+ ++i/e.length*(r-n);return t(o),a})),a})))}function ph(e,t){return u(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,c,f;return l(this,(function(l){switch(l.label){case 0:return null==t&&(t={}),n=null==t.fetchFunc?h().platform.fetch:t.fetchFunc,r=e.map((function(e){return n(e,t.requestInit,{isBinary:!0})})),i=0,a=.5,null!=t.onProgress?[3,2]:[4,Promise.all(r)];case 1:return o=l.sent(),[3,4];case 2:return[4,dh(r,t.onProgress,i,a)];case 3:o=l.sent(),l.label=4;case 4:return s=o.map((function(e){return e.arrayBuffer()})),u=.5,c=1,null!=t.onProgress?[3,6]:[4,Promise.all(s)];case 5:return f=l.sent(),[3,8];case 6:return[4,dh(s,t.onProgress,u,c)];case 7:f=l.sent(),l.label=8;case 8:return[2,f]}}))}))}function mh(e){var t=this;return function(n,r,i){return void 0===r&&(r=""),u(t,void 0,void 0,(function(){var t,a,o,s,u,c,f,h,d,p;return l(this,(function(l){switch(l.label){case 0:if(t=n.map((function(){return!1})),a={},o=null!=i?i.map((function(){return!1})):[],s=[],n.forEach((function(e,n){var r=0;e.weights.forEach((function(e){var u="quantization"in e?e.quantization.dtype:e.dtype,l=Df[u]*I(e.shape),c=function(){t[n]=!0,null==a[n]&&(a[n]=[]),a[n].push({manifestEntry:e,groupOffset:r,sizeBytes:l})};null!=i?i.forEach((function(t,n){t===e.name&&(c(),o[n]=!0)})):c(),s.push(e.name),r+=l}))})),!o.every((function(e){return e})))throw u=i.filter((function(e,t){return!o[t]})),new Error("Could not find weights in manifest with names: "+u.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return c=t.reduce((function(e,t,n){return t&&e.push(n),e}),[]),f=[],c.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;f.push(t)}))})),[4,e(f)];case 1:return h=l.sent(),d={},p=0,c.forEach((function(e){for(var t=n[e].paths.length,r=0,i=0;i<t;i++)r+=h[p+i].byteLength;for(var o=new ArrayBuffer(r),s=new Uint8Array(o),u=0,l=0;l<t;l++){var c=new Uint8Array(h[p+l]);s.set(c,u),u+=c.byteLength}a[e].forEach((function(e){var t=Rf(o.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)d[n]=t[n]})),p+=t})),[2,d]}}))}))}}Uf.registerSaveRouter((function(e){return h().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(fh.URL_SCHEME)?function(e){return void 0===e&&(e="model"),new fh(e)}(e.slice(fh.URL_SCHEME.length)):null}));var gh=function(){function e(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,null!=t.fetchFunc?(k("function"==typeof t.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=t.fetchFunc):this.fetch=h().platform.fetch,k(null!=e&&e.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(e)&&k(2===e.length,(function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."})),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){var t,n,r,i;return l(this,(function(a){switch(a.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((i=a.sent()).ok)return[2,{modelArtifactsInfo:zf(e),responses:[i]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+i.status+".")}}))}))},e.prototype.load=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,s,u,c,f,h;return l(this,(function(l){switch(l.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=l.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");l.label=2;case 2:return l.trys.push([2,4,,5]),[4,e.json()];case 3:return t=l.sent(),[3,5];case 4:throw l.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(r=t.modelTopology,i=t.weightsManifest,a=t.generatedBy,o=t.convertedBy,s=t.format,u=t.userDefinedMetadata,null==r&&null==i)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==i?[3,7]:[4,this.loadWeights(i)];case 6:h=l.sent(),c=h[0],f=h[1],l.label=7;case 7:return[2,{modelTopology:r,weightSpecs:c,weightData:f,userDefinedMetadata:u,generatedBy:a,convertedBy:o,format:s}]}}))}))},e.prototype.loadWeights=function(e){return u(this,void 0,void 0,(function(){var t,n,r,i,a,o,s,u,c,f,h;return l(this,(function(l){switch(l.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,n=function(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),r=n[0],i=n[1],a=this.weightPathPrefix||r,o=[],s=0,u=e;s<u.length;s++)c=u[s],o.push.apply(o,c.weights);return f=[],e.forEach((function(e){e.paths.forEach((function(e){f.push(a+e+i)}))})),[4,ph(f,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return h=l.sent(),[2,[o,Ff(h)]]}}))}))},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function vh(e){return null!=e.match(gh.URL_SCHEME_REGEX)}var yh=function(e,t){return"undefined"==typeof fetch?null:(Array.isArray(e)?e.every((function(e){return vh(e)})):vh(e))?bh(e,{onProgress:t}):null};function bh(e,t){return new gh(e,t)}Uf.registerSaveRouter(yh),Uf.registerLoadRouter(yh);var wh,Sh=function(){function e(e){this.modelArtifacts=e}return e.prototype.load=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return[2,this.modelArtifacts]}))}))},e}(),xh=function(){function e(e){this.saveHandler=e}return e.prototype.save=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){return[2,this.saveHandler(e)]}))}))},e}(),_h=Object.freeze({browserFiles:function(e){return new hh(e)},browserHTTPRequest:function(e,t){return bh(e,t)},concatenateArrayBuffers:Ff,decodeWeights:Rf,encodeWeights:function(e,t){return u(this,void 0,void 0,(function(){var n,r,i,a,o,s=this;return l(this,(function(c){switch(c.label){case 0:for(n=[],r=[],i=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e),a=function(a){var o=i[a],c=Array.isArray(e)?e[a].tensor:e[o];if("float32"!==c.dtype&&"int32"!==c.dtype&&"bool"!==c.dtype&&"string"!==c.dtype)throw new Error("Unsupported dtype in weight '"+o+"': "+c.dtype);var f={name:o,shape:c.shape,dtype:c.dtype};if("string"===c.dtype){var h=new Promise((function(e){return u(s,void 0,void 0,(function(){var t,n,r,i,a,o,s;return l(this,(function(u){switch(u.label){case 0:return[4,c.bytes()];case 1:for(t=u.sent(),n=t.reduce((function(e,t){return e+t.length}),0)+4*t.length,r=new Uint8Array(n),i=0,a=0;a<t.length;a++)o=t[a],s=new Uint8Array(new Uint32Array([o.length]).buffer),r.set(s,i),i+=4,r.set(o,i),i+=o.length;return e(r),[2]}}))}))}));r.push(h)}else r.push(c.data());null!=t&&(f.group=t),n.push(f)},o=0;o<i.length;++o)a(o);return[4,Promise.all(r)];case 1:return[2,{data:Pf(c.sent()),specs:n}]}}))}))},fromMemory:function(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new Sh(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Sh({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Sh({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return Uf.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:zf,getSaveHandlers:function(e){return Uf.getSaveHandlers(e)},http:bh,isHTTPScheme:vh,loadWeights:function(e,t,n,r){return void 0===t&&(t=""),u(this,void 0,void 0,(function(){return l(this,(function(i){return[2,mh((function(e){return ph(e,{requestInit:r})}))(e,t,n)]}))}))},registerLoadRouter:function(e){return Uf.registerLoadRouter(e)},registerSaveRouter:function(e){return Uf.registerSaveRouter(e)},weightsLoaderFactory:mh,withSaveHandler:function(e){return new xh(e)},copyModel:function(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(n){return[2,Wf(e,t,!1)]}))}))},listModels:function(){return u(this,void 0,void 0,(function(){var e,t,n,r,i,a,o;return l(this,(function(s){switch(s.label){case 0:e=Vf.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(i=r[n],[4,Vf.getManager(i).listModels()]):[3,4];case 2:for(o in a=s.sent())t[i+jf+o]=a[o];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}}))}))},moveModel:function(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(n){return[2,Wf(e,t,!0)]}))}))},removeModel:function(e){return u(this,void 0,void 0,(function(){var t;return l(this,(function(n){return t=Gf(e),[2,Vf.getManager(t.scheme).removeModel(t.path)]}))}))}}),Th=hn({confusionMatrix_:function(e,t,n){var r=$t(e,"labels","confusionMatrix"),i=$t(t,"predictions","confusionMatrix");k(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, but got "+n})),k(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got "+r.rank})),k(1===i.rank,(function(){return"Expected the rank of predictions to be 1, but got "+i.rank})),k(r.shape[0]===i.shape[0],(function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+i.shape[0]+". Labels and predictions should have the same number of elements."})),k(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+n}));var a=xu(r.asType("int32"),n),o=xu(i.asType("int32"),n);return a.transpose().matMul(o).asType("int32")}}),Eh=(Object.freeze({confusionMatrix:Th}),hn({fromPixels_:function(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,i=!1,a=!1,o=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)i=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)a=!0;else{if(null==e.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);o=!0}if(i&&i&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(null!=g("FromPixels",ze.backendName))return ze.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,u,l=i?[e.videoWidth,e.videoHeight]:[e.width,e.height],c=l[0],f=l[1];if(o?s=e.getContext("2d").getImageData(0,0,c,f).data:r||n?s=e.data:(a||i)&&(null==wh&&(wh=document.createElement("canvas").getContext("2d")),wh.canvas.width=c,wh.canvas.height=f,wh.drawImage(e,0,0,c,f),s=wh.getImageData(0,0,c,f).data),4===t)u=new Int32Array(s);else{var h=c*f;u=new Int32Array(h*t);for(var d=0;d<h;d++)for(var p=0;p<t;++p)u[d*t+p]=s[4*d+p]}return Sn(u,[f,c,t],"int32")}})),kh=Object.freeze({toPixels:function(e,t){return u(this,void 0,void 0,(function(){var n,r,i,a,o,s,u,c,f,h,d,p,m,g,v,y,b,w,S,x,_,T,E;return l(this,(function(l){switch(l.label){case 0:if(n=$t(e,"img","toPixels"),e instanceof Se||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),i=r[0],a=r[1],(o=2===n.rank?1:n.shape[2])>4||2===o)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+o);return[4,n.data()];case 1:return s=l.sent(),u=n.min(),c=n.max(),[4,Promise.all([u.data(),c.data()])];case 2:if(f=l.sent(),h=f[0],d=f[1],p=h[0],m=d[0],u.dispose(),c.dispose(),"float32"===n.dtype){if(p<0||m>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+p+" - "+m+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(p<0||m>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+p+" - "+m+"].")}for(g="float32"===n.dtype?255:1,v=new Uint8ClampedArray(a*i*4),y=0;y<i*a;++y)b=void 0,w=void 0,S=void 0,x=void 0,1===o?(b=s[y]*g,w=s[y]*g,S=s[y]*g,x=255):3===o?(b=s[3*y]*g,w=s[3*y+1]*g,S=s[3*y+2]*g,x=255):4===o&&(b=s[4*y]*g,w=s[4*y+1]*g,S=s[4*y+2]*g,x=s[4*y+3]*g),v[0+(_=4*y)]=Math.round(b),v[_+1]=Math.round(w),v[_+2]=Math.round(S),v[_+3]=Math.round(x);return null!=t&&(t.width=a,t.height=i,T=t.getContext("2d"),E=new ImageData(v,a,i),T.putImageData(E,0,0)),n!==e&&n.dispose(),[2,v]}}))}))},fromPixels:Eh}),Ch=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(e,t){return new e(t)},e}(),Ah=function(){function e(){this.classNameMap={}}return e.getMap=function(){return null==e.instance&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function Oh(e){k(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),k("string"==typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),k(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),Ah.register(e)}var Ih=Object.freeze({Serializable:Ch,SerializationMap:Ah,registerClass:Oh}),Mh="1.7.4",Dh=(Object.freeze({gpgpu_util:Po,webgl_util:Vt,forceHalfFloat:function(){h().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:Bs,setWebGLContext:Qe,GPGPUContext:No}),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.minimize=function(e,t,n){void 0===t&&(t=!1);var r=this.computeGradients(e,n),i=r.value,a=r.grads;if(null!=n){var o=n.map((function(e){return{name:e.name,tensor:a[e.name]}}));this.applyGradients(o)}else this.applyGradients(a);return Qt(a),t?i:(i.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(e,t){return function(e,t){k(J(e),(function(){return"The f passed in variableGrads(f) must be a function"})),k(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof Ae})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],ze.registeredVariables)t.push(ze.registeredVariables[r]);var i=n?t.filter((function(e){return!e.trainable})):null,a=t.length;k((t=t.filter((function(e){return e.trainable}))).length>0,(function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+a+" variables is trainable."}));var o=ze.gradients(e,t,null,!0),s=o.value,u=o.grads;k(u.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),k(0===s.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"}));var l={};return t.forEach((function(e,t){null!=u[t]&&(l[e.name]=u[t])})),null!=i&&i.forEach((function(e){return l[e.name]=null})),{value:s,grads:l}}(e,t)},t.prototype.dispose=function(){null!=this.iterations_&&Qt(this.iterations_)},t.prototype.saveIterations=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:yn(this.iterations_,"int32")}]}))}))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){throw new Error("getWeights() is not implemented for this optimizer yet.")}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(e){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())}))}))},t.prototype.extractIterations=function(e){return u(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return t=this,[4,e[0].tensor.data()];case 1:return t.iterations_=n.sent()[0],[2,e.slice(1)]}}))}))},t}(Ch));Object.defineProperty(Dh,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var Rh=function(e){function t(t,n,r){void 0===r&&(r=null);var i=e.call(this)||this;return i.learningRate=t,i.rho=n,i.epsilon=r,i.accumulatedGrads=[],i.accumulatedUpdates=[],null==r&&(i.epsilon=ze.backend.epsilon()),i}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=ze.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accum_grad",variable:qt((function(){return In(i).variable(!1)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:n+"/accum_var",variable:qt((function(){return In(i).variable(!1)}))});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;qt((function(){var e=o.mul(t.rho).add(a.square().mul(1-t.rho)),n=s.add(t.epsilon).sqrt().div(o.add(t.epsilon).sqrt()).mul(a),r=s.mul(t.rho).add(n.square().mul(1-t.rho));o.assign(e),s.assign(r);var u=n.mul(-t.learningRate).add(i);i.assign(u)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedUpdates&&(Qt(this.accumulatedGrads.map((function(e){return e.variable}))),Qt(this.accumulatedUpdates.map((function(e){return e.variable}))))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return e=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=e.length/2,this.accumulatedGrads=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedUpdates=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon)},t.className="Adadelta",t}(Dh);Oh(Rh);var Ph=function(e){function t(t,n){void 0===n&&(n=.1);var r=e.call(this)||this;return r.learningRate=t,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=ze.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accumulator",variable:qt((function(){return kn(i.shape,t.initialAccumulatorValue).variable(!1)}))});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedGrads[r].variable;qt((function(){var e=o.add(a.square());o.assign(e);var n=a.div(e.add(ze.backend.epsilon()).sqrt()).mul(-t.learningRate).add(i);i.assign(n)}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedGrads&&Qt(this.accumulatedGrads.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulatedGrads=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)},t.className="Adagrad",t}(Dh);Oh(Ph);var Nh=function(e){function t(t,n,r,i){void 0===i&&(i=null);var a=e.call(this)||this;return a.learningRate=t,a.beta1=n,a.beta2=r,a.epsilon=i,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],qt((function(){a.accBeta1=yn(n).variable(),a.accBeta2=yn(r).variable()})),null==i&&(a.epsilon=ze.backend.epsilon()),a}return s(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);qt((function(){var r=oi(1,t.accBeta1),i=oi(1,t.accBeta2);n.forEach((function(n,a){var o=ze.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:n+"/m",variable:qt((function(){return In(o).variable(!1)}))}),null==t.accumulatedSecondMoment[a]&&(t.accumulatedSecondMoment[a]={originalName:n+"/v",variable:qt((function(){return In(o).variable(!1)}))});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[a].variable,l=t.accumulatedSecondMoment[a].variable,c=u.mul(t.beta1).add(s.mul(1-t.beta1)),f=l.mul(t.beta2).add(s.square().mul(1-t.beta2)),h=c.div(r),d=f.div(i);u.assign(c),l.assign(f);var p=h.div(d.sqrt().add(t.epsilon)).mul(-t.learningRate).add(o);o.assign(p)}})),t.accBeta1.assign(t.accBeta1.mul(t.beta1)),t.accBeta2.assign(t.accBeta2.mul(t.beta2))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Qt(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&Qt(this.accumulatedSecondMoment.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return e=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){var t,n=this;return l(this,(function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),qt((function(){n.accBeta1.assign(ri(n.beta1,n.iterations_+1)),n.accBeta2.assign(ri(n.beta2,n.iterations_+1))})),t=e.length/2,this.accumulatedFirstMoment=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedSecondMoment=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)},t.className="Adam",t}(Dh);Oh(Nh);var Lh=function(e){function t(t,n,r,i,a){void 0===i&&(i=null),void 0===a&&(a=0);var o=e.call(this)||this;return o.learningRate=t,o.beta1=n,o.beta2=r,o.epsilon=i,o.decay=a,o.accumulatedFirstMoment=[],o.accumulatedWeightedInfNorm=[],qt((function(){o.iteration=yn(0).variable(),o.accBeta1=yn(n).variable()})),null==i&&(o.epsilon=ze.backend.epsilon()),o}return s(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);qt((function(){var r=oi(1,t.accBeta1),i=ui(-t.learningRate,t.iteration.mul(t.decay).add(1));n.forEach((function(n,a){var o=ze.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:n+"/m",variable:In(o).variable(!1)}),null==t.accumulatedWeightedInfNorm[a]&&(t.accumulatedWeightedInfNorm[a]={originalName:n+"/v",variable:In(o).variable(!1)});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[a].variable,l=t.accumulatedWeightedInfNorm[a].variable,c=u.mul(t.beta1).add(s.mul(1-t.beta1)),f=l.mul(t.beta2),h=s.abs(),d=f.maximum(h);u.assign(c),l.assign(d);var p=i.div(r).mul(c.div(d.add(t.epsilon))).add(o);o.assign(p)}})),t.iteration.assign(t.iteration.add(1)),t.accBeta1.assign(t.accBeta1.mul(t.beta1))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Qt(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&Qt(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){throw new Error("getWeights() is not implemented for Adamax yet.")}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(e){throw new Error("setWeights() is not implemented for Adamax yet.")}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)},t.className="Adamax",t}(Dh);Oh(Lh);var Fh=function(e){function t(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var a=ze.registeredVariables[n];qt((function(){var e=t.c.mul(i).add(a);a.assign(e)}))}})),this.incrementIterations()},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=Xt(yn(-e))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:if(0!==(e=t.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(e,t){return new e(t.learningRate)},t.className="SGD",t}(Dh);Oh(Fh);var Bh=function(e){function t(t,n,r){void 0===r&&(r=!1);var i=e.call(this,t)||this;return i.learningRate=t,i.momentum=n,i.useNesterov=r,i.accumulations=[],i.m=yn(i.momentum),i}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=ze.registeredVariables[n];null==t.accumulations[r]&&(t.accumulations[r]={originalName:n+"/momentum",variable:qt((function(){return In(i).variable(!1)}))});var a=t.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[n];null!=o&&qt((function(){var e,n=t.m.mul(a).add(o);e=t.useNesterov?t.c.mul(o.add(n.mul(t.m))).add(i):t.c.mul(n).add(i),a.assign(n),i.assign(e)}))})),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&Qt(this.accumulations.map((function(e){return e.variable})))},t.prototype.setMomentum=function(e){this.momentum=e},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulations=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)},t.className="Momentum",t}(Fh);Oh(Bh);var zh=function(e){function t(t,n,r,i,a){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===i&&(i=null),void 0===a&&(a=!1);var o=e.call(this)||this;if(o.learningRate=t,o.decay=n,o.momentum=r,o.epsilon=i,o.accumulatedMeanSquares=[],o.accumulatedMoments=[],o.accumulatedMeanGrads=[],o.centered=a,null==i&&(o.epsilon=ze.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.");return o}return s(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var i=ze.registeredVariables[n];null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:n+"/rms",variable:qt((function(){return In(i).variable(!1)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:n+"/momentum",variable:qt((function(){return In(i).variable(!1)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:n+"/mg",variable:qt((function(){return In(i).variable(!1)}))});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;qt((function(){var e=o.mul(t.decay).add(a.square().mul(1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,u=n.mul(t.decay).add(a.mul(1-t.decay)),l=s.mul(t.momentum).add(a.mul(t.learningRate).div(e.sub(u.square().add(t.epsilon)).sqrt()));o.assign(e),n.assign(u),s.assign(l);var c=i.sub(l);i.assign(c)}else{var f=o.mul(t.decay).add(a.square().mul(1-t.decay));l=s.mul(t.momentum).add(a.mul(t.learningRate).div(f.add(t.epsilon).sqrt())),o.assign(f),s.assign(l),c=i.sub(l),i.assign(c)}}))}})),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&Qt(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&Qt(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&Qt(this.accumulatedMoments.map((function(e){return e.variable})))},t.prototype.getWeights=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return e=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&e.push.apply(e,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))]}}))}))},t.prototype.setWeights=function(e){return u(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=this.centered?e.length/3:e.length/2,this.accumulatedMeanSquares=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.accumulatedMoments=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}))),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)},t.className="RMSProp",t}(Dh);Oh(zh);var Uh=function(){function e(){}return e.sgd=function(e){return new Fh(e)},e.momentum=function(e,t,n){return void 0===n&&(n=!1),new Bh(e,t,n)},e.rmsprop=function(e,t,n,r,i){return void 0===t&&(t=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===i&&(i=!1),new zh(e,t,n,r,i)},e.adam=function(e,t,n,r){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new Nh(e,t,n,r)},e.adadelta=function(e,t,n){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===n&&(n=null),new Rh(e,t,n)},e.adamax=function(e,t,n,r,i){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===i&&(i=0),new Lh(e,t,n,r,i)},e.adagrad=function(e,t){return void 0===t&&(t=.1),new Ph(e,t)},e}(),jh={sgd:Uh.sgd,momentum:Uh.momentum,adadelta:Uh.adadelta,adagrad:Uh.adagrad,rmsprop:Uh.rmsprop,adamax:Uh.adamax,adam:Uh.adam},Vh="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof a?a:function(e){return e()};function Gh(){return new Promise((function(e){return Vh((function(){return e()}))}))}Se.prototype.add=function(e){return sr(this,e)},Se.prototype.broadcastTo=function(e){return cu(this,e)},Se.prototype.div=function(e){return ui(this,e)},Se.prototype.divNoNan=function(e){return yu(this,e)},Se.prototype.squaredDifference=function(e){return zu(this,e)},Se.prototype.tile=function(e){return bu(this,e)},Se.prototype.oneHot=function(e,t,n){return void 0===t&&(t=1),void 0===n&&(n=0),xu(this,e,t,n)},Se.prototype.transpose=function(e){return Ti(this,e)},Se.prototype.pad=function(e,t){return _u(this,e,t)},Se.prototype.batchNorm=function(e,t,n,r,i){return eu(this,e,t,n,r,i)},be=nf}).call(this,n(27),n(23),n(32).Buffer,n(92).setImmediate)},function(e,t,n){"use strict";e.exports=n(132)},function(e,t,n){"use strict";function r(){}n.d(t,"T",(function(){return Z})),n.d(t,"U",(function(){return Nn})),n.d(t,"J",(function(){return Bn})),n.d(t,"y",(function(){return He})),n.d(t,"j",(function(){return ee})),n.d(t,"k",(function(){return it})),n.d(t,"N",(function(){return Y})),n.d(t,"l",(function(){return Wi})),n.d(t,"o",(function(){return qi})),n.d(t,"E",(function(){return Cn})),n.d(t,"D",(function(){return ka})),n.d(t,"f",(function(){return Pe})),n.d(t,"r",(function(){return we})),n.d(t,"n",(function(){return pe})),n.d(t,"B",(function(){return ye})),n.d(t,"O",(function(){return Ge})),n.d(t,"w",(function(){return j})),n.d(t,"L",(function(){return po})),n.d(t,"x",(function(){return G})),n.d(t,"S",(function(){return K})),n.d(t,"R",(function(){return H})),n.d(t,"Q",(function(){return V})),n.d(t,"G",(function(){return Fe})),n.d(t,"F",(function(){return Be})),n.d(t,"i",(function(){return li})),n.d(t,"d",(function(){return Ne})),n.d(t,"K",(function(){return je})),n.d(t,"e",(function(){return Se})),n.d(t,"q",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"m",(function(){return s})),n.d(t,"A",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"M",(function(){return f})),n.d(t,"C",(function(){return h})),n.d(t,"t",(function(){return d})),n.d(t,"s",(function(){return p})),n.d(t,"g",(function(){return g})),n.d(t,"z",(function(){return y})),n.d(t,"u",(function(){return S})),n.d(t,"v",(function(){return x})),n.d(t,"P",(function(){return _})),n.d(t,"p",(function(){return E})),n.d(t,"b",(function(){return A})),n.d(t,"H",(function(){return I})),n.d(t,"I",(function(){return R})),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}),Object.assign(r.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});var i,a=0,o=1,s=2,u=0,l=5,c=100,f=204,h=205,d=3,p=5,m=1e3,g=1001,v=1002,y=1003,b=1004,w=1005,S=1006,x=1008,_=1009,T=1012,E=1015,k=1016,C=1020,A=1021,O=1022,I=1023,M=1026,D=1027,R=1028,P=2300,N=2301,L=2302,F=2400,B=2401,z=2402,U=3e3,j={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&n]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[63&r|128]+e[r>>8&255]+"-"+e[r>>16&255]+e[r>>24&255]+e[255&i]+e[i>>8&255]+e[i>>16&255]+e[i>>24&255]).toUpperCase()}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*j.DEG2RAD},radToDeg:function(e){return e*j.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function V(e,t){this.x=e||0,this.y=t||0}function G(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function W(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}function H(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function q(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(V.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(V.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e=new V,t=new V;return function(n,r){return e.set(n,n),t.set(r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}}),Object.assign(G.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,a,o,s,u,l,c,f,h,d,p,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=u,g[6]=l,g[10]=c,g[14]=f,g[3]=h,g[7]=d,g[11]=p,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new G).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e=new H;return function(t){var n=this.elements,r=t.elements,i=1/e.setFromMatrixColumn(t,0).length(),a=1/e.setFromMatrixColumn(t,1).length(),o=1/e.setFromMatrixColumn(t,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}}(),makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var f=a*l,h=a*c,d=o*l,p=o*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=h+d*u,t[5]=f-p*u,t[9]=-o*s,t[2]=p-f*u,t[6]=d+h*u,t[10]=a*s}else if("YXZ"===e.order){var m=s*l,g=s*c,v=u*l,y=u*c;t[0]=m+y*o,t[4]=v*o-g,t[8]=a*u,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=g*o-v,t[6]=y+m*o,t[10]=a*s}else if("ZXY"===e.order){m=s*l,g=s*c,v=u*l,y=u*c;t[0]=m-y*o,t[4]=-a*c,t[8]=v+g*o,t[1]=g+v*o,t[5]=a*l,t[9]=y-m*o,t[2]=-a*u,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){f=a*l,h=a*c,d=o*l,p=o*c;t[0]=s*l,t[4]=d*u-h,t[8]=f*u+p,t[1]=s*c,t[5]=p*u+f,t[9]=h*u-d,t[2]=-u,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var b=a*s,w=a*u,S=o*s,x=o*u;t[0]=s*l,t[4]=x-b*c,t[8]=S*c+w,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-u*l,t[6]=w*c+S,t[10]=b-x*c}else if("XZY"===e.order){b=a*s,w=a*u,S=o*s,x=o*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=b*c+x,t[5]=a*l,t[9]=w*c-S,t[2]=S*c-w,t[6]=o*l,t[10]=x*c+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(){var e=new H(0,0,0),t=new H(1,1,1);return function(n){return this.compose(e,n,t)}}(),lookAt:function(){var e=new H,t=new H,n=new H;return function(r,i,a){var o=this.elements;return n.subVectors(r,i),0===n.lengthSq()&&(n.z=1),n.normalize(),e.crossVectors(a,n),0===e.lengthSq()&&(1===Math.abs(a.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),e.crossVectors(a,n)),e.normalize(),t.crossVectors(n,e),o[0]=e.x,o[4]=t.x,o[8]=n.x,o[1]=e.y,o[5]=t.y,o[9]=n.y,o[2]=e.z,o[6]=t.z,o[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],l=n[1],c=n[5],f=n[9],h=n[13],d=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],w=n[15],S=r[0],x=r[4],_=r[8],T=r[12],E=r[1],k=r[5],C=r[9],A=r[13],O=r[2],I=r[6],M=r[10],D=r[14],R=r[3],P=r[7],N=r[11],L=r[15];return i[0]=a*S+o*E+s*O+u*R,i[4]=a*x+o*k+s*I+u*P,i[8]=a*_+o*C+s*M+u*N,i[12]=a*T+o*A+s*D+u*L,i[1]=l*S+c*E+f*O+h*R,i[5]=l*x+c*k+f*I+h*P,i[9]=l*_+c*C+f*M+h*N,i[13]=l*T+c*A+f*D+h*L,i[2]=d*S+p*E+m*O+g*R,i[6]=d*x+p*k+m*I+g*P,i[10]=d*_+p*C+m*M+g*N,i[14]=d*T+p*A+m*D+g*L,i[3]=v*S+y*E+b*O+w*R,i[7]=v*x+y*k+b*I+w*P,i[11]=v*_+y*C+b*M+w*N,i[15]=v*T+y*A+b*D+w*L,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e=new H;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],f=e[10],h=e[14];return e[3]*(+i*s*c-r*u*c-i*o*f+n*u*f+r*o*h-n*s*h)+e[7]*(+t*s*h-t*u*f+i*a*f-r*a*h+r*u*l-i*s*l)+e[11]*(+t*u*c-t*o*h-i*a*c+n*a*h+i*o*l-n*u*l)+e[15]*(-r*o*l-t*s*c+t*o*f+r*a*c-n*a*f+n*s*l)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],c=r[6],f=r[7],h=r[8],d=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15],w=d*y*f-v*p*f+v*c*m-l*y*m-d*c*b+l*p*b,S=g*p*f-h*y*f-g*c*m+u*y*m+h*c*b-u*p*b,x=h*v*f-g*d*f+g*l*m-u*v*m-h*l*b+u*d*b,_=g*d*c-h*v*c-g*l*p+u*v*p+h*l*y-u*d*y,T=i*w+a*S+o*x+s*_;if(0===T){var E="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(E);return console.warn(E),this.identity()}var k=1/T;return n[0]=w*k,n[1]=(v*p*s-d*y*s-v*o*m+a*y*m+d*o*b-a*p*b)*k,n[2]=(l*y*s-v*c*s+v*o*f-a*y*f-l*o*b+a*c*b)*k,n[3]=(d*c*s-l*p*s-d*o*f+a*p*f+l*o*m-a*c*m)*k,n[4]=S*k,n[5]=(h*y*s-g*p*s+g*o*m-i*y*m-h*o*b+i*p*b)*k,n[6]=(g*c*s-u*y*s-g*o*f+i*y*f+u*o*b-i*c*b)*k,n[7]=(u*p*s-h*c*s+h*o*f-i*p*f-u*o*m+i*c*m)*k,n[8]=x*k,n[9]=(g*d*s-h*v*s-g*a*m+i*v*m+h*a*b-i*d*b)*k,n[10]=(u*v*s-g*l*s+g*a*f-i*v*f-u*a*b+i*l*b)*k,n[11]=(h*l*s-u*d*s-h*a*f+i*d*f+u*a*m-i*l*m)*k,n[12]=_*k,n[13]=(h*v*o-g*d*o+g*a*p-i*v*p-h*a*y+i*d*y)*k,n[14]=(g*l*o-u*v*o-g*a*c+i*v*c+u*a*y-i*l*y)*k,n[15]=(u*d*o-h*l*o+h*a*c-i*d*c-u*a*p+i*l*p)*k,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,u=i*a,l=i*o;return this.set(u*a+n,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+n,l*s-r*a,0,u*s-r*o,l*s+r*a,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,u=i+i,l=a+a,c=o+o,f=i*u,h=i*l,d=i*c,p=a*l,m=a*c,g=o*c,v=s*u,y=s*l,b=s*c,w=n.x,S=n.y,x=n.z;return r[0]=(1-(p+g))*w,r[1]=(h+b)*w,r[2]=(d-y)*w,r[3]=0,r[4]=(h-b)*S,r[5]=(1-(f+g))*S,r[6]=(m+v)*S,r[7]=0,r[8]=(d+y)*x,r[9]=(m-v)*x,r[10]=(1-(f+p))*x,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(){var e=new H,t=new G;return function(n,r,i){var a=this.elements,o=e.set(a[0],a[1],a[2]).length(),s=e.set(a[4],a[5],a[6]).length(),u=e.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),n.x=a[12],n.y=a[13],n.z=a[14],t.copy(this);var l=1/o,c=1/s,f=1/u;return t.elements[0]*=l,t.elements[1]*=l,t.elements[2]*=l,t.elements[4]*=c,t.elements[5]*=c,t.elements[6]*=c,t.elements[8]*=f,t.elements[9]*=f,t.elements[10]*=f,r.setFromRotationMatrix(t),i.x=o,i.y=s,i.z=u,this}}(),makePerspective:function(e,t,n,r,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*i/(t-e),u=2*i/(n-r),l=(t+e)/(t-e),c=(n+r)/(n-r),f=-(a+i)/(a-i),h=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=u,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),u=1/(n-r),l=1/(a-i),c=(t+e)*s,f=(n+r)*u,h=(a+i)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}),Object.assign(W,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,a,o){var s=n[r+0],u=n[r+1],l=n[r+2],c=n[r+3],f=i[a+0],h=i[a+1],d=i[a+2],p=i[a+3];if(c!==p||s!==f||u!==h||l!==d){var m=1-o,g=s*f+u*h+l*d+c*p,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),w=Math.atan2(b,g*v);m=Math.sin(m*w)/b,o=Math.sin(o*w)/b}var S=o*v;if(s=s*m+f*S,u=u*m+h*S,l=l*m+d*S,c=c*m+p*S,m===1-o){var x=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=x,u*=x,l*=x,c*=x}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}}),Object.defineProperties(W.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback()}}}),Object.assign(W.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,a=e.order,o=Math.cos,s=Math.sin,u=o(n/2),l=o(r/2),c=o(i/2),f=s(n/2),h=s(r/2),d=s(i/2);return"XYZ"===a?(this._x=f*l*c+u*h*d,this._y=u*h*c-f*l*d,this._z=u*l*d+f*h*c,this._w=u*l*c-f*h*d):"YXZ"===a?(this._x=f*l*c+u*h*d,this._y=u*h*c-f*l*d,this._z=u*l*d-f*h*c,this._w=u*l*c+f*h*d):"ZXY"===a?(this._x=f*l*c-u*h*d,this._y=u*h*c+f*l*d,this._z=u*l*d+f*h*c,this._w=u*l*c-f*h*d):"ZYX"===a?(this._x=f*l*c-u*h*d,this._y=u*h*c+f*l*d,this._z=u*l*d-f*h*c,this._w=u*l*c+f*h*d):"YZX"===a?(this._x=f*l*c+u*h*d,this._y=u*h*c+f*l*d,this._z=u*l*d-f*h*c,this._w=u*l*c-f*h*d):"XZY"===a&&(this._x=f*l*c-u*h*d,this._y=u*h*c-f*l*d,this._z=u*l*d+f*h*c,this._w=u*l*c+f*h*d),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],u=n[9],l=n[2],c=n[6],f=n[10],h=r+s+f;return h>0?(t=.5/Math.sqrt(h+1),this._w=.25/t,this._x=(c-u)*t,this._y=(a-l)*t,this._z=(o-i)*t):r>s&&r>f?(t=2*Math.sqrt(1+r-s-f),this._w=(c-u)/t,this._x=.25*t,this._y=(i+o)/t,this._z=(a+l)/t):s>f?(t=2*Math.sqrt(1+s-r-f),this._w=(a-l)/t,this._x=(i+o)/t,this._y=.25*t,this._z=(u+c)/t):(t=2*Math.sqrt(1+f-r-s),this._w=(o-i)/t,this._x=(a+l)/t,this._y=(u+c)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t=new H;return function(n,r){return void 0===t&&(t=new H),(e=n.dot(r)+1)<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),angleTo:function(e){return 2*Math.acos(Math.abs(j.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,u=t._z,l=t._w;return this._x=n*l+a*o+r*u-i*s,this._y=r*l+a*s+i*o-n*u,this._z=i*l+a*u+n*s-r*o,this._w=a*l-n*o-r*s-i*u,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*a+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize()}var l=Math.sqrt(s),c=Math.atan2(l,o),f=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=a*f+this._w*h,this._x=n*f+this._x*h,this._y=r*f+this._y*h,this._z=i*f+this._z*h,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(H.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e=new W;return function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e=new W;return function(t,n){return this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*r-o*n,l=s*n+o*t-i*r,c=s*r+i*n-a*t,f=-i*t-a*n-o*r;return this.x=u*s+f*-i+l*-o-c*-a,this.y=l*s+f*-a+c*-i-u*-o,this.z=c*s+f*-o+u*-a-l*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(){var e=new G;return function(t){return this.applyMatrix4(e.getInverse(t.projectionMatrix)).applyMatrix4(t.matrixWorld)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e=new H,t=new H;return function(n,r){return e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e=new H;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new H;return function(t){return this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(j.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}}),Object.assign(q.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=a,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(){var e=new H;return function(t){for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],u=n[1],l=n[4],c=n[7],f=n[2],h=n[5],d=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],w=r[2],S=r[5],x=r[8];return i[0]=a*p+o*v+s*w,i[3]=a*m+o*y+s*S,i[6]=a*g+o*b+s*x,i[1]=u*p+l*v+c*w,i[4]=u*m+l*y+c*S,i[7]=u*g+l*b+c*x,i[2]=f*p+h*v+d*w,i[5]=f*m+h*y+d*S,i[8]=f*g+h*b+d*x,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*a*l-t*o*u-n*i*l+n*o*s+r*i*u-r*a*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],a=n[1],o=n[2],s=n[3],u=n[4],l=n[5],c=n[6],f=n[7],h=n[8],d=h*u-l*f,p=l*c-h*s,m=f*s-u*c,g=i*d+a*p+o*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return r[0]=d*y,r[1]=(o*f-h*a)*y,r[2]=(l*a-o*u)*y,r[3]=p*y,r[4]=(h*i-o*c)*y,r[5]=(o*s-l*i)*y,r[6]=m*y,r[7]=(a*c-f*i)*y,r[8]=(u*i-a*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,a,o){var s=Math.cos(i),u=Math.sin(i);this.set(n*s,n*u,-n*(s*a+u*o)+a+e,-r*u,r*s,-r*(-u*a+s*o)+o+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],u=r[4],l=r[7];return r[0]=t*i+n*s,r[3]=t*a+n*u,r[6]=t*o+n*l,r[1]=-n*i+t*s,r[4]=-n*a+t*u,r[7]=-n*o+t*l,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Q={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===i&&(i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),i.width=e.width,i.height=e.height;var n=i.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=i}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},X=0;function Y(e,t,n,r,i,a,o,s,u,l){Object.defineProperty(this,"id",{value:X++}),this.uuid=j.generateUUID(),this.name="",this.image=void 0!==e?e:Y.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:Y.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:g,this.wrapT=void 0!==r?r:g,this.magFilter=void 0!==i?i:S,this.minFilter=void 0!==a?a:x,this.anisotropy=void 0!==u?u:1,this.format=void 0!==o?o:I,this.type=void 0!==s?s:_,this.offset=new V(0,0),this.repeat=new V(1,1),this.center=new V(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new q,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:U,this.version=0,this.onUpdate=null}function K(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function Z(e,t,n){this.width=e,this.height=t,this.scissor=new K(0,0,e,t),this.scissorTest=!1,this.viewport=new K(0,0,e,t),n=n||{},this.texture=new Y(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:S,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function J(e,t,n){Z.call(this,e,t,n),this.samples=4}function $(e,t,n){Z.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function ee(e,t,n,r,i,a,o,s,u,l,c,f){Y.call(this,null,a,o,s,u,l,r,i,c,f),this.image={data:e,width:t,height:n},this.magFilter=void 0!==u?u:y,this.minFilter=void 0!==l?l:y,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function te(e,t){this.min=void 0!==e?e:new H(1/0,1/0,1/0),this.max=void 0!==t?t:new H(-1/0,-1/0,-1/0)}function ne(e,t){this.center=void 0!==e?e:new H,this.radius=void 0!==t?t:0}function re(e,t){this.normal=void 0!==e?e:new H(1,0,0),this.constant=void 0!==t?t:0}function ie(e,t,n,r,i,a){this.planes=[void 0!==e?e:new re,void 0!==t?t:new re,void 0!==n?n:new re,void 0!==r?r:new re,void 0!==i?i:new re,void 0!==a?a:new re]}Y.DEFAULT_IMAGE=void 0,Y.DEFAULT_MAPPING=300,Y.prototype=Object.assign(Object.create(r.prototype),{constructor:Y,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=j.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)i.push(Q.getDataURL(r[a]))}else i=Q.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case m:e.x=e.x-Math.floor(e.x);break;case g:e.x=e.x<0?0:1;break;case v:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case m:e.y=e.y-Math.floor(e.y);break;case g:e.y=e.y<0?0:1;break;case v:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(Y.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(K.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,u=s[0],l=s[4],c=s[8],f=s[1],h=s[5],d=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(l-f)<a&&Math.abs(c-p)<a&&Math.abs(d-m)<a){if(Math.abs(l+f)<o&&Math.abs(c+p)<o&&Math.abs(d+m)<o&&Math.abs(u+h+g-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var v=(u+1)/2,y=(h+1)/2,b=(g+1)/2,w=(l+f)/4,S=(c+p)/4,x=(d+m)/4;return v>y&&v>b?v<a?(n=0,r=.707106781,i=.707106781):(r=w/(n=Math.sqrt(v)),i=S/n):y>b?y<a?(n=.707106781,r=0,i=.707106781):(n=w/(r=Math.sqrt(y)),i=x/r):b<a?(n=.707106781,r=.707106781,i=0):(n=S/(i=Math.sqrt(b)),r=x/i),this.set(n,r,i,t),this}var _=Math.sqrt((m-d)*(m-d)+(c-p)*(c-p)+(f-l)*(f-l));return Math.abs(_)<.001&&(_=1),this.x=(m-d)/_,this.y=(c-p)/_,this.z=(f-l)/_,this.w=Math.acos((u+h+g-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new K,t=new K),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),Z.prototype=Object.assign(Object.create(r.prototype),{constructor:Z,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),J.prototype=Object.assign(Object.create(Z.prototype),{constructor:J,isWebGLMultisampleRenderTarget:!0,copy:function(e){return Z.prototype.copy.call(this,e),this.samples=e.samples,this}}),$.prototype=Object.create(Z.prototype),$.prototype.constructor=$,$.prototype.isWebGLRenderTargetCube=!0,ee.prototype=Object.create(Y.prototype),ee.prototype.constructor=ee,ee.prototype.isDataTexture=!0,Object.assign(te.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.length;s<u;s+=3){var l=e[s],c=e[s+1],f=e[s+2];l<t&&(t=l),c<n&&(n=c),f<r&&(r=f),l>i&&(i=l),c>a&&(a=c),f>o&&(o=f)}return this.min.set(t,n,r),this.max.set(i,a,o),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.count;s<u;s++){var l=e.getX(s),c=e.getY(s),f=e.getZ(s);l<t&&(t=l),c<n&&(n=c),f<r&&(r=f),l>i&&(i=l),c>a&&(a=c),f>o&&(o=f)}return this.min.set(t,n,r),this.max.set(i,a,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new H;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new H),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new H),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e,t,n,r=new H;function i(i){var a=i.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(t=0,n=o.length;t<n;t++)r.copy(o[t]),r.applyMatrix4(i.matrixWorld),e.expandByPoint(r)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(t=0,n=s.count;t<n;t++)r.fromBufferAttribute(s,t).applyMatrix4(i.matrixWorld),e.expandByPoint(r)}}return function(t){return e=this,t.updateMatrixWorld(!0),t.traverse(i),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new H),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e=new H;return function(t){return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(){var e=new H,t=new H,n=new H,r=new H,i=new H,a=new H,o=new H,s=new H,u=new H,l=new H;function c(r){var i,a;for(i=0,a=r.length-3;i<=a;i+=3){o.fromArray(r,i);var s=u.x*Math.abs(o.x)+u.y*Math.abs(o.y)+u.z*Math.abs(o.z),l=e.dot(o),c=t.dot(o),f=n.dot(o);if(Math.max(-Math.max(l,c,f),Math.min(l,c,f))>s)return!1}return!0}return function(o){if(this.isEmpty())return!1;this.getCenter(s),u.subVectors(this.max,s),e.subVectors(o.a,s),t.subVectors(o.b,s),n.subVectors(o.c,s),r.subVectors(t,e),i.subVectors(n,t),a.subVectors(e,n);var f=[0,-r.z,r.y,0,-i.z,i.y,0,-a.z,a.y,r.z,0,-r.x,i.z,0,-i.x,a.z,0,-a.x,-r.y,r.x,0,-i.y,i.x,0,-a.y,a.x,0];return!!c(f)&&(!!c(f=[1,0,0,0,1,0,0,0,1])&&(l.crossVectors(r,i),c(f=[l.x,l.y,l.z])))}}(),clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new H),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new H;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new H;return function(t){return void 0===t&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),t=new ne),this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new H,new H,new H,new H,new H,new H,new H,new H];return function(t){return this.isEmpty()||(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e)),this}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(ne.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new te;return function(t,n){var r=this.center;void 0!==n?r.copy(n):e.setFromPoints(t).getCenter(r);for(var i=0,a=0,o=t.length;a<o;a++)i=Math.max(i,r.distanceToSquared(t[a]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new H),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new te),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}),Object.assign(re.prototype,{set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new H,t=new H;return function(n,r,i){var a=e.subVectors(i,r).cross(t.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new H),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(){var e=new H;return function(t,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new H);var r=t.delta(e),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(t.start)?n.copy(t.start):void 0;var a=-(t.start.dot(this.normal)+this.constant)/i;return a<0||a>1?void 0:n.copy(r).multiplyScalar(a).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new H),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new H,t=new q;return function(n,r){var i=r||t.getNormalMatrix(n),a=this.coplanarPoint(e).applyMatrix4(n),o=this.normal.applyMatrix3(i).normalize();return this.constant=-a.dot(o),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}),Object.assign(ie.prototype,{set:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],l=n[6],c=n[7],f=n[8],h=n[9],d=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(o-r,c-s,p-f,y-m).normalize(),t[1].setComponents(o+r,c+s,p+f,y+m).normalize(),t[2].setComponents(o+i,c+u,p+h,y+g).normalize(),t[3].setComponents(o-i,c-u,p-h,y-g).normalize(),t[4].setComponents(o-a,c-l,p-d,y-v).normalize(),t[5].setComponents(o+a,c+l,p+d,y+v).normalize(),this},intersectsObject:function(){var e=new ne;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new ne;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(){var e=new H;return function(t){for(var n=this.planes,r=0;r<6;r++){var i=n[r];if(e.x=i.normal.x>0?t.max.x:t.min.x,e.y=i.normal.y>0?t.max.y:t.min.y,e.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(e)<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});var ae={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick( specularColor, dotNV );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#endif\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\t\tvec3 diffuse = material.diffuseColor;\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\t#else\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#endif\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"};function oe(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function se(e){for(var t={},n=0;n<e.length;n++){var r=oe(e[n]);for(var i in r)t[i]=r[i]}return t}var ue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function le(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}Object.assign(le.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,r){if(t=j.euclideanModulo(t,1),n=j.clamp(n,0,1),r=j.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,a=2*r-i;this.r=e(a,i,t+1/3),this.g=e(a,i,t),this.b=e(a,i,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],a=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(o,s,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l,c=(l=n[1]).length;if(3===c)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}e&&e.length>0&&(void 0!==(l=ue[e])?this.setHex(l):console.warn("THREE.Color: Unknown color "+e));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(){function e(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),copyLinearToSRGB:function(){function e(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}return function(t){return this.r=e(t.r),this.g=e(t.g),this.b=e(t.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,a=this.b,o=Math.max(r,i,a),s=Math.min(r,i,a),u=(s+o)/2;if(s===o)t=0,n=0;else{var l=o-s;switch(n=u<=.5?l/(o+s):l/(2-o-s),o){case r:t=(i-a)/l+(i<a?6:0);break;case i:t=(a-r)/l+2;break;case a:t=(r-i)/l+4}t/=6}return e.h=t,e.s=n,e.l=u,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(){var e={};return function(t,n,r){return this.getHSL(e),e.h+=t,e.s+=n,e.l+=r,this.setHSL(e.h,e.s,e.l),this}}(),add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(){var e={h:0,s:0,l:0},t={h:0,s:0,l:0};return function(n,r){this.getHSL(e),n.getHSL(t);var i=j.lerp(e.h,t.h,r),a=j.lerp(e.s,t.s,r),o=j.lerp(e.l,t.l,r);return this.setHSL(i,a,o),this}}(),equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var ce={common:{diffuse:{value:new le(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new q},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new V(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new le(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new le(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new q}},sprite:{diffuse:{value:new le(15658734)},opacity:{value:1},center:{value:new V(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new q}}},fe={basic:{uniforms:se([ce.common,ce.specularmap,ce.envmap,ce.aomap,ce.lightmap,ce.fog]),vertexShader:ae.meshbasic_vert,fragmentShader:ae.meshbasic_frag},lambert:{uniforms:se([ce.common,ce.specularmap,ce.envmap,ce.aomap,ce.lightmap,ce.emissivemap,ce.fog,ce.lights,{emissive:{value:new le(0)}}]),vertexShader:ae.meshlambert_vert,fragmentShader:ae.meshlambert_frag},phong:{uniforms:se([ce.common,ce.specularmap,ce.envmap,ce.aomap,ce.lightmap,ce.emissivemap,ce.bumpmap,ce.normalmap,ce.displacementmap,ce.gradientmap,ce.fog,ce.lights,{emissive:{value:new le(0)},specular:{value:new le(1118481)},shininess:{value:30}}]),vertexShader:ae.meshphong_vert,fragmentShader:ae.meshphong_frag},standard:{uniforms:se([ce.common,ce.envmap,ce.aomap,ce.lightmap,ce.emissivemap,ce.bumpmap,ce.normalmap,ce.displacementmap,ce.roughnessmap,ce.metalnessmap,ce.fog,ce.lights,{emissive:{value:new le(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:ae.meshphysical_vert,fragmentShader:ae.meshphysical_frag},matcap:{uniforms:se([ce.common,ce.bumpmap,ce.normalmap,ce.displacementmap,ce.fog,{matcap:{value:null}}]),vertexShader:ae.meshmatcap_vert,fragmentShader:ae.meshmatcap_frag},points:{uniforms:se([ce.points,ce.fog]),vertexShader:ae.points_vert,fragmentShader:ae.points_frag},dashed:{uniforms:se([ce.common,ce.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ae.linedashed_vert,fragmentShader:ae.linedashed_frag},depth:{uniforms:se([ce.common,ce.displacementmap]),vertexShader:ae.depth_vert,fragmentShader:ae.depth_frag},normal:{uniforms:se([ce.common,ce.bumpmap,ce.normalmap,ce.displacementmap,{opacity:{value:1}}]),vertexShader:ae.normal_vert,fragmentShader:ae.normal_frag},sprite:{uniforms:se([ce.sprite,ce.fog]),vertexShader:ae.sprite_vert,fragmentShader:ae.sprite_frag},background:{uniforms:{uvTransform:{value:new q},t2D:{value:null}},vertexShader:ae.background_vert,fragmentShader:ae.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ae.cube_vert,fragmentShader:ae.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ae.equirect_vert,fragmentShader:ae.equirect_frag},distanceRGBA:{uniforms:se([ce.common,ce.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ae.distanceRGBA_vert,fragmentShader:ae.distanceRGBA_frag},shadow:{uniforms:se([ce.lights,ce.fog,{color:{value:new le(0)},opacity:{value:1}}]),vertexShader:ae.shadow_vert,fragmentShader:ae.shadow_frag}};function he(){var e=null,t=!1,n=null;function r(i,a){!1!==t&&(n(i,a),e.requestAnimationFrame(r))}return{start:function(){!0!==t&&null!==n&&(e.requestAnimationFrame(r),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function de(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){n.isInterleavedBufferAttribute&&(n=n.data);var i=t.get(n);void 0===i?t.set(n,function(t,n){var r=t.array,i=t.dynamic?35048:35044,a=e.createBuffer();e.bindBuffer(n,a),e.bufferData(n,r,i),t.onUploadCallback();var o=5126;return r instanceof Float32Array?o=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?o=5123:r instanceof Int16Array?o=5122:r instanceof Uint32Array?o=5125:r instanceof Int32Array?o=5124:r instanceof Int8Array?o=5120:r instanceof Uint8Array&&(o=5121),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(n,r)):i.version<n.version&&(!function(t,n,r){var i=n.array,a=n.updateRange;e.bindBuffer(r,t),!1===n.dynamic?e.bufferData(r,i,35044):-1===a.count?e.bufferSubData(r,0,i):0===a.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,a.offset*i.BYTES_PER_ELEMENT,i.subarray(a.offset,a.offset+a.count)),a.count=-1)}(i.buffer,n,r),i.version=n.version)}}}function pe(e,t,n,r,i,a){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new H,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new le,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==a?a:0}function me(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||me.DefaultOrder}function ge(){this.mask=1}fe.physical={uniforms:se([fe.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:ae.meshphysical_vert,fragmentShader:ae.meshphysical_frag},Object.assign(pe.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}),me.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],me.DefaultOrder="XYZ",Object.defineProperties(me.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback()}}}),Object.assign(me.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=j.clamp,i=e.elements,a=i[0],o=i[4],s=i[8],u=i[1],l=i[5],c=i[9],f=i[2],h=i[6],d=i[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-f,a),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(u,a))):"ZYX"===t?(this._y=Math.asin(-r(f,-1,1)),Math.abs(f)<.99999?(this._x=Math.atan2(h,d),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===t?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===t?(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(h,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e=new G;return function(t,n,r){return e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new W;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new H(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}}),Object.assign(ge.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},test:function(e){return 0!==(this.mask&e.mask)}});var ve=0;function ye(){Object.defineProperty(this,"id",{value:ve++}),this.uuid=j.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ye.DefaultUp.clone();var e=new H,t=new me,n=new W,r=new H(1,1,1);t.onChange((function(){n.setFromEuler(t,!1)})),n.onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new G},normalMatrix:{value:new q}}),this.matrix=new G,this.matrixWorld=new G,this.matrixAutoUpdate=ye.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ge,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}ye.DefaultUp=new H(0,1,0),ye.DefaultMatrixAutoUpdate=!0,ye.prototype=Object.assign(Object.create(r.prototype),{constructor:ye,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new W;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateOnWorldAxis:function(){var e=new W;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.premultiply(e),this}}(),rotateX:function(){var e=new H(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new H(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new H(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new H;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new H(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new H(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new H(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new G;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new W,t=new G,n=new H,r=new H;return function(i,a,o){i.isVector3?n.copy(i):n.set(i,a,o);var s=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?t.lookAt(r,n,this.up):t.lookAt(n,r,this.up),this.quaternion.setFromRotationMatrix(t),s&&(t.extractRotation(s.matrixWorld),e.setFromRotationMatrix(t),this.quaternion.premultiply(e.inverse()))}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new H),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new H,t=new H;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),n=new W),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,n,t),n}}(),getWorldScale:function(){var e=new H,t=new W;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new H),this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,n),n}}(),getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new H),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh&&0!==this.drawMode&&(r.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];i(e.shapes,l)}else i(e.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(s=0,u=this.material.length;s<u;s++)c.push(i(e.materials,this.material[s]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(t){var f=m(e.geometries),h=m(e.materials),d=m(e.textures),p=m(e.images);o=m(e.shapes);f.length>0&&(n.geometries=f),h.length>0&&(n.materials=h),d.length>0&&(n.textures=d),p.length>0&&(n.images=p),o.length>0&&(n.shapes=o)}return n.object=r,n;function m(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}});var be=0;function we(){Object.defineProperty(this,"id",{value:be+=2}),this.uuid=j.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Se(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function xe(e,t,n){Se.call(this,new Int8Array(e),t,n)}function _e(e,t,n){Se.call(this,new Uint8Array(e),t,n)}function Te(e,t,n){Se.call(this,new Uint8ClampedArray(e),t,n)}function Ee(e,t,n){Se.call(this,new Int16Array(e),t,n)}function ke(e,t,n){Se.call(this,new Uint16Array(e),t,n)}function Ce(e,t,n){Se.call(this,new Int32Array(e),t,n)}function Ae(e,t,n){Se.call(this,new Uint32Array(e),t,n)}function Oe(e,t,n){Se.call(this,new Float32Array(e),t,n)}function Ie(e,t,n){Se.call(this,new Float64Array(e),t,n)}function Me(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function De(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}we.prototype=Object.assign(Object.create(r.prototype),{constructor:we,isGeometry:!0,applyMatrix:function(e){for(var t=(new q).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(t).normalize();for(var a=0,o=i.vertexNormals.length;a<o;a++)i.vertexNormals[a].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e=new G;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new G;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new G;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new G;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new G;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new ye;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index.array:void 0,r=e.attributes,i=r.position.array,a=void 0!==r.normal?r.normal.array:void 0,o=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,u=void 0!==r.uv2?r.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var l=0,c=0;l<i.length;l+=3,c+=2)t.vertices.push((new H).fromArray(i,l)),void 0!==o&&t.colors.push((new le).fromArray(o,l));function f(e,n,r,i){var l=void 0===o?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],c=new pe(e,n,r,void 0===a?[]:[(new H).fromArray(a,3*e),(new H).fromArray(a,3*n),(new H).fromArray(a,3*r)],l,i);t.faces.push(c),void 0!==s&&t.faceVertexUvs[0].push([(new V).fromArray(s,2*e),(new V).fromArray(s,2*n),(new V).fromArray(s,2*r)]),void 0!==u&&t.faceVertexUvs[1].push([(new V).fromArray(u,2*e),(new V).fromArray(u,2*n),(new V).fromArray(u,2*r)])}var h=e.groups;if(h.length>0)for(l=0;l<h.length;l++)for(var d=h[l],p=d.start,m=(c=p,p+d.count);c<m;c+=3)void 0!==n?f(n[c],n[c+1],n[c+2],d.materialIndex):f(c,c+1,c+2,d.materialIndex);else if(void 0!==n)for(l=0;l<n.length;l+=3)f(n[l],n[l+1],n[l+2]);else for(l=0;l<i.length/3;l+=3)f(l,l+1,l+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){var e=new H;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new G;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new H,t=new H,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],a=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,o),t.subVectors(a,o),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,i,a,o;for(void 0===e&&(e=!0),o=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)o[t]=new H;if(e){var s,u,l,c=new H,f=new H;for(r=0,i=this.faces.length;r<i;r++)a=this.faces[r],s=this.vertices[a.a],u=this.vertices[a.b],l=this.vertices[a.c],c.subVectors(l,u),f.subVectors(s,u),c.cross(f),o[a.a].add(c),o[a.b].add(c),o[a.c].add(c)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o[(a=this.faces[r]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(t=0,n=this.vertices.length;t<n;t++)o[t].normalize();for(r=0,i=this.faces.length;r<i;r++){var h=(a=this.faces[r]).vertexNormals;3===h.length?(h[0].copy(o[a.a]),h[1].copy(o[a.b]),h[2].copy(o[a.c])):(h[0]=o[a.a].clone(),h[1]=o[a.b].clone(),h[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var a=new we;for(a.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)u=new H,l={a:new H,b:new H,c:new H},o.push(u),s.push(l)}var u,l,c=this.morphNormals[e];for(a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],u=c.faceNormals[n],l=c.vertexNormals[n],u.copy(i.normal),l.a.copy(i.vertexNormals[0]),l.b.copy(i.vertexNormals[1]),l.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new te),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ne),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,u=e.faces,l=this.faceVertexUvs[0],c=e.faceVertexUvs[0],f=this.colors,h=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new q).getNormalMatrix(t));for(var d=0,p=o.length;d<p;d++){var m=o[d].clone();void 0!==t&&m.applyMatrix4(t),a.push(m)}for(d=0,p=h.length;d<p;d++)f.push(h[d].clone());for(d=0,p=u.length;d<p;d++){var g,v,y,b=u[d],w=b.vertexNormals,S=b.vertexColors;(g=new pe(b.a+i,b.b+i,b.c+i)).normal.copy(b.normal),void 0!==r&&g.normal.applyMatrix3(r).normalize();for(var x=0,_=w.length;x<_;x++)v=w[x].clone(),void 0!==r&&v.applyMatrix3(r).normalize(),g.vertexNormals.push(v);g.color.copy(b.color);for(x=0,_=S.length;x<_;x++)y=S[x],g.vertexColors.push(y.clone());g.materialIndex=b.materialIndex+n,s.push(g)}for(d=0,p=c.length;d<p;d++){var T=c[d],E=[];if(void 0!==T){for(x=0,_=T.length;x<_;x++)E.push(T[x].clone());l.push(E)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,r,i,a,o,s,u={},l=[],c=[],f=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],void 0===u[t=Math.round(e.x*f)+"_"+Math.round(e.y*f)+"_"+Math.round(e.z*f)]?(u[t]=n,l.push(this.vertices[n]),c[n]=l.length-1):c[n]=c[u[t]];var h=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=c[i.a],i.b=c[i.b],i.c=c[i.c],a=[i.a,i.b,i.c];for(var d=0;d<3;d++)if(a[d]===a[(d+1)%3]){h.push(n);break}}for(n=h.length-1;n>=0;n--){var p=h[n];for(this.faces.splice(p,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(p,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new H(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var r,i,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===t&&(r=[]),o&&o.length===t&&(i=[]);for(n=0;n<t;n++){var s=e[n]._id;r&&r.push(a[s]),i&&i.push(o[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var a=this.vertices[i];r.push(a.x,a.y,a.z)}var o=[],s=[],u={},l=[],c={},f=[],h={};for(i=0;i<this.faces.length;i++){var d=this.faces[i],p=void 0!==this.faceVertexUvs[0][i],m=d.normal.length()>0,g=d.vertexNormals.length>0,v=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,b=0;if(b=_(b,0,0),b=_(b,1,!0),b=_(b,2,!1),b=_(b,3,p),b=_(b,4,m),b=_(b,5,g),b=_(b,6,v),b=_(b,7,y),o.push(b),o.push(d.a,d.b,d.c),o.push(d.materialIndex),p){var w=this.faceVertexUvs[0][i];o.push(k(w[0]),k(w[1]),k(w[2]))}if(m&&o.push(T(d.normal)),g){var S=d.vertexNormals;o.push(T(S[0]),T(S[1]),T(S[2]))}if(v&&o.push(E(d.color)),y){var x=d.vertexColors;o.push(E(x[0]),E(x[1]),E(x[2]))}}function _(e,t,n){return n?e|1<<t:e&~(1<<t)}function T(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==u[t]||(u[t]=s.length/3,s.push(e.x,e.y,e.z)),u[t]}function E(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==c[t]||(c[t]=l.length,l.push(e.getHex())),c[t]}function k(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]||(h[t]=f.length/2,f.push(e.x,e.y)),h[t]}return e.data={},e.data.vertices=r,e.data.normals=s,l.length>0&&(e.data.colors=l),f.length>0&&(e.data.uvs=[f]),e.data.faces=o,e},clone:function(){return(new we).copy(this)},copy:function(e){var t,n,r,i,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var u=e.colors;for(t=0,n=u.length;t<n;t++)this.colors.push(u[t].clone());var l=e.faces;for(t=0,n=l.length;t<n;t++)this.faces.push(l[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var c=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=c.length;r<i;r++){var f=c[r],h=[];for(a=0,o=f.length;a<o;a++){var d=f[a];h.push(d.clone())}this.faceVertexUvs[t].push(h)}}var p=e.morphTargets;for(t=0,n=p.length;t<n;t++){var m={};if(m.name=p[t].name,void 0!==p[t].vertices)for(m.vertices=[],r=0,i=p[t].vertices.length;r<i;r++)m.vertices.push(p[t].vertices[r].clone());if(void 0!==p[t].normals)for(m.normals=[],r=0,i=p[t].normals.length;r<i;r++)m.normals.push(p[t].normals[r].clone());this.morphTargets.push(m)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var v={};if(void 0!==g[t].vertexNormals)for(v.vertexNormals=[],r=0,i=g[t].vertexNormals.length;r<i;r++){var y=g[t].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),v.vertexNormals.push(b)}if(void 0!==g[t].faceNormals)for(v.faceNormals=[],r=0,i=g[t].faceNormals.length;r<i;r++)v.faceNormals.push(g[t].faceNormals[r].clone());this.morphNormals.push(v)}var w=e.skinWeights;for(t=0,n=w.length;t<n;t++)this.skinWeights.push(w[t].clone());var S=e.skinIndices;for(t=0,n=S.length;t<n;t++)this.skinIndices.push(S[t].clone());var x=e.lineDistances;for(t=0,n=x.length;t<n;t++)this.lineDistances.push(x[t]);var _=e.boundingBox;null!==_&&(this.boundingBox=_.clone());var T=e.boundingSphere;return null!==T&&(this.boundingSphere=T.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Se.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Se.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new le),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new V),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new H),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new K),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),xe.prototype=Object.create(Se.prototype),xe.prototype.constructor=xe,_e.prototype=Object.create(Se.prototype),_e.prototype.constructor=_e,Te.prototype=Object.create(Se.prototype),Te.prototype.constructor=Te,Ee.prototype=Object.create(Se.prototype),Ee.prototype.constructor=Ee,ke.prototype=Object.create(Se.prototype),ke.prototype.constructor=ke,Ce.prototype=Object.create(Se.prototype),Ce.prototype.constructor=Ce,Ae.prototype=Object.create(Se.prototype),Ae.prototype.constructor=Ae,Oe.prototype=Object.create(Se.prototype),Oe.prototype.constructor=Oe,Ie.prototype=Object.create(Se.prototype),Ie.prototype.constructor=Ie,Object.assign(Me.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,a=0;a<i.length;a++){var o=i[a];o.materialIndex!==r&&(r=o.materialIndex,void 0!==t&&(t.count=3*a-t.start,n.push(t)),t={start:3*a,materialIndex:r})}void 0!==t&&(t.count=3*a-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,a=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=e.morphTargets,u=s.length;if(u>0){t=[];for(var l=0;l<u;l++)t[l]={name:s[l].name,data:[]};this.morphTargets.position=t}var c,f=e.morphNormals,h=f.length;if(h>0){c=[];for(l=0;l<h;l++)c[l]={name:f[l].name,data:[]};this.morphTargets.normal=c}var d=e.skinIndices,p=e.skinWeights,m=d.length===r.length,g=p.length===r.length;r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(l=0;l<n.length;l++){var v=n[l];this.vertices.push(r[v.a],r[v.b],r[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=v.normal;this.normals.push(b,b,b)}var w,S=v.vertexColors;if(3===S.length)this.colors.push(S[0],S[1],S[2]);else{var x=v.color;this.colors.push(x,x,x)}if(!0===a)void 0!==(w=i[0][l])?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new V,new V,new V));if(!0===o)void 0!==(w=i[1][l])?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new V,new V,new V));for(var _=0;_<u;_++){var T=s[_].vertices;t[_].data.push(T[v.a],T[v.b],T[v.c])}for(_=0;_<h;_++){var E=f[_].vertexNormals[l];c[_].data.push(E.a,E.b,E.c)}m&&this.skinIndices.push(d[v.a],d[v.b],d[v.c]),g&&this.skinWeights.push(p[v.a],p[v.b],p[v.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var Re=1;function Pe(){Object.defineProperty(this,"id",{value:Re+=2}),this.uuid=j.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function Ne(e,t,n,r,i,a){we.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a},this.fromBufferGeometry(new Le(e,t,n,r,i,a)),this.mergeVertices()}function Le(e,t,n,r,i,a){Pe.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};var o=this;e=e||1,t=t||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,a=Math.floor(a)||1;var s=[],u=[],l=[],c=[],f=0,h=0;function d(e,t,n,r,i,a,d,p,m,g,v){var y,b,w=a/m,S=d/g,x=a/2,_=d/2,T=p/2,E=m+1,k=g+1,C=0,A=0,O=new H;for(b=0;b<k;b++){var I=b*S-_;for(y=0;y<E;y++){var M=y*w-x;O[e]=M*r,O[t]=I*i,O[n]=T,u.push(O.x,O.y,O.z),O[e]=0,O[t]=0,O[n]=p>0?1:-1,l.push(O.x,O.y,O.z),c.push(y/m),c.push(1-b/g),C+=1}}for(b=0;b<g;b++)for(y=0;y<m;y++){var D=f+y+E*b,R=f+y+E*(b+1),P=f+(y+1)+E*(b+1),N=f+(y+1)+E*b;s.push(D,R,N),s.push(R,P,N),A+=6}o.addGroup(h,A,v),h+=A,f+=C}d("z","y","x",-1,-1,n,t,e,a,i,0),d("z","y","x",1,-1,n,t,-e,a,i,1),d("x","z","y",1,1,e,n,t,r,a,2),d("x","z","y",1,-1,e,n,-t,r,a,3),d("x","y","z",1,-1,e,t,n,r,i,4),d("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.addAttribute("position",new Oe(u,3)),this.addAttribute("normal",new Oe(l,3)),this.addAttribute("uv",new Oe(c,2))}function Fe(e,t,n,r){we.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Be(e,t,n,r)),this.mergeVertices()}function Be(e,t,n,r){Pe.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var i,a,o=(e=e||1)/2,s=(t=t||1)/2,u=Math.floor(n)||1,l=Math.floor(r)||1,c=u+1,f=l+1,h=e/u,d=t/l,p=[],m=[],g=[],v=[];for(a=0;a<f;a++){var y=a*d-s;for(i=0;i<c;i++){var b=i*h-o;m.push(b,-y,0),g.push(0,0,1),v.push(i/u),v.push(1-a/l)}}for(a=0;a<l;a++)for(i=0;i<u;i++){var w=i+c*a,S=i+c*(a+1),x=i+1+c*(a+1),_=i+1+c*a;p.push(w,S,_),p.push(S,x,_)}this.setIndex(p),this.addAttribute("position",new Oe(m,3)),this.addAttribute("normal",new Oe(g,3)),this.addAttribute("uv",new Oe(v,2))}Pe.prototype=Object.assign(Object.create(r.prototype),{constructor:Pe,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(De(e)>65535?Ae:ke)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):(this.attributes[e]=t,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new Se(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new q).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e=new G;return function(t){return e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e=new G;return function(t){return e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e=new G;return function(t){return e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e=new G;return function(t,n,r){return e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e=new G;return function(t,n,r){return e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e=new ye;return function(t){e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){var e=new H;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(e).negate(),this.translate(e.x,e.y,e.z),this}}(),setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new Oe(3*t.vertices.length,3),r=new Oe(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new Oe(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new Oe(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Me).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new Se(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new Se(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new Se(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new Se(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new Se(a,2).copyVector2sArray(e.uvs2))}for(var o in this.groups=e.groups,e.morphTargets){for(var s=[],u=e.morphTargets[o],l=0,c=u.length;l<c;l++){var f=u[l],h=new Oe(3*f.data.length,3);h.name=f.name,s.push(h.copyVector3sArray(f.data))}this.morphAttributes[o]=s}if(e.skinIndices.length>0){var d=new Oe(4*e.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var p=new Oe(4*e.skinWeights.length,4);this.addAttribute("skinWeight",p.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new te);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new te,t=new H;return function(){null===this.boundingSphere&&(this.boundingSphere=new ne);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(r);for(var i=0,a=0,o=n.count;a<o;a++)t.x=n.getX(a),t.y=n.getY(a),t.z=n.getZ(a),i=Math.max(i,r.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new Se(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,a=r.length;i<a;i++)r[i]=0;var o,s,u,l=t.normal.array,c=new H,f=new H,h=new H,d=new H,p=new H;if(e){var m=e.array;for(i=0,a=e.count;i<a;i+=3)o=3*m[i+0],s=3*m[i+1],u=3*m[i+2],c.fromArray(n,o),f.fromArray(n,s),h.fromArray(n,u),d.subVectors(h,f),p.subVectors(c,f),d.cross(p),l[o]+=d.x,l[o+1]+=d.y,l[o+2]+=d.z,l[s]+=d.x,l[s+1]+=d.y,l[s+2]+=d.z,l[u]+=d.x,l[u+1]+=d.y,l[u+2]+=d.z}else for(i=0,a=n.length;i<a;i+=9)c.fromArray(n,i),f.fromArray(n,i+3),h.fromArray(n,i+6),d.subVectors(h,f),p.subVectors(c,f),d.cross(p),l[i]=d.x,l[i+1]=d.y,l[i+2]=d.z,l[i+3]=d.x,l[i+4]=d.y,l[i+5]=d.z,l[i+6]=d.x,l[i+7]=d.y,l[i+8]=d.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,a=e.attributes[r],o=a.array,s=0,u=a.itemSize*t;s<o.length;s++,u++)i[u]=o[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=new H;return function(){for(var t=this.attributes.normal,n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.normalize(),t.setXYZ(n,e.x,e.y,e.z)}}(),toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=new n.constructor(t.length*r),a=0,o=0,s=0,u=t.length;s<u;s++){a=t[s]*r;for(var l=0;l<r;l++)i[o++]=n[a++]}return new Se(i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Pe,n=this.index.array,r=this.attributes;for(var i in r){var a=e(r[i],n);t.addAttribute(i,a)}var o=this.morphAttributes;for(i in o){for(var s=[],u=o[i],l=0,c=u.length;l<c;l++){a=e(u[l],n);s.push(a)}t.morphAttributes[i]=s}for(var f=this.groups,h=(l=0,f.length);l<h;l++){var d=f[l];t.addGroup(d.start,d.count,d.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:i}}var a=this.attributes;for(var n in a){var o=a[n];i=Array.prototype.slice.call(o.array);e.data.attributes[n]={itemSize:o.itemSize,type:o.array.constructor.name,array:i,normalized:o.normalized}}var s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e},clone:function(){return(new Pe).copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var a=e.attributes;for(t in a){var o=a[t];this.addAttribute(t,o.clone())}var s=e.morphAttributes;for(t in s){var u=[],l=s[t];for(n=0,r=l.length;n<r;n++)u.push(l[n].clone());this.morphAttributes[t]=u}var c=e.groups;for(n=0,r=c.length;n<r;n++){var f=c[n];this.addGroup(f.start,f.count,f.materialIndex)}var h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());var d=e.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Ne.prototype=Object.create(we.prototype),Ne.prototype.constructor=Ne,Le.prototype=Object.create(Pe.prototype),Le.prototype.constructor=Le,Fe.prototype=Object.create(we.prototype),Fe.prototype.constructor=Fe,Be.prototype=Object.create(Pe.prototype),Be.prototype.constructor=Be;var ze=0;function Ue(){Object.defineProperty(this,"id",{value:ze++}),this.uuid=j.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=1,this.side=a,this.flatShading=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=f,this.blendDst=h,this.blendEquation=c,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=d,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}function je(e){Ue.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Ve(e,t){this.origin=void 0!==e?e:new H,this.direction=void 0!==t?t:new H}function Ge(e,t,n){this.a=void 0!==e?e:new H,this.b=void 0!==t?t:new H,this.c=void 0!==n?n:new H}function We(e){Ue.call(this),this.type="MeshBasicMaterial",this.color=new le(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function He(e,t){ye.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Pe,this.material=void 0!==t?t:new We({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function qe(e,t,n,r){var i,s,u=new le(0),l=0,c=null,f=0;function h(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}return{getClearColor:function(){return u},setClearColor:function(e,t){u.set(e),h(u,l=void 0!==t?t:1)},getClearAlpha:function(){return l},setClearAlpha:function(e){h(u,l=e)},render:function(t,r,d,p){var m=r.background;if(null===m?(h(u,l),c=null,f=0):m&&m.isColor&&(h(m,1),p=!0,c=null,f=0),(e.autoClear||p)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLRenderTargetCube)){void 0===s&&((s=new He(new Le(1,1,1),new je({type:"BackgroundCubeMaterial",uniforms:oe(fe.cube.uniforms),vertexShader:fe.cube.vertexShader,fragmentShader:fe.cube.fragmentShader,side:o,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),s.geometry.removeAttribute("uv"),s.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(s));var g=m.isWebGLRenderTargetCube?m.texture:m;s.material.uniforms.tCube.value=g,s.material.uniforms.tFlip.value=m.isWebGLRenderTargetCube?1:-1,c===m&&f===g.version||(s.material.needsUpdate=!0,c=m,f=g.version),t.unshift(s,s.geometry,s.material,0,0,null)}else m&&m.isTexture&&(void 0===i&&((i=new He(new Be(2,2),new je({type:"BackgroundMaterial",uniforms:oe(fe.background.uniforms),vertexShader:fe.background.vertexShader,fragmentShader:fe.background.fragmentShader,side:a,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(i)),i.material.uniforms.t2D.value=m,!0===m.matrixAutoUpdate&&m.updateMatrix(),i.material.uniforms.uvTransform.value.copy(m.matrix),c===m&&f===m.version||(i.material.needsUpdate=!0,c=m,f=m.version),t.unshift(i,i.geometry,i.material,0,0,null))}}}function Qe(e,t,n,r){var i;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i)},this.renderInstances=function(a,o,s){var u;if(r.isWebGL2)u=e;else if(null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](i,o,s,a.maxInstancedCount),n.update(s,i,a.maxInstancedCount)}}function Xe(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var u=!0===n.logarithmicDepthBuffer,l=e.getParameter(34930),c=e.getParameter(35660),f=e.getParameter(3379),h=e.getParameter(34076),d=e.getParameter(34921),p=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),v=c>0,y=a||!!t.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:u,maxTextures:l,maxVertexTextures:c,maxTextureSize:f,maxCubemapSize:h,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y,maxSamples:a?e.getParameter(36183):0}}function Ye(){var e=this,t=null,n=0,r=!1,i=!1,a=new re,o=new q,s={value:null,needsUpdate:!1};function u(){s.value!==t&&(s.value=t,s.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function l(t,n,r,i){var u=null!==t?t.length:0,l=null;if(0!==u){if(l=s.value,!0!==i||null===l){var c=r+4*u,f=n.matrixWorldInverse;o.getNormalMatrix(f),(null===l||l.length<c)&&(l=new Float32Array(c));for(var h=0,d=r;h!==u;++h,d+=4)a.copy(t[h]).applyMatrix4(f,o),a.normal.toArray(l,d),l[d+3]=a.constant}s.value=l,s.needsUpdate=!0}return e.numPlanes=u,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,a){var o=0!==e.length||i||0!==n||r;return r=i,t=l(e,a,0),n=e.length,o},this.beginShadows=function(){i=!0,l(null)},this.endShadows=function(){i=!1,u()},this.setState=function(e,a,o,c,f,h){if(!r||null===e||0===e.length||i&&!o)i?l(null):u();else{var d=i?0:n,p=4*d,m=f.clippingState||null;s.value=m,m=l(e,c,p,h);for(var g=0;g!==p;++g)m[g]=t[g];f.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=d}}}function Ke(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function Ze(e,t,n){var r={},i={};function a(e){var o=e.target,s=r[o.id];for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);o.removeEventListener("dispose",a),delete r[o.id];var l=i[s.id];l&&(t.remove(l),delete i[s.id]),n.memory.geometries--}return{get:function(e,t){var i=r[t.id];return i||(t.addEventListener("dispose",a),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Pe).setFromObject(e)),i=t._bufferGeometry),r[t.id]=i,n.memory.geometries++,i)},update:function(e){var n=e.index,r=e.attributes;for(var i in null!==n&&t.update(n,34963),r)t.update(r[i],34962);var a=e.morphAttributes;for(var i in a)for(var o=a[i],s=0,u=o.length;s<u;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var n=i[e.id];if(n)return n;var r,a=[],o=e.index,s=e.attributes;if(null!==o)for(var u=0,l=(r=o.array).length;u<l;u+=3){var c=r[u+0],f=r[u+1],h=r[u+2];a.push(c,f,f,h,h,c)}else for(u=0,l=(r=s.position.array).length/3-1;u<l;u+=3){c=u+0,f=u+1,h=u+2;a.push(c,f,f,h,h,c)}return n=new(De(a)>65535?Ae:ke)(a,1),t.update(n,34963),i[e.id]=n,n}}}function Je(e,t,n,r){var i,a,o;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i)},this.renderInstances=function(s,u,l){var c;if(r.isWebGL2)c=e;else if(null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](i,l,a,u*o,s.maxInstancedCount),n.update(l,i,s.maxInstancedCount)}}function $e(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(r=r||1,t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 5:case 6:t.triangles+=r*(e-2);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function et(e,t){return Math.abs(t[1])-Math.abs(e[1])}function tt(e){var t={},n=new Float32Array(8);return{update:function(r,i,a,o){var s=r.morphTargetInfluences,u=s.length,l=t[i.id];if(void 0===l){l=[];for(var c=0;c<u;c++)l[c]=[c,0];t[i.id]=l}var f=a.morphTargets&&i.morphAttributes.position,h=a.morphNormals&&i.morphAttributes.normal;for(c=0;c<u;c++){0!==(d=l[c])[1]&&(f&&i.removeAttribute("morphTarget"+c),h&&i.removeAttribute("morphNormal"+c))}for(c=0;c<u;c++){(d=l[c])[0]=c,d[1]=s[c]}for(l.sort(et),c=0;c<8;c++){var d;if(d=l[c]){var p=d[0],m=d[1];if(m){f&&i.addAttribute("morphTarget"+c,f[p]),h&&i.addAttribute("morphNormal"+c,h[p]),n[c]=m;continue}}n[c]=0}o.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function nt(e,t){var n={};return{update:function(r){var i=t.render.frame,a=r.geometry,o=e.get(r,a);return n[o.id]!==i&&(a.isGeometry&&o.updateFromObject(r),e.update(o),n[o.id]=i),o},dispose:function(){n={}}}}function rt(e,t,n,r,i,a,o,s,u,l){e=void 0!==e?e:[],t=void 0!==t?t:301,Y.call(this,e,t,n,r,i,a,o,s,u,l),this.flipY=!1}function it(e,t,n,r){Y.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=y,this.minFilter=y,this.generateMipmaps=!1,this.flipY=!1}Ue.prototype=Object.assign(Object.create(r.prototype),{constructor:Ue,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==a&&(n.side=this.side),0!==this.vertexColors&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),o=r(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),je.prototype=Object.create(Ue.prototype),je.prototype.constructor=je,je.prototype.isShaderMaterial=!0,je.prototype.copy=function(e){return Ue.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=oe(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},je.prototype.toJSON=function(e){var t=Ue.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var a in this.extensions)!0===this.extensions[a]&&(i[a]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},Object.assign(Ve.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new H),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new H;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new H),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new H;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new H,t=new H,n=new H;return function(r,i,a,o){e.copy(r).add(i).multiplyScalar(.5),t.copy(i).sub(r).normalize(),n.copy(this.origin).sub(e);var s,u,l,c,f=.5*r.distanceTo(i),h=-this.direction.dot(t),d=n.dot(this.direction),p=-n.dot(t),m=n.lengthSq(),g=Math.abs(1-h*h);if(g>0)if(u=h*d-p,c=f*g,(s=h*p-d)>=0)if(u>=-c)if(u<=c){var v=1/g;l=(s*=v)*(s+h*(u*=v)+2*d)+u*(h*s+u+2*p)+m}else u=f,l=-(s=Math.max(0,-(h*u+d)))*s+u*(u+2*p)+m;else u=-f,l=-(s=Math.max(0,-(h*u+d)))*s+u*(u+2*p)+m;else u<=-c?l=-(s=Math.max(0,-(-h*f+d)))*s+(u=s>0?-f:Math.min(Math.max(-f,-p),f))*(u+2*p)+m:u<=c?(s=0,l=(u=Math.min(Math.max(-f,-p),f))*(u+2*p)+m):l=-(s=Math.max(0,-(h*f+d)))*s+(u=s>0?f:Math.min(Math.max(-f,-p),f))*(u+2*p)+m;else u=h>0?-f:f,l=-(s=Math.max(0,-(h*u+d)))*s+u*(u+2*p)+m;return a&&a.copy(this.direction).multiplyScalar(s).add(this.origin),o&&o.copy(t).multiplyScalar(u).add(e),l}}(),intersectSphere:function(){var e=new H;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),i=e.dot(e)-r*r,a=t.radius*t.radius;if(i>a)return null;var o=Math.sqrt(a-i),s=r-o,u=r+o;return s<0&&u<0?null:s<0?this.at(u,n):this.at(s,n)}}(),intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,a,o,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,f=this.origin;return u>=0?(n=(e.min.x-f.x)*u,r=(e.max.x-f.x)*u):(n=(e.max.x-f.x)*u,r=(e.min.x-f.x)*u),l>=0?(i=(e.min.y-f.y)*l,a=(e.max.y-f.y)*l):(i=(e.max.y-f.y)*l,a=(e.min.y-f.y)*l),n>a||i>r?null:((i>n||n!==n)&&(n=i),(a<r||r!==r)&&(r=a),c>=0?(o=(e.min.z-f.z)*c,s=(e.max.z-f.z)*c):(o=(e.max.z-f.z)*c,s=(e.min.z-f.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:function(){var e=new H;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new H,t=new H,n=new H,r=new H;return function(i,a,o,s,u){t.subVectors(a,i),n.subVectors(o,i),r.crossVectors(t,n);var l,c=this.direction.dot(r);if(c>0){if(s)return null;l=1}else{if(!(c<0))return null;l=-1,c=-c}e.subVectors(this.origin,i);var f=l*this.direction.dot(n.crossVectors(e,n));if(f<0)return null;var h=l*this.direction.dot(t.cross(e));if(h<0)return null;if(f+h>c)return null;var d=-l*e.dot(r);return d<0?null:this.at(d/c,u)}}(),applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}),Object.assign(Ge,{getNormal:function(){var e=new H;return function(t,n,r,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new H),i.subVectors(r,n),e.subVectors(t,n),i.cross(e);var a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}}(),getBarycoord:function(){var e=new H,t=new H,n=new H;return function(r,i,a,o,s){e.subVectors(o,i),t.subVectors(a,i),n.subVectors(r,i);var u=e.dot(e),l=e.dot(t),c=e.dot(n),f=t.dot(t),h=t.dot(n),d=u*f-l*l;if(void 0===s&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new H),0===d)return s.set(-2,-1,-1);var p=1/d,m=(f*c-l*h)*p,g=(u*h-l*c)*p;return s.set(1-m-g,g,m)}}(),containsPoint:function(){var e=new H;return function(t,n,r,i){return Ge.getBarycoord(t,n,r,i,e),e.x>=0&&e.y>=0&&e.x+e.y<=1}}(),getUV:function(){var e=new H;return function(t,n,r,i,a,o,s,u){return this.getBarycoord(t,n,r,i,e),u.set(0,0),u.addScaledVector(a,e.x),u.addScaledVector(o,e.y),u.addScaledVector(s,e.z),u}}()}),Object.assign(Ge.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){var e=new H,t=new H;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new H),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Ge.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new H),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Ge.getBarycoord(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Ge.containsPoint(e,this.a,this.b,this.c)},getUV:function(e,t,n,r,i){return Ge.getUV(e,this.a,this.b,this.c,t,n,r,i)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(){var e=new H,t=new H,n=new H,r=new H,i=new H,a=new H;return function(o,s){void 0===s&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),s=new H);var u,l,c=this.a,f=this.b,h=this.c;e.subVectors(f,c),t.subVectors(h,c),r.subVectors(o,c);var d=e.dot(r),p=t.dot(r);if(d<=0&&p<=0)return s.copy(c);i.subVectors(o,f);var m=e.dot(i),g=t.dot(i);if(m>=0&&g<=m)return s.copy(f);var v=d*g-m*p;if(v<=0&&d>=0&&m<=0)return u=d/(d-m),s.copy(c).addScaledVector(e,u);a.subVectors(o,h);var y=e.dot(a),b=t.dot(a);if(b>=0&&y<=b)return s.copy(h);var w=y*p-d*b;if(w<=0&&p>=0&&b<=0)return l=p/(p-b),s.copy(c).addScaledVector(t,l);var S=m*b-y*g;if(S<=0&&g-m>=0&&y-b>=0)return n.subVectors(h,f),l=(g-m)/(g-m+(y-b)),s.copy(f).addScaledVector(n,l);var x=1/(S+w+v);return u=w*x,l=v*x,s.copy(c).addScaledVector(e,u).addScaledVector(t,l)}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}),We.prototype=Object.create(Ue.prototype),We.prototype.constructor=We,We.prototype.isMeshBasicMaterial=!0,We.prototype.copy=function(e){return Ue.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},He.prototype=Object.assign(Object.create(ye.prototype),{constructor:He,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return ye.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,a=Object.keys(i);if(a.length>0){var o=i[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)n=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(){var e=new G,t=new Ve,n=new ne,r=new H,i=new H,a=new H,u=new H,l=new H,c=new H,f=new V,h=new V,d=new V,p=new H,m=new H;function g(e,t,n,r,i,a,u,l){if(null===(t.side===o?r.intersectTriangle(u,a,i,!0,l):r.intersectTriangle(i,a,u,t.side!==s,l)))return null;m.copy(l),m.applyMatrix4(e.matrixWorld);var c=n.ray.origin.distanceTo(m);return c<n.near||c>n.far?null:{distance:c,point:m.clone(),object:e}}function v(e,t,n,o,s,u,l,c,m){r.fromBufferAttribute(s,l),i.fromBufferAttribute(s,c),a.fromBufferAttribute(s,m);var v=g(e,t,n,o,r,i,a,p);if(v){u&&(f.fromBufferAttribute(u,l),h.fromBufferAttribute(u,c),d.fromBufferAttribute(u,m),v.uv=Ge.getUV(p,r,i,a,f,h,d,new V));var y=new pe(l,c,m);Ge.getNormal(r,i,a,y.normal),v.face=y}return v}return function(o,s){var m,y=this.geometry,b=this.material,w=this.matrixWorld;if(void 0!==b&&(null===y.boundingSphere&&y.computeBoundingSphere(),n.copy(y.boundingSphere),n.applyMatrix4(w),!1!==o.ray.intersectsSphere(n)&&(e.getInverse(w),t.copy(o.ray).applyMatrix4(e),null===y.boundingBox||!1!==t.intersectsBox(y.boundingBox))))if(y.isBufferGeometry){var S,x,_,T,E,k,C,A,O,I=y.index,M=y.attributes.position,D=y.attributes.uv,R=y.groups,P=y.drawRange;if(null!==I)if(Array.isArray(b))for(T=0,k=R.length;T<k;T++)for(O=b[(A=R[T]).materialIndex],E=Math.max(A.start,P.start),C=Math.min(A.start+A.count,P.start+P.count);E<C;E+=3)S=I.getX(E),x=I.getX(E+1),_=I.getX(E+2),(m=v(this,O,o,t,M,D,S,x,_))&&(m.faceIndex=Math.floor(E/3),m.face.materialIndex=A.materialIndex,s.push(m));else for(T=Math.max(0,P.start),k=Math.min(I.count,P.start+P.count);T<k;T+=3)S=I.getX(T),x=I.getX(T+1),_=I.getX(T+2),(m=v(this,b,o,t,M,D,S,x,_))&&(m.faceIndex=Math.floor(T/3),s.push(m));else if(void 0!==M)if(Array.isArray(b))for(T=0,k=R.length;T<k;T++)for(O=b[(A=R[T]).materialIndex],E=Math.max(A.start,P.start),C=Math.min(A.start+A.count,P.start+P.count);E<C;E+=3)(m=v(this,O,o,t,M,D,S=E,x=E+1,_=E+2))&&(m.faceIndex=Math.floor(E/3),m.face.materialIndex=A.materialIndex,s.push(m));else for(T=Math.max(0,P.start),k=Math.min(M.count,P.start+P.count);T<k;T+=3)(m=v(this,b,o,t,M,D,S=T,x=T+1,_=T+2))&&(m.faceIndex=Math.floor(T/3),s.push(m))}else if(y.isGeometry){var N,L,F,B,z=Array.isArray(b),U=y.vertices,j=y.faces,G=y.faceVertexUvs[0];G.length>0&&(B=G);for(var W=0,H=j.length;W<H;W++){var q=j[W],Q=z?b[q.materialIndex]:b;if(void 0!==Q){if(N=U[q.a],L=U[q.b],F=U[q.c],!0===Q.morphTargets){var X=y.morphTargets,Y=this.morphTargetInfluences;r.set(0,0,0),i.set(0,0,0),a.set(0,0,0);for(var K=0,Z=X.length;K<Z;K++){var J=Y[K];if(0!==J){var $=X[K].vertices;r.addScaledVector(u.subVectors($[q.a],N),J),i.addScaledVector(l.subVectors($[q.b],L),J),a.addScaledVector(c.subVectors($[q.c],F),J)}}r.add(N),i.add(L),a.add(F),N=r,L=i,F=a}if(m=g(this,Q,o,t,N,L,F,p)){if(B&&B[W]){var ee=B[W];f.copy(ee[0]),h.copy(ee[1]),d.copy(ee[2]),m.uv=Ge.getUV(p,N,L,F,f,h,d,new V)}m.face=q,m.faceIndex=W,s.push(m)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),rt.prototype=Object.create(Y.prototype),rt.prototype.constructor=rt,rt.prototype.isCubeTexture=!0,Object.defineProperty(rt.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),it.prototype=Object.create(Y.prototype),it.prototype.constructor=it,it.prototype.isDataTexture3D=!0;var at=new Y,ot=new it,st=new rt;function ut(){this.seq=[],this.map={}}var lt=[],ct=[],ft=new Float32Array(16),ht=new Float32Array(9),dt=new Float32Array(4);function pt(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=lt[i];if(void 0===a&&(a=new Float32Array(i),lt[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function mt(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function gt(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function vt(e,t){var n=ct[t];void 0===n&&(n=new Int32Array(t),ct[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function yt(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function bt(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function wt(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(mt(n,t))return;e.uniform2fv(this.addr,t),gt(n,t)}}function St(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(mt(n,t))return;e.uniform3fv(this.addr,t),gt(n,t)}}function xt(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(mt(n,t))return;e.uniform4fv(this.addr,t),gt(n,t)}}function _t(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(mt(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),gt(n,t)}else{if(mt(n,r))return;dt.set(r),e.uniformMatrix2fv(this.addr,!1,dt),gt(n,r)}}function Tt(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(mt(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),gt(n,t)}else{if(mt(n,r))return;ht.set(r),e.uniformMatrix3fv(this.addr,!1,ht),gt(n,r)}}function Et(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(mt(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),gt(n,t)}else{if(mt(n,r))return;ft.set(r),e.uniformMatrix4fv(this.addr,!1,ft),gt(n,r)}}function kt(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||at,i)}function Ct(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||ot,i)}function At(e,t,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||st,i)}function Ot(e,t){var n=this.cache;mt(n,t)||(e.uniform2iv(this.addr,t),gt(n,t))}function It(e,t){var n=this.cache;mt(n,t)||(e.uniform3iv(this.addr,t),gt(n,t))}function Mt(e,t){var n=this.cache;mt(n,t)||(e.uniform4iv(this.addr,t),gt(n,t))}function Dt(e,t){var n=this.cache;mt(n,t)||(e.uniform1fv(this.addr,t),gt(n,t))}function Rt(e,t){var n=this.cache;mt(n,t)||(e.uniform1iv(this.addr,t),gt(n,t))}function Pt(e,t){var n=this.cache,r=pt(t,this.size,2);mt(n,r)||(e.uniform2fv(this.addr,r),this.updateCache(r))}function Nt(e,t){var n=this.cache,r=pt(t,this.size,3);mt(n,r)||(e.uniform3fv(this.addr,r),this.updateCache(r))}function Lt(e,t){var n=this.cache,r=pt(t,this.size,4);mt(n,r)||(e.uniform4fv(this.addr,r),this.updateCache(r))}function Ft(e,t){var n=this.cache,r=pt(t,this.size,4);mt(n,r)||(e.uniformMatrix2fv(this.addr,!1,r),this.updateCache(r))}function Bt(e,t){var n=this.cache,r=pt(t,this.size,9);mt(n,r)||(e.uniformMatrix3fv(this.addr,!1,r),this.updateCache(r))}function zt(e,t){var n=this.cache,r=pt(t,this.size,16);mt(n,r)||(e.uniformMatrix4fv(this.addr,!1,r),this.updateCache(r))}function Ut(e,t,n){var r=this.cache,i=t.length,a=vt(n,i);!1===mt(r,a)&&(e.uniform1iv(this.addr,a),gt(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||at,a[o])}function jt(e,t,n){var r=this.cache,i=t.length,a=vt(n,i);!1===mt(r,a)&&(e.uniform1iv(this.addr,a),gt(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||st,a[o])}function Vt(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return yt;case 35664:return wt;case 35665:return St;case 35666:return xt;case 35674:return _t;case 35675:return Tt;case 35676:return Et;case 35678:case 36198:return kt;case 35679:return Ct;case 35680:return At;case 5124:case 35670:return bt;case 35667:case 35671:return Ot;case 35668:case 35672:return It;case 35669:case 35673:return Mt}}(t.type)}function Gt(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Dt;case 35664:return Pt;case 35665:return Nt;case 35666:return Lt;case 35674:return Ft;case 35675:return Bt;case 35676:return zt;case 35678:return Ut;case 35680:return jt;case 5124:case 35670:return Rt;case 35667:case 35671:return Ot;case 35668:case 35672:return It;case 35669:case 35673:return Mt}}(t.type)}function Wt(e){this.id=e,ut.call(this)}Gt.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),gt(t,e)},Wt.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}};var Ht=/([\w\d_]+)(\])?(\[|\.)?/g;function qt(e,t){e.seq.push(t),e.map[t.id]=t}function Qt(e,t,n){var r=e.name,i=r.length;for(Ht.lastIndex=0;;){var a=Ht.exec(r),o=Ht.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===i){qt(n,void 0===l?new Vt(s,e,t):new Gt(s,e,t));break}var c=n.map[s];void 0===c&&qt(n,c=new Wt(s)),n=c}}function Xt(e,t,n){ut.call(this),this.renderer=n;for(var r=e.getProgramParameter(t,35718),i=0;i<r;++i){var a=e.getActiveUniform(t,i);Qt(a,e.getUniformLocation(t,a.name),this)}}function Yt(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!1===e.getShaderParameter(r,35713)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",35633===t?"vertex":"fragment",e.getShaderInfoLog(r),function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(n)),r}Xt.prototype.setValue=function(e,t,n){var r=this.map[t];void 0!==r&&r.setValue(e,n,this.renderer)},Xt.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},Xt.upload=function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},Xt.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n};var Kt=0;function Zt(e){switch(e){case U:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function Jt(e,t){var n=Zt(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function $t(e,t){var n=Zt(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function en(e,t){var n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Uncharted2";break;case 4:n="OptimizedCineon";break;case 5:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function tn(e){return""!==e}function nn(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function rn(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function an(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){var n=ae[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return an(n)}))}function on(e){return e.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[ i \]/g,"[ "+a+" ]");return i}))}function sn(e,t,n,r,i,a,o){var s=e.context,u=r.defines,l=i.vertexShader,c=i.fragmentShader,f="SHADOWMAP_TYPE_BASIC";1===a.shadowMapType?f="SHADOWMAP_TYPE_PCF":2===a.shadowMapType&&(f="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",d="ENVMAP_MODE_REFLECTION",p="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(r.envMap.mapping){case 301:case 302:h="ENVMAP_TYPE_CUBE";break;case 306:case 307:h="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:h="ENVMAP_TYPE_EQUIREC";break;case 305:h="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case 302:case 304:d="ENVMAP_MODE_REFRACTION"}switch(r.combine){case 0:p="ENVMAP_BLENDING_MULTIPLY";break;case 1:p="ENVMAP_BLENDING_MIX";break;case 2:p="ENVMAP_BLENDING_ADD"}}var m,g,v=e.gammaFactor>0?e.gammaFactor:1,y=o.isWebGL2?"":function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap&&!t.objectSpaceNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(tn).join("\n")}(r.extensions,a,t),b=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(u),w=s.createProgram();if(r.isRawShaderMaterial?((m=[b].filter(tn).join("\n")).length>0&&(m+="\n"),(g=[y,b].filter(tn).join("\n")).length>0&&(g+="\n")):(m=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+i.name,b,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+v,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+d:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+f:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(tn).join("\n"),g=[y,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+i.name,b,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+v,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+h:"",a.envMap?"#define "+d:"",a.envMap?"#define "+p:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+f:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&(o.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==a.toneMapping?"#define TONE_MAPPING":"",0!==a.toneMapping?ae.tonemapping_pars_fragment:"",0!==a.toneMapping?en("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?ae.encodings_pars_fragment:"",a.mapEncoding?Jt("mapTexelToLinear",a.mapEncoding):"",a.matcapEncoding?Jt("matcapTexelToLinear",a.matcapEncoding):"",a.envMapEncoding?Jt("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?Jt("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?$t("linearToOutputTexel",a.outputEncoding):"",a.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(tn).join("\n")),l=rn(l=nn(l=an(l),a),a),c=rn(c=nn(c=an(c),a),a),l=on(l),c=on(c),o.isWebGL2&&!r.isRawShaderMaterial){var S=!1,x=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==l.match(x)&&null!==c.match(x)&&(S=!0,l=l.replace(x,""),c=c.replace(x,"")),m=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,g=["#version 300 es\n","#define varying in",S?"":"out highp vec4 pc_fragColor;",S?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g}var _=g+c,T=Yt(s,35633,m+l),E=Yt(s,35632,_);s.attachShader(w,T),s.attachShader(w,E),void 0!==r.index0AttributeName?s.bindAttribLocation(w,0,r.index0AttributeName):!0===a.morphTargets&&s.bindAttribLocation(w,0,"position"),s.linkProgram(w);var k,C,A=s.getProgramInfoLog(w).trim(),O=s.getShaderInfoLog(T).trim(),I=s.getShaderInfoLog(E).trim(),M=!0,D=!0;return!1===s.getProgramParameter(w,35714)?(M=!1,console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(w,35715),"gl.getProgramInfoLog",A,O,I)):""!==A?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",A):""!==O&&""!==I||(D=!1),D&&(this.diagnostics={runnable:M,material:r,programLog:A,vertexShader:{log:O,prefix:m},fragmentShader:{log:I,prefix:g}}),s.deleteShader(T),s.deleteShader(E),this.getUniforms=function(){return void 0===k&&(k=new Xt(s,w,e)),k},this.getAttributes=function(){return void 0===C&&(C=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i).name;n[a]=e.getAttribLocation(t,a)}return n}(s,w)),C},this.destroy=function(){s.deleteProgram(w),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=i.name,this.id=Kt++,this.code=n,this.usedTimes=1,this.program=w,this.vertexShader=T,this.fragmentShader=E,this}function un(e,t,n){var r=[],i={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},a=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function u(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=U,n===U&&t&&(n=3007),n}this.getParameters=function(t,r,a,l,c,f,h){var d=i[t.type],p=h.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,i=Math.floor((r-20)/4),a=Math.min(i,t.length);return a<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+a+"."),0):a}(h):0,m=n.precision;null!==t.precision&&(m=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",m,"instead.");var g=e.getRenderTarget();return{shaderID:d,precision:m,supportsVertexTextures:n.vertexTextures,outputEncoding:u(g?g.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:u(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:u(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:u(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(306===t.envMap.mapping||307===t.envMap.mapping),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:u(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:1===t.normalMapType,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,combine:t.combine,vertexColors:t.vertexColors,fog:!!l,useFog:t.fog,fogExp:l&&l.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&p>0,maxBones:p,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:c,numClipIntersection:f,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&h.receiveShadow&&a.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===s,flipSided:t.side===o,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)r.push(i),r.push(t.defines[i]);for(var o=0;o<a.length;o++)r.push(n[a[o]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.push(e.gammaFactor),r.join()},this.acquireProgram=function(i,a,o,s){for(var u,l=0,c=r.length;l<c;l++){var f=r[l];if(f.code===s){++(u=f).usedTimes;break}}return void 0===u&&(u=new sn(e,t,s,i,a,o,n),r.push(u)),u},this.releaseProgram=function(e){if(0===--e.usedTimes){var t=r.indexOf(e);r[t]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function ln(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function cn(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program&&t.program&&e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function fn(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function hn(){var e=[],t=0,n=[],r=[];function i(n,r,i,a,o,s){var u=e[t];return void 0===u?(u={id:n.id,object:n,geometry:r,material:i,program:i.program,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=i,u.program=i.program,u.groupOrder=a,u.renderOrder=n.renderOrder,u.z=o,u.group=s),t++,u}return{opaque:n,transparent:r,init:function(){t=0,n.length=0,r.length=0},push:function(e,t,a,o,s,u){var l=i(e,t,a,o,s,u);(!0===a.transparent?r:n).push(l)},unshift:function(e,t,a,o,s,u){var l=i(e,t,a,o,s,u);(!0===a.transparent?r:n).unshift(l)},sort:function(){n.length>1&&n.sort(cn),r.length>1&&r.sort(fn)}}}function dn(){var e={};function t(n){var r=n.target;r.removeEventListener("dispose",t),delete e[r.id]}return{get:function(n,r){var i,a=e[n.id];return void 0===a?(i=new hn,e[n.id]={},e[n.id][r.id]=i,n.addEventListener("dispose",t)):void 0===(i=a[r.id])&&(i=new hn,a[r.id]=i),i},dispose:function(){e={}}}}function pn(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new H,color:new le,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new V};break;case"SpotLight":n={position:new H,direction:new H,color:new le,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new V};break;case"PointLight":n={position:new H,color:new le,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new V,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new H,skyColor:new le,groundColor:new le};break;case"RectAreaLight":n={color:new le,position:new H,halfWidth:new H,halfHeight:new H}}return e[t.id]=n,n}}}var mn=0;function gn(){var e=new pn,t={id:mn++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new H,r=new G,i=new G;return{setup:function(a,o,s){for(var u=0,l=0,c=0,f=0,h=0,d=0,p=0,m=0,g=s.matrixWorldInverse,v=0,y=a.length;v<y;v++){var b=a[v],w=b.color,S=b.intensity,x=b.distance,_=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)u+=w.r*S,l+=w.g*S,c+=w.b*S;else if(b.isDirectionalLight){if((E=e.get(b)).color.copy(b.color).multiplyScalar(b.intensity),E.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),E.direction.sub(n),E.direction.transformDirection(g),E.shadow=b.castShadow,b.castShadow){var T=b.shadow;E.shadowBias=T.bias,E.shadowRadius=T.radius,E.shadowMapSize=T.mapSize}t.directionalShadowMap[f]=_,t.directionalShadowMatrix[f]=b.shadow.matrix,t.directional[f]=E,f++}else if(b.isSpotLight){if((E=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),E.position.applyMatrix4(g),E.color.copy(w).multiplyScalar(S),E.distance=x,E.direction.setFromMatrixPosition(b.matrixWorld),n.setFromMatrixPosition(b.target.matrixWorld),E.direction.sub(n),E.direction.transformDirection(g),E.coneCos=Math.cos(b.angle),E.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),E.decay=b.decay,E.shadow=b.castShadow,b.castShadow){T=b.shadow;E.shadowBias=T.bias,E.shadowRadius=T.radius,E.shadowMapSize=T.mapSize}t.spotShadowMap[d]=_,t.spotShadowMatrix[d]=b.shadow.matrix,t.spot[d]=E,d++}else if(b.isRectAreaLight){(E=e.get(b)).color.copy(w).multiplyScalar(S),E.position.setFromMatrixPosition(b.matrixWorld),E.position.applyMatrix4(g),i.identity(),r.copy(b.matrixWorld),r.premultiply(g),i.extractRotation(r),E.halfWidth.set(.5*b.width,0,0),E.halfHeight.set(0,.5*b.height,0),E.halfWidth.applyMatrix4(i),E.halfHeight.applyMatrix4(i),t.rectArea[p]=E,p++}else if(b.isPointLight){if((E=e.get(b)).position.setFromMatrixPosition(b.matrixWorld),E.position.applyMatrix4(g),E.color.copy(b.color).multiplyScalar(b.intensity),E.distance=b.distance,E.decay=b.decay,E.shadow=b.castShadow,b.castShadow){T=b.shadow;E.shadowBias=T.bias,E.shadowRadius=T.radius,E.shadowMapSize=T.mapSize,E.shadowCameraNear=T.camera.near,E.shadowCameraFar=T.camera.far}t.pointShadowMap[h]=_,t.pointShadowMatrix[h]=b.shadow.matrix,t.point[h]=E,h++}else if(b.isHemisphereLight){var E;(E=e.get(b)).direction.setFromMatrixPosition(b.matrixWorld),E.direction.transformDirection(g),E.direction.normalize(),E.skyColor.copy(b.color).multiplyScalar(S),E.groundColor.copy(b.groundColor).multiplyScalar(S),t.hemi[m]=E,m++}}t.ambient[0]=u,t.ambient[1]=l,t.ambient[2]=c,t.directional.length=f,t.spot.length=d,t.rectArea.length=p,t.point.length=h,t.hemi.length=m,t.hash.stateID=t.id,t.hash.directionalLength=f,t.hash.pointLength=h,t.hash.spotLength=d,t.hash.rectAreaLength=p,t.hash.hemiLength=m,t.hash.shadowsLength=o.length},state:t}}function vn(){var e=new gn,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function yn(){var e={};function t(n){var r=n.target;r.removeEventListener("dispose",t),delete e[r.id]}return{get:function(n,r){var i;return void 0===e[n.id]?(i=new vn,e[n.id]={},e[n.id][r.id]=i,n.addEventListener("dispose",t)):void 0===e[n.id][r.id]?(i=new vn,e[n.id][r.id]=i):i=e[n.id][r.id],i},dispose:function(){e={}}}}function bn(e){Ue.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function wn(e){Ue.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new H,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}function Sn(e,t,n){for(var r=new ie,i=new G,l=new V,c=new V(n,n),f=new H,h=new H,d=new Array(4),p=new Array(4),m={},g={0:o,1:a,2:s},v=[new H(1,0,0),new H(-1,0,0),new H(0,0,1),new H(0,0,-1),new H(0,1,0),new H(0,-1,0)],b=[new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,0,1),new H(0,0,-1)],w=[new K,new K,new K,new K,new K,new K],S=0;4!==S;++S){var x=0!==(1&S),_=0!==(2&S),T=new bn({depthPacking:3201,morphTargets:x,skinning:_});d[S]=T;var E=new wn({morphTargets:x,skinning:_});p[S]=E}var k=this;function C(t,n,r,i,a,o){var s=t.geometry,u=null,l=d,c=t.customDepthMaterial;if(r&&(l=p,c=t.customDistanceMaterial),c)u=c;else{var f=!1;n.morphTargets&&(s&&s.isBufferGeometry?f=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(f=s.morphTargets&&s.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var h=0;f&&(h|=1),t.isSkinnedMesh&&n.skinning&&(h|=2),u=l[h]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var v=u.uuid,y=n.uuid,b=m[v];void 0===b&&(b={},m[v]=b);var w=b[y];void 0===w&&(w=u.clone(),b[y]=w),u=w}return u.visible=n.visible,u.wireframe=n.wireframe,u.side=null!=n.shadowSide?n.shadowSide:g[n.side],u.clipShadows=n.clipShadows,u.clippingPlanes=n.clippingPlanes,u.clipIntersection=n.clipIntersection,u.wireframeLinewidth=n.wireframeLinewidth,u.linewidth=n.linewidth,r&&u.isMeshDistanceMaterial&&(u.referencePosition.copy(i),u.nearDistance=a,u.farDistance=o),u}function A(n,i,a,o){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var s=t.update(n),u=n.material;if(Array.isArray(u))for(var l=s.groups,c=0,f=l.length;c<f;c++){var d=l[c],p=u[d.materialIndex];if(p&&p.visible){var m=C(n,p,o,h,a.near,a.far);e.renderBufferDirect(a,null,s,m,n,d)}}else if(u.visible){m=C(n,u,o,h,a.near,a.far);e.renderBufferDirect(a,null,s,m,n,null)}}for(var g=n.children,v=0,y=g.length;v<y;v++)A(g[v],i,a,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,n,a){if(!1!==k.enabled&&(!1!==k.autoUpdate||!1!==k.needsUpdate)&&0!==t.length){var o,s=e.state;s.setBlending(u),s.buffers.color.setClear(1,1,1,1),s.buffers.depth.setTest(!0),s.setScissorTest(!1);for(var d=0,p=t.length;d<p;d++){var m=t[d],g=m.shadow,S=m&&m.isPointLight;if(void 0!==g){var x=g.camera;if(l.copy(g.mapSize),l.min(c),S){var _=l.x,T=l.y;w[0].set(2*_,T,_,T),w[1].set(0,T,_,T),w[2].set(3*_,T,_,T),w[3].set(_,T,_,T),w[4].set(3*_,0,_,T),w[5].set(_,0,_,T),l.x*=4,l.y*=2}if(null===g.map){var E={minFilter:y,magFilter:y,format:I};g.map=new Z(l.x,l.y,E),g.map.texture.name=m.name+".shadowMap",x.updateProjectionMatrix()}g.isSpotLightShadow&&g.update(m);var C=g.map,O=g.matrix;h.setFromMatrixPosition(m.matrixWorld),x.position.copy(h),S?(o=6,O.makeTranslation(-h.x,-h.y,-h.z)):(o=1,f.setFromMatrixPosition(m.target.matrixWorld),x.lookAt(f),x.updateMatrixWorld(),O.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),O.multiply(x.projectionMatrix),O.multiply(x.matrixWorldInverse)),e.setRenderTarget(C),e.clear();for(var M=0;M<o;M++){if(S){f.copy(x.position),f.add(v[M]),x.up.copy(b[M]),x.lookAt(f),x.updateMatrixWorld();var D=w[M];s.viewport(D)}i.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),r.setFromMatrix(i),A(n,a,x,S)}}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}k.needsUpdate=!1}}}function xn(e,t,n,r){var i=new function(){var t=!1,n=new K,r=null,i=new K(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},a=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?q(2929):Q(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case d:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case p:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},f=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(e){e?q(2960):Q(2960)},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&u===r||(e.stencilOp(t,n,r),o=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null}}},h=e.getParameter(34921),m=new Uint8Array(h),g=new Uint8Array(h),v=new Uint8Array(h),y={},b=null,w=null,S=null,x=null,_=null,T=null,E=null,k=null,C=null,A=null,O=!1,I=null,M=null,D=null,R=null,P=null,N=e.getParameter(35661),L=!1,F=0,B=e.getParameter(7938);-1!==B.indexOf("WebGL")?(F=parseFloat(/^WebGL\ ([0-9])/.exec(B)[1]),L=F>=1):-1!==B.indexOf("OpenGL ES")&&(F=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(B)[1]),L=F>=2);var z=null,U={},j=new K,V=new K;function G(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var W={};function H(n,i){(m[n]=1,0===g[n]&&(e.enableVertexAttribArray(n),g[n]=1),v[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),v[n]=i)}function q(t){!0!==y[t]&&(e.enable(t),y[t]=!0)}function Q(t){!1!==y[t]&&(e.disable(t),y[t]=!1)}function X(t,r,i,a,o,s,f,h){if(t!==u){if(S||(q(3042),S=!0),t===l)o=o||r,s=s||i,f=f||a,r===_&&o===k||(e.blendEquationSeparate(n.convert(r),n.convert(o)),_=r,k=o),i===T&&a===E&&s===C&&f===A||(e.blendFuncSeparate(n.convert(i),n.convert(a),n.convert(s),n.convert(f)),T=i,E=a,C=s,A=f),x=t,O=null;else if(t!==x||h!==O){if(_===c&&k===c||(e.blendEquation(32774),_=c,k=c),h)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}T=null,E=null,C=null,A=null,x=t,O=h}}else S&&(Q(3042),S=!1)}function Y(t){I!==t&&(t?e.frontFace(2304):e.frontFace(2305),I=t)}function Z(t){0!==t?(q(2884),t!==M&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):Q(2884),M=t}function J(t,n,r){t?(q(32823),R===n&&P===r||(e.polygonOffset(n,r),R=n,P=r)):Q(32823)}function $(t){void 0===t&&(t=33984+N-1),z!==t&&(e.activeTexture(t),z=t)}return W[3553]=G(3553,3553,1),W[34067]=G(34067,34069,6),i.setClear(0,0,0,1),a.setClear(1),f.setClear(0),q(2929),a.setFunc(d),Y(!1),Z(1),q(2884),X(u),{buffers:{color:i,depth:a,stencil:f},initAttributes:function(){for(var e=0,t=m.length;e<t;e++)m[e]=0},enableAttribute:function(e){H(e,0)},enableAttributeAndDivisor:H,disableUnusedAttributes:function(){for(var t=0,n=g.length;t!==n;++t)g[t]!==m[t]&&(e.disableVertexAttribArray(t),g[t]=0)},enable:q,disable:Q,getCompressedTextureFormats:function(){if(null===b&&(b=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var n=e.getParameter(34467),r=0;r<n.length;r++)b.push(n[r]);return b},useProgram:function(t){return w!==t&&(e.useProgram(t),w=t,!0)},setBlending:X,setMaterial:function(e,t){e.side===s?Q(2884):q(2884);var n=e.side===o;t&&(n=!n),Y(n),1===e.blending&&!1===e.transparent?X(u):X(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),a.setFunc(e.depthFunc),a.setTest(e.depthTest),a.setMask(e.depthWrite),i.setMask(e.colorWrite),J(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:Y,setCullFace:Z,setLineWidth:function(t){t!==D&&(L&&e.lineWidth(t),D=t)},setPolygonOffset:J,setScissorTest:function(e){e?q(3089):Q(3089)},activeTexture:$,bindTexture:function(t,n){null===z&&$();var r=U[z];void 0===r&&(r={type:void 0,texture:void 0},U[z]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||W[t]),r.type=t,r.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===j.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),j.copy(t))},viewport:function(t){!1===V.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),V.copy(t))},reset:function(){for(var t=0;t<g.length;t++)1===g[t]&&(e.disableVertexAttribArray(t),g[t]=0);y={},b=null,z=null,U={},w=null,x=null,I=null,M=null,i.reset(),a.reset(),f.reset()}}}function _n(e,t,n,r,i,a,o){var s,u={};function l(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageBitmap){void 0===s&&(s=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"));var a=n?document.createElementNS("http://www.w3.org/1999/xhtml","canvas"):s,o=t?j.floorPowerOfTwo:Math.floor;return a.width=o(i*e.width),a.height=o(i*e.height),a.getContext("2d").drawImage(e,0,0,a.width,a.height),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a.width+"x"+a.height+")."),a}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function c(e){return j.isPowerOfTwo(e.width)&&j.isPowerOfTwo(e.height)}function f(e,t){return e.generateMipmaps&&t&&e.minFilter!==y&&e.minFilter!==S}function h(t,n,i,a){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,a))*Math.LOG2E}function d(e,n){if(!i.isWebGL2)return e;var r=e;return 6403===e&&(5126===n&&(r=33326),5131===n&&(r=33325),5121===n&&(r=33321)),6407===e&&(5126===n&&(r=34837),5131===n&&(r=34843),5121===n&&(r=32849)),6408===e&&(5126===n&&(r=34836),5131===n&&(r=34842),5121===n&&(r=32856)),33325===r||33326===r||34842===r||34836===r?t.get("EXT_color_buffer_float"):34843!==r&&34837!==r||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),r}function p(e){return e===y||e===b||e===w?9728:9729}function m(t){var n=t.target;n.removeEventListener("dispose",m),function(t){var n=r.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture)}r.remove(t)}(n),n.isVideoTexture&&delete u[n.id],o.memory.textures--}function v(t){var n=t.target;n.removeEventListener("dispose",v),function(t){var n=r.get(t),i=r.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var a=0;a<6;a++)e.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[a]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(t.texture),r.remove(t)}(n),o.memory.textures--}function x(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=e.id,n=o.render.frame;u[t]!==n&&(u[t]=n,e.update())}(e),e.version>0&&i.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void A(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function _(n,o,s){var u;if(s?(e.texParameteri(n,10242,a.convert(o.wrapS)),e.texParameteri(n,10243,a.convert(o.wrapT)),e.texParameteri(n,10240,a.convert(o.magFilter)),e.texParameteri(n,10241,a.convert(o.minFilter))):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),o.wrapS===g&&o.wrapT===g||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,p(o.magFilter)),e.texParameteri(n,10241,p(o.minFilter)),o.minFilter!==y&&o.minFilter!==S&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),u=t.get("EXT_texture_filter_anisotropic")){if(o.type===E&&null===t.get("OES_texture_float_linear"))return;if(o.type===k&&null===(i.isWebGL2||t.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function A(t,r,s){var u;u=r.isDataTexture3D?32879:3553,void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",m),t.__webglTexture=e.createTexture(),o.memory.textures++),n.activeTexture(33984+s),n.bindTexture(u,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var p=function(e){return!i.isWebGL2&&(e.wrapS!==g||e.wrapT!==g||e.minFilter!==y&&e.minFilter!==S)}(r)&&!1===c(r.image),v=l(r.image,p,!1,i.maxTextureSize),b=c(v)||i.isWebGL2,w=a.convert(r.format),x=a.convert(r.type),k=d(w,x);_(u,r,b);var A,R=r.mipmaps;if(r.isDepthTexture){if(k=6402,r.type===E){if(!i.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");k=36012}else i.isWebGL2&&(k=33189);r.format===M&&6402===k&&r.type!==T&&1014!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=T,x=a.convert(r.type)),r.format===D&&(k=34041,r.type!==C&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=C,x=a.convert(r.type))),n.texImage2D(3553,0,k,v.width,v.height,0,w,x,null)}else if(r.isDataTexture)if(R.length>0&&b){for(var P=0,N=R.length;P<N;P++)A=R[P],n.texImage2D(3553,P,k,A.width,A.height,0,w,x,A.data);r.generateMipmaps=!1,t.__maxMipLevel=R.length-1}else n.texImage2D(3553,0,k,v.width,v.height,0,w,x,v.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(P=0,N=R.length;P<N;P++)A=R[P],r.format!==I&&r.format!==O?n.getCompressedTextureFormats().indexOf(w)>-1?n.compressedTexImage2D(3553,P,k,A.width,A.height,0,A.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,P,k,A.width,A.height,0,w,x,A.data);t.__maxMipLevel=R.length-1}else if(r.isDataTexture3D)n.texImage3D(32879,0,k,v.width,v.height,v.depth,0,w,x,v.data),t.__maxMipLevel=0;else if(R.length>0&&b){for(P=0,N=R.length;P<N;P++)A=R[P],n.texImage2D(3553,P,k,w,x,A);r.generateMipmaps=!1,t.__maxMipLevel=R.length-1}else n.texImage2D(3553,0,k,w,x,v),t.__maxMipLevel=0;f(r,b)&&h(3553,r,v.width,v.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function R(t,i,o,s){var u=a.convert(i.texture.format),l=a.convert(i.texture.type),c=d(u,l);n.texImage2D(s,0,c,i.width,i.height,0,u,l,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function P(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){if(r){var i=L(n);e.renderbufferStorageMultisample(36161,i,33189,n.width,n.height)}else e.renderbufferStorage(36161,33189,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){i=L(n);e.renderbufferStorageMultisample(36161,i,34041,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var o=d(a.convert(n.texture.format),a.convert(n.texture.type));if(r){i=L(n);e.renderbufferStorageMultisample(36161,i,o,n.width,n.height)}else e.renderbufferStorage(36161,o,n.width,n.height)}e.bindRenderbuffer(36161,null)}function N(t){var n=r.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),x(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===M)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==D)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)e.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=e.createRenderbuffer(),P(n.__webglDepthbuffer[a],t)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),P(n.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}function L(e){return i.isWebGL2&&e.isWebGLMultisampleRenderTarget?Math.min(i.maxSamples,e.samples):0}this.setTexture2D=x,this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?A(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=function(t,s){var u=r.get(t);if(6===t.image.length)if(t.version>0&&u.__version!==t.version){u.__image__webglTextureCube||(t.addEventListener("dispose",m),u.__image__webglTextureCube=e.createTexture(),o.memory.textures++),n.activeTexture(33984+s),n.bindTexture(34067,u.__image__webglTextureCube),e.pixelStorei(37440,t.flipY);for(var p=t&&t.isCompressedTexture,g=t.image[0]&&t.image[0].isDataTexture,v=[],y=0;y<6;y++)v[y]=p||g?g?t.image[y].image:t.image[y]:l(t.image[y],!1,!0,i.maxCubemapSize);var b=v[0],w=c(b)||i.isWebGL2,S=a.convert(t.format),x=a.convert(t.type),T=d(S,x);_(34067,t,w);for(y=0;y<6;y++)if(p)for(var E,k=v[y].mipmaps,C=0,A=k.length;C<A;C++)E=k[C],t.format!==I&&t.format!==O?n.getCompressedTextureFormats().indexOf(S)>-1?n.compressedTexImage2D(34069+y,C,T,E.width,E.height,0,E.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+y,C,T,E.width,E.height,0,S,x,E.data);else g?n.texImage2D(34069+y,0,T,v[y].width,v[y].height,0,S,x,v[y].data):n.texImage2D(34069+y,0,T,S,x,v[y]);u.__maxMipLevel=p?k.length-1:0,f(t,w)&&h(34067,t,b.width,b.height),u.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+s),n.bindTexture(34067,u.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,t){n.activeTexture(33984+t),n.bindTexture(34067,r.get(e).__webglTexture)},this.setupRenderTarget=function(t){var s=r.get(t),u=r.get(t.texture);t.addEventListener("dispose",v),u.__webglTexture=e.createTexture(),o.memory.textures++;var l=!0===t.isWebGLRenderTargetCube,p=!0===t.isWebGLMultisampleRenderTarget,m=c(t)||i.isWebGL2;if(l){s.__webglFramebuffer=[];for(var g=0;g<6;g++)s.__webglFramebuffer[g]=e.createFramebuffer()}else if(s.__webglFramebuffer=e.createFramebuffer(),p)if(i.isWebGL2){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var y=d(a.convert(t.texture.format),a.convert(t.texture.type)),b=L(t);e.renderbufferStorageMultisample(36161,b,y,t.width,t.height),e.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),P(s.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(l){n.bindTexture(34067,u.__webglTexture),_(34067,t.texture,m);for(g=0;g<6;g++)R(s.__webglFramebuffer[g],t,36064,34069+g);f(t.texture,m)&&h(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,u.__webglTexture),_(3553,t.texture,m),R(s.__webglFramebuffer,t,36064,3553),f(t.texture,m)&&h(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&N(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(f(t,c(e)||i.isWebGL2)){var a=e.isWebGLRenderTargetCube?34067:3553,o=r.get(t).__webglTexture;n.bindTexture(a,o),h(a,t,e.width,e.height),n.bindTexture(a,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(i.isWebGL2){var n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var a=t.width,o=t.height,s=16384;t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024),e.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}}function Tn(e,t,n){return{convert:function(e){var r;if(e===m)return 10497;if(e===g)return 33071;if(e===v)return 33648;if(e===y)return 9728;if(e===b)return 9984;if(e===w)return 9986;if(e===S)return 9729;if(1007===e)return 9985;if(e===x)return 9987;if(e===_)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(e===T)return 5123;if(1013===e)return 5124;if(1014===e)return 5125;if(e===E)return 5126;if(e===k){if(n.isWebGL2)return 5131;if(null!==(r=t.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(e===A)return 6406;if(e===O)return 6407;if(e===I)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(e===M)return 6402;if(e===D)return 34041;if(e===R)return 6403;if(e===c)return 32774;if(101===e)return 32778;if(102===e)return 32779;if(200===e)return 0;if(201===e)return 1;if(202===e)return 768;if(203===e)return 769;if(e===f)return 770;if(e===h)return 771;if(206===e)return 772;if(207===e)return 773;if(208===e)return 774;if(209===e)return 775;if(210===e)return 776;if((33776===e||33777===e||33778===e||33779===e)&&null!==(r=t.get("WEBGL_compressed_texture_s3tc"))){if(33776===e)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((35840===e||35841===e||35842===e||35843===e)&&null!==(r=t.get("WEBGL_compressed_texture_pvrtc"))){if(35840===e)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e&&null!==(r=t.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e)&&null!==(r=t.get("WEBGL_compressed_texture_astc")))return e;if(103===e||104===e){if(n.isWebGL2){if(103===e)return 32775;if(104===e)return 32776}if(null!==(r=t.get("EXT_blend_minmax"))){if(103===e)return r.MIN_EXT;if(104===e)return r.MAX_EXT}}if(e===C){if(n.isWebGL2)return 34042;if(null!==(r=t.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function En(){ye.call(this),this.type="Group"}function kn(){ye.call(this),this.type="Camera",this.matrixWorldInverse=new G,this.projectionMatrix=new G,this.projectionMatrixInverse=new G}function Cn(e,t,n,r){kn.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function An(e){Cn.call(this),this.cameras=e||[]}bn.prototype=Object.create(Ue.prototype),bn.prototype.constructor=bn,bn.prototype.isMeshDepthMaterial=!0,bn.prototype.copy=function(e){return Ue.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},wn.prototype=Object.create(Ue.prototype),wn.prototype.constructor=wn,wn.prototype.isMeshDistanceMaterial=!0,wn.prototype.copy=function(e){return Ue.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this},En.prototype=Object.assign(Object.create(ye.prototype),{constructor:En,isGroup:!0}),kn.prototype=Object.assign(Object.create(ye.prototype),{constructor:kn,isCamera:!0,copy:function(e,t){return ye.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new H),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){ye.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Cn.prototype=Object.assign(Object.create(kn.prototype),{constructor:Cn,isPerspectiveCamera:!0,copy:function(e,t){return kn.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*j.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*j.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*j.RAD2DEG*Math.atan(Math.tan(.5*j.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*j.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=ye.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),An.prototype=Object.assign(Object.create(Cn.prototype),{constructor:An,isArrayCamera:!0});var On,In=new H,Mn=new H;function Dn(e,t,n){In.setFromMatrixPosition(t.matrixWorld),Mn.setFromMatrixPosition(n.matrixWorld);var r=In.distanceTo(Mn),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],f=(a[8]+1)/a[0],h=o*c,d=o*f,p=r/(-c+f),m=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var g=o+p,v=s+p,y=h-m,b=d+(r-m),w=u*s/v*g,S=l*s/v*g;e.projectionMatrix.makePerspective(y,b,w,S,g,v)}function Rn(e){var t=this,n=null,r=null,i=null,a=[],o=new G,s=new G,u=1,l="stage";"undefined"!==typeof window&&"VRFrameData"in window&&(r=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",b,!1));var c=new G,f=new W,h=new H,d=new Cn;d.bounds=new K(0,0,.5,1),d.layers.enable(1);var p=new Cn;p.bounds=new K(.5,0,.5,1),p.layers.enable(2);var m,g,v=new An([d,p]);function y(){return null!==n&&!0===n.isPresenting}function b(){if(y()){var r=n.getEyeParameters("left"),i=r.renderWidth*u,a=r.renderHeight*u;g=e.getPixelRatio(),m=e.getSize(),e.setDrawingBufferSize(2*i,a,1),x.start()}else t.enabled&&e.setDrawingBufferSize(m.width,m.height,g),x.stop()}v.layers.enable(1),v.layers.enable(2);var w=[];function S(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),n=0,r=0,i=t.length;n<i;n++){var a=t[n];if(a&&("Daydream Controller"===a.id||"Gear VR Controller"===a.id||"Oculus Go Controller"===a.id||"OpenVR Gamepad"===a.id||a.id.startsWith("Oculus Touch")||a.id.startsWith("Spatial Controller"))){if(r===e)return a;r++}}}this.enabled=!1,this.getController=function(e){var t=a[e];return void 0===t&&((t=new En).matrixAutoUpdate=!1,t.visible=!1,a[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),x.setContext(e)},this.setFramebufferScaleFactor=function(e){u=e},this.setFrameOfReferenceType=function(e){l=e},this.setPoseTarget=function(e){void 0!==e&&(i=e)},this.getCamera=function(e){var t="stage"===l?1.6:0;if(null===n)return e.position.set(0,t,0),e;if(n.depthNear=e.near,n.depthFar=e.far,n.getFrameData(r),"stage"===l){var u=n.stageParameters;u?o.fromArray(u.sittingToStandingTransform):o.makeTranslation(0,t,0)}var m=r.pose,g=null!==i?i:e;if(g.matrix.copy(o),g.matrix.decompose(g.position,g.quaternion,g.scale),null!==m.orientation&&(f.fromArray(m.orientation),g.quaternion.multiply(f)),null!==m.position&&(f.setFromRotationMatrix(o),h.fromArray(m.position),h.applyQuaternion(f),g.position.add(h)),g.updateMatrixWorld(),!1===n.isPresenting)return e;d.near=e.near,p.near=e.near,d.far=e.far,p.far=e.far,d.matrixWorldInverse.fromArray(r.leftViewMatrix),p.matrixWorldInverse.fromArray(r.rightViewMatrix),s.getInverse(o),"stage"===l&&(d.matrixWorldInverse.multiply(s),p.matrixWorldInverse.multiply(s));var y=g.parent;null!==y&&(c.getInverse(y.matrixWorld),d.matrixWorldInverse.multiply(c),p.matrixWorldInverse.multiply(c)),d.matrixWorld.getInverse(d.matrixWorldInverse),p.matrixWorld.getInverse(p.matrixWorldInverse),d.projectionMatrix.fromArray(r.leftProjectionMatrix),p.projectionMatrix.fromArray(r.rightProjectionMatrix),Dn(v,d,p);var b=n.getLayers();if(b.length){var x=b[0];null!==x.leftBounds&&4===x.leftBounds.length&&d.bounds.fromArray(x.leftBounds),null!==x.rightBounds&&4===x.rightBounds.length&&p.bounds.fromArray(x.rightBounds)}return function(){for(var e=0;e<a.length;e++){var t=a[e],n=S(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&t.position.set(.2,-.6,-.05),null!==r.position&&t.position.fromArray(r.position),null!==r.orientation&&t.quaternion.fromArray(r.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(o),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var i="Daydream Controller"===n.id?0:1;w[e]!==n.buttons[i].pressed&&(w[e]=n.buttons[i].pressed,!0===w[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"})))}else t.visible=!1}}(),v},this.getStandingMatrix=function(){return o},this.isPresenting=y;var x=new he;this.setAnimationLoop=function(e){x.setAnimationLoop(e)},this.submitFrame=function(){y()&&n.submitFrame()},this.dispose=function(){"undefined"!==typeof window&&window.removeEventListener("vrdisplaypresentchange",b)}}function Pn(e){var t=e.context,n=null,r=null,i=1,a=null,o="stage",s=null,u=[],l=[];function c(){return null!==r&&null!==a}var f=new Cn;f.layers.enable(1),f.viewport=new K;var h=new Cn;h.layers.enable(2),h.viewport=new K;var d=new An([f,h]);function p(e){var t=u[l.indexOf(e.inputSource)];t&&t.dispatchEvent({type:e.type})}function m(){e.setFramebuffer(null),y.stop()}function g(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}d.layers.enable(1),d.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=u[e];return void 0===t&&((t=new En).matrixAutoUpdate=!1,t.visible=!1,u[e]=t),t},this.getDevice=function(){return n},this.setDevice=function(e){void 0!==e&&(n=e),e instanceof XRDevice&&t.setCompatibleXRDevice(e)},this.setFramebufferScaleFactor=function(e){i=e},this.setFrameOfReferenceType=function(e){o=e},this.setSession=function(n){null!==(r=n)&&(r.addEventListener("select",p),r.addEventListener("selectstart",p),r.addEventListener("selectend",p),r.addEventListener("end",m),r.baseLayer=new XRWebGLLayer(r,t,{framebufferScaleFactor:i}),r.requestFrameOfReference(o).then((function(t){a=t,e.setFramebuffer(r.baseLayer.framebuffer),y.setContext(r),y.start()})),l=r.getInputSources(),r.addEventListener("inputsourceschange",(function(){l=r.getInputSources(),console.log(l);for(var e=0;e<u.length;e++){u[e].userData.inputSource=l[e]}})))},this.getCamera=function(e){if(c()){var t=e.parent,n=d.cameras;g(d,t);for(var r=0;r<n.length;r++)g(n[r],t);e.matrixWorld.copy(d.matrixWorld);for(var i=e.children,a=(r=0,i.length);r<a;r++)i[r].updateMatrixWorld(!0);return Dn(d,f,h),d}return e},this.isPresenting=c;var v=null;var y=new he;y.setAnimationLoop((function(e,t){if(null!==(s=t.getDevicePose(a)))for(var n=r.baseLayer,i=t.views,o=0;o<i.length;o++){var c=i[o],f=n.getViewport(c),h=s.getViewMatrix(c),p=d.cameras[o];p.matrix.fromArray(h).getInverse(p.matrix),p.projectionMatrix.fromArray(c.projectionMatrix),p.viewport.set(f.x,f.y,f.width,f.height),0===o&&d.matrix.copy(p.matrix)}for(o=0;o<u.length;o++){var m=u[o],g=l[o];if(g){var y=t.getInputPose(g,a);if(null!==y){"targetRay"in y?m.matrix.elements=y.targetRay.transformMatrix:"pointerMatrix"in y&&(m.matrix.elements=y.pointerMatrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.visible=!0;continue}}m.visible=!1}v&&v(e)})),this.setAnimationLoop=function(e){v=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function Nn(e){console.log("THREE.WebGLRenderer","101");var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,s=void 0!==e.antialias&&e.antialias,u=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",f=null,h=null;this.domElement=t,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=1,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var d,p,m,g,v,y,b,w,S,x,T,C,A,O,M,D,R,P,N=this,L=!1,F=null,B=null,z=null,U=-1,V={geometry:null,program:null,wireframe:!1},W=null,q=null,Q=new K,X=new K,Y=null,Z=0,J=t.width,$=t.height,te=1,ne=new K(0,0,J,$),re=new K(0,0,J,$),ae=!1,se=new ie,ue=new Ye,le=!1,pe=!1,me=new G,ge=new H;function ve(){return null===B?te:1}try{var ye={alpha:r,depth:i,stencil:a,antialias:s,premultipliedAlpha:u,preserveDrawingBuffer:l,powerPreference:c};if(t.addEventListener("webglcontextlost",xe,!1),t.addEventListener("webglcontextrestored",_e,!1),null===(d=n||t.getContext("webgl",ye)||t.getContext("experimental-webgl",ye)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===d.getShaderPrecisionFormat&&(d.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Le){console.error("THREE.WebGLRenderer: "+Le.message)}function be(){p=new Ke(d),(m=new Xe(d,p,e)).isWebGL2||(p.get("WEBGL_depth_texture"),p.get("OES_texture_float"),p.get("OES_texture_half_float"),p.get("OES_texture_half_float_linear"),p.get("OES_standard_derivatives"),p.get("OES_element_index_uint"),p.get("ANGLE_instanced_arrays")),p.get("OES_texture_float_linear"),P=new Tn(d,p,m),(g=new xn(d,p,P,m)).scissor(X.copy(re).multiplyScalar(te)),g.viewport(Q.copy(ne).multiplyScalar(te)),v=new $e(d),y=new ln,b=new _n(d,p,g,y,m,P,v),w=new de(d),S=new Ze(d,w,v),x=new nt(S,v),M=new tt(d),T=new un(N,p,m),C=new dn,A=new yn,O=new qe(N,g,x,u),D=new Qe(d,p,v,m),R=new Je(d,p,v,m),v.programs=T.programs,N.context=d,N.capabilities=m,N.extensions=p,N.properties=y,N.renderLists=C,N.state=g,N.info=v}be();var we=null;"undefined"!==typeof navigator&&(we="xr"in navigator?new Pn(N):new Rn(N)),this.vr=we;var Se=new Sn(N,x,m.maxTextureSize);function xe(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),L=!0}function _e(){console.log("THREE.WebGLRenderer: Context Restored."),L=!1,be()}function Te(e){var t=e.target;t.removeEventListener("dispose",Te),function(e){Ee(e),y.remove(e)}(t)}function Ee(e){var t=y.get(e).program;e.program=void 0,void 0!==t&&T.releaseProgram(t)}this.shadowMap=Se,this.getContext=function(){return d},this.getContextAttributes=function(){return d.getContextAttributes()},this.forceContextLoss=function(){var e=p.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=p.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return te},this.setPixelRatio=function(e){void 0!==e&&(te=e,this.setSize(J,$,!1))},this.getSize=function(){return{width:J,height:$}},this.setSize=function(e,n,r){we.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(J=e,$=n,t.width=e*te,t.height=n*te,!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(){return{width:J*te,height:$*te}},this.setDrawingBufferSize=function(e,n,r){J=e,$=n,te=r,t.width=e*r,t.height=n*r,this.setViewport(0,0,e,n)},this.getCurrentViewport=function(){return Q},this.setViewport=function(e,t,n,r){ne.set(e,$-t-r,n,r),g.viewport(Q.copy(ne).multiplyScalar(te))},this.setScissor=function(e,t,n,r){re.set(e,$-t-r,n,r),g.scissor(X.copy(re).multiplyScalar(te))},this.setScissorTest=function(e){g.setScissorTest(ae=e)},this.getClearColor=function(){return O.getClearColor()},this.setClearColor=function(){O.setClearColor.apply(O,arguments)},this.getClearAlpha=function(){return O.getClearAlpha()},this.setClearAlpha=function(){O.setClearAlpha.apply(O,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),d.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",xe,!1),t.removeEventListener("webglcontextrestored",_e,!1),C.dispose(),A.dispose(),y.dispose(),x.dispose(),we.dispose(),Ce.stop()},this.renderBufferImmediate=function(e,t){g.initAttributes();var n=y.get(e);e.hasPositions&&!n.position&&(n.position=d.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=d.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=d.createBuffer()),e.hasColors&&!n.color&&(n.color=d.createBuffer());var r=t.getAttributes();e.hasPositions&&(d.bindBuffer(34962,n.position),d.bufferData(34962,e.positionArray,35048),g.enableAttribute(r.position),d.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(d.bindBuffer(34962,n.normal),d.bufferData(34962,e.normalArray,35048),g.enableAttribute(r.normal),d.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(d.bindBuffer(34962,n.uv),d.bufferData(34962,e.uvArray,35048),g.enableAttribute(r.uv),d.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(d.bindBuffer(34962,n.color),d.bufferData(34962,e.colorArray,35048),g.enableAttribute(r.color),d.vertexAttribPointer(r.color,3,5126,!1,0,0)),g.disableUnusedAttributes(),d.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,a){var o=i.isMesh&&i.normalMatrix.determinant()<0;g.setMaterial(r,o);var s=De(e,t,r,i),u=!1;V.geometry===n.id&&V.program===s.id&&V.wireframe===(!0===r.wireframe)||(V.geometry=n.id,V.program=s.id,V.wireframe=!0===r.wireframe,u=!0),i.morphTargetInfluences&&(M.update(i,n,r,s),u=!0);var l,c=n.index,f=n.attributes.position,h=1;!0===r.wireframe&&(c=S.getWireframeAttribute(n),h=2);var v=D;null!==c&&(l=w.get(c),(v=R).setIndex(l)),u&&(!function(e,t,n){if(n&&n.isInstancedBufferGeometry&!m.isWebGL2&&null===p.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");g.initAttributes();var r=n.attributes,i=t.getAttributes(),a=e.defaultAttributeValues;for(var o in i){var s=i[o];if(s>=0){var u=r[o];if(void 0!==u){var l=u.normalized,c=u.itemSize,f=w.get(u);if(void 0===f)continue;var h=f.buffer,v=f.type,y=f.bytesPerElement;if(u.isInterleavedBufferAttribute){var b=u.data,S=b.stride,x=u.offset;b&&b.isInstancedInterleavedBuffer?(g.enableAttributeAndDivisor(s,b.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=b.meshPerAttribute*b.count)):g.enableAttribute(s),d.bindBuffer(34962,h),d.vertexAttribPointer(s,c,v,l,S*y,x*y)}else u.isInstancedBufferAttribute?(g.enableAttributeAndDivisor(s,u.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=u.meshPerAttribute*u.count)):g.enableAttribute(s),d.bindBuffer(34962,h),d.vertexAttribPointer(s,c,v,l,0,0)}else if(void 0!==a){var _=a[o];if(void 0!==_)switch(_.length){case 2:d.vertexAttrib2fv(s,_);break;case 3:d.vertexAttrib3fv(s,_);break;case 4:d.vertexAttrib4fv(s,_);break;default:d.vertexAttrib1fv(s,_)}}}}g.disableUnusedAttributes()}(r,s,n),null!==c&&d.bindBuffer(34963,l.buffer));var y=1/0;null!==c?y=c.count:void 0!==f&&(y=f.count);var b=n.drawRange.start*h,x=n.drawRange.count*h,_=null!==a?a.start*h:0,T=null!==a?a.count*h:1/0,E=Math.max(b,_),k=Math.min(y,b+x,_+T)-1,C=Math.max(0,k-E+1);if(0!==C){if(i.isMesh)if(!0===r.wireframe)g.setLineWidth(r.wireframeLinewidth*ve()),v.setMode(1);else switch(i.drawMode){case 0:v.setMode(4);break;case 1:v.setMode(5);break;case 2:v.setMode(6)}else if(i.isLine){var A=r.linewidth;void 0===A&&(A=1),g.setLineWidth(A*ve()),i.isLineSegments?v.setMode(1):i.isLineLoop?v.setMode(2):v.setMode(3)}else i.isPoints?v.setMode(0):i.isSprite&&v.setMode(4);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&v.renderInstances(n,E,C):v.render(E,C)}},this.compile=function(e,t){(h=A.get(e,t)).init(),e.traverse((function(e){e.isLight&&(h.pushLight(e),e.castShadow&&h.pushShadow(e))})),h.setupLights(t),e.traverse((function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)Me(t.material[n],e.fog,t);else Me(t.material,e.fog,t)}))};var ke=null;var Ce=new he;function Ae(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLight)h.pushLight(e),e.castShadow&&h.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||se.intersectsSprite(e)){r&&ge.setFromMatrixPosition(e.matrixWorld).applyMatrix4(me);var i=x.update(e),a=e.material;f.push(e,i,a,n,ge.z,null)}}else if(e.isImmediateRenderObject)r&&ge.setFromMatrixPosition(e.matrixWorld).applyMatrix4(me),f.push(e,null,e.material,n,ge.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||se.intersectsObject(e))){r&&ge.setFromMatrixPosition(e.matrixWorld).applyMatrix4(me);i=x.update(e),a=e.material;if(Array.isArray(a))for(var o=i.groups,s=0,u=o.length;s<u;s++){var l=o[s],c=a[l.materialIndex];c&&c.visible&&f.push(e,i,c,n,ge.z,l)}else a.visible&&f.push(e,i,a,n,ge.z,null)}var d=e.children;for(s=0,u=d.length;s<u;s++)Ae(d[s],t,n,r)}}function Oe(e,t,n,r){for(var i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,u=o.geometry,l=void 0===r?o.material:r,c=o.group;if(n.isArrayCamera){q=n;for(var f=n.cameras,d=0,p=f.length;d<p;d++){var m=f[d];if(s.layers.test(m.layers)){if("viewport"in m)g.viewport(Q.copy(m.viewport));else{var v=m.bounds,y=v.x*J,b=v.y*$,w=v.z*J,S=v.w*$;g.viewport(Q.set(y,b,w,S).multiplyScalar(te))}h.setupLights(m),Ie(s,t,m,u,l,c)}}}else q=null,Ie(s,t,n,u,l,c)}}function Ie(e,t,n,r,i,a){if(e.onBeforeRender(N,t,n,r,i,a),h=A.get(t,q||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){g.setMaterial(i);var o=De(n,t.fog,i,e);V.geometry=null,V.program=null,V.wireframe=!1,function(e,t){e.render((function(e){N.renderBufferImmediate(e,t)}))}(e,o)}else N.renderBufferDirect(n,t.fog,r,i,e,a);e.onAfterRender(N,t,n,r,i,a),h=A.get(t,q||n)}function Me(e,t,n){var r=y.get(e),i=h.state.lights,a=h.state.shadowsArray,o=r.lightsHash,s=i.state.hash,u=T.getParameters(e,i.state,a,t,ue.numPlanes,ue.numIntersection,n),l=T.getProgramCode(e,u),c=r.program,f=!0;if(void 0===c)e.addEventListener("dispose",Te);else if(c.code!==l)Ee(e);else if(o.stateID!==s.stateID||o.directionalLength!==s.directionalLength||o.pointLength!==s.pointLength||o.spotLength!==s.spotLength||o.rectAreaLength!==s.rectAreaLength||o.hemiLength!==s.hemiLength||o.shadowsLength!==s.shadowsLength)o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,f=!1;else{if(void 0!==u.shaderID)return;f=!1}if(f){if(u.shaderID){var d=fe[u.shaderID];r.shader={name:e.type,uniforms:oe(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader,N),l=T.getProgramCode(e,u),c=T.acquireProgram(e,r.shader,u,l),r.program=c,e.program=c}var p=c.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var m=0;m<N.maxMorphTargets;m++)p["morphTarget"+m]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(m=0;m<N.maxMorphNormals;m++)p["morphNormal"+m]>=0&&e.numSupportedMorphNormals++}var g=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=ue.numPlanes,r.numIntersection=ue.numIntersection,g.clippingPlanes=ue.uniform),r.fog=t,void 0===o&&(r.lightsHash=o={}),o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,e.lights&&(g.ambientLightColor.value=i.state.ambient,g.directionalLights.value=i.state.directional,g.spotLights.value=i.state.spot,g.rectAreaLights.value=i.state.rectArea,g.pointLights.value=i.state.point,g.hemisphereLights.value=i.state.hemi,g.directionalShadowMap.value=i.state.directionalShadowMap,g.directionalShadowMatrix.value=i.state.directionalShadowMatrix,g.spotShadowMap.value=i.state.spotShadowMap,g.spotShadowMatrix.value=i.state.spotShadowMatrix,g.pointShadowMap.value=i.state.pointShadowMap,g.pointShadowMatrix.value=i.state.pointShadowMatrix);var v=r.program.getUniforms(),b=Xt.seqWithValue(v.seq,g);r.uniformsList=b}function De(e,t,n,r){Z=0;var i=y.get(n),a=h.state.lights,s=i.lightsHash,u=a.state.hash;if(le&&(pe||e!==W)){var l=e===W&&n.id===U;ue.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,l)}!1===n.needsUpdate&&(void 0===i.program||n.fog&&i.fog!==t?n.needsUpdate=!0:(!n.lights||s.stateID===u.stateID&&s.directionalLength===u.directionalLength&&s.pointLength===u.pointLength&&s.spotLength===u.spotLength&&s.rectAreaLength===u.rectAreaLength&&s.hemiLength===u.hemiLength&&s.shadowsLength===u.shadowsLength)&&(void 0===i.numClippingPlanes||i.numClippingPlanes===ue.numPlanes&&i.numIntersection===ue.numIntersection)||(n.needsUpdate=!0)),n.needsUpdate&&(Me(n,t,r),n.needsUpdate=!1);var c,f,p=!1,v=!1,b=!1,w=i.program,S=w.getUniforms(),x=i.shader.uniforms;if(g.useProgram(w.program)&&(p=!0,v=!0,b=!0),n.id!==U&&(U=n.id,v=!0),p||W!==e){if(S.setValue(d,"projectionMatrix",e.projectionMatrix),m.logarithmicDepthBuffer&&S.setValue(d,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),W!==e&&(W=e,v=!0,b=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var _=S.map.cameraPosition;void 0!==_&&_.setValue(d,ge.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&S.setValue(d,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){S.setOptional(d,r,"bindMatrix"),S.setOptional(d,r,"bindMatrixInverse");var T=r.skeleton;if(T){var k=T.bones;if(m.floatVertexTextures){if(void 0===T.boneTexture){var C=Math.sqrt(4*k.length);C=j.ceilPowerOfTwo(C),C=Math.max(C,4);var A=new Float32Array(C*C*4);A.set(T.boneMatrices);var O=new ee(A,C,C,I,E);O.needsUpdate=!0,T.boneMatrices=A,T.boneTexture=O,T.boneTextureSize=C}S.setValue(d,"boneTexture",T.boneTexture),S.setValue(d,"boneTextureSize",T.boneTextureSize)}else S.setOptional(d,T,"boneMatrices")}}return v&&(S.setValue(d,"toneMappingExposure",N.toneMappingExposure),S.setValue(d,"toneMappingWhitePoint",N.toneMappingWhitePoint),n.lights&&(f=b,(c=x).ambientLightColor.needsUpdate=f,c.directionalLights.needsUpdate=f,c.pointLights.needsUpdate=f,c.spotLights.needsUpdate=f,c.rectAreaLights.needsUpdate=f,c.hemisphereLights.needsUpdate=f),t&&n.fog&&function(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(x,t),n.isMeshBasicMaterial?Re(x,n):n.isMeshLambertMaterial?(Re(x,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(x,n)):n.isMeshPhongMaterial?(Re(x,n),n.isMeshToonMaterial?function(e,t){Pe(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(x,n):Pe(x,n)):n.isMeshStandardMaterial?(Re(x,n),n.isMeshPhysicalMaterial?function(e,t){Ne(e,t),e.reflectivity.value=t.reflectivity,e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness}(x,n):Ne(x,n)):n.isMeshMatcapMaterial?(Re(x,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===o&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===o&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(x,n)):n.isMeshDepthMaterial?(Re(x,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(x,n)):n.isMeshDistanceMaterial?(Re(x,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(x,n)):n.isMeshNormalMaterial?(Re(x,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===o&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===o&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(x,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}(x,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(x,n)):n.isPointsMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*te,e.scale.value=.5*$,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(x,n):n.isSpriteMaterial?function(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(x,n):n.isShadowMaterial&&(x.color.value=n.color,x.opacity.value=n.opacity),void 0!==x.ltc_1&&(x.ltc_1.value=ce.LTC_1),void 0!==x.ltc_2&&(x.ltc_2.value=ce.LTC_2),Xt.upload(d,i.uniformsList,x,N)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Xt.upload(d,i.uniformsList,x,N),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&S.setValue(d,"center",r.center),S.setValue(d,"modelViewMatrix",r.modelViewMatrix),S.setValue(d,"normalMatrix",r.normalMatrix),S.setValue(d,"modelMatrix",r.matrixWorld),w}function Re(e,t){var n;e.opacity.value=t.opacity,t.color&&(e.diffuse.value=t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=y.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function Pe(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===o&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===o&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function Ne(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===o&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===o&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}Ce.setAnimationLoop((function(e){we.isPresenting()||ke&&ke(e)})),"undefined"!==typeof window&&Ce.setContext(window),this.setAnimationLoop=function(e){ke=e,we.setAnimationLoop(e),Ce.start()},this.render=function(e,t,n,r){if(t&&t.isCamera){if(!L){V.geometry=null,V.program=null,V.wireframe=!1,U=-1,W=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),we.enabled&&(t=we.getCamera(t)),(h=A.get(e,t)).init(),e.onBeforeRender(N,e,t,n),me.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),se.setFromMatrix(me),pe=this.localClippingEnabled,le=ue.init(this.clippingPlanes,pe,t),(f=C.get(e,t)).init(),Ae(e,t,0,N.sortObjects),!0===N.sortObjects&&f.sort(),le&&ue.beginShadows();var i=h.state.shadowsArray;Se.render(i,e,t),h.setupLights(t),le&&ue.endShadows(),this.info.autoReset&&this.info.reset(),void 0===n&&(n=null),this.setRenderTarget(n),O.render(f,e,t,r);var a=f.opaque,o=f.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;a.length&&Oe(a,e,t,s),o.length&&Oe(o,e,t,s)}else a.length&&Oe(a,e,t),o.length&&Oe(o,e,t);n&&(b.updateRenderTargetMipmap(n),b.updateMultisampleRenderTarget(n)),g.buffers.depth.setTest(!0),g.buffers.depth.setMask(!0),g.buffers.color.setMask(!0),g.setPolygonOffset(!1),e.onAfterRender(N,e,t),we.enabled&&we.submitFrame(),f=null,h=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var e=Z;return e>=m.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+e+" texture units while this GPU supports only "+m.maxTextures),Z+=1,e},this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),b.setTexture2D(t,n)}}(),this.setTexture3D=function(e,t){b.setTexture3D(e,t)},this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),b.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?b.setTextureCube(t,n):b.setTextureCubeDynamic(t,n)}}(),this.setFramebuffer=function(e){F=e},this.getRenderTarget=function(){return B},this.setRenderTarget=function(e){B=e,e&&void 0===y.get(e).__webglFramebuffer&&b.setupRenderTarget(e);var t=F,n=!1;if(e){var r=y.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(t=r[e.activeCubeFace],n=!0):t=e.isWebGLMultisampleRenderTarget?y.get(e).__webglMultisampledFramebuffer:r,Q.copy(e.viewport),X.copy(e.scissor),Y=e.scissorTest}else Q.copy(ne).multiplyScalar(te),X.copy(re).multiplyScalar(te),Y=ae;if(z!==t&&(d.bindFramebuffer(36160,t),z=t),g.viewport(Q),g.scissor(X),g.setScissorTest(Y),n){var i=y.get(e.texture);d.framebufferTexture2D(36160,36064,34069+e.activeCubeFace,i.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,r,i,a){if(e&&e.isWebGLRenderTarget){var o=y.get(e).__webglFramebuffer;if(o){var s=!1;o!==z&&(d.bindFramebuffer(36160,o),s=!0);try{var u=e.texture,l=u.format,c=u.type;if(l!==I&&P.convert(l)!==d.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(c!==_&&P.convert(c)!==d.getParameter(35738)&&(c!==E||!(m.isWebGL2||p.get("OES_texture_float")||p.get("WEBGL_color_buffer_float")))&&(c!==k||!(m.isWebGL2?p.get("EXT_color_buffer_float"):p.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===d.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&d.readPixels(t,n,r,i,P.convert(l),P.convert(c),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&d.bindFramebuffer(36160,z)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var r=t.image.width,i=t.image.height,a=P.convert(t.format);this.setTexture2D(t,0),d.copyTexImage2D(3553,n||0,a,e.x,e.y,r,i,0)},this.copyTextureToTexture=function(e,t,n,r){var i=t.image.width,a=t.image.height,o=P.convert(n.format),s=P.convert(n.type);this.setTexture2D(n,0),t.isDataTexture?d.texSubImage2D(3553,r||0,e.x,e.y,i,a,o,s,t.image.data):d.texSubImage2D(3553,r||0,e.x,e.y,o,s,t.image)}}function Ln(e,t){this.name="",this.color=new le(e),this.density=void 0!==t?t:25e-5}function Fn(e,t,n){this.name="",this.color=new le(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function Bn(){ye.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function zn(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Un(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function jn(e){Ue.call(this),this.type="SpriteMaterial",this.color=new le(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(e)}function Vn(e){if(ye.call(this),this.type="Sprite",void 0===On){On=new Pe;var t=new zn(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);On.setIndex([0,1,2,0,2,3]),On.addAttribute("position",new Un(t,3,0,!1)),On.addAttribute("uv",new Un(t,2,3,!1))}this.geometry=On,this.material=void 0!==e?e:new jn,this.center=new V(.5,.5)}function Gn(){ye.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Wn(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),He.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new G,this.bindMatrixInverse=new G}function Hn(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new G)}}function qn(){ye.call(this),this.type="Bone"}function Qn(e){Ue.call(this),this.type="LineBasicMaterial",this.color=new le(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function Xn(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),ye.call(this),this.type="Line",this.geometry=void 0!==e?e:new Pe,this.material=void 0!==t?t:new Qn({color:16777215*Math.random()})}function Yn(e,t){Xn.call(this,e,t),this.type="LineSegments"}function Kn(e,t){Xn.call(this,e,t),this.type="LineLoop"}function Zn(e){Ue.call(this),this.type="PointsMaterial",this.color=new le(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Jn(e,t){ye.call(this),this.type="Points",this.geometry=void 0!==e?e:new Pe,this.material=void 0!==t?t:new Zn({color:16777215*Math.random()})}function $n(e,t,n,r,i,a,o,s,u){Y.call(this,e,t,n,r,i,a,o,s,u),this.format=void 0!==o?o:O,this.minFilter=void 0!==a?a:S,this.magFilter=void 0!==i?i:S,this.generateMipmaps=!1}function er(e,t,n,r,i,a,o,s,u,l,c,f){Y.call(this,null,a,o,s,u,l,r,i,c,f),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function tr(e,t,n,r,i,a,o,s,u){Y.call(this,e,t,n,r,i,a,o,s,u),this.needsUpdate=!0}function nr(e,t,n,r,i,a,o,s,u,l){if((l=void 0!==l?l:M)!==M&&l!==D)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===M&&(n=T),void 0===n&&l===D&&(n=C),Y.call(this,null,r,i,a,o,s,l,n,u),this.image={width:e,height:t},this.magFilter=void 0!==o?o:y,this.minFilter=void 0!==s?s:y,this.flipY=!1,this.generateMipmaps=!1}function rr(e){Pe.call(this),this.type="WireframeGeometry";var t,n,r,i,a,o,s,u,l,c,f=[],h=[0,0],d={},p=["a","b","c"];if(e&&e.isGeometry){var m=e.faces;for(t=0,r=m.length;t<r;t++){var g=m[t];for(n=0;n<3;n++)s=g[p[n]],u=g[p[(n+1)%3]],h[0]=Math.min(s,u),h[1]=Math.max(s,u),void 0===d[l=h[0]+","+h[1]]&&(d[l]={index1:h[0],index2:h[1]})}for(l in d)o=d[l],c=e.vertices[o.index1],f.push(c.x,c.y,c.z),c=e.vertices[o.index2],f.push(c.x,c.y,c.z)}else if(e&&e.isBufferGeometry){var v,y,b,w,S,x,_;if(c=new H,null!==e.index){for(v=e.attributes.position,y=e.index,0===(b=e.groups).length&&(b=[{start:0,count:y.count,materialIndex:0}]),i=0,a=b.length;i<a;++i)for(t=S=(w=b[i]).start,r=S+w.count;t<r;t+=3)for(n=0;n<3;n++)s=y.getX(t+n),u=y.getX(t+(n+1)%3),h[0]=Math.min(s,u),h[1]=Math.max(s,u),void 0===d[l=h[0]+","+h[1]]&&(d[l]={index1:h[0],index2:h[1]});for(l in d)o=d[l],c.fromBufferAttribute(v,o.index1),f.push(c.x,c.y,c.z),c.fromBufferAttribute(v,o.index2),f.push(c.x,c.y,c.z)}else for(t=0,r=(v=e.attributes.position).count/3;t<r;t++)for(n=0;n<3;n++)x=3*t+n,c.fromBufferAttribute(v,x),f.push(c.x,c.y,c.z),_=3*t+(n+1)%3,c.fromBufferAttribute(v,_),f.push(c.x,c.y,c.z)}this.addAttribute("position",new Oe(f,3))}function ir(e,t,n){we.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new ar(e,t,n)),this.mergeVertices()}function ar(e,t,n){Pe.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,a=[],o=[],s=[],u=[],l=1e-5,c=new H,f=new H,h=new H,d=new H,p=new H;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var m=t+1;for(r=0;r<=n;r++){var g=r/n;for(i=0;i<=t;i++){var v=i/t;e(v,g,f),o.push(f.x,f.y,f.z),v-l>=0?(e(v-l,g,h),d.subVectors(f,h)):(e(v+l,g,h),d.subVectors(h,f)),g-l>=0?(e(v,g-l,h),p.subVectors(f,h)):(e(v,g+l,h),p.subVectors(h,f)),c.crossVectors(d,p).normalize(),s.push(c.x,c.y,c.z),u.push(v,g)}}for(r=0;r<n;r++)for(i=0;i<t;i++){var y=r*m+i,b=r*m+i+1,w=(r+1)*m+i+1,S=(r+1)*m+i;a.push(y,b,S),a.push(b,w,S)}this.setIndex(a),this.addAttribute("position",new Oe(o,3)),this.addAttribute("normal",new Oe(s,3)),this.addAttribute("uv",new Oe(u,2))}function or(e,t,n,r){we.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new sr(e,t,n,r)),this.mergeVertices()}function sr(e,t,n,r){Pe.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1;var i=[],a=[];function o(e,t,n,r){var i,a,o=Math.pow(2,r),u=[];for(i=0;i<=o;i++){u[i]=[];var l=e.clone().lerp(n,i/o),c=t.clone().lerp(n,i/o),f=o-i;for(a=0;a<=f;a++)u[i][a]=0===a&&i===o?l:l.clone().lerp(c,a/f)}for(i=0;i<o;i++)for(a=0;a<2*(o-i)-1;a++){var h=Math.floor(a/2);a%2===0?(s(u[i][h+1]),s(u[i+1][h]),s(u[i][h])):(s(u[i][h+1]),s(u[i+1][h+1]),s(u[i+1][h]))}}function s(e){i.push(e.x,e.y,e.z)}function u(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function l(e,t,n,r){r<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=r/2/Math.PI+.5)}function c(e){return Math.atan2(e.z,-e.x)}!function(e){for(var n=new H,r=new H,i=new H,a=0;a<t.length;a+=3)u(t[a+0],n),u(t[a+1],r),u(t[a+2],i),o(n,r,i,e)}(r=r||0),function(e){for(var t=new H,n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){for(var e=new H,t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];var n=c(e)/2/Math.PI+.5,r=(o=e,Math.atan2(-o.y,Math.sqrt(o.x*o.x+o.z*o.z))/Math.PI+.5);a.push(n,1-r)}var o;(function(){for(var e=new H,t=new H,n=new H,r=new H,o=new V,s=new V,u=new V,f=0,h=0;f<i.length;f+=9,h+=6){e.set(i[f+0],i[f+1],i[f+2]),t.set(i[f+3],i[f+4],i[f+5]),n.set(i[f+6],i[f+7],i[f+8]),o.set(a[h+0],a[h+1]),s.set(a[h+2],a[h+3]),u.set(a[h+4],a[h+5]),r.copy(e).add(t).add(n).divideScalar(3);var d=c(r);l(o,h+0,e,d),l(s,h+2,t,d),l(u,h+4,n,d)}})(),function(){for(var e=0;e<a.length;e+=6){var t=a[e+0],n=a[e+2],r=a[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}()}(),this.addAttribute("position",new Oe(i,3)),this.addAttribute("normal",new Oe(i.slice(),3)),this.addAttribute("uv",new Oe(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function ur(e,t){we.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new lr(e,t)),this.mergeVertices()}function lr(e,t){sr.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function cr(e,t){we.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new fr(e,t)),this.mergeVertices()}function fr(e,t){sr.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function hr(e,t){we.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new dr(e,t)),this.mergeVertices()}function dr(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];sr.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function pr(e,t){we.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new mr(e,t)),this.mergeVertices()}function mr(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];sr.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function gr(e,t,n,r,i,a){we.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new vr(e,t,n,r,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function vr(e,t,n,r,i){Pe.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;var a=e.computeFrenetFrames(t,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,u=new H,l=new H,c=new V,f=new H,h=[],d=[],p=[],m=[];function g(i){f=e.getPointAt(i/t,f);var o=a.normals[i],c=a.binormals[i];for(s=0;s<=r;s++){var p=s/r*Math.PI*2,m=Math.sin(p),g=-Math.cos(p);l.x=g*o.x+m*c.x,l.y=g*o.y+m*c.y,l.z=g*o.z+m*c.z,l.normalize(),d.push(l.x,l.y,l.z),u.x=f.x+n*l.x,u.y=f.y+n*l.y,u.z=f.z+n*l.z,h.push(u.x,u.y,u.z)}}!function(){for(o=0;o<t;o++)g(o);g(!1===i?t:0),function(){for(o=0;o<=t;o++)for(s=0;s<=r;s++)c.x=o/t,c.y=s/r,p.push(c.x,c.y)}(),function(){for(s=1;s<=t;s++)for(o=1;o<=r;o++){var e=(r+1)*(s-1)+(o-1),n=(r+1)*s+(o-1),i=(r+1)*s+o,a=(r+1)*(s-1)+o;m.push(e,n,a),m.push(n,i,a)}}()}(),this.setIndex(m),this.addAttribute("position",new Oe(h,3)),this.addAttribute("normal",new Oe(d,3)),this.addAttribute("uv",new Oe(p,2))}function yr(e,t,n,r,i,a,o){we.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new br(e,t,n,r,i,a)),this.mergeVertices()}function br(e,t,n,r,i,a){Pe.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,a=a||3;var o,s,u=[],l=[],c=[],f=[],h=new H,d=new H,p=new H,m=new H,g=new H,v=new H,y=new H;for(o=0;o<=n;++o){var b=o/n*i*Math.PI*2;for(C(b,i,a,e,p),C(b+.01,i,a,e,m),v.subVectors(m,p),y.addVectors(m,p),g.crossVectors(v,y),y.crossVectors(g,v),g.normalize(),y.normalize(),s=0;s<=r;++s){var w=s/r*Math.PI*2,S=-t*Math.cos(w),x=t*Math.sin(w);h.x=p.x+(S*y.x+x*g.x),h.y=p.y+(S*y.y+x*g.y),h.z=p.z+(S*y.z+x*g.z),l.push(h.x,h.y,h.z),d.subVectors(h,p).normalize(),c.push(d.x,d.y,d.z),f.push(o/n),f.push(s/r)}}for(s=1;s<=n;s++)for(o=1;o<=r;o++){var _=(r+1)*(s-1)+(o-1),T=(r+1)*s+(o-1),E=(r+1)*s+o,k=(r+1)*(s-1)+o;u.push(_,T,k),u.push(T,E,k)}function C(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,u=Math.cos(s);i.x=r*(2+u)*.5*a,i.y=r*(2+u)*o*.5,i.z=r*Math.sin(s)*.5}this.setIndex(u),this.addAttribute("position",new Oe(l,3)),this.addAttribute("normal",new Oe(c,3)),this.addAttribute("uv",new Oe(f,2))}function wr(e,t,n,r,i){we.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Sr(e,t,n,r,i)),this.mergeVertices()}function Sr(e,t,n,r,i){Pe.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var a,o,s=[],u=[],l=[],c=[],f=new H,h=new H,d=new H;for(a=0;a<=n;a++)for(o=0;o<=r;o++){var p=o/r*i,m=a/n*Math.PI*2;h.x=(e+t*Math.cos(m))*Math.cos(p),h.y=(e+t*Math.cos(m))*Math.sin(p),h.z=t*Math.sin(m),u.push(h.x,h.y,h.z),f.x=e*Math.cos(p),f.y=e*Math.sin(p),d.subVectors(h,f).normalize(),l.push(d.x,d.y,d.z),c.push(o/r),c.push(a/n)}for(a=1;a<=n;a++)for(o=1;o<=r;o++){var g=(r+1)*a+o-1,v=(r+1)*(a-1)+o-1,y=(r+1)*(a-1)+o,b=(r+1)*a+o;s.push(g,v,b),s.push(v,y,b)}this.setIndex(s),this.addAttribute("position",new Oe(u,3)),this.addAttribute("normal",new Oe(l,3)),this.addAttribute("uv",new Oe(c,2))}Ln.prototype.isFogExp2=!0,Ln.prototype.clone=function(){return new Ln(this.color,this.density)},Ln.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Fn.prototype.isFog=!0,Fn.prototype.clone=function(){return new Fn(this.color,this.near,this.far)},Fn.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Bn.prototype=Object.assign(Object.create(ye.prototype),{constructor:Bn,isScene:!0,copy:function(e,t){return ye.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=ye.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(zn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(zn.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==e?e.length/this.stride:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(Un.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Un.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),jn.prototype=Object.create(Ue.prototype),jn.prototype.constructor=jn,jn.prototype.isSpriteMaterial=!0,jn.prototype.copy=function(e){return Ue.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this},Vn.prototype=Object.assign(Object.create(ye.prototype),{constructor:Vn,isSprite:!0,raycast:function(){var e=new H,t=new H,n=new H,r=new V,i=new V,a=new G,o=new H,s=new H,u=new H,l=new V,c=new V,f=new V;function h(e,t,n,o,s,u){r.subVectors(e,n).addScalar(.5).multiply(o),void 0!==s?(i.x=u*r.x-s*r.y,i.y=s*r.x+u*r.y):i.copy(r),e.copy(t),e.x+=i.x,e.y+=i.y,e.applyMatrix4(a)}return function(r,i){t.setFromMatrixScale(this.matrixWorld),a.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),n.setFromMatrixPosition(this.modelViewMatrix);var d,p,m=this.material.rotation;0!==m&&(p=Math.cos(m),d=Math.sin(m));var g=this.center;h(o.set(-.5,-.5,0),n,g,t,d,p),h(s.set(.5,-.5,0),n,g,t,d,p),h(u.set(.5,.5,0),n,g,t,d,p),l.set(0,0),c.set(1,0),f.set(1,1);var v=r.ray.intersectTriangle(o,s,u,!1,e);if(null!==v||(h(s.set(-.5,.5,0),n,g,t,d,p),c.set(0,1),null!==(v=r.ray.intersectTriangle(o,u,s,!1,e)))){var y=r.ray.origin.distanceTo(e);y<r.near||y>r.far||i.push({distance:y,point:e.clone(),uv:Ge.getUV(e,o,s,u,l,c,f,new V),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return ye.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}}),Gn.prototype=Object.assign(Object.create(ye.prototype),{constructor:Gn,copy:function(e){ye.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new H;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,n)}}(),update:function(){var e=new H,t=new H;return function(n){var r=this.levels;if(r.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var i=e.distanceTo(t);r[0].object.visible=!0;for(var a=1,o=r.length;a<o&&i>=r[a].distance;a++)r[a-1].object.visible=!1,r[a].object.visible=!0;for(;a<o;a++)r[a].object.visible=!1}}}(),toJSON:function(e){var t=ye.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}),Wn.prototype=Object.assign(Object.create(He.prototype),{constructor:Wn,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new K,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){He.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Object.assign(Hn.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new G;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new G,t=new G;return function(){for(var n=this.bones,r=this.boneInverses,i=this.boneMatrices,a=this.boneTexture,o=0,s=n.length;o<s;o++){var u=n[o]?n[o].matrixWorld:t;e.multiplyMatrices(u,r[o]),e.toArray(i,16*o)}void 0!==a&&(a.needsUpdate=!0)}}(),clone:function(){return new Hn(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}}),qn.prototype=Object.assign(Object.create(ye.prototype),{constructor:qn,isBone:!0}),Qn.prototype=Object.create(Ue.prototype),Qn.prototype.constructor=Qn,Qn.prototype.isLineBasicMaterial=!0,Qn.prototype.copy=function(e){return Ue.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},Xn.prototype=Object.assign(Object.create(ye.prototype),{constructor:Xn,isLine:!0,computeLineDistances:function(){var e=new H,t=new H;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[0],a=1,o=r.count;a<o;a++)e.fromBufferAttribute(r,a-1),t.fromBufferAttribute(r,a),i[a]=i[a-1],i[a]+=e.distanceTo(t);n.addAttribute("lineDistance",new Oe(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;(i=n.lineDistances)[0]=0;for(a=1,o=s.length;a<o;a++)i[a]=i[a-1],i[a]+=s[a-1].distanceTo(s[a])}return this}}(),raycast:function(){var e=new G,t=new Ve,n=new ne;return function(r,i){var a=r.linePrecision,o=this.geometry,s=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(s),n.radius+=a,!1!==r.ray.intersectsSphere(n)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var u=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=u*u,c=new H,f=new H,h=new H,d=new H,p=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var m=o.index,g=o.attributes.position.array;if(null!==m)for(var v=m.array,y=0,b=v.length-1;y<b;y+=p){var w=v[y],S=v[y+1];if(c.fromArray(g,3*w),f.fromArray(g,3*S),!(t.distanceSqToSegment(c,f,d,h)>l))d.applyMatrix4(this.matrixWorld),(T=r.ray.origin.distanceTo(d))<r.near||T>r.far||i.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}else for(y=0,b=g.length/3-1;y<b;y+=p){if(c.fromArray(g,3*y),f.fromArray(g,3*y+3),!(t.distanceSqToSegment(c,f,d,h)>l))d.applyMatrix4(this.matrixWorld),(T=r.ray.origin.distanceTo(d))<r.near||T>r.far||i.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else if(o.isGeometry){var x=o.vertices,_=x.length;for(y=0;y<_-1;y+=p){var T;if(!(t.distanceSqToSegment(x[y],x[y+1],d,h)>l))d.applyMatrix4(this.matrixWorld),(T=r.ray.origin.distanceTo(d))<r.near||T>r.far||i.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}}}(),copy:function(e){return ye.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),Yn.prototype=Object.assign(Object.create(Xn.prototype),{constructor:Yn,isLineSegments:!0,computeLineDistances:function(){var e=new H,t=new H;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[],a=0,o=r.count;a<o;a+=2)e.fromBufferAttribute(r,a),t.fromBufferAttribute(r,a+1),i[a]=0===a?0:i[a-1],i[a+1]=i[a]+e.distanceTo(t);n.addAttribute("lineDistance",new Oe(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices;for(i=n.lineDistances,a=0,o=s.length;a<o;a+=2)e.copy(s[a]),t.copy(s[a+1]),i[a]=0===a?0:i[a-1],i[a+1]=i[a]+e.distanceTo(t)}return this}}()}),Kn.prototype=Object.assign(Object.create(Xn.prototype),{constructor:Kn,isLineLoop:!0}),Zn.prototype=Object.create(Ue.prototype),Zn.prototype.constructor=Zn,Zn.prototype.isPointsMaterial=!0,Zn.prototype.copy=function(e){return Ue.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this},Jn.prototype=Object.assign(Object.create(ye.prototype),{constructor:Jn,isPoints:!0,raycast:function(){var e=new G,t=new Ve,n=new ne;return function(r,i){var a=this,o=this.geometry,s=this.matrixWorld,u=r.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(s),n.radius+=u,!1!==r.ray.intersectsSphere(n)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var l=u/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,f=new H,h=new H;if(o.isBufferGeometry){var d=o.index,p=o.attributes.position.array;if(null!==d)for(var m=d.array,g=0,v=m.length;g<v;g++){var y=m[g];f.fromArray(p,3*y),S(f,y)}else{g=0;for(var b=p.length/3;g<b;g++)f.fromArray(p,3*g),S(f,g)}}else{var w=o.vertices;for(g=0,b=w.length;g<b;g++)S(w[g],g)}}function S(e,n){var o=t.distanceSqToPoint(e);if(o<c){t.closestPointToPoint(e,h),h.applyMatrix4(s);var u=r.ray.origin.distanceTo(h);if(u<r.near||u>r.far)return;i.push({distance:u,distanceToRay:Math.sqrt(o),point:h.clone(),index:n,face:null,object:a})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),$n.prototype=Object.assign(Object.create(Y.prototype),{constructor:$n,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),er.prototype=Object.create(Y.prototype),er.prototype.constructor=er,er.prototype.isCompressedTexture=!0,tr.prototype=Object.create(Y.prototype),tr.prototype.constructor=tr,tr.prototype.isCanvasTexture=!0,nr.prototype=Object.create(Y.prototype),nr.prototype.constructor=nr,nr.prototype.isDepthTexture=!0,rr.prototype=Object.create(Pe.prototype),rr.prototype.constructor=rr,ir.prototype=Object.create(we.prototype),ir.prototype.constructor=ir,ar.prototype=Object.create(Pe.prototype),ar.prototype.constructor=ar,or.prototype=Object.create(we.prototype),or.prototype.constructor=or,sr.prototype=Object.create(Pe.prototype),sr.prototype.constructor=sr,ur.prototype=Object.create(we.prototype),ur.prototype.constructor=ur,lr.prototype=Object.create(sr.prototype),lr.prototype.constructor=lr,cr.prototype=Object.create(we.prototype),cr.prototype.constructor=cr,fr.prototype=Object.create(sr.prototype),fr.prototype.constructor=fr,hr.prototype=Object.create(we.prototype),hr.prototype.constructor=hr,dr.prototype=Object.create(sr.prototype),dr.prototype.constructor=dr,pr.prototype=Object.create(we.prototype),pr.prototype.constructor=pr,mr.prototype=Object.create(sr.prototype),mr.prototype.constructor=mr,gr.prototype=Object.create(we.prototype),gr.prototype.constructor=gr,vr.prototype=Object.create(Pe.prototype),vr.prototype.constructor=vr,yr.prototype=Object.create(we.prototype),yr.prototype.constructor=yr,br.prototype=Object.create(Pe.prototype),br.prototype.constructor=br,wr.prototype=Object.create(we.prototype),wr.prototype.constructor=wr,Sr.prototype=Object.create(Pe.prototype),Sr.prototype.constructor=Sr;var xr=function(e,t,n){n=n||2;var r,i,a,o,s,u,l,c=t&&t.length,f=c?t[0]*n:e.length,h=_r(e,0,f,n,!0),d=[];if(!h)return d;if(c&&(h=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=_r(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(Rr(o));for(s.sort(Ir),i=0;i<s.length;i++)Mr(s[i],n),n=Tr(n,n.next);return n}(e,t,h,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var p=n;p<f;p+=n)(s=e[p])<r&&(r=s),(u=e[p+1])<i&&(i=u),s>a&&(a=s),u>o&&(o=u);l=0!==(l=Math.max(a-r,o-i))?1/l:0}return Er(h,d,n,r,i,l),d};function _r(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=jr(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=jr(a,e[a],e[a+1],o);return o&&Fr(o,o.next)&&(Vr(o),o=o.next),o}function Tr(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Fr(r,r.next)&&0!==Lr(r.prev,r,r.next))r=r.next;else{if(Vr(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Er(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Dr(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?Cr(e,r,i,a):kr(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),Vr(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?Er(e=Ar(e,t,n),t,n,r,i,a,2):2===o&&Or(e,t,n,r,i,a):Er(Tr(e),t,n,r,i,a,1);break}}}function kr(e){var t=e.prev,n=e,r=e.next;if(Lr(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Pr(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Lr(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Cr(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Lr(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,f=Dr(s,u,t,n,r),h=Dr(l,c,t,n,r),d=e.nextZ;d&&d.z<=h;){if(d!==e.prev&&d!==e.next&&Pr(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Lr(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=e.prevZ;d&&d.z>=f;){if(d!==e.prev&&d!==e.next&&Pr(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Lr(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function Ar(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Fr(i,a)&&Br(i,r,r.next,a)&&zr(i,a)&&zr(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),Vr(r),Vr(r.next),r=e=a),r=r.next}while(r!==e);return r}function Or(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Nr(o,s)){var u=Ur(o,s);return o=Tr(o,o.next),u=Tr(u,u.next),Er(o,t,n,r,i,a),void Er(u,t,n,r,i,a)}s=s.next}o=o.next}while(o!==e)}function Ir(e,t){return e.x-t.x}function Mr(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n.prev;var u,l=n,c=n.x,f=n.y,h=1/0;r=n.next;for(;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&Pr(a<f?i:o,a,c,f,a<f?o:i,a,r.x,r.y)&&((u=Math.abs(a-r.y)/(i-r.x))<h||u===h&&r.x>n.x)&&zr(r,e)&&(n=r,h=u),r=r.next;return n}(e,t)){var n=Ur(t,e);Tr(n,n.next)}}function Dr(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Rr(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function Pr(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function Nr(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Br(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&zr(e,t)&&zr(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function Lr(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Fr(e,t){return e.x===t.x&&e.y===t.y}function Br(e,t,n,r){return!!(Fr(e,t)&&Fr(n,r)||Fr(e,r)&&Fr(n,t))||Lr(e,t,n)>0!==Lr(e,t,r)>0&&Lr(n,r,e)>0!==Lr(n,r,t)>0}function zr(e,t){return Lr(e.prev,e,e.next)<0?Lr(e,t,e.next)>=0&&Lr(e,e.prev,t)>=0:Lr(e,t,e.prev)<0||Lr(e,e.next,t)<0}function Ur(e,t){var n=new Gr(e.i,e.x,e.y),r=new Gr(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function jr(e,t,n,r){var i=new Gr(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Vr(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Gr(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Wr={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return Wr.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];Hr(e),qr(n,e);var a=e.length;t.forEach(Hr);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,qr(n,t[o]);var s=xr(n,r);for(o=0;o<s.length;o+=3)i.push(s.slice(o,o+3));return i}};function Hr(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function qr(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Qr(e,t){we.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Xr(e,t)),this.mergeVertices()}function Xr(e,t){Pe.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,r=[],i=[],a=0,o=e.length;a<o;a++){s(e[a])}function s(e){var a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,u=void 0!==t.depth?t.depth:100,l=void 0===t.bevelEnabled||t.bevelEnabled,c=void 0!==t.bevelThickness?t.bevelThickness:6,f=void 0!==t.bevelSize?t.bevelSize:c-2,h=void 0!==t.bevelSegments?t.bevelSegments:3,d=t.extrudePath,p=void 0!==t.UVGenerator?t.UVGenerator:Yr;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=t.amount);var m,g,v,y,b,w,S,x,_=!1;d&&(m=d.getSpacedPoints(s),_=!0,l=!1,g=d.computeFrenetFrames(s,!1),v=new H,y=new H,b=new H),l||(h=0,c=0,f=0);var T=e.extractPoints(o),E=T.shape,k=T.holes;if(!Wr.isClockWise(E))for(E=E.reverse(),S=0,x=k.length;S<x;S++)w=k[S],Wr.isClockWise(w)&&(k[S]=w.reverse());var C=Wr.triangulateShape(E,k),A=E;for(S=0,x=k.length;S<x;S++)w=k[S],E=E.concat(w);function O(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var I,M,D,R,P,N,L=E.length,F=C.length;function B(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,u=n.x-e.x,l=n.y-e.y,c=o*o+s*s,f=o*l-s*u;if(Math.abs(f)>Number.EPSILON){var h=Math.sqrt(c),d=Math.sqrt(u*u+l*l),p=t.x-s/h,m=t.y+o/h,g=((n.x-l/d-p)*l-(n.y+u/d-m)*u)/(o*l-s*u),v=(r=p+o*g-e.x)*r+(i=m+s*g-e.y)*i;if(v<=2)return new V(r,i);a=Math.sqrt(v/2)}else{var y=!1;o>Number.EPSILON?u>Number.EPSILON&&(y=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(l)&&(y=!0),y?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new V(r/a,i/a)}for(var z=[],U=0,j=A.length,G=j-1,W=U+1;U<j;U++,G++,W++)G===j&&(G=0),W===j&&(W=0),z[U]=B(A[U],A[G],A[W]);var q,Q,X=[],Y=z.concat();for(S=0,x=k.length;S<x;S++){for(w=k[S],q=[],U=0,G=(j=w.length)-1,W=U+1;U<j;U++,G++,W++)G===j&&(G=0),W===j&&(W=0),q[U]=B(w[U],w[G],w[W]);X.push(q),Y=Y.concat(q)}for(I=0;I<h;I++){for(D=I/h,R=c*Math.cos(D*Math.PI/2),M=f*Math.sin(D*Math.PI/2),U=0,j=A.length;U<j;U++)Z((P=O(A[U],z[U],M)).x,P.y,-R);for(S=0,x=k.length;S<x;S++)for(w=k[S],q=X[S],U=0,j=w.length;U<j;U++)Z((P=O(w[U],q[U],M)).x,P.y,-R)}for(M=f,U=0;U<L;U++)P=l?O(E[U],Y[U],M):E[U],_?(y.copy(g.normals[0]).multiplyScalar(P.x),v.copy(g.binormals[0]).multiplyScalar(P.y),b.copy(m[0]).add(y).add(v),Z(b.x,b.y,b.z)):Z(P.x,P.y,0);for(Q=1;Q<=s;Q++)for(U=0;U<L;U++)P=l?O(E[U],Y[U],M):E[U],_?(y.copy(g.normals[Q]).multiplyScalar(P.x),v.copy(g.binormals[Q]).multiplyScalar(P.y),b.copy(m[Q]).add(y).add(v),Z(b.x,b.y,b.z)):Z(P.x,P.y,u/s*Q);for(I=h-1;I>=0;I--){for(D=I/h,R=c*Math.cos(D*Math.PI/2),M=f*Math.sin(D*Math.PI/2),U=0,j=A.length;U<j;U++)Z((P=O(A[U],z[U],M)).x,P.y,u+R);for(S=0,x=k.length;S<x;S++)for(w=k[S],q=X[S],U=0,j=w.length;U<j;U++)P=O(w[U],q[U],M),_?Z(P.x,P.y+m[s-1].y,m[s-1].x+R):Z(P.x,P.y,u+R)}function K(e,t){var n,r;for(U=e.length;--U>=0;){n=U,(r=U-1)<0&&(r=e.length-1);var i=0,a=s+2*h;for(i=0;i<a;i++){var o=L*i,u=L*(i+1);$(t+n+o,t+r+o,t+r+u,t+n+u)}}}function Z(e,t,n){a.push(e),a.push(t),a.push(n)}function J(e,t,i){ee(e),ee(t),ee(i);var a=r.length/3,o=p.generateTopUV(n,r,a-3,a-2,a-1);te(o[0]),te(o[1]),te(o[2])}function $(e,t,i,a){ee(e),ee(t),ee(a),ee(t),ee(i),ee(a);var o=r.length/3,s=p.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);te(s[0]),te(s[1]),te(s[3]),te(s[1]),te(s[2]),te(s[3])}function ee(e){r.push(a[3*e+0]),r.push(a[3*e+1]),r.push(a[3*e+2])}function te(e){i.push(e.x),i.push(e.y)}!function(){var e=r.length/3;if(l){var t=0,i=L*t;for(U=0;U<F;U++)J((N=C[U])[2]+i,N[1]+i,N[0]+i);for(i=L*(t=s+2*h),U=0;U<F;U++)J((N=C[U])[0]+i,N[1]+i,N[2]+i)}else{for(U=0;U<F;U++)J((N=C[U])[2],N[1],N[0]);for(U=0;U<F;U++)J((N=C[U])[0]+L*s,N[1]+L*s,N[2]+L*s)}n.addGroup(e,r.length/3-e,0)}(),function(){var e=r.length/3,t=0;for(K(A,t),t+=A.length,S=0,x=k.length;S<x;S++)K(w=k[S],t),t+=w.length;n.addGroup(e,r.length/3-e,1)}()}this.addAttribute("position",new Oe(r,3)),this.addAttribute("uv",new Oe(i,2)),this.computeVertexNormals()}Qr.prototype=Object.create(we.prototype),Qr.prototype.constructor=Qr,Qr.prototype.toJSON=function(){var e=we.prototype.toJSON.call(this);return Kr(this.parameters.shapes,this.parameters.options,e)},Xr.prototype=Object.create(Pe.prototype),Xr.prototype.constructor=Xr,Xr.prototype.toJSON=function(){var e=Pe.prototype.toJSON.call(this);return Kr(this.parameters.shapes,this.parameters.options,e)};var Yr={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],u=t[3*r+1],l=t[3*i],c=t[3*i+1];return[new V(a,o),new V(s,u),new V(l,c)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],u=t[3*n+2],l=t[3*r],c=t[3*r+1],f=t[3*r+2],h=t[3*i],d=t[3*i+1],p=t[3*i+2],m=t[3*a],g=t[3*a+1],v=t[3*a+2];return Math.abs(s-c)<.01?[new V(o,1-u),new V(l,1-f),new V(h,1-p),new V(m,1-v)]:[new V(s,1-u),new V(c,1-f),new V(d,1-p),new V(g,1-v)]}};function Kr(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Zr(e,t){we.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Jr(e,t)),this.mergeVertices()}function Jr(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new we;var r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Xr.call(this,r,t),this.type="TextBufferGeometry"}function $r(e,t,n,r,i,a,o){we.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new ei(e,t,n,r,i,a,o)),this.mergeVertices()}function ei(e,t,n,r,i,a,o){Pe.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var s,u,l=(a=void 0!==a?a:0)+(o=void 0!==o?o:Math.PI),c=0,f=[],h=new H,d=new H,p=[],m=[],g=[],v=[];for(u=0;u<=n;u++){var y=[],b=u/n;for(s=0;s<=t;s++){var w=s/t;h.x=-e*Math.cos(r+w*i)*Math.sin(a+b*o),h.y=e*Math.cos(a+b*o),h.z=e*Math.sin(r+w*i)*Math.sin(a+b*o),m.push(h.x,h.y,h.z),d.set(h.x,h.y,h.z).normalize(),g.push(d.x,d.y,d.z),v.push(w,1-b),y.push(c++)}f.push(y)}for(u=0;u<n;u++)for(s=0;s<t;s++){var S=f[u][s+1],x=f[u][s],_=f[u+1][s],T=f[u+1][s+1];(0!==u||a>0)&&p.push(S,x,T),(u!==n-1||l<Math.PI)&&p.push(x,_,T)}this.setIndex(p),this.addAttribute("position",new Oe(m,3)),this.addAttribute("normal",new Oe(g,3)),this.addAttribute("uv",new Oe(v,2))}function ti(e,t,n,r,i,a){we.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},this.fromBufferGeometry(new ni(e,t,n,r,i,a)),this.mergeVertices()}function ni(e,t,n,r,i,a){Pe.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},e=e||.5,t=t||1,i=void 0!==i?i:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var o,s,u,l=[],c=[],f=[],h=[],d=e,p=(t-e)/(r=void 0!==r?Math.max(1,r):1),m=new H,g=new V;for(s=0;s<=r;s++){for(u=0;u<=n;u++)o=i+u/n*a,m.x=d*Math.cos(o),m.y=d*Math.sin(o),c.push(m.x,m.y,m.z),f.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,h.push(g.x,g.y);d+=p}for(s=0;s<r;s++){var v=s*(n+1);for(u=0;u<n;u++){var y=o=u+v,b=o+n+1,w=o+n+2,S=o+1;l.push(y,b,S),l.push(b,w,S)}}this.setIndex(l),this.addAttribute("position",new Oe(c,3)),this.addAttribute("normal",new Oe(f,3)),this.addAttribute("uv",new Oe(h,2))}function ri(e,t,n,r){we.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new ii(e,t,n,r)),this.mergeVertices()}function ii(e,t,n,r){Pe.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=j.clamp(r,0,2*Math.PI);var i,a,o,s=[],u=[],l=[],c=1/t,f=new H,h=new V;for(a=0;a<=t;a++){var d=n+a*c*r,p=Math.sin(d),m=Math.cos(d);for(o=0;o<=e.length-1;o++)f.x=e[o].x*p,f.y=e[o].y,f.z=e[o].x*m,u.push(f.x,f.y,f.z),h.x=a/t,h.y=o/(e.length-1),l.push(h.x,h.y)}for(a=0;a<t;a++)for(o=0;o<e.length-1;o++){var g=i=o+a*e.length,v=i+e.length,y=i+e.length+1,b=i+1;s.push(g,v,b),s.push(v,y,b)}if(this.setIndex(s),this.addAttribute("position",new Oe(u,3)),this.addAttribute("uv",new Oe(l,2)),this.computeVertexNormals(),r===2*Math.PI){var w=this.attributes.normal.array,S=new H,x=new H,_=new H;for(i=t*e.length*3,a=0,o=0;a<e.length;a++,o+=3)S.x=w[o+0],S.y=w[o+1],S.z=w[o+2],x.x=w[i+o+0],x.y=w[i+o+1],x.z=w[i+o+2],_.addVectors(S,x).normalize(),w[o+0]=w[i+o+0]=_.x,w[o+1]=w[i+o+1]=_.y,w[o+2]=w[i+o+2]=_.z}}function ai(e,t){we.call(this),this.type="ShapeGeometry","object"===typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new oi(e,t)),this.mergeVertices()}function oi(e,t){Pe.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],i=[],a=[],o=0,s=0;if(!1===Array.isArray(e))l(e);else for(var u=0;u<e.length;u++)l(e[u]),this.addGroup(o,s,u),o+=s,s=0;function l(e){var o,u,l,c=r.length/3,f=e.extractPoints(t),h=f.shape,d=f.holes;for(!1===Wr.isClockWise(h)&&(h=h.reverse()),o=0,u=d.length;o<u;o++)l=d[o],!0===Wr.isClockWise(l)&&(d[o]=l.reverse());var p=Wr.triangulateShape(h,d);for(o=0,u=d.length;o<u;o++)l=d[o],h=h.concat(l);for(o=0,u=h.length;o<u;o++){var m=h[o];r.push(m.x,m.y,0),i.push(0,0,1),a.push(m.x,m.y)}for(o=0,u=p.length;o<u;o++){var g=p[o],v=g[0]+c,y=g[1]+c,b=g[2]+c;n.push(v,y,b),s+=3}}this.setIndex(n),this.addAttribute("position",new Oe(r,3)),this.addAttribute("normal",new Oe(i,3)),this.addAttribute("uv",new Oe(a,2))}function si(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function ui(e,t){Pe.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,r,i,a,o=[],s=Math.cos(j.DEG2RAD*t),u=[0,0],l={},c=["a","b","c"];e.isBufferGeometry?(a=new we).fromBufferGeometry(e):a=e.clone(),a.mergeVertices(),a.computeFaceNormals();for(var f=a.vertices,h=a.faces,d=0,p=h.length;d<p;d++)for(var m=h[d],g=0;g<3;g++)n=m[c[g]],r=m[c[(g+1)%3]],u[0]=Math.min(n,r),u[1]=Math.max(n,r),void 0===l[i=u[0]+","+u[1]]?l[i]={index1:u[0],index2:u[1],face1:d,face2:void 0}:l[i].face2=d;for(i in l){var v=l[i];if(void 0===v.face2||h[v.face1].normal.dot(h[v.face2].normal)<=s){var y=f[v.index1];o.push(y.x,y.y,y.z),y=f[v.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new Oe(o,3))}function li(e,t,n,r,i,a,o,s){we.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new ci(e,t,n,r,i,a,o,s)),this.mergeVertices()}function ci(e,t,n,r,i,a,o,s){Pe.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};var u=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var l=[],c=[],f=[],h=[],d=0,p=[],m=n/2,g=0;function v(n){var i,a,p,v=new V,y=new H,b=0,w=!0===n?e:t,S=!0===n?1:-1;for(a=d,i=1;i<=r;i++)c.push(0,m*S,0),f.push(0,S,0),h.push(.5,.5),d++;for(p=d,i=0;i<=r;i++){var x=i/r*s+o,_=Math.cos(x),T=Math.sin(x);y.x=w*T,y.y=m*S,y.z=w*_,c.push(y.x,y.y,y.z),f.push(0,S,0),v.x=.5*_+.5,v.y=.5*T*S+.5,h.push(v.x,v.y),d++}for(i=0;i<r;i++){var E=a+i,k=p+i;!0===n?l.push(k,k+1,E):l.push(k+1,k,E),b+=3}u.addGroup(g,b,!0===n?1:2),g+=b}!function(){var a,v,y=new H,b=new H,w=0,S=(t-e)/n;for(v=0;v<=i;v++){var x=[],_=v/i,T=_*(t-e)+e;for(a=0;a<=r;a++){var E=a/r,k=E*s+o,C=Math.sin(k),A=Math.cos(k);b.x=T*C,b.y=-_*n+m,b.z=T*A,c.push(b.x,b.y,b.z),y.set(C,S,A).normalize(),f.push(y.x,y.y,y.z),h.push(E,1-_),x.push(d++)}p.push(x)}for(a=0;a<r;a++)for(v=0;v<i;v++){var O=p[v][a],I=p[v+1][a],M=p[v+1][a+1],D=p[v][a+1];l.push(O,I,D),l.push(I,M,D),w+=6}u.addGroup(g,w,0),g+=w}(),!1===a&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(l),this.addAttribute("position",new Oe(c,3)),this.addAttribute("normal",new Oe(f,3)),this.addAttribute("uv",new Oe(h,2))}function fi(e,t,n,r,i,a,o){li.call(this,0,e,t,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function hi(e,t,n,r,i,a,o){ci.call(this,0,e,t,n,r,i,a,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function di(e,t,n,r){we.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new pi(e,t,n,r)),this.mergeVertices()}function pi(e,t,n,r){Pe.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,a,o=[],s=[],u=[],l=[],c=new H,f=new V;for(s.push(0,0,0),u.push(0,0,1),l.push(.5,.5),a=0,i=3;a<=t;a++,i+=3){var h=n+a/t*r;c.x=e*Math.cos(h),c.y=e*Math.sin(h),s.push(c.x,c.y,c.z),u.push(0,0,1),f.x=(s[i]/e+1)/2,f.y=(s[i+1]/e+1)/2,l.push(f.x,f.y)}for(i=1;i<=t;i++)o.push(i,i+1,0);this.setIndex(o),this.addAttribute("position",new Oe(s,3)),this.addAttribute("normal",new Oe(u,3)),this.addAttribute("uv",new Oe(l,2))}Zr.prototype=Object.create(we.prototype),Zr.prototype.constructor=Zr,Jr.prototype=Object.create(Xr.prototype),Jr.prototype.constructor=Jr,$r.prototype=Object.create(we.prototype),$r.prototype.constructor=$r,ei.prototype=Object.create(Pe.prototype),ei.prototype.constructor=ei,ti.prototype=Object.create(we.prototype),ti.prototype.constructor=ti,ni.prototype=Object.create(Pe.prototype),ni.prototype.constructor=ni,ri.prototype=Object.create(we.prototype),ri.prototype.constructor=ri,ii.prototype=Object.create(Pe.prototype),ii.prototype.constructor=ii,ai.prototype=Object.create(we.prototype),ai.prototype.constructor=ai,ai.prototype.toJSON=function(){var e=we.prototype.toJSON.call(this);return si(this.parameters.shapes,e)},oi.prototype=Object.create(Pe.prototype),oi.prototype.constructor=oi,oi.prototype.toJSON=function(){var e=Pe.prototype.toJSON.call(this);return si(this.parameters.shapes,e)},ui.prototype=Object.create(Pe.prototype),ui.prototype.constructor=ui,li.prototype=Object.create(we.prototype),li.prototype.constructor=li,ci.prototype=Object.create(Pe.prototype),ci.prototype.constructor=ci,fi.prototype=Object.create(li.prototype),fi.prototype.constructor=fi,hi.prototype=Object.create(ci.prototype),hi.prototype.constructor=hi,di.prototype=Object.create(we.prototype),di.prototype.constructor=di,pi.prototype=Object.create(Pe.prototype),pi.prototype.constructor=pi;var mi=Object.freeze({WireframeGeometry:rr,ParametricGeometry:ir,ParametricBufferGeometry:ar,TetrahedronGeometry:ur,TetrahedronBufferGeometry:lr,OctahedronGeometry:cr,OctahedronBufferGeometry:fr,IcosahedronGeometry:hr,IcosahedronBufferGeometry:dr,DodecahedronGeometry:pr,DodecahedronBufferGeometry:mr,PolyhedronGeometry:or,PolyhedronBufferGeometry:sr,TubeGeometry:gr,TubeBufferGeometry:vr,TorusKnotGeometry:yr,TorusKnotBufferGeometry:br,TorusGeometry:wr,TorusBufferGeometry:Sr,TextGeometry:Zr,TextBufferGeometry:Jr,SphereGeometry:$r,SphereBufferGeometry:ei,RingGeometry:ti,RingBufferGeometry:ni,PlaneGeometry:Fe,PlaneBufferGeometry:Be,LatheGeometry:ri,LatheBufferGeometry:ii,ShapeGeometry:ai,ShapeBufferGeometry:oi,ExtrudeGeometry:Qr,ExtrudeBufferGeometry:Xr,EdgesGeometry:ui,ConeGeometry:fi,ConeBufferGeometry:hi,CylinderGeometry:li,CylinderBufferGeometry:ci,CircleGeometry:di,CircleBufferGeometry:pi,BoxGeometry:Ne,BoxBufferGeometry:Le});function gi(e){Ue.call(this),this.type="ShadowMaterial",this.color=new le(0),this.transparent=!0,this.setValues(e)}function vi(e){je.call(this,e),this.type="RawShaderMaterial"}function yi(e){Ue.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new le(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new V(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function bi(e){yi.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function wi(e){Ue.call(this),this.type="MeshPhongMaterial",this.color=new le(16777215),this.specular=new le(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new V(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Si(e){wi.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function xi(e){Ue.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new V(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function _i(e){Ue.call(this),this.type="MeshLambertMaterial",this.color=new le(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ti(e){Ue.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new le(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new V(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(e)}function Ei(e){Qn.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}gi.prototype=Object.create(Ue.prototype),gi.prototype.constructor=gi,gi.prototype.isShadowMaterial=!0,gi.prototype.copy=function(e){return Ue.prototype.copy.call(this,e),this.color.copy(e.color),this},vi.prototype=Object.create(je.prototype),vi.prototype.constructor=vi,vi.prototype.isRawShaderMaterial=!0,yi.prototype=Object.create(Ue.prototype),yi.prototype.constructor=yi,yi.prototype.isMeshStandardMaterial=!0,yi.prototype.copy=function(e){return Ue.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},bi.prototype=Object.create(yi.prototype),bi.prototype.constructor=bi,bi.prototype.isMeshPhysicalMaterial=!0,bi.prototype.copy=function(e){return yi.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},wi.prototype=Object.create(Ue.prototype),wi.prototype.constructor=wi,wi.prototype.isMeshPhongMaterial=!0,wi.prototype.copy=function(e){return Ue.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Si.prototype=Object.create(wi.prototype),Si.prototype.constructor=Si,Si.prototype.isMeshToonMaterial=!0,Si.prototype.copy=function(e){return wi.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},xi.prototype=Object.create(Ue.prototype),xi.prototype.constructor=xi,xi.prototype.isMeshNormalMaterial=!0,xi.prototype.copy=function(e){return Ue.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},_i.prototype=Object.create(Ue.prototype),_i.prototype.constructor=_i,_i.prototype.isMeshLambertMaterial=!0,_i.prototype.copy=function(e){return Ue.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ti.prototype=Object.create(Ue.prototype),Ti.prototype.constructor=Ti,Ti.prototype.isMeshMatcapMaterial=!0,Ti.prototype.copy=function(e){return Ue.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ei.prototype=Object.create(Qn.prototype),Ei.prototype.constructor=Ei,Ei.prototype.isLineDashedMaterial=!0,Ei.prototype.copy=function(e){return Qn.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var ki=Object.freeze({ShadowMaterial:gi,SpriteMaterial:jn,RawShaderMaterial:vi,ShaderMaterial:je,PointsMaterial:Zn,MeshPhysicalMaterial:bi,MeshStandardMaterial:yi,MeshPhongMaterial:wi,MeshToonMaterial:Si,MeshNormalMaterial:xi,MeshLambertMaterial:_i,MeshDepthMaterial:bn,MeshDistanceMaterial:wn,MeshBasicMaterial:We,MeshMatcapMaterial:Ti,LineDashedMaterial:Ei,LineBasicMaterial:Qn,Material:Ue}),Ci={arraySlice:function(e,t,n){return Ci.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,u=0;u!==t;++u)i[o++]=e[s+u];return i},flattenJSON:function(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}};function Ai(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Oi(e,t,n,r){Ai.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Ii(e,t,n,r){Ai.call(this,e,t,n,r)}function Mi(e,t,n,r){Ai.call(this,e,t,n,r)}function Di(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ci.convertArray(t,this.TimeBufferType),this.values=Ci.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Ri(e,t,n){Di.call(this,e,t,n)}function Pi(e,t,n,r){Di.call(this,e,t,n,r)}function Ni(e,t,n,r){Di.call(this,e,t,n,r)}function Li(e,t,n,r){Ai.call(this,e,t,n,r)}function Fi(e,t,n,r){Di.call(this,e,t,n,r)}function Bi(e,t,n,r){Di.call(this,e,t,n,r)}function zi(e,t,n,r){Di.call(this,e,t,n,r)}function Ui(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=j.generateUUID(),this.duration<0&&this.resetDuration()}function ji(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ni;case"vector":case"vector2":case"vector3":case"vector4":return zi;case"color":return Pi;case"quaternion":return Fi;case"bool":case"boolean":return Ri;case"string":return Bi}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];Ci.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(Ai.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===o)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var u=n+a>>>1;e<t[u]?a=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Ai.prototype,{beforeStart_:Ai.prototype.copySampleValue_,afterEnd_:Ai.prototype.copySampleValue_}),Oi.prototype=Object.assign(Object.create(Ai.prototype),{constructor:Oi,DefaultSettings_:{endingStart:F,endingEnd:F},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case B:i=e,o=2*t-n;break;case z:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case B:a=e,s=2*n-t;break;case z:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=a*l},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,f=this._weightPrev,h=this._weightNext,d=(n-t)/(r-t),p=d*d,m=p*d,g=-f*m+2*f*p-f*d,v=(1+f)*m+(-1.5-2*f)*p+(-.5+f)*d+1,y=(-1-h)*m+(1.5+h)*p+.5*d,b=h*m-h*p,w=0;w!==o;++w)i[w]=g*a[l+w]+v*a[u+w]+y*a[s+w]+b*a[c+w];return i}}),Ii.prototype=Object.assign(Object.create(Ai.prototype),{constructor:Ii,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(n-t)/(r-t),c=1-l,f=0;f!==o;++f)i[f]=a[u+f]*c+a[s+f]*l;return i}}),Mi.prototype=Object.assign(Object.create(Ai.prototype),{constructor:Mi,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(Di,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Ci.convertArray(e.times,Array),values:Ci.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(Di.prototype,{constructor:Di,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:N,InterpolantFactoryMethodDiscrete:function(e){return new Mi(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Ii(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Oi(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case P:t=this.InterpolantFactoryMethodDiscrete;break;case N:t=this.InterpolantFactoryMethodLinear;break;case L:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return P;case this.InterpolantFactoryMethodLinear:return N;case this.InterpolantFactoryMethodSmooth:return L}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Ci.arraySlice(n,i,a),this.values=Ci.arraySlice(this.values,i*o,a*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&Ci.isTypedArray(r)){o=0;for(var u=r.length;o!==u;++o){var l=r[o];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,l),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===L,i=1,a=e.length-1,o=1;o<a;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==u[0]))if(r)s=!0;else for(var l=o*n,c=l-n,f=l+n,h=0;h!==n;++h){var d=t[l+h];if(d!==t[c+h]||d!==t[f+h]){s=!0;break}}if(s){if(o!==i){e[i]=e[o];var p=o*n,m=i*n;for(h=0;h!==n;++h)t[m+h]=t[p+h]}++i}}if(a>0){e[i]=e[a];for(p=a*n,m=i*n,h=0;h!==n;++h)t[m+h]=t[p+h];++i}return i!==e.length&&(this.times=Ci.arraySlice(e,0,i),this.values=Ci.arraySlice(t,0,i*n)),this},clone:function(){var e=Ci.arraySlice(this.times,0),t=Ci.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),Ri.prototype=Object.assign(Object.create(Di.prototype),{constructor:Ri,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:P,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Pi.prototype=Object.assign(Object.create(Di.prototype),{constructor:Pi,ValueTypeName:"color"}),Ni.prototype=Object.assign(Object.create(Di.prototype),{constructor:Ni,ValueTypeName:"number"}),Li.prototype=Object.assign(Object.create(Ai.prototype),{constructor:Li,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=(n-t)/(r-t),l=s+o;s!==l;s+=4)W.slerpFlat(i,0,a,s-o,a,s,u);return i}}),Fi.prototype=Object.assign(Object.create(Di.prototype),{constructor:Fi,ValueTypeName:"quaternion",DefaultInterpolation:N,InterpolantFactoryMethodLinear:function(e){return new Li(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Bi.prototype=Object.assign(Object.create(Di.prototype),{constructor:Bi,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:P,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),zi.prototype=Object.assign(Object.create(Di.prototype),{constructor:zi,ValueTypeName:"vector"}),Object.assign(Ui,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(ji(n[i]).scale(r));return new Ui(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,a=n.length;i!==a;++i)t.push(Di.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],u=[];s.push((o+i-1)%i,o,(o+1)%i),u.push(0,1,0);var l=Ci.getKeyframeOrder(s);s=Ci.sortedArray(s,1,l),u=Ci.sortedArray(u,1,l),r||0!==s[0]||(s.push(i),u.push(u[0])),a.push(new Ni(".morphTargetInfluences["+t[o].name+"]",s,u).scale(1/n))}return new Ui(e,-1,a)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],u=s.name.match(i);if(u&&u.length>1){var l=r[f=u[1]];l||(r[f]=l=[]),l.push(s)}}var c=[];for(var f in r)c.push(Ui.CreateFromMorphTargetSequence(f,r[f],t,n));return c},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];Ci.flattenJSON(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.length||-1,o=e.fps||30,s=e.hierarchy||[],u=0;u<s.length;u++){var l=s[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var c={},f=0;f<l.length;f++)if(l[f].morphTargets)for(var h=0;h<l[f].morphTargets.length;h++)c[l[f].morphTargets[h]]=-1;for(var d in c){var p=[],m=[];for(h=0;h!==l[f].morphTargets.length;++h){var g=l[f];p.push(g.time),m.push(g.morphTarget===d?1:0)}r.push(new Ni(".morphTargetInfluence["+d+"]",p,m))}a=c.length*(o||1)}else{var v=".bones["+t[u].name+"]";n(zi,v+".position",l,"pos",r),n(Fi,v+".quaternion",l,"rot",r),n(zi,v+".scale",l,"scl",r)}}return 0===r.length?null:new Ui(i,a,r)}}),Object.assign(Ui.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Ui(this.name,this.duration,e)}});var Vi={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Gi(e,t,n){var r=this,i=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===i&&void 0!==r.onStart&&r.onStart(e,a,o),i=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,o),a===o&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}var Wi=new Gi,Hi={};function qi(e){this.manager=void 0!==e?e:Wi}function Qi(e){this.manager=void 0!==e?e:Wi,this._parser=null}function Xi(e){this.manager=void 0!==e?e:Wi}function Yi(e){this.manager=void 0!==e?e:Wi}function Ki(e){this.manager=void 0!==e?e:Wi}function Zi(){this.type="Curve",this.arcLengthDivisions=200}function Ji(e,t,n,r,i,a,o,s){Zi.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function $i(e,t,n,r,i,a){Ji.call(this,e,t,n,n,r,i,a),this.type="ArcCurve"}function ea(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var u=(t-e)/a-(n-e)/(a+o)+(n-t)/o,l=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,u*=o,l*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}Object.assign(qi.prototype,{load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Vi.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===Hi[e]){var o=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],u=!!o[2],l=o[3];l=decodeURIComponent(l),u&&(l=atob(l));try{var c,f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":for(var h=new Uint8Array(l.length),d=0;d<l.length;d++)h[d]=l.charCodeAt(d);c="blob"===f?new Blob([h.buffer],{type:s}):h.buffer;break;case"document":var p=new DOMParser;c=p.parseFromString(l,s);break;case"json":c=JSON.parse(l);break;default:c=l}setTimeout((function(){t&&t(c),i.manager.itemEnd(e)}),0)}catch(v){setTimeout((function(){r&&r(v),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{Hi[e]=[],Hi[e].push({onLoad:t,onProgress:n,onError:r});var m=new XMLHttpRequest;for(var g in m.open("GET",e,!0),m.addEventListener("load",(function(t){var n=this.response;Vi.add(e,n);var r=Hi[e];if(delete Hi[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var a=0,o=r.length;a<o;a++){(s=r[a]).onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(a=0,o=r.length;a<o;a++){var s;(s=r[a]).onError&&s.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),m.addEventListener("progress",(function(t){for(var n=Hi[e],r=0,i=n.length;r<i;r++){var a=n[r];a.onProgress&&a.onProgress(t)}}),!1),m.addEventListener("error",(function(t){var n=Hi[e];delete Hi[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),m.addEventListener("abort",(function(t){var n=Hi[e];delete Hi[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return i.manager.itemStart(e),m}Hi[e].push({onLoad:t,onProgress:n,onError:r})},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Object.assign(function(e){this.manager=void 0!==e?e:Wi}.prototype,{load:function(e,t,n,r){var i=this,a=new qi(i.manager);a.setPath(i.path),a.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=Ui.parse(e[r]);n.push(i)}t(n)},setPath:function(e){return this.path=e,this}}),Object.assign(function(e){this.manager=void 0!==e?e:Wi,this._parser=null}.prototype,{load:function(e,t,n,r){var i=this,a=[],o=new er;o.image=a;var s=new qi(this.manager);function u(u){s.load(e[u],(function(e){var n=i._parser(e,!0);a[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(o.minFilter=S),o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var l=0,c=0,f=e.length;c<f;++c)u(c);else s.load(e,(function(e){var n=i._parser(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=S),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o},setPath:function(e){return this.path=e,this}}),Object.assign(Qi.prototype,{load:function(e,t,n,r){var i=this,a=new ee,o=new qi(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(e,(function(e){var n=i._parser(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:g,a.wrapT=void 0!==n.wrapT?n.wrapT:g,a.magFilter=void 0!==n.magFilter?n.magFilter:S,a.minFilter=void 0!==n.minFilter?n.minFilter:x,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps),1===n.mipmapCount&&(a.minFilter=S),a.needsUpdate=!0,t&&t(a,n))}),n,r),a},setPath:function(e){return this.path=e,this}}),Object.assign(Xi.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Vi.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),Vi.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Yi.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new rt,a=new Xi(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var u=0;u<e.length;++u)s(u);return i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Ki.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=new Y,a=new Xi(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?O:I,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(Zi.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),a=0;for(r.push(0),n=1;n<=e;n++)a+=(t=this.getPoint(n/e)).distanceTo(i),r.push(a),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(a-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(a-1)},getTangent:function(e){var t=1e-4,n=e-t,r=e+t;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n);return this.getPoint(r).clone().sub(i).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,a=new H,o=[],s=[],u=[],l=new H,c=new G;for(n=0;n<=e;n++)r=n/e,o[n]=this.getTangentAt(r),o[n].normalize();s[0]=new H,u[0]=new H;var f=Number.MAX_VALUE,h=Math.abs(o[0].x),d=Math.abs(o[0].y),p=Math.abs(o[0].z);for(h<=f&&(f=h,a.set(1,0,0)),d<=f&&(f=d,a.set(0,1,0)),p<=f&&a.set(0,0,1),l.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],l),u[0].crossVectors(o[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),u[n]=u[n-1].clone(),l.crossVectors(o[n-1],o[n]),l.length()>Number.EPSILON&&(l.normalize(),i=Math.acos(j.clamp(o[n-1].dot(o[n]),-1,1)),s[n].applyMatrix4(c.makeRotationAxis(l,i))),u[n].crossVectors(o[n],s[n]);if(!0===t)for(i=Math.acos(j.clamp(s[0].dot(s[e]),-1,1)),i/=e,o[0].dot(l.crossVectors(s[0],s[e]))>0&&(i=-i),n=1;n<=e;n++)s[n].applyMatrix4(c.makeRotationAxis(o[n],i*n)),u[n].crossVectors(o[n],s[n]);return{tangents:o,normals:s,binormals:u}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),Ji.prototype=Object.create(Zi.prototype),Ji.prototype.constructor=Ji,Ji.prototype.isEllipseCurve=!0,Ji.prototype.getPoint=function(e,t){for(var n=t||new V,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),f=s-this.aX,h=u-this.aY;s=f*l-h*c+this.aX,u=f*c+h*l+this.aY}return n.set(s,u)},Ji.prototype.copy=function(e){return Zi.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Ji.prototype.toJSON=function(){var e=Zi.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},Ji.prototype.fromJSON=function(e){return Zi.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},$i.prototype=Object.create(Ji.prototype),$i.prototype.constructor=$i,$i.prototype.isArcCurve=!0;var ta=new H,na=new ea,ra=new ea,ia=new ea;function aa(e,t,n,r){Zi.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function oa(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function sa(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function ua(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function la(e,t,n,r){Zi.call(this),this.type="CubicBezierCurve",this.v0=e||new V,this.v1=t||new V,this.v2=n||new V,this.v3=r||new V}function ca(e,t,n,r){Zi.call(this),this.type="CubicBezierCurve3",this.v0=e||new H,this.v1=t||new H,this.v2=n||new H,this.v3=r||new H}function fa(e,t){Zi.call(this),this.type="LineCurve",this.v1=e||new V,this.v2=t||new V}function ha(e,t){Zi.call(this),this.type="LineCurve3",this.v1=e||new H,this.v2=t||new H}function da(e,t,n){Zi.call(this),this.type="QuadraticBezierCurve",this.v0=e||new V,this.v1=t||new V,this.v2=n||new V}function pa(e,t,n){Zi.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new H,this.v1=t||new H,this.v2=n||new H}function ma(e){Zi.call(this),this.type="SplineCurve",this.points=e||[]}aa.prototype=Object.create(Zi.prototype),aa.prototype.constructor=aa,aa.prototype.isCatmullRomCurve3=!0,aa.prototype.getPoint=function(e,t){var n,r,i,a,o=t||new H,s=this.points,u=s.length,l=(u-(this.closed?0:1))*e,c=Math.floor(l),f=l-c;if(this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/u)+1)*u:0===f&&c===u-1&&(c=u-2,f=1),this.closed||c>0?n=s[(c-1)%u]:(ta.subVectors(s[0],s[1]).add(s[0]),n=ta),r=s[c%u],i=s[(c+1)%u],this.closed||c+2<u?a=s[(c+2)%u]:(ta.subVectors(s[u-1],s[u-2]).add(s[u-1]),a=ta),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,d=Math.pow(n.distanceToSquared(r),h),p=Math.pow(r.distanceToSquared(i),h),m=Math.pow(i.distanceToSquared(a),h);p<1e-4&&(p=1),d<1e-4&&(d=p),m<1e-4&&(m=p),na.initNonuniformCatmullRom(n.x,r.x,i.x,a.x,d,p,m),ra.initNonuniformCatmullRom(n.y,r.y,i.y,a.y,d,p,m),ia.initNonuniformCatmullRom(n.z,r.z,i.z,a.z,d,p,m)}else"catmullrom"===this.curveType&&(na.initCatmullRom(n.x,r.x,i.x,a.x,this.tension),ra.initCatmullRom(n.y,r.y,i.y,a.y,this.tension),ia.initCatmullRom(n.z,r.z,i.z,a.z,this.tension));return o.set(na.calc(f),ra.calc(f),ia.calc(f)),o},aa.prototype.copy=function(e){Zi.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},aa.prototype.toJSON=function(){var e=Zi.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},aa.prototype.fromJSON=function(e){Zi.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new H).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},la.prototype=Object.create(Zi.prototype),la.prototype.constructor=la,la.prototype.isCubicBezierCurve=!0,la.prototype.getPoint=function(e,t){var n=t||new V,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(ua(e,r.x,i.x,a.x,o.x),ua(e,r.y,i.y,a.y,o.y)),n},la.prototype.copy=function(e){return Zi.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},la.prototype.toJSON=function(){var e=Zi.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},la.prototype.fromJSON=function(e){return Zi.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},ca.prototype=Object.create(Zi.prototype),ca.prototype.constructor=ca,ca.prototype.isCubicBezierCurve3=!0,ca.prototype.getPoint=function(e,t){var n=t||new H,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(ua(e,r.x,i.x,a.x,o.x),ua(e,r.y,i.y,a.y,o.y),ua(e,r.z,i.z,a.z,o.z)),n},ca.prototype.copy=function(e){return Zi.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},ca.prototype.toJSON=function(){var e=Zi.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},ca.prototype.fromJSON=function(e){return Zi.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},fa.prototype=Object.create(Zi.prototype),fa.prototype.constructor=fa,fa.prototype.isLineCurve=!0,fa.prototype.getPoint=function(e,t){var n=t||new V;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},fa.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},fa.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},fa.prototype.copy=function(e){return Zi.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},fa.prototype.toJSON=function(){var e=Zi.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},fa.prototype.fromJSON=function(e){return Zi.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},ha.prototype=Object.create(Zi.prototype),ha.prototype.constructor=ha,ha.prototype.isLineCurve3=!0,ha.prototype.getPoint=function(e,t){var n=t||new H;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},ha.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},ha.prototype.copy=function(e){return Zi.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},ha.prototype.toJSON=function(){var e=Zi.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},ha.prototype.fromJSON=function(e){return Zi.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},da.prototype=Object.create(Zi.prototype),da.prototype.constructor=da,da.prototype.isQuadraticBezierCurve=!0,da.prototype.getPoint=function(e,t){var n=t||new V,r=this.v0,i=this.v1,a=this.v2;return n.set(sa(e,r.x,i.x,a.x),sa(e,r.y,i.y,a.y)),n},da.prototype.copy=function(e){return Zi.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},da.prototype.toJSON=function(){var e=Zi.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},da.prototype.fromJSON=function(e){return Zi.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},pa.prototype=Object.create(Zi.prototype),pa.prototype.constructor=pa,pa.prototype.isQuadraticBezierCurve3=!0,pa.prototype.getPoint=function(e,t){var n=t||new H,r=this.v0,i=this.v1,a=this.v2;return n.set(sa(e,r.x,i.x,a.x),sa(e,r.y,i.y,a.y),sa(e,r.z,i.z,a.z)),n},pa.prototype.copy=function(e){return Zi.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},pa.prototype.toJSON=function(){var e=Zi.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},pa.prototype.fromJSON=function(e){return Zi.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},ma.prototype=Object.create(Zi.prototype),ma.prototype.constructor=ma,ma.prototype.isSplineCurve=!0,ma.prototype.getPoint=function(e,t){var n=t||new V,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],u=r[a],l=r[a>r.length-2?r.length-1:a+1],c=r[a>r.length-3?r.length-1:a+2];return n.set(oa(o,s.x,u.x,l.x,c.x),oa(o,s.y,u.y,l.y,c.y)),n},ma.prototype.copy=function(e){Zi.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},ma.prototype.toJSON=function(){var e=Zi.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},ma.prototype.fromJSON=function(e){Zi.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new V).fromArray(r))}return this};var ga=Object.freeze({ArcCurve:$i,CatmullRomCurve3:aa,CubicBezierCurve:la,CubicBezierCurve3:ca,EllipseCurve:Ji,LineCurve:fa,LineCurve3:ha,QuadraticBezierCurve:da,QuadraticBezierCurve3:pa,SplineCurve:ma});function va(){Zi.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function ya(e){va.call(this),this.type="Path",this.currentPoint=new V,e&&this.setFromPoints(e)}function ba(e){ya.call(this,e),this.uuid=j.generateUUID(),this.type="Shape",this.holes=[]}function wa(e,t){ye.call(this),this.type="Light",this.color=new le(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Sa(e,t,n){wa.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ye.DefaultUp),this.updateMatrix(),this.groundColor=new le(t)}function xa(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new V(512,512),this.map=null,this.matrix=new G}function _a(){xa.call(this,new Cn(50,1,.5,500))}function Ta(e,t,n,r,i,a){wa.call(this,e,t),this.type="SpotLight",this.position.copy(ye.DefaultUp),this.updateMatrix(),this.target=new ye,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new _a}function Ea(e,t,n,r){wa.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new xa(new Cn(90,1,.5,500))}function ka(e,t,n,r,i,a){kn.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Ca(){xa.call(this,new ka(-5,5,5,-5,.5,500))}function Aa(e,t){wa.call(this,e,t),this.type="DirectionalLight",this.position.copy(ye.DefaultUp),this.updateMatrix(),this.target=new ye,this.shadow=new Ca}function Oa(e,t){wa.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Ia(e,t,n,r){wa.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Ma(e){this.manager=void 0!==e?e:Wi,this.textures={}}va.prototype=Object.assign(Object.create(Zi.prototype),{constructor:va,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new fa(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,a=this.curves[r],o=a.getLength(),s=0===o?0:1-i/o;return a.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a&&a.isEllipseCurve?2*e:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];t&&t.equals(l)||(n.push(l),t=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){Zi.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Zi.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){Zi.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new ga[r.type]).fromJSON(r))}return this}}),ya.prototype=Object.assign(Object.create(va.prototype),{constructor:ya,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new fa(this.currentPoint.clone(),new V(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var i=new da(this.currentPoint.clone(),new V(e,t),new V(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,i,a){var o=new la(this.currentPoint.clone(),new V(e,t),new V(n,r),new V(i,a));this.curves.push(o),this.currentPoint.set(i,a)},splineThru:function(e){var t=new ma([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+o,t+s,n,r,i,a)},absarc:function(e,t,n,r,i,a){this.absellipse(e,t,n,n,r,i,a)},ellipse:function(e,t,n,r,i,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(e+u,t+l,n,r,i,a,o,s)},absellipse:function(e,t,n,r,i,a,o,s){var u=new Ji(e,t,n,r,i,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);this.currentPoint.copy(c)},copy:function(e){return va.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=va.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return va.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),ba.prototype=Object.assign(Object.create(ya.prototype),{constructor:ba,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){ya.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=ya.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){ya.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new ya).fromJSON(r))}return this}}),wa.prototype=Object.assign(Object.create(ye.prototype),{constructor:wa,isLight:!0,copy:function(e){return ye.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=ye.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Sa.prototype=Object.assign(Object.create(wa.prototype),{constructor:Sa,isHemisphereLight:!0,copy:function(e){return wa.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(xa.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),_a.prototype=Object.assign(Object.create(xa.prototype),{constructor:_a,isSpotLightShadow:!0,update:function(e){var t=this.camera,n=2*j.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix())}}),Ta.prototype=Object.assign(Object.create(wa.prototype),{constructor:Ta,isSpotLight:!0,copy:function(e){return wa.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Ea.prototype=Object.assign(Object.create(wa.prototype),{constructor:Ea,isPointLight:!0,copy:function(e){return wa.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),ka.prototype=Object.assign(Object.create(kn.prototype),{constructor:ka,isOrthographicCamera:!0,copy:function(e,t){return kn.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,f=(this.top-this.bottom)/this.view.height;a=(i+=c*(this.view.offsetX/u))+c*(this.view.width/u),s=(o-=f*(this.view.offsetY/l))-f*(this.view.height/l)}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=ye.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Ca.prototype=Object.assign(Object.create(xa.prototype),{constructor:Ca}),Aa.prototype=Object.assign(Object.create(wa.prototype),{constructor:Aa,isDirectionalLight:!0,copy:function(e){return wa.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Oa.prototype=Object.assign(Object.create(wa.prototype),{constructor:Oa,isAmbientLight:!0}),Ia.prototype=Object.assign(Object.create(wa.prototype),{constructor:Ia,isRectAreaLight:!0,copy:function(e){return wa.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=wa.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Object.assign(Ma.prototype,{load:function(e,t,n,r){var i=this,a=new qi(i.manager);a.setPath(i.path),a.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new ki[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.uniforms)for(var i in e.uniforms){var a=e.uniforms[i];switch(r.uniforms[i]={},a.type){case"t":r.uniforms[i].value=n(a.value);break;case"c":r.uniforms[i].value=(new le).setHex(a.value);break;case"v2":r.uniforms[i].value=(new V).fromArray(a.value);break;case"v3":r.uniforms[i].value=(new H).fromArray(a.value);break;case"v4":r.uniforms[i].value=(new K).fromArray(a.value);break;case"m3":r.uniforms[i].value=(new q).fromArray(a.value);case"m4":r.uniforms[i].value=(new G).fromArray(a.value);break;default:r.uniforms[i].value=a.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var o in e.extensions)r.extensions[o]=e.extensions[o];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new V).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),r},setPath:function(e){return this.path=e,this},setTextures:function(e){return this.textures=e,this}});var Da=function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)};function Ra(e){this.manager=void 0!==e?e:Wi}Object.assign(Ra.prototype,{load:function(e,t,n,r){var i=this,a=new qi(i.manager);a.setPath(i.path),a.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=new Pe,n=e.data.index;if(void 0!==n){var r=new Pa[n.type](n.array);t.setIndex(new Se(r,1))}var i=e.data.attributes;for(var a in i){var o=i[a];r=new Pa[o.type](o.array);t.addAttribute(a,new Se(r,o.itemSize,o.normalized))}var s=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==s)for(var u=0,l=s.length;u!==l;++u){var c=s[u];t.addGroup(c.start,c.count,c.materialIndex)}var f=e.data.boundingSphere;if(void 0!==f){var h=new H;void 0!==f.center&&h.fromArray(f.center),t.boundingSphere=new ne(h,f.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t},setPath:function(e){return this.path=e,this}});var Pa={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Na(e){this.manager=void 0!==e?e:Wi,this.resourcePath=""}Object.assign(Na.prototype,{crossOrigin:"anonymous",load:function(e,t,n,r){var i=this,a=void 0===this.path?Da(e):this.path;this.resourcePath=this.resourcePath||a;var o=new qi(i.manager);o.setPath(this.path),o.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?i.parse(a,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setCrossOrigin:function(e){return this.crossOrigin=e,this},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),a=this.parseTextures(e.textures,i),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,r,o);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new ba).fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var r=new Ra,i=0,a=e.length;i<a;i++){var o,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new mi[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new mi[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new mi[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new mi[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new mi[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new mi[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new mi[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new mi[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new mi[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new mi[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":o=new mi[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new mi[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var u=[],l=0,c=s.shapes.length;l<c;l++){var f=t[s.shapes[l]];u.push(f)}o=new mi[s.type](u,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(u=[],l=0,c=s.shapes.length;l<c;l++){f=t[s.shapes[l]];u.push(f)}var h=s.options.extrudePath;void 0!==h&&(s.options.extrudePath=(new ga[h.type]).fromJSON(h)),o=new mi[s.type](u,s.options);break;case"BufferGeometry":o=r.parse(s);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE)o=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new Ma;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];if("MultiMaterial"===s.type){for(var u=[],l=0;l<s.materials.length;l++){var c=s.materials[l];void 0===n[c.uuid]&&(n[c.uuid]=i.parse(c)),u.push(n[c.uuid])}r[s.uuid]=u}else void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=Ui.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n=this,r={};function i(e){return n.manager.itemStart(e),a.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var a=new Xi(new Gi(t));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=e.length;o<s;o++){var u=e[o],l=u.url;if(Array.isArray(l)){r[u.uuid]=[];for(var c=0,f=l.length;c<f;c++){var h=l[c],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:n.resourcePath+h;r[u.uuid].push(i(d))}}else{d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:n.resourcePath+u.url;r[u.uuid]=i(d)}}}return r},parseTextures:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o,s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(o=Array.isArray(t[s.image])?new rt(t[s.image]):new Y(t[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=n(s.mapping,Fa)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=n(s.wrap[0],Ba),o.wrapT=n(s.wrap[1],Ba)),void 0!==s.format&&(o.format=s.format),void 0!==s.type&&(o.type=s.type),void 0!==s.encoding&&(o.encoding=s.encoding),void 0!==s.minFilter&&(o.minFilter=n(s.minFilter,za)),void 0!==s.magFilter&&(o.magFilter=n(s.magFilter,za)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(o.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(o.unpackAlignment=s.unpackAlignment),r[s.uuid]=o}return r},parseObject:function(e,t,n){var r;function i(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function a(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":r=new Bn,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new le(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new Fn(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new Ln(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new Cn(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new ka(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new Oa(e.color,e.intensity);break;case"DirectionalLight":r=new Aa(e.color,e.intensity);break;case"PointLight":r=new Ea(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new Ia(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new Ta(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new Sa(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var o=i(e.geometry),s=a(e.material);r=o.bones&&o.bones.length>0?new Wn(o,s):new He(o,s),void 0!==e.drawMode&&r.setDrawMode(e.drawMode);break;case"LOD":r=new Gn;break;case"Line":r=new Xn(i(e.geometry),a(e.material),e.mode);break;case"LineLoop":r=new Kn(i(e.geometry),a(e.material));break;case"LineSegments":r=new Yn(i(e.geometry),a(e.material));break;case"PointCloud":case"Points":r=new Jn(i(e.geometry),a(e.material));break;case"Sprite":r=new Vn(a(e.material));break;case"Group":r=new En;break;default:r=new ye}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children)for(var u=e.children,l=0;l<u.length;l++)r.add(this.parseObject(u[l],t,n));if("LOD"===e.type)for(var c=e.levels,f=0;f<c.length;f++){var h=c[f],d=r.getObjectByProperty("uuid",h.object);void 0!==d&&r.addLevel(d,h.distance)}return r}});var La,Fa={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},Ba={RepeatWrapping:m,ClampToEdgeWrapping:g,MirroredRepeatWrapping:v},za={NearestFilter:y,NearestMipMapNearestFilter:b,NearestMipMapLinearFilter:w,LinearFilter:S,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:x};function Ua(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==e?e:Wi,this.options=void 0}function ja(){this.type="ShapePath",this.color=new le,this.subPaths=[],this.currentPath=null}function Va(e){this.type="Font",this.data=e}function Ga(e,t,n,r,i){var a=i.glyphs[e]||i.glyphs["?"];if(a){var o,s,u,l,c,f,h,d,p=new ja;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),g=0,v=m.length;g<v;){switch(m[g++]){case"m":o=m[g++]*t+n,s=m[g++]*t+r,p.moveTo(o,s);break;case"l":o=m[g++]*t+n,s=m[g++]*t+r,p.lineTo(o,s);break;case"q":u=m[g++]*t+n,l=m[g++]*t+r,c=m[g++]*t+n,f=m[g++]*t+r,p.quadraticCurveTo(c,f,u,l);break;case"b":u=m[g++]*t+n,l=m[g++]*t+r,c=m[g++]*t+n,f=m[g++]*t+r,h=m[g++]*t+n,d=m[g++]*t+r,p.bezierCurveTo(c,f,h,d,u,l)}}return{offsetX:a.ha*t,path:p}}}function Wa(){}Ua.prototype={constructor:Ua,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Vi.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;fetch(e).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,i.options)})).then((function(n){Vi.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}))},setCrossOrigin:function(){return this},setPath:function(e){return this.path=e,this}},Object.assign(ja.prototype,{moveTo:function(e,t){this.currentPath=new ya,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,a){this.currentPath.bezierCurveTo(e,t,n,r,i,a)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new ba;a.curves=i.curves,t.push(a)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],u=-u,s=t[i],l=-l),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=l*(e.x-o.x)-u*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var i=Wr.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===t)return n(a);var o,s,u,l=[];if(1===a.length)return s=a[0],(u=new ba).curves=s.curves,l.push(u),l;var c=!i(a[0].getPoints());c=e?!c:c;var f,h,d=[],p=[],m=[],g=0;p[g]=void 0,m[g]=[];for(var v=0,y=a.length;v<y;v++)o=i(f=(s=a[v]).getPoints()),(o=e?!o:o)?(!c&&p[g]&&g++,p[g]={s:new ba,p:f},p[g].s.curves=s.curves,c&&g++,m[g]=[]):m[g].push({h:s,p:f[0]});if(!p[0])return n(a);if(p.length>1){for(var b=!1,w=[],S=0,x=p.length;S<x;S++)d[S]=[];for(S=0,x=p.length;S<x;S++)for(var _=m[S],T=0;T<_.length;T++){for(var E=_[T],k=!0,C=0;C<p.length;C++)r(E.p,p[C].p)&&(S!==C&&w.push({froms:S,tos:C,hole:T}),k?(k=!1,d[C].push(E)):b=!0);k&&d[S].push(E)}w.length>0&&(b||(m=d))}v=0;for(var A=p.length;v<A;v++){u=p[v].s,l.push(u);for(var O=0,I=(h=m[v]).length;O<I;O++)u.holes.push(h[O].h)}return l}}),Object.assign(Va.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=function(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=0,u=0,l=0;l<r.length;l++){var c=r[l];if("\n"===c)s=0,u-=a;else{var f=Ga(c,i,s,u,n);s+=f.offsetX,o.push(f.path)}}return o}(e,t,this.data),i=0,a=r.length;i<a;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),Object.assign(function(e){this.manager=void 0!==e?e:Wi}.prototype,{load:function(e,t,n,r){var i=this,a=new qi(this.manager);a.setPath(this.path),a.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(a){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)}),n,r)},parse:function(e){return new Va(e)},setPath:function(e){return this.path=e,this}}),Wa.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n],a=t[n+1];if(i.test(e))return a}return null}},Object.assign(Wa.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:function(){var e={NoBlending:u,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:l},t=new le,n=new Ki,r=new Ma;return function(i,a,u){var l={};function c(e,t,r,i,o){var s,c=a+e,f=Wa.Handlers.get(c);null!==f?s=f.load(c):(n.setCrossOrigin(u),s=n.load(c)),void 0!==t&&(s.repeat.fromArray(t),1!==t[0]&&(s.wrapS=m),1!==t[1]&&(s.wrapT=m)),void 0!==r&&s.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(s.wrapS=m),"mirror"===i[0]&&(s.wrapS=v),"repeat"===i[1]&&(s.wrapT=m),"mirror"===i[1]&&(s.wrapT=v)),void 0!==o&&(s.anisotropy=o);var h=j.generateUUID();return l[h]=s,h}var f={uuid:j.generateUUID(),type:"MeshLambertMaterial"};for(var h in i){var d=i[h];switch(h){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":f.name=d;break;case"blending":f.blending=e[d];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",h,"is no longer supported.");break;case"colorDiffuse":f.color=t.fromArray(d).getHex();break;case"colorSpecular":f.specular=t.fromArray(d).getHex();break;case"colorEmissive":f.emissive=t.fromArray(d).getHex();break;case"specularCoef":f.shininess=d;break;case"shading":"basic"===d.toLowerCase()&&(f.type="MeshBasicMaterial"),"phong"===d.toLowerCase()&&(f.type="MeshPhongMaterial"),"standard"===d.toLowerCase()&&(f.type="MeshStandardMaterial");break;case"mapDiffuse":f.map=c(d,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":f.emissiveMap=c(d,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":f.lightMap=c(d,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":f.aoMap=c(d,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":f.bumpMap=c(d,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":f.bumpScale=d;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":f.normalMap=c(d,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":f.normalScale=d;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":f.specularMap=c(d,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":f.metalnessMap=c(d,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":f.roughnessMap=c(d,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":f.alphaMap=c(d,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":f.side=o;break;case"doubleSided":f.side=s;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),f.opacity=d;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":f[h]=d;break;case"vertexColors":!0===d&&(f.vertexColors=2),"face"===d&&(f.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",h,d)}}return"MeshBasicMaterial"===f.type&&delete f.emissive,"MeshPhongMaterial"!==f.type&&delete f.specular,f.opacity<1&&(f.transparent=!0),r.setTextures(l),r.parse(f)}}()});var Ha=function(){return void 0===La&&(La=new(window.AudioContext||window.webkitAudioContext)),La};function qa(e){this.manager=void 0!==e?e:Wi}function Qa(e,t,n,r){ye.call(this),this.type="CubeCamera";var i=90,a=new Cn(i,1,e,t);a.up.set(0,-1,0),a.lookAt(new H(1,0,0)),this.add(a);var o=new Cn(i,1,e,t);o.up.set(0,-1,0),o.lookAt(new H(-1,0,0)),this.add(o);var s=new Cn(i,1,e,t);s.up.set(0,0,1),s.lookAt(new H(0,1,0)),this.add(s);var u=new Cn(i,1,e,t);u.up.set(0,0,-1),u.lookAt(new H(0,-1,0)),this.add(u);var l=new Cn(i,1,e,t);l.up.set(0,-1,0),l.lookAt(new H(0,0,1)),this.add(l);var c=new Cn(i,1,e,t);c.up.set(0,-1,0),c.lookAt(new H(0,0,-1)),this.add(c),r=r||{format:O,magFilter:S,minFilter:S},this.renderTarget=new $(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=e.getRenderTarget(),r=this.renderTarget,i=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,r.activeCubeFace=0,e.render(t,a,r),r.activeCubeFace=1,e.render(t,o,r),r.activeCubeFace=2,e.render(t,s,r),r.activeCubeFace=3,e.render(t,u,r),r.activeCubeFace=4,e.render(t,l,r),r.texture.generateMipmaps=i,r.activeCubeFace=5,e.render(t,c,r),e.setRenderTarget(n)},this.clear=function(e,t,n,r){for(var i=e.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)a.activeCubeFace=o,e.setRenderTarget(a),e.clear(t,n,r);e.setRenderTarget(i)}}function Xa(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Ya(){ye.call(this),this.type="AudioListener",this.context=Ha(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function Ka(e){ye.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Za(e){Ka.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Ja(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function $a(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(qa.prototype,{load:function(e,t,n,r){var i=new qi(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,(function(e){var n=e.slice(0);Ha().decodeAudioData(n,(function(e){t(e)}))}),n,r)},setPath:function(e){return this.path=e,this}}),Object.assign(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Cn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Cn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}.prototype,{update:function(){var e,t,n,r,i,a,o,s,u=new G,l=new G;return function(c){if(e!==this||t!==c.focus||n!==c.fov||r!==c.aspect*this.aspect||i!==c.near||a!==c.far||o!==c.zoom||s!==this.eyeSep){e=this,t=c.focus,n=c.fov,r=c.aspect*this.aspect,i=c.near,a=c.far,o=c.zoom;var f,h,d=c.projectionMatrix.clone(),p=(s=this.eyeSep/2)*i/t,m=i*Math.tan(j.DEG2RAD*n*.5)/o;l.elements[12]=-s,u.elements[12]=s,f=-m*r+p,h=m*r+p,d.elements[0]=2*i/(h-f),d.elements[8]=(h+f)/(h-f),this.cameraL.projectionMatrix.copy(d),f=-m*r-p,h=m*r-p,d.elements[0]=2*i/(h-f),d.elements[8]=(h+f)/(h-f),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(c.matrixWorld).multiply(l),this.cameraR.matrixWorld.copy(c.matrixWorld).multiply(u)}}()}),Qa.prototype=Object.create(ye.prototype),Qa.prototype.constructor=Qa,Object.assign(Xa.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}),Ya.prototype=Object.assign(Object.create(ye.prototype),{constructor:Ya,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(){var e=new H,t=new W,n=new H,r=new H,i=new Xa;return function(a){ye.prototype.updateMatrixWorld.call(this,a);var o=this.context.listener,s=this.up;if(this.timeDelta=i.getDelta(),this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),o.positionX){var u=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(e.x,u),o.positionY.linearRampToValueAtTime(e.y,u),o.positionZ.linearRampToValueAtTime(e.z,u),o.forwardX.linearRampToValueAtTime(r.x,u),o.forwardY.linearRampToValueAtTime(r.y,u),o.forwardZ.linearRampToValueAtTime(r.z,u),o.upX.linearRampToValueAtTime(s.x,u),o.upY.linearRampToValueAtTime(s.y,u),o.upZ.linearRampToValueAtTime(s.z,u)}else o.setPosition(e.x,e.y,e.z),o.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}()}),Ka.prototype=Object.assign(Object.create(ye.prototype),{constructor:Ka,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}),Za.prototype=Object.assign(Object.create(Ka.prototype),{constructor:Za,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var e=new H,t=new W,n=new H,r=new H;return function(i){if(ye.prototype.updateMatrixWorld.call(this,i),!1!==this.isPlaying){this.matrixWorld.decompose(e,t,n),r.set(0,0,1).applyQuaternion(t);var a=this.panner;if(a.positionX){var o=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(e.x,o),a.positionY.linearRampToValueAtTime(e.y,o),a.positionZ.linearRampToValueAtTime(e.z,o),a.orientationX.linearRampToValueAtTime(r.x,o),a.orientationY.linearRampToValueAtTime(r.y,o),a.orientationZ.linearRampToValueAtTime(r.z,o)}else a.setPosition(e.x,e.y,e.z),a.setOrientation(r.x,r.y,r.z)}}}()}),Object.assign(Ja.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign($a.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,i<1){var o=3*t;this._mixBufferRegion(n,r,o,1-i,t)}for(var s=t,u=t+t;s!==u;++s)if(n[s]!==n[s+t]){a.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]},_slerp:function(e,t,n,r){W.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}});var eo,to,no="\\[\\]\\.:\\/";function ro(e,t,n){var r=n||io.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function io(e,t,n){this.path=t,this.parsedPath=n||io.parseTrackName(t),this.node=io.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function ao(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,a=new Array(i),o={endingStart:F,endingEnd:F},s=0;s!==i;++s){var u=r[s].createInterpolant(null);a[s]=u,u.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function oo(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function so(e){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function uo(){Pe.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function lo(e,t,n){zn.call(this,e,t),this.meshPerAttribute=n||1}function co(e,t,n,r){"number"===typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Se.call(this,e,t,n),this.meshPerAttribute=r||1}function fo(e,t){return e.distance-t.distance}function ho(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,a=0,o=i.length;a<o;a++)ho(i[a],t,n,!0)}function po(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function mo(e,t){this.min=void 0!==e?e:new V(1/0,1/0),this.max=void 0!==t?t:new V(-1/0,-1/0)}function go(e,t){this.start=void 0!==e?e:new H,this.end=void 0!==t?t:new H}function vo(e){ye.call(this),this.material=e,this.render=function(){}}function yo(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var u=new Pe,l=new Oe(2*o*3,3);u.addAttribute("position",l),Yn.call(this,u,new Qn({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function bo(e,t){ye.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new Pe,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,a=1;i<32;i++,a++){var o=i/32*Math.PI*2,s=a/32*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new Oe(r,3));var u=new Qn({fog:!1});this.cone=new Yn(n,u),this.add(this.cone),this.update()}function wo(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,wo(e.children[n]));return t}function So(e){for(var t=wo(e),n=new Pe,r=[],i=[],a=new le(0,0,1),o=new le(0,1,0),s=0;s<t.length;s++){var u=t[s];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(a.r,a.g,a.b),i.push(o.r,o.g,o.b))}n.addAttribute("position",new Oe(r,3)),n.addAttribute("color",new Oe(i,3));var l=new Qn({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});Yn.call(this,n,l),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function xo(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new ei(t,4,2),i=new We({wireframe:!0,fog:!1});He.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function _o(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var n=new Pe;n.addAttribute("position",new Oe([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere();var r=new Qn({fog:!1});Xn.call(this,n,r);var i=new Pe;i.addAttribute("position",new Oe([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new He(i,new We({side:o,fog:!1}))),this.update()}function To(e,t,n){ye.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new fr(t);r.rotateY(.5*Math.PI),this.material=new We({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=2);var i=r.getAttribute("position"),a=new Float32Array(3*i.count);r.addAttribute("color",new Se(a,3)),this.add(new He(r,this.material)),this.update()}function Eo(e,t,n,r){e=e||10,t=t||10,n=new le(void 0!==n?n:4473924),r=new le(void 0!==r?r:8947848);for(var i=t/2,a=e/t,o=e/2,s=[],u=[],l=0,c=0,f=-o;l<=t;l++,f+=a){s.push(-o,0,f,o,0,f),s.push(f,0,-o,f,0,o);var h=l===i?n:r;h.toArray(u,c),c+=3,h.toArray(u,c),c+=3,h.toArray(u,c),c+=3,h.toArray(u,c),c+=3}var d=new Pe;d.addAttribute("position",new Oe(s,3)),d.addAttribute("color",new Oe(u,3));var p=new Qn({vertexColors:2});Yn.call(this,d,p)}function ko(e,t,n,r,i,a){e=e||10,t=t||16,n=n||8,r=r||64,i=new le(void 0!==i?i:4473924),a=new le(void 0!==a?a:8947848);var o,s,u,l,c,f,h,d=[],p=[];for(l=0;l<=t;l++)u=l/t*(2*Math.PI),o=Math.sin(u)*e,s=Math.cos(u)*e,d.push(0,0,0),d.push(o,0,s),h=1&l?i:a,p.push(h.r,h.g,h.b),p.push(h.r,h.g,h.b);for(l=0;l<=n;l++)for(h=1&l?i:a,f=e-e/n*l,c=0;c<r;c++)u=c/r*(2*Math.PI),o=Math.sin(u)*f,s=Math.cos(u)*f,d.push(o,0,s),p.push(h.r,h.g,h.b),u=(c+1)/r*(2*Math.PI),o=Math.sin(u)*f,s=Math.cos(u)*f,d.push(o,0,s),p.push(h.r,h.g,h.b);var m=new Pe;m.addAttribute("position",new Oe(d,3)),m.addAttribute("color",new Oe(p,3));var g=new Qn({vertexColors:2});Yn.call(this,m,g)}function Co(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new Pe,l=new Oe(2*o*3,3);u.addAttribute("position",l),Yn.call(this,u,new Qn({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Ao(e,t,n){ye.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new Pe;r.addAttribute("position",new Oe([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new Qn({fog:!1});this.lightPlane=new Xn(r,i),this.add(this.lightPlane),(r=new Pe).addAttribute("position",new Oe([0,0,0,0,0,1],3)),this.targetLine=new Xn(r,i),this.add(this.targetLine),this.update()}function Oo(e){var t=new Pe,n=new Qn({color:16777215,vertexColors:1}),r=[],i=[],a={},o=new le(16755200),s=new le(16711680),u=new le(43775),l=new le(16777215),c=new le(3355443);function f(e,t,n){h(e,n),h(t,n)}function h(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}f("n1","n2",o),f("n2","n4",o),f("n4","n3",o),f("n3","n1",o),f("f1","f2",o),f("f2","f4",o),f("f4","f3",o),f("f3","f1",o),f("n1","f1",o),f("n2","f2",o),f("n3","f3",o),f("n4","f4",o),f("p","n1",s),f("p","n2",s),f("p","n3",s),f("p","n4",s),f("u1","u2",u),f("u2","u3",u),f("u3","u1",u),f("c","t",l),f("p","c",c),f("cn1","cn2",c),f("cn3","cn4",c),f("cf1","cf2",c),f("cf3","cf4",c),t.addAttribute("position",new Oe(r,3)),t.addAttribute("color",new Oe(i,3)),Yn.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Io(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Pe;i.setIndex(new Se(n,1)),i.addAttribute("position",new Se(r,3)),Yn.call(this,i,new Qn({color:t})),this.matrixAutoUpdate=!1,this.update()}function Mo(e,t){this.type="Box3Helper",this.box=e;var n=void 0!==t?t:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Pe;i.setIndex(new Se(r,1)),i.addAttribute("position",new Oe([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Yn.call(this,i,new Qn({color:n})),this.geometry.computeBoundingSphere()}function Do(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0!==n?n:16776960,i=new Pe;i.addAttribute("position",new Oe([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),Xn.call(this,i,new Qn({color:r}));var a=new Pe;a.addAttribute("position",new Oe([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new He(a,new We({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function Ro(e,t,n,r,i,a){ye.call(this),void 0===e&&(e=new H(0,0,1)),void 0===t&&(t=new H(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===a&&(a=.2*i),void 0===eo&&((eo=new Pe).addAttribute("position",new Oe([0,0,0,0,1,0],3)),(to=new ci(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new Xn(eo,new Qn({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new He(to,new We({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,a)}function Po(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Pe;n.addAttribute("position",new Oe(t,3)),n.addAttribute("color",new Oe([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Qn({vertexColors:2});Yn.call(this,n,r)}Object.assign(ro.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(io,{Composite:ro,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new io.Composite(e,t,n):new io(e,t,n)},sanitizeNodeName:function(){var e=new RegExp("[\\[\\]\\.:\\/]","g");return function(t){return t.replace(/\s/g,"_").replace(e,"")}}(),parseTrackName:function(){var e="[^\\[\\]\\.:\\/]",t="[^"+no.replace("\\.","")+"]",n=/((?:WC+[\/:])*)/.source.replace("WC",e),r=/(WCOD+)?/.source.replace("WCOD",t),i=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",e),a=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",e),o=new RegExp("^"+n+r+i+a+"$"),s=["material","materials","bones"];return function(e){var t=o.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==s.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}}(),findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}),Object.assign(io.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=io.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}var s=e[r];if(void 0!==s){var u=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(e.geometry.morphAttributes.position[o].name===i){i=o;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===i){i=o;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][u]}else{var c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(io.prototype,{_getValue_unbound:io.prototype.getValue,_setValue_unbound:io.prototype.setValue}),Object.assign(function(){this.uuid=j.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,u=void 0,l=0,c=arguments.length;l!==c;++l){var f=arguments[l],h=f.uuid,d=r[h];if(void 0===d){d=t++,r[h]=d,e.push(f);for(var p=0,m=s;p!==m;++p)o[p].push(new io(f,i[p],a[p]))}else if(d<n){u=e[d];var g=--n,v=e[g];r[v.uuid]=d,e[d]=v,r[h]=g,e[g]=f;for(p=0,m=s;p!==m;++p){var y=o[p],b=y[g],w=y[d];y[d]=b,void 0===w&&(w=new io(f,i[p],a[p])),y[g]=w}}else e[d]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=n[u];if(void 0!==l&&l>=t){var c=t++,f=e[c];n[f.uuid]=l,e[l]=f,n[u]=c,e[c]=s;for(var h=0,d=i;h!==d;++h){var p=r[h],m=p[c],g=p[l];p[l]=m,p[c]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,a=i.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o],l=u.uuid,c=r[l];if(void 0!==c)if(delete r[l],c<n){var f=--n,h=e[f],d=e[y=--t];r[h.uuid]=c,e[c]=h,r[d.uuid]=f,e[f]=d,e.pop();for(var p=0,m=a;p!==m;++p){var g=(b=i[p])[f],v=b[y];b[c]=g,b[f]=v,b.pop()}}else{var y;r[(d=e[y=--t]).uuid]=c,e[c]=d,e.pop();for(p=0,m=a;p!==m;++p){var b;(b=i[p])[c]=b[y],b.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(c);for(var f=l,h=s.length;f!==h;++f){var d=s[f];c[f]=new io(d,e,t)}return c},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}),Object.assign(ao.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,u=a.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/o,u[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;if(a<0||0===n)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var u=this._interpolants,l=this._propertyBindings,c=0,f=u.length;c!==f;++c)u[c].evaluate(o),l[c].accumulate(r,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,a=2202===r;if(0===e)return-1===i?t:a&&1===(1&i)?n-t:t;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),t>=n||t<0){var o=Math.floor(t/n);t-=n*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(a&&1===(1&i))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=B,r.endingEnd=B):(r.endingStart=e?this.zeroSlopeAtStart?B:F:z,r.endingEnd=t?this.zeroSlopeAtEnd?B:F:z)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}),oo.prototype=Object.assign(Object.create(r.prototype),{constructor:oo,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==i;++c){var f=r[c],h=f.name,d=l[h];if(void 0!==d)a[c]=d;else{if(void 0!==(d=a[c])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,h));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(d=new $a(io.create(n,h,p),f.ValueTypeName,f.getValueSize())).referenceCount,this._addInactiveBinding(d,s,h),a[c]=d}o[c].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,u=s[s.length-1],l=e._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],a=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete o[i];e:{for(var l in o)break e;delete a[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Ii(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?Ui.findByName(n,e):e,a=null!==i?i.uuid:e,o=this._actionsByClip[a],s=null;if(void 0!==o){var u=o.actionByRoot[r];if(void 0!==u)return u;s=o.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var l=new ao(this,i,t);return this._bindAction(l,s),this._addInactiveAction(l,a,r),l},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?Ui.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}var s=this._bindings,u=this._nActiveBindings;for(o=0;o!==u;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,c=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,t[l]=c,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),so.prototype.clone=function(){return new so(void 0===this.value.clone?this.value:this.value.clone())},uo.prototype=Object.assign(Object.create(Pe.prototype),{constructor:uo,isInstancedBufferGeometry:!0,copy:function(e){return Pe.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),lo.prototype=Object.assign(Object.create(zn.prototype),{constructor:lo,isInstancedInterleavedBuffer:!0,copy:function(e){return zn.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),co.prototype=Object.assign(Object.create(Se.prototype),{constructor:co,isInstancedBufferAttribute:!0,copy:function(e){return Se.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(function(e,t,n,r){this.ray=new Ve(e,t),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return ho(e,this,r,t),r.sort(fo),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,a=e.length;i<a;i++)ho(e[i],this,r,t);return r.sort(fo),r}}),Object.assign(po.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(j.clamp(t/this.radius,-1,1))),this}}),Object.assign(function(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}}),Object.assign(mo.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new V;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new V),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new V),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new V),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new V),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new V;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}),Object.assign(go.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new H),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new H),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new H),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new H,t=new H;return function(n,r){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var i=t.dot(t),a=t.dot(e)/i;return r&&(a=j.clamp(a,0,1)),a}}(),closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new H),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),vo.prototype=Object.create(ye.prototype),vo.prototype.constructor=vo,vo.prototype.isImmediateRenderObject=!0,yo.prototype=Object.create(Yn.prototype),yo.prototype.constructor=yo,yo.prototype.update=function(){var e=new H,t=new H,n=new q;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,u=o.faces,l=0,c=0,f=u.length;c<f;c++)for(var h=u[c],d=0,p=h.vertexNormals.length;d<p;d++){var m=s[h[r[d]]],g=h.vertexNormals[d];e.copy(m).applyMatrix4(i),t.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),a.setXYZ(l,e.x,e.y,e.z),l+=1,a.setXYZ(l,t.x,t.y,t.z),l+=1}else if(o&&o.isBufferGeometry){var v=o.attributes.position,y=o.attributes.normal;for(l=0,d=0,p=v.count;d<p;d++)e.set(v.getX(d),v.getY(d),v.getZ(d)).applyMatrix4(i),t.set(y.getX(d),y.getY(d),y.getZ(d)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),a.setXYZ(l,e.x,e.y,e.z),l+=1,a.setXYZ(l,t.x,t.y,t.z),l+=1}a.needsUpdate=!0}}(),bo.prototype=Object.create(ye.prototype),bo.prototype.constructor=bo,bo.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},bo.prototype.update=function(){var e=new H;return function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,n=t*Math.tan(this.light.angle);this.cone.scale.set(n,n,t),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),So.prototype=Object.create(Yn.prototype),So.prototype.constructor=So,So.prototype.updateMatrixWorld=function(){var e=new H,t=new G,n=new G;return function(r){var i=this.bones,a=this.geometry,o=a.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s=0,u=0;s<i.length;s++){var l=i[s];l.parent&&l.parent.isBone&&(t.multiplyMatrices(n,l.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(u,e.x,e.y,e.z),t.multiplyMatrices(n,l.parent.matrixWorld),e.setFromMatrixPosition(t),o.setXYZ(u+1,e.x,e.y,e.z),u+=2)}a.getAttribute("position").needsUpdate=!0,ye.prototype.updateMatrixWorld.call(this,r)}}(),xo.prototype=Object.create(He.prototype),xo.prototype.constructor=xo,xo.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},xo.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},_o.prototype=Object.create(Xn.prototype),_o.prototype.constructor=_o,_o.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},_o.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},To.prototype=Object.create(ye.prototype),To.prototype.constructor=To,To.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},To.prototype.update=function(){var e=new H,t=new le,n=new le;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=r.geometry.getAttribute("color");t.copy(this.light.color),n.copy(this.light.groundColor);for(var a=0,o=i.count;a<o;a++){var s=a<o/2?t:n;i.setXYZ(a,s.r,s.g,s.b)}i.needsUpdate=!0}r.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),Eo.prototype=Object.create(Yn.prototype),Eo.prototype.constructor=Eo,ko.prototype=Object.create(Yn.prototype),ko.prototype.constructor=ko,Co.prototype=Object.create(Yn.prototype),Co.prototype.constructor=Co,Co.prototype.update=function(){var e=new H,t=new H,n=new q;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,u=0,l=0,c=s.length;l<c;l++){var f=s[l],h=f.normal;e.copy(o[f.a]).add(o[f.b]).add(o[f.c]).divideScalar(3).applyMatrix4(r),t.copy(h).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),i.setXYZ(u,e.x,e.y,e.z),u+=1,i.setXYZ(u,t.x,t.y,t.z),u+=1}i.needsUpdate=!0}}(),Ao.prototype=Object.create(ye.prototype),Ao.prototype.constructor=Ao,Ao.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Ao.prototype.update=function(){var e=new H,t=new H,n=new H;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(t),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(t),this.targetLine.scale.z=n.length()}}(),Oo.prototype=Object.create(Yn.prototype),Oo.prototype.constructor=Oo,Oo.prototype.update=function(){var e,t,n=new H,r=new kn;function i(i,a,o,s){n.set(a,o,s).unproject(r);var u=t[i];if(void 0!==u)for(var l=e.getAttribute("position"),c=0,f=u.length;c<f;c++)l.setXYZ(u[c],n.x,n.y,n.z)}return function(){e=this.geometry,t=this.pointMap;r.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-1,-1,-1),i("n2",1,-1,-1),i("n3",-1,1,-1),i("n4",1,1,-1),i("f1",-1,-1,1),i("f2",1,-1,1),i("f3",-1,1,1),i("f4",1,1,1),i("u1",.7,1.1,-1),i("u2",-.7,1.1,-1),i("u3",0,2,-1),i("cf1",-1,0,1),i("cf2",1,0,1),i("cf3",0,-1,1),i("cf4",0,1,1),i("cn1",-1,0,-1),i("cn2",1,0,-1),i("cn3",0,-1,-1),i("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),Io.prototype=Object.create(Yn.prototype),Io.prototype.constructor=Io,Io.prototype.update=function(){var e=new te;return function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&e.setFromObject(this.object),!e.isEmpty()){var n=e.min,r=e.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=n.x,a[4]=r.y,a[5]=r.z,a[6]=n.x,a[7]=n.y,a[8]=r.z,a[9]=r.x,a[10]=n.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=n.z,a[15]=n.x,a[16]=r.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=r.x,a[22]=n.y,a[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Io.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Io.prototype.copy=function(e){return Yn.prototype.copy.call(this,e),this.object=e.object,this},Io.prototype.clone=function(){return(new this.constructor).copy(this)},Mo.prototype=Object.create(Yn.prototype),Mo.prototype.constructor=Mo,Mo.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),ye.prototype.updateMatrixWorld.call(this,e))},Do.prototype=Object.create(Xn.prototype),Do.prototype.constructor=Do,Do.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?o:a,this.lookAt(this.plane.normal),ye.prototype.updateMatrixWorld.call(this,e)},Ro.prototype=Object.create(ye.prototype),Ro.prototype.constructor=Ro,Ro.prototype.setDirection=function(){var e,t=new H;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Math.acos(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),Ro.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},Ro.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},Ro.prototype.copy=function(e){return ye.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Ro.prototype.clone=function(){return(new this.constructor).copy(this)},Po.prototype=Object.create(Yn.prototype),Po.prototype.constructor=Po;function No(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),aa.call(this,e),this.type="catmullrom"}Zi.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Zi.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(va.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new we,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new H(i.x,i.y,i.z||0))}return t}}),Object.assign(ya.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Object.create(aa.prototype),Object.create(aa.prototype),No.prototype=Object.create(aa.prototype),Object.assign(No.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Eo.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},So.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Wa.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Da(e)}}),Object.assign(Na.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(mo.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(te.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),go.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(j,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),j.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),j.ceilPowerOfTwo(e)}}),Object.assign(q.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(G.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new H),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,a)}}),re.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},W.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Ve.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Ge.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(Ge,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ge.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ge.getNormal(e,t,n,r)}}),Object.assign(ba.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Qr(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ai(this,e)}}),Object.assign(V.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(H.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(K.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(we.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(ye.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(ye.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Gn.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Hn.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Wn.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Zi.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Cn.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(wa.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Se.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(Pe.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Pe.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(Xr.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(so.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Ue.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new le}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}}}),Object.defineProperties(wi.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(je.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Nn.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(Nn.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Sn.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Z.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(Rn.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),Ka.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new qa).load(e,(function(e){t.setBuffer(e)})),this},Ja.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Qa.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};Q.crossOrigin=void 0,Q.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Ki;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},Q.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Yi;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},Q.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Q.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var r=r||{};r.CompressionUtils=r.CompressionUtils||n(105),r.Dictionary=r.Dictionary||n(82),r.Image=r.Image||n(83),r.OrderedMapIterator=r.OrderedMapIterator||n(85),r.OrderedMap=r.OrderedMap||n(121),r.Parser=r.Parser||n(28),r.RLE=r.RLE||n(107),r.Series=r.Series||n(176),r.Tag=r.Tag||n(84),r.Utils=r.Utils||n(39),r.Siemens=r.Siemens||n(106);var i=i||{};i.lossless=i.lossless||{},i.lossless.Decoder=n(108);var a=a||n(115).JpegImage,o=o||n(116),s=s||n(118),u=u||n(117),l=l||n(119);"undefined"!==typeof e&&e.exports&&(e.exports=r)},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports=n(137)()},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var o=i.apply(null,r);o&&e.push(o)}else if("object"===a)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(4);var r=n(1),i=n.n(r),a=i.a.createContext({});a.Consumer,a.Provider;function o(e,t){var n=Object(r.useContext)(a);return e||n[t]||t}},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return s}));var a=n(10);function o(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?Object(a.a)(e):t}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return L}));var r=n(19),i=n(1),a=n.n(i),o=n(8),s=n.n(o),u=a.a.createContext(null),l=function(e){function t(t){var n;n=e.call(this,t)||this;var r=t.store;return n.state={storeState:r.getState(),store:r},n}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.subscribe()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(e){this.props.store!==e.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},n.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe((function(){var n=t.getState();e._isMounted&&e.setState((function(e){return e.storeState===n?null:{storeState:n}}))}));var n=t.getState();n!==this.state.storeState&&this.setState({storeState:n})},n.render=function(){var e=this.props.context||u;return a.a.createElement(e.Provider,{value:this.state},this.props.children)},t}(i.Component);l.propTypes={store:s.a.shape({subscribe:s.a.func.isRequired,dispatch:s.a.func.isRequired,getState:s.a.func.isRequired}),context:s.a.object,children:s.a.any};var c=l,f=n(10),h=n(4),d=n(7),p=n(87),m=n.n(p),g=n(25),v=n.n(g),y=n(86);function b(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,s=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,l=n.methodName,c=void 0===l?"connectAdvanced":l,p=n.renderCountProp,g=void 0===p?void 0:p,b=n.shouldHandleStateChanges,w=void 0===b||b,S=n.storeKey,x=void 0===S?"store":S,_=n.withRef,T=void 0!==_&&_,E=n.forwardRef,k=void 0!==E&&E,C=n.context,A=void 0===C?u:C,O=Object(d.a)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);v()(void 0===g,"renderCountProp is removed. render counting is built into the latest React dev tools profiling extension"),v()(!T,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var I="To use a custom Redux store for specific components,  create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like:  <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";v()("store"===x,"storeKey has been removed and does not do anything. "+I);var M=A;return function(t){var n=t.displayName||t.name||"Component",o=s(n),u=Object(h.a)({},O,{getDisplayName:s,methodName:c,renderCountProp:g,shouldHandleStateChanges:w,storeKey:x,displayName:o,wrappedComponentName:n,WrappedComponent:t}),l=O.pure,d=i.Component;l&&(d=i.PureComponent);var p=function(n){function i(t){var r;return r=n.call(this,t)||this,v()(k?!t.wrapperProps[x]:!t[x],"Passing redux store in props has been removed and does not do anything. "+I),r.selectDerivedProps=function(){var t,n,r,i,a,o;return function(s,u,c,f){if(l&&t===u&&n===s)return r;c===i&&a===f||(i=c,a=f,o=e(c.dispatch,f)),t=u,n=s;var h=o(s,u);return r=h}}(),r.selectChildElement=function(){var e,t,n,r;return function(i,o,s){return o===e&&s===t&&r===i||(e=o,t=s,r=i,n=a.a.createElement(i,Object(h.a)({},o,{ref:s}))),n}}(),r.indirectRenderWrappedComponent=r.indirectRenderWrappedComponent.bind(Object(f.a)(r)),r}Object(r.a)(i,n);var s=i.prototype;return s.indirectRenderWrappedComponent=function(e){return this.renderWrappedComponent(e)},s.renderWrappedComponent=function(e){v()(e,'Could not find "store" in the context of "'+o+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+o+" in connect options.");var n,r=e.storeState,i=e.store,a=this.props;k&&(a=this.props.wrapperProps,n=this.props.forwardedRef);var s=this.selectDerivedProps(r,a,i,u);return this.selectChildElement(t,s,n)},s.render=function(){var e=this.props.context&&this.props.context.Consumer&&Object(y.isContextConsumer)(a.a.createElement(this.props.context.Consumer,null))?this.props.context:M;return a.a.createElement(e.Consumer,null,this.indirectRenderWrappedComponent)},i}(d);if(p.WrappedComponent=t,p.displayName=o,k){var b=a.a.forwardRef((function(e,t){return a.a.createElement(p,{wrapperProps:e,forwardedRef:t})}));return b.displayName=o,b.WrappedComponent=t,m()(b,t)}return m()(p,t)}}var w=Object.prototype.hasOwnProperty;function S(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function x(e,t){if(S(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!w.call(t,n[i])||!S(e[n[i]],t[n[i]]))return!1;return!0}var _=n(64);function T(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function E(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function k(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=E(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=E(i),i=r(t,n)),i},r}}var C=[function(e){return"function"===typeof e?k(e):void 0},function(e){return e?void 0:T((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?T((function(t){return Object(_.a)(e,t)})):void 0}];var A=[function(e){return"function"===typeof e?k(e):void 0},function(e){return e?void 0:T((function(){return{}}))}];function O(e,t,n){return Object(h.a)({},n,e,t)}var I=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,s){var u=e(t,n,s);return o?i&&a(u,r)||(r=u):(o=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return O}}];function M(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function D(e,t,n,r,i){var a,o,s,u,l,c=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,o),m=!c(i,a);return a=i,o=d,p&&m?(s=e(a,o),t.dependsOnOwnProps&&(u=t(r,o)),l=n(s,u,o)):p?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(u=t(r,o)),l=n(s,u,o)):m?function(){var t=e(a,o),r=!h(t,s);return s=t,r&&(l=n(s,u,o)),l}():l}return function(i,c){return d?p(i,c):(s=e(a=i,o=c),u=t(r,o),l=n(s,u,o),d=!0,l)}}function R(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=Object(d.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,a),s=r(e,a),u=i(e,a);return(a.pure?D:M)(o,s,u,e,a)}function P(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function N(e,t){return e===t}var L=function(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?b:n,i=t.mapStateToPropsFactories,a=void 0===i?A:i,o=t.mapDispatchToPropsFactories,s=void 0===o?C:o,u=t.mergePropsFactories,l=void 0===u?I:u,c=t.selectorFactory,f=void 0===c?R:c;return function(e,t,n,i){void 0===i&&(i={});var o=i,u=o.pure,c=void 0===u||u,p=o.areStatesEqual,m=void 0===p?N:p,g=o.areOwnPropsEqual,v=void 0===g?x:g,y=o.areStatePropsEqual,b=void 0===y?x:y,w=o.areMergedPropsEqual,S=void 0===w?x:w,_=Object(d.a)(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),T=P(e,a,"mapStateToProps"),E=P(t,s,"mapDispatchToProps"),k=P(n,l,"mergeProps");return r(f,Object(h.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:T,initMapDispatchToProps:E,initMergeProps:k,pure:c,areStatesEqual:m,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:S},_))}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1);var i=function(e){var t=Object(r.useRef)(e);return Object(r.useEffect)((function(){t.current=e}),[e]),t};function a(e){var t=i(e);return Object(r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(1),i=n.n(r).a.createContext(null),a=function(e,t){return void 0===t&&(t=null),null!=e?String(e):t||null};t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(4),i=n(7),a=n(9),o=n.n(a),s=/-(.)/g;var u=n(1),l=n.n(u),c=n(11),f=function(e){return e[0].toUpperCase()+(t=e,t.replace(s,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function h(e,t){var n=void 0===t?{}:t,a=n.displayName,s=void 0===a?f(e):a,u=n.Component,h=n.defaultProps,d=l.a.forwardRef((function(t,n){var a=t.className,s=t.bsPrefix,f=t.as,h=void 0===f?u||"div":f,d=Object(i.a)(t,["className","bsPrefix","as"]),p=Object(c.a)(s,e);return l.a.createElement(h,Object(r.a)({ref:n,className:o()(a,p)},d))}));return d.defaultProps=h,d.displayName=s,d}},function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(133)},function(e,t,n){"use strict";var r=n(18);function i(e,t){return function(e){var t=Object(r.a)(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var a=/([A-Z])/g;var o=/^ms-/;function s(e){return function(e){return e.replace(a,"-$1").toLowerCase()}(e).replace(o,"-ms-")}var u=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;t.a=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(s(t))||i(e).getPropertyValue(s(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!u.test(e))}(i)?n+=s(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(s(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function i(e,t){return r(e.querySelectorAll(t))}},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&d())}function d(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(1),i=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};t.a=function(e,t){return Object(r.useMemo)((function(){return function(e,t){var n=i(e),r=i(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,o,s],c=0;(u=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";var r=n(65),i=n(53);t.a=function(e,t,n,a){return Object(r.a)(e,t,n,a),function(){Object(i.a)(e,t,n,a)}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=r||{};r.Tag=r.Tag||n(84),r.Utils=r.Utils||n(39),r.Dictionary=r.Dictionary||n(82),r.Image=r.Image||n(83);var i=i||n(119);r.Parser=r.Parser||function(){this.littleEndian=!0,this.explicit=!0,this.metaFound=!1,this.metaFinished=!1,this.metaFinishedOffset=-1,this.needsDeflate=!1,this.inflated=null,this.encapsulation=!1,this.level=0,this.error=null},r.Parser.verbose=!1,r.Parser.MAGIC_COOKIE_OFFSET=128,r.Parser.MAGIC_COOKIE=[68,73,67,77],r.Parser.VRS=["AE","AS","AT","CS","DA","DS","DT","FL","FD","IS","LO","LT","OB","OD","OF","OW","PN","SH","SL","SS","ST","TM","UI","UL","UN","US","UT"],r.Parser.DATA_VRS=["OB","OW","OF","SQ","UT","UN"],r.Parser.RAW_DATA_VRS=["OB","OD","OF","OW","UN"],r.Parser.TRANSFER_SYNTAX_IMPLICIT_LITTLE="1.2.840.10008.1.2",r.Parser.TRANSFER_SYNTAX_EXPLICIT_LITTLE="1.2.840.10008.1.2.1",r.Parser.TRANSFER_SYNTAX_EXPLICIT_BIG="1.2.840.10008.1.2.2",r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG="1.2.840.10008.1.2.4",r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LOSSLESS="1.2.840.10008.1.2.4.57",r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LOSSLESS_SEL1="1.2.840.10008.1.2.4.70",r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_BASELINE_8BIT="1.2.840.10008.1.2.4.50",r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_BASELINE_12BIT="1.2.840.10008.1.2.4.51",r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LS_LOSSLESS="1.2.840.10008.1.2.4.80",r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LS="1.2.840.10008.1.2.4.81",r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_2000_LOSSLESS="1.2.840.10008.1.2.4.90",r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_2000="1.2.840.10008.1.2.4.91",r.Parser.TRANSFER_SYNTAX_COMPRESSION_RLE="1.2.840.10008.1.2.5",r.Parser.TRANSFER_SYNTAX_COMPRESSION_DEFLATE="1.2.840.10008.1.2.1.99",r.Parser.UNDEFINED_LENGTH=4294967295,r.Parser.isMagicCookieFound=function(e){var t,n=r.Parser.MAGIC_COOKIE_OFFSET,i=r.Parser.MAGIC_COOKIE.length;for(t=0;t<i;t+=1)if(e.getUint8(n+t)!==r.Parser.MAGIC_COOKIE[t])return!1;return!0},r.Parser.prototype.parse=function(e){var t,n,a,o,s=null;try{for(s=new r.Image,t=this.findFirstTagOffset(e),n=this.getNextTag(e,t);null!==n&&(r.Parser.verbose&&console.log(n.toString()),s.putTag(n),!n.isPixelData());)this.needsDeflate&&n.offsetEnd>=this.metaFinishedOffset&&(this.needsDeflate=!1,a=e.buffer.slice(0,n.offsetEnd),o=e.buffer.slice(n.offsetEnd),this.inflated=r.Utils.concatArrayBuffers(a,i.inflateRaw(o)),e=new DataView(this.inflated)),n=this.getNextTag(e,n.offsetEnd)}catch(u){this.error=u}return null!==s&&(s.littleEndian=this.littleEndian),s},r.Parser.prototype.parseEncapsulated=function(e){var t,n=[];this.encapsulation=!0;try{for(t=this.getNextTag(e,0);null!==t;)t.isSublistItem()&&n.push(t),r.Parser.verbose&&console.log(t.toString()),t=this.getNextTag(e,t.offsetEnd)}catch(i){this.error=i}return n},r.Parser.prototype.testForValidTag=function(e){var t,n=null;try{t=this.findFirstTagOffset(e),n=this.getNextTag(e,t,!1)}catch(r){this.error=r}return n},r.Parser.prototype.getNextTag=function(e,t,n){var i,a,o,s=0,u=null,l=t,c=0,f=!0,h=null;if(t>=e.byteLength)return null;this.metaFinished?(f=this.littleEndian,s=e.getUint16(t,f)):(s=e.getUint16(t,!0),-1!==this.metaFinishedOffset&&t>=this.metaFinishedOffset||2!==s?(this.metaFinished=!0,f=this.littleEndian,s=e.getUint16(t,f)):f=!0),this.metaFound||2!==s||(this.metaFound=!0),t+=2,i=e.getUint16(t,f),t+=2,this.explicit||!this.metaFinished?(h=r.Utils.getStringAt(e,t,2),!this.metaFound&&this.metaFinished&&-1===r.Parser.VRS.indexOf(h)?(h=r.Dictionary.getVR(s,i),c=e.getUint32(t,f),t+=4,this.explicit=!1):(t+=2,-1!==r.Parser.DATA_VRS.indexOf(h)?(t+=2,c=e.getUint32(t,f),t+=4):(c=e.getUint16(t,f),t+=2))):(h=r.Dictionary.getVR(s,i),(c=e.getUint32(t,f))===r.Parser.UNDEFINED_LENGTH&&(h="SQ"),t+=4),a=t;var d=s===r.Tag.TAG_PIXEL_DATA[0]&&i===r.Tag.TAG_PIXEL_DATA[1];return"SQ"===h||!d&&!this.encapsulation&&-1!==r.Parser.DATA_VRS.indexOf(h)?(u=this.parseSublist(e,t,c,"SQ"!==h),c===r.Parser.UNDEFINED_LENGTH&&(c=u[u.length-1].offsetEnd-t)):c>0&&!n&&(c===r.Parser.UNDEFINED_LENGTH&&d&&(c=e.byteLength-t),u=e.buffer.slice(t,t+c)),t+=c,(o=new r.Tag(s,i,h,u,l,a,t,this.littleEndian)).isTransformSyntax()?o.value[0]===r.Parser.TRANSFER_SYNTAX_IMPLICIT_LITTLE?(this.explicit=!1,this.littleEndian=!0):o.value[0]===r.Parser.TRANSFER_SYNTAX_EXPLICIT_BIG?(this.explicit=!0,this.littleEndian=!1):o.value[0]===r.Parser.TRANSFER_SYNTAX_COMPRESSION_DEFLATE?(this.needsDeflate=!0,this.explicit=!0,this.littleEndian=!0):(this.explicit=!0,this.littleEndian=!0):o.isMetaLength()&&(this.metaFinishedOffset=o.value[0]+t),o},r.Parser.prototype.parseSublist=function(e,t,n,i){var a,o=t+n,s=[];if(this.level++,n===r.Parser.UNDEFINED_LENGTH){for(a=this.parseSublistItem(e,t,i);!a.isSequenceDelim();)s.push(a),t=a.offsetEnd,a=this.parseSublistItem(e,t,i);s.push(a)}else for(;t<o;)a=this.parseSublistItem(e,t,i),s.push(a),t=a.offsetEnd;return this.level--,s},r.Parser.prototype.parseSublistItem=function(e,t,n){var i,a,o,s,u,l,c=t,f=null,h=[];if(i=e.getUint16(t,this.littleEndian),t+=2,a=e.getUint16(t,this.littleEndian),t+=2,o=e.getUint32(t,this.littleEndian),l=t+=4,o===r.Parser.UNDEFINED_LENGTH){for(u=this.getNextTag(e,t);!u.isSublistItemDelim();)h.push(u),t=u.offsetEnd,u=this.getNextTag(e,t);h.push(u),t=u.offsetEnd}else if(n)f=e.buffer.slice(t,t+o),t+=o;else for(s=t+o;t<s;)u=this.getNextTag(e,t),h.push(u),t=u.offsetEnd;return new r.Tag(i,a,null,f||h,c,l,t,this.littleEndian)},r.Parser.prototype.findFirstTagOffset=function(e){var t=0,n=r.Parser.MAGIC_COOKIE.length,i=5*r.Parser.MAGIC_COOKIE_OFFSET,a=!1,o=0,s=0;if(r.Parser.isMagicCookieFound(e))t=r.Parser.MAGIC_COOKIE_OFFSET+n;else for(o=0;o<i;o+=1)if(e.getUint8(o)===r.Parser.MAGIC_COOKIE[0]){for(a=!0,s=1;s<n;s+=1)e.getUint8(o+s)!==r.Parser.MAGIC_COOKIE[s]&&(a=!1);if(a){t=o+n;break}}return t},r.Parser.prototype.hasError=function(){return null!==this.error},"undefined"!==typeof e&&e.exports&&(e.exports=r.Parser)},function(e,t,n){"use strict";var r=n(1),i=n.n(r).a.createContext(null);i.displayName="NavbarContext",t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(4),i=n(7),a=n(1);n(25);function o(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function s(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function u(e,t,n){var r=Object(a.useRef)(void 0!==e),i=Object(a.useState)(t),o=i[0],s=i[1],u=void 0!==e,l=r.current;return r.current=u,!u&&l&&o!==t&&s(t),[u?e:o,Object(a.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),s(e)}),[n])]}function l(e,t){return Object.keys(t).reduce((function(n,a){var l,c=n,f=c[o(a)],h=c[a],d=Object(i.a)(c,[o(a),a].map(s)),p=t[a],m=u(h,f,e[p]),g=m[0],v=m[1];return Object(r.a)({},d,((l={})[a]=g,l[p]=v,l))}),e)}n(19);function c(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function f(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function h(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}c.__suppressDeprecationWarning=!0,f.__suppressDeprecationWarning=!0,h.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return m}));var r=n(7),i=n(19),a=(n(8),n(1)),o=n.n(a),s=n(20),u=n.n(s),l=!1,c=o.a.createContext(null),f="unmounted",h="exited",d="entering",p="entered",m="exiting",g=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=h,r.appearStatus=d):i=p:i=t.unmountOnExit||t.mountOnEnter?f:h,r.state={status:i},r.nextCallback=null,r}Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===f?{status:h}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==p&&(t=d):n!==d&&n!==p||(t=m)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===d?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===h&&this.setState({status:f})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[u.a.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||l?this.safeSetState({status:p},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:d},(function(){t.props.onEntering(a,o),t.onTransitionEnd(c,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:u.a.findDOMNode(this);t&&!l?(this.props.onExit(r),this.safeSetState({status:m},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:h},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:h},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:u.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===f)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(r.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.a.createElement(c.Provider,{value:null},"function"===typeof n?n(e,i):o.a.cloneElement(o.a.Children.only(n),i))},t}(o.a.Component);function v(){}g.contextType=c,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:v,onEntering:v,onEntered:v,onExit:v,onExiting:v,onExited:v},g.UNMOUNTED=f,g.EXITED=h,g.ENTERING=d,g.ENTERED=p,g.EXITING=m;t.e=g},function(e,t,n){"use strict";(function(e){var r=n(142),i=n(143),a=n(91);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):h(e,t);if("Buffer"===t.type&&a(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(c(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return j(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var a,o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=n;a<s;a++)if(l(e,a)===l(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var f=!0,h=0;h<u;h++)if(l(e,a+h)!==l(t,h)){f=!1;break}if(f)return a}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function w(e,t,n,r){return G(j(t,e.length-n),e,n,r)}function S(e,t,n,r){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return S(e,t,n,r)}function _(e,t,n,r){return G(V(t),e,n,r)}function T(e,t,n,r){return G(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,u,l=e[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=n)switch(f){case 1:l<128&&(c=l);break;case 2:128===(192&(a=e[i+1]))&&(u=(31&l)<<6|63&a)>127&&(c=u);break;case 3:a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(u=(15&l)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(r,i),c=e.slice(t,n),f=0;f<s;++f)if(l[f]!==c[f]){a=l[f],o=c[f];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=U(e[a]);return i}function M(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function D(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function L(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,a){return a||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,a){return a||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=u.isBuffer(e)?e:j(new u(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function G(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(27))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(){return Object(r.useState)(null)}},function(e,t,n){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},o={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(r)},function(e,t,n){"use strict";t.a=!("undefined"===typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var r=n(58),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var a=Object.create(n(52));a.inherits=n(37);var o=n(93),s=n(78);a.inherits(f,o);for(var u=i(s.prototype),l=0;l<u.length;l++){var c=u[l];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(e){if(!(this instanceof f))return new f(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";var r=r||{};r.Utils=r.Utils||{},r.Utils.crcTable=null,r.Utils.MAX_VALUE=9007199254740991,r.Utils.MIN_VALUE=-9007199254740991,r.Utils.dec2hex=function(e){return(e+65536).toString(16).substr(-4).toUpperCase()},r.Utils.createArray=function(e){var t=new Array(e||0),n=e;if(arguments.length>1)for(var i=Array.prototype.slice.call(arguments,1);n--;)t[e-1-n]=r.Utils.createArray.apply(this,i);return t},r.Utils.getStringAt=function(e,t,n){var r,i,a="";for(r=0;r<n;r+=1)0!==(i=e.getUint8(t+r))&&(a+=String.fromCharCode(i));return a},r.Utils.trim=function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},r.Utils.stripLeadingZeros=function(e){return e.replace(/^[0]+/g,"")},r.Utils.safeParseInt=function(e){return(e=r.Utils.stripLeadingZeros(e)).length>0?parseInt(e,10):0},r.Utils.convertCamcelCaseToTitleCase=function(e){var t=e.replace(/([A-Z][a-z])/g," $1");return r.Utils.trim(t.charAt(0).toUpperCase()+t.slice(1))},r.Utils.safeParseFloat=function(e){return(e=r.Utils.stripLeadingZeros(e)).length>0?parseFloat(e):0},r.Utils.bytesToDouble=function(e){var t=(128&e[0])>>7,n=(127&e[0])<<4|(240&e[1])>>4;if(0==n)return 0;if(2047==n)return t?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;var r=Math.pow(2,n-1023-52),i=e[7]+e[6]*Math.pow(2,8)+e[5]*Math.pow(2,16)+e[4]*Math.pow(2,24)+e[3]*Math.pow(2,32)+e[2]*Math.pow(2,40)+(15&e[1])*Math.pow(2,48)+Math.pow(2,52);return Math.pow(-1,t)*i*r},r.Utils.concatArrayBuffers=function(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n.buffer},r.Utils.concatArrayBuffers2=function(e){var t,n=0,r=0;for(t=0;t<e.length;t+=1)n+=e[t].byteLength;var i=new Uint8Array(n);for(t=0;t<e.length;t+=1)i.set(new Uint8Array(e[t]),r),r+=e[t].byteLength;return i.buffer},r.Utils.fillBuffer=function(e,t,n,r){var i;if(1===r)for(i=0;i<e.length;i+=1)t.setUint8(n+i,e[i]);else if(2===r)for(i=0;i<e.length;i+=1)t.setUint16(n+2*i,e[i],!0)},r.Utils.fillBufferRGB=function(e,t,n){var r,i,a,o,s=parseInt(e.length/3);for(o=0;o<s;o+=1)r=e[3*o],i=e[3*o+1],a=e[3*o+2],t.setUint8(n+o,parseInt((r+a+i)/3),!0)},r.Utils.bind=function(e,t,n,r){if(2===arguments.length)return function(){return t.apply(e,arguments)};var i=t,a=Array.prototype.slice;return function(){var t=n||arguments;return!0===r?t=(t=a.call(arguments,0)).concat(n):"number"===typeof r&&(t=a.call(arguments,0),Ext.Array.insert(t,r,n)),i.apply(e||window,t)}},r.Utils.toArrayBuffer=function(e){var t,n,r;for(t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r+=1)n[r]=e[r];return t},r.Utils.isString=function(e){return"string"===typeof e||e instanceof String},r.Utils.isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},r.Utils.swap32=function(e){return(255&e)<<24|(65280&e)<<8|e>>8&65280|e>>24&255},r.Utils.swap16=function(e){return((255&e)<<8|e>>8&255)<<16>>16},r.Utils.makeCRCTable=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t},r.Utils.crc32=function(e){for(var t=r.Utils.crcTable||(r.Utils.crcTable=r.Utils.makeCRCTable()),n=-1,i=0;i<e.byteLength;i++)n=n>>>8^t[255&(n^e.getUint8(i))];return(-1^n)>>>0},r.Utils.createBitMask=function(e,t,n){var r=4294967295;return r>>>=8*(4-e)+(8*e-t),n?1==e?r&=255:2==e?r&=65535:4==e?r&=4294967295:8==e&&(r=4294967295):r=4294967295,r},"undefined"!==typeof e&&e.exports&&(e.exports=r.Utils)},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";function r(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20),i=n.n(r);function a(e){return e&&"setState"in e?i.a.findDOMNode(e):null!=e?e:null}},,function(e,t,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.DataStream=r.lossless.DataStream||function(e,t,n){this.buffer=void 0===t&&void 0===n?new Uint8Array(e):new Uint8Array(e,t,n),this.index=0},r.lossless.DataStream.prototype.get16=function(){var e=(this.buffer[this.index]<<8)+this.buffer[this.index+1];return this.index+=2,e},r.lossless.DataStream.prototype.get8=function(){var e=this.buffer[this.index];return this.index+=1,e},"undefined"!==typeof e&&e.exports&&(e.exports=r.lossless.DataStream)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(21),i=n(26);function a(e,t,n){void 0===n&&(n=5);var r=!1,a=setTimeout((function(){r||function(e){var t=document.createEvent("HTMLEvents");t.initEvent("transitionend",!0,!0),e.dispatchEvent(t)}(e)}),t+n),o=Object(i.a)(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(a),o()}}function o(e,t,n,o){null==n&&(n=function(e){var t=Object(r.a)(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var s=a(e,n,o),u=Object(i.a)(e,"transitionend",t);return function(){s(),u()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(){var e=Object(r.useRef)(!0),t=Object(r.useRef)((function(){return e.current}));return Object(r.useEffect)((function(){return function(){e.current=!1}}),[]),t.current}},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(1),o=n.n(a),s=n(36);function u(e){return!e||"#"===e.trim()}var l=o.a.forwardRef((function(e,t){var n=e.as,a=void 0===n?"a":n,l=e.disabled,c=e.onKeyDown,f=Object(i.a)(e,["as","disabled","onKeyDown"]),h=function(e){var t=f.href,n=f.onClick;(l||u(t))&&e.preventDefault(),l?e.stopPropagation():n&&n(e)};return u(f.href)&&(f.role=f.role||"button",f.href=f.href||"#"),l&&(f.tabIndex=-1,f["aria-disabled"]=!0),o.a.createElement(a,Object(r.a)({ref:t},f,{onClick:h,onKeyDown:Object(s.a)((function(e){" "===e.key&&(e.preventDefault(),h(e))}),c)}))}));l.displayName="SafeAnchor",t.a=l},function(e,t,n){"use strict";var r=n(1),i=n.n(r).a.createContext(null);i.displayName="NavContext",t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e){var t=function(e){var t=Object(r.useRef)(e);return t.current=e,t}(e);Object(r.useEffect)((function(){return function(){return t.current()}}),[])}},function(e,t,n){"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r,i=n(4),a=n(7),o=n(9),s=n.n(o),u=n(45),l=n(1),c=n.n(l),f=n(31),h=n(67),d=((r={})[f.b]="show",r[f.a]="show",r),p=c.a.forwardRef((function(e,t){var n=e.className,r=e.children,o=Object(a.a)(e,["className","children"]),p=Object(l.useCallback)((function(e){Object(h.a)(e),o.onEnter&&o.onEnter(e)}),[o]);return c.a.createElement(f.e,Object(i.a)({ref:t,addEndListener:u.a},o,{onEnter:p}),(function(e,t){return c.a.cloneElement(r,Object(i.a)({},t,{className:s()("fade",n,r.props.className,d[e])}))}))}));p.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},p.displayName="Fade",t.a=p},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"===typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"===typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"===typeof e},t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=e.isBuffer}).call(this,n(32).Buffer)},function(e,t,n){"use strict";t.a=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(18),i=n(1),a=function(e){var t;return"undefined"===typeof document?null:null==e?Object(r.a)().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),(null==(t=e)?void 0:t.nodeType)&&e||null)};function o(e,t){var n=Object(i.useState)((function(){return a(e)})),r=n[0],o=n[1];if(!r){var s=a(e);s&&o(s)}return Object(i.useEffect)((function(){t&&r&&t(r)}),[t,r]),Object(i.useEffect)((function(){var t=a(e);t!==r&&o(t)}),[e,r]),r}},function(e,t,n){e.exports=n(141)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r.y})),n.d(t,"c",(function(){return r.Sc})),n.d(t,"d",(function(){return r.id})),n.d(t,"b",(function(){return zn}));var r=n(0),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function a(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o,s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function u(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function c(){return null==o&&(o=Object(r.s)().epsilon()),o}var f=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return a(t,e),t}(Error),h=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return a(t,e),t}(Error),d=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return a(t,e),t}(Error),p=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return a(t,e),t}(Error),m=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return a(t,e),t}(Error);!function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}a(t,e)}(Error);function g(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++)n=n.concat(e);return n}return(n=new Array(t)).fill(e),n}function v(e,t){if(!e)throw new m(t)}function y(e,t){for(var n=0,r=0,i=e;r<i.length;r++)i[r]===t&&n++;return n}function b(e){return 1===e.length?e[0]:e}function w(e){return Array.isArray(e)?e:[e]}function S(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function x(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,(function(e,t){return t.toUpperCase()}))}var _={};function T(e){if(null===e||void 0===e)return null;var t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function E(e){if(null!=e&&"object"==typeof e)if(Array.isArray(e))e.forEach((function(e){return E(e)}));else for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],i=e[r];null!=i&&"object"==typeof i&&(Array.isArray(i)||"ndarray"!==i.type||"number"!=typeof i.value?E(i):e[r]=i.value)}}function k(e,t,n,r,i){var a,o,u;if(void 0===t&&(t={}),void 0===n&&(n={}),void 0===r&&(r="object"),void 0===i&&(i=!1),"string"==typeof e){var l=e,c=void 0;if(l in n)c=n[l];else if(l in _)c=_[l];else if(null==(c=t[l]))throw new d("Unknown "+r+": "+e+". This may be due to one of the following reasons:\n1. The "+r+" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom "+r+" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().");return c}var f=e;if(null==f.className||null==f.config)throw new d(r+": Improper config format: "+JSON.stringify(f)+".\n'className' and 'config' must set.");var h=f.className,p=void 0,m=void 0;if(h in n?(p=(a=n[h])[0],m=a[1]):h in _?(p=(o=_.className)[0],m=o[1]):h in t&&(p=(u=t[h])[0],m=u[1]),null==p)throw new d("Unknown "+r+": "+h+". This may be due to one of the following reasons:\n1. The "+r+" is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom "+r+" is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().");if(null!=m){for(var g={},v=0,y=Object.keys(_);v<y.length;v++)g[k=y[v]]=_[k];for(var b=0,w=Object.keys(n);b<w.length;b++)g[k=w[b]]=n[k];f.config.customObjects=g;for(var S=s({},_),x=0,T=Object.keys(n);x<T.length;x++){var k=T[x];_[k]=n[k]}E(f.config);var C=m(p,f.config,n,i);return _=s({},S),C}S=s({},_);for(var A=0,O=Object.keys(n);A<O.length;A++)k=O[A],_[k]=n[k];return C=new p(f.config),_=s({},S),C}function C(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function A(e){if(null==e)return e;for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];-1===t.indexOf(i)&&t.push(i)}return t}function O(e){if(null==e)throw new d("Invalid value in obj: "+JSON.stringify(e));for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function I(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new d(n+" is not a valid "+t+".  Valid values are "+e+" or null/undefined.")}function M(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=1/0),v(n>=0),v(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((function(e){return typeof e===t}))}function D(e,t){Array.isArray(e)?(r.dd.assert(e.length>0,(function(){return t+" is unexpectedly an empty array."})),e.forEach((function(e,n){return D(e,"element "+(n+1)+" of "+t)}))):r.dd.assert(Number.isInteger(e)&&e>0,(function(){return"Expected "+t+" to be a positive integer, but got "+R(e)+"."}))}function R(e){return null===e?"null":Array.isArray(e)?"["+e.map((function(e){return R(e)})).join(",")+"]":"string"==typeof e?'"'+e+'"':""+e}function P(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}function N(e,t){return Object(r.Wc)((function(){return Object(r.Ic)(Object(r.Pc)(Object(r.Rb)(e,e),t,!0))}))}var L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getConfig=function(){return{}},t}(r.sc.Serializable),F=function(e){function t(t){var n=e.call(this)||this;return n.defaultMaxValue=2,n.defaultAxis=0,n.maxValue=null!=t.maxValue?t.maxValue:n.defaultMaxValue,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return a(t,e),t.prototype.apply=function(e){var t=this;return Object(r.Wc)((function(){var n=N(e,t.axis),i=Object(r.B)(n,0,t.maxValue);return Object(r.Qb)(e,Object(r.S)(i,Object(r.f)(c(),n)))}))},t.prototype.getConfig=function(){return{maxValue:this.maxValue,axis:this.axis}},t.className="MaxNorm",t}(L);r.sc.registerClass(F);var B=function(e){function t(t){var n=e.call(this)||this;return n.defaultAxis=0,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return a(t,e),t.prototype.apply=function(e){var t=this;return Object(r.Wc)((function(){return Object(r.S)(e,Object(r.f)(c(),N(e,t.axis)))}))},t.prototype.getConfig=function(){return{axis:this.axis}},t.className="UnitNorm",t}(L);r.sc.registerClass(B);var z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return Object(r.ic)(e)},t.className="NonNeg",t}(L);r.sc.registerClass(z);var U=function(e){function t(t){var n=e.call(this)||this;return n.defaultMinValue=0,n.defaultMaxValue=1,n.defaultRate=1,n.defaultAxis=0,n.minValue=null!=t.minValue?t.minValue:n.defaultMinValue,n.maxValue=null!=t.maxValue?t.maxValue:n.defaultMaxValue,n.rate=null!=t.rate?t.rate:n.defaultRate,n.axis=null!=t.axis?t.axis:n.defaultAxis,n}return a(t,e),t.prototype.apply=function(e){var t=this;return Object(r.Wc)((function(){var n=N(e,t.axis),i=Object(r.f)(Object(r.Qb)(t.rate,Object(r.B)(n,t.minValue,t.maxValue)),Object(r.Qb)(1-t.rate,n));return Object(r.Qb)(e,Object(r.S)(i,Object(r.f)(c(),n)))}))},t.prototype.getConfig=function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}},t.className="MinMaxNorm",t}(L);r.sc.registerClass(U);var j={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function V(e){return T(e)}function G(e,t){return void 0===t&&(t={}),k(e,r.sc.SerializationMap.getMap().classNameMap,t,"constraint")}function W(e){return null==e?null:"string"==typeof e?G({className:e in j?j[e]:e,config:{}}):e instanceof L?e:G(e)}Object.freeze({maxNorm:function(e){return new F(e)},unitNorm:function(e){return new B(e)},nonNeg:function(){return new z},minMaxNorm:function(e){return new U(e)}});var H=["channelsFirst","channelsLast"],q=["valid","same","causal"],Q=["max","avg"],X=["sum","mul","concat","ave"],Y=new Map;function K(e){I(H,"DataFormat",e)}function Z(e){I(q,"PaddingMode",e)}function J(e){I(Q,"PoolMode",e)}var $=[];function ee(e,t){$.push(e);try{var n=t();return $.pop(),n}catch(e){throw $.pop(),e}}function te(e){if(!ie(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===$.length?"":$.join("/")+"/")+e}function ne(e){if(!ie(e))throw new Error("Not a valid tensor name: '"+e+"'");Y.has(e)||Y.set(e,0);var t=Y.get(e);if(Y.set(e,Y.get(e)+1),t>0){var n=e+"_"+t;return Y.set(n,1),n}return e}var re=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function ie(e){return!!e.match(re)}function ae(e){return e===parseInt(e.toString(),10)}function oe(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,i=t;i<n;++i)r*=e[i];return r}function se(e){return e=Array.isArray(e)?new Float32Array(e):e,Object(r.Tc)(e)}function ue(e){return Object(r.Mb)(se(e)).dataSync()[0]}function le(e){return Object(r.Fb)(se(e)).dataSync()[0]}function ce(e,t){if(t<e)throw new d("end ("+t+") < begin ("+e+") is forbidden.");for(var n=[],r=e;r<t;++r)n.push(r);return n}function fe(e,t){return e.asType(t)}function he(e,t){void 0===t&&(t=-1);var n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),e.reshape(n)}function de(e,t,n){return Object(r.Wc)((function(){switch(e.rank){case 1:return Object(r.zc)(e,t,n);case 2:return Object(r.Ac)(e,[t,0],[n,e.shape[1]]);case 3:return Object(r.Bc)(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return Object(r.Cc)(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return Object(r.yc)(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return Object(r.yc)(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new d("sliceAlongFirstAxis() received an unsupported tensor rank: "+e.rank)}}))}function pe(e,t,n){return Object(r.Wc)((function(){switch(e.rank){case 1:return Object(r.zc)(e,t,n);case 2:return Object(r.Ac)(e,[0,t],[e.shape[0],n]);case 3:return Object(r.Bc)(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return Object(r.Cc)(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new d("sliceAlongLastAxis() received an unsupported tensor rank: "+e.rank)}}))}function me(e,t,n,i){return Object(r.Wc)((function(){switch(e.rank){case 1:return Object(r.zc)(e,t,n);case 2:switch(i){case 1:return de(e,t,n);case 2:return pe(e,t,n);default:throw new d("The axis is not within the rank of the tensor "+i)}case 3:switch(i){case 1:return de(e,t,n);case 2:return Object(r.Bc)(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return pe(e,t,n);default:throw new d("The axis is not within the rank of the tensor "+i)}case 4:switch(i){case 1:return de(e,t,n);case 2:return Object(r.Cc)(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return Object(r.Cc)(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return pe(e,t,n);default:throw new d("The axis is not within the rank of the tensor "+i)}default:throw new d("sliceAlongLastAxis() received an unsupported tensor rank: "+e.rank)}}))}function ge(e,t){var n;return void 0===t&&(t=-1),t<0&&(t=0!==(n=e[0].rank)?n:0),t===e[0].rank&&(t=-1),Object(r.D)(e,t)}function ve(e,t){switch(e.rank){case 1:return Object(r.E)([e,t]);case 2:return Object(r.F)([e,t],0);case 3:return Object(r.G)([e,t],0);case 4:return Object(r.H)([e,t],0);default:throw new d("concatAlongFirstAxis() received an unsupported tensor rank: "+e.rank)}}function ye(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new d("The length of input n ("+t.length+") does not match the number of dimensions in input x ("+e.rank+")");return Object(r.Xc)(e,t)}function be(e,t,n,i,a){return void 0===t&&(t=0),void 0===n&&(n=1),Object(r.dc)(e,t,n,i,a)}function we(e,t,n,i){if(e.rank<2||t.rank<2)throw new p("dot requires both inputs to be rank >= 2 but got x shape = "+e.shape+" and y shape = "+t.shape);if(t.rank>=3&&e.shape.slice(-1)[0]!==(f=t.shape.slice(-2)[0]))throw new p("If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = "+e.shape+" and  y shape = "+t.shape);if(2===e.rank&&2===t.rank){var a=!1,o=!1;return r.hb.matMul({a:e,b:t,transposeA:a,transposeB:o,bias:i?_e(e.rank,i,"channelsLast"):null,activation:n})}var s=e.shape.slice(),u=s.pop();e=e.reshape([-1,u]);var l=t.shape.slice(),c=l.pop(),f=l.pop(),h=l.concat([c]),d=Array.from({length:t.rank},(function(e,n){return 0===n?t.rank-2:n<=t.rank-2?n-1:n}));t=t.transpose(d).reshape([f,-1]);var m=s.concat(h);return a=!1,o=!1,r.hb.matMul({a:e,b:t,transposeA:a,transposeB:o,bias:i?_e(e.rank,i,"channelsLast"):null,activation:n}).reshape(m)}function Se(e,t,n){return Object(r.Wc)((function(){return t=Array.isArray(t)?Object(r.Tc)(t,"int32"):t.toInt(),Object(r.ib)(e,t,n)}))}function xe(e){return Object(r.Rb)(e,e)}function _e(e,t,n){var r=t.shape;if(1!==t.rank&&t.rank!==e)throw new d("Unexpected bias dimensions: "+t.rank+"; expected it to be 1 or "+e);if(5===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1,1,1]):t.reshape([1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,1,1,r[0]]):t.reshape([1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1,1]):t.reshape([1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,1,r[0]]):t.reshape([1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?t.reshape([1,r[0],1]):t.reshape([1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?t.reshape([1,1,r[0]]):t.reshape([1].concat(r))}else if(e<3)return t;throw new d("Unsupported input rank by biasAdd: "+t.rank)}function Te(e,t,n){return Object(r.Wc)((function(){return null==n&&(n="channelsLast"),K(n),e.add(_e(e.rank,t,n))}))}function Ee(e,t,n,i){return Object(r.Wc)((function(){return Object(r.U)(e,t,n,i)}))}function ke(e,t,n){return void 0===n&&(n=!1),n?e():t()}var Ce=["fanIn","fanOut","fanAvg"],Ae=["normal","uniform","truncatedNormal"];var Oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.fromConfigUsesCustomObjects=function(){return!1},t.prototype.getConfig=function(){return{}},t}(r.sc.Serializable),Ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e,t){return Object(r.id)(e,t)},t.className="Zeros",t}(Oe);r.sc.registerClass(Ie);var Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e,t){return Object(r.Xb)(e,t)},t.className="Ones",t}(Oe);r.sc.registerClass(Me);var De=function(e){function t(t){var n=e.call(this)||this;if("object"!=typeof t)throw new d("Expected argument of type ConstantConfig but got "+t);if(void 0===t.value)throw new d("config must have value set but got "+t);return n.value=t.value,n}return a(t,e),t.prototype.apply=function(e,t){var n=this;return Object(r.Wc)((function(){return Object(r.Qb)(Object(r.oc)(n.value),Object(r.Xb)(e,t))}))},t.prototype.getConfig=function(){return{value:this.value}},t.className="Constant",t}(Oe);r.sc.registerClass(De);var Re=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MINVAL=-.05,n.DEFAULT_MAXVAL=.05,n.minval=t.minval||n.DEFAULT_MINVAL,n.maxval=t.maxval||n.DEFAULT_MAXVAL,n.seed=t.seed,n}return a(t,e),t.prototype.apply=function(e,t){return Object(r.ec)(e,this.minval,this.maxval,t)},t.prototype.getConfig=function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}},t.className="RandomUniform",t}(Oe);r.sc.registerClass(Re);var Pe=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=t.mean||n.DEFAULT_MEAN,n.stddev=t.stddev||n.DEFAULT_STDDEV,n.seed=t.seed,n}return a(t,e),t.prototype.apply=function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new p("randomNormal does not support dType "+t+".");return be(e,this.mean,this.stddev,t,this.seed)},t.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},t.className="RandomNormal",t}(Oe);r.sc.registerClass(Pe);var Ne=function(e){function t(t){var n=e.call(this)||this;return n.DEFAULT_MEAN=0,n.DEFAULT_STDDEV=.05,n.mean=t.mean||n.DEFAULT_MEAN,n.stddev=t.stddev||n.DEFAULT_STDDEV,n.seed=t.seed,n}return a(t,e),t.prototype.apply=function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new p("truncatedNormal does not support dType "+t+".");return Object(r.bd)(e,this.mean,this.stddev,t,this.seed)},t.prototype.getConfig=function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}},t.className="TruncatedNormal",t}(Oe);r.sc.registerClass(Ne);var Le=function(e){function t(t){var n=e.call(this)||this;return n.gain=null!=t.gain?t.gain:1,n}return a(t,e),t.prototype.apply=function(e,t){var n=this;return Object(r.Wc)((function(){if(2!==e.length||e[0]!==e[1])throw new d("Identity matrix initializer can only be used for 2D square matrices.");return Object(r.Qb)(n.gain,Object(r.cb)(e[0]))}))},t.prototype.getConfig=function(){return{gain:this.gain}},t.className="Identity",t}(Oe);r.sc.registerClass(Le);var Fe=function(e){function t(t){var n=e.call(this)||this;if(t.scale<0)throw new d("scale must be a positive float. Got: "+t.scale);return n.scale=null==t.scale?1:t.scale,n.mode=null==t.mode?"fanIn":t.mode,function(e){I(Ce,"FanMode",e)}(n.mode),n.distribution=null==t.distribution?"normal":t.distribution,function(e){I(Ae,"Distribution",e)}(n.distribution),n.seed=t.seed,n}return a(t,e),t.prototype.apply=function(e,t){var n=function(e,t){var n,r;if(void 0===t&&(t="channelsLast"),K(t),2===e.length)n=e[0],r=e[1];else if(-1!==[3,4,5].indexOf(e.length))if("channelsFirst"===t){var i=oe(e,2);n=e[1]*i,r=e[0]*i}else"channelsLast"===t&&(i=oe(e,0,e.length-2),n=e[e.length-2]*i,r=e[e.length-1]*i);else{var a=oe(e);n=Math.sqrt(a),r=Math.sqrt(a)}return[n,r]}(e),i=n[0],a=n[1],o=this.scale;if("fanIn"===this.mode?o/=Math.max(1,i):"fanOut"===this.mode?o/=Math.max(1,a):o/=Math.max(1,(i+a)/2),"normal"===this.distribution){var s=Math.sqrt(o);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new p(this.getClassName()+" does not support dType "+t+".");return Object(r.bd)(e,0,s,t,this.seed)}var u=Math.sqrt(3*o);return Object(r.ec)(e,-u,u,t)},t.prototype.getConfig=function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}},t.className="VarianceScaling",t}(Oe);r.sc.registerClass(Fe);var Be=function(e){function t(t){return e.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==t?null:t.seed})||this}return a(t,e),t.prototype.getClassName=function(){return Fe.className},t.className="GlorotUniform",t}(Fe);r.sc.registerClass(Be);var ze=function(e){function t(t){return e.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==t?null:t.seed})||this}return a(t,e),t.prototype.getClassName=function(){return Fe.className},t.className="GlorotNormal",t}(Fe);r.sc.registerClass(ze);var Ue=function(e){function t(t){return e.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==t?null:t.seed})||this}return a(t,e),t.prototype.getClassName=function(){return Fe.className},t.className="HeNormal",t}(Fe);r.sc.registerClass(Ue);var je=function(e){function t(t){return e.call(this,{scale:2,mode:"fanIn",distribution:"uniform",seed:null==t?null:t.seed})||this}return a(t,e),t.prototype.getClassName=function(){return Fe.className},t.className="HeUniform",t}(Fe);r.sc.registerClass(je);var Ve=function(e){function t(t){return e.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==t?null:t.seed})||this}return a(t,e),t.prototype.getClassName=function(){return Fe.className},t.className="LeCunNormal",t}(Fe);r.sc.registerClass(Ve);var Ge=function(e){function t(t){return e.call(this,{scale:1,mode:"fanIn",distribution:"uniform",seed:null==t?null:t.seed})||this}return a(t,e),t.prototype.getClassName=function(){return Fe.className},t.className="LeCunNormal",t}(Fe);r.sc.registerClass(Ge);var We=function(e){function t(t){var n=e.call(this)||this;if(n.DEFAULT_GAIN=1,n.gain=null==t.gain?n.DEFAULT_GAIN:t.gain,n.seed=t.seed,null!=n.seed)throw new p("Random seed is not implemented for Orthogonal Initializer yet.");return n}return a(t,e),t.prototype.apply=function(e,t){var n=this;return Object(r.Wc)((function(){if(2!==e.length)throw new p("The Orthogonal Initializer does not support non-2D shapes yet.");e[0]*e[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more than 2000 ("+e[0]*e[1]+") elements: Slowness may result.");var t=be(e[0]>e[1]?[e[1],e[0]]:e,0,1,"float32"),i=r.vb.gramSchmidt(t);return e[0]>e[1]&&(i=i.transpose()),Object(r.Qb)(n.gain,i)}))},t.prototype.getConfig=function(){return{gain:this.gain,seed:this.seed}},t.className="Orthogonal",t}(Oe);r.sc.registerClass(We);var He={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function qe(e,t){return void 0===t&&(t={}),k(e,r.sc.SerializationMap.getMap().classNameMap,t,"initializer")}function Qe(e){return T(e)}function Xe(e){if("string"==typeof e){var t=e in He?He[e]:e;if("GlorotNormal"===t)return new ze;if("GlorotUniform"===t)return new Be;if("HeNormal"===t)return new Ue;if("HeUniform"===t)return new je;if("LeCunNormal"===t)return new Ve;if("LeCunUniform"===t)return new Ge;var n={};return n.className=t,n.config={},qe(n)}return e instanceof Oe?e:qe(e)}Object.freeze({zeros:function(){return new Ie},ones:function(){return new Me},constant:function(e){return new De(e)},randomUniform:function(e){return new Re(e)},randomNormal:function(e){return new Pe(e)},truncatedNormal:function(e){return new Ne(e)},identity:function(e){return new Le(e)},varianceScaling:function(e){return new Fe(e)},glorotUniform:function(e){return new Be(e)},glorotNormal:function(e){return new ze(e)},heNormal:function(e){return new Ue(e)},heUniform:function(e){return new je(e)},leCunNormal:function(e){return new Ve(e)},leCunUniform:function(e){return new Ge(e)},orthogonal:function(e){return new We(e)}});var Ye=0;function Ke(){return Ye++}var Ze={};function Je(e){return void 0===e&&(e=""),e in Ze||(Ze[e]=0),Ze[e]+=1,e+Ze[e].toString()}function $e(e){return Array.isArray(e)&&Array.isArray(e[0])}function et(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function tt(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new d("Expected Tensor length to be 1; got "+e.length);t=e[0]}else t=e;return t}function nt(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return(e=e)[0];throw new d("Expected exactly 1 Shape; got "+e.length)}return e}function rt(e){for(var t=0,n=0,r=e;n<r.length;n++){var i=r[n];0===i.shape.length?t+=1:t+=i.shape.reduce((function(e,t){return e*t}))}return t}var it="Variable",at=function(){function e(e,t,n,i,a){void 0===t&&(t="float32"),void 0===n&&(n=it),void 0===i&&(i=!0),void 0===a&&(a=null),this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=Ke(),n=null==n?it:n,this.originalName=te(n),this.name=ne(this.originalName),this.trainable_=i,this.constraint=a,this.val=Object(r.ed)(e,this.trainable_,this.name,this.dtype)}return e.prototype.read=function(){return this.assertNotDisposed(),this.val},e.prototype.write=function(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this},e.prototype.dispose=function(){this.assertNotDisposed(),this.val.dispose()},e.prototype.assertNotDisposed=function(){if(this.val.isDisposed)throw new Error("LayersVariable "+this.name+" is already disposed.")},Object.defineProperty(e.prototype,"trainable",{get:function(){return this.trainable_},set:function(e){this.trainable_=e,this.val.trainable=e},enumerable:!0,configurable:!0}),e}();function ot(e){return e.map((function(e){return e.read()}))}function st(e){e.forEach((function(e){e[0].write(e[1])}))}var ut=function(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}},lt=function(e,t,n,r,i,a,o){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=i,this.outputTensorIndex=o,this.id=Ke(),null!=a&&(this.originalName=te(a),this.name=ne(this.originalName)),this.rank=t.length},ct=0,ft=function(){function e(e,t){this.callArgs=t,this.id=ct++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(var n=0,r=e.inboundLayers;n<r.length;n++){var i=r[n];null!=i&&i.outboundNodes.push(this)}e.outboundLayer.inboundNodes.push(this)}return e.prototype.getConfig=function(){for(var e=[],t=0,n=this.inboundLayers;t<n.length;t++){var r=n[t];null!=r?e.push(r.name):e.push(null)}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}},e}(),ht=0,dt=function(e){function t(t){var n=e.call(this)||this;n._callHook=null,n._addedWeightNames=[],n._stateful=!1,n.id=ht++,n.activityRegularizer=null,n.inputSpec=null,n.supportsMasking=!1,n._trainableWeights=[],n._nonTrainableWeights=[],n._losses=[],n._updates=[],n._built=!1,n.inboundNodes=[],n.outboundNodes=[];var r=t.name;if(!r){var i=n.getClassName();r=S(i)+"_"+Je(i)}if(n.name=r,n.trainable_=null==t.trainable||t.trainable,null!=t.inputShape||null!=t.batchInputShape){var a=void 0;if(null!=t.batchInputShape)a=t.batchInputShape;else if(null!=t.inputShape){var o=null;null!=t.batchSize&&(o=t.batchSize),a=[o].concat(t.inputShape)}n.batchInputShape=a;var s=t.dtype;null==s&&(s=t.inputDType),null==s&&(s="float32"),n.dtype=s}return null!=t.weights?n.initialWeights=t.weights:n.initialWeights=null,n._refCount=null,n.fastWeightInitDuringBuild=!1,n}return a(t,e),t.nodeKey=function(e,t){return e.name+"_ib-"+t.toString()},t.prototype.getNodeAtIndex=function(e,t){if(0===this.inboundNodes.length)throw new h("The layer has never been called and thus has no defined "+t+".");if(this.inboundNodes.length<=e)throw new d("Asked to get "+t+" at node "+e+", but the layer has only "+this.inboundNodes.length+" inbound nodes.");return this.inboundNodes[e]},t.prototype.getInputAt=function(e){return b(this.getNodeAtIndex(e,"input").inputTensors)},t.prototype.getOutputAt=function(e){return b(this.getNodeAtIndex(e,"output").outputTensors)},Object.defineProperty(t.prototype,"input",{get:function(){if(this.inboundNodes.length>1)throw new f("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new f("Layer "+this.name+" is not connected, no input to return.");return b(this.getNodeAtIndex(0,"input").inputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"output",{get:function(){if(0===this.inboundNodes.length)throw new f("Layer "+this.name+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new f("Layer "+this.name+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return b(this.getNodeAtIndex(0,"output").outputTensors)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"losses",{get:function(){return this._losses},enumerable:!0,configurable:!0}),t.prototype.calculateLosses=function(){return this.losses.map((function(e){return e()}))},Object.defineProperty(t.prototype,"updates",{get:function(){return this._updates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"built",{get:function(){return this._built},set:function(e){this._built=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainable",{get:function(){return this.trainable_},set:function(e){this._trainableWeights.forEach((function(t){return t.trainable=e})),this.trainable_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.trainable_?this._trainableWeights.filter((function(e){return e.trainable})):[]},set:function(e){this._trainableWeights=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this._trainableWeights.filter((function(e){return!e.trainable})).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(e){this._nonTrainableWeights=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stateful",{get:function(){return this._stateful},enumerable:!0,configurable:!0}),t.prototype.resetStates=function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")},t.prototype.assertInputCompatibility=function(e){if(e=w(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=w(this.inputSpec);if(e.length!==t.length)throw new d("Layer "+this.name+" expects "+t.length+" inputs, but it received "+e.length+" input tensors. Input received: "+e);for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(null!=i){var a=r.rank;if(null!=i.ndim&&a!==i.ndim)throw new d("Input "+n+" is incompatible with layer "+this.name+": expected ndim="+i.ndim+", found ndim="+a);if(null!=i.maxNDim&&a>i.maxNDim)throw new d("Input "+n+" is incompatible with layer "+this.name+": expected max_ndim="+i.maxNDim+", found ndim="+a);if(null!=i.minNDim&&a<i.minNDim)throw new d("Input "+n+" is incompatible with layer "+this.name+": expected min_ndim="+i.minNDim+", found ndim="+a+".");if(null!=i.dtype&&r.dtype!==i.dtype)throw new d("Input "+n+" is incompatible with layer "+this.name+" : expected dtype="+i.dtype+", found dtype="+r.dtype+".");if(i.axes){var o=r.shape;for(var s in i.axes){var u=Number(s),l=i.axes[s],c=u>=0?o[u]:o[o.length+u];if(null!=l&&-1===[l,null].indexOf(c))throw new d("Input "+n+" is incompatible with layer "+this.name+": expected axis "+u+" of input shape to have value "+l+" but got shape "+o+".")}}if(null!=i.shape)for(var f=0;f<i.shape.length;++f){var h=i.shape[f],p=r.shape[f];if(null!=h&&null!=p&&h!==p)throw new d("Input "+n+" is incompatible with layer "+this.name+": expected shape="+i.shape+", found shape="+r.shape+".")}}}}},t.prototype.call=function(e,t){return e},t.prototype.invokeCallHook=function(e,t){null!=this._callHook&&this._callHook(e,t)},t.prototype.setCallHook=function(e){this._callHook=e},t.prototype.clearCallHook=function(){this._callHook=null},t.prototype.apply=function(e,t){var n=this;t=t||{},this.assertNotDisposed();for(var r=w(e),i=!0,a=0,o=r;a<o.length;a++)if(!(o[a]instanceof lt)){i=!1;break}for(var s=!0,u=0,l=r;u<l.length;u++)if(l[u]instanceof lt){s=!1;break}if(i===s)throw new d("Arguments to apply() must be all SymbolicTensors or all Tensors");return ee(this.name,(function(){if(!n.built){n.assertInputCompatibility(e);for(var i=[],a=0,o=w(e);a<o.length;a++){var u=o[a];i.push(u.shape)}n.build(b(i)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&s&&(n._refCount=1)}if(n.assertInputCompatibility(e),s){for(var l=[],c=0,f=w(g=n.call(e,t));c<f.length;c++){var h=f[c];-1!==r.indexOf(h)&&(h=h.clone()),l.push(h)}if(g=b(l),null!=n.activityRegularizer)throw new p("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return g}var d=function(e){for(var t=[],n=0,r=e=w(e);n<r.length;n++){var i=r[n];t.push(i.shape)}return b(t)}(e),m=n.computeOutputShape(d),g=void 0,v="float32";if(n.warnOnIncompatibleInputShape(Array.isArray(e)?d[0]:d),g=null!=m&&m.length>0&&Array.isArray(m[0])?m.map((function(r,i){return new lt(v,r,n,w(e),t,n.name,i)})):new lt(v,m,n,w(e),t,n.name),n.addInboundNode(e,g,null,null,d,m,t),n._refCount++,null!=n.activityRegularizer)throw new p("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return g}))},t.prototype.warnOnIncompatibleInputShape=function(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+JSON.stringify(e)+") does not match that of the batchInputShape ("+JSON.stringify(this.batchInputShape)+") of the layer "+this.name);else{var t=!1;this.batchInputShape.forEach((function(n,r){null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn("The shape of the input tensor ("+JSON.stringify(e)+") does not match the expectation of layer "+this.name+": "+JSON.stringify(this.batchInputShape))}},Object.defineProperty(t.prototype,"outputShape",{get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new f("The layer "+this.name+" has never been called and thus has no defined output shape.");for(var e=[],t=0,n=this.inboundNodes;t<n.length;t++){var r=n[t],i=JSON.stringify(r.outputShapes);-1===e.indexOf(i)&&e.push(i)}if(1===e.length){var a=this.inboundNodes[0].outputShapes;return Array.isArray(a)&&Array.isArray(a[0])&&1===a.length?a[0]:a}throw new f("The layer "+this.name+' has multiple inbound nodes with different output shapes. Hence the notion of "outut shape" is ill-defined for the layer.')},enumerable:!0,configurable:!0}),t.prototype.countParams=function(){if(!this.built)throw new h("You tried to call countParams() on "+this.name+", but the layer is not built yet. Build it first by calling build(batchInputShape).");return rt(this.weights)},t.prototype.build=function(e){this.built=!0},t.prototype.getWeights=function(e){return void 0===e&&(e=!1),ot(e?this.trainableWeights:this.weights)},t.prototype.setWeights=function(e){var t=this;Object(r.Wc)((function(){var n=t.weights;if(n.length!==e.length)throw new d('You called setWeights(weights) on layer "'+t.name+'" with a weight list of length '+e.length+", but the layer was expecting "+n.length+" weights. Provided weights: "+e+"...");if(0!==n.length){for(var i=[],a=ot(n),o=0;o<a.length;++o){var s=a[o],u=n[o],l=e[o];if(!r.dd.arraysEqual(s.shape,l.shape))throw new d("Layer weight shape "+s.shape+" not compatible with provided weight shape "+l.shape);i.push([u,l])}st(i)}}))},t.prototype.addWeight=function(e,t,n,r,i,a,o){if(-1!==this._addedWeightNames.indexOf(e))throw new d("Duplicate weight name "+e+" for layer "+this.name);this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=Xe("zeros"));var s=r.apply(t,n),u=new at(s,n,e,a,o);return s.dispose(),null!=i&&this.addLoss((function(){return i.apply(u.read())})),null==a&&(a=!0),a?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u},t.prototype.setFastWeightInitDuringBuild=function(e){this.fastWeightInitDuringBuild=e},t.prototype.addLoss=function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=w(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,e))},t.prototype.computeOutputShape=function(e){return e},t.prototype.computeMask=function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer "+this.name+" does not support masking, but was passed an inputMask.");t.forEach((function(e){if(null!=e)throw new TypeError("Layer "+n.name+" does not support masking, but was passed an inputMask.")}))}return null}return t},t.prototype.addInboundNode=function(e,t,n,r,i,a,o){void 0===o&&(o=null);var s=w(e);t=w(t),n=w(n),r=w(r),i=et(i),a=et(a);for(var u=[],l=[],c=[],f=0,h=s;f<h.length;f++){var d=h[f];u.push(d.sourceLayer),l.push(d.nodeIndex),c.push(d.tensorIndex)}new ft({outboundLayer:this,inboundLayers:u,nodeIndices:l,tensorIndices:c,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:i,outputShapes:a},o);for(var p=0;p<t.length;p++)t[p].sourceLayer=this,t[p].nodeIndex=this.inboundNodes.length-1,t[p].tensorIndex=p},t.prototype.getConfig=function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e},t.prototype.disposeWeights=function(){return this.weights.forEach((function(e){return e.dispose()})),this.weights.length},t.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Layer '"+this.name+"' is already disposed.")},t.prototype.dispose=function(){if(!this.built)throw new Error("Cannot dispose Layer "+this.name+" because it has not been built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer "+this.name+" because it has not been used yet.");this.assertNotDisposed();var e=0;return 0==--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}},t}(r.sc.Serializable);function pt(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];var r=t.inboundNodes[n];if(0===r.inboundLayers.length)return r.inputTensors;for(var i=[],a=0;a<r.inboundLayers.length;a++)for(var o=0,s=pt(r.inputTensors[a],r.inboundLayers[a],r.nodeIndices[a]);o<s.length;o++){var u=s[o];-1===i.indexOf(u)&&i.push(u)}return i}var mt,gt,vt=function(e){function t(t){var n=e.call(this,{dtype:t.dtype,name:null!=t.name?t.name:Je("input").toString()})||this;if(null==t.batchSize&&(t.batchSize=null),null==t.sparse&&(t.sparse=!1),n.trainable=!1,n.built=!0,n.sparse=t.sparse,null!=t.inputShape&&null!=t.batchInputShape)throw new d("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var r=t.batchInputShape;if(null==r){if(null==t.inputShape)throw new d("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");r=[t.batchSize].concat(t.inputShape)}else if(null!=t.batchSize)throw new d("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");var i=t.dtype||"float32";n.batchInputShape=r,n.dtype=i,n.inputSpec=[{shape:r}];var a=new lt(n.dtype,n.batchInputShape,n,[],{},n.name);return a.nodeIndex=0,a.tensorIndex=0,new ft({outboundLayer:n,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[r],outputShapes:[r]}),n}return a(t,e),t.prototype.apply=function(e,t){throw new d("Cannot pass any input to an InputLayer's apply() method. InputLayer name: "+this.name)},t.prototype.dispose=function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}},t.prototype.getConfig=function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}},t.className="InputLayer",t}(dt);function yt(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new d("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n="float32"),new vt({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}function bt(e){return u(this,void 0,void 0,(function(){var t,n,i,a,o,s,u,c;return l(this,(function(l){switch(l.label){case 0:if(null==e)return[2];for(a in t=[],n=[],i=[],e)"number"!=typeof(o=e[a])&&(s=o,t.push(s.data()),n.push(a),i.push(s));return t.length>0?[4,Promise.all(t)]:[3,2];case 1:for(u=l.sent(),c=0;c<u.length;++c)e[n[c]]=u[c][0];Object(r.R)(i),l.label=2;case 2:return[2]}}))}))}function wt(e){if(null!=e)for(var t in e){var n=e[t];"number"!=typeof n&&n.dispose()}}r.sc.registerClass(vt),(gt=mt||(mt={}))[gt.SILENT=0]="SILENT",gt[gt.VERBOSE=1]="VERBOSE";var St=function(){function e(){this.validationData=null}return e.prototype.setParams=function(e){this.params=e},e.prototype.onEpochBegin=function(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(e){return[2]}))}))},e.prototype.onEpochEnd=function(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(e){return[2]}))}))},e.prototype.onBatchBegin=function(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(e){return[2]}))}))},e.prototype.onBatchEnd=function(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(e){return[2]}))}))},e.prototype.onTrainBegin=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(e){return[2]}))}))},e.prototype.onTrainEnd=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(e){return[2]}))}))},e.prototype.setModel=function(e){},e}(),xt=function(){function e(e,t){void 0===t&&(t=10),null==e&&(e=[]),this.callbacks=e,this.queueLength=t}return e.prototype.append=function(e){this.callbacks.push(e)},e.prototype.setParams=function(e){for(var t=0,n=this.callbacks;t<n.length;t++)n[t].setParams(e)},e.prototype.setModel=function(e){for(var t=0,n=this.callbacks;t<n.length;t++)n[t].setModel(e)},e.prototype.onEpochBegin=function(e,t){return u(this,void 0,void 0,(function(){var n,r;return l(this,(function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onEpochBegin(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.onEpochEnd=function(e,t){return u(this,void 0,void 0,(function(){var n,r;return l(this,(function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onEpochEnd(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.onBatchBegin=function(e,t){return u(this,void 0,void 0,(function(){var n,r;return l(this,(function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onBatchBegin(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.onBatchEnd=function(e,t){return u(this,void 0,void 0,(function(){var n,r;return l(this,(function(i){switch(i.label){case 0:null==t&&(t={}),n=0,r=this.callbacks,i.label=1;case 1:return n<r.length?[4,r[n].onBatchEnd(e,t)]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.onTrainBegin=function(e){return u(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:null==e&&(e={}),t=0,n=this.callbacks,r.label=1;case 1:return t<n.length?[4,n[t].onTrainBegin(e)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e.prototype.onTrainEnd=function(e){return u(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:null==e&&(e={}),t=0,n=this.callbacks,r.label=1;case 1:return t<n.length?[4,n[t].onTrainEnd(e)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e}(),_t=function(e){function t(){return e.call(this)||this}return a(t,e),t.prototype.onEpochBegin=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(e){return this.seen=0,this.totals={},[2]}))}))},t.prototype.onBatchEnd=function(e,t){return u(this,void 0,void 0,(function(){var e,n,i,a,o=this;return l(this,(function(s){for(a in null==t&&(t={}),e=null==t.size?0:t.size,this.seen+=e,n=function(n){var a=t[n];if("number"==typeof a)i.totals.hasOwnProperty(n)||(i.totals[n]=0),i.totals[n]=i.totals[n]+a*e;else{var s=void 0;n in i.totals?s=i.totals[n]:i.totals[n]=0;var u=Object(r.Wc)((function(){return Object(r.f)(o.totals[n],Object(r.Qb)(a,e))}));i.totals[n]=u,null!=s&&s.dispose()}},i=this,t)n(a);return[2]}))}))},t.prototype.onEpochEnd=function(e,t){return u(this,void 0,void 0,(function(){var e,n,i,a,o,s=this;return l(this,(function(u){if(null!=t)for(e=function(e){if(null==n.totals[e])return"continue";"number"==typeof n.totals[e]?t[e]=n.totals[e]/n.seen:Object(r.Wc)((function(){var n=Object(r.Qb)(Object(r.S)(1,s.seen),s.totals[e]);t[e]=n,s.totals[e].dispose(),Object(r.rb)(t[e])}))},n=this,i=0,a=this.params.metrics;i<a.length;i++)o=a[i],e(o);return[2]}))}))},t}(St),Tt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onTrainBegin=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(e){return this.epoch=[],this.history={},[2]}))}))},t.prototype.onEpochEnd=function(e,t){return u(this,void 0,void 0,(function(){var n;return l(this,(function(r){for(n in null==t&&(t={}),this.epoch.push(e),t)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(t[n]);return[2]}))}))},t.prototype.syncData=function(){return u(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,s,u;return l(this,(function(l){switch(l.label){case 0:for(r in e=[],t=[],n=[],this.history)for(i=this.history[r],a=0;a<i.length;++a)"number"!=typeof i[a]&&(o=i[a],e.push(o.data()),t.push(r),n.push(a));return[4,Promise.all(e)];case 1:for(s=l.sent(),u=0;u<s.length;++u)this.history[t[u]][n[u]].dispose(),this.history[t[u]][n[u]]=s[u][0];return[2]}}))}))},t}(St),Et=function(e){function t(t,n){var i=e.call(this)||this;if(i.currentEpoch=0,i.yieldEvery=n||"auto","auto"===i.yieldEvery&&(i.yieldEvery=125),"never"===i.yieldEvery&&null!=t.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");return r.dd.isNumber(i.yieldEvery)&&(i.maybeWait=function(e,t){var n,i=r.dd.now();return function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=r.dd.now();return s-i<t?n:(i=s,n=e.apply(void 0,a))}}(i.maybeWait.bind(i),i.yieldEvery)),i.trainBegin=t.onTrainBegin,i.trainEnd=t.onTrainEnd,i.epochBegin=t.onEpochBegin,i.epochEnd=t.onEpochEnd,i.batchBegin=t.onBatchBegin,i.batchEnd=t.onBatchEnd,i.yield=t.onYield,i}return a(t,e),t.prototype.maybeWait=function(e,t,n){return u(this,void 0,void 0,(function(){var i;return l(this,(function(a){switch(a.label){case 0:return i=[],null==this.yield?[3,2]:[4,bt(n)];case 1:a.sent(),i.push(this.yield(e,t,n)),a.label=2;case 2:return i.push(Object(r.Ub)()),[4,Promise.all(i)];case 3:return a.sent(),[2]}}))}))},t.prototype.onEpochBegin=function(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return this.currentEpoch=e,null==this.epochBegin?[3,3]:[4,bt(t)];case 1:return n.sent(),[4,this.epochBegin(e,t)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.onEpochEnd=function(e,t){return u(this,void 0,void 0,(function(){var n;return l(this,(function(i){switch(i.label){case 0:return n=[],null==this.epochEnd?[3,2]:[4,bt(t)];case 1:i.sent(),n.push(this.epochEnd(e,t)),i.label=2;case 2:return"epoch"===this.yieldEvery&&n.push(Object(r.Ub)()),[4,Promise.all(n)];case 3:return i.sent(),[2]}}))}))},t.prototype.onBatchBegin=function(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(n){switch(n.label){case 0:return null==this.batchBegin?[3,3]:[4,bt(t)];case 1:return n.sent(),[4,this.batchBegin(e,t)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.onBatchEnd=function(e,t){return u(this,void 0,void 0,(function(){var n;return l(this,(function(i){switch(i.label){case 0:return n=[],null==this.batchEnd?[3,2]:[4,bt(t)];case 1:i.sent(),n.push(this.batchEnd(e,t)),i.label=2;case 2:return"batch"===this.yieldEvery?n.push(Object(r.Ub)()):r.dd.isNumber(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),[4,Promise.all(n)];case 3:return i.sent(),[2]}}))}))},t.prototype.onTrainBegin=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return null==this.trainBegin?[3,3]:[4,bt(e)];case 1:return t.sent(),[4,this.trainBegin(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},t.prototype.onTrainEnd=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return null==this.trainEnd?[3,3]:[4,bt(e)];case 1:return t.sent(),[4,this.trainEnd(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},t}(St);function kt(e,t){return null==e&&(e={}),e instanceof St?[e]:Array.isArray(e)&&e[0]instanceof St?e:w(e).map((function(e){return new Et(e,t)}))}var Ct=function(){function e(){}return e.registerCallbackConstructor=function(t,n){r.dd.assert(t>=0&&Number.isInteger(t),(function(){return"Verbosity level is expected to be an integer >= 0, but got "+t})),e.checkForDuplicate(n),null==e.constructors[t]&&(e.constructors[t]=[]),e.constructors[t].push(n)},e.checkForDuplicate=function(t){for(var n in e.constructors)e.constructors[+n].forEach((function(e){if(e===t)throw new d("Duplicate callback constructor.")}))},e.clear=function(){e.constructors={}},e.createCallbacks=function(t){var n=[];for(var r in e.constructors){var i=+r;t>=i&&n.push.apply(n,e.constructors[i])}return n.map((function(e){return new e}))},e.constructors={},e}();function At(e,t,n,r,i,a,o,s,u){var l=new Tt,c=[new _t].concat(Ct.createCallbacks(t));null!=e&&c.push.apply(c,e),c.push(l);var f=new xt(c);return f.setParams({epochs:n,initialEpoch:r,samples:i,steps:a,batchSize:o,verbose:t,doValidation:s,metrics:u}),{callbackList:f,history:l}}function Ot(e,t,n){return void 0===t&&(t={}),void 0===n&&(n=!1),k(e,r.sc.SerializationMap.getMap().classNameMap,t,"layer",n)}function It(e,t){return Object(r.Wc)((function(){"float32"!==e.dtype&&(e=e.asType("float32"));var n=Object(r.Pc)(xe(e),t,!0),i=Object(r.eb)(n.shape,c()),a=Object(r.Ic)(Object(r.Jb)(n,i));return Object(r.S)(e,a)}))}function Mt(e,t){return Object(r.Wc)((function(){return Object(r.Kb)(xe(Object(r.Oc)(t,e)),-1)}))}function Dt(e,t){return Object(r.Wc)((function(){return Object(r.Kb)(Object(r.c)(Object(r.Oc)(t,e)),-1)}))}function Rt(e,t){return Object(r.Wc)((function(){var n=Object(r.Oc)(e,t),i=Object(r.B)(Object(r.c)(e),c(),Number.MAX_VALUE),a=Object(r.c)(Object(r.S)(n,i));return Object(r.Qb)(100,Object(r.Kb)(a,-1))}))}function Pt(e,t,n){return void 0===n&&(n=!1),Object(r.Wc)((function(){if(n)t=Object(r.Dc)(t);else{var i=Object(r.Pc)(t,t.shape.length-1,!0);t=Object(r.S)(t,i)}return t=Object(r.B)(t,c(),1-c()),Object(r.Tb)(Object(r.Pc)(Object(r.Qb)(e.toFloat(),Object(r.yb)(t)),t.shape.length-1))}))}function Nt(e,t){return Object(r.Wc)((function(){var n=Object(r.fb)(function(e){var t=[oe(e.shape)];return e.reshape(t)}(e)).toInt(),i=(t=Object(r.B)(t,c(),1-c())).shape;return Pt(Object(r.Wb)(n,i[i.length-1]).reshape(i),t,!1)}))}function Lt(e,t){return Object(r.Wc)((function(){var n;return n=Object(r.B)(t,c(),1-c()),n=Object(r.yb)(Object(r.S)(n,Object(r.Oc)(1,n))),Object(r.Kb)(function(e,t){if(!r.dd.arraysEqual(e.shape,t.shape))throw new d("logits and labels must have the same shape, but got shapes "+JSON.stringify(e.shape)+" and "+JSON.stringify(t.shape));return Object(r.Wc)((function(){var n=t.relu(),r=t.abs().neg();return n.sub(t.mul(e)).add(r.exp().log1p())}))}(e,n),-1)}))}function Ft(e,t){return Object(r.Wc)((function(){var n=It(e,-1),i=It(t,-1),a=Object(r.Qb)(n,i);return Object(r.Tb)(Object(r.Pc)(a,-1))}))}var Bt={meanSquaredError:Mt,meanAbsoluteError:Dt,meanAbsolutePercentageError:Rt,meanSquaredLogarithmicError:function(e,t){return Object(r.Wc)((function(){var n=Object(r.B)(t,c(),Number.MAX_VALUE),i=Object(r.yb)(Object(r.f)(1,n)),a=Object(r.B)(e,c(),Number.MAX_VALUE),o=Object(r.yb)(Object(r.f)(1,a));return Object(r.Kb)(xe(Object(r.Oc)(i,o)),-1)}))},squaredHinge:function(e,t){return Object(r.Wc)((function(){var n=Object(r.Jb)(0,Object(r.Oc)(1,Object(r.Qb)(e,t)));return Object(r.Kb)(xe(n),-1)}))},hinge:function(e,t){return Object(r.Wc)((function(){var n=Object(r.Jb)(0,Object(r.Oc)(1,Object(r.Qb)(e,t)));return Object(r.Kb)(n,-1)}))},categoricalHinge:function(e,t){return Object(r.Wc)((function(){var n=Object(r.Pc)(Object(r.Qb)(e,t),-1),i=Object(r.Fb)(Object(r.Qb)(Object(r.Oc)(1,e),t),-1);return Object(r.Jb)(0,Object(r.f)(1,Object(r.Oc)(i,n)))}))},logcosh:function(e,t){return Object(r.Wc)((function(){var n=Math.log(2),i=Object(r.Oc)(t,e),a=Object(r.Oc)(Object(r.f)(i,Object(r.Ec)(Object(r.Qb)(-2,i))),n);return Object(r.Kb)(a,-1)}))},categoricalCrossentropy:Pt,sparseCategoricalCrossentropy:Nt,binaryCrossentropy:Lt,kullbackLeiblerDivergence:function(e,t){return Object(r.Wc)((function(){var n=Object(r.B)(e,c(),1),i=Object(r.B)(t,c(),1);return Object(r.Pc)(Object(r.Qb)(e,Object(r.yb)(Object(r.S)(n,i))),-1)}))},poisson:function(e,t){return Object(r.Wc)((function(){var n=Object(r.yb)(Object(r.f)(c(),t));return Object(r.Kb)(Object(r.Oc)(t,Object(r.Qb)(e,n)),-1)}))},cosineProximity:Ft};function zt(e){if("string"==typeof e){if(e in Bt)return Bt[e];var t="Unknown loss "+e;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss "+e+'. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new d(t)}return e}function Ut(e,t){return Object(r.Wc)((function(){var n=Object(r.Qb)(.5,Object(r.Yb)(t)),i=fe(Object(r.kb)(t,n),e.dtype);return Object(r.Kb)(Object(r.X)(e,i),-1)}))}function jt(e,t){return Object(r.Wc)((function(){return fe(Object(r.X)(Object(r.j)(e,-1),Object(r.j)(t,-1)),"float32")}))}function Vt(e,t){return Object(r.Wc)((function(){return Object(r.Bb)(e.equal(1),t.equal(1)).sum().cast("float32")}))}function Gt(e,t){return Object(r.Wc)((function(){var n=Vt(e,t),i=function(e,t){return Object(r.Wc)((function(){return Object(r.Bb)(e.equal(0),t.equal(1)).sum().cast("float32")}))}(e,t),a=n.add(i);return Object(r.gd)(Object(r.kb)(a,0),n.div(a),0).cast("float32")}))}function Wt(e,t){return Object(r.Wc)((function(){var n=Vt(e,t),i=function(e,t){return Object(r.Wc)((function(){return Object(r.Bb)(e.equal(1),t.equal(0)).sum().cast("float32")}))}(e,t),a=n.add(i);return Object(r.gd)(Object(r.kb)(a,0),n.div(a),0).cast("float32")}))}function Ht(e,t){return Lt(e,t)}function qt(e,t){return e.rank===t.rank&&(e=e.squeeze([e.rank-1])),(t=t.argMax(-1)).dtype!==e.dtype&&(t=t.asType(e.dtype)),Object(r.X)(e,t).asType("float32")}var Qt=Pt,Xt=Nt,Yt={binaryAccuracy:Ut,categoricalAccuracy:jt,precision:Gt,categoricalCrossentropy:Qt,sparseCategoricalCrossentropy:Xt,mse:Mt,MSE:Mt,mae:Dt,MAE:Dt,mape:Rt,MAPE:Rt,cosine:Ft};function Kt(e){if(v(null!==e,"Unknown LossOrMetricFn "+e),"string"==typeof e)return e;for(var t=void 0,n=0,r=Object.keys(Bt);n<r.length;n++){var i=r[n];if(Bt[i]===e){t=i;break}}if(void 0!==t)return t;for(var a=0,o=Object.keys(Yt);a<o.length;a++)if(i=o[a],Yt[i]===e){t=i;break}return void 0!==t?t:e.name}var Zt=1048576;function Jt(e,t,n){if(void 0===n&&(n=!1),null==e||"object"!=typeof e||Object.getPrototypeOf(e)!==Object.prototype||!$t(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){var r=JSON.stringify(e);r.length>Zt&&console.warn('User-defined metadata of model "'+t+'" is too large in size (length='+r.length+" when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+"1048576.")}}function $t(e){if(null===e)return!0;if("object"==typeof e){if(Object.getPrototypeOf(e)===Object.prototype){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("string"!=typeof r)return!1;if(!$t(e[r]))return!1}return!0}if(Array.isArray(e)){for(var i=0,a=e;i<a.length;i++)if(!$t(a[i]))return!1;return!0}return!1}var o=typeof e;return"string"===o||"number"===o||"boolean"===o}function en(e,t,n,r){void 0===r&&(r=console.log);var i,a=function(e){var t=!0,n=[],r=[];for(var i in e.nodesByDepth)n.push(e.nodesByDepth[i]);for(var a=0,o=n;a<o.length;a++){var s=o[a];if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){t=!1;break}r.push.apply(r,s)}if(t)for(var u=0,l=e.layers;u<l.length;u++){for(var c=!1,f=0,h=l[u].inboundNodes;f<h.length;f++){var d=h[f];if(-1!==r.indexOf(d)){if(c){t=!1;break}c=!0}}if(!t)break}return t}(e),o=["Layer (type)","Output shape","Param #"];if(a?(t=t||65,n=n||[.45,.85,1]):(t=t||98,n=n||[.33,.55,.67,1]),n[n.length-1]<=1&&(n=n.map((function(e){return Math.floor(t*e)}))),!a)for(var s in o.push("Receives inputs"),i=[],e.nodesByDepth)i.push.apply(i,e.nodesByDepth[s]);r("_".repeat(t)),tn(o,n,r),r("=".repeat(t));for(var u=e.layers,l=0;l<u.length;++l)a?nn(u[l],n,r):rn(u[l],n,i,r),r((l===u.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();var c=function(e){return null!=e.collectedTrainableWeights?rt(e.collectedTrainableWeights):rt(e.trainableWeights)}(e),f=rt(e.nonTrainableWeights);r("Total params: "+(c+f)),r("Trainable params: "+c),r("Non-trainable params: "+f),r("_".repeat(t))}function tn(e,t,n){void 0===n&&(n=console.log);for(var r="",i=0;i<e.length;++i)i>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=e[i]).slice(0,t[i]),r+=" ".repeat(t[i]-r.length);n(r)}function nn(e,t,n){var r;try{r=JSON.stringify(e.outputShape)}catch(e){r="multiple"}tn([e.name+" ("+e.getClassName()+")",r,e.countParams().toString()],t,n)}function rn(e,t,n,r){var i;try{i=JSON.stringify(e.outputShape)}catch(e){i="multiple"}for(var a=[],o=0,s=e.inboundNodes;o<s.length;o++){var u=s[o];if(!(null!=n&&n.length>0&&-1===n.indexOf(u)))for(var l=0;l<u.inboundLayers.length;++l){var c=u.inboundLayers[l].name,f=u.nodeIndices[l],h=u.tensorIndices[l];a.push(c+"["+f+"]["+h+"]")}}var d=e.name,p=e.getClassName(),m=0===a.length?"":a[0];for(tn([d+" ("+p+")",i,e.countParams().toString(),m],t,r),l=1;l<a.length;++l)tn(["","","",a[l]],t,r)}function an(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"==typeof n}function on(e,t){if(null===e)return null;if("string"==typeof e)return x(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,i=0;i<r;++i){var a=e[i];an(t,i,a)?n.push(a):n.push(on(a,t))}return n}for(var o={},s=0,u=Object.keys(e);s<u.length;s++){var l=u[s],c=e[l];if("name"===l&&"string"==typeof c)o[l]=c;else{var f=x(l);o[f]=on(c,f)}}return o}function sn(e,t){if(null===e||void 0===e)return null;if("string"==typeof e)return S(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,i=0;i<r;++i){var a=e[i];an(t,i,a)?n.push(a):n.push(sn(a,t))}return n}for(var o={},s=0,u=Object.keys(e);s<u.length;s++){var l=u[s],c=e[l];o[S(l)]="name"!==l&&"className"!==l||"string"!=typeof c?sn(c,l):c}return o}var un=function(){function e(t){if(this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof e)for(var n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(null==t)return;for(var r=0,i=t;r<i.length;r++){var a=i[r];this.add(a.key,a.value)}}}return e.prototype.add=function(e,t,n){if(null!=this.id2Value[e.id])throw new d("Duplicate key: name="+e.name+", id="+e.id);return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return Object(r.z)(t,e.dtype)}catch(n){throw new d("The dtype of the feed ("+t.dtype+") can not be cast to the dtype of the key '"+e.name+"' ("+e.dtype+").")}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this},e.prototype.addFeed=function(e){this.add(e.key,e.value)},e.prototype.hasKey=function(e){return null!=this.id2Value[e.id]},e.prototype.names=function(){return Object.keys(this.name2Id)},e.prototype.getValue=function(e){if(e instanceof lt){if(null==this.id2Value[e.id])throw new d("Nonexistent key: "+e.name);return this.id2Value[e.id]}var t=this.name2Id[e];if(null==t)throw new d("Feed dict has no SymbolicTensor name: "+e);return this.id2Value[t]},e.prototype.getMask=function(e){if(e instanceof lt){if(null==this.id2Value[e.id])throw new d("Nonexistent key: "+e.name);return this.id2Mask[e.id]}var t=this.name2Id[e];if(null==t)throw new d("Feed dict has no SymbolicTensor name: "+e);return this.id2Mask[t]},e.prototype.disposeMasks=function(){null!=this.id2Mask&&Object(r.R)(this.id2Mask)},e}(),ln={},cn={};function fn(e,t,n,i){for(var a=null!=n&&n.training,o=Array.isArray(e),s=o?e:[e],u=s.map((function(e){return e.name})),l=[],c=t.names(),f=0,h=u;f<h.length;f++){var d=h[f];-1!==c.indexOf(d)?l.push(t.getValue(d)):l.push(null)}null!=i&&(i.maxNumTensors=-1/0,i.minNumTensors=1/0);var p,m,g=u.join(",")+"|"+t.names().join(",");if(null==ln[g]){var v=function(e,t){r.dd.assert(null!=e&&e.length>0,(function(){return"Expected at least one fetch, got none"}));var n=[],i={};if(1===e.length){var a=dn(e[0],t);n=a.sorted,i=a.recipientMap}else for(var o=new Set,s=0,u=e;s<u.length;s++){for(var l=dn(u[s],t),c=l.sorted,f=l.recipientMap,h=0,d=c;h<d.length;h++){var p=d[h];o.has(p.name)||(n.push(p),o.add(p.name))}var m=function(e){null==i[e]&&(i[e]=new Set),f[e].forEach((function(t){return i[e].add(t)}))};for(var g in f)m(g)}return{sorted:n,recipientCounts:hn(i)}}(s,t);p=v.sorted,m=v.recipientCounts,ln[g]=p,cn[g]=m}p=ln[g],m={},a||Object.assign(m,cn[g]);for(var y=new un(t),b=0;b<p.length;++b){if(null!=i){var S=Object(r.Lb)().numTensors;S>i.maxNumTensors&&(i.maxNumTensors=S),S<i.minNumTensors&&(i.minNumTensors=S)}var x=p[b],_=x.sourceLayer;if(!(_ instanceof vt)){for(var T=[],E=[],k=[],C=!1,A=0,O=x.inputs;A<O.length;A++){var I=O[A],M=y.getValue(I),D=y.getMask(I);T.push(M),E.push(D),null!=D&&(C=!0),a||(m[I.name]--,0!==m[I.name]||t.hasKey(I)||-1!==u.indexOf(I.name)||M.isDisposed||!0===I.sourceLayer.stateful||k.push(M))}C&&((n=n||{}).mask=E[0]);var R=w(_.apply(T,n)),P=null;_.supportsMasking&&(P=_.computeMask(T,E));for(var N=pn(x),L=Array.isArray(N)?N:[N],F=0;F<L.length;++F){y.hasKey(L[F])||y.add(L[F],R[F],Array.isArray(P)?P[0]:P);var B=u.indexOf(L[F].name);-1!==B&&(l[B]=R[F])}a||Object(r.R)(k)}}return y.disposeMasks(),o?l:l[0]}function hn(e){var t={};for(var n in e)t[n]=e[n].size;return t}function dn(e,t){for(var n=new Set,r=[],i={},a=0,o=t.names();a<o.length;a++){var s=o[a];n.add(s)}var u=[],l=[];for(u.push(e);u.length>0;){var c=u[u.length-1];if(n.has(c.name))u.pop();else{var f=l[l.length-1]===u.length-1;if(0===c.inputs.length||f)u.pop(),r.push(c),n.add(c.name),f&&l.pop();else{l.push(u.length-1);for(var h=0,d=c.inputs;h<d.length;h++){var p=d[h];null==i[p.name]&&(i[p.name]=new Set),i[p.name].add(c.name),n.has(p.name)||u.push(p)}}}}return{sorted:r,recipientMap:i}}function pn(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r)for(var i=0,a=e.sourceLayer.inboundNodes[r].outputTensors;i<a.length;i++)if(a[i].id===e.id){n=r;break}t=e.sourceLayer.getOutputAt(n)}return t}var mn=function(e){function t(n){var r=e.call(this,{})||this;if(r.containerNodes=new Set,r.name=n.name,null==r.name){var i=r.getClassName().toLowerCase();r.name=Je(i)}if(r.supportsMasking=!1,r.trainable_=!0,Array.isArray(n.inputs)?r.inputs=n.inputs.slice():r.inputs=[n.inputs],Array.isArray(n.outputs)?r.outputs=n.outputs.slice():r.outputs=[n.outputs],A(r.inputs).length!==r.inputs.length)throw new d("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+r.inputs.map((function(e){return e.name})));A(r.outputs).length!==r.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+r.outputs.map((function(e){return e.name}))),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[],r.internalContainerRefs=[];for(var a=0,o=r.outputs;a<o.length;a++){var s=(M=o[a]).sourceLayer,u=M.nodeIndex,l=M.tensorIndex;r.outputLayers.push(s),r.outputLayersNodeIndices.push(u),r.outputLayersTensorIndices.push(l)}for(var c=0,f=r.inputs;c<f.length;c++)s=(M=f[c]).sourceLayer,u=M.nodeIndex,l=M.tensorIndex,v(0===u,"input layer has >1 nodes"),v(0===l,"input layer has >1 tensors"),r.inputLayers.push(s),r.inputLayersNodeIndices.push(u),r.inputLayersTensorIndices.push(l);r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var p=0;p<r.inputLayers.length;p++){if(!((s=r.inputLayers[p])instanceof vt))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. Received inputs: "+n.inputs+". Input "+p+" (0-based) originates from layer type "+s.getClassName()+".");r.inputNames.push(s.name),r.feedInputShapes.push(s.batchInputShape),r.feedInputNames.push(s.name)}for(var m=0,g=r.outputLayers;m<g.length;m++)s=g[m],r.outputNames.push(s.name);r.internalInputShapes=r.inputs.map((function(e){return e.shape})),r.internalOutputShapes=r.outputs.map((function(e){return e.shape}));for(var y={},b={},w={},S={},x={},_=[],T=function e(n,i,a,o,s,u){null!=o&&null!=s&&null!=u||(o=n.sourceLayer,s=n.nodeIndex,u=n.tensorIndex);var l=o.inboundNodes[s];if(-1!==a.indexOf(l))throw new h("The tensor "+n.name+' at layer "'+o.name+'" is part of a cycle.');if(-1===i.indexOf(l)){r.containerNodes.add(t.nodeKey(o,s)),o.id in x||(x[o.id]=Object.keys(x).length),-1===a.indexOf(l)&&a.push(l);for(var c=l.inboundLayers.length,f=0;f<c;f++){e(l.inputTensors[f],i,a,l.inboundLayers[f],l.nodeIndices[f],l.tensorIndices[f])}for(i.push(l);a.indexOf(l)>=0;)a.splice(a.indexOf(l),1);_.push(l)}},E=[],k=[],O=0,I=r.outputs;O<I.length;O++){var M=I[O];T(M,E,k)}for(var D=0,R=_.slice().reverse();D<R.length;D++){b[(te=R[D]).id]=te,te.id in y||(y[te.id]=0);var P=y[te.id],N=null==w[te.outboundLayer.id]?0:w[te.outboundLayer.id];for(P=Math.max(P,N),w[te.outboundLayer.id]=P,S[te.outboundLayer.id]=te.outboundLayer,y[te.id]=P,p=0;p<te.inboundLayers.length;p++){var L=te.inboundLayers[p],F=(u=te.nodeIndices[p],L.inboundNodes[u]),B=null==y[F.id]?0:y[F.id];y[F.id]=Math.max(P+1,B),b[F.id]=F}}var z={};for(var U in y)(P=y[U])in z||(z[P]=[]),z[P].push(b[U]);var j={};for(var V in w)(P=w[V])in j||(j[P]=[]),j[P].push(S[V]);var G=Object.keys(j).map((function(e){return parseInt(e,10)})).sort(C);r.layers=[];for(var W=0,H=G;W<H.length;W++){var q=j[P=H[W]];q.sort((function(e,t){var n=x[e.id],r=x[t.id];return n<r?-1:n>r?1:0}));for(var Q=0,X=q;Q<X.length;Q++)(s=X[Q])instanceof t&&r.internalContainerRefs.push(s),r.layers.push(s)}r.layersByDepth=j,G=Object.keys(z).map((function(e){return parseInt(e,10)})).sort(C);for(var Y=r.inputs.slice(),K=[],Z=0,J=G;Z<J.length;Z++)for(var $=0,ee=z[P=J[Z]];$<ee.length;$++){var te;if(null!=(s=(te=ee[$]).outboundLayer)){for(var ne=0,re=te.inputTensors;ne<re.length;ne++)if(M=re[ne],-1===Y.indexOf(M))throw new h("Graph disconnected: cannot obtain value for tensor "+M+' at layer "'+s.name+'". The following previous layers were accessed without issue: '+K);for(var ie=0,ae=te.outputTensors;ie<ae.length;ie++)M=ae[ie],Y.push(M);K.push(s.name)}}r.nodesByDepth=z;for(var oe=r.layers.map((function(e){return e.name})),se=function(e){var t=oe.filter((function(t){return t===e})).length;if(1!==t)throw new h('The name "'+e+'" is used '+t+" times in the model. All layer names should be unique. Layer names: "+JSON.stringify(oe))},ue=0,le=oe;ue<le.length;ue++)se(le[ue]);return r.outboundNodes=[],r.inboundNodes=[],new ft({outboundLayer:r,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map((function(e){return null})),outputMasks:r.outputs.map((function(e){return null})),inputShapes:r.inputs.map((function(e){return e.shape})),outputShapes:r.outputs.map((function(e){return e.shape}))}),r.built=!0,r._refCount=1,r}return a(t,e),t.prototype.assertNotDisposed=function(){if(0===this._refCount)throw new Error("Container '"+this.name+"' is already disposed.")},t.prototype.dispose=function(){this.assertNotDisposed();var e={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(var t=0,n=this.layers;t<n.length;t++){var r=n[t];e.numDisposedVariables+=r.dispose().numDisposedVariables}for(var i=0,a=this.internalContainerRefs;i<a.length;i++){var o=a[i];e.numDisposedVariables+=o.dispose().numDisposedVariables}}return e.refCountAfterDispose=this._refCount,e},Object.defineProperty(t.prototype,"trainable",{get:function(){return this.trainable_},set:function(e){this.layers.forEach((function(t){t._trainableWeights.forEach((function(t){return t.trainable=e}))})),this.trainable_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainableWeights",{get:function(){if(this._trainableWeights.length>0)throw new d("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e=e.concat(r.trainableWeights)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t];e.push.apply(e,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],a=0,o=this.layers;a<o.length;a++)r=o[a],i.push.apply(i,r.trainableWeights);return i.concat(e)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weights",{get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)},enumerable:!0,configurable:!0}),t.prototype.loadWeights=function(e,t){void 0===t&&(t=!0);for(var n={},r=0,i=0,a=this.layers;i<a.length;i++)for(var o=0,s=a[i].weights;o<s.length;o++){var u=s[o];if(null!=n[u.originalName])throw new d("Duplicate weight name: "+u.originalName);n[u.originalName]=u,r++}var l=[];for(var c in e){if(null!=n[c])l.push([n[c],e[c]]);else if(t)throw new d("Provided weight data has no target variable: "+c);delete n[c]}if(t){var f=[];for(var h in n)f.push(h);if(f.length>0)throw new d(f.length+" of "+r+" weights are not set: "+f)}st(l)},t.prototype.updatedConfig=function(){var e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers 1.7.4",t.backend="TensorFlow.js",t},t.prototype.toJSON=function(e,t){void 0===t&&(t=!0);var n=sn(this.updatedConfig());return t?JSON.stringify(n):n},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){e=w(e);for(var r=new un,i=0;i<n.inputs.length;++i)r.add(n.inputs[i],e[i]);return fn(n.outputs,r,t)}))},t.prototype.computeMask=function(e,t){var n=this;return Object(r.Wc)((function(){var r;return e=w(e),r=null==t?g(null,e.length):w(t),n.runInternalGraph(e,r)[1]}))},t.prototype.computeOutputShape=function(e){var t=et(e);if(t.length!==this.inputLayers.length)throw new d("Invalid inputShape argument "+e+": model has "+this.inputLayers.length+" tensor inputs.");for(var n={},r=0;r<t.length;r++){var i=this.inputLayers[r],a=t[r];n[k=i.name+"_0_0"]=a}var o=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(C);if(o.length>1)for(var s=0,u=o;s<u.length;s++)for(var l=u[s],c=0,f=this.nodesByDepth[l];c<f.length;c++){var h=f[c];if(i=h.outboundLayer,-1===this.inputLayers.map((function(e){return e.id})).indexOf(i.id)){for(var p=[],m=0;m<h.inboundLayers.length;m++){var g=h.inboundLayers[m],y=h.nodeIndices[m],w=h.tensorIndices[m],S=n[k=g.name+"_"+y+"_"+w];p.push(S)}var x=et(i.computeOutputShape(b(p))),_=i.inboundNodes.indexOf(h);for(m=0;m<x.length;m++)n[k=i.name+"_"+_+"_"+m]=x[m]}}var T=[],E=[];for(r=0;r<this.outputLayers.length;r++){i=this.outputLayers[r],_=this.outputLayersNodeIndices[r],w=this.outputLayersTensorIndices[r];var k=i.name+"_"+_+"_"+w;E.push(k)}for(r=0;r<E.length;r++){var A=E[r];v(A in n),T.push(n[A])}return b(T)},t.prototype.runInternalGraph=function(e,t){null==t&&(t=g(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var i=this.inputs[r],a=e[r],o=t[r];n[i.id]=[a,o]}for(var s=0,u=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(C);s<u.length;s++)for(var l=u[s],c=0,f=this.nodesByDepth[l];c<f.length;c++){for(var h=f[c],d=h.outboundLayer,m=h.inputTensors,y=h.outputTensors,b=new Array,S=0,x=m;S<x.length;S++)(i=x[S]).id in n&&b.push(n[i.id]);if(b.length===m.length){var _={},T=void 0,E=void 0,k=void 0,A=void 0;if(null!=h.callArgs&&(_=h.callArgs),1===b.length){var O=b[0],I=O[0],M=O[1];null==_.mask&&(_.mask=M),k=w(d.call(I,_)),A=w(d.computeMask(I,M)),T=[I],E=[M]}else T=b.map((function(e){return e[0]})),E=b.map((function(e){return e[1]})),null==_.mask&&(_.mask=E),k=w(d.call(T,_)),A=w(d.computeMask(T,E));if(d.activityRegularizer)throw new p("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(r=0;r<y.length;++r)i=y[r],a=k[r],o=A[r],n[i.id]=[a,o]}}for(var D=[],R=[],P=[],N=0,L=this.outputs;N<L.length;N++){v((i=L[N]).id in n,"Could not compute output "+i.name+" : "+i.id);var F=n[i.id],B=F[0];o=F[1],P.push(B.shape),D.push(B),R.push(o)}return[D,R,P]},t.prototype.buildNodeConversionMap=function(e){for(var n,r={},i=0,a=this.layers;i<a.length;i++){var o=a[i];n=o instanceof t?1:0;for(var s=0;s<o.inboundNodes.length;s++){var u=t.nodeKey(o,s);this.containerNodes.has(u)&&(r[u]=n,n+=1)}}return r},t.prototype.getLayer=function(e,t){if(null!=t){if(this.layers.length<=t)throw new d("Was asked to retrieve layer at index "+t+", but model only has "+this.layers.length+" layer(s).");return this.layers[t]}if(null==e)throw new d("Provide either a layer name or layer index");for(var n=0,r=this.layers;n<r.length;n++){var i=r[n];if(i.name===e)return i}throw new d("No such layer: "+e)},t.prototype.calculateLosses=function(){var e=this;return Object(r.Wc)((function(){for(var n=[],r=0,i=e.layers;r<i.length;r++)for(var a=i[r],o=0;o<a.inboundNodes.length;++o){var s=t.nodeKey(a,o);e.containerNodes.has(s)&&n.push.apply(n,a.calculateLosses())}return n}))},t.prototype.getConfig=function(){for(var e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[],i=0,a=this.layers;i<a.length;i++){for(var o=(w=a[i]).getClassName(),s=w.getConfig(),u=[],l=0;l<w.inboundNodes.length;l++){var c=w.inboundNodes[l],f=t.nodeKey(w,l),h={};if(this.containerNodes.has(f)){if(c.callArgs)try{JSON.stringify(c.callArgs),h=c.callArgs}catch(e){console.warn("Layer "+w.name+" was passed non-serializable keyword arguments: "+c.callArgs+". They will not be included in the serialized model (and thus will be missing at deserialization time)."),h={}}if(c.inboundLayers.length>0){for(var d=[],p=0;p<c.inboundLayers.length;p++){var m=c.inboundLayers[p],g=c.nodeIndices[p],v=c.tensorIndices[p];null==(x=n[t.nodeKey(m,g)])&&(x=0),d.push([m.name,x,v,h])}u.push(d)}}}var y={};y.name=w.name,y.className=o,y.config=s,y.inboundNodes=u,r.push(y)}e.layers=r;var b=[];for(p=0;p<this.inputLayers.length;p++){var w=this.inputLayers[p];g=this.inputLayersNodeIndices[p],f=t.nodeKey(w,g),this.containerNodes.has(f)&&(null!==(x=n[f])&&void 0!==x||(x=0),v=this.inputLayersTensorIndices[p],b.push([w.name,x,v]))}e.inputLayers=b;var S=[];for(p=0;p<this.outputLayers.length;p++){var x;if(w=this.outputLayers[p],g=this.outputLayersNodeIndices[p],f=t.nodeKey(w,g),this.containerNodes.has(f))null!==(x=n[f])&&void 0!==x||(x=0),v=this.outputLayersTensorIndices[p],S.push([w.name,x,v])}return e.outputLayers=S,e},t.fromConfig=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r=!1);var i={},a={};function o(e,t){e.name in a?a[e.name].push(t):a[e.name]=[t]}function s(e,t){for(var n,r=[],a=0,s=t;a<s.length;a++){var u=s[a],l=u[0],c=u[1],f=u[2];if(n=null==u[3]?{}:u[3],!(l in i))return void o(e,t);var h=i[l];if(h.inboundNodes.length<=c)return void o(e,t);var d=h.inboundNodes[c];r.push(d.outputTensors[f])}r.length>0&&e.apply(b(r),n)}function u(e){var n=e.name,a=Ot(e,null!=t.customObjects?t.customObjects:{});a.setFastWeightInitDuringBuild(r),i[n]=a,e.inboundNodes.forEach((function(e){if(!(e instanceof Array))throw new d("Corrupted configuration, expected array for nodeData: "+e);o(a,e)}))}for(var l=t.name,c=t.layers,f=0,h=c;f<h.length;f++)u(g=h[f]);for(;!O(a);)for(var p=0,m=c;p<m.length;p++){var g=m[p];if((R=i[g.name]).name in a){var y=a[R.name];delete a[R.name];for(var w=0,S=y;w<S.length;w++)s(R,S[w])}}for(var x=[],_=[],T=0,E=t.inputLayers;T<E.length;T++){var k=(g=E[T])[0],C=g[1],A=g[2];v(k in i);var I=(R=i[k]).inboundNodes[C].outputTensors;x.push(I[A])}for(var M=0,D=t.outputLayers;M<D.length;M++){var R;k=(g=D[M])[0],C=g[1],A=g[2],v(k in i),I=(R=i[k]).inboundNodes[C].outputTensors,_.push(I[A])}return new e({inputs:x,outputs:_,name:l})},Object.defineProperty(t.prototype,"stateful",{get:function(){if(this._stateful)throw new d("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(var e=0,t=this.layers;e<t.length;e++)if(t[e].stateful)return!0;return!1},enumerable:!0,configurable:!0}),t.prototype.resetStates=function(){var e=this;Object(r.Wc)((function(){e.layers.forEach((function(e){e.stateful&&e.resetStates()}))}))},t}(dt);function gn(e,t){return function(e,t,n){var r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return null}));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"==typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error("Provided "+n+" is an array of "+e.length+" element(s), but the model has "+r+" outputs. Make sure a set of weights is provided for each model output.");return e}if("object"==typeof e&&Object.keys(e).length>0&&"object"==typeof e[Object.keys(e)[0]]){var i=[];return t.forEach((function(t){t in e?i.push(e[t]):i.push(null)})),i}throw new Error("The model has multiple ("+r+") outputs, so "+n+" must be either an array with "+r+" elements or an object with "+t+" keys. Provided "+n+" not understood: "+JSON.stringify(e))}(e,t,"classWeight")}function vn(e,t,n,i){return u(this,void 0,void 0,(function(){var a,o,s,u,c;return l(this,(function(l){switch(l.label){case 0:if(null!=t||null!=i)throw new Error("Support sampleWeight is not implemented yet");return null==n?[3,2]:(a=Object(r.Wc)((function(){if(1===e.shape.length)return e.clone();if(2===e.shape.length){if(e.shape[1]>1)return e.argMax(1);if(1===e.shape[1])return e.reshape([e.shape[0]]);throw new Error("Encountered unexpected last-dimension size ("+e.shape[1]+") during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor ("+e.rank+") during handling of class weights. The rank is expected to be 1 or 2.")})),u=(s=Array).from,[4,a.data()]);case 1:return o=u.apply(s,[l.sent()]),Object(r.R)(a),c=[],o.forEach((function(e){if(null==n[e])throw new Error("classWeight must contain all classes in the training data. The class "+e+" exists in the data but not in classWeight");c.push(n[e])})),[2,Object(r.Tc)(c,"float32")];case 2:return[2,null]}}))}))}function yn(e,t){return Object(r.Qb)(e,t)}function bn(e,t){var n,i,a=t;n=a.xs,i=a.ys,r.dd.assert(null!=n&&null!=i,(function(){return"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+t}));var o=wn("input",e.inputNames,n),s=wn("output",e.outputNames,i),u=o[0].shape[0];r.dd.assert(o.length===e.inputs.length,(function(){return"LayersModel has "+e.inputs.length+" inputs, but the dataset provides "+o.length+" inputs.  (Expected input keys: "+JSON.stringify(e.inputNames)+")"})),r.dd.assert(s.length===e.outputs.length,(function(){return"LayersModel has "+e.outputs.length+" outputs, but the dataset provides "+s.length+" outputs.  (Expected output keys: "+JSON.stringify(e.outputNames)+")"}));for(var l=function(t){r.dd.assert(o[t].shape[0]===u,(function(){return"Batch size mismatch: input "+e.inputNames[t]+" has "+o[t].shape[0]+"; expected  "+u+" based on input "+e.inputNames[0]+"."}))},c=0;c<o.length;c++)l(c);for(var f=function(t){r.dd.assert(s[t].shape[0]===u,(function(){return"Batch size mismatch: output "+e.outputNames[t]+" has "+s[t].shape[0]+"; expected  "+u+" based on input "+e.inputNames[0]+"."}))},h=0;h<s.length;h++)f(h);return{xs:o,ys:s}}function wn(e,t,n){if(n instanceof r.b)return[n];if(Array.isArray(n))return r.dd.assert(n.length===t.length,(function(){return"Received an array of "+n.length+" Tensors, but expected "+t.length+" to match the "+e+" keys "+t+"."})),n;for(var i=[],a=0,o=t;a<o.length;a++){var s=o[a];if(null==n[s])throw new d("The feature data generated by the dataset lacks the required "+e+" key '"+s+"'.");i.push(n[s])}return i}function Sn(e,t,n){return u(this,void 0,void 0,(function(){var i,a,o,s,u,c,f,h,d,m,g,v,y,b,S,x,_,T,E,k,C,A,O,I,M,D,R,P,N,L,F,B,z,U;return l(this,(function(l){switch(l.label){case 0:if(i=null!=n.batchesPerEpoch,r.dd.assert(null!=e.optimizer,(function(){return"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."})),r.dd.assert(null!=n,(function(){return"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."})),r.dd.assert(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),(function(){return"For fitDataset(), config.epochs is expected to be a positive integer, but got "+n.epochs})),r.dd.assert(!i||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),(function(){return"For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got "+n.batchesPerEpoch})),r.dd.assert(null==n.validationSplit,(function(){return"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."})),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0,l.label=1;case 1:return l.trys.push([1,,26,27]),a=null!=n.validationData,o=void 0,s=void 0,a&&(xn(n.validationData)?r.dd.assert(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),(function(){return"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got "+n.validationBatches})):(u=function(e){if(3===e.length)throw new p("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(n.validationData),o=u.xs,s=u.ys)),c=e.makeTrainFunction(),f=e.getDedupedMetricsNames(),void 0,h=a?f.slice().concat(f.map((function(e){return"val_"+e}))):f.slice(),d=kt(n.callbacks,n.yieldEvery),m=null==n.verbose?1:n.verbose,g=At(d,m,n.epochs,null,null,function(e,t){var n=null;return null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}(t,n),null,a,h),v=g.callbackList,y=g.history,v.setModel(e),e.history=y,[4,v.onTrainBegin()];case 2:return l.sent(),e.stopTraining_=!1,b=null==n.initialEpoch?0:n.initialEpoch,[4,t.iterator()];case 3:S=l.sent(),l.label=4;case 4:return b<n.epochs?(x={},[4,v.onEpochBegin(b)]):[3,23];case 5:return l.sent(),_=0,T=0,i?[3,7]:[4,t.iterator()];case 6:S=l.sent(),l.label=7;case 7:return!i||_<n.batchesPerEpoch?[4,S.next()]:[3,21];case 8:return E=l.sent(),i&&E.done?(console.warn("You provided `batchesPerEpoch` as "+n.batchesPerEpoch+", but your dataset iterator ran out of data after "+_+" batches; interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+n.batchesPerEpoch*n.epochs+" batches). You may need to use the repeat() function when building your dataset."),[3,21]):null==E.value?[3,15]:(k=bn(e,E.value),C=k.xs,A=k.ys,(O={}).batch=T,O.size=C[0].shape[0],[4,v.onBatchBegin(T,O)]);case 9:if(l.sent(),I=[],null==n.classWeight)return[3,13];M=gn(n.classWeight,e.outputNames),U=0,l.label=10;case 10:return U<M.length?(R=(D=I).push,[4,vn(A[U],null,M[U])]):[3,13];case 11:R.apply(D,[l.sent()]),l.label=12;case 12:return++U,[3,10];case 13:for(P=C.concat(A).concat(I),N=c(P),Object(r.R)(P),U=0;U<f.length;++U)L=f[U],F=N[U],O[L]=F,Object(r.rb)(F);return[4,v.onBatchEnd(T,O)];case 14:l.sent(),wt(O),T++,_++,l.label=15;case 15:return(i?_>=n.batchesPerEpoch:E.done)?a?(B=void 0,xn(n.validationData)?(z=w,[4,e.evaluateDataset(n.validationData,{batches:n.validationBatches})]):[3,17]):[3,19]:[3,20];case 16:return B=z.apply(void 0,[l.sent()]),[3,18];case 17:B=w(e.evaluate(o,s,{batchSize:null==n.validationBatchSize?32:n.validationBatchSize,verbose:0})),l.label=18;case 18:for(U=0;U<e.metricsNames.length;++U)x["val_"+e.metricsNames[U]]=B[U];l.label=19;case 19:return[3,21];case 20:return e.stopTraining_?[3,21]:[3,7];case 21:return[4,v.onEpochEnd(b,x)];case 22:return l.sent(),b++,e.stopTraining_?[3,23]:[3,4];case 23:return[4,v.onTrainEnd()];case 24:return l.sent(),[4,e.history.syncData()];case 25:return l.sent(),[2,e.history];case 26:return e.isTraining=!1,[7];case 27:return[2]}}))}))}function xn(e){return"function"==typeof e.iterator}function _n(e,t,n){return u(this,void 0,void 0,(function(){var i,a,o,s,u,c,f,h,d,m;return l(this,(function(g){switch(g.label){case 0:if(i=null!=(n=n||{}).batches,a=e.testFunction,o=[],n.verbose>0)throw new p("Verbose mode is not implemented yet.");return r.dd.assert(!i||n.batches>0&&Number.isInteger(n.batches),(function(){return"Test loop expects `batches` to be a positive integer, but received "+JSON.stringify(n.batches)})),function(e){return"function"==typeof e.next}(t)?(u=t,[3,3]):[3,1];case 1:return[4,t.iterator()];case 2:u=g.sent(),g.label=3;case 3:s=u,c=0,f=0,h=function(){var t;return l(this,(function(u){switch(u.label){case 0:return[4,s.next()];case 1:return t=u.sent(),o=Object(r.Wc)((function(){if(t.value){var n=bn(e,t.value),i=n.xs,s=n.ys,u=i.concat(s),l=Object(r.Wc)((function(){return a(u)}));if(Object(r.R)(u),0===f)for(var h=0;h<l.length;++h)o.push(Object(r.oc)(0));var d=u[0].shape[0],p=function(e){var t=l[e],n=o[e];o[e]=Object(r.Wc)((function(){return Object(r.f)(o[e],Object(r.Qb)(d,t))})),f>0&&Object(r.R)(n)};for(h=0;h<l.length;++h)p(h);Object(r.R)(l),c+=d,++f}return o})),t.done?(i&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` batches (in this case, "+n.batches+" batches). You may need to use the repeat() function when building your dataset."),[2,"break"]):[2]}}))},g.label=4;case 4:return!i||f<n.batches?[5,h()]:[3,6];case 5:return"break"===g.sent()?[3,6]:[3,4];case 6:for(d=0;d<o.length;++d)m=o[d],o[d]=Object(r.S)(o[d],c),Object(r.R)(m);return[2,b(o)]}}))}))}function Tn(e){r.dd.assert(e>0&&Number.isInteger(e),(function(){return"batchSize is required to be a positive integer, but got "+e}))}function En(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((function(e){return de(e,t,n-t)})):de(e,t,n-t)}function kn(e,t){return Object(r.Wc)((function(){return null==e?null:Array.isArray(e)?e.map((function(e){return kn(e,t)})):Se(e,"int32"===t.dtype?t:t.toInt())}))}function Cn(e,t){for(var n=[],r=0,i=null;r<e;)(i=r+t)>=e&&(i=e),n.push([r,i]),r=i;return n}function An(e,t,n,i,a,o,s,c,f,h,m,g,v,y,b){return u(this,void 0,void 0,(function(){var u,w,S,x,_,T,E,k;return l(this,(function(C){switch(C.label){case 0:if(null==a&&(a=32),null==o&&(o=1),null==m&&(m=!0),null==v&&(v=0),u=!1,null!=f&&null!=h&&(u=!0),null!=b&&(u=!0,null==y))throw new d("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");return null!=(w=e.checkNumSamples(n,a,y,"steps_per_epoch"))&&(S=ce(0,w)),null==s&&(s=1),x=At(c,s,o,v,w,y,a,u,g),_=x.callbackList,T=x.history,_.setModel(e),e.history=T,[4,_.onTrainBegin()];case 1:C.sent(),e.stopTraining_=!1,E=function(o){var s,c,d,g,v;return l(this,(function(b){switch(b.label){case 0:return[4,_.onEpochBegin(o)];case 1:if(b.sent(),s={},null==y)return[3,2];throw new p("stepsPerEpoch mode is not implemented yet.");case 2:if("batch"===m)throw new p("batch shuffling is not implemneted yet");m&&r.dd.shuffle(S),c=Object(r.Tc)(S),d=Cn(w,a),g=function(o){var p;return l(this,(function(l){switch(l.label){case 0:return p={},[4,_.onBatchBegin(o,p)];case 1:return l.sent(),Object(r.Wc)((function(){var l=d[o][0],m=d[o][1],g=de(c,l,m-l);p.batch=o,p.size=m-l;for(var v=kn(n,g),y=t(v),b=0;b<i.length;++b){var w=i[b],S=y[b];p[w]=S,Object(r.rb)(S)}if(o===d.length-1&&u){var x=e.testLoop(f,h,a);for(b=0;b<i.length;++b)w=i[b],S=x[b],Object(r.rb)(S),s["val_"+w]=S}})),[4,_.onBatchEnd(o,p)];case 2:return l.sent(),wt(p),e.stopTraining_?[2,"break"]:[2]}}))},v=0,b.label=3;case 3:return v<d.length?[5,g(v)]:[3,6];case 4:if("break"===b.sent())return[3,6];b.label=5;case 5:return++v,[3,3];case 6:c.dispose(),b.label=7;case 7:return[4,_.onEpochEnd(o,s)];case 8:return b.sent(),e.stopTraining_?[2,"break"]:[2]}}))},k=v,C.label=2;case 2:return k<o?[5,E(k)]:[3,5];case 3:if("break"===C.sent())return[3,5];C.label=4;case 4:return++k,[3,2];case 5:return[4,_.onTrainEnd()];case 6:return C.sent(),[4,e.history.syncData()];case 7:return C.sent(),[2,e.history]}}))}))}function On(e,t,n,i){return void 0===i&&(i={}),u(this,void 0,void 0,(function(){var a,o,s,u,c,f,h,m,g,v,y,b,w,S,x,_,T,E,k,C;return l(this,(function(l){switch(l.label){case 0:if(e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0,l.label=1;case 1:return l.trys.push([1,,7,8]),Tn(m=null==i.batchSize?32:i.batchSize),!1,[4,e.standardizeUserData(t,n,i.sampleWeight,i.classWeight,false,m)];case 2:if(g=l.sent(),a=g[0],o=g[1],h=g[2],v=!1,y=void 0,!(null!=i.validationData&&i.validationData.length>0))return[3,4];if(v=!0,2!==i.validationData.length)throw 3===i.validationData.length?new p("validationData including sample weights is not supported yet."):new d("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+i.validationData+" is invalid.");return s=i.validationData[0],u=i.validationData[1],!0,[4,e.standardizeUserData(s,u,null,null,true,m)];case 3:return b=l.sent(),c=b[0],f=b[1],y=c.concat(f),[3,5];case 4:null!=i.validationSplit&&i.validationSplit>0&&i.validationSplit<1?(v=!0,w=Math.floor(a[0].shape[0]*(1-i.validationSplit)),S=a[0].shape[0],c=En(a,w,S),a=En(a,0,w),f=En(o,w,S),o=En(o,0,w),y=c.concat(f)):null!=i.validationSteps&&(v=!0),l.label=5;case 5:return x=a.concat(o).concat(h),e.checkTrainableWeightsConsistency(),_=e.makeTrainFunction(),T=e.getDedupedMetricsNames(),E=void 0,k=void 0,v?(e.makeTestFunction(),E=e.testFunction,k=T.slice().concat(T.map((function(e){return"val_"+e})))):(E=null,y=[],k=T.slice()),C=kt(i.callbacks,i.yieldEvery),[4,An(e,_,x,T,m,i.epochs,i.verbose,C,E,y,i.shuffle,k,i.initialEpoch,null,null)];case 6:return[2,l.sent()];case 7:return e.isTraining=!1,Mn(a,t),Mn(o,n),Mn(c,s),Mn(f,u),null!=h&&Object(r.R)(h),[7];case 8:return[2]}}))}))}function In(e){var t=[];e instanceof r.b&&(e=[e]);for(var n=0;n<e.length;++n){var i=e[n];if(1===i.rank)t.push(he(i,1));else{if(0===i.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(i)}}return t}function Mn(e,t){if(null!=e){var n=[];if(t instanceof r.b)n.push(t.id);else if(Array.isArray(t))t.forEach((function(e){return n.push(e.id)}));else if(null!=t)for(var i in t){var a=t[i];n.push(a.id)}var o=[];if(e instanceof r.b)-1===n.indexOf(e.id)&&o.push(e);else if(Array.isArray(e))e.forEach((function(e){-1===n.indexOf(e.id)&&o.push(e)}));else if(null!=e)for(var s in e){var u=e[s];-1===n.indexOf(u.id)&&o.push(u)}o.forEach((function(e){e.isDisposed||e.dispose()}))}}function Dn(e){return Array.isArray(e)}function Rn(e){return!function(e){return e instanceof r.b}(e)&&!Dn(e)}function Pn(e,t,n,r,i){if(void 0===r&&(r=!0),void 0===i&&(i=""),null==t||0===t.length){if(null!=e){var a=!1;if(Dn(e)&&e.length>0)a=!0;else if(Rn(e)){for(var o in e)if(e.hasOwnProperty(o)){a=!0;break}}else a=!0;if(a)throw new d("Error when checking model "+i+" expected no data, but got "+e)}return[]}if(null==e)return t.map((function(e){return null}));var s;if(Rn(e)){e=e,s=[];for(var u=0,l=t;u<l.length;u++){var c=l[u];if(null==e[c])throw new d('No data provided for "'+c+'". Need data for each key in: '+t);s.push(e[c])}}else if(Dn(e)){if((e=e).length!==t.length)throw new d("Error when checking model "+i+": the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see "+t.length+" Tensor(s), but instead got the following list of Tensor(s): "+e);s=e}else{if(e=e,t.length>1)throw new d("The model "+i+" expects "+t.length+" Tensor(s), but only received one Tensor. Found: Tensor with shape "+e.shape);s=[e]}if(s=In(s),null!=n)for(var f=0;f<t.length;++f)if(null!=n[f]){var h=s[f];if(h.shape.length!==n[f].length)throw new d("Error when checking "+i+": expected "+t[f]+" to have "+n[f].length+" dimension(s). but got array with shape "+h.shape);for(var p=0;p<n[f].length;++p)if(0!==p||r){var m=h.shape[p],g=n[f][p];if(null!=g&&g>=0&&m!==g)throw new d("Error when checking "+i+": expected "+t[f]+" to have shape ["+n[f]+"], but got array with shape ["+h.shape+"].")}}return s}function Nn(e,t,n,r,i){var a;if(void 0===r&&(r=!0),void 0===i&&(i=""),Array.isArray(e)){if(e.length!==t.length)throw new d("Error when checking model "+i+": the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see "+t.length+" Tensor(s), but instead got "+e.length+" Tensors(s).");a=e}else{if(t.length>1)throw new d("The model expects "+t.length+" "+i+" Tensors, but only received one Tensor. Found: array with shape "+JSON.stringify(e.shape)+".");a=[e]}if(null!=n)for(var o=0;o<t.length;++o)if(null!=n[o]){var s=a[o];if(s.shape.length!==n[o].length)throw new d("Error when checking "+i+": expected "+t[o]+" to have "+n[o].length+" dimension(s), but got array with shape "+JSON.stringify(s.shape));for(var u=0;u<n[o].length;++u)if(0!==u||r){var l=s.shape[u],c=n[o][u];if(null!=c&&c!==l)throw new d("Error when checking "+i+": expected "+t[o]+" to have shape "+JSON.stringify(n[o])+" but got array with shape "+JSON.stringify(s.shape)+".")}}}var Ln=function(e){function t(t){var n=e.call(this,t)||this;return n.isTraining=!1,n}return a(t,e),t.prototype.summary=function(e,t,n){if(void 0===n&&(n=console.log),!this.built)throw new d("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");en(this,e,t,n)},t.prototype.compile=function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=function(e){var t={Adagrad:function(){return r.Zc.adagrad(.01)},Adadelta:function(){return r.Zc.adadelta(1,.95,c())},Adam:function(){return r.Zc.adam(.001,.9,.999,c())},Adamax:function(){return r.Zc.adamax(.002,.9,.999,c(),0)},RMSProp:function(){return r.Zc.rmsprop(.001,.9,0,c())},SGD:function(){return r.Zc.sgd(.01)}};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new d("Unknown Optimizer "+e)}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof r.a))throw new d("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new d("When passing an Array as loss, it should have one entry per model output. The model has "+this.outputs.length+" output(s), but you passed loss="+e.loss+".");var i=e.loss;n=i.map((function(e){return zt(e)}))}else{var a=zt(e.loss);this.outputs.forEach((function(e){n.push(a)}))}else{for(var o in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(o))throw new d('Unknown entry in loss dictionary: "'+o+'". Only expected the following keys: '+this.outputNames);for(var s=0,u=this.outputNames;s<u.length;s++){var l=u[s];null==e.loss[l]&&console.warn('Output "'+l+'" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to '+l+" during training"),n.push(zt(e.loss[l]))}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var f=0;f<this.outputs.length;++f){var h=this.internalOutputShapes[f],p=this.outputNames[f];this.feedOutputNames.push(p),this.feedOutputShapes.push(h),this.feedLossFns.push(this.lossFunctions[f])}var m=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],ee("loss",(function(){for(var e=0;e<t.outputs.length;++e)if(-1===m.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+"_loss"))}}));var g=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return[]}));var n;if("string"==typeof e||"function"==typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!=typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,function, Array, or Object, found: "+e);n=e}if(Array.isArray(n))return t.map((function(e){return n}));for(var r=[],i=0,a=t;i<a.length;i++){var o=a[i],s=n.hasOwnProperty(o)?n[o]:[];Array.isArray(s)||(s=[s]),r.push(s)}return r}(e.metrics,this.outputNames);ee("metric",(function(){for(var e=function(e){if(-1!==m.indexOf(e))return"continue";!function(n){for(var r,i,a,o=function(n){if("string"==typeof n&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(n)){var o=t.internalOutputShapes[e];1===o[o.length-1]||t.lossFunctions[e]===Lt?-1!==["accuracy","acc"].indexOf(n)?i=Ut:-1!==["crossentropy","ce"].indexOf(n)&&(i=Ht):t.lossFunctions[e]===Nt?-1!==["accuracy","acc"].indexOf(n)?i=qt:-1!==["crossentropy","ce"].indexOf(n)&&(i=Xt):-1!==["accuracy","acc"].indexOf(n)?i=jt:-1!==["crossentropy","ce"].indexOf(n)&&(i=Qt);var s=void 0;-1!==["accuracy","acc"].indexOf(n)?s="acc":-1!==["crossentropy","ce"].indexOf(n)&&(s="ce"),a=i,r=""+s}else{var u=function(e){if("string"==typeof e&&e in Yt)return Yt[e];if("string"!=typeof e&&null!=e)return e;throw new d("Unknown metric "+e)}(n);a=u,r=""+Kt(n)}var l;ee(r,(function(){l=a})),function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+"_"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e])}(e,r,l)},s=0,u=n;s<u.length;s++)o(u[s])}(g[e])},n=0;n<t.outputs.length;++n)e(n)})),this.collectedTrainableWeights=this.trainableWeights},t.prototype.checkTrainableWeightsConsistency=function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")},t.prototype.evaluate=function(e,t,n){void 0===n&&(n={});var r=null==n.batchSize?32:n.batchSize;Tn(r);var i=this.standardizeUserDataXY(e,t,!0,r);try{var a=i[0].concat(i[1]);this.makeTestFunction();var o=this.testFunction;return b(this.testLoop(o,a,r,n.verbose,n.steps))}finally{Mn(i[0],e),Mn(i[1],t)}},t.prototype.evaluateDataset=function(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(n){return this.makeTestFunction(),[2,_n(this,e,t)]}))}))},t.prototype.checkNumSamples=function(e,t,n,r){var i;if(void 0===r&&(r="steps"),null!=n){if(i=null,null!=t)throw new d("If "+r+" is set, batchSize must be null or undefined.Got batchSize = "+t)}else{if(null==e)throw new d("Either the input data should have a defined shape, or "+r+" shoud be specified.");i=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return i},t.prototype.execute=function(e,t){if(Array.isArray(t)&&0===t.length)throw new d("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(t),i=n?t:[t],a=this.retrieveSymbolicTensors(i),o=new un;if(e instanceof r.b&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new d("The number of inputs provided ("+e.length+") does not match the number of inputs of this model ("+this.inputs.length+").");for(var s=0;s<this.inputs.length;++s)o.add(this.inputs[s],e[s])}else for(var u=0,l=this.inputs;u<l.length;u++){var c=l[u],f=e[c.name];if(null==f)throw new d("No value is provided for the model's input "+c.name);o.add(c,f)}var h=fn(a,o);return n?h:h[0]},t.prototype.retrieveSymbolicTensors=function(e){for(var t=g(null,e.length),n=e.length,r=0,i=this.layers;r<i.length;r++){for(var a=i[r],o=Array.isArray(a.output)?a.output:[a.output],s=o.map((function(e){return e.name})),u=0;u<e.length;++u){var l=s.indexOf(e[u]);if(-1!==l&&(t[u]=o[l],n--),0===n)break}if(0===n)break}if(n>0){var c=[];throw t.forEach((function(t,n){null==t&&c.push(e[n])})),new d("Cannot find SymbolicTensors for output name(s): "+JSON.stringify(c))}return t},t.prototype.predictLoop=function(e,t,n){var i=this;return void 0===t&&(t=32),void 0===n&&(n=!1),Object(r.Wc)((function(){var a=i.checkNumSamples(e);if(n)throw new p("Verbose predictLoop() is not implemented yet.");for(var o=Cn(a,t),s=i.outputs.map((function(e){return[]})),u=function(t){Object(r.Wc)((function(){var n=o[t][0],r=o[t][1],a=En(e,n,r),s=[];if(Array.isArray(a))for(var u=0;u<a.length;++u)s.push({key:i.inputs[u],value:a[u]});else s.push({key:i.inputs[0],value:a});var l=new un(s);return fn(i.outputs,l)})).forEach((function(e,t){return s[t].push(e)}))},l=0;l<o.length;++l)u(l);return b(s.map((function(e){return Object(r.D)(e,0)})))}))},t.prototype.predict=function(e,t){void 0===t&&(t={});var n=In(e);Nn(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==t.batchSize?32:t.batchSize;return Tn(r),this.predictLoop(n,r)}finally{Mn(n,e)}},t.prototype.predictOnBatch=function(e){Nn(e,this.inputNames,this.feedInputShapes,!0);var t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)},t.prototype.standardizeUserDataXY=function(e,t,n,i){if(void 0===n&&(n=!0),null==this.optimizer_)throw new h("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");for(var a=[],o=0;o<this.feedOutputShapes.length;++o){var s=this.feedOutputShapes[o];this.feedLossFns[o]===Nt?a.push(s.slice(0,s.length-1).concat([1])):a.push(s)}if(function(e,t,n){var i=A(e.map((function(e){return e.shape[0]})));i.sort();var a=A(t.map((function(e){return e.shape[0]})));if(a.sort(),i.length>1)throw new d("All input Tensors (x) should have the same number of samples. Got array shapes: "+JSON.stringify(e.map((function(e){return e.shape}))));if(a.length>1)throw new d("All target Tensors (y) should have the same number of samples. Got array shapes: "+JSON.stringify(t.map((function(e){return e.shape}))));if(i.length>0&&a.length>0&&!r.dd.arraysEqual(i,a))throw new d("Input Tensors should have the same number of samples as target Tensors. Found "+i[0]+" input sample(s) and "+a[0]+" target sample(s).")}(e=Pn(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=Pn(t,this.feedOutputNames,a,!1,"target")),function(e,t,n){for(var r=[Mt,Lt,Pt],i=0;i<e.length;++i){var a=e[i],o=t[i],s=n[i];if(null!=o){if(o===Pt&&1===a.shape[a.shape.length-1])throw new d("You are passing a target array of shape "+a.shape+" while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(o))for(var u=a.shape.slice(1),l=s.slice(1),c=0;c<u.length;++c){var f=u[c],h=l[c];if(null!=h&&f!==h)throw new d("A target Tensor with shape "+a.shape+" was passed for an output of shape "+s+", while using a loss function that expects targets to have the same shape as the output.")}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=i&&i>0&&e[0].shape[0]%i!=0)throw new d("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+i+". Found: "+e[0].shape[0]+" sample(s).");return[e,t]},t.prototype.standardizeUserData=function(e,t,n,r,i,a){return void 0===i&&(i=!0),u(this,void 0,void 0,(function(){var o,s,u,c,f,h,d,p;return l(this,(function(l){switch(l.label){case 0:if(o=this.standardizeUserDataXY(e,t,i,a),s=o[0],u=o[1],null!=n)throw new Error("sample weight is not supported yet.");if(c=null,null==r)return[3,4];f=gn(r,this.outputNames),c=[],h=0,l.label=1;case 1:return h<f.length?(p=(d=c).push,[4,vn(u[h],null,f[h])]):[3,4];case 2:p.apply(d,[l.sent()]),l.label=3;case 3:return++h,[3,1];case 4:return[2,[s,u,c]]}}))}))},t.prototype.testLoop=function(e,t,n,i,a){var o=this;return void 0===i&&(i=0),Object(r.Wc)((function(){var s=o.checkNumSamples(t,n,a,"steps"),u=[];if(i>0)throw new p("Verbose mode is not implemented yet.");if(null!=a)throw new p("steps mode in testLoop() is not implemented yet");for(var l=Cn(s,n),c=Object(r.Tc)(ce(0,s)),f=0;f<l.length;++f){var h=l[f][0],d=l[f][1],m=de(c,h,d-h),g=kn(t,m),v=e(g);if(0===f)for(var y=0;y<v.length;++y)u.push(Object(r.oc)(0));for(y=0;y<v.length;++y){var b=v[y];u[y]=Object(r.f)(u[y],Object(r.Qb)(d-h,b))}}for(y=0;y<u.length;++y)u[y]=Object(r.S)(u[y],s);return u}))},t.prototype.getDedupedMetricsNames=function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],i=r;y(e,r)>1&&(i+="_"+y(e.slice(0,n),r)),t.push(i)}return t},t.prototype.makeTrainFunction=function(){var e=this;return function(t){var n=[],i=t.slice(0,e.inputs.length),a=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),o=t.slice(e.inputs.length+e.outputs.length,e.inputs.length+2*e.outputs.length),s=[],u=e.collectedTrainableWeights.map((function(e){return e.read()}));return[e.optimizer_.minimize((function(){for(var t=[],u=0;u<e.inputs.length;++u)t.push({key:e.inputs[u],value:i[u]});var l,c=new un(t),f=fn(e.outputs,c,{training:!0});for(u=0;u<e.lossFunctions.length;++u){var h=(0,e.lossFunctions[u])(a[u],f[u]);null!=o[u]&&(h=yn(h,o[u]));var d=Object(r.Kb)(h);n.push(d),l=0===u?h:Object(r.f)(l,h)}for(u=0;u<e.metricsTensors.length;++u){var p=void 0;if(e.outputs.length>1&&u<e.outputs.length)p=n[u];else{var m=e.metricsTensors[u][0],g=e.metricsTensors[u][1];p=Object(r.Kb)(m(a[g],f[g]))}Object(r.rb)(p),s.push(p)}return l=Object(r.Kb)(l),e.calculateLosses().forEach((function(e){l=Object(r.f)(l,e)})),l}),!0,u)].concat(s)}},t.prototype.makeTestFunction=function(){var e=this;this.testFunction=function(t){return Object(r.Wc)((function(){for(var n,i=[],a=t.slice(0,e.inputs.length),o=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),s=[],u=0;u<e.inputs.length;++u)s.push({key:e.inputs[u],value:a[u]});var l=new un(s),c=fn(e.outputs,l);for(u=0;u<e.lossFunctions.length;++u){var f=e.lossFunctions[u],h=Object(r.Kb)(f(o[u],c[u]));n=0===u?h:Object(r.f)(n,h),i.push(n)}for(u=0;u<e.metricsTensors.length;++u){var d=e.metricsTensors[u][0],p=e.metricsTensors[u][1],m=Object(r.Kb)(d(o[p],c[p]));i.push(m)}return i}))}},t.prototype.fit=function(e,t,n){return void 0===n&&(n={}),u(this,void 0,void 0,(function(){return l(this,(function(r){return[2,On(this,e,t,n)]}))}))},t.prototype.fitDataset=function(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(n){return[2,Sn(this,e,t)]}))}))},t.prototype.trainOnBatch=function(e,t){return u(this,void 0,void 0,(function(){var n,i,a,o,s,u,c,f,h;return l(this,(function(l){switch(l.label){case 0:return[4,this.standardizeUserData(e,t)];case 1:n=l.sent(),i=n[0],a=n[1],o=this.makeTrainFunction(),s=o(i.concat(a)),u=[],c=0,f=s,l.label=2;case 2:return c<f.length?[4,f[c].data()]:[3,5];case 3:h=l.sent(),u.push(h[0]),l.label=4;case 4:return c++,[3,2];case 5:return Object(r.R)(s),[2,b(u)]}}))}))},t.prototype.getNamedWeights=function(e){for(var t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,i=this.getWeights(n),a=0;a<r.length;++a)n&&!r[a].trainable||t.push({name:r[a].originalName,tensor:i[a]});return t},Object.defineProperty(t.prototype,"stopTraining",{get:function(){return this.stopTraining_},set:function(e){this.stopTraining_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"optimizer",{get:function(){return this.optimizer_},set:function(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=e.prototype.dispose.call(this);if(0===t.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var n=Object(r.Lb)().numTensors;this.optimizer_.dispose(),t.numDisposedVariables+=n-Object(r.Lb)().numTensors}return t},t.prototype.getLossIdentifiers=function(){var e;if("string"==typeof this.loss)e=S(this.loss);else if(Array.isArray(this.loss)){for(var t=0,n=this.loss;t<n.length;t++)if("string"!=typeof n[t])throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map((function(e){return S(e)}))}else{var r=Object.keys(this.loss);e={};for(var i=this.loss,a=0,o=r;a<o.length;a++){var s=o[a];if("string"!=typeof i[s])throw new Error("Serialization of non-string loss is not supported.");e[s]=S(i[s])}}return e},t.prototype.getMetricIdentifiers=function(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[S(Kt(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((function(e){return S(Kt(e))}));var e={};for(var t in this.metrics)e[t]=S(Kt(this.metrics[t]));return e},t.prototype.getTrainingConfig=function(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}},t.prototype.loadTrainingConfig=function(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");var t,n,r=Ot(on(e.optimizer_config));if("string"==typeof e.loss)t=x(e.loss);else if(Array.isArray(e.loss))t=e.loss.map((function(e){return x(e)}));else if(null!=e.loss)for(var i in t={},e.loss)t[i]=x(e.loss[i]);if(Array.isArray(e.metrics))n=e.metrics.map((function(e){return x(e)}));else if(null!=e.metrics)for(var i in n={},e.metrics)n[i]=x(e.metrics[i]);this.compile({loss:t,metrics:n,optimizer:r})},t.prototype.save=function(e,t){return u(this,void 0,void 0,(function(){var n,i,a,o,s,u,c,f,h,p,m;return l(this,(function(l){switch(l.label){case 0:if("string"==typeof e){if(0===(n=r.pb.getSaveHandlers(e)).length)throw new d("Cannot find any save handlers for URL '"+e+"'");if(n.length>1)throw new d("Found more than one ("+n.length+") save handlers for URL '"+e+"'");e=n[0]}if(null==e.save)throw new d("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[4,r.pb.encodeWeights(this.getNamedWeights(t))];case 1:return i=l.sent(),!1,null,a=this.toJSON(null,false),o={modelTopology:a,format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v1.7.4",convertedBy:null},null!=t&&t.includeOptimizer&&null!=this.optimizer?(o.trainingConfig=this.getTrainingConfig(),s="optimizer",p=(h=r.pb).encodeWeights,[4,this.optimizer.getWeights()]):[3,4];case 2:return[4,p.apply(h,[l.sent(),s])];case 3:u=l.sent(),c=u.data,f=u.specs,(m=i.specs).push.apply(m,f),i.data=r.pb.concatenateArrayBuffers([i.data,c]),l.label=4;case 4:return null!=this.userDefinedMetadata&&(!0,Jt(this.userDefinedMetadata,this.name,true),o.userDefinedMetadata=this.userDefinedMetadata),o.weightData=i.data,o.weightSpecs=i.specs,[2,e.save(o)]}}))}))},t.prototype.setUserDefinedMetadata=function(e){Jt(e,this.name),this.userDefinedMetadata=e},t.prototype.getUserDefinedMetadata=function(){return this.userDefinedMetadata},t.className="Model",t}(mn);function Fn(e,t,n){return u(this,void 0,void 0,(function(){var i,a,o,s,u,c,f,h,p;return l(this,(function(l){switch(l.label){case 0:if(null==n&&(n={}),null==e.load)throw new d("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return[4,e.load()];case 1:if(i=l.sent(),null!=(a=i.modelTopology).model_config&&(a=a.model_config),o=null==n.strict||n.strict,s=null!=i.weightData&&null!=i.weightSpecs&&o,u=Ot(on(a),t,s),null!=(c=i.trainingConfig)&&u.loadTrainingConfig(c),null!=i.userDefinedMetadata&&u.setUserDefinedMetadata(i.userDefinedMetadata),null==i.weightData)return[3,4];if(null==i.weightSpecs)throw new d("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");return f=function(e,t){var n=r.pb.decodeWeights(e,t),i={},a=[];return t.forEach((function(e){"optimizer"===e.group?a.push({name:e.name,tensor:n[e.name]}):i[e.name]=n[e.name]})),{modelWeights:i,optimizerWeights:a}}(i.weightData,i.weightSpecs),h=f.modelWeights,p=f.optimizerWeights,u.loadWeights(h,o),null!=u.optimizer&&p.length>0?[4,u.optimizer.setWeights(p)]:[3,3];case 2:l.sent(),l.label=3;case 3:Object(r.R)(h),Object(r.R)(p.map((function(e){return e.tensor}))),l.label=4;case 4:return[2,u]}}))}))}r.sc.registerClass(Ln);var Bn=function(e){function t(t){var n=e.call(this,{inputs:[],outputs:[]})||this;if(t=t||{},n.trainable=!0,n.built=!1,n.name=null!=t.name?t.name:Je("sequential_"),null!=t.layers)for(var r=0,i=t.layers;r<i.length;r++){var a=i[r];n.add(a)}return n}return a(t,e),t.prototype.checkShape=function(e){if(e.inboundNodes[0].outputTensors[0].shape.some((function(e){return e<0})))throw new d("Negative dimension size caused by adding layer "+e.name+" with input shape ["+e.inboundNodes[0].inputTensors[0].shape+"]")},t.prototype.add=function(e){var n,r=e instanceof t||e instanceof Ln;if(r){if(1!==(n=e).outputs.length)throw new d("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new d("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new d("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var i=yt({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(i)}if(r)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new d("A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer "+e.name+" which has "+e.inboundNodes.length+" pre-existing inbound connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new d("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=pt(this.outputs[0])}this.inboundNodes=[],new ft({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:g(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((function(e){return e.shape})),outputShapes:this.outputs[0].shape})}else{var a=e.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1},t.prototype.pop=function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}},t.prototype.call=function(e,t){return null==this.model&&this.build(),this.model.call(e,t)},t.prototype.build=function(e){if(nt(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new Ln({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0},t.prototype.countParams=function(){return this.built||this.build(),e.prototype.countParams.call(this)},t.prototype.summary=function(t,n,r){void 0===r&&(r=console.log),this.built||this.build(),e.prototype.summary.call(this,t,n,r)},t.prototype.setWeights=function(e){null==this.model&&this.build(),this.model.setWeights(e)},t.prototype.evaluate=function(e,t,n){if(void 0===n&&(n={}),!this.built)throw new h("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)},t.prototype.evaluateDataset=function(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(n){if(!this.built)throw new h("The model needs to be compiled before being used.");return[2,this.model.evaluateDataset(e,t)]}))}))},t.prototype.predict=function(e,t){return void 0===t&&(t={}),null==this.model&&this.build(),this.model.predict(e,t)},t.prototype.predictOnBatch=function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)},t.prototype.compile=function(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames},Object.defineProperty(t.prototype,"optimizer",{get:function(){return null==this.model?void 0:this.model.optimizer},set:function(e){this.model.optimizer=e},enumerable:!0,configurable:!0}),t.prototype.fit=function(e,t,n){return void 0===n&&(n={}),u(this,void 0,void 0,(function(){return l(this,(function(r){if(!this.built)throw new h("The model needs to be compiled before being used.");return[2,this.model.fit(e,t,n)]}))}))},t.prototype.fitDataset=function(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(n){if(!this.built)throw new h("The model needs to be compiled before being used.");return[2,this.model.fitDataset(e,t)]}))}))},t.prototype.trainOnBatch=function(e,t){return u(this,void 0,void 0,(function(){return l(this,(function(n){return[2,this.model.trainOnBatch(e,t)]}))}))},t.fromConfig=function(e,n,i,a){var o;void 0===i&&(i={}),void 0===a&&(a=!1);var s={};if(n instanceof Array){if(null==n[0].className||"Merge"===n[0].className)throw new d("Legacy serialization format not supported yet.");o=n}else r.dd.assert(null!=n.layers,(function(){return"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."})),o=n.layers,delete n.layers,s=n;var u=new e(s);if(!(u instanceof t))throw new p("Sequential.fromConfig called on non-Sequential input: "+u);for(var l=0,c=o;l<c.length;l++){var f=Ot(c[l],void 0,a);a&&f.setFastWeightInitDuringBuild(!0),u.add(f)}return u},Object.defineProperty(t.prototype,"stopTraining",{get:function(){if(null==this.model)throw new d("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining},set:function(e){if(null==this.model)throw new d("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){for(var e=[],t=0,n=this.layers;t<n.length;t++){var r=n[t],i={};i.className=r.getClassName(),i.config=r.getConfig(),e.push(i)}return{name:this.name,layers:e}},t.className="Sequential",t}(Ln);function zn(e,t){return null==t&&(t={}),function(e,t){return u(this,void 0,void 0,(function(){var n;return l(this,(function(i){if(null==t&&(t={}),"string"==typeof e){if(0===(n=r.pb.getLoadHandlers(e,t.onProgress)).length)n.push(r.pb.browserHTTPRequest(e,t));else if(n.length>1)throw new d("Found more than one ("+n.length+") load handlers for URL '"+e+"'");e=n[0]}return[2,Fn(e,void 0,t)]}))}))}(e,t)}r.sc.registerClass(Bn);var Un=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getConfig=function(){return{}},t}(r.sc.Serializable),jn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=1),function(e,t){if(void 0===t&&(t=1),1!==t)throw new p("Support for alpha values other than 1 ("+t+") is not implemented yet.");return Object(r.V)(e)}(e,t)},t.className="elu",t}(Un);r.sc.registerClass(jn);var Vn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return Object(r.qc)(e)},t.className="selu",t}(Un);r.sc.registerClass(Vn);var Gn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return Object(r.ic)(e)},t.className="relu",t}(Un);r.sc.registerClass(Gn);var Wn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return Object(r.Wc)((function(){return Object(r.Nb)(6,Object(r.ic)(e))}))},t.className="relu6",t}(Un);r.sc.registerClass(Wn);var Hn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return e},t.className="linear",t}(Un);r.sc.registerClass(Hn);var qn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return Object(r.uc)(e)},t.className="sigmoid",t}(Un);r.sc.registerClass(qn);var Qn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return function(e){return Object(r.Wc)((function(){var t=Object(r.f)(.5,Object(r.Qb)(.2,e));return Object(r.B)(t,0,1)}))}(e)},t.className="hardSigmoid",t}(Un);r.sc.registerClass(Qn);var Xn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return Object(r.Ec)(e)},t.className="softplus",t}(Un);r.sc.registerClass(Xn);var Yn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return function(e){return Object(r.Wc)((function(){return Object(r.S)(e,Object(r.c)(e).add(1))}))}(e)},t.className="softsign",t}(Un);r.sc.registerClass(Yn);var Kn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e){return Object(r.Rc)(e)},t.className="tanh",t}(Un);r.sc.registerClass(Kn);var Zn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=-1),Object(r.Dc)(e,t)},t.className="softmax",t}(Un);r.sc.registerClass(Zn);var Jn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e,t){return void 0===t&&(t=-1),Object(r.Ab)(e,t)},t.className="logSoftmax",t}(Un);function $n(e){return e.getClassName()}function er(e,t){return void 0===t&&(t={}),k(e,r.sc.SerializationMap.getMap().classNameMap,t,"activation")}function tr(e){var t;return null==e?er(t={className:"linear",config:{}}):"string"==typeof e?((t={}).className=e,t.config={},er(t)):e instanceof Un?e:er(e)}function nr(e){if(null!=e&&"object"!=typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an object, but received: "+e)}r.sc.registerClass(Jn);var rr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(r.sc.Serializable),ir=function(e){function t(t){var n=e.call(this)||this;return nr(t),n.l1=null==t||null==t.l1?.01:t.l1,n.l2=null==t||null==t.l2?.01:t.l2,n.hasL1=0!==n.l1,n.hasL2=0!==n.l2,n}return a(t,e),t.prototype.apply=function(e){var t=this;return Object(r.Wc)((function(){var n=Object(r.id)([1]);return t.hasL1&&(n=Object(r.f)(n,Object(r.Pc)(Object(r.Qb)(t.l1,Object(r.c)(e))))),t.hasL2&&(n=Object(r.f)(n,Object(r.Pc)(Object(r.Qb)(t.l2,xe(e))))),n.asScalar()}))},t.prototype.getConfig=function(){return{l1:this.l1,l2:this.l2}},t.fromConfig=function(e,t){return new e({l1:t.l1,l2:t.l2})},t.className="L1L2",t}(rr);r.sc.registerClass(ir);var ar={l1l2:"L1L2"};function or(e){return T(e)}function sr(e,t){return void 0===t&&(t={}),k(e,r.sc.SerializationMap.getMap().classNameMap,t,"regularizer")}function ur(e){return null==e?null:"string"==typeof e?sr({className:e in ar?ar[e]:e,config:{}}):e instanceof rr?e:sr(e)}var lr=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.supportsMasking=!0,null!=t&&(n.maxValue=t.maxValue),n}return a(t,e),t.prototype.call=function(e,t){e=tt(e);var n=Object(r.ic)(e);return null!=this.maxValue&&(n=Object(r.B)(n,0,this.maxValue)),n},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={maxValue:this.maxValue},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ReLU",t}(dt);r.sc.registerClass(lr);var cr=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_ALPHA=.3,null==t&&(t={}),n.alpha=null==t.alpha?n.DEFAULT_ALPHA:t.alpha,n}return a(t,e),t.prototype.call=function(e,t){var n=tt(e);return Object(r.sb)(n,this.alpha)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={alpha:this.alpha},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="LeakyReLU",t}(dt);r.sc.registerClass(cr);var fr=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;if(n.DEFAULT_ALPHA_INITIALIZER="zeros",null==t&&(t={}),n.supportsMasking=!0,n.alphaInitializer=Xe(t.alphaInitializer||n.DEFAULT_ALPHA_INITIALIZER),n.alphaRegularizer=ur(t.alphaRegularizer),n.alphaConstraint=W(t.alphaConstraint),null==t.sharedAxes)n.sharedAxes=null;else if(Array.isArray(t.sharedAxes))n.sharedAxes=t.sharedAxes;else{if("number"!=typeof t.sharedAxes)throw new d("Expected sharedAxes to be a number or an array of numbers, but got "+t.sharedAxes);n.sharedAxes=[t.sharedAxes]}return n}return a(t,e),t.prototype.build=function(e){var t=(e=nt(e)).slice(1);if(null!=this.sharedAxes)for(var n=0,r=this.sharedAxes;n<r.length;n++)t[(a=r[n])-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var i={};if(null!=this.sharedAxes)for(var a=1;a<e.length;++a)i[a]=e[a];this.inputSpec=[new ut({ndim:e.length,axes:i})],this.built=!0},t.prototype.call=function(e,t){return e=tt(e),Object(r.bc)(e,this.alpha.read())},t.prototype.getConfig=function(){var t={alphaInitializer:Qe(this.alphaInitializer),alphaRegularizer:or(this.alphaRegularizer),alphaConstraint:V(this.alphaConstraint),sharedAxes:this.sharedAxes},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="PReLU",t}(dt);r.sc.registerClass(fr);var hr=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;if(n.DEFAULT_ALPHA=1,null==t&&(t={}),null!=t.alpha&&t.alpha!==n.DEFAULT_ALPHA)throw new p("Non-default alpha value ("+t.alpha+") is not supported by the ELU layer yet.");return n.alpha=null==t.alpha?n.DEFAULT_ALPHA:t.alpha,n}return a(t,e),t.prototype.call=function(e,t){var n=tt(e);return Object(r.V)(n)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={alpha:this.alpha},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ELU",t}(dt);r.sc.registerClass(hr);var dr=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_THETA=1,null==t&&(t={}),n.theta=null==t.theta?n.DEFAULT_THETA:t.theta,n}return a(t,e),t.prototype.call=function(e,t){var n=tt(e);return n.mul(fe(n.greater(this.theta),"float32"))},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={theta:this.theta},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ThresholdedReLU",t}(dt);r.sc.registerClass(dr);var pr=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.DEFAULT_AXIS=1,null==t&&(t={}),n.softmax=(new Zn).apply,n.axis=null==t.axis?n.DEFAULT_AXIS:t.axis,n}return a(t,e),t.prototype.call=function(e,t){var n=tt(e);return this.softmax(n,this.axis)},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t={axis:this.axis},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Softmax",t}(dt);function mr(e,t,n){if("number"==typeof e)return g(e,t);if(e.length!==t)throw new d("The "+n+" argument must be an integer or tuple of "+t+" integers. Received: "+e.length+" elements.");for(var r=0;r<t;++r){var i=e[r];if(!ae(i))throw new d("The "+n+" argument must be an integer or tuple of "+t+" integers. Received: "+JSON.stringify(e)+" including a non-integer number "+i)}return e}function gr(e,t,n,r,i){return void 0===i&&(i=1),null==e?e:(a="same"===n?e:e-(t+(t-1)*(i-1))+1,Math.floor((a+r-1)/r));var a}function vr(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+le([n-t,0]);else{if("same"!==r)throw new d("Unsupport padding mode: "+r+".");e*=t}return e}function yr(e,t){return Object(r.Wc)((function(){return K(t),"channelsFirst"===t?Object(r.ad)(e,[0,2,3,1]):e}))}function br(e,t){return Object(r.Wc)((function(){return K(t),"channelsFirst"===t?Object(r.ad)(e,[0,2,3,4,1]):e}))}function wr(e,t,n,i,a,o,s,u){return void 0===i&&(i=[1,1]),void 0===a&&(a="valid"),void 0===u&&(u=null),Object(r.Wc)((function(){if(null==o&&(o="channelsLast"),K(o),3!==e.rank&&4!==e.rank)throw new d("conv2dWithBiasActivation expects input to be of rank 3 or 4, but received "+e.rank+".");if(3!==t.rank&&4!==t.rank)throw new d("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received "+e.rank+".");var l=yr(e,o);if("causal"===a)throw new p("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=r.hb.conv2d({x:l,filter:t,strides:i,pad:"same"===a?"same":"valid",dilations:s,dataFormat:"NHWC",bias:n,activation:u}),"channelsFirst"===o&&(l=Object(r.ad)(l,[0,3,1,2])),l}))}r.sc.registerClass(pr);var Sr=function(e){function t(n,r){var i=e.call(this,r)||this;if(i.bias=null,i.DEFAULT_KERNEL_INITIALIZER="glorotNormal",i.DEFAULT_BIAS_INITIALIZER="zeros",t.verifyArgs(r),i.rank=n,D(i.rank,"rank"),1!==i.rank&&2!==i.rank&&3!==i.rank)throw new p("Convolution layer for rank other than 1, 2, or 3 ("+i.rank+") is not implemented yet.");if(i.kernelSize=mr(r.kernelSize,n,"kernelSize"),i.strides=mr(null==r.strides?1:r.strides,n,"strides"),i.padding=null==r.padding?"valid":r.padding,Z(i.padding),i.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,K(i.dataFormat),i.activation=tr(r.activation),i.useBias=null==r.useBias||r.useBias,i.biasInitializer=Xe(r.biasInitializer||i.DEFAULT_BIAS_INITIALIZER),i.biasConstraint=W(r.biasConstraint),i.biasRegularizer=ur(r.biasRegularizer),i.activityRegularizer=ur(r.activityRegularizer),i.dilationRate=mr(null==r.dilationRate?1:r.dilationRate,n,"dilationRate"),1===i.rank&&Array.isArray(i.dilationRate)&&1!==i.dilationRate.length)throw new d("dilationRate must be a number or an array of a single number for 1D convolution, but received "+JSON.stringify(i.dilationRate));if(2===i.rank){if("number"==typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate];else if(2!==i.dilationRate.length)throw new d("dilationRate must be a number or array of two numbers for 2D convolution, but received "+JSON.stringify(i.dilationRate))}else if(3===i.rank)if("number"==typeof i.dilationRate)i.dilationRate=[i.dilationRate,i.dilationRate,i.dilationRate];else if(3!==i.dilationRate.length)throw new d("dilationRate must be a number or array of three numbers for 3D convolution, but received "+JSON.stringify(i.dilationRate));return i}return a(t,e),t.verifyArgs=function(e){if(v("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!=typeof e.kernelSize&&!M(e.kernelSize,"number",1,3))throw new d("BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received "+JSON.stringify(e.kernelSize)+".")},t.prototype.getConfig=function(){var t={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:$n(this.activation),useBias:this.useBias,biasInitializer:Qe(this.biasInitializer),biasRegularizer:or(this.biasRegularizer),activityRegularizer:or(this.activityRegularizer),biasConstraint:V(this.biasConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(dt),xr=function(e){function t(n,r){var i=e.call(this,n,r)||this;return i.kernel=null,t.verifyArgs(r),i.filters=r.filters,D(i.filters,"filters"),i.kernelInitializer=Xe(r.kernelInitializer||i.DEFAULT_KERNEL_INITIALIZER),i.kernelConstraint=W(r.kernelConstraint),i.kernelRegularizer=ur(r.kernelRegularizer),i}return a(t,e),t.prototype.build=function(e){var t;e=nt(e);var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new d("The channel dimension of the input should be defined. Found "+e[n]);var r=e[n],i=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",i,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(t={},t[n]=r,t)}],this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){var t;e=tt(e);var i=null==n.bias?null:n.bias.read(),a=P(n.activation.getClassName());if(null!=a&&2===n.rank)t=wr(e,n.kernel.read(),i,n.strides,n.padding,n.dataFormat,n.dilationRate,a);else{if(1===n.rank)t=function(e,t,n,i,a,o,s){return void 0===i&&(i=1),void 0===a&&(a="valid"),void 0===s&&(s=1),Object(r.Wc)((function(){if(null==o&&(o="channelsLast"),K(o),3!==e.shape.length)throw new d("The input of a conv1dWithBias operation should be 3, but is "+e.shape.length+" instead.");if(3!==t.shape.length)throw new d("The kernel for a conv1dWithBias operation should be 3, but is "+t.shape.length+" instead");if(null!=n&&1!==n.shape.length)throw new d("The bias for a conv1dWithBias operation should be 1, but is "+t.shape.length+" instead");if("channelsFirst"===o&&(e=Object(r.ad)(e,[0,2,1])),"causal"===a)throw new p("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var u=Object(r.I)(e,t,i,"same"===a?"same":"valid","NWC",s);return null!=n&&(u=Te(u,n)),u}))}(e,n.kernel.read(),i,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)t=wr(e,n.kernel.read(),i,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new p("convolutions greater than 3D are not implemented yet.");t=function(e,t,n,i,a,o,s){return void 0===i&&(i=[1,1,1]),void 0===a&&(a="valid"),Object(r.Wc)((function(){if(null==o&&(o="channelsLast"),K(o),4!==e.rank&&5!==e.rank)throw new d("conv3dWithBias expects input to be of rank 4 or 5, but received "+e.rank+".");if(4!==t.rank&&5!==t.rank)throw new d("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+e.rank+".");var u=br(e,o);if("causal"===a)throw new p("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return u=Object(r.L)(u,t,i,"same"===a?"same":"valid","NDHWC",s),null!=n&&(u=Te(u,n)),"channelsFirst"===o&&(u=Object(r.ad)(u,[0,4,1,2,3])),u}))}(e,n.kernel.read(),i,n.strides,n.padding,n.dataFormat,n.dilationRate)}null!=n.activation&&(t=n.activation.apply(t))}return t}))},t.prototype.computeOutputShape=function(e){e=nt(e);for(var t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var i=gr(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(i)}var a=[e[0]];return"channelsLast"===this.dataFormat?(a=a.concat(t)).push(this.filters):(a.push(this.filters),a=a.concat(t)),a},t.prototype.getConfig=function(){var t={filters:this.filters,kernelInitializer:Qe(this.kernelInitializer),kernelRegularizer:or(this.kernelRegularizer),kernelConstraint:V(this.kernelConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.verifyArgs=function(e){if(!("filters"in e)||"number"!=typeof e.filters||e.filters<1)throw new d("Convolution layer expected config.filters to be a 'number' > 0 but got "+JSON.stringify(e.filters))},t}(Sr),_r=function(e){function t(n){var r=e.call(this,2,n)||this;return t.verifyArgs(n),r}return a(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,t},t.verifyArgs=function(e){if("number"!=typeof e.kernelSize&&!M(e.kernelSize,"number",1,2))throw new d("Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received "+JSON.stringify(e.kernelSize)+".")},t.className="Conv2D",t}(xr);r.sc.registerClass(_r);var Tr=function(e){function t(n){var r=e.call(this,3,n)||this;return t.verifyArgs(n),r}return a(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,t},t.verifyArgs=function(e){if("number"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new d("Conv3D expects config.kernelSize to be number or [number, number, number], but received "+JSON.stringify(e.kernelSize)+".")},t.className="Conv3D",t}(xr);r.sc.registerClass(Tr);var Er=function(e){function t(t){var n=e.call(this,t)||this;if(n.inputSpec=[new ut({ndim:4})],"same"!==n.padding&&"valid"!==n.padding)throw new d("Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode "+n.padding);return n}return a(t,e),t.prototype.build=function(e){var t;if(4!==(e=nt(e)).length)throw new d("Input should have rank 4; Received input shape: "+JSON.stringify(e));var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new d("The channel dimension of the inputs should be defined. Found `None`.");var r=e[n],i=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",i,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new ut({ndim:4,axes:(t={},t[n]=r,t)})],this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){var t=tt(e);if(4!==t.shape.length)throw new d("Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-"+t.shape.length);var i,a,o=t.shape,s=o[0];"channelsFirst"===n.dataFormat?(i=2,a=3):(i=1,a=2);var u=o[i],l=o[a],c=n.kernelSize[0],f=n.kernelSize[1],h=n.strides[0],p=n.strides[1],m=[s,vr(u,h,c,n.padding),vr(l,p,f,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=Object(r.ad)(t,[0,2,3,1]));var g=Object(r.K)(t,n.kernel.read(),m,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(g=Object(r.ad)(g,[0,3,1,2])),null!=n.bias&&(g=Te(g,n.bias.read(),n.dataFormat)),null!=n.activation&&(g=n.activation.apply(g)),g}))},t.prototype.computeOutputShape=function(e){var t,n,r,i=(e=nt(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var a=this.kernelSize[0],o=this.kernelSize[1],s=this.strides[0],u=this.strides[1];return i[t]=this.filters,i[n]=vr(i[n],s,a,this.padding),i[r]=vr(i[r],u,o,this.padding),i},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.dilationRate,t},t.className="Conv2DTranspose",t}(_r);r.sc.registerClass(Er);var kr=function(e){function t(t){return e.call(this,2,t)||this}return a(t,e),t.className="SeparableConv2D",t}(function(e){function t(t,n){var r=e.call(this,t,n)||this;if(r.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",r.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",r.depthwiseKernel=null,r.pointwiseKernel=null,null==n.filters)throw new d("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=n.kernelInitializer||null!=n.kernelRegularizer||null!=n.kernelConstraint)throw new d("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=n.padding&&"same"!==n.padding&&"valid"!==n.padding)throw new d("SeparableConv"+r.rank+"D supports only padding modes: 'same' and 'valid', but received "+JSON.stringify(n.padding));return r.depthMultiplier=null==n.depthMultiplier?1:n.depthMultiplier,r.depthwiseInitializer=Xe(n.depthwiseInitializer||r.DEFAULT_DEPTHWISE_INITIALIZER),r.depthwiseRegularizer=ur(n.depthwiseRegularizer),r.depthwiseConstraint=W(n.depthwiseConstraint),r.pointwiseInitializer=Xe(n.depthwiseInitializer||r.DEFAULT_POINTWISE_INITIALIZER),r.pointwiseRegularizer=ur(n.pointwiseRegularizer),r.pointwiseConstraint=W(n.pointwiseConstraint),r}return a(t,e),t.prototype.build=function(e){var t;if((e=nt(e)).length<this.rank+2)throw new d("Inputs to SeparableConv"+this.rank+"D should have rank "+(this.rank+2)+", but received input shape: "+JSON.stringify(e));var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n]||e[n]<0)throw new d("The channel dimension of the inputs should be defined, but found "+JSON.stringify(e[n]));for(var r=e[n],i=this.kernelSize.concat([r,this.depthMultiplier]),a=[],o=0;o<this.rank;++o)a.push(1);a.push(r*this.depthMultiplier,this.filters),this.depthwiseKernel=this.addWeight("depthwise_kernel",i,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,!0,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.inputSpec=[new ut({ndim:this.rank+2,axes:(t={},t[n]=r,t)})],this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){var t;if(e=tt(e),1===n.rank)throw new p("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(e=Object(r.ad)(e,[0,2,3,1])),t=Object(r.rc)(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(t=Te(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),"channelsFirst"===n.dataFormat&&(t=Object(r.ad)(t,[0,3,1,2])),t}))},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,delete t.kernelInitializer,delete t.kernelRegularizer,delete t.kernelConstraint,t.depthwiseInitializer=Qe(this.depthwiseInitializer),t.pointwiseInitializer=Qe(this.pointwiseInitializer),t.depthwiseRegularizer=or(this.depthwiseRegularizer),t.pointwiseRegularizer=or(this.pointwiseRegularizer),t.depthwiseConstraint=V(this.depthwiseConstraint),t.pointwiseConstraint=V(this.pointwiseConstraint),t},t.className="SeparableConv",t}(xr));r.sc.registerClass(kr);var Cr=function(e){function t(n){var r=e.call(this,1,n)||this;return t.verifyArgs(n),r.inputSpec=[{ndim:3}],r}return a(t,e),t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return delete t.rank,delete t.dataFormat,t},t.verifyArgs=function(e){if("number"!=typeof e.kernelSize&&!M(e.kernelSize,"number",1,1))throw new d("Conv1D expects config.kernelSize to be number or number[] with length 1, but received "+JSON.stringify(e.kernelSize)+".")},t.className="Conv1D",t}(xr);r.sc.registerClass(Cr);var Ar=function(e){function t(t){var n=e.call(this,t)||this;return"number"==typeof t.cropping?n.cropping=[[t.cropping,t.cropping],[t.cropping,t.cropping]]:"number"==typeof t.cropping[0]?n.cropping=[[t.cropping[0],t.cropping[0]],[t.cropping[1],t.cropping[1]]]:n.cropping=t.cropping,n.dataFormat=void 0===t.dataFormat?"channelsLast":t.dataFormat,n.inputSpec=[{ndim:4}],n}return a(t,e),t.prototype.computeOutputShape=function(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){return e=tt(e),"channelsLast"===n.dataFormat?me(me(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2),n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3):me(me(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3),n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)}))},t.prototype.getConfig=function(){var t={cropping:this.cropping,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Cropping2D",t}(dt);r.sc.registerClass(Ar);var Or=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_SIZE=[2,2],n.inputSpec=[{ndim:4}],n.size=null==t.size?n.DEFAULT_SIZE:t.size,n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,n}return a(t,e),t.prototype.computeOutputShape=function(e){if("channelsFirst"===this.dataFormat){var t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}return t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2],[e[0],t,n,e[3]]},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){var t=tt(e),i=t.shape;if("channelsFirst"===n.dataFormat){t=Object(r.ad)(t,[0,2,3,1]);var a=n.size[0]*i[2],o=n.size[1]*i[3],s=t.resizeNearestNeighbor([a,o]);return Object(r.ad)(s,[0,3,1,2])}return a=n.size[0]*i[1],o=n.size[1]*i[2],t.resizeNearestNeighbor([a,o])}))},t.prototype.getConfig=function(){var t={size:this.size,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="UpSampling2D",t}(dt);r.sc.registerClass(Or);var Ir=function(e){function t(t){var n=e.call(this,2,t)||this;return n.depthwiseKernel=null,n.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,n.depthwiseInitializer=Xe(t.depthwiseInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.depthwiseConstraint=W(t.depthwiseConstraint),n.depthwiseRegularizer=ur(t.depthwiseRegularizer),n}return a(t,e),t.prototype.build=function(e){if((e=nt(e)).length<4)throw new d("Inputs to DepthwiseConv2D should have rank 4. Received input shape: "+JSON.stringify(e)+".");var t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new d("The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not ("+e[t]+").");var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){var t=function(e,t,n,i,a,o){return void 0===n&&(n=[1,1]),void 0===i&&(i="valid"),Object(r.Wc)((function(){null==a&&(a="channelsLast"),K(a);var s=yr(e,a);if(4!==e.rank)throw new d("Input for depthwiseConv2d is required to be 4-D, but is instead "+e.rank+"-D");if(4!==t.rank)throw new d("depthwiseKernel is required to be 4-D, but is instead "+t.rank+"-D");return s=Object(r.Q)(s,t,n,"same"===i?"same":"valid","NHWC",o),"channelsFirst"===a&&(s=Object(r.ad)(s,[0,3,1,2])),s}))}(e=tt(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(t=Te(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t}))},t.prototype.computeOutputShape=function(e){e=nt(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=gr(t,this.kernelSize[0],this.padding,this.strides[0]),a=gr(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,i,a]:[e[0],i,a,r]},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this);return t.depthMultiplier=this.depthMultiplier,t.depthwiseInitializer=Qe(this.depthwiseInitializer),t.depthwiseRegularizer=or(this.depthwiseRegularizer),t.depthwiseConstraint=V(this.depthwiseRegularizer),t},t.className="DepthwiseConv2D",t}(Sr);r.sc.registerClass(Ir);var Mr=function(e){function t(t){var n=e.call(this,t)||this;return n.rate=Math.max(Math.min(t.rate,1),0),n.noiseShape=t.noiseShape,n.seed=t.seed,n.supportsMasking=!0,n}return a(t,e),t.prototype.getNoiseShape=function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){n.invokeCallHook(e,t);var r=tt(e);if(0<n.rate&&n.rate<1){var i=null!=t.training&&t.training,a=n.getNoiseShape(r);return ke((function(){return Ee(r,n.rate,a,n.seed)}),(function(){return r}),i)}return e}))},t.prototype.getConfig=function(){var t={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.prototype.dispose=function(){return e.prototype.dispose.call(this)},t.className="Dropout",t}(dt);r.sc.registerClass(Mr);var Dr=function(e){function t(t){var n=e.call(this,t)||this;return n.inputSpec=[{ndim:3}],n}return a(t,e),t.prototype.getNoiseShape=function(e){var t=e.shape;return[t[0],1,t[2]]},t.className="SpatialDropout1D",t}(Mr);r.sc.registerClass(Dr);var Rr=function(e){function t(t){var n=e.call(this,t)||this;if(n.activation=null,n.useBias=!0,n.kernel=null,n.bias=null,n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_BIAS_INITIALIZER="zeros",null==t.batchInputShape&&null==t.inputShape&&null!=t.inputDim){var r=null;null!=t.batchSize&&(r=t.batchSize),n.batchInputShape=[r,t.inputDim]}return n.units=t.units,D(n.units,"units"),n.activation=tr(t.activation),null!=t.useBias&&(n.useBias=t.useBias),n.kernelInitializer=Xe(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.biasInitializer=Xe(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelConstraint=W(t.kernelConstraint),n.biasConstraint=W(t.biasConstraint),n.kernelRegularizer=ur(t.kernelRegularizer),n.biasRegularizer=ur(t.biasRegularizer),n.activityRegularizer=ur(t.activityRegularizer),n.supportsMasking=!0,n.inputSpec=[{minNDim:2}],n}return a(t,e),t.prototype.build=function(e){var t,n=(e=nt(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(t={},t[-1]=n,t)}],this.built=!0},t.prototype.computeOutputShape=function(e){var t=(e=nt(e)).slice();return t[t.length-1]=this.units,t},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){n.invokeCallHook(e,t);var r,i=tt(e),a=P(n.activation.getClassName());return null!=a?r=we(i,n.kernel.read(),a,n.bias?n.bias.read():null):(r=we(i,n.kernel.read()),null!=n.bias&&(r=Te(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r}))},t.prototype.getConfig=function(){var t={units:this.units,activation:$n(this.activation),useBias:this.useBias,kernelInitializer:Qe(this.kernelInitializer),biasInitializer:Qe(this.biasInitializer),kernelRegularizer:or(this.kernelRegularizer),biasRegularizer:or(this.biasRegularizer),activityRegularizer:or(this.activityRegularizer),kernelConstraint:V(this.kernelConstraint),biasConstraint:V(this.biasConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Dense",t}(dt);r.sc.registerClass(Rr);var Pr=function(e){function t(t){var n=this;return t=t||{},(n=e.call(this,t)||this).inputSpec=[{minNDim:3}],n.dataFormat=t.dataFormat,n}return a(t,e),t.prototype.computeOutputShape=function(e){for(var t=0,n=(e=nt(e)).slice(1);t<n.length;t++)if(null==n[t])throw new d('The shape of the input to "Flatten" is not fully defined (got '+e.slice(1)+'). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.');return[e[0],oe(e,1)]},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){n.invokeCallHook(e,t);var r=tt(e);if("channelsFirst"===n.dataFormat&&r.rank>1){for(var i=[0],a=2;a<r.rank;++a)i.push(a);i.push(1),r=r.transpose(i)}return function(e){if(e.rank<=1)throw new d("batchFlatten requires a minimum rank of 2. Got rank: "+e.rank+".");var t=[e.shape[0],oe(e.shape,1)];return e.reshape(t)}(r)}))},t.prototype.getConfig=function(){var t={};null!=this.dataFormat&&(t.dataFormat=this.dataFormat);var n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Flatten",t}(dt);r.sc.registerClass(Pr);var Nr=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.activation=tr(t.activation),n}return a(t,e),t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){n.invokeCallHook(e,t);var r=tt(e);return n.activation.apply(r)}))},t.prototype.getConfig=function(){var t={activation:$n(this.activation)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Activation",t}(dt);r.sc.registerClass(Nr);var Lr=function(e){function t(t){var n=e.call(this,t)||this;return n.n=t.n,n.inputSpec=[{ndim:2}],n}return a(t,e),t.prototype.computeOutputShape=function(e){return[e[0],this.n,e[1]]},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){return function(e,t){return Object(r.Wc)((function(){if(2!==e.shape.length)throw new d("repeat() expects a rank-2 tensor, but received a rank-"+e.shape.length+" tensor.");return ye(he(e,1),[1,t,1])}))}(e=tt(e),n.n)}))},t.prototype.getConfig=function(){var t={n:this.n},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="RepeatVector",t}(dt);r.sc.registerClass(Lr);var Fr=function(e){function t(t){var n=e.call(this,t)||this;n.targetShape=t.targetShape;for(var r=0;r<n.targetShape.length;++r)n.isUnknown(n.targetShape[r])&&(n.targetShape[r]=null);return n}return a(t,e),t.prototype.isUnknown=function(e){return e<0||null==e},t.prototype.fixUnknownDimension=function(e,t){for(var n="Total size of new array must be unchanged.",r=t.slice(),i=1,a=null,o=0;o<r.length;++o){var s=r[o];if(this.isUnknown(s)){if(null!==a)throw new d("Can only specifiy one unknown dimension.");a=o}else i*=s}var u=oe(e);if(null!==a){if(0===i||u%i!=0)throw new d(n);r[a]=u/i}else if(u!==i)throw new d(n);return r},t.prototype.computeOutputShape=function(e){for(var t=!1,n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){n.invokeCallHook(e,t);var r=tt(e),i=r.shape,a=i.slice(0,1).concat(n.fixUnknownDimension(i.slice(1),n.targetShape));return r.reshape(a)}))},t.prototype.getConfig=function(){var t={targetShape:this.targetShape},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Reshape",t}(dt);r.sc.registerClass(Fr);var Br=function(e){function t(t){var n=e.call(this,t)||this;if(null==t.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(t.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+t.dims+" instead.");var i=ce(1,t.dims.length+1);if(!r.dd.arraysEqual(t.dims.slice().sort(),i))throw new Error("Invalid permutation `dims`: "+JSON.stringify(t.dims)+" `dims` must contain consecutive integers starting from 1.");return n.dims=t.dims,n.dimsIncludingBatch=[0].concat(n.dims),n.inputSpec=[new ut({ndim:n.dims.length+1})],n}return a(t,e),t.prototype.computeOutputShape=function(e){var t=(e=nt(e)).slice();return this.dims.forEach((function(n,r){t[r+1]=e[n]})),t},t.prototype.call=function(e,t){return Object(r.ad)(tt(e),this.dimsIncludingBatch)},t.prototype.getConfig=function(){var t={dims:this.dims},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Permute",t}(dt);r.sc.registerClass(Br);var zr=function(e){function t(t){var n=e.call(this,null==t?{}:t)||this;return n.supportsMasking=!0,n.maskValue=null!=t?null==t.maskValue?0:t.maskValue:0,n}return a(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={maskValue:this.maskValue};return Object.assign(n,t),n},t.prototype.computeMask=function(e,t){var n=tt(e);return Object(r.i)(Object(r.Vb)(n,this.maskValue),-1)},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){n.invokeCallHook(e,t);var i=tt(e),a=Object(r.i)(Object(r.Vb)(i,n.maskValue),-1,!0);return i.mul(a.asType(i.dtype))}))},t.className="Masking",t}(dt);r.sc.registerClass(zr);var Ur=function(e){function t(t){var n=e.call(this,t)||this;if(n.embeddings=null,n.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==t.batchInputShape&&null==t.inputShape){var r=null;null!=t.batchSize&&(r=t.batchSize),null==t.inputLength?n.batchInputShape=[r,null]:n.batchInputShape=[r].concat(w(t.inputLength))}return n.inputDim=t.inputDim,D(n.inputDim,"inputDim"),n.outputDim=t.outputDim,D(n.outputDim,"outputDim"),n.embeddingsInitializer=Xe(t.embeddingsInitializer||n.DEFAULT_EMBEDDINGS_INITIALIZER),n.embeddingsRegularizer=ur(t.embeddingsRegularizer),n.activityRegularizer=ur(t.activityRegularizer),n.embeddingsConstraint=W(t.embeddingsConstraint),n.maskZero=t.maskZero,n.supportsMasking=t.maskZero,n.inputLength=t.inputLength,n}return a(t,e),t.prototype.build=function(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0},t.prototype.warnOnIncompatibleInputShape=function(e){},t.prototype.computeMask=function(e,t){var n=this;return Object(r.Wc)((function(){return n.maskZero?(e=tt(e),Object(r.Vb)(e,Object(r.jd)(e))):null}))},t.prototype.computeOutputShape=function(e){if(e=nt(e),null==this.inputLength)return e.concat([this.outputDim]);var t=w(this.inputLength);if(t.length!==e.length-1)throw new d('"inputLength" is '+this.inputLength+", but received input shape has shape "+e);for(var n=0,r=0;r<t.length;++r){var i=t[r],a=e[r+1];if(null!=i&&null!=a&&i!==a)throw new d('"inputLength" is '+this.inputLength+", but received input shape has shape "+e);null==i&&(t[n]=a),n++}return[e[0]].concat(t,[this.outputDim])},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){n.invokeCallHook(e,t);var r=tt(e);return"int32"!==r.dtype&&(r=fe(r,"int32")),Se(n.embeddings.read(),r.as1D()).reshape(nt(n.computeOutputShape(r.shape)))}))},t.prototype.getConfig=function(){var t={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Qe(this.embeddingsInitializer),embeddingsRegularizer:or(this.embeddingsRegularizer),activityRegularizer:or(this.activityRegularizer),embeddingsConstraint:V(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Embedding",t}(dt);r.sc.registerClass(Ur);var jr=function(e){function t(t){var n=e.call(this,t||{})||this;return n.supportsMasking=!0,n}return a(t,e),t.prototype.mergeFunction=function(e){throw new p},t.prototype.computeElementwiseOpOutputShape=function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var i=e[e.length-t.length+r],a=t[r];if(null==i||null==a||i<0||a<0)n.push(null);else if(1===i)n.push(a);else if(1===a)n.push(i);else{if(i!==a)throw new d("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(i)}}return n},t.prototype.build=function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[nt(e)]),(e=e).length<2)throw new d("A merge layer should be called on an Array of at least 2 inputs. Got "+e.length+" input(s).");for(var t=[],n=0,r=e;n<r.length;n++)null!=(o=r[n])&&null!==o[0]&&t.push(o[0]);if((t=A(t)).length>1)throw new d("Can not merge tensors with different batch sizes. Got tensors with shapes: "+JSON.stringify(e)+".");for(var i=null==e[0]?null:e[0].slice(1),a=1;a<e.length;++a){var o=null==e[a]?null:e[a].slice(1);i=this.computeElementwiseOpOutputShape(i,o)}var s=e.map((function(e){return e.length}));-1===e.indexOf(null)&&1===A(s).length?this.reshapeRequired=!1:this.reshapeRequired=!0},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){if(e=e,n.reshapeRequired){var t=[],i=e.map((function(e){return e.rank}));if(-1===i.indexOf(null)){for(var a=le(i),o=0,s=e;o<s.length;o++){for(var u=(d=s[o]).rank,l=0;l<a-u;++l)d=he(d,1);t.push(d)}return n.mergeFunction(t)}for(var c=!1,f=0,h=e;f<h.length;f++){var d;if(null==(u=(d=h[f]).rank)){var p=d.shape,m=p[0],g=p.slice(1).concat([m]),v=d.reshape([m].concat(oe(p.slice(1))));v=(v=Object(r.ad)(v,[1,0])).reshape(g),t.push(v),c=!0}else if(u>1){var y=ce(1,u).concat([0]);t.push(Object(r.ad)(d,y)),c=!0}else t.push(d)}var b=n.mergeFunction(t),w=b.rank;if(c)if(null==w){var S=b.shape;g=[m=S[S.length-1]].concat(S.slice(0,S.length-1)),b=Object(r.ad)(b.reshape([-1,m]),[1,0]).reshape(g)}else w>1&&(y=[w-1].concat(ce(0,w-1)),b=Object(r.ad)(b,y));return b}return n.mergeFunction(e)}))},t.prototype.computeOutputShape=function(e){var t;t=null==(e=e)[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}for(var i=[],a=0,o=e;a<o.length;a++)null!=(r=o[a])&&null!==r[0]&&i.push(r[0]);return 1===(i=A(i)).length?i.concat(t):[null].concat(t)},t.prototype.computeMask=function(e,t){return Object(r.Wc)((function(){if(null==t)return null;if(!Array.isArray(t))throw new d("`mask` should be an Array");if(!Array.isArray(e))throw new d("`inputs` should be an Array");if(t.length!==e.length)throw new d("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths ("+e.length+" vs "+t.length+")");if(t.every((function(e){return null==e})))return null;for(var n=(t=t.map((function(e){return null==e?e:Object(r.ab)(e,0)})))[0],i=1;i<t.length-1;++i)n=Object(r.Bb)(n,t[i]);return n}))},t}(dt),Vr=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.mergeFunction=function(e){return Object(r.Wc)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=Object(r.f)(t,e[n]);return t}))},t.className="Add",t}(jr);r.sc.registerClass(Vr);var Gr=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.mergeFunction=function(e){return Object(r.Wc)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=Object(r.Qb)(t,e[n]);return t}))},t.className="Multiply",t}(jr);r.sc.registerClass(Gr);var Wr=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.mergeFunction=function(e){return Object(r.Wc)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=Object(r.f)(t,e[n]);return Object(r.Qb)(1/e.length,t)}))},t.className="Average",t}(jr);r.sc.registerClass(Wr);var Hr=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.mergeFunction=function(e){return Object(r.Wc)((function(){for(var t=e[0],n=1;n<e.length;++n)t=Object(r.Jb)(t,e[n]);return t}))},t.className="Maximum",t}(jr);r.sc.registerClass(Hr);var qr=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.mergeFunction=function(e){return Object(r.Wc)((function(){for(var t=e[0],n=1;n<e.length;++n)t=Object(r.Nb)(t,e[n]);return t}))},t.className="Minimum",t}(jr);r.sc.registerClass(qr);var Qr=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_AXIS=-1,null==t&&(t={}),n.axis=null==t.axis?n.DEFAULT_AXIS:t.axis,n.supportsMasking=!0,n.reshapeRequired=!1,n}return a(t,e),t.prototype.build=function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new d("A `Concatenate` layer should be called on a list of at least 2 inputs");for(var t=!0,n=0,i=e=e;n<i.length;n++)if(null!=(f=i[n])){t=!1;break}if(!t){for(var a=[],o=0;o<e.length;++o){var s=e[o].slice();s.splice(this.axis,1);for(var u=!1,l=0,c=a;l<c.length;l++){var f=c[l];if(r.dd.arraysEqual(f,s)){u=!0;break}}u||a.push(s)}if(a.length>1)throw new d("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}},t.prototype.mergeFunction=function(e){var t=this;return Object(r.Wc)((function(){return ge(e,t.axis)}))},t.prototype.computeOutputShape=function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new d("A `Concatenate` layer should be called on a list of inputs.");for(var t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis,i=0,a=t.slice(1);i<a.length;i++){var o=a[i];if(null==n[r]||null==o[r]){n[r]=null;break}n[r]+=o[r]}return n},t.prototype.computeMask=function(e,t){var n=this;if(null==t)return null;if(!Array.isArray(t))throw new d("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new d("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new d("Mismatch in the length of mask ("+t.length+") and the legnth of inputs ("+e.length+")");return Object(r.Wc)((function(){var i=!0;if(t.forEach((function(e){null==e||(i=!1)})),i)return null;for(var a=[],o=0;o<e.length;++o)null==t[o]?a.push(Object(r.Yb)(e[o]).asType("bool")):t[o].rank<e[o].rank?a.push(Object(r.ab)(t[o],-1)):a.push(t[o]);var s=Object(r.D)(a,n.axis);return Object(r.h)(s,-1,!1)}))},t.prototype.getConfig=function(){var t={axis:this.axis},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Concatenate",t}(jr);function Xr(e,t){for(;e<0;)e+=t;return e}r.sc.registerClass(Qr);var Yr=function(e){function t(t){var n=e.call(this,t)||this;return n.axes=t.axes,n.normalize=null!=t.normalize&&t.normalize,n.supportsMasking=!0,n.reshapeRequired=!1,n}return a(t,e),t.prototype.build=function(e){r.dd.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0],n=e[1];if(t.length>3||n.length>3)throw new p("Dot layer does not support tensors of 4D or higher rank yet.");var i=this.interpretAxes(t,n);if(t[i[0]]!==n[i[1]])throw new d("Dimension incompatibility: "+t[i[0]]+" !== "+n[i[1]])},t.prototype.mergeFunction=function(e){if(2!==e.length)throw new d("A `Dot` layer must be called on exactly 2 inputs, but received "+e.length+" input(s).");var t,n=e[0],i=e[1];return t=Array.isArray(this.axes)?this.axes.map((function(t,n){return Xr(t,e[n].shape.length)})):[Xr(this.axes,n.shape.length),Xr(this.axes,i.shape.length)],this.normalize&&(n=It(n,t[0]),i=It(i,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new p("batchDot is not implemented for tensors of 4D or higher rank yet");if(r.dd.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of x to be >= 2, but got "+e.shape.length})),r.dd.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of y to be >= 2, but got "+t.shape.length})),"number"==typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new p("batchDot is not implemented for complex64-type Tensors yet.");var i=e.shape.length,a=t.shape.length;null==n&&(n=[i-1,a-2]);var o=n;return Object(r.Wc)((function(){var n,r;if(i>a){n=i-a;for(var s=[],u=0;u<n;++u)s.push(1);t=t.reshape(t.shape.concat(s))}else if(a>i){for(n=a-i,s=[],u=0;u<n;++u)s.push(1);e=e.reshape(e.shape.concat(s))}else n=0;if(2===e.shape.length&&2===t.shape.length)r=o[0]===o[1]?e.mulStrict(t).sum(o[0]):e.transpose([1,0]).mulStrict(t).sum(o[1]);else{var l=o[0]!==e.shape.length-1,c=o[1]===t.shape.length-1;r=e.matMul(t,l,c)}if(n>0){var f,h=[];for(u=f=i>a?i+a-3:i-1;u<f+n;++u)h.push(u);r=r.squeeze(h)}return 1===r.shape.length&&(r=r.expandDims(1)),r}))}(n,i,t)},t.prototype.interpretAxes=function(e,t){return Array.isArray(this.axes)?this.axes:[Xr(this.axes,e.length),Xr(this.axes,t.length)]},t.prototype.computeOutputShape=function(e){r.dd.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new p("Dot layer does not support tensors of 4D or higher rank yet.");var i=this.interpretAxes(t,n);t.splice(i[0],1),n.splice(i[1],1),n.splice(0,1);var a=t.concat(n);return 1===a.length&&a.push(1),a},t.prototype.computeMask=function(e,t){return null},t.prototype.getConfig=function(){var t={axes:this.axes,normalize:this.normalize},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="Dot",t}(jr);r.sc.registerClass(Yr);var Kr=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.stddev=t.stddev,n}return a(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={stddev:this.stddev};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){n.invokeCallHook(e,t);var r=tt(e);return ke((function(){return be(r.shape,0,n.stddev).add(r)}),(function(){return r}),t.training||!1)}))},t.className="GaussianNoise",t}(dt);r.sc.registerClass(Kr);var Zr=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.rate=t.rate,n}return a(t,e),t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={rate:this.rate};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){n.invokeCallHook(e,t);var r=tt(e);return n.rate>0&&n.rate<1?ke((function(){var e=Math.sqrt(n.rate/(1-n.rate));return r.mul(be(r.shape,1,e))}),(function(){return r}),t.training||!1):r}))},t.className="GaussianDropout",t}(dt);r.sc.registerClass(Zr);var Jr=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n.rate=t.rate,n.noiseShape=t.noiseShape,n}return a(t,e),t.prototype._getNoiseShape=function(e){return this.noiseShape||tt(e).shape},t.prototype.computeOutputShape=function(e){return e},t.prototype.getConfig=function(){var t=e.prototype.getConfig.call(this),n={rate:this.rate};return Object.assign(n,t),n},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){if(n.rate<1&&n.rate>0){var i=n._getNoiseShape(e);return ke((function(){var t=tt(e),a=-1.7580993408473766,o=Object(r.lb)(Object(r.ec)(i),n.rate);o=fe(o,"float32");var s=Math.pow((1-n.rate)*(1+n.rate*Math.pow(a,2)),-.5),u=-s*a*n.rate;return t.mul(o).add(o.add(-1).mul(a)).mul(s).add(u)}),(function(){return tt(e)}),t.training||!1)}return e}))},t.className="AlphaDropout",t}(dt);function $r(e,t,n,i,a,o){var s;if(void 0===o&&(o=.001),2===e.rank)s=Object(r.u)(e,t,n,i,a,o);else if(3===e.rank)s=Object(r.v)(e,t,n,i,a,o);else{if(4!==e.rank)throw new p("batchNormalization is not implemented for array of rank "+e.rank+" yet");s=Object(r.w)(e,t,n,i,a,o)}return s}function ei(e,t,n,i,a){return void 0===a&&(a=.001),r.dd.arraysEqual(i.slice().sort(),ce(0,e.rank-1))?function(e,t,n,i,a){return void 0===a&&(a=.001),Object(r.Wc)((function(){var o=Object(r.Pb)(e,i),s=o.mean,u=o.variance;return[$r(e,s,u,n,t,a),s,u]}))}(e,t,n,i,a):function(e,t,n,i,a){return void 0===a&&(a=.001),Object(r.Wc)((function(){for(var o=Object(r.Pb)(e,i),s=o.mean,u=o.variance,l=[],c=0,f=ce(0,e.rank);c<f.length;c++){var h=f[c];-1!==i.indexOf(h)?l.push(1):l.push(e.shape[h])}var d=s.reshape(l),p=u.reshape(l),m=null==t?null:t.reshape(l),g=null==n?null:n.reshape(l);return[$r(e,d,p,g,m,a),s,u]}))}(e,t,n,i,a)}r.sc.registerClass(Jr);var ti=function(e){function t(t){var n=this;return null==t&&(t={}),(n=e.call(this,t)||this).supportsMasking=!0,n.axis=null==t.axis?-1:t.axis,n.momentum=null==t.momentum?.99:t.momentum,n.epsilon=null==t.epsilon?.001:t.epsilon,n.center=null==t.center||t.center,n.scale=null==t.scale||t.scale,n.betaInitializer=Xe(t.betaInitializer||"zeros"),n.gammaInitializer=Xe(t.gammaInitializer||"ones"),n.movingMeanInitializer=Xe(t.movingMeanInitializer||"zeros"),n.movingVarianceInitializer=Xe(t.movingVarianceInitializer||"ones"),n.betaConstraint=W(t.betaConstraint),n.gammaConstraint=W(t.gammaConstraint),n.betaRegularizer=ur(t.betaRegularizer),n.gammaRegularizer=ur(t.gammaRegularizer),n}return a(t,e),t.prototype.build=function(e){var t;e=nt(e);var n=this.axis>=0?this.axis:this.axis+e.length,r=e[n];if(null==r)throw new d("Axis "+n+" of input tensor should have a defined dimension but the layer received an input with shape "+JSON.stringify(e)+".");this.inputSpec=[new ut({ndim:e.length,axes:(t={},t[n]=r,t)})];var i=[r];this.scale&&(this.gamma=this.addWeight("gamma",i,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",i,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",i,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",i,null,this.movingVarianceInitializer,null,!1),this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){var i=null!=t.training&&t.training,a=tt(e),o=a.shape,s=o.length,u=ce(0,s),l=n.axis>=0?n.axis:n.axis+s;u.splice(l,1);var c=g(1,s);c[l]=o[l];var f=u.slice();f.sort();var h=!r.dd.arraysEqual(f,ce(0,s).slice(0,s-1));if(!i)return function(){if(h){var e=n.movingMean.read().reshape(c),t=n.movingVariance.read().reshape(c),r=n.center?n.beta.read().reshape(c):null,i=n.scale?n.gamma.read().reshape(c):null;return $r(a,e,t,r,i,n.epsilon)}return $r(a,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var d=ei(a,n.gamma.read(),n.beta.read(),u,n.epsilon),p=d[0],m=d[1],v=d[2],y=function(e,t,n){Object(r.Wc)((function(){var r=1-n,i=e.read(),a=i.sub(t).mul(r);e.write(i.sub(a))}))};return y(n.movingMean,m,n.momentum),y(n.movingVariance,v,n.momentum),p}))},t.prototype.getConfig=function(){var t={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Qe(this.betaInitializer),gammaInitializer:Qe(this.gammaInitializer),movingMeanInitializer:Qe(this.movingMeanInitializer),movingVarianceInitializer:Qe(this.movingVarianceInitializer),betaRegularizer:or(this.betaRegularizer),gammaRegularizer:or(this.gammaRegularizer),betaConstraint:V(this.betaConstraint),gammaConstraint:V(this.gammaConstraint)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="BatchNormalization",t}(dt);r.sc.registerClass(ti);var ni=function(e){function t(t){var n=this;if(null==t&&(t={}),(n=e.call(this,t)||this).axis=null==t.axis?-1:t.axis,"number"==typeof n.axis){if(!Number.isInteger(n.axis))throw new Error("Expected axis to be an integer, but received "+n.axis)}else{if(!Array.isArray(n.axis))throw new Error("Expected axis to be an integer or an array of integers, but received "+JSON.stringify(n.axis));for(var r=0,i=n.axis;r<i.length;r++){var a=i[r];if(!Number.isInteger(a))throw new Error("Expected axis to be an array of integers, but received "+JSON.stringify(n.axis))}}return n.epsilon=null==t.epsilon?.001:t.epsilon,n.center=null==t.center||t.center,n.scale=null==t.scale||t.scale,n.betaInitializer=Xe(t.betaInitializer||"zeros"),n.gammaInitializer=Xe(t.gammaInitializer||"ones"),n.betaRegularizer=ur(t.betaRegularizer),n.gammaRegularizer=ur(t.gammaRegularizer),n.supportsMasking=!0,n}return a(t,e),t.prototype.build=function(e){var t=(e=nt(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(var n=0;n<this.axis.length;++n)this.axis[n]<0&&(this.axis[n]+=t);for(var r=0,i=this.axis;r<i.length;r++){var a=i[r];if(a<0||a>=t)throw new Error("Invalid axis: "+a)}if(this.axis.length!==A(this.axis).length)throw new Error("Found duplicate axes in: "+this.axis);var o=this.axis.map((function(t){return e[t]}));this.scale?this.gamma=this.addWeight("gamma",o,"float32",this.gammaInitializer,this.gammaRegularizer,!0):this.gamma=null,this.center?this.beta=this.addWeight("beta",o,"float32",this.betaInitializer,this.betaRegularizer,!0):this.beta=null,this.built=!0},t.prototype.call=function(e,t){var n=this,i=tt(e),a=i.shape,o=a.length;return Object(r.Wc)((function(){for(var e=Object(r.Pb)(i,n.axis,!0),t=e.mean,s=e.variance,u=g(1,o),l=0,c=n.axis;l<c.length;l++){var f=c[l];u[f]=a[f]}for(var h=function(e){return null!=e&&e.shape.length!==o&&n.axis!==[o-1]?e.reshape(u):e},d=h(n.gamma.read()),p=h(n.beta.read()),m=[],v=[],y=0;y<o;++y)-1!==n.axis.indexOf(y)?(m.push(a[y]),v.push(1)):(m.push(1),v.push(a[y]));return t=t.tile(m),s=s.tile(m),d=d.tile(v),p=p.tile(v),$r(i,t,s,p,d,n.epsilon)}))},t.prototype.getConfig=function(){var t={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Qe(this.betaInitializer),gammaInitializer:Qe(this.gammaInitializer),betaRegularizer:or(this.betaRegularizer),gammaRegularizer:or(this.gammaRegularizer)},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="LayerNormalization",t}(dt);r.sc.registerClass(ni);var ri=function(e){function t(t){var n=this;if(null==t&&(t={}),(n=e.call(this,t)||this).dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,null==t.padding)n.padding=[[1,1],[1,1]];else if("number"==typeof t.padding)n.padding=[[t.padding,t.padding],[t.padding,t.padding]];else{if(t.padding=t.padding,2!==t.padding.length)throw new d("ZeroPadding2D expects padding to be a length-2 array, but received a length-"+t.padding.length+" array.");var r=void 0,i=void 0;if("number"==typeof t.padding[0])r=[t.padding[0],t.padding[0]],i=[t.padding[1],t.padding[1]];else{if(t.padding=t.padding,2!==t.padding[0].length)throw new d("ZeroPadding2D expects height padding to be a length-2 array, but received a length-"+t.padding[0].length+" array.");if(r=t.padding[0],2!==t.padding[1].length)throw new d("ZeroPadding2D expects width padding to be a length-2 array, but received a length-"+t.padding[1].length+" array.");i=t.padding[1]}n.padding=[r,i]}return n.inputSpec=[new ut({ndim:4})],n}return a(t,e),t.prototype.computeOutputShape=function(e){var t,n;return e=nt(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){return function(e,t,n){return Object(r.Wc)((function(){if(4!==e.rank)throw new d("temporalPadding expects input tensor to be 4-D, but received a "+e.rank+"-D tensor.");if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new d("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n="channelsLast"),"channelsLast"!==n&&"channelsFirst"!==n)throw new d("Unknown data format: "+n+". Supported data formats are 'channelsLast' and 'channelsFirst.");var i;return i="channelsFirst"===n?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],Object(r.Zb)(e,i)}))}(tt(e),n.padding,n.dataFormat)}))},t.prototype.getConfig=function(){var t={padding:this.padding,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="ZeroPadding2D",t}(dt);function ii(e,t,n,i,a,o){return Object(r.Wc)((function(){var s;K(a),J(o),Z(i),null==n&&(n=[1,1]),null==i&&(i="valid"),null==a&&(a="channelsLast"),null==o&&(o="max"),e=yr(e,a);var u="same"===i?"same":"valid";return s="max"===o?Object(r.Gb)(e,t,n,u):Object(r.q)(e,t,n,u),"channelsFirst"===a&&(s=Object(r.ad)(s,[0,3,1,2])),s}))}function ai(e,t,n,i,a,o){return Object(r.Wc)((function(){var s;K(a),J(o),Z(i),null==n&&(n=[1,1,1]),null==i&&(i="valid"),null==a&&(a="channelsLast"),null==o&&(o="max"),e=br(e,a);var u="same"===i?"same":"valid";return s="max"===o?Object(r.Hb)(e,t,n,u):Object(r.r)(e,t,n,u),"channelsFirst"===a&&(s=Object(r.ad)(s,[0,4,1,2,3])),s}))}r.sc.registerClass(ri);var oi=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=2),n=e.call(this,t)||this,"number"==typeof t.poolSize)n.poolSize=[t.poolSize];else{if(!Array.isArray(t.poolSize)||1!==t.poolSize.length||"number"!=typeof t.poolSize[0])throw new d("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(t.poolSize));n.poolSize=t.poolSize}if(D(n.poolSize,"poolSize"),null==t.strides)n.strides=n.poolSize;else if("number"==typeof t.strides)n.strides=[t.strides];else{if(!Array.isArray(t.strides)||1!==t.strides.length||"number"!=typeof t.strides[0])throw new d("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+JSON.stringify(t.strides));n.strides=t.strides}return D(n.strides,"strides"),n.padding=null==t.padding?"valid":t.padding,Z(n.padding),n.inputSpec=[new ut({ndim:3})],n}return a(t,e),t.prototype.computeOutputShape=function(e){var t=gr((e=nt(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){n.invokeCallHook(e,t),e=he(tt(e),2);var i=n.poolingFunction(tt(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return Object(r.Lc)(i,[2])}))},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(dt),si=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return K(i),Z(r),ii(e,t,n,r,i,"max")},t.className="MaxPooling1D",t}(oi);r.sc.registerClass(si);var ui=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return K(i),Z(r),ii(e,t,n,r,i,"avg")},t.className="AveragePooling1D",t}(oi);r.sc.registerClass(ui);var li=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=[2,2]),(n=e.call(this,t)||this).poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize],null==t.strides)n.strides=n.poolSize;else if(Array.isArray(t.strides)){if(2!==t.strides.length)throw new d("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+t.strides.length+".");n.strides=t.strides}else n.strides=[t.strides,t.strides];return D(n.poolSize,"poolSize"),D(n.strides,"strides"),n.padding=null==t.padding?"valid":t.padding,n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,K(n.dataFormat),Z(n.padding),n.inputSpec=[new ut({ndim:4})],n}return a(t,e),t.prototype.computeOutputShape=function(e){e=nt(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=gr(t,this.poolSize[0],this.padding,this.strides[0]),n=gr(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){return n.invokeCallHook(e,t),n.poolingFunction(tt(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(dt),ci=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return K(i),Z(r),ii(e,t,n,r,i,"max")},t.className="MaxPooling2D",t}(li);r.sc.registerClass(ci);var fi=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return K(i),Z(r),ii(e,t,n,r,i,"avg")},t.className="AveragePooling2D",t}(li);r.sc.registerClass(fi);var hi=function(e){function t(t){var n=this;if(null==t.poolSize&&(t.poolSize=[2,2,2]),(n=e.call(this,t)||this).poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize,t.poolSize],null==t.strides)n.strides=n.poolSize;else if(Array.isArray(t.strides)){if(3!==t.strides.length)throw new d("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+t.strides.length+".");n.strides=t.strides}else n.strides=[t.strides,t.strides,t.strides];return D(n.poolSize,"poolSize"),D(n.strides,"strides"),n.padding=null==t.padding?"valid":t.padding,n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,K(n.dataFormat),Z(n.padding),n.inputSpec=[new ut({ndim:5})],n}return a(t,e),t.prototype.computeOutputShape=function(e){e=nt(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=gr(t,this.poolSize[0],this.padding,this.strides[0]),n=gr(n,this.poolSize[1],this.padding,this.strides[1]),r=gr(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){return n.invokeCallHook(e,t),n.poolingFunction(tt(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))},t.prototype.getConfig=function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(dt),di=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return K(i),Z(r),ai(e,t,n,r,i,"max")},t.className="MaxPooling3D",t}(hi);r.sc.registerClass(di);var pi=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.poolingFunction=function(e,t,n,r,i){return K(i),Z(r),ai(e,t,n,r,i,"avg")},t.className="AveragePooling3D",t}(hi);r.sc.registerClass(pi);var mi=function(e){function t(t){var n=e.call(this,t)||this;return n.inputSpec=[new ut({ndim:3})],n}return a(t,e),t.prototype.computeOutputShape=function(e){return[e[0],e[2]]},t.prototype.call=function(e,t){throw new p},t}(dt),gi=function(e){function t(t){return e.call(this,t||{})||this}return a(t,e),t.prototype.call=function(e,t){return Object(r.Wc)((function(){var t=tt(e);return Object(r.Kb)(t,1)}))},t.className="GlobalAveragePooling1D",t}(mi);r.sc.registerClass(gi);var vi=function(e){function t(t){return e.call(this,t||{})||this}return a(t,e),t.prototype.call=function(e,t){return Object(r.Wc)((function(){var t=tt(e);return Object(r.Fb)(t,1)}))},t.className="GlobalMaxPooling1D",t}(mi);r.sc.registerClass(vi);var yi=function(e){function t(t){var n=e.call(this,t)||this;return n.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,K(n.dataFormat),n.inputSpec=[new ut({ndim:4})],n}return a(t,e),t.prototype.computeOutputShape=function(e){return e=e,"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]},t.prototype.call=function(e,t){throw new p},t.prototype.getConfig=function(){var t={dataFormat:this.dataFormat},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t}(dt),bi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){var t=tt(e);return"channelsLast"===n.dataFormat?Object(r.Kb)(t,[1,2]):Object(r.Kb)(t,[2,3])}))},t.className="GlobalAveragePooling2D",t}(yi);r.sc.registerClass(bi);var wi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){var t=tt(e);return"channelsLast"===n.dataFormat?Object(r.Fb)(t,[1,2]):Object(r.Fb)(t,[2,3])}))},t.className="GlobalMaxPooling2D",t}(yi);function Si(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new d("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function i(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=i(t),constants:n=i(n)}}function xi(e,t,n,i,a,o,s,u){return void 0===i&&(i=!1),void 0===s&&(s=!1),void 0===u&&(u=!1),Object(r.Wc)((function(){var l=t.shape.length;if(l<3)throw new d("Input should be at least 3D, but is "+l+"D.");var c=[1,0].concat(ce(2,l));if(t=Object(r.ad)(t,c),null!=o)throw new p("The rnn() functoin of the deeplearn.js backend does not support constants yet.");s&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=a&&((a=a.asType("bool").asType("float32")).rank===l-1&&(a=Object(r.ab)(a,-1)),a=Object(r.ad)(a,c)),i&&(t=Object(r.kc)(t,0),null!=a&&(a=Object(r.kc)(a,0)));var f,h,m=[],g=n,v=t.shape[0],y=Object(r.cd)(t);null!=a&&(h=Object(r.cd)(a));for(var b,w=function(t){var n=y[t],i=Object(r.Wc)((function(){return e(n,g)}));if(null==a)f=i[0],g=i[1];else{var o=Object(r.Wc)((function(){var e=h[t],n=Object(r.Yb)(e).sub(e);return{output:i[0].mul(e).addStrict(g[0].mul(n)),newStates:g.map((function(t,r){return i[1][r].mul(e).addStrict(t.mul(n))}))}}));f=o.output,g=o.newStates}u&&m.push(f)},S=0;S<v;++S)w(S);return u&&(b=Object(r.Mc)(m,1)),[f,b,g]}))}r.sc.registerClass(wi);var _i=function(e){function t(t){var n,r=e.call(this,t)||this;if(null==t.cell)throw new d("cell property is missing for the constructor of RNN.");if(null==(n=Array.isArray(t.cell)?new Mi({cells:t.cell}):t.cell).stateSize)throw new d("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=n,r.returnSequences=null!=t.returnSequences&&t.returnSequences,r.returnState=null!=t.returnState&&t.returnState,r.goBackwards=null!=t.goBackwards&&t.goBackwards,r._stateful=null!=t.stateful&&t.stateful,r.unroll=null!=t.unroll&&t.unroll,r.supportsMasking=!0,r.inputSpec=[new ut({ndim:3})],r.stateSpec=null,r.states_=null,r.numConstants=null,r.keptStates=[],r}return a(t,e),t.prototype.getStates=function(){return null==this.states_?ce(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((function(e){return null})):this.states_},t.prototype.setStates=function(e){this.states_=e},t.prototype.computeOutputShape=function(e){$e(e)&&(e=e[0]),e=e;var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){for(var i=[],a=0,o=t;a<o.length;a++){var s=o[a];i.push([e[0],s])}return[n].concat(i)}return n},t.prototype.computeMask=function(e,t){var n=this;return Object(r.Wc)((function(){Array.isArray(t)&&(t=t[0]);var e=n.returnSequences?t:null;if(n.returnState){var r=n.states.map((function(e){return null}));return[e].concat(r)}return e}))},Object.defineProperty(t.prototype,"states",{get:function(){if(null==this.states_){for(var e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[],n=0;n<e;++n)t.push(null);return t}return this.states_},set:function(e){this.states_=e},enumerable:!0,configurable:!0}),t.prototype.build=function(e){if(null!=this.numConstants)throw new p("Constants support is not implemented in RNN yet.");$e(e)&&(e=e[0]),e=e;var t=this.stateful?e[0]:null,n=e[e.length-1];this.inputSpec[0]=new ut({shape:[t,null,n]});var i,a=[e[0]].concat(e.slice(2));if(this.cell.build(a),i=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!r.dd.arraysEqual(this.stateSpec.map((function(e){return e.shape[e.shape.length-1]})),i))throw new d("An initialState was passed that is not compatible with cell.stateSize. Received stateSpec="+this.stateSpec+"; However cell.stateSize is "+this.cell.stateSize)}else this.stateSpec=i.map((function(e){return new ut({shape:[null,e]})}));this.stateful&&this.resetStates()},t.prototype.resetStates=function(e,t){var n=this;void 0===t&&(t=!1),Object(r.Wc)((function(){if(!n.stateful)throw new f("Cannot call resetStates() on an RNN Layer that is not stateful.");var i=n.inputSpec[0].shape[0];if(null==i)throw new d("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==n.states_)Array.isArray(n.cell.stateSize)?n.states_=n.cell.stateSize.map((function(e){return Object(r.id)([i,e])})):n.states_=[Object(r.id)([i,n.cell.stateSize])];else if(null==e)Object(r.R)(n.states_),null!=n.keptStates&&(Object(r.R)(n.keptStates),n.keptStates=[]),Array.isArray(n.cell.stateSize)?n.states_=n.cell.stateSize.map((function(e){return Object(r.id)([i,e])})):n.states_[0]=Object(r.id)([i,n.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==n.states_.length)throw new d("Layer "+n.name+" expects "+n.states_.length+" state(s), but it received "+e.length+" state value(s). Input received: "+e);!0===t?n.keptStates.push(n.states_.slice()):Object(r.R)(n.states_);for(var a=0;a<n.states_.length;++a){var o=e[a],s=Array.isArray(n.cell.stateSize)?n.cell.stateSize[a]:n.cell.stateSize,u=[i,s];if(!r.dd.arraysEqual(o.shape,u))throw new d("State "+a+" is incompatible with layer "+n.name+": expected shape="+u+", received shape="+o.shape);n.states_[a]=o}}n.states_=n.states_.map((function(e){return Object(r.rb)(e.clone())}))}))},t.prototype.apply=function(t,n){var r=null==n?null:n.initialState,i=null==n?null:n.constants;null==n&&(n={});var a=Si(t,r,i,this.numConstants);t=a.inputs,r=a.initialState,i=a.constants;var o=[],s=[];if(null!=r){n.initialState=r,o=o.concat(r),this.stateSpec=[];for(var u=0,l=r;u<l.length;u++){var c=l[u];this.stateSpec.push(new ut({shape:c.shape}))}s=s.concat(this.stateSpec)}if(null!=i&&(n.constants=i,o=o.concat(i),this.numConstants=i.length),o[0]instanceof lt){var f=[t].concat(o),h=this.inputSpec.concat(s),d=this.inputSpec;this.inputSpec=h;var p=e.prototype.apply.call(this,f,n);return this.inputSpec=d,p}return e.prototype.apply.call(this,t,n)},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){var r=null==t?null:t.mask,i=null==t?null:t.training,a=null==t?null:t.initialState;e=tt(e),null==a&&(a=n.stateful?n.states_:n.getInitialState(e));var o=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(a.length!==o)throw new d("RNN Layer has "+o+" state(s) but was passed "+a.length+" initial state(s).");n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var s={training:i},u=xi((function(e,t){var r=n.cell.call([e].concat(t),s);return[r[0],r.slice(1)]}),e,a,n.goBackwards,r,null,n.unroll,n.returnSequences),l=u[0],c=u[1],f=u[2];n.stateful&&n.resetStates(f,i);var h=n.returnSequences?c:l;return n.returnState?[h].concat(f):h}))},t.prototype.getInitialState=function(e){var t=this;return Object(r.Wc)((function(){var n=Object(r.id)(e.shape);return n=he(n=Object(r.Pc)(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map((function(e){return e>1?ye(n,[1,e]):n})):t.cell.stateSize>1?[ye(n,[1,t.cell.stateSize])]:[n]}))},Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.trainable?this.cell.trainableWeights:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights},enumerable:!0,configurable:!0}),t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(t)},t.prototype.getConfig=function(){var t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);var n=this.cell.getConfig();t.cell={className:this.cell.getClassName(),config:n};var r=e.prototype.getConfig.call(this);return Object.assign(t,r),t},t.fromConfig=function(e,t,n){void 0===n&&(n={});var r=Ot(t.cell,n);return new e(Object.assign(t,{cell:r}))},t.className="RNN",t}(dt);r.sc.registerClass(_i);var Ti=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(dt),Ei=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,D(n.units,"units"),n.activation=tr(null==t.activation?n.DEFAULT_ACTIVATION:t.activation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=Xe(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=Xe(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=Xe(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=ur(t.kernelRegularizer),n.recurrentRegularizer=ur(t.recurrentRegularizer),n.biasRegularizer=ur(t.biasRegularizer),n.kernelConstraint=W(t.kernelConstraint),n.recurrentConstraint=W(t.recurrentConstraint),n.biasConstraint=W(t.biasConstraint),n.dropout=ue([1,le([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=ue([1,le([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return a(t,e),t.prototype.build=function(e){e=nt(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){if(2!==(e=e).length)throw new d("SimpleRNNCell expects 2 input Tensors, got "+e.length+".");var i=e[1];e=e[0];var a,o=null!=t.training&&t.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Di((function(){return Object(r.Yb)(e)}),n.dropout,o)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Di((function(){return Object(r.Yb)(i)}),n.recurrentDropout,o));var s=n.dropoutMask,u=n.recurrentDropoutMask;a=we(null!=s?Object(r.Qb)(e,s):e,n.kernel.read()),null!=n.bias&&(a=Te(a,n.bias.read())),null!=u&&(i=Object(r.Qb)(i,u));var l=Object(r.f)(a,we(i,n.recurrentKernel.read()));return null!=n.activation&&(l=n.activation.apply(l)),[l,l]}))},t.prototype.getConfig=function(){var t={units:this.units,activation:$n(this.activation),useBias:this.useBias,kernelInitializer:Qe(this.kernelInitializer),recurrentInitializer:Qe(this.recurrentInitializer),biasInitializer:Qe(this.biasInitializer),kernelRegularizer:or(this.kernelRegularizer),recurrentRegularizer:or(this.recurrentRegularizer),biasRegularizer:or(this.biasRegularizer),activityRegularizer:or(this.activityRegularizer),kernelConstraint:V(this.kernelConstraint),recurrentConstraint:V(this.recurrentConstraint),biasConstraint:V(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="SimpleRNNCell",t}(Ti);r.sc.registerClass(Ei);var ki=function(e){function t(t){return t.cell=new Ei(t),e.call(this,t)||this}return a(t,e),t.prototype.call=function(t,n){var i=this;return Object(r.Wc)((function(){null!=i.cell.dropoutMask&&(Object(r.R)(i.cell.dropoutMask),i.cell.dropoutMask=null),null!=i.cell.recurrentDropoutMask&&(Object(r.R)(i.cell.recurrentDropoutMask),i.cell.recurrentDropoutMask=null);var a=null==n?null:n.mask,o=null==n?null:n.training,s=null==n?null:n.initialState;return e.prototype.call.call(i,t,{mask:a,training:o,initialState:s})}))},Object.defineProperty(t.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:$n(this.activation),useBias:this.useBias,kernelInitializer:Qe(this.kernelInitializer),recurrentInitializer:Qe(this.recurrentInitializer),biasInitializer:Qe(this.biasInitializer),kernelRegularizer:or(this.kernelRegularizer),recurrentRegularizer:or(this.recurrentRegularizer),biasRegularizer:or(this.biasRegularizer),activityRegularizer:or(this.activityRegularizer),kernelConstraint:V(this.kernelConstraint),recurrentConstraint:V(this.recurrentConstraint),biasConstraint:V(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return new e(t)},t.className="SimpleRNN",t}(_i);r.sc.registerClass(ki);var Ci=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,D(n.units,"units"),n.activation=tr(void 0===t.activation?n.DEFAULT_ACTIVATION:t.activation),n.recurrentActivation=tr(void 0===t.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=Xe(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=Xe(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=Xe(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.kernelRegularizer=ur(t.kernelRegularizer),n.recurrentRegularizer=ur(t.recurrentRegularizer),n.biasRegularizer=ur(t.biasRegularizer),n.kernelConstraint=W(t.kernelConstraint),n.recurrentConstraint=W(t.recurrentConstraint),n.biasConstraint=W(t.biasConstraint),n.dropout=ue([1,le([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=ue([1,le([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.implementation=t.implementation,n.stateSize=n.units,n.dropoutMask=null,n.recurrentDropoutMask=null,n}return a(t,e),t.prototype.build=function(e){var t=(e=nt(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){if(2!==(e=e).length)throw new d("GRUCell expects 2 input Tensors (inputs, h, c), got "+e.length+".");var i=null!=t.training&&t.training,a=e[1];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Di((function(){return Object(r.Yb)(e)}),n.dropout,i,3)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Di((function(){return Object(r.Yb)(a)}),n.recurrentDropout,i,3));var o,s,u,l=n.dropoutMask,c=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=Object(r.Qb)(e,l[0]));var f=we(e,n.kernel.read());n.useBias&&(f=Te(f,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(a=Object(r.Qb)(a,c[0]));var h=n.recurrentKernel.read(),p=Object(r.Hc)(h,[2*n.units,n.units],h.rank-1),m=p[0],g=p[1],v=we(a,m),y=Object(r.Hc)(f,3,f.rank-1),b=y[0],w=y[1],S=y[2],x=Object(r.Hc)(v,2,v.rank-1),_=x[0],T=x[1];o=n.recurrentActivation.apply(Object(r.f)(b,_)),s=n.recurrentActivation.apply(Object(r.f)(w,T));var E=we(Object(r.Qb)(s,a),g);u=n.activation.apply(Object(r.f)(S,E));var k=Object(r.f)(Object(r.Qb)(o,a),Object(r.Qb)(Object(r.f)(1,Object(r.Tb)(o)),u));return[k,k]}))},t.prototype.getConfig=function(){var t={units:this.units,activation:$n(this.activation),recurrentActivation:$n(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Qe(this.kernelInitializer),recurrentInitializer:Qe(this.recurrentInitializer),biasInitializer:Qe(this.biasInitializer),kernelRegularizer:or(this.kernelRegularizer),recurrentRegularizer:or(this.recurrentRegularizer),biasRegularizer:or(this.biasRegularizer),activityRegularizer:or(this.activityRegularizer),kernelConstraint:V(this.kernelConstraint),recurrentConstraint:V(this.recurrentConstraint),biasConstraint:V(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="GRUCell",t}(Ti);r.sc.registerClass(Ci);var Ai=function(e){function t(t){return 0===t.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new Ci(t),e.call(this,t)||this}return a(t,e),t.prototype.call=function(t,n){var i=this;return Object(r.Wc)((function(){null!=i.cell.dropoutMask&&(Object(r.R)(i.cell.dropoutMask),i.cell.dropoutMask=null),null!=i.cell.recurrentDropoutMask&&(Object(r.R)(i.cell.recurrentDropoutMask),i.cell.recurrentDropoutMask=null);var a=null==n?null:n.mask,o=null==n?null:n.training,s=null==n?null:n.initialState;return e.prototype.call.call(i,t,{mask:a,training:o,initialState:s})}))},Object.defineProperty(t.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:$n(this.activation),recurrentActivation:$n(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Qe(this.kernelInitializer),recurrentInitializer:Qe(this.recurrentInitializer),biasInitializer:Qe(this.biasInitializer),kernelRegularizer:or(this.kernelRegularizer),recurrentRegularizer:or(this.recurrentRegularizer),biasRegularizer:or(this.biasRegularizer),activityRegularizer:or(this.activityRegularizer),kernelConstraint:V(this.kernelConstraint),recurrentConstraint:V(this.recurrentConstraint),biasConstraint:V(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)},t.className="GRU",t}(_i);r.sc.registerClass(Ai);var Oi=function(e){function t(t){var n=e.call(this,t)||this;return n.DEFAULT_ACTIVATION="tanh",n.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",n.DEFAULT_KERNEL_INITIALIZER="glorotNormal",n.DEFAULT_RECURRENT_INITIALIZER="orthogonal",n.DEFAULT_BIAS_INITIALIZER="zeros",n.units=t.units,D(n.units,"units"),n.activation=tr(void 0===t.activation?n.DEFAULT_ACTIVATION:t.activation),n.recurrentActivation=tr(void 0===t.recurrentActivation?n.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),n.useBias=null==t.useBias||t.useBias,n.kernelInitializer=Xe(t.kernelInitializer||n.DEFAULT_KERNEL_INITIALIZER),n.recurrentInitializer=Xe(t.recurrentInitializer||n.DEFAULT_RECURRENT_INITIALIZER),n.biasInitializer=Xe(t.biasInitializer||n.DEFAULT_BIAS_INITIALIZER),n.unitForgetBias=t.unitForgetBias,n.kernelRegularizer=ur(t.kernelRegularizer),n.recurrentRegularizer=ur(t.recurrentRegularizer),n.biasRegularizer=ur(t.biasRegularizer),n.kernelConstraint=W(t.kernelConstraint),n.recurrentConstraint=W(t.recurrentConstraint),n.biasConstraint=W(t.biasConstraint),n.dropout=ue([1,le([0,null==t.dropout?0:t.dropout])]),n.recurrentDropout=ue([1,le([0,null==t.recurrentDropout?0:t.recurrentDropout])]),n.implementation=t.implementation,n.stateSize=[n.units,n.units],n.dropoutMask=null,n.recurrentDropoutMask=null,n}return a(t,e),t.prototype.build=function(e){var t,n,r=(e=nt(e))[e.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var i=this.biasInitializer,o=this.units;n=new((t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.apply=function(e,t){var n=i.apply([o]),r=(new Me).apply([o]),a=i.apply([2*o]);return ve(ve(n,r),a)},t}(Oe)).className="CustomInit",t)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){var i=null!=t.training&&t.training;if(3!==(e=e).length)throw new d("LSTMCell expects 3 input Tensors (inputs, h, c), got "+e.length+".");var a=e[1],o=e[2];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Di((function(){return Object(r.Yb)(e)}),n.dropout,i,4)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Di((function(){return Object(r.Yb)(a)}),n.recurrentDropout,i,4));var s,u,l,c,f=n.dropoutMask,h=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=Object(r.Qb)(e,f[0]));var p=we(e,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(a=Object(r.Qb)(a,h[0])),p=Object(r.f)(p,we(a,n.recurrentKernel.read())),n.useBias&&(p=Te(p,n.bias.read()));var m=Object(r.Hc)(p,4,p.rank-1),g=m[0],v=m[1],y=m[2],b=m[3];s=n.recurrentActivation.apply(g),u=n.recurrentActivation.apply(v),l=Object(r.f)(Object(r.Qb)(u,o),Object(r.Qb)(s,n.activation.apply(y))),c=n.recurrentActivation.apply(b);var w=Object(r.Qb)(c,n.activation.apply(l));return[w,w,l]}))},t.prototype.getConfig=function(){var t={units:this.units,activation:$n(this.activation),recurrentActivation:$n(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Qe(this.kernelInitializer),recurrentInitializer:Qe(this.recurrentInitializer),biasInitializer:Qe(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:or(this.kernelRegularizer),recurrentRegularizer:or(this.recurrentRegularizer),biasRegularizer:or(this.biasRegularizer),activityRegularizer:or(this.activityRegularizer),kernelConstraint:V(this.kernelConstraint),recurrentConstraint:V(this.recurrentConstraint),biasConstraint:V(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.className="LSTMCell",t}(Ti);r.sc.registerClass(Oi);var Ii=function(e){function t(t){return 0===t.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new Oi(t),e.call(this,t)||this}return a(t,e),t.prototype.call=function(t,n){var i=this;return Object(r.Wc)((function(){null!=i.cell.dropoutMask&&(Object(r.R)(i.cell.dropoutMask),i.cell.dropoutMask=null),null!=i.cell.recurrentDropoutMask&&(Object(r.R)(i.cell.recurrentDropoutMask),i.cell.recurrentDropoutMask=null);var a=null==n?null:n.mask,o=null==n?null:n.training,s=null==n?null:n.initialState;return e.prototype.call.call(i,t,{mask:a,training:o,initialState:s})}))},Object.defineProperty(t.prototype,"units",{get:function(){return this.cell.units},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activation",{get:function(){return this.cell.activation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentActivation",{get:function(){return this.cell.recurrentActivation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useBias",{get:function(){return this.cell.useBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelInitializer",{get:function(){return this.cell.kernelInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentInitializer",{get:function(){return this.cell.recurrentInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasInitializer",{get:function(){return this.cell.biasInitializer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unitForgetBias",{get:function(){return this.cell.unitForgetBias},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelRegularizer",{get:function(){return this.cell.kernelRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentRegularizer",{get:function(){return this.cell.recurrentRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasRegularizer",{get:function(){return this.cell.biasRegularizer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kernelConstraint",{get:function(){return this.cell.kernelConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentConstraint",{get:function(){return this.cell.recurrentConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"biasConstraint",{get:function(){return this.cell.biasConstraint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropout",{get:function(){return this.cell.dropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurrentDropout",{get:function(){return this.cell.recurrentDropout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"implementation",{get:function(){return this.cell.implementation},enumerable:!0,configurable:!0}),t.prototype.getConfig=function(){var t={units:this.units,activation:$n(this.activation),recurrentActivation:$n(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Qe(this.kernelInitializer),recurrentInitializer:Qe(this.recurrentInitializer),biasInitializer:Qe(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:or(this.kernelRegularizer),recurrentRegularizer:or(this.recurrentRegularizer),biasRegularizer:or(this.biasRegularizer),activityRegularizer:or(this.activityRegularizer),kernelConstraint:V(this.kernelConstraint),recurrentConstraint:V(this.recurrentConstraint),biasConstraint:V(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},n=e.prototype.getConfig.call(this);return delete n.cell,Object.assign(t,n),t},t.fromConfig=function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)},t.className="LSTM",t}(_i);r.sc.registerClass(Ii);var Mi=function(e){function t(t){var n=e.call(this,t)||this;return n.cells=t.cells,n}return a(t,e),Object.defineProperty(t.prototype,"stateSize",{get:function(){for(var e=[],t=0,n=this.cells.slice().reverse();t<n.length;t++){var r=n[t];Array.isArray(r.stateSize)?e.push.apply(e,r.stateSize):e.push(r.stateSize)}return e},enumerable:!0,configurable:!0}),t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){for(var r=(e=e).slice(1),i=[],a=0,o=n.cells.slice().reverse();a<o.length;a++){var s=o[a];Array.isArray(s.stateSize)?i.push(r.splice(0,s.stateSize.length)):i.push(r.splice(0,1))}i.reverse();for(var u,l=[],c=0;c<n.cells.length;++c)s=n.cells[c],r=i[c],u=0===c?[e[0]].concat(r):[u[0]].concat(r),u=s.call(u,t),l.push(u.slice(1));r=[];for(var f=0,h=l.slice().reverse();f<h.length;f++){var d=h[f];r.push.apply(r,d)}return[u[0]].concat(r)}))},t.prototype.build=function(e){var t;$e(e)&&(e=e[0]),e=e,this.cells.forEach((function(n,r){ee("RNNCell_"+r,(function(){n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0},t.prototype.getConfig=function(){for(var t=[],n=0,r=this.cells;n<r.length;n++){var i=r[n];t.push({className:i.getClassName(),config:i.getConfig()})}var a={cells:t},o=e.prototype.getConfig.call(this);return Object.assign(a,o),a},t.fromConfig=function(e,t,n){void 0===n&&(n={});for(var r=[],i=0,a=t.cells;i<a.length;i++){var o=a[i];r.push(Ot(o,n))}return new e({cells:r})},Object.defineProperty(t.prototype,"trainableWeights",{get:function(){if(!this.trainable)return[];for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.trainableWeights)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.nonTrainableWeights)}if(!this.trainable){for(var i=[],a=0,o=this.cells;a<o.length;a++)r=o[a],i.push.apply(i,r.trainableWeights);return i.concat(e)}return e},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){for(var e=[],t=0,n=this.cells;t<n.length;t++){var r=n[t];e.push.apply(e,r.weights)}return ot(e)},t.prototype.setWeights=function(e){for(var t=[],n=0,r=this.cells;n<r.length;n++)for(var i=r[n],a=i.weights.length,o=e.splice(a),s=0;s<i.weights.length;++s)t.push([i.weights[s],o[s]]);st(t)},t.className="StackedRNNCells",t}(Ti);function Di(e,t,n,i){function a(){return Ee(e(),t)}if(void 0===n&&(n=null),void 0===i&&(i=1),i>1){for(var o=[],s=0;s<i;s++)o.push(ke(a,e,n));return o.map((function(e){return Object(r.rb)(e.clone())}))}return Object(r.rb)(ke(a,e,n).clone())}r.sc.registerClass(Mi);var Ri=function(e){function t(t){var n=e.call(this,t)||this;return n.layer=t.layer,n}return a(t,e),t.prototype.build=function(e){this.built=!0},Object.defineProperty(t.prototype,"trainable",{get:function(){return null!=this.layer&&this.layer.trainable},set:function(e){null!=this.layer&&(this.layer.trainable=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.layer.trainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.layer.nonTrainableWeights},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updates",{get:function(){return this.layer._updates},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"losses",{get:function(){return this.layer.losses},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){return this.layer.getWeights()},t.prototype.setWeights=function(e){this.layer.setWeights(e)},t.prototype.getConfig=function(){var t={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(t)},t.fromConfig=function(e,t,n){void 0===n&&(n={});var r=Ot(t.layer,n);delete t.layer;var i={layer:r};return Object.assign(i,t),new e(i)},t}(dt),Pi=function(e){function t(t){var n=e.call(this,t)||this;return n.supportsMasking=!0,n}return a(t,e),t.prototype.build=function(t){if((t=nt(t)).length<3)throw new d("TimeDistributed layer expects an input shape >= 3D, but received input shape "+JSON.stringify(t));this.inputSpec=[{shape:t}];var n=[t[0]].concat(t.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),e.prototype.build.call(this,t)},t.prototype.computeOutputShape=function(e){var t=[(e=nt(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){return xi((function(e,r){return[tt(n.layer.call(e,t)),[]]}),e=tt(e),[],!1,null,null,!1,!0)[1]}))},t.className="TimeDistributed",t}(Ri);r.sc.registerClass(Pi);var Ni=function(e){function t(t){var n=e.call(this,t)||this,r=t.layer.getConfig(),i={};i.className=t.layer.getClassName(),i.config=r,n.forwardLayer=Ot(i),r.goBackwards=!0!==r.goBackwards;var a={};if(a.className=t.layer.getClassName(),a.config=r,n.backwardLayer=Ot(a),n.forwardLayer.name="forward_"+n.forwardLayer.name,n.backwardLayer.name="backward_"+n.backwardLayer.name,n.mergeMode=void 0===t.mergeMode?"concat":t.mergeMode,function(e){I(X,"BidirectionalMergeMode",e)}(n.mergeMode),t.weights)throw new p("weights support is not implemented for Bidirectional layer yet.");return n._stateful=t.layer.stateful,n.returnSequences=t.layer.returnSequences,n.returnState=t.layer.returnState,n.supportsMasking=!0,n._trainable=!0,n.inputSpec=t.layer.inputSpec,n.numConstants=null,n}return a(t,e),Object.defineProperty(t.prototype,"trainable",{get:function(){return this._trainable},set:function(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)},enumerable:!0,configurable:!0}),t.prototype.getWeights=function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())},t.prototype.setWeights=function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))},t.prototype.computeOutputShape=function(e){var t,n,r,i=this.forwardLayer.computeOutputShape(e);return Array.isArray(i)&&Array.isArray(i[0])||(i=[i]),i=i,this.returnState?(r=i.slice(1),t=i[0]):t=i[0],t=t,"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):b(n)},t.prototype.apply=function(t,n){var r=null==n?null:n.initialState,i=null==n?null:n.constants;null==n&&(n={});var a=Si(t,r,i,this.numConstants);if(t=a.inputs,r=a.initialState,i=a.constants,Array.isArray(t)&&(r=t.slice(1),t=t[0]),(null==r||0===r.length)&&null==i)return e.prototype.apply.call(this,t,n);var o=[],s=[];if(null!=r){var u=r.length;if(u%2>0)throw new d("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,o.push.apply(o,r);var l=r.map((function(e){return new ut({shape:e.shape})}));this.forwardLayer.stateSpec=l.slice(0,u/2),this.backwardLayer.stateSpec=l.slice(u/2),s.push.apply(s,l)}if(null!=i)throw new p("Support for constants in Bidirectional layers is not implemented yet.");for(var c=o[0]instanceof lt,f=0,h=o;f<h.length;f++)if(h[f]instanceof lt!==c)throw new d("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(c){var m=[t].concat(o),g=this.inputSpec.concat(s),v=this.inputSpec;this.inputSpec=g;var y=e.prototype.apply.call(this,m,n);return this.inputSpec=v,y}return e.prototype.apply.call(this,t,n)},t.prototype.call=function(e,t){var n=this;return Object(r.Wc)((function(){var i,a,o,s,u=t.initialState;if(null==u)i=n.forwardLayer.call(e,t),a=n.backwardLayer.call(e,t);else{var l=u.slice(0,u.length/2),c=u.slice(u.length/2);i=n.forwardLayer.call(e,Object.assign(t,{initialState:l})),a=n.backwardLayer.call(e,Object.assign(t,{initialState:c}))}return n.returnState&&(Array.isArray(i)&&(o=i.slice(1).concat(a.slice(1))),i=i[0],a=a[0]),n.returnSequences&&(a=Object(r.kc)(a,1)),"concat"===n.mergeMode?s=ge([i,a]):"sum"===n.mergeMode?s=Object(r.f)(i,a):"ave"===n.mergeMode?s=Object(r.Qb)(.5,Object(r.f)(i,a)):"mul"===n.mergeMode?s=Object(r.Qb)(i,a):null==n.mergeMode&&(s=[i,a]),n.returnState?null==n.mergeMode?s.concat(o):[s].concat(o):s}))},t.prototype.resetStates=function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()},t.prototype.build=function(e){var t=this;ee(this.forwardLayer.name,(function(){t.forwardLayer.build(e)})),ee(this.backwardLayer.name,(function(){t.backwardLayer.build(e)})),this.built=!0},t.prototype.computeMask=function(e,t){var n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){var r=this.forwardLayer.states.map((function(e){return null}));return Array.isArray(n)?n.concat(r).concat(r):[n].concat(r).concat(r)}return n},Object.defineProperty(t.prototype,"trainableWeights",{get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonTrainableWeights",{get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)},enumerable:!0,configurable:!0}),t.prototype.setFastWeightInitDuringBuild=function(t){e.prototype.setFastWeightInitDuringBuild.call(this,t),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(t),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(t)},t.prototype.getConfig=function(){var t={mergeMode:this.mergeMode},n=e.prototype.getConfig.call(this);return Object.assign(t,n),t},t.fromConfig=function(e,t){var n=Ot(t.layer);if(delete t.layer,null!=t.numConstants)throw new p("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=t;return r.layer=n,new e(r)},t.className="Bidirectional",t}(Ri);function Li(e){return new ui(e)}function Fi(e){return new fi(e)}function Bi(e){return new pi(e)}function zi(e){return new vi(e)}function Ui(e){return new wi(e)}function ji(e){return new si(e)}function Vi(e){return new ci(e)}r.sc.registerClass(Ni);var Gi=zi,Wi=Ui,Hi=ji,qi=Vi;Object.freeze({inputLayer:function(e){return new vt(e)},elu:function(e){return new hr(e)},reLU:function(e){return new lr(e)},leakyReLU:function(e){return new cr(e)},prelu:function(e){return new fr(e)},softmax:function(e){return new pr(e)},thresholdedReLU:function(e){return new dr(e)},conv1d:function(e){return new Cr(e)},conv2d:function(e){return new _r(e)},conv2dTranspose:function(e){return new Er(e)},conv3d:function(e){return new Tr(e)},separableConv2d:function(e){return new kr(e)},cropping2D:function(e){return new Ar(e)},upSampling2d:function(e){return new Or(e)},depthwiseConv2d:function(e){return new Ir(e)},activation:function(e){return new Nr(e)},dense:function(e){return new Rr(e)},dropout:function(e){return new Mr(e)},spatialDropout1d:function(e){return new Dr(e)},flatten:function(e){return new Pr(e)},repeatVector:function(e){return new Lr(e)},reshape:function(e){return new Fr(e)},permute:function(e){return new Br(e)},embedding:function(e){return new Ur(e)},add:function(e){return new Vr(e)},average:function(e){return new Wr(e)},concatenate:function(e){return new Qr(e)},maximum:function(e){return new Hr(e)},minimum:function(e){return new qr(e)},multiply:function(e){return new Gr(e)},dot:function(e){return new Yr(e)},batchNormalization:function(e){return new ti(e)},layerNormalization:function(e){return new ni(e)},zeroPadding2d:function(e){return new ri(e)},averagePooling1d:Li,avgPool1d:function(e){return Li(e)},avgPooling1d:function(e){return Li(e)},averagePooling2d:Fi,avgPool2d:function(e){return Fi(e)},avgPooling2d:function(e){return Fi(e)},averagePooling3d:Bi,avgPool3d:function(e){return Bi(e)},avgPooling3d:function(e){return Bi(e)},globalAveragePooling1d:function(e){return new gi(e)},globalAveragePooling2d:function(e){return new bi(e)},globalMaxPooling1d:zi,globalMaxPooling2d:Ui,maxPooling1d:ji,maxPooling2d:Vi,maxPooling3d:function(e){return new di(e)},gru:function(e){return new Ai(e)},gruCell:function(e){return new Ci(e)},lstm:function(e){return new Ii(e)},lstmCell:function(e){return new Oi(e)},simpleRNN:function(e){return new ki(e)},simpleRNNCell:function(e){return new Ei(e)},rnn:function(e){return new _i(e)},stackedRNNCells:function(e){return new Mi(e)},bidirectional:function(e){return new Ni(e)},timeDistributed:function(e){return new Pi(e)},globalMaxPool1d:Gi,globalMaxPool2d:Wi,maxPool1d:Hi,maxPool2d:qi,Layer:dt,RNN:_i,RNNCell:Ti,input:function(e){return yt(e)},gaussianNoise:function(e){return new Kr(e)},gaussianDropout:function(e){return new Zr(e)},alphaDropout:function(e){return new Jr(e)},masking:function(e){return new zr(e)}});Object.freeze({binaryAccuracy:function(e,t){return Ut(e,t)},binaryCrossentropy:function(e,t){return Ht(e,t)},sparseCategoricalAccuracy:function(e,t){return qt(e,t)},categoricalAccuracy:function(e,t){return jt(e,t)},categoricalCrossentropy:function(e,t){return Qt(e,t)},precision:function(e,t){return Gt(e,t)},recall:function(e,t){return Wt(e,t)},cosineProximity:function(e,t){return Ft(e,t)},meanAbsoluteError:function(e,t){return Dt(e,t)},meanAbsolutePercentageError:function(e,t){return Rt(e,t)},MAPE:function(e,t){return Rt(e,t)},mape:function(e,t){return Rt(e,t)},meanSquaredError:function(e,t){return Mt(e,t)},MSE:function(e,t){return Mt(e,t)},mse:function(e,t){return Mt(e,t)}}),Object.freeze({modelFromJSON:function(e,t){return u(this,void 0,void 0,(function(){var n,i,a,o,s,u,c,f;return l(this,(function(l){switch(l.label){case 0:return"modelTopology"in e||(e={modelTopology:e}),null!=(n=(e=e).modelTopology).model_config&&(n=n.model_config),i=on(n),a=Ot(i,t),null==e.weightsManifest?[3,2]:[4,r.pb.loadWeights(e.weightsManifest,e.pathPrefix,a.weights.map((function(e){return e.originalName})))];case 1:for(o=l.sent(),s={},u=0,c=a.weights;u<c.length;u++)f=c[u],s[f.originalName]=o[f.originalName];a.loadWeights(s),Object(r.R)(o),l.label=2;case 2:return[2,a]}}))}))}});Object.freeze({l1l2:function(e){return new ir(e)},l1:function(e){return function(e){return nr(e),new ir({l1:null!=e?e.l1:null,l2:0})}(e)},l2:function(e){return function(e){return nr(e),new ir({l2:null!=e?e.l2:null,l1:0})}(e)}});function Qi(e,t){return e<t}function Xi(e,t){return e>t}!function(e){function t(t){var n=e.call(this)||this;if(null==t&&(t={}),t.restoreBestWeights)throw new p("restoreBestWeights = True is not implemented in EarlyStopping yet.");return n.monitor=t.monitor||"val_loss",n.minDelta=Math.abs(t.minDelta||0),n.patience=t.patience||0,n.verbose=t.verbose||0,n.mode=t.mode||"auto",n.baseline=t.baseline,-1===["auto","min","max"].indexOf(n.mode)&&(console.warn("EarlyStopping mode '"+n.mode+"' is invalid. Falling back to mode 'auto'."),n.mode="auto"),"min"===n.mode?n.monitorFunc=Qi:"max"===n.mode||-1!==n.monitor.indexOf("acc")?n.monitorFunc=Xi:n.monitorFunc=Qi,n.monitorFunc===Qi&&(n.minDelta*=-1),n}a(t,e),t.prototype.onTrainBegin=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(e){return this.wait=0,this.stoppedEpoch=0,null!=this.baseline?this.best=this.baseline:this.best=this.monitorFunc===Qi?1/0:-1/0,[2]}))}))},t.prototype.onEpochEnd=function(e,t){return u(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return[4,bt(t)];case 1:return r.sent(),null==(n=this.getMonitorValue(t))||(this.monitorFunc(n-this.minDelta,this.best)?(this.best=n,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=e,this.model.stopTraining=!0))),[2]}}))}))},t.prototype.onTrainEnd=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(e){return this.stoppedEpoch>0&&this.verbose&&console.log("Epoch "+this.stoppedEpoch+": early stopping."),[2]}))}))},t.prototype.getMonitorValue=function(e){null==e&&(e={});var t=e[this.monitor];return null==t&&console.warn("Metric for EarlyStopping "+this.monitor+" is not available. Available metrics are: "+Object.keys(e)),t}}(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.model=null,t}return a(t,e),t.prototype.setModel=function(e){if(!(e instanceof Ln))throw new Error("model must be a LayersModel, not some other Container");this.model=e},t}(St));var Yi=n(62),Ki=n(63);r.fd,Ki.a,Yi.a},function(e,t,n){(t=e.exports=n(93)).Stream=t,t.Readable=t,t.Writable=n(78),t.Duplex=n(38),t.Transform=n(97),t.PassThrough=n(156)},function(e,t,n){"use strict";(function(t){"undefined"===typeof t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return t.nextTick((function(){e.apply(null,a)}))}}}:e.exports=t}).call(this,n(23))},function(e,t,n){var r=n(32),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),a(i,o),o.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.Utils=r.lossless.Utils||{},r.lossless.Utils.createArray=function(e){var t=new Array(e||0),n=e;if(arguments.length>1)for(var i=Array.prototype.slice.call(arguments,1);n--;)t[e-1-n]=r.lossless.Utils.createArray.apply(this,i);return t},r.lossless.Utils.makeCRCTable=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t},r.lossless.Utils.crc32=function(e){for(var t=new Uint8Array(e.buffer),n=r.lossless.Utils.crcTable||(r.lossless.Utils.crcTable=r.lossless.Utils.makeCRCTable()),i=-1,a=0;a<t.length;a++)i=i>>>8^n[255&(i^t[a])];return(-1^i)>>>0},"undefined"!==typeof e&&e.exports&&(e.exports=r.lossless.Utils)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(177),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ie}));var r,i,a,o=n(0),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function u(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(a=r||(r={}))[a.DT_INVALID=0]="DT_INVALID",a[a.DT_FLOAT=1]="DT_FLOAT",a[a.DT_DOUBLE=2]="DT_DOUBLE",a[a.DT_INT32=3]="DT_INT32",a[a.DT_UINT8=4]="DT_UINT8",a[a.DT_INT16=5]="DT_INT16",a[a.DT_INT8=6]="DT_INT8",a[a.DT_STRING=7]="DT_STRING",a[a.DT_COMPLEX64=8]="DT_COMPLEX64",a[a.DT_INT64=9]="DT_INT64",a[a.DT_BOOL=10]="DT_BOOL",a[a.DT_QINT8=11]="DT_QINT8",a[a.DT_QUINT8=12]="DT_QUINT8",a[a.DT_QINT32=13]="DT_QINT32",a[a.DT_BFLOAT16=14]="DT_BFLOAT16",a[a.DT_FLOAT_REF=101]="DT_FLOAT_REF",a[a.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",a[a.DT_INT32_REF=103]="DT_INT32_REF",a[a.DT_UINT8_REF=104]="DT_UINT8_REF",a[a.DT_INT16_REF=105]="DT_INT16_REF",a[a.DT_INT8_REF=106]="DT_INT8_REF",a[a.DT_STRING_REF=107]="DT_STRING_REF",a[a.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",a[a.DT_INT64_REF=109]="DT_INT64_REF",a[a.DT_BOOL_REF=110]="DT_BOOL_REF",a[a.DT_QINT8_REF=111]="DT_QINT8_REF",a[a.DT_QUINT8_REF=112]="DT_QUINT8_REF",a[a.DT_QINT32_REF=113]="DT_QINT32_REF",a[a.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(i||(i={}));var c={};function f(e){return c[e]}function h(e,t,n,r){var i=t.inputParams[e];if(i&&void 0!==i.inputIndexStart){var a=i.inputIndexStart,o=0===i.inputIndexEnd?void 0:void 0===i.inputIndexEnd?a+1:i.inputIndexEnd;if("tensor"===i.type)return d(t.inputNames[i.inputIndexStart],n,r);if("tensors"===i.type)return t.inputNames.slice(a,o).map((function(e){return d(e,n,r)}));var s=Array.prototype.slice.call(d(t.inputNames.slice(a)[0],n,r).dataSync());return"number"===i.type?s[0]:s}var u=t.attrParams[e];return u&&u.value}function d(e,t,n){var r=g(e),i=r[0],a=r[1],o=n.currentContextIds.find((function(e){return!!t[m(i,e)]}));return void 0!==o?t[m(i,o)][a]:void 0}function p(e,t){var n=g(e),r=n[0],i=n[1];return[m(r,t&&t.currentContextId),i]}function m(e,t){return t?e+"-"+t:e}function g(e){var t=e.lastIndexOf(":");return-1===t?[e,0]:[e.substring(0,t),Number(e.substring(t+1))]}function v(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}var y=Object.freeze({json:[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),b=Object.freeze({json:[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"clip_value_min",name:"clipValueMin",type:"number"},{tfName:"clip_value_max",name:"clipValueMax",type:"number"}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"clipValueMin",name:"clipValueMin",type:"number",defaultValue:0},{tfName:"clipValueMax",name:"clipValueMax",type:"number",defaultValue:6}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),w=Object.freeze({json:[{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"}]}]}),S=Object.freeze({json:[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]}]}),x=Object.freeze({json:[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]}),_=Object.freeze({json:[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),T=Object.freeze({json:[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]}]}),E=Object.freeze({json:[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]}),k=Object.freeze({json:[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}]}),C=Object.freeze({json:[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),A=Object.freeze({json:[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]}),O=Object.freeze({json:[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}]}),I=Object.freeze({json:[{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]}]}),M=Object.freeze({json:[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool",notSupported:!0}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}]}),D=Object.freeze({json:[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]}),R=Object.freeze({json:[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]}]}),P=function(){function e(){var e=[y,b,w,S,x,_,T,C,k,E,A,O,I,M,D,R],t=[].concat.apply([],e.map((function(e){return e.json})));this.opMappers=t.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return Object.defineProperty(e,"Instance",{get:function(){return this._instance||(this._instance=new this)},enumerable:!0,configurable:!0}),e.prototype.transformGraph=function(e,t){var n=this;void 0===t&&(t={});var r=[],i=[],a=e.node.reduce((function(e,t){return e[t.name]=n.mapNode(t),t.op.startsWith("Placeholder")&&r.push(e[t.name]),"Const"===t.op&&i.push(e[t.name]),e}),{}),o=[],s=[],u={},l={};null!=t&&(u=this.mapSignatureEntries(t.inputs),l=this.mapSignatureEntries(t.outputs));var c=Object.keys(a);return c.forEach((function(e){var t=a[e];t.inputNames.forEach((function(e){var n=p(e)[0];t.inputs.push(a[n]),a[n].children.push(t)}))})),0===Object.keys(l).length?c.forEach((function(e){var t=a[e];0===t.children.length&&s.push(t)})):Object.keys(l).forEach((function(e){var t=p(e)[0],n=a[t];null!=n&&(n.signatureKey=l[e],s.push(n))})),Object.keys(u).length>0?Object.keys(u).forEach((function(e){var t=p(e)[0],n=a[t];n&&(n.signatureKey=u[e],o.push(n))})):o=r,{nodes:a,inputs:o,outputs:s,weights:i,placeholders:r,signature:t}},e.prototype.mapSignatureEntries=function(e){return Object.keys(e||{}).reduce((function(t,n){return t[e[n].name]=n,t}),{})},e.prototype.mapNode=function(e){var t=f(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.substr(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r=n.type,i=void 0;switch(n.type){case"string":void 0===(i=L(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=L(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(i=H(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=H(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(i=B(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(i=B(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(i=W(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=W(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(i=F(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=F(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(i=Q(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=Q(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(i=G(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=G(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(i=q(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=q(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(i=U(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=U(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(i=j(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(i=j(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: "+n.type+" for op: "+e.op)}return t[n.name]={value:i,type:r},t}),{})),n},e}();function N(t,n){var r=Array.isArray(t)?String.fromCharCode.apply(null,t):function(t){var n=Object(o.W)().global;if(void 0!==n.atob)return n.atob(t);if("undefined"!=typeof e)return new e(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(t);return n?r:r.toLowerCase()}function L(e,t,n,r){void 0===r&&(r=!1);var i=e[t];return null!=i?N(i.s,r):n}function F(e,t,n){var r=e[t];return r?r.b:n}function B(e,t,n){var r=e[t]||{},i=null!=r.i?r.i:null!=r.f?r.f:n;return"number"==typeof i?i:parseInt(i,10)}function z(e){switch("string"==typeof e&&(e=r[e]),e){case r.DT_FLOAT:return"float32";case r.DT_INT32:case r.DT_INT64:case r.DT_INT8:case r.DT_UINT8:return"int32";case r.DT_BOOL:return"bool";case r.DT_DOUBLE:return"float32";case r.DT_STRING:return"string";default:return null}}function U(e,t,n){var r=e[t];return r&&r.type?z(r.type):n}function j(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return z(e)})):n}function V(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"==typeof e.size?e.size:parseInt(e.size,10)})):[]}function G(e,t,n){var r=e[t];return r&&r.shape?V(r.shape):n}function W(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"==typeof e?e:parseInt(e,10)})):n}function H(e,t,n,r){void 0===r&&(r=!1);var i=e[t];return i&&i.list&&i.list.s?i.list.s.map((function(e){return N(e,r)})):n}function q(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return V(e)})):n}function Q(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}var X=function(){function e(e,t,n){var r=this;this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((function(e){return r.getInput(e)})),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce((function(e,t){return e[t]=r.getAttr(t),e}),{}))}return e.prototype.getInput=function(e){return d(e,this.tensorMap,this.context)},e.prototype.getAttr=function(e,t){var n=this.node.rawAttrs[e];if(null!=n.tensor)return d(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return B(this.node.rawAttrs,e,t);if(null!=n.s)return L(this.node.rawAttrs,e,t);if(null!=n.b)return F(this.node.rawAttrs,e,t);if(null!=n.shape)return G(this.node.rawAttrs,e,t);if(null!=n.type)return U(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return W(this.node.rawAttrs,e,t);if(null!=n.list.s)return H(this.node.rawAttrs,e,t);if(null!=n.list.shape)return q(this.node.rawAttrs,e,t);if(null!=n.list.b)return Q(this.node.rawAttrs,e,t);if(null!=n.list.type)return j(this.node.rawAttrs,e,t)}return t},e}(),Y=function(){function e(t,n,r,i,a,o,s){this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=i,this.identicalElementShapes=a,this.dynamicSize=o,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.id=e.nextId++}return Object.defineProperty(e.prototype,"closed",{get:function(){return this.closed_},enumerable:!0,configurable:!0}),e.prototype.clearAndClose=function(){this.tensors.forEach((function(e){return e.tensor.dispose()})),this.tensors=[],this.closed_=!0},e.prototype.size=function(){return this.tensors.length},e.prototype.read=function(e){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||e>=this.tensors.length)throw new Error("Tried to read from index "+e+", but array size is: "+this.tensors.length);var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray "+this.name+": Could not read index "+e+" twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor},e.prototype.readMany=function(e){var t=this;return e.map((function(e){return t.read(e)}))},e.prototype.write=function(e,t){if(this.closed_)throw new Error("TensorArray "+this.name+" has already been closed.");if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index "+e+", but array is not resizeable and size is: "+this.maxSize);var n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+",\n          because the value dtype is "+t.dtype+", but TensorArray dtype is "+this.dtype+".");if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),this.assertShapesMatchAllowUndefinedSize(this.elementShape,t.shape,"TensorArray "+this.name+": Could not write to TensorArray index "+e+"."),n&&n.read)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been read.");if(n&&n.written)throw new Error("TensorArray "+this.name+": Could not write to TensorArray index "+e+", because it has already been written.");n.tensor=t,n.written=!0,this.tensors[e]=n},e.prototype.writeMany=function(e,t){var n=this;if(e.length!==t.length)throw new Error("TensorArray "+this.name+": could not write multiple tensors,because the index size: "+e.length+" is not the same as tensors size: "+t.length+".");e.forEach((function(e,r){return n.write(e,t[r])}))},e.prototype.gather=function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but gather requested dtype "+t);if(!e){e=[];for(var n=0;n<this.size();n++)e.push(n)}if(0===e.length)return Object(o.Sc)([],[0].concat(this.elementShape));var r=this.readMany(e);return this.assertShapesMatchAllowUndefinedSize(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),Object(o.Mc)(r,0)},e.prototype.concat=function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but concat requested dtype "+e);if(0===this.size())return Object(o.Sc)([],[0].concat(this.elementShape));for(var t=[],n=0;n<this.size();n++)t.push(n);var r=this.readMany(t);return this.assertShapesMatchAllowUndefinedSize(this.elementShape,r[0].shape,"TensorArray shape mismatch: tensor array shape ("+this.elementShape+") vs first tensor shape ("+r[0].shape+")"),Object(o.D)(r,0)},e.prototype.scatter=function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+t.dtype);if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: "+e.length+" vs. "+t.shape[0]);var n=Math.max.apply(Math,e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size ("+n+"  vs. "+this.maxSize+")");this.writeMany(e,Object(o.cd)(t,0))},e.prototype.split=function(e,t){var n=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is "+this.dtype+" but tensor has dtype "+t.dtype);var r=0,i=e.map((function(e){return r+=e}));if(r!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        "+r+", and tensor's shape is: "+t.shape);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths ("+this.maxSize+" vs. "+e.length+"), and the TensorArray is not marked as dynamically resizeable");var a=0===r?0:t.size/r,s=[];Object(o.Wc)((function(){t=t.reshape([1,r,a]);for(var u=0;u<e.length;++u){var l=[0,0===u?0:i[u-1],0],c=[1,e[u],a];s[u]=Object(o.yc)(t,l,c).reshape(n.elementShape)}return s}));for(var u=[],l=0;l<e.length;l++)u[l]=l;this.writeMany(u,s)},e.prototype.assertShapesMatchAllowUndefinedSize=function(e,t,n){void 0===n&&(n=""),o.dd.assert(this.shapesEqualAllowUndefinedSize(e,t),(function(){return n+" Shapes "+e+" and "+t+" must match"}))},e.prototype.shapesEqualAllowUndefinedSize=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(-1!==e[n]&&-1!==t[n]&&e[n]!==t[n])return!1;return!0},e.nextId=0,e}();function K(e,t,n){var r=function(e,t,n){switch(e.category){case"arithmetic":return Object(o.Wc)((function(){return function(e,t,n){switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[Object(o.f)(h("a",e,t,n),h("b",e,t,n))];case"AddN":return[Object(o.g)(h("tensors",e,t,n))];case"FloorMod":case"Mod":return[Object(o.Ob)(h("a",e,t,n),h("b",e,t,n))];case"Mul":return[Object(o.Qb)(h("a",e,t,n),h("b",e,t,n))];case"RealDiv":case"Div":return[Object(o.S)(h("a",e,t,n),h("b",e,t,n))];case"DivNoNan":return[Object(o.T)(h("a",e,t,n),h("b",e,t,n))];case"FloorDiv":return[Object(o.gb)(h("a",e,t,n),h("b",e,t,n))];case"Sub":return[Object(o.Oc)(h("a",e,t,n),h("b",e,t,n))];case"Minimum":return[Object(o.Nb)(h("a",e,t,n),h("b",e,t,n))];case"Maximum":return[Object(o.Jb)(h("a",e,t,n),h("b",e,t,n))];case"Pow":return[Object(o.ac)(h("a",e,t,n),h("b",e,t,n))];case"SquaredDifference":return[Object(o.Kc)(h("a",e,t,n),h("b",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"basic_math":return Object(o.Wc)((function(){return function(e,t,n){switch(e.op){case"Abs":case"ComplexAbs":return[Object(o.c)(h("x",e,t,n))];case"Acos":return[Object(o.d)(h("x",e,t,n))];case"Acosh":return[Object(o.e)(h("x",e,t,n))];case"Asin":return[Object(o.l)(h("x",e,t,n))];case"Asinh":return[Object(o.m)(h("x",e,t,n))];case"Atan":return[Object(o.n)(h("x",e,t,n))];case"Atan2":return[Object(o.o)(h("x",e,t,n),h("y",e,t,n))];case"Atanh":return[Object(o.p)(h("x",e,t,n))];case"Ceil":return[Object(o.A)(h("x",e,t,n))];case"Complex":return[Object(o.C)(h("real",e,t,n),h("imag",e,t,n))];case"Cos":return[Object(o.M)(h("x",e,t,n))];case"Cosh":return[Object(o.N)(h("x",e,t,n))];case"Elu":return[Object(o.V)(h("x",e,t,n))];case"Erf":return[Object(o.Y)(h("x",e,t,n))];case"Exp":return[Object(o.Z)(h("x",e,t,n))];case"Expm1":return[Object(o.bb)(h("x",e,t,n))];case"Floor":return[Object(o.fb)(h("x",e,t,n))];case"Log":return[Object(o.yb)(h("x",e,t,n))];case"Log1p":return[Object(o.zb)(h("x",e,t,n))];case"Imag":return[Object(o.nb)(h("x",e,t,n))];case"Neg":return[Object(o.Tb)(h("x",e,t,n))];case"Reciprocal":return[Object(o.hc)(h("x",e,t,n))];case"Real":return[Object(o.gc)(h("x",e,t,n))];case"Relu":return[Object(o.ic)(h("x",e,t,n))];case"Round":return[Object(o.mc)(h("x",e,t,n))];case"Selu":return[Object(o.qc)(h("x",e,t,n))];case"Sigmoid":return[Object(o.uc)(h("x",e,t,n))];case"Sin":return[Object(o.wc)(h("x",e,t,n))];case"Sign":return[Object(o.vc)(h("x",e,t,n))];case"Sinh":return[Object(o.xc)(h("x",e,t,n))];case"Softplus":return[Object(o.Ec)(h("x",e,t,n))];case"Sqrt":return[Object(o.Ic)(h("x",e,t,n))];case"Square":return[Object(o.Jc)(h("x",e,t,n))];case"Tanh":return[Object(o.Rc)(h("x",e,t,n))];case"Tan":return[Object(o.Qc)(h("x",e,t,n))];case"Relu6":case"ClipByValue":return[Object(o.B)(h("x",e,t,n),h("clipValueMin",e,t,n),h("clipValueMax",e,t,n))];case"Rsqrt":return[Object(o.nc)(d(e.inputNames[0],t,n))];case"Prod":return[Object(o.cc)(h("x",e,t,n),h("axes",e,t,n))];case"LeakyRelu":return[Object(o.sb)(h("x",e,t,n),h("alpha",e,t,n))];case"Prelu":return[Object(o.bc)(h("x",e,t,n),h("alpha",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"control":return function(e,t,n){return u(void 0,void 0,void 0,(function(){var r,i,a,s,u,c,f,p,m,g,v,y,b,w,S,x,_,T,E,k,C,A,O,I,M,D,R,P,N,L,F,B,z,U,j;return l(this,(function(l){switch(l.label){case 0:switch(e.op){case"LoopCond":return[3,1];case"Switch":return[3,2];case"Merge":return[3,4];case"Enter":return[3,5];case"Exit":return[3,6];case"NextIteration":return[3,7];case"TensorArrayV3":return[3,8];case"TensorArrayWriteV3":return[3,9];case"TensorArrayReadV3":return[3,10];case"TensorArrayGatherV3":return[3,11];case"TensorArrayScatterV3":return[3,12];case"TensorArrayConcatV3":return[3,13];case"TensorArraySplitV3":return[3,14];case"TensorArraySizeV3":return[3,15];case"TensorArrayCloseV3":return[3,16]}return[3,17];case 1:return[2,[h("pred",e,t,n).clone()]];case 2:return r=h("pred",e,t,n),i=h("data",e,t,n),[4,r.data()];case 3:return[2,l.sent()[0]?[void 0,i.clone()]:[i.clone(),void 0]];case 4:return[2,(a=e.inputNames.find((function(e){return void 0!==d(e,t,n)})))?[d(a,t,n).clone()]:void 0];case 5:return s=h("frameName",e,t,n),u=h("tensor",e,t,n),n.enterFrame(s),[2,[u.clone()]];case 6:return c=h("tensor",e,t,n),n.exitFrame(),[2,[c.clone()]];case 7:return f=h("tensor",e,t,n),n.nextIteration(),[2,[f.clone()]];case 8:return p=h("size",e,t,n),m=h("dtype",e,t,n),g=h("elementShape",e,t,n),v=h("dynamicSize",e,t,n),y=h("clearAfterRead",e,t,n),b=h("identicalElementShapes",e,t,n),w=h("name",e,t,n),S=new Y(w,m,p,g,b,v,y),n.addTensorArray(S),[2,[Object(o.oc)(S.id),Object(o.oc)(1)]];case 9:return x=h("tensorArrayId",e,t,n),_=h("index",e,t,n),T=h("tensor",e,t,n),n.getTensorArray(x).write(_,T),[2,[Object(o.oc)(1)]];case 10:return E=h("tensorArrayId",e,t,n),k=h("index",e,t,n),[2,[n.getTensorArray(E).read(k)]];case 11:return C=h("tensorArrayId",e,t,n),A=h("indices",e,t,n),O=h("dtype",e,t,n),[2,[n.getTensorArray(C).gather(A,O)]];case 12:return I=h("tensorArrayId",e,t,n),M=h("indices",e,t,n),D=h("tensor",e,t,n),n.getTensorArray(I).scatter(M,D),[2,[Object(o.oc)(1)]];case 13:return R=h("tensorArrayId",e,t,n),P=n.getTensorArray(R),N=h("dtype",e,t,n),[2,[P.concat(N)]];case 14:return L=h("tensorArrayId",e,t,n),F=h("tensor",e,t,n),B=h("lengths",e,t,n),n.getTensorArray(L).split(B,F),[2,[Object(o.oc)(1)]];case 15:return z=h("tensorArrayId",e,t,n),U=n.getTensorArray(z),[2,[Object(o.oc)(U.size(),"int32")]];case 16:return j=h("tensorArrayId",e,t,n),n.getTensorArray(j).clearAndClose(),[2,[Object(o.oc)(0)]];case 17:throw TypeError("Node type "+e.op+" is not implemented")}}))}))}(e,t,n);case"convolution":return Object(o.Wc)((function(){return function(e,t,n){switch(e.op){case"Conv1D":var r=h("stride",e,t,n),i=h("pad",e,t,n),a=h("dataFormat",e,t,n).toUpperCase(),s=h("dilation",e,t,n);return[Object(o.I)(h("x",e,t,n),h("filter",e,t,n),r,i,a,s)];case"Conv2D":r=h("strides",e,t,n),i=h("pad",e,t,n),a=h("dataFormat",e,t,n).toUpperCase();var u=h("dilations",e,t,n);return[Object(o.J)(h("x",e,t,n),h("filter",e,t,n),[r[1],r[2]],i,a,[u[1],u[2]])];case"_FusedConv2D":case"FusedDepthwiseConv2dNative":var l=h("fusedOps",e,t,n),c=l[0],f=l[1],d="biasadd"===c,p="prelu"===f,m="fusedbatchnorm"===c,g=h("numArgs",e,t,n);if(d){if(p&&2!==g)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!p&&1!==g)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(m)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported.");r=h("strides",e,t,n),i=h("pad",e,t,n),a=h("dataFormat",e,t,n).toUpperCase(),u=h("dilations",e,t,n);var v=h("args",e,t,n),y=v[0],b=v[1];return[("_FusedConv2D"===e.op?o.hb.conv2d:o.hb.depthwiseConv2d)({x:h("x",e,t,n),filter:h("filter",e,t,n),strides:[r[1],r[2]],pad:i,dataFormat:a,dilations:[u[1],u[2]],bias:y,activation:f,preluActivationWeights:b})];case"Conv2DBackpropInput":case"Conv2dTranspose":var w=h("outputShape",e,t,n);return r=h("strides",e,t,n),i=h("pad",e,t,n),[Object(o.K)(h("x",e,t,n),h("filter",e,t,n),w,[r[1],r[2]],i)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":return r=h("strides",e,t,n),i=h("pad",e,t,n),u=h("dilations",e,t,n),a=h("dataFormat",e,t,n).toUpperCase(),[Object(o.Q)(h("input",e,t,n),h("filter",e,t,n),[r[1],r[2]],i,a,[u[1],u[2]])];case"Conv3D":return r=h("strides",e,t,n),i=h("pad",e,t,n),a=h("dataFormat",e,t,n).toUpperCase(),u=h("dilations",e,t,n),[Object(o.L)(h("x",e,t,n),h("filter",e,t,n),[r[1],r[2],r[3]],i,a,[u[1],u[2],u[3]])];case"AvgPool":r=h("strides",e,t,n),i=h("pad",e,t,n);var S=h("kernelSize",e,t,n);return[Object(o.q)(h("x",e,t,n),[S[1],S[2]],[r[1],r[2]],i)];case"MaxPool":return r=h("strides",e,t,n),i=h("pad",e,t,n),S=h("kernelSize",e,t,n),[Object(o.Gb)(h("x",e,t,n),[S[1],S[2]],[r[1],r[2]],i)];case"MaxPoolWithArgmax":r=h("strides",e,t,n),i=h("pad",e,t,n),S=h("kernelSize",e,t,n);var x=h("includeBatchInIndex",e,t,n),_=Object(o.Ib)(h("x",e,t,n),[S[1],S[2]],[r[1],r[2]],i,x);return[_.result,_.indexes];case"AvgPool3D":return r=h("strides",e,t,n),i=h("pad",e,t,n),S=h("kernelSize",e,t,n),[Object(o.r)(h("x",e,t,n),[S[1],S[2],S[3]],[r[1],r[2],r[3]],i)];case"MaxPool3D":return r=h("strides",e,t,n),i=h("pad",e,t,n),S=h("kernelSize",e,t,n),[Object(o.Hb)(h("x",e,t,n),[S[1],S[2],S[3]],[r[1],r[2],r[3]],i)];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"creation":return Object(o.Wc)((function(){return function(e,t,n){switch(e.op){case"Fill":var r=h("shape",e,t,n),i=h("dtype",e,t,n),a=h("value",e,t,n);return[Object(o.eb)(r,a,i)];case"LinSpace":var s=h("start",e,t,n),u=h("stop",e,t,n),l=h("num",e,t,n);return[Object(o.wb)(s,u,l)];case"Multinomial":var c=h("logits",e,t,n),f=h("numSamples",e,t,n),d=h("seed",e,t,n);return[Object(o.Sb)(c,f,d)];case"OneHot":var p=h("indices",e,t,n),m=h("depth",e,t,n),g=h("onValue",e,t,n),v=h("offValue",e,t,n);return[Object(o.Wb)(p,m,g,v)];case"Ones":return[Object(o.Xb)(h("shape",e,t,n),h("dtype",e,t,n))];case"OnesLike":return[Object(o.Yb)(h("x",e,t,n))];case"RandomUniform":return[Object(o.ec)(h("shape",e,t,n),h("minval",e,t,n),h("maxval",e,t,n),h("dtype",e,t,n))];case"Range":s=h("start",e,t,n);var y=h("stop",e,t,n),b=h("step",e,t,n);return[Object(o.fc)(s,y,b,h("dtype",e,t,n))];case"TruncatedNormal":r=h("shape",e,t,n);var w=h("mean",e,t,n),S=h("stdDev",e,t,n);return d=h("seed",e,t,n),[Object(o.bd)(r,w,S,h("dtype",e,t,n),d)];case"Zeros":return[Object(o.id)(h("shape",e,t,n),h("dtype",e,t,n))];case"ZerosLike":return[Object(o.jd)(h("x",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"dynamic":return function(e,t,n){return u(void 0,void 0,void 0,(function(){var r,i,a,s,u,c,f,d;return l(this,(function(l){switch(l.label){case 0:switch(e.op){case"NonMaxSuppressionV5":case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":return[3,1];case"Where":return[3,5];case"ListDiff":return[3,7]}return[3,8];case 1:return r=h("boxes",e,t,n),i=h("scores",e,t,n),a=h("maxOutputSize",e,t,n),s=h("iouThreshold",e,t,n),u=h("scoreThreshold",e,t,n),"NonMaxSuppressionV5"!==e.op?[3,3]:(c=h("softNmsSigma",e,t,n),[4,o.ob.nonMaxSuppressionWithScoreAsync(r,i,a,s,u,c)]);case 2:return[2,[(d=l.sent()).selectedIndices,d.selectedScores]];case 3:return[4,o.ob.nonMaxSuppressionAsync(r,i,a,s,u)];case 4:return[2,[l.sent()]];case 5:return f=h("condition",e,t,n).asType("bool"),[4,Object(o.hd)(f)];case 6:return d=[l.sent()],f.dispose(),[2,d];case 7:return[2,Object(o.tc)(h("x",e,t,n),h("y",e,t,n))];case 8:throw TypeError("Node type "+e.op+" is not implemented")}}))}))}(e,t,n);case"evaluation":return Object(o.Wc)((function(){return function(e,t,n){switch(e.op){case"TopKV2":var r=h("x",e,t,n),i=h("k",e,t,n),a=h("sorted",e,t,n),s=Object(o.Yc)(r,i,a);return[s.values,s.indices];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"image":return Object(o.Wc)((function(){return function(e,t,n){switch(e.op){case"ResizeBilinear":var r=h("images",e,t,n),i=h("size",e,t,n),a=h("alignCorners",e,t,n);return[o.ob.resizeBilinear(r,[i[0],i[1]],a)];case"ResizeNearestNeighbor":return r=h("images",e,t,n),i=h("size",e,t,n),a=h("alignCorners",e,t,n),[o.ob.resizeNearestNeighbor(r,[i[0],i[1]],a)];case"CropAndResize":var s=h("image",e,t,n),u=h("boxes",e,t,n),l=h("boxInd",e,t,n),c=h("cropSize",e,t,n),f=h("method",e,t,n),d=h("extrapolationValue",e,t,n);return[o.ob.cropAndResize(s,u,l,c,f,d)];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"graph":return Object(o.Wc)((function(){return function(e,t,n){switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var r=h("default",e,t,n);return[d(e.name,t,n)||r];case"Placeholder":return[d(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":return[h("x",e,t,n).clone()];case"IdentityN":return h("x",e,t,n).map((function(e){return e.clone()}));case"Snapshot":return[h("x",e,t,n).clone()];case"Shape":return[Object(o.Tc)(h("x",e,t,n).shape,"int32")];case"ShapeN":return h("x",e,t,n).map((function(e){return Object(o.Tc)(e.shape)}));case"Size":return[Object(o.oc)(h("x",e,t,n).size,"int32")];case"Rank":return[Object(o.oc)(h("x",e,t,n).rank,"int32")];case"NoOp":return[Object(o.oc)(1)];case"Print":var i=h("x",e,t,n),a=h("data",e,t,n),s=h("message",e,t,n),u=h("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(s);for(var l=0;l<a.length;l++)console.log(Array.prototype.slice.call(a[l].dataSync()).slice(0,u));return[i];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"logical":return Object(o.Wc)((function(){return function(e,t,n){switch(e.op){case"Equal":return[Object(o.X)(h("a",e,t,n),h("b",e,t,n))];case"NotEqual":return[Object(o.Vb)(h("a",e,t,n),h("b",e,t,n))];case"Greater":return[Object(o.kb)(h("a",e,t,n),h("b",e,t,n))];case"GreaterEqual":return[Object(o.lb)(h("a",e,t,n),h("b",e,t,n))];case"Less":return[Object(o.tb)(h("a",e,t,n),h("b",e,t,n))];case"LessEqual":return[Object(o.ub)(h("a",e,t,n),h("b",e,t,n))];case"LogicalAnd":return[Object(o.Bb)(h("a",e,t,n),h("b",e,t,n))];case"LogicalNot":return[Object(o.Cb)(h("a",e,t,n))];case"LogicalOr":return[Object(o.Db)(h("a",e,t,n),h("b",e,t,n))];case"Select":case"SelectV2":return[Object(o.gd)(h("condition",e,t,n),h("a",e,t,n),h("b",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"matrices":return Object(o.Wc)((function(){return function(e,t,n){switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[Object(o.Eb)(h("a",e,t,n),h("b",e,t,n),h("transposeA",e,t,n),h("transposeB",e,t,n))];case"Transpose":return[Object(o.ad)(h("x",e,t,n),h("perm",e,t,n))];case"_FusedMatMul":var r=h("fusedOps",e,t,n),i=r[0],a=r[1],s="biasadd"===i,u="prelu"===a,l=h("numArgs",e,t,n);if(s){if(u&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var c=h("args",e,t,n),f=c[0],d=c[1];return[o.hb.matMul({a:h("a",e,t,n),b:h("b",e,t,n),transposeA:h("transposeA",e,t,n),transposeB:h("transposeB",e,t,n),bias:f,activation:a,preluActivationWeights:d})];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"normalization":return Object(o.Wc)((function(){return function(e,t,n){switch(e.op){case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[Object(o.t)(h("x",e,t,n),h("mean",e,t,n),h("variance",e,t,n),h("offset",e,t,n),h("scale",e,t,n),h("epsilon",e,t,n))];case"LRN":return[Object(o.xb)(h("x",e,t,n),h("radius",e,t,n),h("bias",e,t,n),h("alpha",e,t,n),h("beta",e,t,n))];case"Softmax":return[Object(o.Dc)(h("x",e,t,n))];case"LogSoftmax":return[Object(o.Ab)(h("x",e,t,n))];case"SparseToDense":return[Object(o.Gc)(h("sparseIndices",e,t,n),h("outputShape",e,t,n),h("sparseValues",e,t,n),h("defaultValue",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"reduction":return Object(o.Wc)((function(){return function(e,t,n){switch(e.op){case"Max":var r=h("axis",e,t,n),i=h("keepDims",e,t,n);return[Object(o.Fb)(h("x",e,t,n),r,i)];case"Mean":return r=h("axis",e,t,n),i=h("keepDims",e,t,n),[Object(o.Kb)(h("x",e,t,n),r,i)];case"Min":return r=h("axis",e,t,n),i=h("keepDims",e,t,n),[Object(o.Mb)(h("x",e,t,n),r,i)];case"Sum":return r=h("axis",e,t,n),i=h("keepDims",e,t,n),[Object(o.Pc)(h("x",e,t,n),r,i)];case"All":return r=h("axis",e,t,n),i=h("keepDims",e,t,n),[Object(o.h)(h("x",e,t,n),r,i)];case"Any":return r=h("axis",e,t,n),i=h("keepDims",e,t,n),[Object(o.i)(h("x",e,t,n),r,i)];case"ArgMax":return r=h("axis",e,t,n),[Object(o.j)(h("x",e,t,n),r)];case"ArgMin":return r=h("axis",e,t,n),[Object(o.k)(h("x",e,t,n),r)];case"Prod":return r=h("axis",e,t,n),i=h("keepDims",e,t,n),[Object(o.cc)(h("x",e,t,n),r,i)];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"slice_join":return Object(o.Wc)((function(){return function(e,t,n){switch(e.op){case"ConcatV2":case"Concat":var r=h("n",e,t,n),i=h("axis",e,t,n),a=h("tensors",e,t,n);return a=a.slice(0,r),[Object(o.D)(a,i)];case"GatherV2":case"Gather":i=h("axis",e,t,n);var s=h("x",e,t,n),u=h("indices",e,t,n);return[Object(o.ib)(s,u.asType("int32"),i)];case"ReverseV2":case"Reverse":return i=h("axis",e,t,n),s=h("x",e,t,n),[Object(o.kc)(s,i)];case"Slice":var l=h("begin",e,t,n),c=h("size",e,t,n);return[Object(o.yc)(h("x",e,t,n),l,c)];case"StridedSlice":l=h("begin",e,t,n);var f=h("end",e,t,n),d=h("strides",e,t,n),p=h("beginMask",e,t,n),m=h("endMask",e,t,n),g=h("ellipsisMask",e,t,n),v=h("newAxisMask",e,t,n),y=h("shrinkAxisMask",e,t,n),b=h("x",e,t,n);if(1===l.length&&b.shape.length>1)for(var w=1;w<b.shape.length;w++)l.push(0),f.push(b.shape[w]),d.push(d[0]);return[Object(o.Nc)(b,l,f,d,p,m,g,v,y)];case"Pack":return Object(o.Wc)((function(){var r=h("axis",e,t,n),i=h("tensors",e,t,n),a=i[0].shape,s=i[0].squeeze().shape,u=i.map((function(e){var t=o.dd.arraysEqual(e.shape,a);if(!t&&!o.dd.arraysEqual(e.squeeze().shape,s))throw new Error("the input tensors shape does not match");return t?e:e.reshape(a)}));return[Object(o.Mc)(u,r)]}));case"Unpack":return Object(o.Wc)((function(){var r=h("axis",e,t,n),i=h("tensor",e,t,n);return Object(o.cd)(i,r)}));case"Tile":var S=h("reps",e,t,n);return[Object(o.Xc)(h("x",e,t,n),S)];case"Split":case"SplitV":i=h("axis",e,t,n);var x=h("numOrSizeSplits",e,t,n);return Object(o.Hc)(h("x",e,t,n),x,i);case"ScatterNd":u=h("indices",e,t,n);var _=h("values",e,t,n),T=h("shape",e,t,n);return[Object(o.pc)(u,_,T)];case"GatherNd":var E=h("x",e,t,n);return u=h("indices",e,t,n),[Object(o.jb)(E,u)];case"SparseToDense":u=h("sparseIndices",e,t,n),T=h("outputShape",e,t,n);var k=h("sparseValues",e,t,n),C=h("defaultValue",e,t,n);return[Object(o.Gc)(u,k,T,k.dtype===C.dtype?C:C.asType(k.dtype))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"spectral":return Object(o.Wc)((function(){return function(e,t,n){switch(e.op){case"FFT":return[Object(o.db)(h("x",e,t,n))];case"IFFT":return[Object(o.mb)(h("x",e,t,n))];case"RFFT":return[Object(o.lc)(h("x",e,t,n))];case"IRFFT":return[Object(o.qb)(h("x",e,t,n))];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"transformation":return Object(o.Wc)((function(){return function(e,t,n){switch(e.op){case"Cast":return[Object(o.z)(h("x",e,t,n),h("dtype",e,t,n))];case"ExpandDims":var r=h("axis",e,t,n);return[Object(o.ab)(h("x",e,t,n),r)];case"Squeeze":return r=h("axis",e,t,n),[Object(o.Lc)(h("x",e,t,n),r)];case"Reshape":return[Object(o.jc)(h("x",e,t,n),h("shape",e,t,n))];case"PadV2":case"Pad":return[Object(o.Zb)(h("x",e,t,n),v(h("padding",e,t,n),2),h("constantValue",e,t,n))];case"SpaceToBatchND":var i=h("blockShape",e,t,n),a=v(h("paddings",e,t,n),2);return[Object(o.Fc)(h("x",e,t,n),i,a)];case"BatchToSpaceND":i=h("blockShape",e,t,n);var s=v(h("crops",e,t,n),2);return[Object(o.x)(h("x",e,t,n),i,s)];case"DepthToSpace":var u=h("blockSize",e,t,n),l=h("dataFormat",e,t,n).toUpperCase();return[Object(o.P)(h("x",e,t,n),u,l)];default:throw TypeError("Node type "+e.op+" is not implemented")}}(e,t,n)}));case"custom":var r=f(e.op);if(r&&r.customExecutor)return r.customExecutor(new X(e,t,n));throw TypeError("Custom op "+e.op+" is not registered.");default:throw TypeError("Unknown op '"+e.op+"'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(e,t,n);return r instanceof Promise?r.then((function(e){return[].concat(e)})):[].concat(r)}var Z=function(){function e(e,t){this.weightMap=e,this.tensorArrayMap=t,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return e.prototype.newFrame=function(e,t){return{id:e,frameName:t,iterationId:0}},Object.defineProperty(e.prototype,"currentContext",{get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentContextId",{get:function(){return this._currentContextIds[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentContextIds",{get:function(){return this._currentContextIds},enumerable:!0,configurable:!0}),e.prototype.generateCurrentContextIds=function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e},e.prototype.contextIdforContexts=function(e){return e?e.map((function(e){return 0===e.id&&0===e.iterationId?"":e.frameName+"-"+e.iterationId})).join("/"):""},e.prototype.enterFrame=function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))},e.prototype.exitFrame=function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()},e.prototype.nextIteration=function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))},e.prototype.getWeight=function(e){return this.weightMap[e]},e.prototype.addTensorArray=function(e){this.tensorArrayMap[e.id]=e},e.prototype.getTensorArray=function(e){return this.tensorArrayMap[e]},e}();function J(e,t,n){for(var r=new Set,i=[],a=null,o=null,s=new Set,u=Object.keys(e).map((function(e){return g(e)[0]})),l=t.slice();l.length>0;){var c=l.pop();(te(c)||ne(c))&&null==a&&(o=(a=c).children.map((function(e){return e.name})).filter((function(e){return r.has(e)}))),r.add(c.name),null==n[c.name]&&-1===u.indexOf(c.name)&&(0!==c.inputs.length?c.inputs.forEach((function(e){s.has(e.name)||(s.add(e.name),l.push(e))})):i.push(c.name))}return{inputs:e,outputs:t,usedNodes:r,missingInputs:i,dynamicNode:a,syncInputs:o}}var $=["Switch","Merge","Enter","Exit","NextIteration"],ee=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"];function te(e){return $.indexOf(e.op)>=0}function ne(e){return ee.indexOf(e.op)>=0}var re=function(){function e(e){this.graph=e,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._outputs=e.outputs,this._inputs=e.inputs,this._signature=e.signature}return Object.defineProperty(e.prototype,"weightMap",{get:function(){return this._weightMap},set:function(e){var t=Object.keys(e).map((function(t){return e[t].map((function(e){return e.id}))}));this.weightIds=[].concat.apply([],t),this._weightMap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this._inputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this._outputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNodes",{get:function(){return this._inputs.map((function(e){return e.signatureKey||e.name}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputNodes",{get:function(){return this._outputs.map((function(e){return e.signatureKey||e.name}))},enumerable:!0,configurable:!0}),e.prototype.getCompilationKey=function(e,t){var n=e.map((function(e){return e.name})).sort(),r=t.map((function(e){return e.name})).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)},e.prototype.compile=function(e,t){var n=J(e,t,this.weightMap),r=n.missingInputs,i=n.dynamicNode,a=n.syncInputs;if(null!=i)throw new Error("This execution contains the node '"+i.name+"', which has the dynamic op '"+i.op+"'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs ["+a+"]");if(r.length>0){var o=t.map((function(e){return e.name})),s=Object.keys(e);throw new Error("Cannot compute the outputs ["+o+"] from the provided inputs ["+s+"]. Missing the following inputs: ["+r+"]")}return function(e,t,n){var r=n.usedNodes,i=n.inputs,a=[];Object.keys(i).map((function(e){return g(e)[0]})).map((function(t){return e.nodes[t]})).forEach((function(e){r.has(e.name)&&a.push(e)})),e.weights.forEach((function(e){r.has(e.name)&&a.push(e)}));for(var o=new Set,s=[];a.length>0;){var u=a.pop();o.add(u.name),t[u.name]||s.push(u),u.children.forEach((function(e){!o.has(e.name)&&r.has(e.name)&&e.inputs.every((function(e){return o.has(e.name)}))&&a.push(e)}))}return s}(this.graph,this.weightMap,n)},e.prototype.execute=function(e,t){var n=this;e=this.mapInputs(e);var r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var i=r.map((function(e){return n.graph.nodes[g(e)[0]]})),a=t.map((function(e){return n.graph.nodes[g(e)[0]]})),u=this.getCompilationKey(i,a),l=this.compiledMap.get(u);null==l&&(l=this.compile(e,a),this.compiledMap.set(u,l));var c={};return Object(o.Wc)((function(){var r=new Z(n._weightMap,c),i=s({},n.weightMap);Object.keys(e).forEach((function(t){var n=g(t),r=n[0],a=[];a[n[1]]=e[t],i[r]=a}));for(var a=n.getFrozenTensorIds(i),o={},u=0;u<l.length;u++){var f=l[u];if(!i[f.name]){var h=K(f,i,r);if(h instanceof Promise)throw new Error("The execution of the op '"+f.op+"' returned a promise. Please use model.executeAsync() instead.");i[f.name]=h,n.checkTensorForDisposal(f.name,f,i,r,a,t,o)}}return t.map((function(e){return d(e,i,r)}))}))},e.prototype.getFrozenTensorIds=function(e){var t=[].concat.apply([],Object.keys(e).map((function(t){return e[t]})).map((function(e){return e.map((function(e){return e.id}))})));return new Set(t)},e.prototype.checkTensorForDisposal=function(e,t,n,r,i,a,o){"control"!==t.category&&-1===a.indexOf(e)&&(n[e].forEach((function(e){null!=e&&(o[e.id]=(o[e.id]||0)+t.children.length)})),t.inputs.forEach((function(e){if("control"!==e.category){var t=function(e,t,n){return t[m(e,n.currentContextId)]}(e.name,n,r);null!=t&&t.forEach((function(e){if(e&&!i.has(e.id)){var t=o[e.id];1===t?(e.dispose(),delete o[e.id]):null!=t&&o[e.id]--}}))}})))},e.prototype.executeAsync=function(e,t){return u(this,void 0,void 0,(function(){var n,r,i,a,o,s,u=this;return l(this,(function(l){switch(l.label){case 0:return e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t),n={},r=new Z(this._weightMap,n),[4,this.executeWithControlFlow(e,r,t)];case 1:return i=l.sent(),a=t.map((function(e){return d(e,i,r)})),o=new Set(a.map((function(e){return e.id}))),s=new Set(Object.keys(e).map((function(t){return e[t].id}))),Object.keys(i).forEach((function(e){i[e].forEach((function(e){!e||e.isDisposed||o.has(e.id)||s.has(e.id)||-1!==u.weightIds.indexOf(e.id)||e.dispose()}))})),[2,a]}}))}))},e.prototype.executeWithControlFlow=function(e,t,n){return u(this,void 0,void 0,(function(){var r,i,a,o,u,c,f,h,p,m,v,y,b,w,S,x,_=this;return l(this,(function(l){switch(l.label){case 0:r=Object.keys(e),i=r.map((function(e){return _.graph.nodes[g(e)[0]]})),a=n.map((function(e){return _.graph.nodes[g(e)[0]]})),o=J(e,a,this.weightMap),u=o.usedNodes,c=o.missingInputs,f=o.dynamicNode,h=o.syncInputs,p=i.concat(this.graph.weights).map((function(e){return{node:e,contexts:t.currentContext}})),m=s({},this.weightMap),Object.keys(e).forEach((function(t){var n=g(t),r=n[0],i=[];i[n[1]]=e[t],m[r]=i})),v={},y=this.getFrozenTensorIds(m),b={},l.label=1;case 1:return p.length>0?(w=this.processStack(i,p,t,m,b,y,n,v,u),[4,Promise.all(w)]):[3,3];case 2:return l.sent(),[3,1];case 3:if(null==f&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),(S=a.filter((function(e){return!te(e)&&!d(e.name,m,t)})).map((function(e){return e.name}))).length>0)throw x="",null!=f&&(x="Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs ["+h+"]"),new Error("Cannot compute the outputs ["+S+"] from the provided inputs ["+r+"]. Consider providing the following inputs: ["+c+"]. "+x);return[2,m]}}))}))},e.prototype.processStack=function(e,t,n,r,i,a,o,s,u){for(var l=this,c=[],f=function(){var f=t.pop();n.currentContext=f.contexts;var m="";if("Enter"===f.node.op&&h("isConstant",f.node,r,n)&&(m=p(f.node.name,n)[0]),-1===e.indexOf(f.node)){var g=K(f.node,r,n);m||(m=p(f.node.name,n)[0]);var v=n.currentContext;g instanceof Promise?c.push(g.then((function(e){return r[m]=e,n.currentContext=v,l.checkTensorForDisposal(m,f.node,r,n,a,o,s),l.processChildNodes(f.node,t,n,r,i,u),e}))):(r[m]=g,d.checkTensorForDisposal(m,f.node,r,n,a,o,s),d.processChildNodes(f.node,t,n,r,i,u))}else d.processChildNodes(f.node,t,n,r,i,u)},d=this;t.length>0;)f();return c},e.prototype.processChildNodes=function(e,t,n,r,i,a){e.children.forEach((function(e){var o=p(e.name,n)[0];!i[o]&&a.has(e.name)&&("Merge"===e.op?e.inputNames.some((function(e){return!!d(e,r,n)}))&&(i[o]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((function(e){return!!d(e,r,n)}))&&(i[o]=!0,t.push({contexts:n.currentContext,node:e})))}))},e.prototype.dispose=function(){var e=this;Object.keys(this.weightMap).forEach((function(t){return e.weightMap[t].forEach((function(e){return e.dispose()}))}))},e.prototype.checkInputShapeAndType=function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],i=g(n)[0],a=t.graph.nodes[i];if(a.attrParams.shape&&a.attrParams.shape.value){var s=a.attrParams.shape.value,u=s.length===r.shape.length&&r.shape.every((function(e,t){return-1===s[t]||s[t]===e}));o.dd.assert(u,(function(){return"The shape of dict['"+a.name+"'] provided in model.execute(dict) must be ["+s+"], but was ["+r.shape+"]"}))}a.attrParams.dtype&&a.attrParams.dtype.value&&o.dd.assert(r.dtype===a.attrParams.dtype.value,(function(){return"The dtype of dict['"+a.name+"'] provided in model.execute(dict) must be "+a.attrParams.dtype.value+", but was "+r.dtype}))}))},e.prototype.mapInputs=function(e){var t={};for(var n in e)null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n]?t[this._signature.inputs[n].name]=e[n]:t[n]=e[n];return t},e.prototype.checkInputs=function(e){var t=this,n=Object.keys(e).filter((function(e){var n=g(e)[0];return null==t.graph.nodes[n]}));if(n.length>0)throw new Error("The dict provided in model.execute(dict) has keys: ["+n+"] that are not part of graph")},e.prototype.mapOutputs=function(e){var t=this;return e.map((function(e){return null!=t._signature&&null!=t._signature.outputs&&null!=t._signature.outputs[e]?t._signature.outputs[e].name:e}),{})},e.prototype.checkOutputs=function(e){var t=this;e.forEach((function(e){var n=g(e)[0];if(!t.graph.nodes[n])throw new Error("The output '"+e+"' is not found in the graph")}))},e}();!function(){function e(e,t){void 0===t&&(t={}),this.modelUrl=e,this.loadOptions=t,this.version="n/a",null==t&&(this.loadOptions={})}Object.defineProperty(e.prototype,"modelVersion",{get:function(){return this.version},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNodes",{get:function(){return this.executor.inputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputNodes",{get:function(){return this.executor.outputNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.executor.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this.executor.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weights",{get:function(){return this.executor.weightMap},enumerable:!0,configurable:!0}),e.prototype.findIOHandler=function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=o.pb.browserHTTPRequest(e,this.loadOptions);else{var t=o.pb.getLoadHandlers(e,this.loadOptions.onProgress);if(0===t.length)t.push(o.pb.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one ("+t.length+") load handlers for URL '"+[e]+"'");this.handler=t[0]}},e.prototype.load=function(){return u(this,void 0,void 0,(function(){var e,t,n,r;return l(this,(function(i){switch(i.label){case 0:if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");return e=this,[4,this.handler.load()];case 1:return e.artifacts=i.sent(),t=this.artifacts.modelTopology,n={},null!=this.artifacts.userDefinedMetadata&&(n=this.artifacts.userDefinedMetadata.signature),this.version=t.versions.producer+"."+t.versions.minConsumer,r=o.pb.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs),this.executor=new re(P.Instance.transformGraph(t,n)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),[2,!0]}}))}))},e.prototype.save=function(e,t){return u(this,void 0,void 0,(function(){var t;return l(this,(function(n){if("string"==typeof e){if(0===(t=o.pb.getSaveHandlers(e)).length)throw new Error("Cannot find any save handlers for URL '"+e+"'");if(t.length>1)throw new Error("Found more than one ("+t.length+") save handlers for URL '"+e+"'");e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return[2,e.save(this.artifacts)]}))}))},e.prototype.predict=function(e,t){return this.execute(e,this.outputNodes)},e.prototype.normalizeInputs=function(e){if(!(e instanceof o.b||Array.isArray(e)))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,the graph model has "+this.inputNodes.length+" placeholders, while there are "+e.length+" input tensors.");return this.inputNodes.reduce((function(t,n,r){return t[n]=e[r],t}),{})},e.prototype.normalizeOutputs=function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]},e.prototype.execute=function(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var n=this.executor.execute(e,t);return n.length>1?n:n[0]},e.prototype.executeAsync=function(e,t){return u(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return e=this.normalizeInputs(e),t=this.normalizeOutputs(t),[4,this.executor.executeAsync(e,t)];case 1:return[2,(n=r.sent()).length>1?n:n[0]]}}))}))},e.prototype.convertTensorMapToTensorsMap=function(e){return Object.keys(e).reduce((function(t,n){return t[n]=[e[n]],t}),{})},e.prototype.dispose=function(){this.executor.dispose()}}();var ie="1.7.4"}).call(this,n(32).Buffer)},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return ye}));var i=n(0),a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}"undefined"!=typeof window?window:"undefined"!=typeof e||"undefined"!=typeof self&&self;function l(e,t){return e(t={exports:{}},t.exports),t.exports}var c=l((function(e){!function(e,t,n){function r(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new function(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}(e),i=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,i&&("object"==typeof i&&r(i,n),a.state=function(){return r(n,{})}),a}t&&t.exports?t.exports=i:this.alea=i}(0,e)})),f=l((function(e){!function(e,t,n){function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new function(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&r(i,n),a.state=function(){return r(n,{})}),a}t&&t.exports?t.exports=i:this.xor128=i}(0,e)})),h=l((function(e){!function(e,t,n){function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new function(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&r(i,n),a.state=function(){return r(n,{})}),a}t&&t.exports?t.exports=i:this.xorwow=i}(0,e)})),d=l((function(e){!function(e,t,n){function r(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new function(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.x&&r(i,n),a.state=function(){return r(n,{})}),a}t&&t.exports?t.exports=i:this.xorshift7=i}(0,e)})),p=l((function(e){!function(e,t,n){function r(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new function(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),i=0,a=-32;a<u;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.X&&r(i,n),a.state=function(){return r(n,{})}),a}t&&t.exports?t.exports=i:this.xor4096=i}(0,e)})),m=l((function(e){!function(e,t,n){function r(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new function(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&r(i,n),a.state=function(){return r(n,{})}),a}t&&t.exports?t.exports=i:this.tychei=i}(0,e)})),g=l((function(e){!function(t,r){var i,a=this,o=256,s="random",u=r.pow(o,6),l=r.pow(2,52),c=2*l,f=255;function h(e,n,h){var g=[],v=p(function e(t,n){var r,i=[],a=typeof t;if(n&&"object"==a)for(r in t)try{i.push(e(t[r],n-1))}catch(e){}return i.length?i:"string"==a?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,m(t)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(o):(e=new Uint8Array(o),(a.crypto||a.msCrypto).getRandomValues(e)),m(e)}catch(e){var n=a.navigator,r=n&&n.plugins;return[+new Date,a,r,a.screen,m(t)]}}():e,3),g),y=new function(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);i<o;)s[i]=i++;for(i=0;i<o;i++)s[i]=s[a=f&a+e[i%n]+(t=s[i])],s[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,s=r.S;e--;)t=s[i=f&i+1],n=n*o+s[f&(s[i]=s[a=f&a+t])+(s[a]=t)];return r.i=i,r.j=a,n})(o)}(g),b=function(){for(var e=y.g(6),t=u,n=0;e<l;)e=(e+n)*o,t*=o,n=y.g(1);for(;e>=c;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|y.g(4)},b.quick=function(){return y.g(4)/4294967296},b.double=b,p(m(y.S),t),(n.pass||h||function(e,t,n,i){return i&&(i.S&&d(i,y),e.state=function(){return d(y,{})}),n?(r[s]=e,t):e})(b,v,"global"in n?n.global:this==r,n.state)}function d(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function p(e,t){for(var n,r=e+"",i=0;i<r.length;)t[f&i]=f&(n^=19*t[f&i])+r.charCodeAt(i++);return m(t)}function m(e){return String.fromCharCode.apply(0,e)}if(r["seed"+s]=h,p(r.random(),t),e.exports){e.exports=h;try{i=n(148)}catch(e){}}}([],Math)}));g.alea=c,g.xor128=f,g.xorwow=h,g.xorshift7=d,g.xor4096=p,g.tychei=m;var v=g.alea;function y(e,t,n,r){if(void 0===n&&(n=new Map),void 0===r&&(r=new Set),null==e)return null;if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);var i=t(e);if(i.recurse&&null!==i.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(i.recurse){if(_(e)){var a=Array.isArray(e)?[]:{};for(var o in r.add(e),e){var s=y(e[o],t,n,r);a[o]=s}return r.delete(e),a}throw new Error("Can't recurse into non-iterable type: "+e)}return n.set(e,i.value),i.value}function b(e,t){return void 0===t&&(t=S),w(e,t)}function w(e,t,n){void 0===n&&(n=new Set);var r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");var i=t(e);if(i.recurse&&null!==i.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(i.recurse){if(_(r)){var a=Array.isArray(r)?[]:{};n.add(r);var o=function(r){var i=w(e.map((function(e){return e[r]})),t,n);a[r]=i};for(var s in r)o(s);return n.delete(r),a}throw new Error("Can't recurse into non-iterable type: "+r)}return i.value}function S(e){return null===e?null:_(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function x(e,t){return s(this,void 0,void 0,(function(){var n,r,i,a,o,s;return u(this,(function(u){switch(u.label){case 0:n=new Map,y(e,t,n),r=0,i=Array.from(n.keys()),u.label=1;case 1:return r<i.length?(a=i[r],(o=n.get(a))instanceof Promise?[4,o]:[3,3]):[3,4];case 2:s=u.sent(),n.set(a,s),u.label=3;case 3:return r++,[3,1];case 4:return[2,y(e,t,n)]}}))}))}function _(e){return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"==typeof e&&!(e instanceof i.b))}function T(e){return function(e,t){return y(e,t)}(e,E)}function E(e){return e instanceof i.b?{value:e.clone(),recurse:!1}:_(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}var k=function(){function e(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}return e.prototype.wrap=function(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity},e.prototype.get=function(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]},e.prototype.set=function(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t},e.prototype.length=function(){var e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e},e.prototype.isFull=function(){return this.length()===this.capacity},e.prototype.isEmpty=function(){return 0===this.length()},e.prototype.push=function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)},e.prototype.pushAll=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];this.push(r)}},e.prototype.pop=function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var e=this.get(this.end);return this.set(this.end,void 0),e},e.prototype.unshift=function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)},e.prototype.shift=function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e},e.prototype.shuffleExcise=function(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n},e}(),C=function(e){function t(){return e.call(this,t.INITIAL_CAPACITY)||this}return o(t,e),t.prototype.isFull=function(){return!1},t.prototype.push=function(t){e.prototype.isFull.call(this)&&this.expand(),e.prototype.push.call(this,t)},t.prototype.unshift=function(t){e.prototype.isFull.call(this)&&this.expand(),e.prototype.unshift.call(this,t)},t.prototype.expand=function(){for(var e=2*this.capacity,t=new Array(e),n=this.length(),r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n},t.INITIAL_CAPACITY=32,t}(k);function A(e){return new P(e)}function O(e){return new N(e)}function I(e,t){return new q(e,t)}var M,D,R=function(){function e(){}return e.prototype.toArray=function(){return s(this,void 0,void 0,(function(){var e,t;return u(this,(function(n){switch(n.label){case 0:return e=[],[4,this.next()];case 1:t=n.sent(),n.label=2;case 2:return t.done?[3,4]:(e.push(t.value),[4,this.next()]);case 3:return t=n.sent(),[3,2];case 4:return[2,e]}}))}))},e.prototype.toArrayForTest=function(){return s(this,void 0,void 0,(function(){var e,t,n;return u(this,(function(r){switch(r.label){case 0:return e=this.prefetch(100),t=[],[4,e.next()];case 1:n=r.sent(),r.label=2;case 2:return n.done?[3,4]:(t.push(n.value),[4,e.next()]);case 3:return n=r.sent(),[3,2];case 4:return[2,t]}}))}))},e.prototype.resolveFully=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return[4,this.next()];case 1:e=t.sent(),t.label=2;case 2:return e.done?[3,4]:[4,this.next()];case 3:return e=t.sent(),[3,2];case 4:return[2]}}))}))},e.prototype.resolveWhile=function(e){return s(this,void 0,void 0,(function(){var t,n;return u(this,(function(r){switch(r.label){case 0:return[4,this.next()];case 1:t=r.sent(),n=e(t.value),r.label=2;case 2:return t.done||!n?[3,4]:[4,this.next()];case 3:return t=r.sent(),n=e(t.value),[3,2];case 4:return[2]}}))}))},e.prototype.handleErrors=function(e){return new V(this,e)},e.prototype.filter=function(e){return new U(this,e)},e.prototype.map=function(e){return new j(this,e)},e.prototype.mapAsync=function(e){return new G(this,e)},e.prototype.serialMapAsync=function(e){return new G(this,e).serial()},e.prototype.flatmap=function(e){return new H(this,e)},e.prototype.forEachAsync=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){return[2,this.map(e).resolveFully()]}))}))},e.prototype.serialForEach=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){return[2,this.serialMapAsync(e).resolveWhile((function(e){return!0===e}))]}))}))},e.prototype.rowMajorBatch=function(e,t){return void 0===t&&(t=!0),new z(this,e,t)},e.prototype.columnMajorBatch=function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=S),this.rowMajorBatch(e,t).map((function(e){return b(e,n)}))},e.prototype.concatenate=function(e,t){return new q(A([this,e]),t)},e.prototype.take=function(e){return e<0||null==e?this:new B(this,e)},e.prototype.skip=function(e){return e<0||null==e?this:new F(this,e)},e.prototype.prefetch=function(e){return new Q(this,e)},e.prototype.shuffle=function(e,t){return new X(this,e,t)},e.prototype.serial=function(){return new L(this)},e}(),P=function(e){function t(t){var n=e.call(this)||this;return n.items=t,n.trav=0,n}return o(t,e),t.prototype.summary=function(){return"Array of "+this.items.length+" items"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){return this.trav>=this.items.length?[2,{value:null,done:!0}]:(e=this.items[this.trav],this.trav++,[2,{value:T(e),done:!1}])}))}))},t}(R),N=function(e){function t(t){var n=e.call(this)||this;return n.nextFn=t,n}return o(t,e),t.prototype.summary=function(){return"Function call"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){try{return[2,this.nextFn()]}catch(e){throw e.message="Error thrown while iterating through a dataset: "+e.message,e}return[2]}))}))},t}(R),L=function(e){function t(t){var n=e.call(this)||this;return n.upstream=t,n.lastRead=Promise.resolve({value:null,done:!1}),n}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Serial"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return[2,this.upstream.next()]}))}))},t}(R),F=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.maxCount=n,r.count=0,r.lastRead=Promise.resolve({value:null,done:!1}),r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Skip"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return this.count++<this.maxCount?[4,this.upstream.next()]:[3,2];case 1:return(e=t.sent()).done?[2,e]:(Object(i.R)(e.value),[3,0]);case 2:return[2,this.upstream.next()]}}))}))},t}(R),B=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.maxCount=n,r.count=0,r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Take"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return this.count++>=this.maxCount?[2,{value:null,done:!0}]:[2,this.upstream.next()]}))}))},t}(R),z=function(e){function t(t,n,r){void 0===r&&(r=!0);var i=e.call(this)||this;return i.upstream=t,i.batchSize=n,i.enableSmallLastBatch=r,i.lastRead=Promise.resolve({value:null,done:!1}),i}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> RowMajorBatch"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return s(this,void 0,void 0,(function(){var e,t;return u(this,(function(n){switch(n.label){case 0:e=[],n.label=1;case 1:return e.length<this.batchSize?[4,this.upstream.next()]:[3,3];case 2:return(t=n.sent()).done?this.enableSmallLastBatch&&e.length>0?[2,{value:e,done:!1}]:[2,{value:null,done:!0}]:(e.push(t.value),[3,1]);case 3:return[2,{value:e,done:!1}]}}))}))},t}(R),U=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.predicate=n,r.lastRead=Promise.resolve({value:null,done:!1}),r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Filter"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return[4,this.upstream.next()];case 1:return(e=t.sent()).done||this.predicate(e.value)?[2,e]:(Object(i.R)(e.value),[3,0]);case 2:return[2]}}))}))},t}(R),j=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.transform=n,r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Map"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,a,o,s;return u(this,(function(u){switch(u.label){case 0:return[4,this.upstream.next()];case 1:if((e=u.sent()).done)return[2,{value:null,done:!0}];for(t=i.Vc.getTensorsInContainer(e.value),n=this.transform(e.value),r=i.Vc.getTensorsInContainer(n),a=0,o=t;a<o.length;a++)s=o[a],i.Vc.isTensorInList(s,r)||s.dispose();return[2,{value:n,done:!1}]}}))}))},t}(R),V=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.handler=n,r.count=0,r.lastRead=Promise.resolve({value:null,done:!1}),r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> handleErrors"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.upstream.next()];case 2:return[2,t.sent()];case 3:return e=t.sent(),this.handler(e)?[3,4]:[2,{value:null,done:!0}];case 4:return[3,0];case 5:return[2]}}))}))},t}(R),G=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.transform=n,r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> AsyncMap"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,a,o,s;return u(this,(function(u){switch(u.label){case 0:return[4,this.upstream.next()];case 1:return(e=u.sent()).done?[2,{value:null,done:!0}]:(t=i.Vc.getTensorsInContainer(e.value),[4,this.transform(e.value)]);case 2:for(n=u.sent(),r=i.Vc.getTensorsInContainer(n),a=0,o=t;a<o.length;a++)s=o[a],i.Vc.isTensorInList(s,r)||s.dispose();return[2,{value:n,done:!1}]}}))}))},t}(R),W=function(e){function t(){var t=e.call(this)||this;return t.outputQueue=new C,t.lastRead=Promise.resolve({value:null,done:!1}),t}return o(t,e),t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.serialNext=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return 0!==this.outputQueue.length()?[3,2]:[4,this.pump()];case 1:return e.sent()?[3,0]:[2,{value:null,done:!0}];case 2:return[2,{value:this.outputQueue.shift(),done:!1}]}}))}))},t}(R),H=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.transform=n,r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Flatmap"},t.prototype.pump=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,a,o,s;return u(this,(function(u){switch(u.label){case 0:return[4,this.upstream.next()];case 1:if((e=u.sent()).done)return[2,!1];for(t=i.Vc.getTensorsInContainer(e.value),n=this.transform(e.value),r=i.Vc.getTensorsInContainer(n),this.outputQueue.pushAll(n),a=0,o=t;a<o.length;a++)s=o[a],i.Vc.isTensorInList(s,r)||s.dispose();return[2,!0]}}))}))},t}(W),q=function(e){function t(t,n){var r=e.call(this)||this;return r.baseErrorHandler=n,r.lastRead=null,r.iterator=null,r.moreIterators=t,r}return o(t,e),t.prototype.summary=function(){return"TODO: fill in upstream of chained summaries -> Chained"},t.prototype.next=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return this.lastRead=this.readFromChain(this.lastRead),[2,this.lastRead]}))}))},t.prototype.readFromChain=function(e){return s(this,void 0,void 0,(function(){var t,n;return u(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return r.sent(),null!=this.iterator?[3,3]:[4,this.moreIterators.next()];case 2:if((t=r.sent()).done)return[2,{value:null,done:!0}];this.iterator=t.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler)),r.label=3;case 3:return[4,this.iterator.next()];case 4:return(n=r.sent()).done?(this.iterator=null,[2,this.readFromChain(e)]):[2,n]}}))}))},t}(R);(D=M||(M={}))[D.FAIL=0]="FAIL",D[D.SHORTEST=1]="SHORTEST",D[D.LONGEST=2]="LONGEST";!function(e){function t(t,n){void 0===n&&(n=M.FAIL);var r=e.call(this)||this;return r.iterators=t,r.mismatchMode=n,r.count=0,r.currentPromise=null,r}o(t,e),t.prototype.summary=function(){return"{TODO: fill in upstream of zip summaries} -> Zip"},t.prototype.nextState=function(e){return s(this,void 0,void 0,(function(){function t(e){return e instanceof R?{value:e.next().then((function(e){return n++,e.done&&r++,e.value})),recurse:!1}:{value:null,recurse:!0}}var n,r,i;return u(this,(function(a){switch(a.label){case 0:return[4,e];case 1:return a.sent(),n=0,r=0,[4,x(this.iterators,t)];case 2:if(i=a.sent(),n===r)return[2,{value:null,done:!0}];if(r>0)switch(this.mismatchMode){case M.FAIL:throw new Error("Zipped streams should have the same length. Mismatched at element "+this.count+".");case M.SHORTEST:return[2,{value:null,done:!0}];case M.LONGEST:}return this.count++,[2,{value:i,done:!1}]}}))}))},t.prototype.next=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return this.currentPromise=this.nextState(this.currentPromise),[2,this.currentPromise]}))}))}}(R);var Q=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.bufferSize=n,r.buffer=new k(n),r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Prefetch"},t.prototype.refill=function(){for(;!this.buffer.isFull();){var e=this.upstream.next();this.buffer.push(e)}},t.prototype.next=function(){return this.refill(),this.buffer.shift()},t}(R),X=function(e){function t(t,n,r){var a=e.call(this,t,n)||this;return a.upstream=t,a.windowSize=n,a.upstreamExhausted=!1,a.random=v(r||i.dd.now().toString()),a.lastRead=Promise.resolve({value:null,done:!1}),a}return o(t,e),t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),[2,this.lastRead]}))}))},t.prototype.randomInt=function(e){return Math.floor(this.random()*e)},t.prototype.chooseIndex=function(){return this.randomInt(this.buffer.length())},t.prototype.serialNext=function(){return s(this,void 0,void 0,(function(){var e,t;return u(this,(function(n){switch(n.label){case 0:this.upstreamExhausted||this.refill(),n.label=1;case 1:return this.buffer.isEmpty()?[3,3]:(e=this.chooseIndex(),[4,this.buffer.shuffleExcise(e)]);case 2:return(t=n.sent()).done?(this.upstreamExhausted=!0,[3,1]):(this.refill(),[2,t]);case 3:return[2,{value:null,done:!0}]}}))}))},t}(Q),Y=function(){function e(){this.size=null}return e.prototype.batch=function(e,t){var n=this;void 0===t&&(t=!0);var r=this;return i.dd.assert(e>0,(function(){return"batchSize needs to be positive, but it is\n      "+e})),K((function(){return s(n,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,r.iterator()];case 1:return[2,n.sent().columnMajorBatch(e,t,Z)]}}))}))}),this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e))},e.prototype.concatenate=function(e){var t=this,n=this;return K((function(){return s(t,void 0,void 0,(function(){var t,r;return u(this,(function(i){switch(i.label){case 0:return[4,n.iterator()];case 1:return r=(t=i.sent()).concatenate,[4,e.iterator()];case 2:return[2,r.apply(t,[i.sent()])]}}))}))}),this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null)},e.prototype.filter=function(e){var t=this,n=this;return K((function(){return s(t,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().filter((function(t){return Object(i.Wc)((function(){return e(t)}))}))]}}))}))}),this.size===1/0?1/0:null)},e.prototype.forEachAsync=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.iterator()];case 1:return[2,t.sent().forEachAsync(e)]}}))}))},e.prototype.forEach=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){return Object(i.O)("dataset.forEach() is deprecated and will be removed. Please use dataset.forEachAsync() instead"),[2,this.forEachAsync(e)]}))}))},e.prototype.map=function(e){var t=this,n=this;return K((function(){return s(t,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().map((function(t){return Object(i.Wc)((function(){return e(t)}))}))]}}))}))}),this.size)},e.prototype.mapAsync=function(e){var t=this,n=this;return K((function(){return s(t,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().mapAsync(e)]}}))}))}),this.size)},e.prototype.prefetch=function(e){var t=this;if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");var n=this;return K((function(){return s(t,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().prefetch(e)]}}))}))}),this.size)},e.prototype.repeat=function(e){var t=this,n=this;return K((function(){return s(t,void 0,void 0,(function(){var t=this;return u(this,(function(r){return[2,I(O((function(){return s(t,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return e={},[4,n.iterator()];case 1:return[2,(e.value=t.sent(),e.done=!1,e)]}}))}))})).take(e))]}))}))}),null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null)},e.prototype.skip=function(e){var t=this,n=this;return K((function(){return s(t,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().skip(e)]}}))}))}),null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null)},e.prototype.shuffle=function(e,t,n){var r=this;if(void 0===n&&(n=!0),null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting bufferSize to the dataset size ("+this.size+" elements)");var a=this,o=v(t||i.dd.now().toString());return K((function(){return s(r,void 0,void 0,(function(){var t;return u(this,(function(r){switch(r.label){case 0:return t=o.int32(),n&&(t+=o.int32()),[4,a.iterator()];case 1:return[2,r.sent().shuffle(e,t.toString())]}}))}))}),this.size)},e.prototype.take=function(e){var t=this,n=this;return K((function(){return s(t,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,n.iterator()];case 1:return[2,t.sent().take(e)]}}))}))}),null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null)},e.prototype.toArray=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return[4,this.iterator()];case 1:return[2,e.sent().toArray()]}}))}))},e.prototype.toArrayForTest=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return[4,this.iterator()];case 1:return[2,e.sent().toArrayForTest()]}}))}))},e.MAX_BUFFER_SIZE=1e4,e}();function K(e,t){return void 0===t&&(t=null),new(function(n){function r(){var e=null!==n&&n.apply(this,arguments)||this;return e.size=t,e}return o(r,n),r.prototype.iterator=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){return[2,e()]}))}))},r}(Y))}function Z(e){return null===e?null:function(e){return null==e||function(e){return null===e||"object"!=typeof e&&"function"!=typeof e}(e)||Array.isArray(e)||"object"==typeof e&&e instanceof i.b||i.dd.isTypedArray(e)}(e[0])?{value:J(e),recurse:!1}:{value:null,recurse:!0}}function J(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof i.b?Object(i.Mc)(e):Object(i.Sc)(e)}var $=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return o(t,e),t.prototype.iterator=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return[4,this.input.iterator()];case 1:return e=t.sent(),[2,e.decodeUTF8().split("\n").map((function(e){return e.endsWith("\r")&&(e=e.slice(0,-1)),e}))]}}))}))},t}(Y),ee='"',te=Symbol("out"),ne=Symbol("field"),re=Symbol("quote"),ie=Symbol("quoteafterquote"),ae=Symbol("quoteinquote"),oe=(function(e){function t(t,n){var r=e.call(this)||this;return r.input=t,r.hasHeader=!0,r.fullColumnNames=null,r.columnNamesValidated=!1,r.columnConfigs=null,r.configuredColumnsOnly=!1,r.delimiter=",",r.delimWhitespace=!1,r.base=new $(t),n||(n={}),r.hasHeader=!1!==n.hasHeader,r.fullColumnNames=n.columnNames,r.columnConfigs=n.columnConfigs,r.configuredColumnsOnly=n.configuredColumnsOnly,n.delimWhitespace?(i.dd.assert(null==n.delimiter,(function(){return"Delimiter should not be provided when delimWhitespace is true."})),r.delimWhitespace=!0,r.delimiter=" "):r.delimiter=n.delimiter?n.delimiter:",",r}o(t,e),t.prototype.columnNames=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.columnNamesValidated?[3,2]:[4,this.setColumnNames()];case 1:e.sent(),e.label=2;case 2:return[2,this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames]}}))}))},t.prototype.setColumnNames=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,a,o,s=this;return u(this,(function(u){switch(u.label){case 0:return[4,this.maybeReadHeaderLine()];case 1:if(e=u.sent(),!this.fullColumnNames&&!e)throw new Error("Column names must be provided if there is no header line.");if(this.fullColumnNames&&e&&i.dd.assert(e.length===this.fullColumnNames.length,(function(){return"The length of provided columnNames ("+s.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+e.length.toString()+")."})),this.fullColumnNames||(this.fullColumnNames=e),t=this.fullColumnNames.reduce((function(e,t){return e[t]=e[t]+1||1,e}),{}),n=Object.keys(t).filter((function(e){return t[e]>1})),i.dd.assert(0===n.length,(function(){return"Duplicate column names found: "+n.toString()})),this.columnConfigs)for(r=0,a=Object.keys(this.columnConfigs);r<a.length;r++)if(o=a[r],-1===this.fullColumnNames.indexOf(o))throw new Error('The key "'+o+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").");return this.columnNamesValidated=!0,[2]}}))}))},t.prototype.maybeReadHeaderLine=function(){return s(this,void 0,void 0,(function(){var e,t;return u(this,(function(n){switch(n.label){case 0:return this.hasHeader?[4,this.base.iterator()]:[3,3];case 1:return[4,n.sent().next()];case 2:if((e=n.sent()).done)throw new Error("No data was found for CSV parsing.");return t=e.value,[2,this.parseRow(t,!1)];case 3:return[2,null]}}))}))},t.prototype.iterator=function(){return s(this,void 0,void 0,(function(){var e,t=this;return u(this,(function(n){switch(n.label){case 0:return this.columnNamesValidated?[3,2]:[4,this.setColumnNames()];case 1:n.sent(),n.label=2;case 2:return[4,this.base.iterator()];case 3:return e=n.sent(),this.hasHeader&&(e=e.skip(1)),[2,e.map((function(e){return t.makeDataElement(e)}))]}}))}))},t.prototype.makeDataElement=function(e){for(var t=this.parseRow(e),n={},r={},i=0;i<this.fullColumnNames.length;i++){var a=this.fullColumnNames[i],o=this.columnConfigs?this.columnConfigs[a]:null;if(!this.configuredColumnsOnly||o){var s=t[i],u=null;if(""===s)if(o&&void 0!==o.default)u=o.default;else{if(o&&(o.required||o.isLabel))throw new Error("Required column "+a+" is empty in this line: "+e);u=void 0}else{var l=Number(s);if(isNaN(l))u=o&&"bool"===o.dtype?this.getBoolean(s):s;else if(o&&o.dtype)switch(o.dtype){case"float32":u=l;break;case"int32":u=Math.floor(l);break;case"bool":u=this.getBoolean(s);break;default:u=l}else u=l}o&&o.isLabel?r[a]=u:n[a]=u}}return 0===Object.keys(r).length?n:{xs:n,ys:r}},t.prototype.getBoolean=function(e){return"1"===e||"true"===e.toLowerCase()?1:0},t.prototype.parseRow=function(e,t){void 0===t&&(t=!0);for(var n=[],r=0,i=e.length,a=te,o=0;o<i;o++)switch(a){case te:switch(e.charAt(o)){case ee:r=o+1,a=re;break;case this.delimiter:if(r=o+1," "===this.delimiter&&this.delimWhitespace)break;n.push(""),a=te;break;default:a=ne,r=o}break;case ne:switch(e.charAt(o)){case this.delimiter:n.push(e.substring(r,o)),a=te,r=o+1}break;case re:switch(e.charAt(o)){case ee:a=ie}break;case ie:switch(e.charAt(o)){case this.delimiter:n.push(e.substring(r,o-1)),a=te,r=o+1;break;case ee:a=re;break;default:a=ae}break;case ae:switch(e.charAt(o)){case ee:a=re}}if(a===ie?n.push(e.substring(r,i-1)):n.push(e.substring(r)),t&&n.length!==this.fullColumnNames.length)throw new Error("Invalid row in csv file. Should have "+this.fullColumnNames.length+" elements in a row, but got "+n);return n}}(Y),function(e){function t(t){var n=e.call(this)||this;n.microphoneConfig=t,n.isClosed=!1,n.fftSize=t.fftSize||1024;var r=Math.log2(n.fftSize);if(n.fftSize<0||r<4||r>14||!Number.isInteger(r))throw new Error("Invalid fftSize: it must be a power of 2 between 2 to 4 and 2 to 14, but got "+n.fftSize);if(n.numFrames=t.numFramesPerSpectrogram||43,n.sampleRateHz=t.sampleRateHz,n.columnTruncateLength=t.columnTruncateLength||n.fftSize,n.audioTrackConstraints=t.audioTrackConstraints,n.smoothingTimeConstant=t.smoothingTimeConstant||0,n.includeSpectrogram=!1!==t.includeSpectrogram,n.includeWaveform=!0===t.includeWaveform,!n.includeSpectrogram&&!n.includeWaveform)throw new Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.");return n}o(t,e),t.prototype.summary=function(){return"microphone"},t.create=function(e){return void 0===e&&(e={}),s(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:if(Object(i.W)().get("IS_NODE"))throw new Error("microphone API is only supported in browser environment.");return[4,(n=new t(e)).start()];case 1:return r.sent(),[2,n]}}))}))},t.prototype.start=function(){return s(this,void 0,void 0,(function(){var e,t,n,r;return u(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=this,[4,navigator.mediaDevices.getUserMedia({audio:null==this.audioTrackConstraints||this.audioTrackConstraints,video:!1})];case 1:return e.stream=i.sent(),[3,3];case 2:throw t=i.sent(),new Error("Error thrown while initializing video stream: "+t.message);case 3:if(!this.stream)throw new Error("Could not obtain audio from microphone.");if(n=window.AudioContext||window.webkitAudioContext,this.audioContext=new n,this.sampleRateHz){if(this.audioContext.sampleRate!==this.sampleRateHz)throw new Error("Mismatch in sampling rate: Expected: "+this.sampleRateHz+"; Actual: "+this.audioContext.sampleRate)}else this.sampleRateHz=this.audioContext.sampleRate;return r=this.audioContext.createMediaStreamSource(this.stream),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2*this.fftSize,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,r.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize),[2]}}))}))},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,i;return u(this,(function(a){switch(a.label){case 0:return this.isClosed?[2,{value:null,done:!0}]:[4,this.getAudioData()];case 1:return n=a.sent(),this.includeSpectrogram&&(r=this.flattenQueue(n.freqDataQueue),e=this.getTensorFromAudioDataArray(r,[this.numFrames,this.columnTruncateLength,1])),this.includeWaveform&&(i=this.flattenQueue(n.timeDataQueue),t=this.getTensorFromAudioDataArray(i,[this.numFrames*this.fftSize,1])),[2,{value:{spectrogram:e,waveform:t},done:!1}]}}))}))},t.prototype.capture=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.next()];case 1:return[2,e.sent().value]}}))}))},t.prototype.getAudioData=function(){return s(this,void 0,void 0,(function(){var e,t,n,r=this;return u(this,(function(i){return e=[],t=[],n=0,[2,new Promise((function(i){var a=setInterval((function(){r.includeSpectrogram&&(r.analyser.getFloatFrequencyData(r.freqData),r.freqData[0]===-1/0&&i({freqDataQueue:e,timeDataQueue:t}),e.push(r.freqData.slice(0,r.columnTruncateLength))),r.includeWaveform&&(r.analyser.getFloatTimeDomainData(r.timeData),t.push(r.timeData.slice())),++n===r.numFrames&&(clearInterval(a),i({freqDataQueue:e,timeDataQueue:t}))}),r.fftSize/r.sampleRateHz*1e3)}))]}))}))},t.prototype.stop=function(){this.isClosed||(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),null!=this.stream&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())},t.prototype.toArray=function(){throw new Error("Can not convert infinite audio stream to array.")},t.prototype.getSampleRate=function(){return this.sampleRateHz},t.prototype.flattenQueue=function(e){var t=e[0].length,n=new Float32Array(e.length*t);return e.forEach((function(e,r){return n.set(e,r*t)})),n},t.prototype.getTensorFromAudioDataArray=function(e,t){var n=new Float32Array(i.dd.sizeFromShape(t));return n.set(e,n.length-e.length),Object(i.Sc)(n,t)}}(R),function(e){function t(t,n){var r=e.call(this)||this;if(r.webcamVideoElement=t,r.webcamConfig=n,r.isClosed=!0,r.resize=!1,r.needToResize())if(r.resize=!0,r.cropSize=[r.webcamConfig.resizeHeight,r.webcamConfig.resizeWidth],r.cropBoxInd=Object(i.Tc)([0],"int32"),r.webcamConfig.centerCrop){var a=1*r.webcamConfig.resizeWidth/r.webcamVideoElement.width,o=1*r.webcamConfig.resizeHeight/r.webcamVideoElement.height,s=(1-a)/2,u=(1-o)/2,l=s+a,c=o+u;r.cropBox=Object(i.Uc)([u,s,c,l],[1,4])}else r.cropBox=Object(i.Uc)([0,0,1,1],[1,4]);return r}o(t,e),t.prototype.summary=function(){return"webcam"},t.create=function(e,n){return void 0===n&&(n={}),s(this,void 0,void 0,(function(){var r;return u(this,(function(a){switch(a.label){case 0:if(Object(i.W)().get("IS_NODE"))throw new Error("tf.data.webcam is only supported in browser environment.");if(!e){if(e=document.createElement("video"),!n.resizeWidth||!n.resizeHeight)throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");e.width=n.resizeWidth,e.height=n.resizeHeight}return[4,(r=new t(e,n)).start()];case 1:return a.sent(),[2,r]}}))}))},t.prototype.start=function(){return s(this,void 0,void 0,(function(){var e,t,n=this;return u(this,(function(r){switch(r.label){case 0:this.webcamConfig.facingMode&&i.dd.assert("user"===this.webcamConfig.facingMode||"environment"===this.webcamConfig.facingMode,(function(){return"Invalid webcam facing mode: "+n.webcamConfig.facingMode+". Please provide 'user' or 'environment'"})),r.label=1;case 1:return r.trys.push([1,3,,4]),e=this,[4,navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}})];case 2:return e.stream=r.sent(),[3,4];case 3:throw(t=r.sent()).message="Error thrown while initializing video stream: "+t.message,t;case 4:if(!this.stream)throw new Error("Could not obtain video from webcam.");try{this.webcamVideoElement.srcObject=this.stream}catch(e){console.log(e),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,[2,new Promise((function(e){n.webcamVideoElement.onloadedmetadata=function(){e()}}))]}}))}))},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){if(this.isClosed)return[2,{value:null,done:!0}];try{e=i.y.fromPixels(this.webcamVideoElement)}catch(e){throw new Error("Error thrown converting video to pixels: "+JSON.stringify(e))}if(!this.resize)return[2,{value:e,done:!1}];try{return[2,{value:this.cropAndResizeFrame(e),done:!1}]}catch(e){throw new Error("Error thrown cropping the video: "+e.message)}finally{e.dispose()}return[2]}))}))},t.prototype.needToResize=function(){return!(!this.webcamConfig.resizeWidth||!this.webcamConfig.resizeHeight||this.webcamVideoElement.width===this.webcamConfig.resizeWidth&&this.webcamVideoElement.height===this.webcamConfig.resizeHeight)},t.prototype.cropAndResizeFrame=function(e){var t=this;return Object(i.Wc)((function(){var n,r=e.toFloat().expandDims(0),a=(n=i.ob.cropAndResize(r,t.cropBox,t.cropBoxInd,t.cropSize,"bilinear")).shape;return n.reshape(a.slice(1))}))},t.prototype.capture=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.next()];case 1:return[2,e.sent().value]}}))}))},t.prototype.stop=function(){this.stream.getTracks().forEach((function(e){return e.stop()}));try{this.webcamVideoElement.srcObject=null}catch(e){console.log(e),this.webcamVideoElement.src=null}this.isClosed=!0},t.prototype.toArray=function(){throw new Error("Can not convert infinite video stream to array.")}}(R),function(){}),se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.split=function(e){return new ue(this,e)},t}(R),ue=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.impl=new le(t,n),r}return o(t,e),t.prototype.summary=function(){return this.impl.summary()},t.prototype.next=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return[2,this.impl.next()]}))}))},t}(se),le=function(e){function t(t,n){var r=e.call(this)||this;return r.upstream=t,r.separator=n,r.carryover="",r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Split('"+this.separator+"')"},t.prototype.pump=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,i;return u(this,(function(a){switch(a.label){case 0:return[4,this.upstream.next()];case 1:if((e=a.sent()).done)return""===this.carryover?[2,!1]:(this.outputQueue.push(this.carryover),this.carryover="",[2,!0]);for((t=e.value.split(this.separator))[0]=this.carryover+t[0],n=0,r=t.slice(0,-1);n<r.length;n++)i=r[n],this.outputQueue.push(i);return this.carryover=t[t.length-1],[2,!0]}}))}))},t}(W),ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.decodeUTF8=function(){return new fe(this)},t}(R),fe=function(e){function t(t){var n=e.call(this)||this;return n.upstream=t,n.impl=new he(t),n}return o(t,e),t.prototype.summary=function(){return this.impl.summary()},t.prototype.next=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return[2,this.impl.next()]}))}))},t}(se),he=function(e){function t(t){var r=e.call(this)||this;if(r.upstream=t,Object(i.W)().get("IS_BROWSER"))r.decoder=new TextDecoder("utf-8");else{var a=n(149).StringDecoder;r.decoder=new a("utf8")}return r}return o(t,e),t.prototype.summary=function(){return this.upstream.summary()+" -> Utf8"},t.prototype.pump=function(){return s(this,void 0,void 0,(function(){var e,t,n;return u(this,(function(a){switch(a.label){case 0:return[4,this.upstream.next()];case 1:return(e=a.sent()).done?[2,!1]:(t=e.value,n=Object(i.W)().get("IS_BROWSER")?this.decoder.decode(t,{stream:!0}):this.decoder.write(r.from(t.buffer)),this.outputQueue.push(n),[2,!0])}}))}))},t}(W),de=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;return r.file=t,r.options=n,i.dd.assert(t instanceof Uint8Array||!!Object(i.W)().get("IS_BROWSER")&&(t instanceof File||t instanceof Blob),(function(){return"FileChunkIterator only supports File, Blob and Uint8Array right now."})),r.offset=n.offset||0,r.chunkSize=n.chunkSize||1048576,r}return o(t,e),t.prototype.summary=function(){return"FileChunks "+this.file},t.prototype.next=function(){return s(this,void 0,void 0,(function(){var e,t,n=this;return u(this,(function(r){switch(r.label){case 0:return this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size)?[2,{value:null,done:!0}]:(e=new Promise((function(e,t){var r=n.offset+n.chunkSize;if(n.file instanceof Uint8Array)e(new Uint8Array(n.file.slice(n.offset,r)));else{var i=new FileReader;i.onload=function(n){var r=i.result;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),!(r instanceof Uint8Array))return t(new TypeError("FileReader returned unknown type."));e(r)},i.onabort=function(e){return t(new Error("Aborted"))},i.onerror=function(e){return t(new Error(e.type))};var a=n.file.slice(n.offset,r);i.readAsArrayBuffer(a)}n.offset=r})),t={},[4,e]);case 1:return[2,(t.value=r.sent(),t.done=!1,t)]}}))}))},t}(ce);function pe(e,t){return void 0===t&&(t={}),s(this,void 0,void 0,(function(){var n,r,a,o,s;return u(this,(function(u){switch(u.label){case 0:return"string"==typeof e?n=e:(n=e.url,r=me(e)),[4,i.dd.fetch(n,r)];case 1:return(a=u.sent()).ok?(s=Uint8Array.bind,[4,a.arrayBuffer()]):[3,3];case 2:return o=new(s.apply(Uint8Array,[void 0,u.sent()])),[2,new de(o,t)];case 3:throw new Error(a.statusText)}}))}))}var me=function(e){return{method:e.method,headers:e.headers,body:e.body,mode:e.mode,credentials:e.credentials,cache:e.cache,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity}};function ge(e){return"string"==typeof e&&"file://"===e.substr(0,7)}var ve=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;return r.input=t,r.options=n,r}return o(t,e),t.prototype.iterator=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){return ge(this.input)&&Object(i.W)().get("IS_NODE")&&(e=n(150),this.input=e.readFileSync(this.input.substr(7))),[2,new de(this.input,this.options)]}))}))},t}(oe);!function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this)||this;return r.url=t,r.fileOptions=n,r}o(t,e),t.prototype.iterator=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return ge(this.url)?[2,new ve(this.url,this.fileOptions).iterator()]:[2,pe(this.url,this.fileOptions)]}))}))}}(oe);var ye="1.7.4"}).call(this,n(27),n(32).Buffer)},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s}));var r=n(88),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function o(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var i;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var u=e,l=t,c=[],f=c,h=!1;function d(){f===c&&(f=c.slice())}function p(){if(h)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function m(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(h)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return d(),f.push(e),function(){if(t){if(h)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,d();var n=f.indexOf(e);f.splice(n,1),c=null}}}function g(e){if(!o(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,l=u(l,e)}finally{h=!1}for(var t=c=f,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,g({type:a.REPLACE})}function y(){var e,t=m;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(p())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e}return g({type:a.INIT}),(i={dispatch:g,subscribe:m,getState:p,replaceReducer:v})[r.a]=y,i}function u(e,t){return function(){return t(e.apply(this,arguments))}}function l(e,t){if("function"===typeof e)return u(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=u(i,t))}return n}},function(e,t,n){"use strict";var r=n(35),i=!1,a=!1;try{var o={get passive(){return i=!0},get once(){return a=i=!0}};r.a&&(window.addEventListener("test",o,o),window.removeEventListener("test",o,!0))}catch(s){}t.a=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!a){var o=r.once,s=r.capture,u=n;!a&&o&&(u=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=u),e.addEventListener(t,u,i?r:s)}e.addEventListener(t,n,r)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e){var t=Object(r.useRef)(null);return Object(r.useEffect)((function(){t.current=e})),t.current}},function(e,t,n){"use strict";function r(e){e.offsetHeight}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4);function i(e){var t,n,i,a,o,s=e.enabled,u=e.enableEvents,l=e.placement,c=e.flip,f=e.offset,h=e.containerPadding,d=e.arrowElement,p=e.popperConfig,m=void 0===p?{}:p,g=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(m.modifiers);return Object(r.a)({},m,{placement:l,enabled:s,modifiers:(o=Object(r.a)({},g,{eventListeners:{enabled:u},preventOverflow:Object(r.a)({},g.preventOverflow,{options:h?Object(r.a)({padding:h},null==(t=g.preventOverflow)?void 0:t.options):null==(n=g.preventOverflow)?void 0:n.options}),offset:{options:Object(r.a)({offset:f},null==(i=g.offset)?void 0:i.options)},arrow:Object(r.a)({},g.arrow,{enabled:!!d,options:Object(r.a)({},null==(a=g.arrow)?void 0:a.options,{element:d})}),flip:Object(r.a)({enabled:!!c},g.flip)}),void 0===o&&(o={}),Array.isArray(o)?o:Object.keys(o).map((function(e){return o[e].name=e,o[e]})))})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i=n(50);function a(e){var t=window.getComputedStyle(e);return{top:parseFloat(t.marginTop)||0,right:parseFloat(t.marginRight)||0,bottom:parseFloat(t.marginBottom)||0,left:parseFloat(t.marginLeft)||0}}function o(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null);return[Object(r.useCallback)((function(n){n&&(Object(i.a)(n,"popover")||Object(i.a)(n,"dropdown-menu"))&&(t.current=a(n),n.style.margin="0",e.current=n)}),[]),[Object(r.useMemo)((function(){return{name:"offset",options:{offset:function(e){var n=e.placement;if(!t.current)return[0,0];var r=t.current,i=r.top,a=r.left,o=r.bottom,s=r.right;switch(n.split("-")[0]){case"top":return[0,o];case"left":return[0,s];case"bottom":return[0,i];case"right":return[0,a];default:return[0,0]}}}}}),[t]),Object(r.useMemo)((function(){return{name:"popoverArrowMargins",enabled:!0,phase:"main",requiresIfExists:["arrow"],effect:function(t){var n=t.state;if(e.current&&n.elements.arrow&&Object(i.a)(e.current,"popover")&&n.modifiersData["arrow#persistent"]){var r=a(n.elements.arrow),o=r.top,s=r.right,u=o||s;return n.modifiersData["arrow#persistent"].padding={top:u,left:u,right:u,bottom:u},n.elements.arrow.style.margin="0",function(){n.elements.arrow&&(n.elements.arrow.style.margin="")}}}}}),[])]]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(){return Object(r.useReducer)((function(e){return!e}),!1)[1]}},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(9),o=n.n(a),s=n(1),u=n.n(s),l=n(11),c=u.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,s=e.children,c=e.as,f=void 0===c?"div":c,h=Object(i.a)(e,["bsPrefix","className","children","as"]);return n=Object(l.a)(n,"nav-item"),u.a.createElement(f,Object(r.a)({},h,{ref:t,className:o()(a,n)}),s)}));c.displayName="NavItem",t.a=c},function(e,t,n){"use strict";function r(e){return e.split("-")[0]}function i(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function a(e,t){var n=Boolean(t.getRootNode&&t.getRootNode().host);if(e.contains(t))return!0;if(n){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function o(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t?t.defaultView:window}return e}function s(e){return e?(e.nodeName||"").toLowerCase():null}function u(e){return o(e).getComputedStyle(e)}function l(e){return e instanceof o(e).Element||e instanceof Element}function c(e){return e instanceof o(e).HTMLElement||e instanceof HTMLElement}function f(e){return["table","td","th"].indexOf(s(e))>=0}function h(e){return(l(e)?e.ownerDocument:e.document).documentElement}function d(e){return"html"===s(e)?e:e.assignedSlot||e.parentNode||e.host||h(e)}function p(e){if(!c(e)||"fixed"===u(e).position)return null;var t=e.offsetParent;if(t){var n=h(t);if("body"===s(t)&&"static"===u(t).position&&"static"!==u(n).position)return n}return t}function m(e){for(var t=o(e),n=p(e);n&&f(n)&&"static"===u(n).position;)n=p(n);return n&&"body"===s(n)&&"static"===u(n).position?t:n||function(e){for(var t=d(e);c(t)&&["html","body"].indexOf(s(t))<0;){var n=u(t);if("none"!==n.transform||"none"!==n.perspective||n.willChange&&"auto"!==n.willChange)return t;t=t.parentNode}return null}(e)||t}function g(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function v(e,t,n){return Math.max(e,Math.min(t,n))}function y(e){return Object.assign(Object.assign({},{top:0,right:0,bottom:0,left:0}),e)}function b(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}n.d(t,"a",(function(){return pe})),n.d(t,"b",(function(){return M}));var w="top",S="bottom",x="right",_="left",T="auto",E=[w,S,x,_],k="start",C="end",A="viewport",O="popper",I=E.reduce((function(e,t){return e.concat([t+"-"+k,t+"-"+C])}),[]),M=[].concat(E,[T]).reduce((function(e,t){return e.concat([t,t+"-"+k,t+"-"+C])}),[]),D=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var R={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,a=e.name,o=n.elements.arrow,s=n.modifiersData.popperOffsets,u=r(n.placement),l=g(u),c=[_,x].indexOf(u)>=0?"height":"width";if(o&&s){var f=n.modifiersData[a+"#persistent"].padding,h=i(o),d="y"===l?w:_,p="y"===l?S:x,y=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],b=s[l]-n.rects.reference[l],T=m(o),E=T?"y"===l?T.clientHeight||0:T.clientWidth||0:0,k=y/2-b/2,C=f[d],A=E-h[c]-f[p],O=E/2-h[c]/2+k,I=v(C,O,A),M=l;n.modifiersData[a]=((t={})[M]=I,t.centerOffset=I-O,t)}},effect:function(e){var t=e.state,n=e.options,r=e.name,i=n.element,o=void 0===i?"[data-popper-arrow]":i,s=n.padding,u=void 0===s?0:s;null!=o&&("string"!==typeof o||(o=t.elements.popper.querySelector(o)))&&a(t.elements.popper,o)&&(t.elements.arrow=o,t.modifiersData[r+"#persistent"]={padding:y("number"!==typeof u?u:b(u,E))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},P={top:"auto",right:"auto",bottom:"auto",left:"auto"};function N(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.offsets,s=e.position,u=e.gpuAcceleration,l=e.adaptive,c=function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Math.round(t*r)/r||0,y:Math.round(n*r)/r||0}}(a),f=c.x,d=c.y,p=a.hasOwnProperty("x"),g=a.hasOwnProperty("y"),v=_,y=w,b=window;if(l){var T=m(n);T===o(n)&&(T=h(n)),i===w&&(y=S,d-=T.clientHeight-r.height,d*=u?1:-1),i===_&&(v=x,f-=T.clientWidth-r.width,f*=u?1:-1)}var E,k=Object.assign({position:s},l&&P);return u?Object.assign(Object.assign({},k),{},((E={})[y]=g?"0":"",E[v]=p?"0":"",E.transform=(b.devicePixelRatio||1)<2?"translate("+f+"px, "+d+"px)":"translate3d("+f+"px, "+d+"px, 0)",E)):Object.assign(Object.assign({},k),{},((t={})[y]=g?d+"px":"",t[v]=p?f+"px":"",t.transform="",t))}var L={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,a=void 0===i||i,o=n.adaptive,s=void 0===o||o,u={placement:r(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),N(Object.assign(Object.assign({},u),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),N(Object.assign(Object.assign({},u),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})},data:{}},F={passive:!0};var B={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,s=r.resize,u=void 0===s||s,l=o(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,F)})),u&&l.addEventListener("resize",n.update,F),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,F)})),u&&l.removeEventListener("resize",n.update,F)}},data:{}},z={left:"right",right:"left",bottom:"top",top:"bottom"};function U(e){return e.replace(/left|right|bottom|top/g,(function(e){return z[e]}))}var j={start:"end",end:"start"};function V(e){return e.replace(/start|end/g,(function(e){return j[e]}))}function G(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function W(e){var t=o(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function H(e){return G(h(e)).left+W(e).scrollLeft}function q(e){var t=u(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Q(e){return["html","body","#document"].indexOf(s(e))>=0?e.ownerDocument.body:c(e)&&q(e)?e:Q(d(e))}function X(e,t){void 0===t&&(t=[]);var n=Q(e),r="body"===s(n),i=o(n),a=r?[i].concat(i.visualViewport||[],q(n)?n:[]):n,u=t.concat(a);return r?u:u.concat(X(d(a)))}function Y(e){return Object.assign(Object.assign({},e),{},{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function K(e,t){return t===A?Y(function(e){var t=o(e),n=h(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,s=0,u=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,u=r.offsetTop)),{width:i,height:a,x:s+H(e),y:u}}(e)):c(t)?function(e){var t=G(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Y(function(e){var t=h(e),n=W(e),r=e.ownerDocument.body,i=Math.max(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Math.max(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-n.scrollLeft+H(e),s=-n.scrollTop;return"rtl"===u(r||t).direction&&(o+=Math.max(t.clientWidth,r?r.clientWidth:0)-i),{width:i,height:a,x:o,y:s}}(h(e)))}function Z(e,t,n){var r="clippingParents"===t?function(e){var t=X(d(e)),n=["absolute","fixed"].indexOf(u(e).position)>=0&&c(e)?m(e):e;return l(n)?t.filter((function(e){return l(e)&&a(e,n)&&"body"!==s(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),o=i[0],f=i.reduce((function(t,n){var r=K(e,n);return t.top=Math.max(r.top,t.top),t.right=Math.min(r.right,t.right),t.bottom=Math.min(r.bottom,t.bottom),t.left=Math.max(r.left,t.left),t}),K(e,o));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function J(e){return e.split("-")[1]}function $(e){var t,n=e.reference,i=e.element,a=e.placement,o=a?r(a):null,s=a?J(a):null,u=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(o){case w:t={x:u,y:n.y-i.height};break;case S:t={x:u,y:n.y+n.height};break;case x:t={x:n.x+n.width,y:l};break;case _:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?g(o):null;if(null!=c){var f="y"===c?"height":"width";switch(s){case k:t[c]=Math.floor(t[c])-Math.floor(n[f]/2-i[f]/2);break;case C:t[c]=Math.floor(t[c])+Math.ceil(n[f]/2-i[f]/2)}}return t}function ee(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?"clippingParents":a,s=n.rootBoundary,u=void 0===s?A:s,c=n.elementContext,f=void 0===c?O:c,d=n.altBoundary,p=void 0!==d&&d,m=n.padding,g=void 0===m?0:m,v=y("number"!==typeof g?g:b(g,E)),_=f===O?"reference":O,T=e.elements.reference,k=e.rects.popper,C=e.elements[p?_:f],I=Z(l(C)?C:C.contextElement||h(e.elements.popper),o,u),M=G(T),D=$({reference:M,element:k,strategy:"absolute",placement:i}),R=Y(Object.assign(Object.assign({},k),D)),P=f===O?R:M,N={top:I.top-P.top+v.top,bottom:P.bottom-I.bottom+v.bottom,left:I.left-P.left+v.left,right:P.right-I.right+v.right},L=e.modifiersData.offset;if(f===O&&L){var F=L[i];Object.keys(N).forEach((function(e){var t=[x,S].indexOf(e)>=0?1:-1,n=[w,S].indexOf(e)>=0?"y":"x";N[e]+=F[n]*t}))}return N}var te={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var a=n.mainAxis,o=void 0===a||a,s=n.altAxis,u=void 0===s||s,l=n.fallbackPlacements,c=n.padding,f=n.boundary,h=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,m=void 0===p||p,g=n.allowedAutoPlacements,v=t.options.placement,y=r(v),b=l||(y===v||!m?[U(v)]:function(e){if(r(e)===T)return[];var t=U(e);return[V(e),t,V(t)]}(v)),C=[v].concat(b).reduce((function(e,n){return e.concat(r(n)===T?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,a=n.boundary,o=n.rootBoundary,s=n.padding,u=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?M:l,f=J(i),h=f?u?I:I.filter((function(e){return J(e)===f})):E,d=h.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=h);var p=d.reduce((function(t,n){return t[n]=ee(e,{placement:n,boundary:a,rootBoundary:o,padding:s})[r(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:f,rootBoundary:h,padding:c,flipVariations:m,allowedAutoPlacements:g}):n)}),[]),A=t.rects.reference,O=t.rects.popper,D=new Map,R=!0,P=C[0],N=0;N<C.length;N++){var L=C[N],F=r(L),B=J(L)===k,z=[w,S].indexOf(F)>=0,j=z?"width":"height",G=ee(t,{placement:L,boundary:f,rootBoundary:h,altBoundary:d,padding:c}),W=z?B?x:_:B?S:w;A[j]>O[j]&&(W=U(W));var H=U(W),q=[];if(o&&q.push(G[F]<=0),u&&q.push(G[W]<=0,G[H]<=0),q.every((function(e){return e}))){P=L,R=!1;break}D.set(L,q)}if(R)for(var Q=function(e){var t=C.find((function(t){var n=D.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return P=t,"break"},X=m?3:1;X>0;X--){if("break"===Q(X))break}t.placement!==P&&(t.modifiersData[i]._skip=!0,t.placement=P,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ne(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function re(e){return[w,x,S,_].some((function(t){return e[t]>=0}))}var ie={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=ee(t,{elementContext:"reference"}),s=ee(t,{altBoundary:!0}),u=ne(o,r),l=ne(s,i,a),c=re(u),f=re(l);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-reference-hidden":c,"data-popper-escaped":f})}};var ae={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,a=n.offset,o=void 0===a?[0,0]:a,s=M.reduce((function(e,n){return e[n]=function(e,t,n){var i=r(e),a=[_,w].indexOf(i)>=0?-1:1,o="function"===typeof n?n(Object.assign(Object.assign({},t),{},{placement:e})):n,s=o[0],u=o[1];return s=s||0,u=(u||0)*a,[_,x].indexOf(i)>=0?{x:u,y:s}:{x:s,y:u}}(n,t.rects,o),e}),{}),u=s[t.placement],l=u.x,c=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}};var oe={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=$({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var se={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,a=e.name,o=n.mainAxis,s=void 0===o||o,u=n.altAxis,l=void 0!==u&&u,c=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.padding,p=n.tether,y=void 0===p||p,b=n.tetherOffset,T=void 0===b?0:b,E=ee(t,{boundary:c,rootBoundary:f,padding:d,altBoundary:h}),C=r(t.placement),A=J(t.placement),O=!A,I=g(C),M="x"===I?"y":"x",D=t.modifiersData.popperOffsets,R=t.rects.reference,P=t.rects.popper,N="function"===typeof T?T(Object.assign(Object.assign({},t.rects),{},{placement:t.placement})):T,L={x:0,y:0};if(D){if(s){var F="y"===I?w:_,B="y"===I?S:x,z="y"===I?"height":"width",U=D[I],j=D[I]+E[F],V=D[I]-E[B],G=y?-P[z]/2:0,W=A===k?R[z]:P[z],H=A===k?-P[z]:-R[z],q=t.elements.arrow,Q=y&&q?i(q):{width:0,height:0},X=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Y=X[F],K=X[B],Z=v(0,R[z],Q[z]),$=O?R[z]/2-G-Z-Y-N:W-Z-Y-N,te=O?-R[z]/2+G+Z+K+N:H+Z+K+N,ne=t.elements.arrow&&m(t.elements.arrow),re=ne?"y"===I?ne.clientTop||0:ne.clientLeft||0:0,ie=t.modifiersData.offset?t.modifiersData.offset[t.placement][I]:0,ae=D[I]+$-ie-re,oe=D[I]+te-ie,se=v(y?Math.min(j,ae):j,U,y?Math.max(V,oe):V);D[I]=se,L[I]=se-U}if(l){var ue="x"===I?w:_,le="x"===I?S:x,ce=D[M],fe=v(ce+E[ue],ce,ce-E[le]);D[M]=fe,L[M]=fe-ce}t.modifiersData[a]=L}},requiresIfExists:["offset"]};function ue(e,t,n){void 0===n&&(n=!1);var r=h(t),i=G(e),a=c(t),u={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(a||!a&&!n)&&(("body"!==s(t)||q(r))&&(u=function(e){return e!==o(e)&&c(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:W(e);var t}(t)),c(t)?((l=G(t)).x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=H(r))),{x:i.left+u.scrollLeft-l.x,y:i.top+u.scrollTop-l.y,width:i.width,height:i.height}}function le(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function ce(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var fe={placement:"bottom",modifiers:[],strategy:"absolute"};function he(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function de(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,o=void 0===a?fe:a;return function(e,t,n){void 0===n&&(n=o);var a={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},fe),o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],u=!1,c={state:a,setOptions:function(n){f(),a.options=Object.assign(Object.assign(Object.assign({},o),a.options),n),a.scrollParents={reference:l(e)?X(e):e.contextElement?X(e.contextElement):[],popper:X(t)};var i=function(e){var t=le(e);return D.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign(Object.assign(Object.assign({},n),t),{},{options:Object.assign(Object.assign({},n.options),t.options),data:Object.assign(Object.assign({},n.data),t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,a.options.modifiers)));return a.orderedModifiers=i.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var o=i({state:a,name:t,instance:c,options:r}),u=function(){};s.push(o||u)}})),c.update()},forceUpdate:function(){if(!u){var e=a.elements,t=e.reference,n=e.popper;if(he(t,n)){a.rects={reference:ue(t,m(n),"fixed"===a.options.strategy),popper:i(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var o=a.orderedModifiers[r],s=o.fn,l=o.options,f=void 0===l?{}:l,h=o.name;"function"===typeof s&&(a=s({state:a,options:f,name:h,instance:c})||a)}else a.reset=!1,r=-1}}},update:ce((function(){return new Promise((function(e){c.forceUpdate(),e(a)}))})),destroy:function(){f(),u=!0}};if(!he(e,t))return c;function f(){s.forEach((function(e){return e()})),s=[]}return c.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var pe=de({defaultModifiers:[ie,oe,L,B,ae,te,se,R]})},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(9),o=n.n(a),s=n(1),u=n.n(s),l=n(47),c=n(15),f=(n(40),n(48)),h=n(16),d=u.a.forwardRef((function(e,t){var n=e.active,a=e.className,l=e.eventKey,d=e.onSelect,p=e.onClick,m=e.as,g=Object(i.a)(e,["active","className","eventKey","onSelect","onClick","as"]),v=Object(h.b)(l,g.href),y=Object(s.useContext)(h.a),b=Object(s.useContext)(f.a),w=n;if(b){g.role||"tablist"!==b.role||(g.role="tab");var S=b.getControllerId(v),x=b.getControlledId(v);g["data-rb-event-key"]=v,g.id=S||g.id,g["aria-controls"]=x||g["aria-controls"],w=null==n&&null!=v?b.activeKey===v:n}"tab"===g.role&&(g.tabIndex=w?g.tabIndex:-1,g["aria-selected"]=w);var _=Object(c.a)((function(e){p&&p(e),null!=v&&(d&&d(v,e),y&&y(v,e))}));return u.a.createElement(m,Object(r.a)({},g,{ref:t,onClick:_,className:o()(a,w&&"active")}))}));d.defaultProps={disabled:!1};var p=d,m=n(11),g={disabled:!1,as:l.a},v=u.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.disabled,s=e.className,l=e.href,c=e.eventKey,f=e.onSelect,h=e.as,d=Object(i.a)(e,["bsPrefix","disabled","className","href","eventKey","onSelect","as"]);return n=Object(m.a)(n,"nav-link"),u.a.createElement(p,Object(r.a)({},d,{href:l,ref:t,eventKey:c,as:h,disabled:a,onSelect:f,className:o()(s,n,a&&"disabled")}))}));v.displayName="NavLink",v.defaultProps=g;t.a=v},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(1),o=n(46);var s=function(e){var t=Object(o.a)();return[e[0],Object(a.useCallback)((function(n){if(t())return e[1](n)}),[t,e[1]])]},u=n(72),l=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},c={name:"applyStyles",enabled:!1},f={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");i.setAttribute("aria-describedby",o?o+","+r.id:r.id)}}},h=[];t.a=function(e,t,n){var o=void 0===n?{}:n,d=o.enabled,p=void 0===d||d,m=o.placement,g=void 0===m?"bottom":m,v=o.strategy,y=void 0===v?"absolute":v,b=o.modifiers,w=void 0===b?h:b,S=Object(i.a)(o,["enabled","placement","strategy","modifiers"]),x=Object(a.useRef)(),_=Object(a.useCallback)((function(){var e;null==(e=x.current)||e.update()}),[]),T=Object(a.useCallback)((function(){var e;null==(e=x.current)||e.forceUpdate()}),[]),E=s(Object(a.useState)({placement:g,update:_,forceUpdate:T,attributes:{},styles:{popper:l(y),arrow:{}}})),k=E[0],C=E[1],A=Object(a.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),C({state:t,styles:n,attributes:r,update:_,forceUpdate:T,placement:t.placement})}}}),[_,T,C]);return Object(a.useEffect)((function(){x.current&&p&&x.current.setOptions({placement:g,strategy:y,modifiers:[].concat(w,[A,c])})}),[y,g,A,p]),Object(a.useEffect)((function(){if(p&&null!=e&&null!=t)return x.current=Object(u.a)(e,t,Object(r.a)({},S,{placement:g,strategy:y,modifiers:[].concat(w,[f,A])})),function(){null!=x.current&&(x.current.destroy(),x.current=void 0,C((function(e){return Object(r.a)({},e,{attributes:{},styles:{popper:l(y)}})})))}}),[p,e,t]),k}},function(e,t,n){"use strict";var r=n(41),i=n(26),a=n(1),o=n(15),s=n(40),u=n.n(s),l=n(18),c=n(42),f=function(){};var h=function(e){return e&&("current"in e?e.current:e)};t.a=function(e,t,n){var s=void 0===n?{}:n,d=s.disabled,p=s.clickTrigger,m=void 0===p?"click":p,g=Object(a.useRef)(!1),v=t||f,y=Object(a.useCallback)((function(t){var n,i=h(e);u()(!!i,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),g.current=!i||!!((n=t).metaKey||n.altKey||n.ctrlKey||n.shiftKey)||!function(e){return 0===e.button}(t)||!!Object(r.a)(i,t.target)}),[e]),b=Object(o.a)((function(e){g.current||v(e)})),w=Object(o.a)((function(e){27===e.keyCode&&v(e)}));Object(a.useEffect)((function(){if(!d&&null!=e){var t,n=(t=h(e),Object(l.a)(Object(c.a)(t))),r=Object(i.a)(n,m,y,!0),a=Object(i.a)(n,m,b),o=Object(i.a)(n,"keyup",w),s=[];return"ontouchstart"in n.documentElement&&(s=[].slice.call(n.body.children).map((function(e){return Object(i.a)(e,"mousemove",f)}))),function(){r(),a(),o(),s.forEach((function(e){return e()}))}}}),[e,d,m,y,b,w])}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=o(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,a=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,a,o,s;if(l(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,console&&console.warn&&console.warn(s)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if("function"===typeof u)a(u,this,t);else{var l=u.length,c=g(u,l);for(n=0;n<l;++n)a(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,a,o;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";(function(t,r,i){var a=n(58);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:a.nextTick;y.WritableState=v;var l=Object.create(n(52));l.inherits=n(37);var c={deprecate:n(155)},f=n(94),h=n(59).Buffer,d=i.Uint8Array||function(){};var p,m=n(95);function g(){}function v(e,t){s=s||n(38),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,l=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(l||0===l)?l:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(a.nextTick(i,r),a.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),T(e,t))}(e,n,r,t,i);else{var o=x(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||S(e,n),r?u(w,e,n,o,i):w(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(e){if(s=s||n(38),!p.call(y,this)&&!(this instanceof s))return new y(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),f.call(this)}function b(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function w(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),T(e,t)}function S(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,b(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,f=n.callback;if(b(e,t,!1,t.objectMode?1:l.length,l,c,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var n=x(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}l.inherits(y,f),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===y&&(e&&e._writableState instanceof v)}})):p=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(r=e,h.isBuffer(r)||r instanceof d);return s&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=g),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),a.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),a.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,a){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=h.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,i,a);return u}(this,i,s,e,t,n)),o},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||S(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,T(e,t),n&&(t.finished?a.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(23),n(92).setImmediate,n(27))},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";var r=r||{};r.Dictionary=r.Dictionary||{},r.Utils=r.Utils||n(39),r.Dictionary.dictPrivate={"0207":{"101F":["FE","ElscintDataScale"]}},r.Dictionary.dict={"0002":{"0001":["OB","FileMetaInformationVersion"],"0002":["UI","MediaStoredSOPClassUID"],"0003":["UI","MediaStoredSOPInstanceUID"],"0010":["UI","TransferSyntaxUID"],"0012":["UI","ImplementationClassUID"],"0013":["SH","ImplementationVersionName"],"0016":["AE","SourceApplicationEntityTitle"],"0100":["UI","PrivateInformationCreatorUID"],"0102":["OB","PrivateInformation"]},"0004":{1130:["CS","FilesetID"],1141:["CS","FilesetDescriptorFileFileID"],1142:["CS","FilesetDescriptorFileFormat"],1200:["UL","RootDirectoryEntitysFirstDirectoryRecordOffset"],1202:["UL","RootDirectoryEntitysLastDirectoryRecordOffset"],1212:["US","File-setConsistenceFlag"],1220:["SQ","DirectoryRecordSequence"],1400:["UL","NextDirectoryRecordOffset"],1410:["US","RecordInuseFlag"],1420:["UL","ReferencedLowerlevelDirectoryEntityOffset"],1430:["CS","DirectoryRecordType"],1432:["UI","PrivateRecordUID"],1500:["CS","ReferencedFileID"],1510:["UI","ReferencedSOPClassUIDInFile"],1511:["UI","ReferencedSOPInstanceUIDInFile"],1600:["UL","NumberOfReferences"]},"0008":{"0001":["UL","LengthToEnd"],"0005":["CS","SpecificCharacterSet"],"0006":["SQ","LanguageCodeSequence"],"0008":["CS","ImageType"],"0010":["SH","RecognitionCode"],"0012":["DA","InstanceCreationDate"],"0013":["TM","InstanceCreationTime"],"0014":["UI","InstanceCreatorUID"],"0016":["UI","SOPClassUID"],"0018":["UI","SOPInstanceUID"],"001A":["UI","RelatedGeneralSOPClassUID"],"001B":["UI","OriginalSpecializedSOPClassUID"],"0020":["DA","StudyDate"],"0021":["DA","SeriesDate"],"0022":["DA","AcquisitionDate"],"0023":["DA","ContentDate"],"0024":["DA","OverlayDate"],"0025":["DA","CurveDate"],"002A":["DT","AcquisitionDateTime"],"0030":["TM","StudyTime"],"0031":["TM","SeriesTime"],"0032":["TM","AcquisitionTime"],"0033":["TM","ContentTime"],"0034":["TM","OverlayTime"],"0035":["TM","CurveTime"],"0040":["US","DataSetType"],"0041":["LO","DataSetSubtype"],"0042":["CS","NuclearMedicineSeriesType"],"0050":["SH","AccessionNumber"],"0051":["SQ","IssuerOfAccessionNumberSequence"],"0052":["CS","QueryRetrieveLevel"],"0054":["AE","RetrieveAETitle"],"0056":["CS","InstanceAvailability"],"0058":["UI","FailedSOPInstanceUIDList"],"0060":["CS","Modality"],"0061":["CS","ModalitiesInStudy"],"0062":["UI","SOPClassesInStudy"],"0064":["CS","ConversionType"],"0068":["CS","PresentationIntentType"],"0070":["LO","Manufacturer"],"0080":["LO","InstitutionName"],"0081":["ST","InstitutionAddress"],"0082":["SQ","InstitutionCodeSequence"],"0090":["PN","ReferringPhysicianName"],"0092":["ST","ReferringPhysicianAddress"],"0094":["SH","ReferringPhysicianTelephoneNumbers"],"0096":["SQ","ReferringPhysicianIdentificationSequence"],"0100":["SH","CodeValue"],"0102":["SH","CodingSchemeDesignator"],"0103":["SH","CodingSchemeVersion"],"0104":["LO","CodeMeaning"],"0105":["CS","MappingResource"],"0106":["DT","ContextGroupVersion"],"0107":["DT","ContextGroupLocalVersion"],"010B":["CS","ContextGroupExtensionFlag"],"010C":["UI","CodingSchemeUID"],"010D":["UI","ContextGroupExtensionCreatorUID"],"010F":["CS","ContextIdentifier"],"0110":["SQ","CodingSchemeIdentificationSequence"],"0112":["LO","CodingSchemeRegistry"],"0114":["ST","CodingSchemeExternalID"],"0115":["ST","CodingSchemeName"],"0116":["ST","CodingSchemeResponsibleOrganization"],"0117":["UI","ContextUID"],"0201":["SH","TimezoneOffsetFromUTC"],1e3:["AE","NetworkID"],1010:["SH","StationName"],1030:["LO","StudyDescription"],1032:["SQ","ProcedureCodeSequence"],"103E":["LO","SeriesDescription"],"103F":["SQ","SeriesDescriptionCodeSequence"],1040:["LO","InstitutionalDepartmentName"],1048:["PN","PhysiciansOfRecord"],1049:["SQ","PhysiciansOfRecordIdentificationSequence"],1050:["PN","PerformingPhysicianName"],1052:["SQ","PerformingPhysicianIdentificationSequence"],1060:["PN","NameOfPhysiciansReadingStudy"],1062:["SQ","PhysiciansReadingStudyIdentificationSequence"],1070:["PN","OperatorsName"],1072:["SQ","OperatorIdentificationSequence"],1080:["LO","AdmittingDiagnosesDescription"],1084:["SQ","AdmittingDiagnosesCodeSequence"],1090:["LO","ManufacturerModelName"],1100:["SQ","ReferencedResultsSequence"],1110:["SQ","ReferencedStudySequence"],1111:["SQ","ReferencedPerformedProcedureStepSequence"],1115:["SQ","ReferencedSeriesSequence"],1120:["SQ","ReferencedPatientSequence"],1125:["SQ","ReferencedVisitSequence"],1130:["SQ","ReferencedOverlaySequence"],1134:["SQ","ReferencedStereometricInstanceSequence"],"113A":["SQ","ReferencedWaveformSequence"],1140:["SQ","ReferencedImageSequence"],1145:["SQ","ReferencedCurveSequence"],"114A":["SQ","ReferencedInstanceSequence"],"114B":["SQ","ReferencedRealWorldValueMappingInstanceSequence"],1150:["UI","ReferencedSOPClassUID"],1155:["UI","ReferencedSOPInstanceUID"],"115A":["UI","SOPClassesSupported"],1160:["IS","ReferencedFrameNumber"],1161:["UL","SimpleFrameList"],1162:["UL","CalculatedFrameList"],1163:["FD","TimeRange"],1164:["SQ","FrameExtractionSequence"],1167:["UI","MultiFrameSourceSOPInstanceUID"],1195:["UI","TransactionUID"],1197:["US","FailureReason"],1198:["SQ","FailedSOPSequence"],1199:["SQ","ReferencedSOPSequence"],1200:["SQ","StudiesContainingOtherReferencedInstancesSequence"],1250:["SQ","RelatedSeriesSequence"],2110:["CS","LossyImageCompressionRetired"],2111:["ST","DerivationDescription"],2112:["SQ","SourceImageSequence"],2120:["SH","StageName"],2122:["IS","StageNumber"],2124:["IS","NumberOfStages"],2127:["SH","ViewName"],2128:["IS","ViewNumber"],2129:["IS","NumberOfEventTimers"],"212A":["IS","NumberOfViewsInStage"],2130:["DS","EventElapsedTimes"],2132:["LO","EventTimerNames"],2133:["SQ","EventTimerSequence"],2134:["FD","EventTimeOffset"],2135:["SQ","EventCodeSequence"],2142:["IS","StartTrim"],2143:["IS","StopTrim"],2144:["IS","RecommendedDisplayFrameRate"],2200:["CS","TransducerPosition"],2204:["CS","TransducerOrientation"],2208:["CS","AnatomicStructure"],2218:["SQ","AnatomicRegionSequence"],2220:["SQ","AnatomicRegionModifierSequence"],2228:["SQ","PrimaryAnatomicStructureSequence"],2229:["SQ","AnatomicStructureSpaceOrRegionSequence"],2230:["SQ","PrimaryAnatomicStructureModifierSequence"],2240:["SQ","TransducerPositionSequence"],2242:["SQ","TransducerPositionModifierSequence"],2244:["SQ","TransducerOrientationSequence"],2246:["SQ","TransducerOrientationModifierSequence"],2251:["SQ","AnatomicStructureSpaceOrRegionCodeSequenceTrial"],2253:["SQ","AnatomicPortalOfEntranceCodeSequenceTrial"],2255:["SQ","AnatomicApproachDirectionCodeSequenceTrial"],2256:["ST","AnatomicPerspectiveDescriptionTrial"],2257:["SQ","AnatomicPerspectiveCodeSequenceTrial"],2258:["ST","AnatomicLocationOfExaminingInstrumentDescriptionTrial"],2259:["SQ","AnatomicLocationOfExaminingInstrumentCodeSequenceTrial"],"225A":["SQ","AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial"],"225C":["SQ","OnAxisBackgroundAnatomicStructureCodeSequenceTrial"],3001:["SQ","AlternateRepresentationSequence"],3010:["UI","IrradiationEventUID"],4e3:["LT","IdentifyingComments"],9007:["CS","FrameType"],9092:["SQ","ReferencedImageEvidenceSequence"],9121:["SQ","ReferencedRawDataSequence"],9123:["UI","CreatorVersionUID"],9124:["SQ","DerivationImageSequence"],9154:["SQ","SourceImageEvidenceSequence"],9205:["CS","PixelPresentation"],9206:["CS","VolumetricProperties"],9207:["CS","VolumeBasedCalculationTechnique"],9208:["CS","ComplexImageComponent"],9209:["CS","AcquisitionContrast"],9215:["SQ","DerivationCodeSequence"],9237:["SQ","ReferencedPresentationStateSequence"],9410:["SQ","ReferencedOtherPlaneSequence"],9458:["SQ","FrameDisplaySequence"],9459:["FL","RecommendedDisplayFrameRateInFloat"],9460:["CS","SkipFrameRangeFlag"]},"0010":{"0010":["PN","PatientName"],"0020":["LO","PatientID"],"0021":["LO","IssuerOfPatientID"],"0022":["CS","TypeOfPatientID"],"0024":["SQ","IssuerOfPatientIDQualifiersSequence"],"0030":["DA","PatientBirthDate"],"0032":["TM","PatientBirthTime"],"0040":["CS","PatientSex"],"0050":["SQ","PatientInsurancePlanCodeSequence"],"0101":["SQ","PatientPrimaryLanguageCodeSequence"],"0102":["SQ","PatientPrimaryLanguageModifierCodeSequence"],1e3:["LO","OtherPatientIDs"],1001:["PN","OtherPatientNames"],1002:["SQ","OtherPatientIDsSequence"],1005:["PN","PatientBirthName"],1010:["AS","PatientAge"],1020:["DS","PatientSize"],1021:["SQ","PatientSizeCodeSequence"],1030:["DS","PatientWeight"],1040:["LO","PatientAddress"],1050:["LO","InsurancePlanIdentification"],1060:["PN","PatientMotherBirthName"],1080:["LO","MilitaryRank"],1081:["LO","BranchOfService"],1090:["LO","MedicalRecordLocator"],2e3:["LO","MedicalAlerts"],2110:["LO","Allergies"],2150:["LO","CountryOfResidence"],2152:["LO","RegionOfResidence"],2154:["SH","PatientTelephoneNumbers"],2160:["SH","EthnicGroup"],2180:["SH","Occupation"],"21A0":["CS","SmokingStatus"],"21B0":["LT","AdditionalPatientHistory"],"21C0":["US","PregnancyStatus"],"21D0":["DA","LastMenstrualDate"],"21F0":["LO","PatientReligiousPreference"],2201:["LO","PatientSpeciesDescription"],2202:["SQ","PatientSpeciesCodeSequence"],2203:["CS","PatientSexNeutered"],2210:["CS","AnatomicalOrientationType"],2292:["LO","PatientBreedDescription"],2293:["SQ","PatientBreedCodeSequence"],2294:["SQ","BreedRegistrationSequence"],2295:["LO","BreedRegistrationNumber"],2296:["SQ","BreedRegistryCodeSequence"],2297:["PN","ResponsiblePerson"],2298:["CS","ResponsiblePersonRole"],2299:["LO","ResponsibleOrganization"],4e3:["LT","PatientComments"],9431:["FL","ExaminedBodyThickness"]},"0012":{"0010":["LO","ClinicalTrialSponsorName"],"0020":["LO","ClinicalTrialProtocolID"],"0021":["LO","ClinicalTrialProtocolName"],"0030":["LO","ClinicalTrialSiteID"],"0031":["LO","ClinicalTrialSiteName"],"0040":["LO","ClinicalTrialSubjectID"],"0042":["LO","ClinicalTrialSubjectReadingID"],"0050":["LO","ClinicalTrialTimePointID"],"0051":["ST","ClinicalTrialTimePointDescription"],"0060":["LO","ClinicalTrialCoordinatingCenterName"],"0062":["CS","PatientIdentityRemoved"],"0063":["LO","DeidentificationMethod"],"0064":["SQ","DeidentificationMethodCodeSequence"],"0071":["LO","ClinicalTrialSeriesID"],"0072":["LO","ClinicalTrialSeriesDescription"],"0081":["LO","ClinicalTrialProtocolEthicsCommitteeName"],"0082":["LO","ClinicalTrialProtocolEthicsCommitteeApprovalNumber"],"0083":["SQ","ConsentForClinicalTrialUseSequence"],"0084":["CS","DistributionType"],"0085":["CS","ConsentForDistributionFlag"]},"0014":{"0023":["ST","CADFileFormat"],"0024":["ST","ComponentReferenceSystem"],"0025":["ST","ComponentManufacturingProcedure"],"0028":["ST","ComponentManufacturer"],"0030":["DS","MaterialThickness"],"0032":["DS","MaterialPipeDiameter"],"0034":["DS","MaterialIsolationDiameter"],"0042":["ST","MaterialGrade"],"0044":["ST","MaterialPropertiesFileID"],"0045":["ST","MaterialPropertiesFileFormat"],"0046":["LT","MaterialNotes"],"0050":["CS","ComponentShape"],"0052":["CS","CurvatureType"],"0054":["DS","OuterDiameter"],"0056":["DS","InnerDiameter"],1010:["ST","ActualEnvironmentalConditions"],1020:["DA","ExpiryDate"],1040:["ST","EnvironmentalConditions"],2002:["SQ","EvaluatorSequence"],2004:["IS","EvaluatorNumber"],2006:["PN","EvaluatorName"],2008:["IS","EvaluationAttempt"],2012:["SQ","IndicationSequence"],2014:["IS","IndicationNumber "],2016:["SH","IndicationLabel"],2018:["ST","IndicationDescription"],"201A":["CS","IndicationType"],"201C":["CS","IndicationDisposition"],"201E":["SQ","IndicationROISequence"],2030:["SQ","IndicationPhysicalPropertySequence"],2032:["SH","PropertyLabel"],2202:["IS","CoordinateSystemNumberOfAxes "],2204:["SQ","CoordinateSystemAxesSequence"],2206:["ST","CoordinateSystemAxisDescription"],2208:["CS","CoordinateSystemDataSetMapping"],"220A":["IS","CoordinateSystemAxisNumber"],"220C":["CS","CoordinateSystemAxisType"],"220E":["CS","CoordinateSystemAxisUnits"],2210:["OB","CoordinateSystemAxisValues"],2220:["SQ","CoordinateSystemTransformSequence"],2222:["ST","TransformDescription"],2224:["IS","TransformNumberOfAxes"],2226:["IS","TransformOrderOfAxes"],2228:["CS","TransformedAxisUnits"],"222A":["DS","CoordinateSystemTransformRotationAndScaleMatrix"],"222C":["DS","CoordinateSystemTransformTranslationMatrix"],3011:["DS","InternalDetectorFrameTime"],3012:["DS","NumberOfFramesIntegrated"],3020:["SQ","DetectorTemperatureSequence"],3022:["DS","SensorName"],3024:["DS","HorizontalOffsetOfSensor"],3026:["DS","VerticalOffsetOfSensor"],3028:["DS","SensorTemperature"],3040:["SQ","DarkCurrentSequence"],3050:["OB","DarkCurrentCounts"],3060:["SQ","GainCorrectionReferenceSequence"],3070:["OB","AirCounts"],3071:["DS","KVUsedInGainCalibration"],3072:["DS","MAUsedInGainCalibration"],3073:["DS","NumberOfFramesUsedForIntegration"],3074:["LO","FilterMaterialUsedInGainCalibration"],3075:["DS","FilterThicknessUsedInGainCalibration"],3076:["DA","DateOfGainCalibration"],3077:["TM","TimeOfGainCalibration"],3080:["OB","BadPixelImage"],3099:["LT","CalibrationNotes"],4002:["SQ","PulserEquipmentSequence"],4004:["CS","PulserType"],4006:["LT","PulserNotes"],4008:["SQ","ReceiverEquipmentSequence"],"400A":["CS","AmplifierType"],"400C":["LT","ReceiverNotes"],"400E":["SQ","PreAmplifierEquipmentSequence"],"400F":["LT","PreAmplifierNotes"],4010:["SQ","TransmitTransducerSequence"],4011:["SQ","ReceiveTransducerSequence"],4012:["US","NumberOfElements"],4013:["CS","ElementShape"],4014:["DS","ElementDimensionA"],4015:["DS","ElementDimensionB"],4016:["DS","ElementPitch"],4017:["DS","MeasuredBeamDimensionA"],4018:["DS","MeasuredBeamDimensionB"],4019:["DS","LocationOfMeasuredBeamDiameter"],"401A":["DS","NominalFrequency"],"401B":["DS","MeasuredCenterFrequency"],"401C":["DS","MeasuredBandwidth"],4020:["SQ","PulserSettingsSequence"],4022:["DS","PulseWidth"],4024:["DS","ExcitationFrequency"],4026:["CS","ModulationType"],4028:["DS","Damping"],4030:["SQ","ReceiverSettingsSequence"],4031:["DS","AcquiredSoundpathLength"],4032:["CS","AcquisitionCompressionType"],4033:["IS","AcquisitionSampleSize"],4034:["DS","RectifierSmoothing"],4035:["SQ","DACSequence"],4036:["CS","DACType"],4038:["DS","DACGainPoints"],"403A":["DS","DACTimePoints"],"403C":["DS","DACAmplitude"],4040:["SQ","PreAmplifierSettingsSequence"],4050:["SQ","TransmitTransducerSettingsSequence"],4051:["SQ","ReceiveTransducerSettingsSequence"],4052:["DS","IncidentAngle"],4054:["ST","CouplingTechnique"],4056:["ST","CouplingMedium"],4057:["DS","CouplingVelocity"],4058:["DS","CrystalCenterLocationX"],4059:["DS","CrystalCenterLocationZ"],"405A":["DS","SoundPathLength"],"405C":["ST","DelayLawIdentifier"],4060:["SQ","GateSettingsSequence"],4062:["DS","GateThreshold"],4064:["DS","VelocityOfSound"],4070:["SQ","CalibrationSettingsSequence"],4072:["ST","CalibrationProcedure"],4074:["SH","ProcedureVersion"],4076:["DA","ProcedureCreationDate"],4078:["DA","ProcedureExpirationDate"],"407A":["DA","ProcedureLastModifiedDate"],"407C":["TM","CalibrationTime"],"407E":["DA","CalibrationDate"],5002:["IS","LINACEnergy"],5004:["IS","LINACOutput"]},"0018":{"0010":["LO","ContrastBolusAgent"],"0012":["SQ","ContrastBolusAgentSequence"],"0014":["SQ","ContrastBolusAdministrationRouteSequence"],"0015":["CS","BodyPartExamined"],"0020":["CS","ScanningSequence"],"0021":["CS","SequenceVariant"],"0022":["CS","ScanOptions"],"0023":["CS","MRAcquisitionType"],"0024":["SH","SequenceName"],"0025":["CS","AngioFlag"],"0026":["SQ","InterventionDrugInformationSequence"],"0027":["TM","InterventionDrugStopTime"],"0028":["DS","InterventionDrugDose"],"0029":["SQ","InterventionDrugCodeSequence"],"002A":["SQ","AdditionalDrugSequence"],"0030":["LO","Radionuclide"],"0031":["LO","Radiopharmaceutical"],"0032":["DS","EnergyWindowCenterline"],"0033":["DS","EnergyWindowTotalWidth"],"0034":["LO","InterventionDrugName"],"0035":["TM","InterventionDrugStartTime"],"0036":["SQ","InterventionSequence"],"0037":["CS","TherapyType"],"0038":["CS","InterventionStatus"],"0039":["CS","TherapyDescription"],"003A":["ST","InterventionDescription"],"0040":["IS","CineRate"],"0042":["CS","InitialCineRunState"],"0050":["DS","SliceThickness"],"0060":["DS","KVP"],"0070":["IS","CountsAccumulated"],"0071":["CS","AcquisitionTerminationCondition"],"0072":["DS","EffectiveDuration"],"0073":["CS","AcquisitionStartCondition"],"0074":["IS","AcquisitionStartConditionData"],"0075":["IS","AcquisitionTerminationConditionData"],"0080":["DS","RepetitionTime"],"0081":["DS","EchoTime"],"0082":["DS","InversionTime"],"0083":["DS","NumberOfAverages"],"0084":["DS","ImagingFrequency"],"0085":["SH","ImagedNucleus"],"0086":["IS","EchoNumbers"],"0087":["DS","MagneticFieldStrength"],"0088":["DS","SpacingBetweenSlices"],"0089":["IS","NumberOfPhaseEncodingSteps"],"0090":["DS","DataCollectionDiameter"],"0091":["IS","EchoTrainLength"],"0093":["DS","PercentSampling"],"0094":["DS","PercentPhaseFieldOfView"],"0095":["DS","PixelBandwidth"],1e3:["LO","DeviceSerialNumber"],1002:["UI","DeviceUID"],1003:["LO","DeviceID"],1004:["LO","PlateID"],1005:["LO","GeneratorID"],1006:["LO","GridID"],1007:["LO","CassetteID"],1008:["LO","GantryID"],1010:["LO","SecondaryCaptureDeviceID"],1011:["LO","HardcopyCreationDeviceID"],1012:["DA","DateOfSecondaryCapture"],1014:["TM","TimeOfSecondaryCapture"],1016:["LO","SecondaryCaptureDeviceManufacturer"],1017:["LO","HardcopyDeviceManufacturer"],1018:["LO","SecondaryCaptureDeviceManufacturerModelName"],1019:["LO","SecondaryCaptureDeviceSoftwareVersions"],"101A":["LO","HardcopyDeviceSoftwareVersion"],"101B":["LO","HardcopyDeviceManufacturerModelName"],1020:["LO","SoftwareVersions"],1022:["SH","VideoImageFormatAcquired"],1023:["LO","DigitalImageFormatAcquired"],1030:["LO","ProtocolName"],1040:["LO","ContrastBolusRoute"],1041:["DS","ContrastBolusVolume"],1042:["TM","ContrastBolusStartTime"],1043:["TM","ContrastBolusStopTime"],1044:["DS","ContrastBolusTotalDose"],1045:["IS","SyringeCounts"],1046:["DS","ContrastFlowRate"],1047:["DS","ContrastFlowDuration"],1048:["CS","ContrastBolusIngredient"],1049:["DS","ContrastBolusIngredientConcentration"],1050:["DS","SpatialResolution"],1060:["DS","TriggerTime"],1061:["LO","TriggerSourceOrType"],1062:["IS","NominalInterval"],1063:["DS","FrameTime"],1064:["LO","CardiacFramingType"],1065:["DS","FrameTimeVector"],1066:["DS","FrameDelay"],1067:["DS","ImageTriggerDelay"],1068:["DS","MultiplexGroupTimeOffset"],1069:["DS","TriggerTimeOffset"],"106A":["CS","SynchronizationTrigger"],"106C":["US","SynchronizationChannel"],"106E":["UL","TriggerSamplePosition"],1070:["LO","RadiopharmaceuticalRoute"],1071:["DS","RadiopharmaceuticalVolume"],1072:["TM","RadiopharmaceuticalStartTime"],1073:["TM","RadiopharmaceuticalStopTime"],1074:["DS","RadionuclideTotalDose"],1075:["DS","RadionuclideHalfLife"],1076:["DS","RadionuclidePositronFraction"],1077:["DS","RadiopharmaceuticalSpecificActivity"],1078:["DT","RadiopharmaceuticalStartDateTime"],1079:["DT","RadiopharmaceuticalStopDateTime"],1080:["CS","BeatRejectionFlag"],1081:["IS","LowRRValue"],1082:["IS","HighRRValue"],1083:["IS","IntervalsAcquired"],1084:["IS","IntervalsRejected"],1085:["LO","PVCRejection"],1086:["IS","SkipBeats"],1088:["IS","HeartRate"],1090:["IS","CardiacNumberOfImages"],1094:["IS","TriggerWindow"],1100:["DS","ReconstructionDiameter"],1110:["DS","DistanceSourceToDetector"],1111:["DS","DistanceSourceToPatient"],1114:["DS","EstimatedRadiographicMagnificationFactor"],1120:["DS","GantryDetectorTilt"],1121:["DS","GantryDetectorSlew"],1130:["DS","TableHeight"],1131:["DS","TableTraverse"],1134:["CS","TableMotion"],1135:["DS","TableVerticalIncrement"],1136:["DS","TableLateralIncrement"],1137:["DS","TableLongitudinalIncrement"],1138:["DS","TableAngle"],"113A":["CS","TableType"],1140:["CS","RotationDirection"],1141:["DS","AngularPosition"],1142:["DS","RadialPosition"],1143:["DS","ScanArc"],1144:["DS","AngularStep"],1145:["DS","CenterOfRotationOffset"],1146:["DS","RotationOffset"],1147:["CS","FieldOfViewShape"],1149:["IS","FieldOfViewDimensions"],1150:["IS","ExposureTime"],1151:["IS","XRayTubeCurrent"],1152:["IS","Exposure"],1153:["IS","ExposureInuAs"],1154:["DS","AveragePulseWidth"],1155:["CS","RadiationSetting"],1156:["CS","RectificationType"],"115A":["CS","RadiationMode"],"115E":["DS","ImageAndFluoroscopyAreaDoseProduct"],1160:["SH","FilterType"],1161:["LO","TypeOfFilters"],1162:["DS","IntensifierSize"],1164:["DS","ImagerPixelSpacing"],1166:["CS","Grid"],1170:["IS","GeneratorPower"],1180:["SH","CollimatorGridName"],1181:["CS","CollimatorType"],1182:["IS","FocalDistance"],1183:["DS","XFocusCenter"],1184:["DS","YFocusCenter"],1190:["DS","FocalSpots"],1191:["CS","AnodeTargetMaterial"],"11A0":["DS","BodyPartThickness"],"11A2":["DS","CompressionForce"],1200:["DA","DateOfLastCalibration"],1201:["TM","TimeOfLastCalibration"],1210:["SH","ConvolutionKernel"],1240:["IS","UpperLowerPixelValues"],1242:["IS","ActualFrameDuration"],1243:["IS","CountRate"],1244:["US","PreferredPlaybackSequencing"],1250:["SH","ReceiveCoilName"],1251:["SH","TransmitCoilName"],1260:["SH","PlateType"],1261:["LO","PhosphorType"],1300:["DS","ScanVelocity"],1301:["CS","WholeBodyTechnique"],1302:["IS","ScanLength"],1310:["US","AcquisitionMatrix"],1312:["CS","InPlanePhaseEncodingDirection"],1314:["DS","FlipAngle"],1315:["CS","VariableFlipAngleFlag"],1316:["DS","SAR"],1318:["DS","dBdt"],1400:["LO","AcquisitionDeviceProcessingDescription"],1401:["LO","AcquisitionDeviceProcessingCode"],1402:["CS","CassetteOrientation"],1403:["CS","CassetteSize"],1404:["US","ExposuresOnPlate"],1405:["IS","RelativeXRayExposure"],1411:["DS","ExposureIndex"],1412:["DS","TargetExposureIndex"],1413:["DS","DeviationIndex"],1450:["DS","ColumnAngulation"],1460:["DS","TomoLayerHeight"],1470:["DS","TomoAngle"],1480:["DS","TomoTime"],1490:["CS","TomoType"],1491:["CS","TomoClass"],1495:["IS","NumberOfTomosynthesisSourceImages"],1500:["CS","PositionerMotion"],1508:["CS","PositionerType"],1510:["DS","PositionerPrimaryAngle"],1511:["DS","PositionerSecondaryAngle"],1520:["DS","PositionerPrimaryAngleIncrement"],1521:["DS","PositionerSecondaryAngleIncrement"],1530:["DS","DetectorPrimaryAngle"],1531:["DS","DetectorSecondaryAngle"],1600:["CS","ShutterShape"],1602:["IS","ShutterLeftVerticalEdge"],1604:["IS","ShutterRightVerticalEdge"],1606:["IS","ShutterUpperHorizontalEdge"],1608:["IS","ShutterLowerHorizontalEdge"],1610:["IS","CenterOfCircularShutter"],1612:["IS","RadiusOfCircularShutter"],1620:["IS","VerticesOfThePolygonalShutter"],1622:["US","ShutterPresentationValue"],1623:["US","ShutterOverlayGroup"],1624:["US","ShutterPresentationColorCIELabValue"],1700:["CS","CollimatorShape"],1702:["IS","CollimatorLeftVerticalEdge"],1704:["IS","CollimatorRightVerticalEdge"],1706:["IS","CollimatorUpperHorizontalEdge"],1708:["IS","CollimatorLowerHorizontalEdge"],1710:["IS","CenterOfCircularCollimator"],1712:["IS","RadiusOfCircularCollimator"],1720:["IS","VerticesOfThePolygonalCollimator"],1800:["CS","AcquisitionTimeSynchronized"],1801:["SH","TimeSource"],1802:["CS","TimeDistributionProtocol"],1803:["LO","NTPSourceAddress"],2001:["IS","PageNumberVector"],2002:["SH","FrameLabelVector"],2003:["DS","FramePrimaryAngleVector"],2004:["DS","FrameSecondaryAngleVector"],2005:["DS","SliceLocationVector"],2006:["SH","DisplayWindowLabelVector"],2010:["DS","NominalScannedPixelSpacing"],2020:["CS","DigitizingDeviceTransportDirection"],2030:["DS","RotationOfScannedFilm"],3100:["CS","IVUSAcquisition"],3101:["DS","IVUSPullbackRate"],3102:["DS","IVUSGatedRate"],3103:["IS","IVUSPullbackStartFrameNumber"],3104:["IS","IVUSPullbackStopFrameNumber"],3105:["IS","LesionNumber"],4e3:["LT","AcquisitionComments"],5e3:["SH","OutputPower"],5010:["LO","TransducerData"],5012:["DS","FocusDepth"],5020:["LO","ProcessingFunction"],5021:["LO","PostprocessingFunction"],5022:["DS","MechanicalIndex"],5024:["DS","BoneThermalIndex"],5026:["DS","CranialThermalIndex"],5027:["DS","SoftTissueThermalIndex"],5028:["DS","SoftTissueFocusThermalIndex"],5029:["DS","SoftTissueSurfaceThermalIndex"],5030:["DS","DynamicRange"],5040:["DS","TotalGain"],5050:["IS","DepthOfScanField"],5100:["CS","PatientPosition"],5101:["CS","ViewPosition"],5104:["SQ","ProjectionEponymousNameCodeSequence"],5210:["DS","ImageTransformationMatrix"],5212:["DS","ImageTranslationVector"],6e3:["DS","Sensitivity"],6011:["SQ","SequenceOfUltrasoundRegions"],6012:["US","RegionSpatialFormat"],6014:["US","RegionDataType"],6016:["UL","RegionFlags"],6018:["UL","RegionLocationMinX0"],"601A":["UL","RegionLocationMinY0"],"601C":["UL","RegionLocationMaxX1"],"601E":["UL","RegionLocationMaxY1"],6020:["SL","ReferencePixelX0"],6022:["SL","ReferencePixelY0"],6024:["US","PhysicalUnitsXDirection"],6026:["US","PhysicalUnitsYDirection"],6028:["FD","ReferencePixelPhysicalValueX"],"602A":["FD","ReferencePixelPhysicalValueY"],"602C":["FD","PhysicalDeltaX"],"602E":["FD","PhysicalDeltaY"],6030:["UL","TransducerFrequency"],6031:["CS","TransducerType"],6032:["UL","PulseRepetitionFrequency"],6034:["FD","DopplerCorrectionAngle"],6036:["FD","SteeringAngle"],6038:["UL","DopplerSampleVolumeXPositionRetired"],6039:["SL","DopplerSampleVolumeXPosition"],"603A":["UL","DopplerSampleVolumeYPositionRetired"],"603B":["SL","DopplerSampleVolumeYPosition"],"603C":["UL","TMLinePositionX0Retired"],"603D":["SL","TMLinePositionX0"],"603E":["UL","TMLinePositionY0Retired"],"603F":["SL","TMLinePositionY0"],6040:["UL","TMLinePositionX1Retired"],6041:["SL","TMLinePositionX1"],6042:["UL","TMLinePositionY1Retired"],6043:["SL","TMLinePositionY1"],6044:["US","PixelComponentOrganization"],6046:["UL","PixelComponentMask"],6048:["UL","PixelComponentRangeStart"],"604A":["UL","PixelComponentRangeStop"],"604C":["US","PixelComponentPhysicalUnits"],"604E":["US","PixelComponentDataType"],6050:["UL","NumberOfTableBreakPoints"],6052:["UL","TableOfXBreakPoints"],6054:["FD","TableOfYBreakPoints"],6056:["UL","NumberOfTableEntries"],6058:["UL","TableOfPixelValues"],"605A":["FL","TableOfParameterValues"],6060:["FL","RWaveTimeVector"],7e3:["CS","DetectorConditionsNominalFlag"],7001:["DS","DetectorTemperature"],7004:["CS","DetectorType"],7005:["CS","DetectorConfiguration"],7006:["LT","DetectorDescription"],7008:["LT","DetectorMode"],"700A":["SH","DetectorID"],"700C":["DA","DateOfLastDetectorCalibration"],"700E":["TM","TimeOfLastDetectorCalibration"],7010:["IS","ExposuresOnDetectorSinceLastCalibration"],7011:["IS","ExposuresOnDetectorSinceManufactured"],7012:["DS","DetectorTimeSinceLastExposure"],7014:["DS","DetectorActiveTime"],7016:["DS","DetectorActivationOffsetFromExposure"],"701A":["DS","DetectorBinning"],7020:["DS","DetectorElementPhysicalSize"],7022:["DS","DetectorElementSpacing"],7024:["CS","DetectorActiveShape"],7026:["DS","DetectorActiveDimensions"],7028:["DS","DetectorActiveOrigin"],"702A":["LO","DetectorManufacturerName"],"702B":["LO","DetectorManufacturerModelName"],7030:["DS","FieldOfViewOrigin"],7032:["DS","FieldOfViewRotation"],7034:["CS","FieldOfViewHorizontalFlip"],7036:["FL","PixelDataAreaOriginRelativeToFOV"],7038:["FL","PixelDataAreaRotationAngleRelativeToFOV"],7040:["LT","GridAbsorbingMaterial"],7041:["LT","GridSpacingMaterial"],7042:["DS","GridThickness"],7044:["DS","GridPitch"],7046:["IS","GridAspectRatio"],7048:["DS","GridPeriod"],"704C":["DS","GridFocalDistance"],7050:["CS","FilterMaterial"],7052:["DS","FilterThicknessMinimum"],7054:["DS","FilterThicknessMaximum"],7056:["FL","FilterBeamPathLengthMinimum"],7058:["FL","FilterBeamPathLengthMaximum"],7060:["CS","ExposureControlMode"],7062:["LT","ExposureControlModeDescription"],7064:["CS","ExposureStatus"],7065:["DS","PhototimerSetting"],8150:["DS","ExposureTimeInuS"],8151:["DS","XRayTubeCurrentInuA"],9004:["CS","ContentQualification"],9005:["SH","PulseSequenceName"],9006:["SQ","MRImagingModifierSequence"],9008:["CS","EchoPulseSequence"],9009:["CS","InversionRecovery"],9010:["CS","FlowCompensation"],9011:["CS","MultipleSpinEcho"],9012:["CS","MultiPlanarExcitation"],9014:["CS","PhaseContrast"],9015:["CS","TimeOfFlightContrast"],9016:["CS","Spoiling"],9017:["CS","SteadyStatePulseSequence"],9018:["CS","EchoPlanarPulseSequence"],9019:["FD","TagAngleFirstAxis"],9020:["CS","MagnetizationTransfer"],9021:["CS","T2Preparation"],9022:["CS","BloodSignalNulling"],9024:["CS","SaturationRecovery"],9025:["CS","SpectrallySelectedSuppression"],9026:["CS","SpectrallySelectedExcitation"],9027:["CS","SpatialPresaturation"],9028:["CS","Tagging"],9029:["CS","OversamplingPhase"],9030:["FD","TagSpacingFirstDimension"],9032:["CS","GeometryOfKSpaceTraversal"],9033:["CS","SegmentedKSpaceTraversal"],9034:["CS","RectilinearPhaseEncodeReordering"],9035:["FD","TagThickness"],9036:["CS","PartialFourierDirection"],9037:["CS","CardiacSynchronizationTechnique"],9041:["LO","ReceiveCoilManufacturerName"],9042:["SQ","MRReceiveCoilSequence"],9043:["CS","ReceiveCoilType"],9044:["CS","QuadratureReceiveCoil"],9045:["SQ","MultiCoilDefinitionSequence"],9046:["LO","MultiCoilConfiguration"],9047:["SH","MultiCoilElementName"],9048:["CS","MultiCoilElementUsed"],9049:["SQ","MRTransmitCoilSequence"],9050:["LO","TransmitCoilManufacturerName"],9051:["CS","TransmitCoilType"],9052:["FD","SpectralWidth"],9053:["FD","ChemicalShiftReference"],9054:["CS","VolumeLocalizationTechnique"],9058:["US","MRAcquisitionFrequencyEncodingSteps"],9059:["CS","Decoupling"],9060:["CS","DecoupledNucleus"],9061:["FD","DecouplingFrequency"],9062:["CS","DecouplingMethod"],9063:["FD","DecouplingChemicalShiftReference"],9064:["CS","KSpaceFiltering"],9065:["CS","TimeDomainFiltering"],9066:["US","NumberOfZeroFills"],9067:["CS","BaselineCorrection"],9069:["FD","ParallelReductionFactorInPlane"],9070:["FD","CardiacRRIntervalSpecified"],9073:["FD","AcquisitionDuration"],9074:["DT","FrameAcquisitionDateTime"],9075:["CS","DiffusionDirectionality"],9076:["SQ","DiffusionGradientDirectionSequence"],9077:["CS","ParallelAcquisition"],9078:["CS","ParallelAcquisitionTechnique"],9079:["FD","InversionTimes"],9080:["ST","MetaboliteMapDescription"],9081:["CS","PartialFourier"],9082:["FD","EffectiveEchoTime"],9083:["SQ","MetaboliteMapCodeSequence"],9084:["SQ","ChemicalShiftSequence"],9085:["CS","CardiacSignalSource"],9087:["FD","DiffusionBValue"],9089:["FD","DiffusionGradientOrientation"],9090:["FD","VelocityEncodingDirection"],9091:["FD","VelocityEncodingMinimumValue"],9092:["SQ","VelocityEncodingAcquisitionSequence"],9093:["US","NumberOfKSpaceTrajectories"],9094:["CS","CoverageOfKSpace"],9095:["UL","SpectroscopyAcquisitionPhaseRows"],9096:["FD","ParallelReductionFactorInPlaneRetired"],9098:["FD","TransmitterFrequency"],9100:["CS","ResonantNucleus"],9101:["CS","FrequencyCorrection"],9103:["SQ","MRSpectroscopyFOVGeometrySequence"],9104:["FD","SlabThickness"],9105:["FD","SlabOrientation"],9106:["FD","MidSlabPosition"],9107:["SQ","MRSpatialSaturationSequence"],9112:["SQ","MRTimingAndRelatedParametersSequence"],9114:["SQ","MREchoSequence"],9115:["SQ","MRModifierSequence"],9117:["SQ","MRDiffusionSequence"],9118:["SQ","CardiacSynchronizationSequence"],9119:["SQ","MRAveragesSequence"],9125:["SQ","MRFOVGeometrySequence"],9126:["SQ","VolumeLocalizationSequence"],9127:["UL","SpectroscopyAcquisitionDataColumns"],9147:["CS","DiffusionAnisotropyType"],9151:["DT","FrameReferenceDateTime"],9152:["SQ","MRMetaboliteMapSequence"],9155:["FD","ParallelReductionFactorOutOfPlane"],9159:["UL","SpectroscopyAcquisitionOutOfPlanePhaseSteps"],9166:["CS","BulkMotionStatus"],9168:["FD","ParallelReductionFactorSecondInPlane"],9169:["CS","CardiacBeatRejectionTechnique"],9170:["CS","RespiratoryMotionCompensationTechnique"],9171:["CS","RespiratorySignalSource"],9172:["CS","BulkMotionCompensationTechnique"],9173:["CS","BulkMotionSignalSource"],9174:["CS","ApplicableSafetyStandardAgency"],9175:["LO","ApplicableSafetyStandardDescription"],9176:["SQ","OperatingModeSequence"],9177:["CS","OperatingModeType"],9178:["CS","OperatingMode"],9179:["CS","SpecificAbsorptionRateDefinition"],9180:["CS","GradientOutputType"],9181:["FD","SpecificAbsorptionRateValue"],9182:["FD","GradientOutput"],9183:["CS","FlowCompensationDirection"],9184:["FD","TaggingDelay"],9185:["ST","RespiratoryMotionCompensationTechniqueDescription"],9186:["SH","RespiratorySignalSourceID"],9195:["FD","ChemicalShiftMinimumIntegrationLimitInHz"],9196:["FD","ChemicalShiftMaximumIntegrationLimitInHz"],9197:["SQ","MRVelocityEncodingSequence"],9198:["CS","FirstOrderPhaseCorrection"],9199:["CS","WaterReferencedPhaseCorrection"],9200:["CS","MRSpectroscopyAcquisitionType"],9214:["CS","RespiratoryCyclePosition"],9217:["FD","VelocityEncodingMaximumValue"],9218:["FD","TagSpacingSecondDimension"],9219:["SS","TagAngleSecondAxis"],9220:["FD","FrameAcquisitionDuration"],9226:["SQ","MRImageFrameTypeSequence"],9227:["SQ","MRSpectroscopyFrameTypeSequence"],9231:["US","MRAcquisitionPhaseEncodingStepsInPlane"],9232:["US","MRAcquisitionPhaseEncodingStepsOutOfPlane"],9234:["UL","SpectroscopyAcquisitionPhaseColumns"],9236:["CS","CardiacCyclePosition"],9239:["SQ","SpecificAbsorptionRateSequence"],9240:["US","RFEchoTrainLength"],9241:["US","GradientEchoTrainLength"],9250:["CS","ArterialSpinLabelingContrast"],9251:["SQ","MRArterialSpinLabelingSequence"],9252:["LO","ASLTechniqueDescription"],9253:["US","ASLSlabNumber"],9254:["FD ","ASLSlabThickness"],9255:["FD ","ASLSlabOrientation"],9256:["FD ","ASLMidSlabPosition"],9257:["CS","ASLContext"],9258:["UL","ASLPulseTrainDuration"],9259:["CS","ASLCrusherFlag"],"925A":["FD","ASLCrusherFlow"],"925B":["LO","ASLCrusherDescription"],"925C":["CS","ASLBolusCutoffFlag"],"925D":["SQ","ASLBolusCutoffTimingSequence"],"925E":["LO","ASLBolusCutoffTechnique"],"925F":["UL","ASLBolusCutoffDelayTime"],9260:["SQ","ASLSlabSequence"],9295:["FD","ChemicalShiftMinimumIntegrationLimitInppm"],9296:["FD","ChemicalShiftMaximumIntegrationLimitInppm"],9301:["SQ","CTAcquisitionTypeSequence"],9302:["CS","AcquisitionType"],9303:["FD","TubeAngle"],9304:["SQ","CTAcquisitionDetailsSequence"],9305:["FD","RevolutionTime"],9306:["FD","SingleCollimationWidth"],9307:["FD","TotalCollimationWidth"],9308:["SQ","CTTableDynamicsSequence"],9309:["FD","TableSpeed"],9310:["FD","TableFeedPerRotation"],9311:["FD","SpiralPitchFactor"],9312:["SQ","CTGeometrySequence"],9313:["FD","DataCollectionCenterPatient"],9314:["SQ","CTReconstructionSequence"],9315:["CS","ReconstructionAlgorithm"],9316:["CS","ConvolutionKernelGroup"],9317:["FD","ReconstructionFieldOfView"],9318:["FD","ReconstructionTargetCenterPatient"],9319:["FD","ReconstructionAngle"],9320:["SH","ImageFilter"],9321:["SQ","CTExposureSequence"],9322:["FD","ReconstructionPixelSpacing"],9323:["CS","ExposureModulationType"],9324:["FD","EstimatedDoseSaving"],9325:["SQ","CTXRayDetailsSequence"],9326:["SQ","CTPositionSequence"],9327:["FD","TablePosition"],9328:["FD","ExposureTimeInms"],9329:["SQ","CTImageFrameTypeSequence"],9330:["FD","XRayTubeCurrentInmA"],9332:["FD","ExposureInmAs"],9333:["CS","ConstantVolumeFlag"],9334:["CS","FluoroscopyFlag"],9335:["FD","DistanceSourceToDataCollectionCenter"],9337:["US","ContrastBolusAgentNumber"],9338:["SQ","ContrastBolusIngredientCodeSequence"],9340:["SQ","ContrastAdministrationProfileSequence"],9341:["SQ","ContrastBolusUsageSequence"],9342:["CS","ContrastBolusAgentAdministered"],9343:["CS","ContrastBolusAgentDetected"],9344:["CS","ContrastBolusAgentPhase"],9345:["FD","CTDIvol"],9346:["SQ","CTDIPhantomTypeCodeSequence"],9351:["FL","CalciumScoringMassFactorPatient"],9352:["FL","CalciumScoringMassFactorDevice"],9353:["FL","EnergyWeightingFactor"],9360:["SQ","CTAdditionalXRaySourceSequence"],9401:["SQ","ProjectionPixelCalibrationSequence"],9402:["FL","DistanceSourceToIsocenter"],9403:["FL","DistanceObjectToTableTop"],9404:["FL","ObjectPixelSpacingInCenterOfBeam"],9405:["SQ","PositionerPositionSequence"],9406:["SQ","TablePositionSequence"],9407:["SQ","CollimatorShapeSequence"],9410:["CS","PlanesInAcquisition"],9412:["SQ","XAXRFFrameCharacteristicsSequence"],9417:["SQ","FrameAcquisitionSequence"],9420:["CS","XRayReceptorType"],9423:["LO","AcquisitionProtocolName"],9424:["LT","AcquisitionProtocolDescription"],9425:["CS","ContrastBolusIngredientOpaque"],9426:["FL","DistanceReceptorPlaneToDetectorHousing"],9427:["CS","IntensifierActiveShape"],9428:["FL","IntensifierActiveDimensions"],9429:["FL","PhysicalDetectorSize"],9430:["FL","PositionOfIsocenterProjection"],9432:["SQ","FieldOfViewSequence"],9433:["LO","FieldOfViewDescription"],9434:["SQ","ExposureControlSensingRegionsSequence"],9435:["CS","ExposureControlSensingRegionShape"],9436:["SS","ExposureControlSensingRegionLeftVerticalEdge"],9437:["SS","ExposureControlSensingRegionRightVerticalEdge"],9438:["SS","ExposureControlSensingRegionUpperHorizontalEdge"],9439:["SS","ExposureControlSensingRegionLowerHorizontalEdge"],9440:["SS","CenterOfCircularExposureControlSensingRegion"],9441:["US","RadiusOfCircularExposureControlSensingRegion"],9442:["SS","VerticesOfThePolygonalExposureControlSensingRegion"],9447:["FL","ColumnAngulationPatient"],9449:["FL","BeamAngle"],9451:["SQ","FrameDetectorParametersSequence"],9452:["FL","CalculatedAnatomyThickness"],9455:["SQ","CalibrationSequence"],9456:["SQ","ObjectThicknessSequence"],9457:["CS","PlaneIdentification"],9461:["FL","FieldOfViewDimensionsInFloat"],9462:["SQ","IsocenterReferenceSystemSequence"],9463:["FL","PositionerIsocenterPrimaryAngle"],9464:["FL","PositionerIsocenterSecondaryAngle"],9465:["FL","PositionerIsocenterDetectorRotationAngle"],9466:["FL","TableXPositionToIsocenter"],9467:["FL","TableYPositionToIsocenter"],9468:["FL","TableZPositionToIsocenter"],9469:["FL","TableHorizontalRotationAngle"],9470:["FL","TableHeadTiltAngle"],9471:["FL","TableCradleTiltAngle"],9472:["SQ","FrameDisplayShutterSequence"],9473:["FL","AcquiredImageAreaDoseProduct"],9474:["CS","CArmPositionerTabletopRelationship"],9476:["SQ","XRayGeometrySequence"],9477:["SQ","IrradiationEventIdentificationSequence"],9504:["SQ","XRay3DFrameTypeSequence"],9506:["SQ","ContributingSourcesSequence"],9507:["SQ","XRay3DAcquisitionSequence"],9508:["FL","PrimaryPositionerScanArc"],9509:["FL","SecondaryPositionerScanArc"],9510:["FL ","PrimaryPositionerScanStartAngle"],9511:["FL","SecondaryPositionerScanStartAngle"],9514:["FL","PrimaryPositionerIncrement"],9515:["FL","SecondaryPositionerIncrement"],9516:["DT","StartAcquisitionDateTime"],9517:["DT","EndAcquisitionDateTime"],9524:["LO","ApplicationName"],9525:["LO","ApplicationVersion"],9526:["LO","ApplicationManufacturer"],9527:["CS","AlgorithmType"],9528:["LO","AlgorithmDescription"],9530:["SQ","XRay3DReconstructionSequence"],9531:["LO","ReconstructionDescription"],9538:["SQ","PerProjectionAcquisitionSequence"],9601:["SQ","DiffusionBMatrixSequence"],9602:["FD","DiffusionBValueXX"],9603:["FD","DiffusionBValueXY"],9604:["FD","DiffusionBValueXZ"],9605:["FD","DiffusionBValueYY"],9606:["FD","DiffusionBValueYZ"],9607:["FD","DiffusionBValueZZ"],9701:["DT","DecayCorrectionDateTime"],9715:["FD","StartDensityThreshold"],9716:["FD","StartRelativeDensityDifferenceThreshold"],9717:["FD","StartCardiacTriggerCountThreshold"],9718:["FD","StartRespiratoryTriggerCountThreshold"],9719:["FD","TerminationCountsThreshold"],9720:["FD","TerminationDensityThreshold"],9721:["FD","TerminationRelativeDensityThreshold"],9722:["FD","TerminationTimeThreshold"],9723:["FD","TerminationCardiacTriggerCountThreshold"],9724:["FD","TerminationRespiratoryTriggerCountThreshold"],9725:["CS","DetectorGeometry"],9726:["FD","TransverseDetectorSeparation"],9727:["FD","AxialDetectorDimension"],9729:["US","RadiopharmaceuticalAgentNumber"],9732:["SQ","PETFrameAcquisitionSequence"],9733:["SQ","PETDetectorMotionDetailsSequence"],9734:["SQ","PETTableDynamicsSequence"],9735:["SQ","PETPositionSequence"],9736:["SQ","PETFrameCorrectionFactorsSequence"],9737:["SQ","RadiopharmaceuticalUsageSequence"],9738:["CS","AttenuationCorrectionSource"],9739:["US","NumberOfIterations"],9740:["US","NumberOfSubsets"],9749:["SQ","PETReconstructionSequence"],9751:["SQ","PETFrameTypeSequence"],9755:["CS","TimeOfFlightInformationUsed"],9756:["CS","ReconstructionType"],9758:["CS","DecayCorrected"],9759:["CS","AttenuationCorrected"],9760:["CS","ScatterCorrected"],9761:["CS","DeadTimeCorrected"],9762:["CS","GantryMotionCorrected"],9763:["CS","PatientMotionCorrected"],9764:["CS","CountLossNormalizationCorrected"],9765:["CS","RandomsCorrected"],9766:["CS","NonUniformRadialSamplingCorrected"],9767:["CS","SensitivityCalibrated"],9768:["CS","DetectorNormalizationCorrection"],9769:["CS","IterativeReconstructionMethod"],9770:["CS","AttenuationCorrectionTemporalRelationship"],9771:["SQ","PatientPhysiologicalStateSequence"],9772:["SQ","PatientPhysiologicalStateCodeSequence"],9801:["FD","DepthsOfFocus"],9803:["SQ","ExcludedIntervalsSequence"],9804:["DT","ExclusionStartDatetime"],9805:["FD","ExclusionDuration"],9806:["SQ","USImageDescriptionSequence"],9807:["SQ","ImageDataTypeSequence"],9808:["CS","DataType"],9809:["SQ","TransducerScanPatternCodeSequence"],"980B":["CS","AliasedDataType"],"980C":["CS","PositionMeasuringDeviceUsed"],"980D":["SQ","TransducerGeometryCodeSequence"],"980E":["SQ","TransducerBeamSteeringCodeSequence"],"980F":["SQ","TransducerApplicationCodeSequence"],A001:["SQ","ContributingEquipmentSequence"],A002:["DT","ContributionDateTime"],A003:["ST","ContributionDescription"]},"0020":{"000D":["UI","StudyInstanceUID"],"000E":["UI","SeriesInstanceUID"],"0010":["SH","StudyID"],"0011":["IS","SeriesNumber"],"0012":["IS","AcquisitionNumber"],"0013":["IS","InstanceNumber"],"0014":["IS","IsotopeNumber"],"0015":["IS","PhaseNumber"],"0016":["IS","IntervalNumber"],"0017":["IS","TimeSlotNumber"],"0018":["IS","AngleNumber"],"0019":["IS","ItemNumber"],"0020":["CS","PatientOrientation"],"0022":["IS","OverlayNumber"],"0024":["IS","CurveNumber"],"0026":["IS","LUTNumber"],"0030":["DS","ImagePosition"],"0032":["DS","ImagePositionPatient"],"0035":["DS","ImageOrientation"],"0037":["DS","ImageOrientationPatient"],"0050":["DS","Location"],"0052":["UI","FrameOfReferenceUID"],"0060":["CS","Laterality"],"0062":["CS","ImageLaterality"],"0070":["LO","ImageGeometryType"],"0080":["CS","MaskingImage"],"00AA":["IS","ReportNumber"],"0100":["IS","TemporalPositionIdentifier"],"0105":["IS","NumberOfTemporalPositions"],"0110":["DS","TemporalResolution"],"0200":["UI","SynchronizationFrameOfReferenceUID"],"0242":["UI","SOPInstanceUIDOfConcatenationSource"],1e3:["IS","SeriesInStudy"],1001:["IS","AcquisitionsInSeries"],1002:["IS","ImagesInAcquisition"],1003:["IS","ImagesInSeries"],1004:["IS","AcquisitionsInStudy"],1005:["IS","ImagesInStudy"],1020:["LO","Reference"],1040:["LO","PositionReferenceIndicator"],1041:["DS","SliceLocation"],1070:["IS","OtherStudyNumbers"],1200:["IS","NumberOfPatientRelatedStudies"],1202:["IS","NumberOfPatientRelatedSeries"],1204:["IS","NumberOfPatientRelatedInstances"],1206:["IS","NumberOfStudyRelatedSeries"],1208:["IS","NumberOfStudyRelatedInstances"],1209:["IS","NumberOfSeriesRelatedInstances"],3401:["CS","ModifyingDeviceID"],3402:["CS","ModifiedImageID"],3403:["DA","ModifiedImageDate"],3404:["LO","ModifyingDeviceManufacturer"],3405:["TM","ModifiedImageTime"],3406:["LO","ModifiedImageDescription"],4e3:["LT","ImageComments"],5e3:["AT","OriginalImageIdentification"],5002:["LO","OriginalImageIdentificationNomenclature"],9056:["SH","StackID"],9057:["UL","InStackPositionNumber"],9071:["SQ","FrameAnatomySequence"],9072:["CS","FrameLaterality"],9111:["SQ","FrameContentSequence"],9113:["SQ","PlanePositionSequence"],9116:["SQ","PlaneOrientationSequence"],9128:["UL","TemporalPositionIndex"],9153:["FD","NominalCardiacTriggerDelayTime"],9154:["FL","NominalCardiacTriggerTimePriorToRPeak"],9155:["FL","ActualCardiacTriggerTimePriorToRPeak"],9156:["US","FrameAcquisitionNumber"],9157:["UL","DimensionIndexValues"],9158:["LT","FrameComments"],9161:["UI","ConcatenationUID"],9162:["US","InConcatenationNumber"],9163:["US","InConcatenationTotalNumber"],9164:["UI","DimensionOrganizationUID"],9165:["AT","DimensionIndexPointer"],9167:["AT","FunctionalGroupPointer"],9213:["LO","DimensionIndexPrivateCreator"],9221:["SQ","DimensionOrganizationSequence"],9222:["SQ","DimensionIndexSequence"],9228:["UL","ConcatenationFrameOffsetNumber"],9238:["LO","FunctionalGroupPrivateCreator"],9241:["FL","NominalPercentageOfCardiacPhase"],9245:["FL","NominalPercentageOfRespiratoryPhase"],9246:["FL","StartingRespiratoryAmplitude"],9247:["CS","StartingRespiratoryPhase"],9248:["FL","EndingRespiratoryAmplitude"],9249:["CS","EndingRespiratoryPhase"],9250:["CS","RespiratoryTriggerType"],9251:["FD","RRIntervalTimeNominal"],9252:["FD","ActualCardiacTriggerDelayTime"],9253:["SQ","RespiratorySynchronizationSequence"],9254:["FD","RespiratoryIntervalTime"],9255:["FD","NominalRespiratoryTriggerDelayTime"],9256:["FD","RespiratoryTriggerDelayThreshold"],9257:["FD","ActualRespiratoryTriggerDelayTime"],9301:["FD","ImagePositionVolume"],9302:["FD","ImageOrientationVolume"],9307:["CS","UltrasoundAcquisitionGeometry"],9308:["FD","ApexPosition"],9309:["FD","VolumeToTransducerMappingMatrix"],"930A":["FD","VolumeToTableMappingMatrix"],"930C":["CS","PatientFrameOfReferenceSource"],"930D":["FD","TemporalPositionTimeOffset"],"930E":["SQ","PlanePositionVolumeSequence"],"930F":["SQ","PlaneOrientationVolumeSequence"],9310:["SQ","TemporalPositionSequence"],9311:["CS","DimensionOrganizationType"],9312:["UI","VolumeFrameOfReferenceUID"],9313:["UI","TableFrameOfReferenceUID"],9421:["LO","DimensionDescriptionLabel"],9450:["SQ","PatientOrientationInFrameSequence"],9453:["LO","FrameLabel"],9518:["US","AcquisitionIndex"],9529:["SQ","ContributingSOPInstancesReferenceSequence"],9536:["US","ReconstructionIndex"]},"0022":{"0001":["US","LightPathFilterPassThroughWavelength"],"0002":["US","LightPathFilterPassBand"],"0003":["US","ImagePathFilterPassThroughWavelength"],"0004":["US","ImagePathFilterPassBand"],"0005":["CS","PatientEyeMovementCommanded"],"0006":["SQ","PatientEyeMovementCommandCodeSequence"],"0007":["FL","SphericalLensPower"],"0008":["FL","CylinderLensPower"],"0009":["FL","CylinderAxis"],"000A":["FL","EmmetropicMagnification"],"000B":["FL","IntraOcularPressure"],"000C":["FL","HorizontalFieldOfView"],"000D":["CS","PupilDilated"],"000E":["FL","DegreeOfDilation"],"0010":["FL","StereoBaselineAngle"],"0011":["FL","StereoBaselineDisplacement"],"0012":["FL","StereoHorizontalPixelOffset"],"0013":["FL","StereoVerticalPixelOffset"],"0014":["FL","StereoRotation"],"0015":["SQ","AcquisitionDeviceTypeCodeSequence"],"0016":["SQ","IlluminationTypeCodeSequence"],"0017":["SQ","LightPathFilterTypeStackCodeSequence"],"0018":["SQ","ImagePathFilterTypeStackCodeSequence"],"0019":["SQ","LensesCodeSequence"],"001A":["SQ","ChannelDescriptionCodeSequence"],"001B":["SQ","RefractiveStateSequence"],"001C":["SQ","MydriaticAgentCodeSequence"],"001D":["SQ","RelativeImagePositionCodeSequence"],"001E":["FL","CameraAngleOfView"],"0020":["SQ","StereoPairsSequence"],"0021":["SQ","LeftImageSequence"],"0022":["SQ","RightImageSequence"],"0030":["FL","AxialLengthOfTheEye"],"0031":["SQ","OphthalmicFrameLocationSequence"],"0032":["FL","ReferenceCoordinates"],"0035":["FL","DepthSpatialResolution"],"0036":["FL","MaximumDepthDistortion"],"0037":["FL","AlongScanSpatialResolution"],"0038":["FL","MaximumAlongScanDistortion"],"0039":["CS","OphthalmicImageOrientation"],"0041":["FL","DepthOfTransverseImage"],"0042":["SQ","MydriaticAgentConcentrationUnitsSequence"],"0048":["FL","AcrossScanSpatialResolution"],"0049":["FL","MaximumAcrossScanDistortion"],"004E":["DS","MydriaticAgentConcentration"],"0055":["FL","IlluminationWaveLength"],"0056":["FL","IlluminationPower"],"0057":["FL","IlluminationBandwidth"],"0058":["SQ","MydriaticAgentSequence"],1007:["SQ","OphthalmicAxialMeasurementsRightEyeSequence"],1008:["SQ","OphthalmicAxialMeasurementsLeftEyeSequence"],1010:["CS","OphthalmicAxialLengthMeasurementsType"],1019:["FL","OphthalmicAxialLength"],1024:["SQ","LensStatusCodeSequence"],1025:["SQ","VitreousStatusCodeSequence"],1028:["SQ","IOLFormulaCodeSequence"],1029:["LO","IOLFormulaDetail"],1033:["FL","KeratometerIndex"],1035:["SQ","SourceOfOphthalmicAxialLengthCodeSequence"],1037:["FL","TargetRefraction"],1039:["CS","RefractiveProcedureOccurred"],1040:["SQ","RefractiveSurgeryTypeCodeSequence"],1044:["SQ","OphthalmicUltrasoundAxialMeasurementsTypeCodeSequence"],1050:["SQ","OphthalmicAxialLengthMeasurementsSequence"],1053:["FL","IOLPower"],1054:["FL","PredictedRefractiveError"],1059:["FL","OphthalmicAxialLengthVelocity"],1065:["LO","LensStatusDescription"],1066:["LO","VitreousStatusDescription"],1090:["SQ","IOLPowerSequence"],1092:["SQ","LensConstantSequence"],1093:["LO","IOLManufacturer"],1094:["LO","LensConstantDescription"],1096:["SQ","KeratometryMeasurementTypeCodeSequence"],1100:["SQ","ReferencedOphthalmicAxialMeasurementsSequence"],1101:["SQ","OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence"],1103:["SQ","RefractiveErrorBeforeRefractiveSurgeryCodeSequence"],1121:["FL","IOLPowerForExactEmmetropia"],1122:["FL","IOLPowerForExactTargetRefraction"],1125:["SQ","AnteriorChamberDepthDefinitionCodeSequence"],1130:["FL","LensThickness"],1131:["FL","AnteriorChamberDepth"],1132:["SQ","SourceOfLensThicknessDataCodeSequence"],1133:["SQ","SourceOfAnteriorChamberDepthDataCodeSequence"],1135:["SQ","SourceOfRefractiveErrorDataCodeSequence"],1140:["CS","OphthalmicAxialLengthMeasurementModified"],1150:["SQ","OphthalmicAxialLengthDataSourceCodeSequence"],1153:["SQ","OphthalmicAxialLengthAcquisitionMethodCodeSequence"],1155:["FL","SignalToNoiseRatio"],1159:["LO","OphthalmicAxialLengthDataSourceDescription"],1210:["SQ","OphthalmicAxialLengthMeasurementsTotalLengthSequence"],1211:["SQ","OphthalmicAxialLengthMeasurementsSegmentalLengthSequence"],1212:["SQ","OphthalmicAxialLengthMeasurementsLengthSummationSequence"],1220:["SQ","UltrasoundOphthalmicAxialLengthMeasurementsSequence"],1225:["SQ","OpticalOphthalmicAxialLengthMeasurementsSequence"],1230:["SQ","UltrasoundSelectedOphthalmicAxialLengthSequence"],1250:["SQ","OphthalmicAxialLengthSelectionMethodCodeSequence"],1255:["SQ","OpticalSelectedOphthalmicAxialLengthSequence"],1257:["SQ","SelectedSegmentalOphthalmicAxialLengthSequence"],1260:["SQ","SelectedTotalOphthalmicAxialLengthSequence"],1262:["SQ","OphthalmicAxialLengthQualityMetricSequence"],1273:["LO","OphthalmicAxialLengthQualityMetricTypeDescription"],1300:["SQ","IntraocularLensCalculationsRightEyeSequence"],1310:["SQ","IntraocularLensCalculationsLeftEyeSequence"],1330:["SQ","ReferencedOphthalmicAxialLengthMeasurementQCImageSequence"]},"0024":{"0010":["FL","VisualFieldHorizontalExtent"],"0011":["FL","VisualFieldVerticalExtent"],"0012":["CS","VisualFieldShape"],"0016":["SQ","ScreeningTestModeCodeSequence"],"0018":["FL","MaximumStimulusLuminance"],"0020":["FL","BackgroundLuminance"],"0021":["SQ","StimulusColorCodeSequence"],"0024":["SQ","BackgroundIlluminationColorCodeSequence"],"0025":["FL","StimulusArea"],"0028":["FL","StimulusPresentationTime"],"0032":["SQ","FixationSequence"],"0033":["SQ","FixationMonitoringCodeSequence"],"0034":["SQ","VisualFieldCatchTrialSequence"],"0035":["US","FixationCheckedQuantity"],"0036":["US","PatientNotProperlyFixatedQuantity"],"0037":["CS","PresentedVisualStimuliDataFlag"],"0038":["US","NumberOfVisualStimuli"],"0039":["CS","ExcessiveFixationLossesDataFlag"],"0040":["CS","ExcessiveFixationLosses"],"0042":["US","StimuliRetestingQuantity"],"0044":["LT","CommentsOnPatientPerformanceOfVisualField"],"0045":["CS","FalseNegativesEstimateFlag"],"0046":["FL","FalseNegativesEstimate"],"0048":["US","NegativeCatchTrialsQuantity"],"0050":["US","FalseNegativesQuantity"],"0051":["CS","ExcessiveFalseNegativesDataFlag"],"0052":["CS","ExcessiveFalseNegatives"],"0053":["CS","FalsePositivesEstimateFlag"],"0054":["FL","FalsePositivesEstimate"],"0055":["CS","CatchTrialsDataFlag"],"0056":["US","PositiveCatchTrialsQuantity"],"0057":["CS","TestPointNormalsDataFlag"],"0058":["SQ","TestPointNormalsSequence"],"0059":["CS","GlobalDeviationProbabilityNormalsFlag"],"0060":["US","FalsePositivesQuantity"],"0061":["CS","ExcessiveFalsePositivesDataFlag"],"0062":["CS","ExcessiveFalsePositives"],"0063":["CS","VisualFieldTestNormalsFlag"],"0064":["SQ","ResultsNormalsSequence"],"0065":["SQ","AgeCorrectedSensitivityDeviationAlgorithmSequence"],"0066":["FL","GlobalDeviationFromNormal"],"0067":["SQ","GeneralizedDefectSensitivityDeviationAlgorithmSequence"],"0068":["FL","LocalizedDeviationfromNormal"],"0069":["LO","PatientReliabilityIndicator"],"0070":["FL","VisualFieldMeanSensitivity"],"0071":["FL","GlobalDeviationProbability"],"0072":["CS","LocalDeviationProbabilityNormalsFlag"],"0073":["FL","LocalizedDeviationProbability"],"0074":["CS","ShortTermFluctuationCalculated"],"0075":["FL","ShortTermFluctuation"],"0076":["CS","ShortTermFluctuationProbabilityCalculated"],"0077":["FL","ShortTermFluctuationProbability"],"0078":["CS","CorrectedLocalizedDeviationFromNormalCalculated"],"0079":["FL","CorrectedLocalizedDeviationFromNormal"],"0080":["CS","CorrectedLocalizedDeviationFromNormalProbabilityCalculated"],"0081":["FL","CorrectedLocalizedDeviationFromNormalProbability"],"0083":["SQ","GlobalDeviationProbabilitySequence"],"0085":["SQ","LocalizedDeviationProbabilitySequence"],"0086":["CS","FovealSensitivityMeasured"],"0087":["FL","FovealSensitivity"],"0088":["FL","VisualFieldTestDuration"],"0089":["SQ","VisualFieldTestPointSequence"],"0090":["FL","VisualFieldTestPointXCoordinate"],"0091":["FL","VisualFieldTestPointYCoordinate"],"0092":["FL","AgeCorrectedSensitivityDeviationValue"],"0093":["CS","StimulusResults"],"0094":["FL","SensitivityValue"],"0095":["CS","RetestStimulusSeen"],"0096":["FL","RetestSensitivityValue"],"0097":["SQ","VisualFieldTestPointNormalsSequence"],"0098":["FL","QuantifiedDefect"],"0100":["FL","AgeCorrectedSensitivityDeviationProbabilityValue"],"0102":["CS","GeneralizedDefectCorrectedSensitivityDeviationFlag "],"0103":["FL","GeneralizedDefectCorrectedSensitivityDeviationValue "],"0104":["FL","GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue"],"0105":["FL ","MinimumSensitivityValue"],"0106":["CS","BlindSpotLocalized"],"0107":["FL","BlindSpotXCoordinate"],"0108":["FL","BlindSpotYCoordinate "],"0110":["SQ","VisualAcuityMeasurementSequence"],"0112":["SQ","RefractiveParametersUsedOnPatientSequence"],"0113":["CS","MeasurementLaterality"],"0114":["SQ","OphthalmicPatientClinicalInformationLeftEyeSequence"],"0115":["SQ","OphthalmicPatientClinicalInformationRightEyeSequence"],"0117":["CS","FovealPointNormativeDataFlag"],"0118":["FL","FovealPointProbabilityValue"],"0120":["CS","ScreeningBaselineMeasured"],"0122":["SQ","ScreeningBaselineMeasuredSequence"],"0124":["CS","ScreeningBaselineType"],"0126":["FL","ScreeningBaselineValue"],"0202":["LO","AlgorithmSource"],"0306":["LO","DataSetName"],"0307":["LO","DataSetVersion"],"0308":["LO","DataSetSource"],"0309":["LO","DataSetDescription"],"0317":["SQ","VisualFieldTestReliabilityGlobalIndexSequence"],"0320":["SQ","VisualFieldGlobalResultsIndexSequence"],"0325":["SQ","DataObservationSequence"],"0338":["CS","IndexNormalsFlag"],"0341":["FL","IndexProbability"],"0344":["SQ","IndexProbabilitySequence"]},"0028":{"0002":["US","SamplesPerPixel"],"0003":["US","SamplesPerPixelUsed"],"0004":["CS","PhotometricInterpretation"],"0005":["US","ImageDimensions"],"0006":["US","PlanarConfiguration"],"0008":["IS","NumberOfFrames"],"0009":["AT","FrameIncrementPointer"],"000A":["AT","FrameDimensionPointer"],"0010":["US","Rows"],"0011":["US","Columns"],"0012":["US","Planes"],"0014":["US","UltrasoundColorDataPresent"],"0030":["DS","PixelSpacing"],"0031":["DS","ZoomFactor"],"0032":["DS","ZoomCenter"],"0034":["IS","PixelAspectRatio"],"0040":["CS","ImageFormat"],"0050":["LO","ManipulatedImage"],"0051":["CS","CorrectedImage"],"005F":["LO","CompressionRecognitionCode"],"0060":["CS","CompressionCode"],"0061":["SH","CompressionOriginator"],"0062":["LO","CompressionLabel"],"0063":["SH","CompressionDescription"],"0065":["CS","CompressionSequence"],"0066":["AT","CompressionStepPointers"],"0068":["US","RepeatInterval"],"0069":["US","BitsGrouped"],"0070":["US","PerimeterTable"],"0071":["SS","PerimeterValue"],"0080":["US","PredictorRows"],"0081":["US","PredictorColumns"],"0082":["US","PredictorConstants"],"0090":["CS","BlockedPixels"],"0091":["US","BlockRows"],"0092":["US","BlockColumns"],"0093":["US","RowOverlap"],"0094":["US","ColumnOverlap"],"0100":["US","BitsAllocated"],"0101":["US","BitsStored"],"0102":["US","HighBit"],"0103":["US","PixelRepresentation"],"0104":["SS","SmallestValidPixelValue"],"0105":["SS","LargestValidPixelValue"],"0106":["SS","SmallestImagePixelValue"],"0107":["SS","LargestImagePixelValue"],"0108":["SS","SmallestPixelValueInSeries"],"0109":["SS","LargestPixelValueInSeries"],"0110":["SS","SmallestImagePixelValueInPlane"],"0111":["SS","LargestImagePixelValueInPlane"],"0120":["SS","PixelPaddingValue"],"0121":["SS","PixelPaddingRangeLimit"],"0200":["US","ImageLocation"],"0300":["CS","QualityControlImage"],"0301":["CS","BurnedInAnnotation"],"0302":["CS","RecognizableVisualFeatures"],"0303":["CS","LongitudinalTemporalInformationModified"],"0400":["LO","TransformLabel"],"0401":["LO","TransformVersionNumber"],"0402":["US","NumberOfTransformSteps"],"0403":["LO","SequenceOfCompressedData"],"0404":["AT","DetailsOfCoefficients"],"0700":["LO","DCTLabel"],"0701":["CS","DataBlockDescription"],"0702":["AT","DataBlock"],"0710":["US","NormalizationFactorFormat"],"0720":["US","ZonalMapNumberFormat"],"0721":["AT","ZonalMapLocation"],"0722":["US","ZonalMapFormat"],"0730":["US","AdaptiveMapFormat"],"0740":["US","CodeNumberFormat"],"0A02":["CS","PixelSpacingCalibrationType"],"0A04":["LO","PixelSpacingCalibrationDescription"],1040:["CS","PixelIntensityRelationship"],1041:["SS","PixelIntensityRelationshipSign"],1050:["DS","WindowCenter"],1051:["DS","WindowWidth"],1052:["DS","RescaleIntercept"],1053:["DS","RescaleSlope"],1054:["LO","RescaleType"],1055:["LO","WindowCenterWidthExplanation"],1056:["CS","VOILUTFunction"],1080:["CS","GrayScale"],1090:["CS","RecommendedViewingMode"],1100:["SS","GrayLookupTableDescriptor"],1101:["SS","RedPaletteColorLookupTableDescriptor"],1102:["SS","GreenPaletteColorLookupTableDescriptor"],1103:["SS","BluePaletteColorLookupTableDescriptor"],1104:["US","AlphaPaletteColorLookupTableDescriptor"],1111:["SS","LargeRedPaletteColorLookupTableDescriptor"],1112:["SS","LargeGreenPaletteColorLookupTableDescriptor"],1113:["SS","LargeBluePaletteColorLookupTableDescriptor"],1199:["UI","PaletteColorLookupTableUID"],1200:["OW","GrayLookupTableData"],1201:["OW","RedPaletteColorLookupTableData"],1202:["OW","GreenPaletteColorLookupTableData"],1203:["OW","BluePaletteColorLookupTableData"],1204:["OW","AlphaPaletteColorLookupTableData"],1211:["OW","LargeRedPaletteColorLookupTableData"],1212:["OW","LargeGreenPaletteColorLookupTableData"],1213:["OW","LargeBluePaletteColorLookupTableData"],1214:["UI","LargePaletteColorLookupTableUID"],1221:["OW","SegmentedRedPaletteColorLookupTableData"],1222:["OW","SegmentedGreenPaletteColorLookupTableData"],1223:["OW","SegmentedBluePaletteColorLookupTableData"],1300:["CS","BreastImplantPresent"],1350:["CS","PartialView"],1351:["ST","PartialViewDescription"],1352:["SQ","PartialViewCodeSequence"],"135A":["CS","SpatialLocationsPreserved"],1401:["SQ","DataFrameAssignmentSequence"],1402:["CS","DataPathAssignment"],1403:["US","BitsMappedToColorLookupTable"],1404:["SQ","BlendingLUT1Sequence"],1405:["CS","BlendingLUT1TransferFunction"],1406:["FD","BlendingWeightConstant"],1407:["US","BlendingLookupTableDescriptor"],1408:["OW","BlendingLookupTableData"],"140B":["SQ","EnhancedPaletteColorLookupTableSequence"],"140C":["SQ","BlendingLUT2Sequence"],"140D":["CS","BlendingLUT2TransferFunction"],"140E":["CS","DataPathID"],"140F":["CS","RGBLUTTransferFunction"],1410:["CS","AlphaLUTTransferFunction"],2e3:["OB","ICCProfile"],2110:["CS","LossyImageCompression"],2112:["DS","LossyImageCompressionRatio"],2114:["CS","LossyImageCompressionMethod"],3e3:["SQ","ModalityLUTSequence"],3002:["SS","LUTDescriptor"],3003:["LO","LUTExplanation"],3004:["LO","ModalityLUTType"],3006:["OW","LUTData"],3010:["SQ","VOILUTSequence"],3110:["SQ","SoftcopyVOILUTSequence"],4e3:["LT","ImagePresentationComments"],5e3:["SQ","BiPlaneAcquisitionSequence"],6010:["US","RepresentativeFrameNumber"],6020:["US","FrameNumbersOfInterest"],6022:["LO","FrameOfInterestDescription"],6023:["CS","FrameOfInterestType"],6030:["US","MaskPointers"],6040:["US","RWavePointer"],6100:["SQ","MaskSubtractionSequence"],6101:["CS","MaskOperation"],6102:["US","ApplicableFrameRange"],6110:["US","MaskFrameNumbers"],6112:["US","ContrastFrameAveraging"],6114:["FL","MaskSubPixelShift"],6120:["SS","TIDOffset"],6190:["ST","MaskOperationExplanation"],"7FE0":["UT","PixelDataProviderURL"],9001:["UL","DataPointRows"],9002:["UL","DataPointColumns"],9003:["CS","SignalDomainColumns"],9099:["US","LargestMonochromePixelValue"],9108:["CS","DataRepresentation"],9110:["SQ","PixelMeasuresSequence"],9132:["SQ","FrameVOILUTSequence"],9145:["SQ","PixelValueTransformationSequence"],9235:["CS","SignalDomainRows"],9411:["FL","DisplayFilterPercentage"],9415:["SQ","FramePixelShiftSequence"],9416:["US","SubtractionItemID"],9422:["SQ","PixelIntensityRelationshipLUTSequence"],9443:["SQ","FramePixelDataPropertiesSequence"],9444:["CS","GeometricalProperties"],9445:["FL","GeometricMaximumDistortion"],9446:["CS","ImageProcessingApplied"],9454:["CS","MaskSelectionMode"],9474:["CS","LUTFunction"],9478:["FL","MaskVisibilityPercentage"],9501:["SQ","PixelShiftSequence"],9502:["SQ","RegionPixelShiftSequence"],9503:["SS","VerticesOfTheRegion"],9505:["SQ","MultiFramePresentationSequence"],9506:["US","PixelShiftFrameRange"],9507:["US","LUTFrameRange"],9520:["DS","ImageToEquipmentMappingMatrix"],9537:["CS","EquipmentCoordinateSystemIdentification"]},"0032":{"000A":["CS","StudyStatusID"],"000C":["CS","StudyPriorityID"],"0012":["LO","StudyIDIssuer"],"0032":["DA","StudyVerifiedDate"],"0033":["TM","StudyVerifiedTime"],"0034":["DA","StudyReadDate"],"0035":["TM","StudyReadTime"],1e3:["DA","ScheduledStudyStartDate"],1001:["TM","ScheduledStudyStartTime"],1010:["DA","ScheduledStudyStopDate"],1011:["TM","ScheduledStudyStopTime"],1020:["LO","ScheduledStudyLocation"],1021:["AE","ScheduledStudyLocationAETitle"],1030:["LO","ReasonForStudy"],1031:["SQ","RequestingPhysicianIdentificationSequence"],1032:["PN","RequestingPhysician"],1033:["LO","RequestingService"],1034:["SQ","RequestingServiceCodeSequence"],1040:["DA","StudyArrivalDate"],1041:["TM","StudyArrivalTime"],1050:["DA","StudyCompletionDate"],1051:["TM","StudyCompletionTime"],1055:["CS","StudyComponentStatusID"],1060:["LO","RequestedProcedureDescription"],1064:["SQ","RequestedProcedureCodeSequence"],1070:["LO","RequestedContrastAgent"],4e3:["LT","StudyComments"]},"0038":{"0004":["SQ","ReferencedPatientAliasSequence"],"0008":["CS","VisitStatusID"],"0010":["LO","AdmissionID"],"0011":["LO","IssuerOfAdmissionID"],"0014":["SQ","IssuerOfAdmissionIDSequence"],"0016":["LO","RouteOfAdmissions"],"001A":["DA","ScheduledAdmissionDate"],"001B":["TM","ScheduledAdmissionTime"],"001C":["DA","ScheduledDischargeDate"],"001D":["TM","ScheduledDischargeTime"],"001E":["LO","ScheduledPatientInstitutionResidence"],"0020":["DA","AdmittingDate"],"0021":["TM","AdmittingTime"],"0030":["DA","DischargeDate"],"0032":["TM","DischargeTime"],"0040":["LO","DischargeDiagnosisDescription"],"0044":["SQ","DischargeDiagnosisCodeSequence"],"0050":["LO","SpecialNeeds"],"0060":["LO","ServiceEpisodeID"],"0061":["LO","IssuerOfServiceEpisodeID"],"0062":["LO","ServiceEpisodeDescription"],"0064":["SQ","IssuerOfServiceEpisodeIDSequence"],"0100":["SQ","PertinentDocumentsSequence"],"0300":["LO","CurrentPatientLocation"],"0400":["LO","PatientInstitutionResidence"],"0500":["LO","PatientState"],"0502":["SQ","PatientClinicalTrialParticipationSequence"],4e3:["LT","VisitComments"]},"003A":{"0004":["CS","WaveformOriginality"],"0005":["US","NumberOfWaveformChannels"],"0010":["UL","NumberOfWaveformSamples"],"001A":["DS","SamplingFrequency"],"0020":["SH","MultiplexGroupLabel"],"0200":["SQ","ChannelDefinitionSequence"],"0202":["IS","WaveformChannelNumber"],"0203":["SH","ChannelLabel"],"0205":["CS","ChannelStatus"],"0208":["SQ","ChannelSourceSequence"],"0209":["SQ","ChannelSourceModifiersSequence"],"020A":["SQ","SourceWaveformSequence"],"020C":["LO","ChannelDerivationDescription"],"0210":["DS","ChannelSensitivity"],"0211":["SQ","ChannelSensitivityUnitsSequence"],"0212":["DS","ChannelSensitivityCorrectionFactor"],"0213":["DS","ChannelBaseline"],"0214":["DS","ChannelTimeSkew"],"0215":["DS","ChannelSampleSkew"],"0218":["DS","ChannelOffset"],"021A":["US","WaveformBitsStored"],"0220":["DS","FilterLowFrequency"],"0221":["DS","FilterHighFrequency"],"0222":["DS","NotchFilterFrequency"],"0223":["DS","NotchFilterBandwidth"],"0230":["FL","WaveformDataDisplayScale"],"0231":["US","WaveformDisplayBackgroundCIELabValue"],"0240":["SQ","WaveformPresentationGroupSequence"],"0241":["US","PresentationGroupNumber"],"0242":["SQ","ChannelDisplaySequence"],"0244":["US","ChannelRecommendedDisplayCIELabValue"],"0245":["FL","ChannelPosition"],"0246":["CS","DisplayShadingFlag"],"0247":["FL","FractionalChannelDisplayScale"],"0248":["FL","AbsoluteChannelDisplayScale"],"0300":["SQ","MultiplexedAudioChannelsDescriptionCodeSequence"],"0301":["IS","ChannelIdentificationCode"],"0302":["CS","ChannelMode"]},"0040":{"0001":["AE","ScheduledStationAETitle"],"0002":["DA","ScheduledProcedureStepStartDate"],"0003":["TM","ScheduledProcedureStepStartTime"],"0004":["DA","ScheduledProcedureStepEndDate"],"0005":["TM","ScheduledProcedureStepEndTime"],"0006":["PN","ScheduledPerformingPhysicianName"],"0007":["LO","ScheduledProcedureStepDescription"],"0008":["SQ","ScheduledProtocolCodeSequence"],"0009":["SH","ScheduledProcedureStepID"],"000A":["SQ","StageCodeSequence"],"000B":["SQ","ScheduledPerformingPhysicianIdentificationSequence"],"0010":["SH","ScheduledStationName"],"0011":["SH","ScheduledProcedureStepLocation"],"0012":["LO","PreMedication"],"0020":["CS","ScheduledProcedureStepStatus"],"0026":["SQ","OrderPlacerIdentifierSequence"],"0027":["SQ","OrderFillerIdentifierSequence"],"0031":["UT","LocalNamespaceEntityID"],"0032":["UT","UniversalEntityID"],"0033":["CS","UniversalEntityIDType"],"0035":["CS","IdentifierTypeCode"],"0036":["SQ","AssigningFacilitySequence"],"0039":["SQ","AssigningJurisdictionCodeSequence"],"003A":["SQ","AssigningAgencyOrDepartmentCodeSequence"],"0100":["SQ","ScheduledProcedureStepSequence"],"0220":["SQ","ReferencedNonImageCompositeSOPInstanceSequence"],"0241":["AE","PerformedStationAETitle"],"0242":["SH","PerformedStationName"],"0243":["SH","PerformedLocation"],"0244":["DA","PerformedProcedureStepStartDate"],"0245":["TM","PerformedProcedureStepStartTime"],"0250":["DA","PerformedProcedureStepEndDate"],"0251":["TM","PerformedProcedureStepEndTime"],"0252":["CS","PerformedProcedureStepStatus"],"0253":["SH","PerformedProcedureStepID"],"0254":["LO","PerformedProcedureStepDescription"],"0255":["LO","PerformedProcedureTypeDescription"],"0260":["SQ","PerformedProtocolCodeSequence"],"0261":["CS","PerformedProtocolType"],"0270":["SQ","ScheduledStepAttributesSequence"],"0275":["SQ","RequestAttributesSequence"],"0280":["ST","CommentsOnThePerformedProcedureStep"],"0281":["SQ","PerformedProcedureStepDiscontinuationReasonCodeSequence"],"0293":["SQ","QuantitySequence"],"0294":["DS","Quantity"],"0295":["SQ","MeasuringUnitsSequence"],"0296":["SQ","BillingItemSequence"],"0300":["US","TotalTimeOfFluoroscopy"],"0301":["US","TotalNumberOfExposures"],"0302":["US","EntranceDose"],"0303":["US","ExposedArea"],"0306":["DS","DistanceSourceToEntrance"],"0307":["DS","DistanceSourceToSupport"],"030E":["SQ","ExposureDoseSequence"],"0310":["ST","CommentsOnRadiationDose"],"0312":["DS","XRayOutput"],"0314":["DS","HalfValueLayer"],"0316":["DS","OrganDose"],"0318":["CS","OrganExposed"],"0320":["SQ","BillingProcedureStepSequence"],"0321":["SQ","FilmConsumptionSequence"],"0324":["SQ","BillingSuppliesAndDevicesSequence"],"0330":["SQ","ReferencedProcedureStepSequence"],"0340":["SQ","PerformedSeriesSequence"],"0400":["LT","CommentsOnTheScheduledProcedureStep"],"0440":["SQ","ProtocolContextSequence"],"0441":["SQ","ContentItemModifierSequence"],"0500":["SQ","ScheduledSpecimenSequence"],"050A":["LO","SpecimenAccessionNumber"],"0512":["LO","ContainerIdentifier"],"0513":["SQ","IssuerOfTheContainerIdentifierSequence"],"0515":["SQ","AlternateContainerIdentifierSequence"],"0518":["SQ","ContainerTypeCodeSequence"],"051A":["LO","ContainerDescription"],"0520":["SQ","ContainerComponentSequence"],"0550":["SQ","SpecimenSequence"],"0551":["LO","SpecimenIdentifier"],"0552":["SQ","SpecimenDescriptionSequenceTrial"],"0553":["ST","SpecimenDescriptionTrial"],"0554":["UI","SpecimenUID"],"0555":["SQ","AcquisitionContextSequence"],"0556":["ST","AcquisitionContextDescription"],"059A":["SQ","SpecimenTypeCodeSequence"],"0560":["SQ","SpecimenDescriptionSequence"],"0562":["SQ","IssuerOfTheSpecimenIdentifierSequence"],"0600":["LO","SpecimenShortDescription"],"0602":["UT","SpecimenDetailedDescription"],"0610":["SQ","SpecimenPreparationSequence"],"0612":["SQ","SpecimenPreparationStepContentItemSequence"],"0620":["SQ","SpecimenLocalizationContentItemSequence"],"06FA":["LO","SlideIdentifier"],"071A":["SQ","ImageCenterPointCoordinatesSequence"],"072A":["DS","XOffsetInSlideCoordinateSystem"],"073A":["DS","YOffsetInSlideCoordinateSystem"],"074A":["DS","ZOffsetInSlideCoordinateSystem"],"08D8":["SQ","PixelSpacingSequence"],"08DA":["SQ","CoordinateSystemAxisCodeSequence"],"08EA":["SQ","MeasurementUnitsCodeSequence"],"09F8":["SQ","VitalStainCodeSequenceTrial"],1001:["SH","RequestedProcedureID"],1002:["LO","ReasonForTheRequestedProcedure"],1003:["SH","RequestedProcedurePriority"],1004:["LO","PatientTransportArrangements"],1005:["LO","RequestedProcedureLocation"],1006:["SH","PlacerOrderNumberProcedure"],1007:["SH","FillerOrderNumberProcedure"],1008:["LO","ConfidentialityCode"],1009:["SH","ReportingPriority"],"100A":["SQ","ReasonForRequestedProcedureCodeSequence"],1010:["PN","NamesOfIntendedRecipientsOfResults"],1011:["SQ","IntendedRecipientsOfResultsIdentificationSequence"],1012:["SQ","ReasonForPerformedProcedureCodeSequence"],1060:["LO","RequestedProcedureDescriptionTrial"],1101:["SQ","PersonIdentificationCodeSequence"],1102:["ST","PersonAddress"],1103:["LO","PersonTelephoneNumbers"],1400:["LT","RequestedProcedureComments"],2001:["LO","ReasonForTheImagingServiceRequest"],2004:["DA","IssueDateOfImagingServiceRequest"],2005:["TM","IssueTimeOfImagingServiceRequest"],2006:["SH","PlacerOrderNumberImagingServiceRequestRetired"],2007:["SH","FillerOrderNumberImagingServiceRequestRetired"],2008:["PN","OrderEnteredBy"],2009:["SH","OrderEntererLocation"],2010:["SH","OrderCallbackPhoneNumber"],2016:["LO","PlacerOrderNumberImagingServiceRequest"],2017:["LO","FillerOrderNumberImagingServiceRequest"],2400:["LT","ImagingServiceRequestComments"],3001:["LO","ConfidentialityConstraintOnPatientDataDescription"],4001:["CS","GeneralPurposeScheduledProcedureStepStatus"],4002:["CS","GeneralPurposePerformedProcedureStepStatus"],4003:["CS","GeneralPurposeScheduledProcedureStepPriority"],4004:["SQ","ScheduledProcessingApplicationsCodeSequence"],4005:["DT","ScheduledProcedureStepStartDateTime"],4006:["CS","MultipleCopiesFlag"],4007:["SQ","PerformedProcessingApplicationsCodeSequence"],4009:["SQ","HumanPerformerCodeSequence"],4010:["DT","ScheduledProcedureStepModificationDateTime"],4011:["DT","ExpectedCompletionDateTime"],4015:["SQ","ResultingGeneralPurposePerformedProcedureStepsSequence"],4016:["SQ","ReferencedGeneralPurposeScheduledProcedureStepSequence"],4018:["SQ","ScheduledWorkitemCodeSequence"],4019:["SQ","PerformedWorkitemCodeSequence"],4020:["CS","InputAvailabilityFlag"],4021:["SQ","InputInformationSequence"],4022:["SQ","RelevantInformationSequence"],4023:["UI","ReferencedGeneralPurposeScheduledProcedureStepTransactionUID"],4025:["SQ","ScheduledStationNameCodeSequence"],4026:["SQ","ScheduledStationClassCodeSequence"],4027:["SQ","ScheduledStationGeographicLocationCodeSequence"],4028:["SQ","PerformedStationNameCodeSequence"],4029:["SQ","PerformedStationClassCodeSequence"],4030:["SQ","PerformedStationGeographicLocationCodeSequence"],4031:["SQ","RequestedSubsequentWorkitemCodeSequence"],4032:["SQ","NonDICOMOutputCodeSequence"],4033:["SQ","OutputInformationSequence"],4034:["SQ","ScheduledHumanPerformersSequence"],4035:["SQ","ActualHumanPerformersSequence"],4036:["LO","HumanPerformerOrganization"],4037:["PN","HumanPerformerName"],4040:["CS","RawDataHandling"],4041:["CS","InputReadinessState"],4050:["DT","PerformedProcedureStepStartDateTime"],4051:["DT","PerformedProcedureStepEndDateTime"],4052:["DT","ProcedureStepCancellationDateTime"],8302:["DS","EntranceDoseInmGy"],9094:["SQ","ReferencedImageRealWorldValueMappingSequence"],9096:["SQ","RealWorldValueMappingSequence"],9098:["SQ","PixelValueMappingCodeSequence"],9210:["SH","LUTLabel"],9211:["SS","RealWorldValueLastValueMapped"],9212:["FD","RealWorldValueLUTData"],9216:["SS","RealWorldValueFirstValueMapped"],9224:["FD","RealWorldValueIntercept"],9225:["FD","RealWorldValueSlope"],A007:["CS","FindingsFlagTrial"],A010:["CS","RelationshipType"],A020:["SQ","FindingsSequenceTrial"],A021:["UI","FindingsGroupUIDTrial"],A022:["UI","ReferencedFindingsGroupUIDTrial"],A023:["DA","FindingsGroupRecordingDateTrial"],A024:["TM","FindingsGroupRecordingTimeTrial"],A026:["SQ","FindingsSourceCategoryCodeSequenceTrial"],A027:["LO","VerifyingOrganization"],A028:["SQ","DocumentingOrganizationIdentifierCodeSequenceTrial"],A030:["DT","VerificationDateTime"],A032:["DT","ObservationDateTime"],A040:["CS","ValueType"],A043:["SQ","ConceptNameCodeSequence"],A047:["LO","MeasurementPrecisionDescriptionTrial"],A050:["CS","ContinuityOfContent"],A057:["CS","UrgencyOrPriorityAlertsTrial"],A060:["LO","SequencingIndicatorTrial"],A066:["SQ","DocumentIdentifierCodeSequenceTrial"],A067:["PN","DocumentAuthorTrial"],A068:["SQ","DocumentAuthorIdentifierCodeSequenceTrial"],A070:["SQ","IdentifierCodeSequenceTrial"],A073:["SQ","VerifyingObserverSequence"],A074:["OB","ObjectBinaryIdentifierTrial"],A075:["PN","VerifyingObserverName"],A076:["SQ","DocumentingObserverIdentifierCodeSequenceTrial"],A078:["SQ","AuthorObserverSequence"],A07A:["SQ","ParticipantSequence"],A07C:["SQ","CustodialOrganizationSequence"],A080:["CS","ParticipationType"],A082:["DT","ParticipationDateTime"],A084:["CS","ObserverType"],A085:["SQ","ProcedureIdentifierCodeSequenceTrial"],A088:["SQ","VerifyingObserverIdentificationCodeSequence"],A089:["OB","ObjectDirectoryBinaryIdentifierTrial"],A090:["SQ","EquivalentCDADocumentSequence"],A0B0:["US","ReferencedWaveformChannels"],A110:["DA","DateOfDocumentOrVerbalTransactionTrial"],A112:["TM","TimeOfDocumentCreationOrVerbalTransactionTrial"],A120:["DT","DateTime"],A121:["DA","Date"],A122:["TM","Time"],A123:["PN","PersonName"],A124:["UI","UID"],A125:["CS","ReportStatusIDTrial"],A130:["CS","TemporalRangeType"],A132:["UL","ReferencedSamplePositions"],A136:["US","ReferencedFrameNumbers"],A138:["DS","ReferencedTimeOffsets"],A13A:["DT","ReferencedDateTime"],A160:["UT","TextValue"],A167:["SQ","ObservationCategoryCodeSequenceTrial"],A168:["SQ","ConceptCodeSequence"],A16A:["ST","BibliographicCitationTrial"],A170:["SQ","PurposeOfReferenceCodeSequence"],A171:["UI","ObservationUIDTrial"],A172:["UI","ReferencedObservationUIDTrial"],A173:["CS","ReferencedObservationClassTrial"],A174:["CS","ReferencedObjectObservationClassTrial"],A180:["US","AnnotationGroupNumber"],A192:["DA","ObservationDateTrial"],A193:["TM","ObservationTimeTrial"],A194:["CS","MeasurementAutomationTrial"],A195:["SQ","ModifierCodeSequence"],A224:["ST","IdentificationDescriptionTrial"],A290:["CS","CoordinatesSetGeometricTypeTrial"],A296:["SQ","AlgorithmCodeSequenceTrial"],A297:["ST","AlgorithmDescriptionTrial"],A29A:["SL","PixelCoordinatesSetTrial"],A300:["SQ","MeasuredValueSequence"],A301:["SQ","NumericValueQualifierCodeSequence"],A307:["PN","CurrentObserverTrial"],A30A:["DS","NumericValue"],A313:["SQ","ReferencedAccessionSequenceTrial"],A33A:["ST","ReportStatusCommentTrial"],A340:["SQ","ProcedureContextSequenceTrial"],A352:["PN","VerbalSourceTrial"],A353:["ST","AddressTrial"],A354:["LO","TelephoneNumberTrial"],A358:["SQ","VerbalSourceIdentifierCodeSequenceTrial"],A360:["SQ","PredecessorDocumentsSequence"],A370:["SQ","ReferencedRequestSequence"],A372:["SQ","PerformedProcedureCodeSequence"],A375:["SQ","CurrentRequestedProcedureEvidenceSequence"],A380:["SQ","ReportDetailSequenceTrial"],A385:["SQ","PertinentOtherEvidenceSequence"],A390:["SQ","HL7StructuredDocumentReferenceSequence"],A402:["UI","ObservationSubjectUIDTrial"],A403:["CS","ObservationSubjectClassTrial"],A404:["SQ","ObservationSubjectTypeCodeSequenceTrial"],A491:["CS","CompletionFlag"],A492:["LO","CompletionFlagDescription"],A493:["CS","VerificationFlag"],A494:["CS","ArchiveRequested"],A496:["CS","PreliminaryFlag"],A504:["SQ","ContentTemplateSequence"],A525:["SQ","IdenticalDocumentsSequence"],A600:["CS","ObservationSubjectContextFlagTrial"],A601:["CS","ObserverContextFlagTrial"],A603:["CS","ProcedureContextFlagTrial"],A730:["SQ","ContentSequence"],A731:["SQ","RelationshipSequenceTrial"],A732:["SQ","RelationshipTypeCodeSequenceTrial"],A744:["SQ","LanguageCodeSequenceTrial"],A992:["ST","UniformResourceLocatorTrial"],B020:["SQ","WaveformAnnotationSequence"],DB00:["CS","TemplateIdentifier"],DB06:["DT","TemplateVersion"],DB07:["DT","TemplateLocalVersion"],DB0B:["CS","TemplateExtensionFlag"],DB0C:["UI","TemplateExtensionOrganizationUID"],DB0D:["UI","TemplateExtensionCreatorUID"],DB73:["UL","ReferencedContentItemIdentifier"],E001:["ST","HL7InstanceIdentifier"],E004:["DT","HL7DocumentEffectiveTime"],E006:["SQ","HL7DocumentTypeCodeSequence"],E008:["SQ","DocumentClassCodeSequence"],E010:["UT","RetrieveURI"],E011:["UI","RetrieveLocationUID"],E020:["CS","TypeOfInstances"],E021:["SQ","DICOMRetrievalSequence"],E022:["SQ","DICOMMediaRetrievalSequence"],E023:["SQ","WADORetrievalSequence"],E024:["SQ","XDSRetrievalSequence"],E030:["UI","RepositoryUniqueID"],E031:["UI","HomeCommunityID"]},"0042":{"0010":["ST","DocumentTitle"],"0011":["OB","EncapsulatedDocument"],"0012":["LO","MIMETypeOfEncapsulatedDocument"],"0013":["SQ","SourceInstanceSequence"],"0014":["LO","ListOfMIMETypes"]},"0044":{"0001":["ST","ProductPackageIdentifier"],"0002":["CS","SubstanceAdministrationApproval"],"0003":["LT","ApprovalStatusFurtherDescription"],"0004":["DT","ApprovalStatusDateTime"],"0007":["SQ","ProductTypeCodeSequence"],"0008":["LO","ProductName"],"0009":["LT","ProductDescription"],"000A":["LO","ProductLotIdentifier"],"000B":["DT","ProductExpirationDateTime"],"0010":["DT","SubstanceAdministrationDateTime"],"0011":["LO","SubstanceAdministrationNotes"],"0012":["LO","SubstanceAdministrationDeviceID"],"0013":["SQ","ProductParameterSequence"],"0019":["SQ","SubstanceAdministrationParameterSequence"]},"0046":{"0012":["LO","LensDescription"],"0014":["SQ","RightLensSequence"],"0015":["SQ","LeftLensSequence"],"0016":["SQ","UnspecifiedLateralityLensSequence"],"0018":["SQ","CylinderSequence"],"0028":["SQ","PrismSequence"],"0030":["FD","HorizontalPrismPower"],"0032":["CS","HorizontalPrismBase"],"0034":["FD","VerticalPrismPower"],"0036":["CS","VerticalPrismBase"],"0038":["CS","LensSegmentType"],"0040":["FD","OpticalTransmittance"],"0042":["FD","ChannelWidth"],"0044":["FD","PupilSize"],"0046":["FD","CornealSize"],"0050":["SQ","AutorefractionRightEyeSequence"],"0052":["SQ","AutorefractionLeftEyeSequence"],"0060":["FD","DistancePupillaryDistance"],"0062":["FD","NearPupillaryDistance"],"0063":["FD","IntermediatePupillaryDistance"],"0064":["FD","OtherPupillaryDistance"],"0070":["SQ","KeratometryRightEyeSequence"],"0071":["SQ","KeratometryLeftEyeSequence"],"0074":["SQ","SteepKeratometricAxisSequence"],"0075":["FD","RadiusOfCurvature"],"0076":["FD","KeratometricPower"],"0077":["FD","KeratometricAxis"],"0080":["SQ","FlatKeratometricAxisSequence"],"0092":["CS","BackgroundColor"],"0094":["CS","Optotype"],"0095":["CS","OptotypePresentation"],"0097":["SQ","SubjectiveRefractionRightEyeSequence"],"0098":["SQ","SubjectiveRefractionLeftEyeSequence"],"0100":["SQ","AddNearSequence"],"0101":["SQ","AddIntermediateSequence"],"0102":["SQ","AddOtherSequence"],"0104":["FD","AddPower"],"0106":["FD","ViewingDistance"],"0121":["SQ","VisualAcuityTypeCodeSequence"],"0122":["SQ","VisualAcuityRightEyeSequence"],"0123":["SQ","VisualAcuityLeftEyeSequence"],"0124":["SQ","VisualAcuityBothEyesOpenSequence"],"0125":["CS","ViewingDistanceType"],"0135":["SS","VisualAcuityModifiers"],"0137":["FD","DecimalVisualAcuity"],"0139":["LO","OptotypeDetailedDefinition"],"0145":["SQ","ReferencedRefractiveMeasurementsSequence"],"0146":["FD","SpherePower"],"0147":["FD","CylinderPower"]},"0048":{"0001":["FL","ImagedVolumeWidth"],"0002":["FL","ImagedVolumeHeight"],"0003":["FL","ImagedVolumeDepth"],"0006":["UL","TotalPixelMatrixColumns"],"0007":["UL","TotalPixelMatrixRows"],"0008":["SQ","TotalPixelMatrixOriginSequence"],"0010":["CS","SpecimenLabelInImage"],"0011":["CS","FocusMethod"],"0012":["CS","ExtendedDepthOfField"],"0013":["US","NumberOfFocalPlanes"],"0014":["FL","DistanceBetweenFocalPlanes"],"0015":["US","RecommendedAbsentPixelCIELabValue"],"0100":["SQ","IlluminatorTypeCodeSequence"],"0102":["DS","ImageOrientationSlide"],"0105":["SQ","OpticalPathSequence"],"0106":["SH","OpticalPathIdentifier"],"0107":["ST","OpticalPathDescription"],"0108":["SQ","IlluminationColorCodeSequence"],"0110":["SQ","SpecimenReferenceSequence"],"0111":["DS","CondenserLensPower"],"0112":["DS","ObjectiveLensPower"],"0113":["DS","ObjectiveLensNumericalAperture"],"0120":["SQ","PaletteColorLookupTableSequence"],"0200":["SQ","ReferencedImageNavigationSequence"],"0201":["US","TopLeftHandCornerOfLocalizerArea"],"0202":["US","BottomRightHandCornerOfLocalizerArea"],"0207":["SQ","OpticalPathIdentificationSequence"],"021A":["SQ","PlanePositionSlideSequence"],"021E":["SL","RowPositionInTotalImagePixelMatrix"],"021F":["SL","ColumnPositionInTotalImagePixelMatrix"],"0301":["CS","PixelOriginInterpretation"]},"0050":{"0004":["CS","CalibrationImage"],"0010":["SQ","DeviceSequence"],"0012":["SQ","ContainerComponentTypeCodeSequence"],"0013":["FD","ContainerComponentThickness"],"0014":["DS","DeviceLength"],"0015":["FD","ContainerComponentWidth"],"0016":["DS","DeviceDiameter"],"0017":["CS","DeviceDiameterUnits"],"0018":["DS","DeviceVolume"],"0019":["DS","InterMarkerDistance"],"001A":["CS","ContainerComponentMaterial"],"001B":["LO","ContainerComponentID"],"001C":["FD","ContainerComponentLength"],"001D":["FD","ContainerComponentDiameter"],"001E":["LO","ContainerComponentDescription"],"0020":["LO","DeviceDescription"]},"0052":{"0001":["FL","ContrastBolusIngredientPercentByVolume"],"0002":["FD","OCTFocalDistance"],"0003":["FD","BeamSpotSize"],"0004":["FD","EffectiveRefractiveIndex"],"0006":["CS","OCTAcquisitionDomain"],"0007":["FD","OCTOpticalCenterWavelength"],"0008":["FD","AxialResolution"],"0009":["FD","RangingDepth"],"0011":["FD","ALineRate"],"0012":["US","ALinesPerFrame"],"0013":["FD","CatheterRotationalRate"],"0014":["FD","ALinePixelSpacing"],"0016":["SQ","ModeOfPercutaneousAccessSequence"],"0025":["SQ","IntravascularOCTFrameTypeSequence"],"0026":["CS","OCTZOffsetApplied"],"0027":["SQ","IntravascularFrameContentSequence"],"0028":["FD","IntravascularLongitudinalDistance"],"0029":["SQ","IntravascularOCTFrameContentSequence"],"0030":["SS","OCTZOffsetCorrection"],"0031":["CS","CatheterDirectionOfRotation"],"0033":["FD","SeamLineLocation"],"0034":["FD","FirstALineLocation"],"0036":["US","SeamLineIndex"],"0038":["US","NumberOfPaddedAlines"],"0039":["CS","InterpolationType"],"003A":["CS","RefractiveIndexApplied"]},"0054":{"0010":["US","EnergyWindowVector"],"0011":["US","NumberOfEnergyWindows"],"0012":["SQ","EnergyWindowInformationSequence"],"0013":["SQ","EnergyWindowRangeSequence"],"0014":["DS","EnergyWindowLowerLimit"],"0015":["DS","EnergyWindowUpperLimit"],"0016":["SQ","RadiopharmaceuticalInformationSequence"],"0017":["IS","ResidualSyringeCounts"],"0018":["SH","EnergyWindowName"],"0020":["US","DetectorVector"],"0021":["US","NumberOfDetectors"],"0022":["SQ","DetectorInformationSequence"],"0030":["US","PhaseVector"],"0031":["US","NumberOfPhases"],"0032":["SQ","PhaseInformationSequence"],"0033":["US","NumberOfFramesInPhase"],"0036":["IS","PhaseDelay"],"0038":["IS","PauseBetweenFrames"],"0039":["CS","PhaseDescription"],"0050":["US","RotationVector"],"0051":["US","NumberOfRotations"],"0052":["SQ","RotationInformationSequence"],"0053":["US","NumberOfFramesInRotation"],"0060":["US","RRIntervalVector"],"0061":["US","NumberOfRRIntervals"],"0062":["SQ","GatedInformationSequence"],"0063":["SQ","DataInformationSequence"],"0070":["US","TimeSlotVector"],"0071":["US","NumberOfTimeSlots"],"0072":["SQ","TimeSlotInformationSequence"],"0073":["DS","TimeSlotTime"],"0080":["US","SliceVector"],"0081":["US","NumberOfSlices"],"0090":["US","AngularViewVector"],"0100":["US","TimeSliceVector"],"0101":["US","NumberOfTimeSlices"],"0200":["DS","StartAngle"],"0202":["CS","TypeOfDetectorMotion"],"0210":["IS","TriggerVector"],"0211":["US","NumberOfTriggersInPhase"],"0220":["SQ","ViewCodeSequence"],"0222":["SQ","ViewModifierCodeSequence"],"0300":["SQ","RadionuclideCodeSequence"],"0302":["SQ","AdministrationRouteCodeSequence"],"0304":["SQ","RadiopharmaceuticalCodeSequence"],"0306":["SQ","CalibrationDataSequence"],"0308":["US","EnergyWindowNumber"],"0400":["SH","ImageID"],"0410":["SQ","PatientOrientationCodeSequence"],"0412":["SQ","PatientOrientationModifierCodeSequence"],"0414":["SQ","PatientGantryRelationshipCodeSequence"],"0500":["CS","SliceProgressionDirection"],1e3:["CS","SeriesType"],1001:["CS","Units"],1002:["CS","CountsSource"],1004:["CS","ReprojectionMethod"],1006:["CS","SUVType"],1100:["CS","RandomsCorrectionMethod"],1101:["LO","AttenuationCorrectionMethod"],1102:["CS","DecayCorrection"],1103:["LO","ReconstructionMethod"],1104:["LO","DetectorLinesOfResponseUsed"],1105:["LO","ScatterCorrectionMethod"],1200:["DS","AxialAcceptance"],1201:["IS","AxialMash"],1202:["IS","TransverseMash"],1203:["DS","DetectorElementSize"],1210:["DS","CoincidenceWindowWidth"],1220:["CS","SecondaryCountsType"],1300:["DS","FrameReferenceTime"],1310:["IS","PrimaryPromptsCountsAccumulated"],1311:["IS","SecondaryCountsAccumulated"],1320:["DS","SliceSensitivityFactor"],1321:["DS","DecayFactor"],1322:["DS","DoseCalibrationFactor"],1323:["DS","ScatterFractionFactor"],1324:["DS","DeadTimeFactor"],1330:["US","ImageIndex"],1400:["CS","CountsIncluded"],1401:["CS","DeadTimeCorrectionFlag"]},"0060":{3e3:["SQ","HistogramSequence"],3002:["US","HistogramNumberOfBins"],3004:["SS","HistogramFirstBinValue"],3006:["SS","HistogramLastBinValue"],3008:["US","HistogramBinWidth"],3010:["LO","HistogramExplanation"],3020:["UL","HistogramData"]},"0062":{"0001":["CS","SegmentationType"],"0002":["SQ","SegmentSequence"],"0003":["SQ","SegmentedPropertyCategoryCodeSequence"],"0004":["US","SegmentNumber"],"0005":["LO","SegmentLabel"],"0006":["ST","SegmentDescription"],"0008":["CS","SegmentAlgorithmType"],"0009":["LO","SegmentAlgorithmName"],"000A":["SQ","SegmentIdentificationSequence"],"000B":["US","ReferencedSegmentNumber"],"000C":["US","RecommendedDisplayGrayscaleValue"],"000D":["US","RecommendedDisplayCIELabValue"],"000E":["US","MaximumFractionalValue"],"000F":["SQ","SegmentedPropertyTypeCodeSequence"],"0010":["CS","SegmentationFractionalType"]},"0064":{"0002":["SQ","DeformableRegistrationSequence"],"0003":["UI","SourceFrameOfReferenceUID"],"0005":["SQ","DeformableRegistrationGridSequence"],"0007":["UL","GridDimensions"],"0008":["FD","GridResolution"],"0009":["OF","VectorGridData"],"000F":["SQ","PreDeformationMatrixRegistrationSequence"],"0010":["SQ","PostDeformationMatrixRegistrationSequence"]},"0066":{"0001":["UL","NumberOfSurfaces"],"0002":["SQ","SurfaceSequence"],"0003":["UL","SurfaceNumber"],"0004":["LT","SurfaceComments"],"0009":["CS","SurfaceProcessing"],"000A":["FL","SurfaceProcessingRatio"],"000B":["LO","SurfaceProcessingDescription"],"000C":["FL","RecommendedPresentationOpacity"],"000D":["CS","RecommendedPresentationType"],"000E":["CS","FiniteVolume"],"0010":["CS","Manifold"],"0011":["SQ","SurfacePointsSequence"],"0012":["SQ","SurfacePointsNormalsSequence"],"0013":["SQ","SurfaceMeshPrimitivesSequence"],"0015":["UL","NumberOfSurfacePoints"],"0016":["OF","PointCoordinatesData"],"0017":["FL","PointPositionAccuracy"],"0018":["FL","MeanPointDistance"],"0019":["FL","MaximumPointDistance"],"001A":["FL","PointsBoundingBoxCoordinates"],"001B":["FL","AxisOfRotation"],"001C":["FL","CenterOfRotation"],"001E":["UL","NumberOfVectors"],"001F":["US","VectorDimensionality"],"0020":["FL","VectorAccuracy"],"0021":["OF","VectorCoordinateData"],"0023":["OW","TrianglePointIndexList"],"0024":["OW","EdgePointIndexList"],"0025":["OW","VertexPointIndexList"],"0026":["SQ","TriangleStripSequence"],"0027":["SQ","TriangleFanSequence"],"0028":["SQ","LineSequence"],"0029":["OW","PrimitivePointIndexList"],"002A":["UL","SurfaceCount"],"002B":["SQ","ReferencedSurfaceSequence"],"002C":["UL","ReferencedSurfaceNumber"],"002D":["SQ","SegmentSurfaceGenerationAlgorithmIdentificationSequence"],"002E":["SQ","SegmentSurfaceSourceInstanceSequence"],"002F":["SQ","AlgorithmFamilyCodeSequence"],"0030":["SQ","AlgorithmNameCodeSequence"],"0031":["LO","AlgorithmVersion"],"0032":["LT","AlgorithmParameters"],"0034":["SQ","FacetSequence"],"0035":["SQ","SurfaceProcessingAlgorithmIdentificationSequence"],"0036":["LO","AlgorithmName"]},"0068":{6210:["LO","ImplantSize"],6221:["LO","ImplantTemplateVersion"],6222:["SQ","ReplacedImplantTemplateSequence"],6223:["CS","ImplantType"],6224:["SQ","DerivationImplantTemplateSequence"],6225:["SQ","OriginalImplantTemplateSequence"],6226:["DT","EffectiveDateTime"],6230:["SQ","ImplantTargetAnatomySequence"],6260:["SQ","InformationFromManufacturerSequence"],6265:["SQ","NotificationFromManufacturerSequence"],6270:["DT","InformationIssueDateTime"],6280:["ST","InformationSummary"],"62A0":["SQ","ImplantRegulatoryDisapprovalCodeSequence"],"62A5":["FD","OverallTemplateSpatialTolerance"],"62C0":["SQ","HPGLDocumentSequence"],"62D0":["US","HPGLDocumentID"],"62D5":["LO","HPGLDocumentLabel"],"62E0":["SQ","ViewOrientationCodeSequence"],"62F0":["FD","ViewOrientationModifier"],"62F2":["FD","HPGLDocumentScaling"],6300:["OB","HPGLDocument"],6310:["US","HPGLContourPenNumber"],6320:["SQ","HPGLPenSequence"],6330:["US","HPGLPenNumber"],6340:["LO","HPGLPenLabel"],6345:["ST","HPGLPenDescription"],6346:["FD","RecommendedRotationPoint"],6347:["FD","BoundingRectangle"],6350:["US","ImplantTemplate3DModelSurfaceNumber"],6360:["SQ","SurfaceModelDescriptionSequence"],6380:["LO","SurfaceModelLabel"],6390:["FD","SurfaceModelScalingFactor"],"63A0":["SQ","MaterialsCodeSequence"],"63A4":["SQ","CoatingMaterialsCodeSequence"],"63A8":["SQ","ImplantTypeCodeSequence"],"63AC":["SQ","FixationMethodCodeSequence"],"63B0":["SQ","MatingFeatureSetsSequence"],"63C0":["US","MatingFeatureSetID"],"63D0":["LO","MatingFeatureSetLabel"],"63E0":["SQ","MatingFeatureSequence"],"63F0":["US","MatingFeatureID"],6400:["SQ","MatingFeatureDegreeOfFreedomSequence"],6410:["US","DegreeOfFreedomID"],6420:["CS","DegreeOfFreedomType"],6430:["SQ","TwoDMatingFeatureCoordinatesSequence"],6440:["US","ReferencedHPGLDocumentID"],6450:["FD","TwoDMatingPoint"],6460:["FD","TwoDMatingAxes"],6470:["SQ","TwoDDegreeOfFreedomSequence"],6490:["FD","ThreeDDegreeOfFreedomAxis"],"64A0":["FD","RangeOfFreedom"],"64C0":["FD","ThreeDMatingPoint"],"64D0":["FD","ThreeDMatingAxes"],"64F0":["FD","TwoDDegreeOfFreedomAxis"],6500:["SQ","PlanningLandmarkPointSequence"],6510:["SQ","PlanningLandmarkLineSequence"],6520:["SQ","PlanningLandmarkPlaneSequence"],6530:["US","PlanningLandmarkID"],6540:["LO","PlanningLandmarkDescription"],6545:["SQ","PlanningLandmarkIdentificationCodeSequence"],6550:["SQ","TwoDPointCoordinatesSequence"],6560:["FD","TwoDPointCoordinates"],6590:["FD","ThreeDPointCoordinates"],"65A0":["SQ","TwoDLineCoordinatesSequence"],"65B0":["FD","TwoDLineCoordinates"],"65D0":["FD","ThreeDLineCoordinates"],"65E0":["SQ","TwoDPlaneCoordinatesSequence"],"65F0":["FD","TwoDPlaneIntersection"],6610:["FD","ThreeDPlaneOrigin"],6620:["FD","ThreeDPlaneNormal"]},"0070":{"0001":["SQ","GraphicAnnotationSequence"],"0002":["CS","GraphicLayer"],"0003":["CS","BoundingBoxAnnotationUnits"],"0004":["CS","AnchorPointAnnotationUnits"],"0005":["CS","GraphicAnnotationUnits"],"0006":["ST","UnformattedTextValue"],"0008":["SQ","TextObjectSequence"],"0009":["SQ","GraphicObjectSequence"],"0010":["FL","BoundingBoxTopLeftHandCorner"],"0011":["FL","BoundingBoxBottomRightHandCorner"],"0012":["CS","BoundingBoxTextHorizontalJustification"],"0014":["FL","AnchorPoint"],"0015":["CS","AnchorPointVisibility"],"0020":["US","GraphicDimensions"],"0021":["US","NumberOfGraphicPoints"],"0022":["FL","GraphicData"],"0023":["CS","GraphicType"],"0024":["CS","GraphicFilled"],"0040":["IS","ImageRotationRetired"],"0041":["CS","ImageHorizontalFlip"],"0042":["US","ImageRotation"],"0050":["US","DisplayedAreaTopLeftHandCornerTrial"],"0051":["US","DisplayedAreaBottomRightHandCornerTrial"],"0052":["SL","DisplayedAreaTopLeftHandCorner"],"0053":["SL","DisplayedAreaBottomRightHandCorner"],"005A":["SQ","DisplayedAreaSelectionSequence"],"0060":["SQ","GraphicLayerSequence"],"0062":["IS","GraphicLayerOrder"],"0066":["US","GraphicLayerRecommendedDisplayGrayscaleValue"],"0067":["US","GraphicLayerRecommendedDisplayRGBValue"],"0068":["LO","GraphicLayerDescription"],"0080":["CS","ContentLabel"],"0081":["LO","ContentDescription"],"0082":["DA","PresentationCreationDate"],"0083":["TM","PresentationCreationTime"],"0084":["PN","ContentCreatorName"],"0086":["SQ","ContentCreatorIdentificationCodeSequence"],"0087":["SQ","AlternateContentDescriptionSequence"],"0100":["CS","PresentationSizeMode"],"0101":["DS","PresentationPixelSpacing"],"0102":["IS","PresentationPixelAspectRatio"],"0103":["FL","PresentationPixelMagnificationRatio"],"0207":["LO","GraphicGroupLabel"],"0208":["ST","GraphicGroupDescription"],"0209":["SQ","CompoundGraphicSequence"],"0226":["UL","CompoundGraphicInstanceID"],"0227":["LO","FontName"],"0228":["CS","FontNameType"],"0229":["LO","CSSFontName"],"0230":["FD","RotationAngle"],"0231":["SQ","TextStyleSequence"],"0232":["SQ","LineStyleSequence"],"0233":["SQ","FillStyleSequence"],"0234":["SQ","GraphicGroupSequence"],"0241":["US","TextColorCIELabValue"],"0242":["CS","HorizontalAlignment"],"0243":["CS","VerticalAlignment"],"0244":["CS","ShadowStyle"],"0245":["FL","ShadowOffsetX"],"0246":["FL","ShadowOffsetY"],"0247":["US","ShadowColorCIELabValue"],"0248":["CS","Underlined"],"0249":["CS","Bold"],"0250":["CS","Italic"],"0251":["US","PatternOnColorCIELabValue"],"0252":["US","PatternOffColorCIELabValue"],"0253":["FL","LineThickness"],"0254":["CS","LineDashingStyle"],"0255":["UL","LinePattern"],"0256":["OB","FillPattern"],"0257":["CS","FillMode"],"0258":["FL","ShadowOpacity"],"0261":["FL","GapLength"],"0262":["FL","DiameterOfVisibility"],"0273":["FL","RotationPoint"],"0274":["CS","TickAlignment"],"0278":["CS","ShowTickLabel"],"0279":["CS","TickLabelAlignment"],"0282":["CS","CompoundGraphicUnits"],"0284":["FL","PatternOnOpacity"],"0285":["FL","PatternOffOpacity"],"0287":["SQ","MajorTicksSequence"],"0288":["FL","TickPosition"],"0289":["SH","TickLabel"],"0294":["CS","CompoundGraphicType"],"0295":["UL","GraphicGroupID"],"0306":["CS","ShapeType"],"0308":["SQ","RegistrationSequence"],"0309":["SQ","MatrixRegistrationSequence"],"030A":["SQ","MatrixSequence"],"030C":["CS","FrameOfReferenceTransformationMatrixType"],"030D":["SQ","RegistrationTypeCodeSequence"],"030F":["ST","FiducialDescription"],"0310":["SH","FiducialIdentifier"],"0311":["SQ","FiducialIdentifierCodeSequence"],"0312":["FD","ContourUncertaintyRadius"],"0314":["SQ","UsedFiducialsSequence"],"0318":["SQ","GraphicCoordinatesDataSequence"],"031A":["UI","FiducialUID"],"031C":["SQ","FiducialSetSequence"],"031E":["SQ","FiducialSequence"],"0401":["US","GraphicLayerRecommendedDisplayCIELabValue"],"0402":["SQ","BlendingSequence"],"0403":["FL","RelativeOpacity"],"0404":["SQ","ReferencedSpatialRegistrationSequence"],"0405":["CS","BlendingPosition"]},"0072":{"0002":["SH","HangingProtocolName"],"0004":["LO","HangingProtocolDescription"],"0006":["CS","HangingProtocolLevel"],"0008":["LO","HangingProtocolCreator"],"000A":["DT","HangingProtocolCreationDateTime"],"000C":["SQ","HangingProtocolDefinitionSequence"],"000E":["SQ","HangingProtocolUserIdentificationCodeSequence"],"0010":["LO","HangingProtocolUserGroupName"],"0012":["SQ","SourceHangingProtocolSequence"],"0014":["US","NumberOfPriorsReferenced"],"0020":["SQ","ImageSetsSequence"],"0022":["SQ","ImageSetSelectorSequence"],"0024":["CS","ImageSetSelectorUsageFlag"],"0026":["AT","SelectorAttribute"],"0028":["US","SelectorValueNumber"],"0030":["SQ","TimeBasedImageSetsSequence"],"0032":["US","ImageSetNumber"],"0034":["CS","ImageSetSelectorCategory"],"0038":["US","RelativeTime"],"003A":["CS","RelativeTimeUnits"],"003C":["SS","AbstractPriorValue"],"003E":["SQ","AbstractPriorCodeSequence"],"0040":["LO","ImageSetLabel"],"0050":["CS","SelectorAttributeVR"],"0052":["AT","SelectorSequencePointer"],"0054":["LO","SelectorSequencePointerPrivateCreator"],"0056":["LO","SelectorAttributePrivateCreator"],"0060":["AT","SelectorATValue"],"0062":["CS","SelectorCSValue"],"0064":["IS","SelectorISValue"],"0066":["LO","SelectorLOValue"],"0068":["LT","SelectorLTValue"],"006A":["PN","SelectorPNValue"],"006C":["SH","SelectorSHValue"],"006E":["ST","SelectorSTValue"],"0070":["UT","SelectorUTValue"],"0072":["DS","SelectorDSValue"],"0074":["FD","SelectorFDValue"],"0076":["FL","SelectorFLValue"],"0078":["UL","SelectorULValue"],"007A":["US","SelectorUSValue"],"007C":["SL","SelectorSLValue"],"007E":["SS","SelectorSSValue"],"0080":["SQ","SelectorCodeSequenceValue"],"0100":["US","NumberOfScreens"],"0102":["SQ","NominalScreenDefinitionSequence"],"0104":["US","NumberOfVerticalPixels"],"0106":["US","NumberOfHorizontalPixels"],"0108":["FD","DisplayEnvironmentSpatialPosition"],"010A":["US","ScreenMinimumGrayscaleBitDepth"],"010C":["US","ScreenMinimumColorBitDepth"],"010E":["US","ApplicationMaximumRepaintTime"],"0200":["SQ","DisplaySetsSequence"],"0202":["US","DisplaySetNumber"],"0203":["LO","DisplaySetLabel"],"0204":["US","DisplaySetPresentationGroup"],"0206":["LO","DisplaySetPresentationGroupDescription"],"0208":["CS","PartialDataDisplayHandling"],"0210":["SQ","SynchronizedScrollingSequence"],"0212":["US","DisplaySetScrollingGroup"],"0214":["SQ","NavigationIndicatorSequence"],"0216":["US","NavigationDisplaySet"],"0218":["US","ReferenceDisplaySets"],"0300":["SQ","ImageBoxesSequence"],"0302":["US","ImageBoxNumber"],"0304":["CS","ImageBoxLayoutType"],"0306":["US","ImageBoxTileHorizontalDimension"],"0308":["US","ImageBoxTileVerticalDimension"],"0310":["CS","ImageBoxScrollDirection"],"0312":["CS","ImageBoxSmallScrollType"],"0314":["US","ImageBoxSmallScrollAmount"],"0316":["CS","ImageBoxLargeScrollType"],"0318":["US","ImageBoxLargeScrollAmount"],"0320":["US","ImageBoxOverlapPriority"],"0330":["FD","CineRelativeToRealTime"],"0400":["SQ","FilterOperationsSequence"],"0402":["CS","FilterByCategory"],"0404":["CS","FilterByAttributePresence"],"0406":["CS","FilterByOperator"],"0420":["US","StructuredDisplayBackgroundCIELabValue"],"0421":["US","EmptyImageBoxCIELabValue"],"0422":["SQ","StructuredDisplayImageBoxSequence"],"0424":["SQ","StructuredDisplayTextBoxSequence"],"0427":["SQ","ReferencedFirstFrameSequence"],"0430":["SQ","ImageBoxSynchronizationSequence"],"0432":["US","SynchronizedImageBoxList"],"0434":["CS","TypeOfSynchronization"],"0500":["CS","BlendingOperationType"],"0510":["CS","ReformattingOperationType"],"0512":["FD","ReformattingThickness"],"0514":["FD","ReformattingInterval"],"0516":["CS","ReformattingOperationInitialViewDirection"],"0520":["CS","ThreeDRenderingType"],"0600":["SQ","SortingOperationsSequence"],"0602":["CS","SortByCategory"],"0604":["CS","SortingDirection"],"0700":["CS","DisplaySetPatientOrientation"],"0702":["CS","VOIType"],"0704":["CS","PseudoColorType"],"0705":["SQ","PseudoColorPaletteInstanceReferenceSequence"],"0706":["CS","ShowGrayscaleInverted"],"0710":["CS","ShowImageTrueSizeFlag"],"0712":["CS","ShowGraphicAnnotationFlag"],"0714":["CS","ShowPatientDemographicsFlag"],"0716":["CS","ShowAcquisitionTechniquesFlag"],"0717":["CS","DisplaySetHorizontalJustification"],"0718":["CS","DisplaySetVerticalJustification"]},"0074":{"0120":["FD","ContinuationStartMeterset"],"0121":["FD","ContinuationEndMeterset"],1e3:["CS","ProcedureStepState"],1002:["SQ","ProcedureStepProgressInformationSequence"],1004:["DS","ProcedureStepProgress"],1006:["ST","ProcedureStepProgressDescription"],1008:["SQ","ProcedureStepCommunicationsURISequence"],"100A":["ST","ContactURI"],"100C":["LO","ContactDisplayName"],"100E":["SQ","ProcedureStepDiscontinuationReasonCodeSequence"],1020:["SQ","BeamTaskSequence"],1022:["CS","BeamTaskType"],1024:["IS","BeamOrderIndexTrial"],1026:["FD","TableTopVerticalAdjustedPosition"],1027:["FD","TableTopLongitudinalAdjustedPosition"],1028:["FD","TableTopLateralAdjustedPosition"],"102A":["FD","PatientSupportAdjustedAngle"],"102B":["FD","TableTopEccentricAdjustedAngle"],"102C":["FD","TableTopPitchAdjustedAngle"],"102D":["FD","TableTopRollAdjustedAngle"],1030:["SQ","DeliveryVerificationImageSequence"],1032:["CS","VerificationImageTiming"],1034:["CS","DoubleExposureFlag"],1036:["CS","DoubleExposureOrdering"],1038:["DS","DoubleExposureMetersetTrial"],"103A":["DS","DoubleExposureFieldDeltaTrial"],1040:["SQ","RelatedReferenceRTImageSequence"],1042:["SQ","GeneralMachineVerificationSequence"],1044:["SQ","ConventionalMachineVerificationSequence"],1046:["SQ","IonMachineVerificationSequence"],1048:["SQ","FailedAttributesSequence"],"104A":["SQ","OverriddenAttributesSequence"],"104C":["SQ","ConventionalControlPointVerificationSequence"],"104E":["SQ","IonControlPointVerificationSequence"],1050:["SQ","AttributeOccurrenceSequence"],1052:["AT","AttributeOccurrencePointer"],1054:["UL","AttributeItemSelector"],1056:["LO","AttributeOccurrencePrivateCreator"],1057:["IS","SelectorSequencePointerItems"],1200:["CS","ScheduledProcedureStepPriority"],1202:["LO","WorklistLabel"],1204:["LO","ProcedureStepLabel"],1210:["SQ","ScheduledProcessingParametersSequence"],1212:["SQ","PerformedProcessingParametersSequence"],1216:["SQ","UnifiedProcedureStepPerformedProcedureSequence"],1220:["SQ","RelatedProcedureStepSequence"],1222:["LO","ProcedureStepRelationshipType"],1224:["SQ","ReplacedProcedureStepSequence"],1230:["LO","DeletionLock"],1234:["AE","ReceivingAE"],1236:["AE","RequestingAE"],1238:["LT","ReasonForCancellation"],1242:["CS","SCPStatus"],1244:["CS","SubscriptionListStatus"],1246:["CS","UnifiedProcedureStepListStatus"],1324:["UL","BeamOrderIndex"],1338:["FD","DoubleExposureMeterset"],"133A":["FD","DoubleExposureFieldDelta"]},"0076":{"0001":["LO","ImplantAssemblyTemplateName"],"0003":["LO","ImplantAssemblyTemplateIssuer"],"0006":["LO","ImplantAssemblyTemplateVersion"],"0008":["SQ","ReplacedImplantAssemblyTemplateSequence"],"000A":["CS","ImplantAssemblyTemplateType"],"000C":["SQ","OriginalImplantAssemblyTemplateSequence"],"000E":["SQ","DerivationImplantAssemblyTemplateSequence"],"0010":["SQ","ImplantAssemblyTemplateTargetAnatomySequence"],"0020":["SQ","ProcedureTypeCodeSequence"],"0030":["LO","SurgicalTechnique"],"0032":["SQ","ComponentTypesSequence"],"0034":["CS","ComponentTypeCodeSequence"],"0036":["CS","ExclusiveComponentType"],"0038":["CS","MandatoryComponentType"],"0040":["SQ","ComponentSequence"],"0055":["US","ComponentID"],"0060":["SQ","ComponentAssemblySequence"],"0070":["US","Component1ReferencedID"],"0080":["US","Component1ReferencedMatingFeatureSetID"],"0090":["US","Component1ReferencedMatingFeatureID"],"00A0":["US","Component2ReferencedID"],"00B0":["US","Component2ReferencedMatingFeatureSetID"],"00C0":["US","Component2ReferencedMatingFeatureID"]},"0078":{"0001":["LO","ImplantTemplateGroupName"],"0010":["ST","ImplantTemplateGroupDescription"],"0020":["LO","ImplantTemplateGroupIssuer"],"0024":["LO","ImplantTemplateGroupVersion"],"0026":["SQ","ReplacedImplantTemplateGroupSequence"],"0028":["SQ","ImplantTemplateGroupTargetAnatomySequence"],"002A":["SQ","ImplantTemplateGroupMembersSequence"],"002E":["US","ImplantTemplateGroupMemberID"],"0050":["FD","ThreeDImplantTemplateGroupMemberMatchingPoint"],"0060":["FD","ThreeDImplantTemplateGroupMemberMatchingAxes"],"0070":["SQ","ImplantTemplateGroupMemberMatching2DCoordinatesSequence"],"0090":["FD","TwoDImplantTemplateGroupMemberMatchingPoint"],"00A0":["FD","TwoDImplantTemplateGroupMemberMatchingAxes"],"00B0":["SQ","ImplantTemplateGroupVariationDimensionSequence"],"00B2":["LO","ImplantTemplateGroupVariationDimensionName"],"00B4":["SQ","ImplantTemplateGroupVariationDimensionRankSequence"],"00B6":["US","ReferencedImplantTemplateGroupMemberID"],"00B8":["US","ImplantTemplateGroupVariationDimensionRank"]},"0088":{"0130":["SH","StorageMediaFileSetID"],"0140":["UI","StorageMediaFileSetUID"],"0200":["SQ","IconImageSequence"],"0904":["LO","TopicTitle"],"0906":["ST","TopicSubject"],"0910":["LO","TopicAuthor"],"0912":["LO","TopicKeywords"]},"0100":{"0410":["CS","SOPInstanceStatus"],"0420":["DT","SOPAuthorizationDateTime"],"0424":["LT","SOPAuthorizationComment"],"0426":["LO","AuthorizationEquipmentCertificationNumber"]},"0400":{"0005":["US","MACIDNumber"],"0010":["UI","MACCalculationTransferSyntaxUID"],"0015":["CS","MACAlgorithm"],"0020":["AT","DataElementsSigned"],"0100":["UI","DigitalSignatureUID"],"0105":["DT","DigitalSignatureDateTime"],"0110":["CS","CertificateType"],"0115":["OB","CertificateOfSigner"],"0120":["OB","Signature"],"0305":["CS","CertifiedTimestampType"],"0310":["OB","CertifiedTimestamp"],"0401":["SQ","DigitalSignaturePurposeCodeSequence"],"0402":["SQ","ReferencedDigitalSignatureSequence"],"0403":["SQ","ReferencedSOPInstanceMACSequence"],"0404":["OB","MAC"],"0500":["SQ","EncryptedAttributesSequence"],"0510":["UI","EncryptedContentTransferSyntaxUID"],"0520":["OB","EncryptedContent"],"0550":["SQ","ModifiedAttributesSequence"],"0561":["SQ","OriginalAttributesSequence"],"0562":["DT","AttributeModificationDateTime"],"0563":["LO","ModifyingSystem"],"0564":["LO","SourceOfPreviousValues"],"0565":["CS","ReasonForTheAttributeModification"]},2e3:{"0010":["IS","NumberOfCopies"],"001E":["SQ","PrinterConfigurationSequence"],"0020":["CS","PrintPriority"],"0030":["CS","MediumType"],"0040":["CS","FilmDestination"],"0050":["LO","FilmSessionLabel"],"0060":["IS","MemoryAllocation"],"0061":["IS","MaximumMemoryAllocation"],"0062":["CS","ColorImagePrintingFlag"],"0063":["CS","CollationFlag"],"0065":["CS","AnnotationFlag"],"0067":["CS","ImageOverlayFlag"],"0069":["CS","PresentationLUTFlag"],"006A":["CS","ImageBoxPresentationLUTFlag"],"00A0":["US","MemoryBitDepth"],"00A1":["US","PrintingBitDepth"],"00A2":["SQ","MediaInstalledSequence"],"00A4":["SQ","OtherMediaAvailableSequence"],"00A8":["SQ","SupportedImageDisplayFormatsSequence"],"0500":["SQ","ReferencedFilmBoxSequence"],"0510":["SQ","ReferencedStoredPrintSequence"]},2010:{"0010":["ST","ImageDisplayFormat"],"0030":["CS","AnnotationDisplayFormatID"],"0040":["CS","FilmOrientation"],"0050":["CS","FilmSizeID"],"0052":["CS","PrinterResolutionID"],"0054":["CS","DefaultPrinterResolutionID"],"0060":["CS","MagnificationType"],"0080":["CS","SmoothingType"],"00A6":["CS","DefaultMagnificationType"],"00A7":["CS","OtherMagnificationTypesAvailable"],"00A8":["CS","DefaultSmoothingType"],"00A9":["CS","OtherSmoothingTypesAvailable"],"0100":["CS","BorderDensity"],"0110":["CS","EmptyImageDensity"],"0120":["US","MinDensity"],"0130":["US","MaxDensity"],"0140":["CS","Trim"],"0150":["ST","ConfigurationInformation"],"0152":["LT","ConfigurationInformationDescription"],"0154":["IS","MaximumCollatedFilms"],"015E":["US","Illumination"],"0160":["US","ReflectedAmbientLight"],"0376":["DS","PrinterPixelSpacing"],"0500":["SQ","ReferencedFilmSessionSequence"],"0510":["SQ","ReferencedImageBoxSequence"],"0520":["SQ","ReferencedBasicAnnotationBoxSequence"]},2020:{"0010":["US","ImageBoxPosition"],"0020":["CS","Polarity"],"0030":["DS","RequestedImageSize"],"0040":["CS","RequestedDecimateCropBehavior"],"0050":["CS","RequestedResolutionID"],"00A0":["CS","RequestedImageSizeFlag"],"00A2":["CS","DecimateCropResult"],"0110":["SQ","BasicGrayscaleImageSequence"],"0111":["SQ","BasicColorImageSequence"],"0130":["SQ","ReferencedImageOverlayBoxSequence"],"0140":["SQ","ReferencedVOILUTBoxSequence"]},2030:{"0010":["US","AnnotationPosition"],"0020":["LO","TextString"]},2040:{"0010":["SQ","ReferencedOverlayPlaneSequence"],"0011":["US","ReferencedOverlayPlaneGroups"],"0020":["SQ","OverlayPixelDataSequence"],"0060":["CS","OverlayMagnificationType"],"0070":["CS","OverlaySmoothingType"],"0072":["CS","OverlayOrImageMagnification"],"0074":["US","MagnifyToNumberOfColumns"],"0080":["CS","OverlayForegroundDensity"],"0082":["CS","OverlayBackgroundDensity"],"0090":["CS","OverlayMode"],"0100":["CS","ThresholdDensity"],"0500":["SQ","ReferencedImageBoxSequenceRetired"]},2050:{"0010":["SQ","PresentationLUTSequence"],"0020":["CS","PresentationLUTShape"],"0500":["SQ","ReferencedPresentationLUTSequence"]},2100:{"0010":["SH","PrintJobID"],"0020":["CS","ExecutionStatus"],"0030":["CS","ExecutionStatusInfo"],"0040":["DA","CreationDate"],"0050":["TM","CreationTime"],"0070":["AE","Originator"],"0140":["AE","DestinationAE"],"0160":["SH","OwnerID"],"0170":["IS","NumberOfFilms"],"0500":["SQ","ReferencedPrintJobSequencePullStoredPrint"]},2110:{"0010":["CS","PrinterStatus"],"0020":["CS","PrinterStatusInfo"],"0030":["LO","PrinterName"],"0099":["SH","PrintQueueID"]},2120:{"0010":["CS","QueueStatus"],"0050":["SQ","PrintJobDescriptionSequence"],"0070":["SQ","ReferencedPrintJobSequence"]},2130:{"0010":["SQ","PrintManagementCapabilitiesSequence"],"0015":["SQ","PrinterCharacteristicsSequence"],"0030":["SQ","FilmBoxContentSequence"],"0040":["SQ","ImageBoxContentSequence"],"0050":["SQ","AnnotationContentSequence"],"0060":["SQ","ImageOverlayBoxContentSequence"],"0080":["SQ","PresentationLUTContentSequence"],"00A0":["SQ","ProposedStudySequence"],"00C0":["SQ","OriginalImageSequence"]},2200:{"0001":["CS","LabelUsingInformationExtractedFromInstances"],"0002":["UT","LabelText"],"0003":["CS","LabelStyleSelection"],"0004":["LT","MediaDisposition"],"0005":["LT","BarcodeValue"],"0006":["CS","BarcodeSymbology"],"0007":["CS","AllowMediaSplitting"],"0008":["CS","IncludeNonDICOMObjects"],"0009":["CS","IncludeDisplayApplication"],"000A":["CS","PreserveCompositeInstancesAfterMediaCreation"],"000B":["US","TotalNumberOfPiecesOfMediaCreated"],"000C":["LO","RequestedMediaApplicationProfile"],"000D":["SQ","ReferencedStorageMediaSequence"],"000E":["AT","FailureAttributes"],"000F":["CS","AllowLossyCompression"],"0020":["CS","RequestPriority"]},3002:{"0002":["SH","RTImageLabel"],"0003":["LO","RTImageName"],"0004":["ST","RTImageDescription"],"000A":["CS","ReportedValuesOrigin"],"000C":["CS","RTImagePlane"],"000D":["DS","XRayImageReceptorTranslation"],"000E":["DS","XRayImageReceptorAngle"],"0010":["DS","RTImageOrientation"],"0011":["DS","ImagePlanePixelSpacing"],"0012":["DS","RTImagePosition"],"0020":["SH","RadiationMachineName"],"0022":["DS","RadiationMachineSAD"],"0024":["DS","RadiationMachineSSD"],"0026":["DS","RTImageSID"],"0028":["DS","SourceToReferenceObjectDistance"],"0029":["IS","FractionNumber"],"0030":["SQ","ExposureSequence"],"0032":["DS","MetersetExposure"],"0034":["DS","DiaphragmPosition"],"0040":["SQ","FluenceMapSequence"],"0041":["CS","FluenceDataSource"],"0042":["DS","FluenceDataScale"],"0050":["SQ","PrimaryFluenceModeSequence"],"0051":["CS","FluenceMode"],"0052":["SH","FluenceModeID"]},3004:{"0001":["CS","DVHType"],"0002":["CS","DoseUnits"],"0004":["CS","DoseType"],"0006":["LO","DoseComment"],"0008":["DS","NormalizationPoint"],"000A":["CS","DoseSummationType"],"000C":["DS","GridFrameOffsetVector"],"000E":["DS","DoseGridScaling"],"0010":["SQ","RTDoseROISequence"],"0012":["DS","DoseValue"],"0014":["CS","TissueHeterogeneityCorrection"],"0040":["DS","DVHNormalizationPoint"],"0042":["DS","DVHNormalizationDoseValue"],"0050":["SQ","DVHSequence"],"0052":["DS","DVHDoseScaling"],"0054":["CS","DVHVolumeUnits"],"0056":["IS","DVHNumberOfBins"],"0058":["DS","DVHData"],"0060":["SQ","DVHReferencedROISequence"],"0062":["CS","DVHROIContributionType"],"0070":["DS","DVHMinimumDose"],"0072":["DS","DVHMaximumDose"],"0074":["DS","DVHMeanDose"]},3006:{"0002":["SH","StructureSetLabel"],"0004":["LO","StructureSetName"],"0006":["ST","StructureSetDescription"],"0008":["DA","StructureSetDate"],"0009":["TM","StructureSetTime"],"0010":["SQ","ReferencedFrameOfReferenceSequence"],"0012":["SQ","RTReferencedStudySequence"],"0014":["SQ","RTReferencedSeriesSequence"],"0016":["SQ","ContourImageSequence"],"0020":["SQ","StructureSetROISequence"],"0022":["IS","ROINumber"],"0024":["UI","ReferencedFrameOfReferenceUID"],"0026":["LO","ROIName"],"0028":["ST","ROIDescription"],"002A":["IS","ROIDisplayColor"],"002C":["DS","ROIVolume"],"0030":["SQ","RTRelatedROISequence"],"0033":["CS","RTROIRelationship"],"0036":["CS","ROIGenerationAlgorithm"],"0038":["LO","ROIGenerationDescription"],"0039":["SQ","ROIContourSequence"],"0040":["SQ","ContourSequence"],"0042":["CS","ContourGeometricType"],"0044":["DS","ContourSlabThickness"],"0045":["DS","ContourOffsetVector"],"0046":["IS","NumberOfContourPoints"],"0048":["IS","ContourNumber"],"0049":["IS","AttachedContours"],"0050":["DS","ContourData"],"0080":["SQ","RTROIObservationsSequence"],"0082":["IS","ObservationNumber"],"0084":["IS","ReferencedROINumber"],"0085":["SH","ROIObservationLabel"],"0086":["SQ","RTROIIdentificationCodeSequence"],"0088":["ST","ROIObservationDescription"],"00A0":["SQ","RelatedRTROIObservationsSequence"],"00A4":["CS","RTROIInterpretedType"],"00A6":["PN","ROIInterpreter"],"00B0":["SQ","ROIPhysicalPropertiesSequence"],"00B2":["CS","ROIPhysicalProperty"],"00B4":["DS","ROIPhysicalPropertyValue"],"00B6":["SQ","ROIElementalCompositionSequence"],"00B7":["US","ROIElementalCompositionAtomicNumber"],"00B8":["FL","ROIElementalCompositionAtomicMassFraction"],"00C0":["SQ","FrameOfReferenceRelationshipSequence"],"00C2":["UI","RelatedFrameOfReferenceUID"],"00C4":["CS","FrameOfReferenceTransformationType"],"00C6":["DS","FrameOfReferenceTransformationMatrix"],"00C8":["LO","FrameOfReferenceTransformationComment"]},3008:{"0010":["SQ","MeasuredDoseReferenceSequence"],"0012":["ST","MeasuredDoseDescription"],"0014":["CS","MeasuredDoseType"],"0016":["DS","MeasuredDoseValue"],"0020":["SQ","TreatmentSessionBeamSequence"],"0021":["SQ","TreatmentSessionIonBeamSequence"],"0022":["IS","CurrentFractionNumber"],"0024":["DA","TreatmentControlPointDate"],"0025":["TM","TreatmentControlPointTime"],"002A":["CS","TreatmentTerminationStatus"],"002B":["SH","TreatmentTerminationCode"],"002C":["CS","TreatmentVerificationStatus"],"0030":["SQ","ReferencedTreatmentRecordSequence"],"0032":["DS","SpecifiedPrimaryMeterset"],"0033":["DS","SpecifiedSecondaryMeterset"],"0036":["DS","DeliveredPrimaryMeterset"],"0037":["DS","DeliveredSecondaryMeterset"],"003A":["DS","SpecifiedTreatmentTime"],"003B":["DS","DeliveredTreatmentTime"],"0040":["SQ","ControlPointDeliverySequence"],"0041":["SQ","IonControlPointDeliverySequence"],"0042":["DS","SpecifiedMeterset"],"0044":["DS","DeliveredMeterset"],"0045":["FL","MetersetRateSet"],"0046":["FL","MetersetRateDelivered"],"0047":["FL","ScanSpotMetersetsDelivered"],"0048":["DS","DoseRateDelivered"],"0050":["SQ","TreatmentSummaryCalculatedDoseReferenceSequence"],"0052":["DS","CumulativeDoseToDoseReference"],"0054":["DA","FirstTreatmentDate"],"0056":["DA","MostRecentTreatmentDate"],"005A":["IS","NumberOfFractionsDelivered"],"0060":["SQ","OverrideSequence"],"0061":["AT","ParameterSequencePointer"],"0062":["AT","OverrideParameterPointer"],"0063":["IS","ParameterItemIndex"],"0064":["IS","MeasuredDoseReferenceNumber"],"0065":["AT","ParameterPointer"],"0066":["ST","OverrideReason"],"0068":["SQ","CorrectedParameterSequence"],"006A":["FL","CorrectionValue"],"0070":["SQ","CalculatedDoseReferenceSequence"],"0072":["IS","CalculatedDoseReferenceNumber"],"0074":["ST","CalculatedDoseReferenceDescription"],"0076":["DS","CalculatedDoseReferenceDoseValue"],"0078":["DS","StartMeterset"],"007A":["DS","EndMeterset"],"0080":["SQ","ReferencedMeasuredDoseReferenceSequence"],"0082":["IS","ReferencedMeasuredDoseReferenceNumber"],"0090":["SQ","ReferencedCalculatedDoseReferenceSequence"],"0092":["IS","ReferencedCalculatedDoseReferenceNumber"],"00A0":["SQ","BeamLimitingDeviceLeafPairsSequence"],"00B0":["SQ","RecordedWedgeSequence"],"00C0":["SQ","RecordedCompensatorSequence"],"00D0":["SQ","RecordedBlockSequence"],"00E0":["SQ","TreatmentSummaryMeasuredDoseReferenceSequence"],"00F0":["SQ","RecordedSnoutSequence"],"00F2":["SQ","RecordedRangeShifterSequence"],"00F4":["SQ","RecordedLateralSpreadingDeviceSequence"],"00F6":["SQ","RecordedRangeModulatorSequence"],"0100":["SQ","RecordedSourceSequence"],"0105":["LO","SourceSerialNumber"],"0110":["SQ","TreatmentSessionApplicationSetupSequence"],"0116":["CS","ApplicationSetupCheck"],"0120":["SQ","RecordedBrachyAccessoryDeviceSequence"],"0122":["IS","ReferencedBrachyAccessoryDeviceNumber"],"0130":["SQ","RecordedChannelSequence"],"0132":["DS","SpecifiedChannelTotalTime"],"0134":["DS","DeliveredChannelTotalTime"],"0136":["IS","SpecifiedNumberOfPulses"],"0138":["IS","DeliveredNumberOfPulses"],"013A":["DS","SpecifiedPulseRepetitionInterval"],"013C":["DS","DeliveredPulseRepetitionInterval"],"0140":["SQ","RecordedSourceApplicatorSequence"],"0142":["IS","ReferencedSourceApplicatorNumber"],"0150":["SQ","RecordedChannelShieldSequence"],"0152":["IS","ReferencedChannelShieldNumber"],"0160":["SQ","BrachyControlPointDeliveredSequence"],"0162":["DA","SafePositionExitDate"],"0164":["TM","SafePositionExitTime"],"0166":["DA","SafePositionReturnDate"],"0168":["TM","SafePositionReturnTime"],"0200":["CS","CurrentTreatmentStatus"],"0202":["ST","TreatmentStatusComment"],"0220":["SQ","FractionGroupSummarySequence"],"0223":["IS","ReferencedFractionNumber"],"0224":["CS","FractionGroupType"],"0230":["CS","BeamStopperPosition"],"0240":["SQ","FractionStatusSummarySequence"],"0250":["DA","TreatmentDate"],"0251":["TM","TreatmentTime"]},"300A":{"0002":["SH","RTPlanLabel"],"0003":["LO","RTPlanName"],"0004":["ST","RTPlanDescription"],"0006":["DA","RTPlanDate"],"0007":["TM","RTPlanTime"],"0009":["LO","TreatmentProtocols"],"000A":["CS","PlanIntent"],"000B":["LO","TreatmentSites"],"000C":["CS","RTPlanGeometry"],"000E":["ST","PrescriptionDescription"],"0010":["SQ","DoseReferenceSequence"],"0012":["IS","DoseReferenceNumber"],"0013":["UI","DoseReferenceUID"],"0014":["CS","DoseReferenceStructureType"],"0015":["CS","NominalBeamEnergyUnit"],"0016":["LO","DoseReferenceDescription"],"0018":["DS","DoseReferencePointCoordinates"],"001A":["DS","NominalPriorDose"],"0020":["CS","DoseReferenceType"],"0021":["DS","ConstraintWeight"],"0022":["DS","DeliveryWarningDose"],"0023":["DS","DeliveryMaximumDose"],"0025":["DS","TargetMinimumDose"],"0026":["DS","TargetPrescriptionDose"],"0027":["DS","TargetMaximumDose"],"0028":["DS","TargetUnderdoseVolumeFraction"],"002A":["DS","OrganAtRiskFullVolumeDose"],"002B":["DS","OrganAtRiskLimitDose"],"002C":["DS","OrganAtRiskMaximumDose"],"002D":["DS","OrganAtRiskOverdoseVolumeFraction"],"0040":["SQ","ToleranceTableSequence"],"0042":["IS","ToleranceTableNumber"],"0043":["SH","ToleranceTableLabel"],"0044":["DS","GantryAngleTolerance"],"0046":["DS","BeamLimitingDeviceAngleTolerance"],"0048":["SQ","BeamLimitingDeviceToleranceSequence"],"004A":["DS","BeamLimitingDevicePositionTolerance"],"004B":["FL","SnoutPositionTolerance"],"004C":["DS","PatientSupportAngleTolerance"],"004E":["DS","TableTopEccentricAngleTolerance"],"004F":["FL","TableTopPitchAngleTolerance"],"0050":["FL","TableTopRollAngleTolerance"],"0051":["DS","TableTopVerticalPositionTolerance"],"0052":["DS","TableTopLongitudinalPositionTolerance"],"0053":["DS","TableTopLateralPositionTolerance"],"0055":["CS","RTPlanRelationship"],"0070":["SQ","FractionGroupSequence"],"0071":["IS","FractionGroupNumber"],"0072":["LO","FractionGroupDescription"],"0078":["IS","NumberOfFractionsPlanned"],"0079":["IS","NumberOfFractionPatternDigitsPerDay"],"007A":["IS","RepeatFractionCycleLength"],"007B":["LT","FractionPattern"],"0080":["IS","NumberOfBeams"],"0082":["DS","BeamDoseSpecificationPoint"],"0084":["DS","BeamDose"],"0086":["DS","BeamMeterset"],"0088":["FL","BeamDosePointDepth"],"0089":["FL","BeamDosePointEquivalentDepth"],"008A":["FL","BeamDosePointSSD"],"00A0":["IS","NumberOfBrachyApplicationSetups"],"00A2":["DS","BrachyApplicationSetupDoseSpecificationPoint"],"00A4":["DS","BrachyApplicationSetupDose"],"00B0":["SQ","BeamSequence"],"00B2":["SH","TreatmentMachineName"],"00B3":["CS","PrimaryDosimeterUnit"],"00B4":["DS","SourceAxisDistance"],"00B6":["SQ","BeamLimitingDeviceSequence"],"00B8":["CS","RTBeamLimitingDeviceType"],"00BA":["DS","SourceToBeamLimitingDeviceDistance"],"00BB":["FL","IsocenterToBeamLimitingDeviceDistance"],"00BC":["IS","NumberOfLeafJawPairs"],"00BE":["DS","LeafPositionBoundaries"],"00C0":["IS","BeamNumber"],"00C2":["LO","BeamName"],"00C3":["ST","BeamDescription"],"00C4":["CS","BeamType"],"00C6":["CS","RadiationType"],"00C7":["CS","HighDoseTechniqueType"],"00C8":["IS","ReferenceImageNumber"],"00CA":["SQ","PlannedVerificationImageSequence"],"00CC":["LO","ImagingDeviceSpecificAcquisitionParameters"],"00CE":["CS","TreatmentDeliveryType"],"00D0":["IS","NumberOfWedges"],"00D1":["SQ","WedgeSequence"],"00D2":["IS","WedgeNumber"],"00D3":["CS","WedgeType"],"00D4":["SH","WedgeID"],"00D5":["IS","WedgeAngle"],"00D6":["DS","WedgeFactor"],"00D7":["FL","TotalWedgeTrayWaterEquivalentThickness"],"00D8":["DS","WedgeOrientation"],"00D9":["FL","IsocenterToWedgeTrayDistance"],"00DA":["DS","SourceToWedgeTrayDistance"],"00DB":["FL","WedgeThinEdgePosition"],"00DC":["SH","BolusID"],"00DD":["ST","BolusDescription"],"00E0":["IS","NumberOfCompensators"],"00E1":["SH","MaterialID"],"00E2":["DS","TotalCompensatorTrayFactor"],"00E3":["SQ","CompensatorSequence"],"00E4":["IS","CompensatorNumber"],"00E5":["SH","CompensatorID"],"00E6":["DS","SourceToCompensatorTrayDistance"],"00E7":["IS","CompensatorRows"],"00E8":["IS","CompensatorColumns"],"00E9":["DS","CompensatorPixelSpacing"],"00EA":["DS","CompensatorPosition"],"00EB":["DS","CompensatorTransmissionData"],"00EC":["DS","CompensatorThicknessData"],"00ED":["IS","NumberOfBoli"],"00EE":["CS","CompensatorType"],"00F0":["IS","NumberOfBlocks"],"00F2":["DS","TotalBlockTrayFactor"],"00F3":["FL","TotalBlockTrayWaterEquivalentThickness"],"00F4":["SQ","BlockSequence"],"00F5":["SH","BlockTrayID"],"00F6":["DS","SourceToBlockTrayDistance"],"00F7":["FL","IsocenterToBlockTrayDistance"],"00F8":["CS","BlockType"],"00F9":["LO","AccessoryCode"],"00FA":["CS","BlockDivergence"],"00FB":["CS","BlockMountingPosition"],"00FC":["IS","BlockNumber"],"00FE":["LO","BlockName"],"0100":["DS","BlockThickness"],"0102":["DS","BlockTransmission"],"0104":["IS","BlockNumberOfPoints"],"0106":["DS","BlockData"],"0107":["SQ","ApplicatorSequence"],"0108":["SH","ApplicatorID"],"0109":["CS","ApplicatorType"],"010A":["LO","ApplicatorDescription"],"010C":["DS","CumulativeDoseReferenceCoefficient"],"010E":["DS","FinalCumulativeMetersetWeight"],"0110":["IS","NumberOfControlPoints"],"0111":["SQ","ControlPointSequence"],"0112":["IS","ControlPointIndex"],"0114":["DS","NominalBeamEnergy"],"0115":["DS","DoseRateSet"],"0116":["SQ","WedgePositionSequence"],"0118":["CS","WedgePosition"],"011A":["SQ","BeamLimitingDevicePositionSequence"],"011C":["DS","LeafJawPositions"],"011E":["DS","GantryAngle"],"011F":["CS","GantryRotationDirection"],"0120":["DS","BeamLimitingDeviceAngle"],"0121":["CS","BeamLimitingDeviceRotationDirection"],"0122":["DS","PatientSupportAngle"],"0123":["CS","PatientSupportRotationDirection"],"0124":["DS","TableTopEccentricAxisDistance"],"0125":["DS","TableTopEccentricAngle"],"0126":["CS","TableTopEccentricRotationDirection"],"0128":["DS","TableTopVerticalPosition"],"0129":["DS","TableTopLongitudinalPosition"],"012A":["DS","TableTopLateralPosition"],"012C":["DS","IsocenterPosition"],"012E":["DS","SurfaceEntryPoint"],"0130":["DS","SourceToSurfaceDistance"],"0134":["DS","CumulativeMetersetWeight"],"0140":["FL","TableTopPitchAngle"],"0142":["CS","TableTopPitchRotationDirection"],"0144":["FL","TableTopRollAngle"],"0146":["CS","TableTopRollRotationDirection"],"0148":["FL","HeadFixationAngle"],"014A":["FL","GantryPitchAngle"],"014C":["CS","GantryPitchRotationDirection"],"014E":["FL","GantryPitchAngleTolerance"],"0180":["SQ","PatientSetupSequence"],"0182":["IS","PatientSetupNumber"],"0183":["LO","PatientSetupLabel"],"0184":["LO","PatientAdditionalPosition"],"0190":["SQ","FixationDeviceSequence"],"0192":["CS","FixationDeviceType"],"0194":["SH","FixationDeviceLabel"],"0196":["ST","FixationDeviceDescription"],"0198":["SH","FixationDevicePosition"],"0199":["FL","FixationDevicePitchAngle"],"019A":["FL","FixationDeviceRollAngle"],"01A0":["SQ","ShieldingDeviceSequence"],"01A2":["CS","ShieldingDeviceType"],"01A4":["SH","ShieldingDeviceLabel"],"01A6":["ST","ShieldingDeviceDescription"],"01A8":["SH","ShieldingDevicePosition"],"01B0":["CS","SetupTechnique"],"01B2":["ST","SetupTechniqueDescription"],"01B4":["SQ","SetupDeviceSequence"],"01B6":["CS","SetupDeviceType"],"01B8":["SH","SetupDeviceLabel"],"01BA":["ST","SetupDeviceDescription"],"01BC":["DS","SetupDeviceParameter"],"01D0":["ST","SetupReferenceDescription"],"01D2":["DS","TableTopVerticalSetupDisplacement"],"01D4":["DS","TableTopLongitudinalSetupDisplacement"],"01D6":["DS","TableTopLateralSetupDisplacement"],"0200":["CS","BrachyTreatmentTechnique"],"0202":["CS","BrachyTreatmentType"],"0206":["SQ","TreatmentMachineSequence"],"0210":["SQ","SourceSequence"],"0212":["IS","SourceNumber"],"0214":["CS","SourceType"],"0216":["LO","SourceManufacturer"],"0218":["DS","ActiveSourceDiameter"],"021A":["DS","ActiveSourceLength"],"0222":["DS","SourceEncapsulationNominalThickness"],"0224":["DS","SourceEncapsulationNominalTransmission"],"0226":["LO","SourceIsotopeName"],"0228":["DS","SourceIsotopeHalfLife"],"0229":["CS","SourceStrengthUnits"],"022A":["DS","ReferenceAirKermaRate"],"022B":["DS","SourceStrength"],"022C":["DA","SourceStrengthReferenceDate"],"022E":["TM","SourceStrengthReferenceTime"],"0230":["SQ","ApplicationSetupSequence"],"0232":["CS","ApplicationSetupType"],"0234":["IS","ApplicationSetupNumber"],"0236":["LO","ApplicationSetupName"],"0238":["LO","ApplicationSetupManufacturer"],"0240":["IS","TemplateNumber"],"0242":["SH","TemplateType"],"0244":["LO","TemplateName"],"0250":["DS","TotalReferenceAirKerma"],"0260":["SQ","BrachyAccessoryDeviceSequence"],"0262":["IS","BrachyAccessoryDeviceNumber"],"0263":["SH","BrachyAccessoryDeviceID"],"0264":["CS","BrachyAccessoryDeviceType"],"0266":["LO","BrachyAccessoryDeviceName"],"026A":["DS","BrachyAccessoryDeviceNominalThickness"],"026C":["DS","BrachyAccessoryDeviceNominalTransmission"],"0280":["SQ","ChannelSequence"],"0282":["IS","ChannelNumber"],"0284":["DS","ChannelLength"],"0286":["DS","ChannelTotalTime"],"0288":["CS","SourceMovementType"],"028A":["IS","NumberOfPulses"],"028C":["DS","PulseRepetitionInterval"],"0290":["IS","SourceApplicatorNumber"],"0291":["SH","SourceApplicatorID"],"0292":["CS","SourceApplicatorType"],"0294":["LO","SourceApplicatorName"],"0296":["DS","SourceApplicatorLength"],"0298":["LO","SourceApplicatorManufacturer"],"029C":["DS","SourceApplicatorWallNominalThickness"],"029E":["DS","SourceApplicatorWallNominalTransmission"],"02A0":["DS","SourceApplicatorStepSize"],"02A2":["IS","TransferTubeNumber"],"02A4":["DS","TransferTubeLength"],"02B0":["SQ","ChannelShieldSequence"],"02B2":["IS","ChannelShieldNumber"],"02B3":["SH","ChannelShieldID"],"02B4":["LO","ChannelShieldName"],"02B8":["DS","ChannelShieldNominalThickness"],"02BA":["DS","ChannelShieldNominalTransmission"],"02C8":["DS","FinalCumulativeTimeWeight"],"02D0":["SQ","BrachyControlPointSequence"],"02D2":["DS","ControlPointRelativePosition"],"02D4":["DS","ControlPoint3DPosition"],"02D6":["DS","CumulativeTimeWeight"],"02E0":["CS","CompensatorDivergence"],"02E1":["CS","CompensatorMountingPosition"],"02E2":["DS","SourceToCompensatorDistance"],"02E3":["FL","TotalCompensatorTrayWaterEquivalentThickness"],"02E4":["FL","IsocenterToCompensatorTrayDistance"],"02E5":["FL","CompensatorColumnOffset"],"02E6":["FL","IsocenterToCompensatorDistances"],"02E7":["FL","CompensatorRelativeStoppingPowerRatio"],"02E8":["FL","CompensatorMillingToolDiameter"],"02EA":["SQ","IonRangeCompensatorSequence"],"02EB":["LT","CompensatorDescription"],"0302":["IS","RadiationMassNumber"],"0304":["IS","RadiationAtomicNumber"],"0306":["SS","RadiationChargeState"],"0308":["CS","ScanMode"],"030A":["FL","VirtualSourceAxisDistances"],"030C":["SQ","SnoutSequence"],"030D":["FL","SnoutPosition"],"030F":["SH","SnoutID"],"0312":["IS","NumberOfRangeShifters"],"0314":["SQ","RangeShifterSequence"],"0316":["IS","RangeShifterNumber"],"0318":["SH","RangeShifterID"],"0320":["CS","RangeShifterType"],"0322":["LO","RangeShifterDescription"],"0330":["IS","NumberOfLateralSpreadingDevices"],"0332":["SQ","LateralSpreadingDeviceSequence"],"0334":["IS","LateralSpreadingDeviceNumber"],"0336":["SH","LateralSpreadingDeviceID"],"0338":["CS","LateralSpreadingDeviceType"],"033A":["LO","LateralSpreadingDeviceDescription"],"033C":["FL","LateralSpreadingDeviceWaterEquivalentThickness"],"0340":["IS","NumberOfRangeModulators"],"0342":["SQ","RangeModulatorSequence"],"0344":["IS","RangeModulatorNumber"],"0346":["SH","RangeModulatorID"],"0348":["CS","RangeModulatorType"],"034A":["LO","RangeModulatorDescription"],"034C":["SH","BeamCurrentModulationID"],"0350":["CS","PatientSupportType"],"0352":["SH","PatientSupportID"],"0354":["LO","PatientSupportAccessoryCode"],"0356":["FL","FixationLightAzimuthalAngle"],"0358":["FL","FixationLightPolarAngle"],"035A":["FL","MetersetRate"],"0360":["SQ","RangeShifterSettingsSequence"],"0362":["LO","RangeShifterSetting"],"0364":["FL","IsocenterToRangeShifterDistance"],"0366":["FL","RangeShifterWaterEquivalentThickness"],"0370":["SQ","LateralSpreadingDeviceSettingsSequence"],"0372":["LO","LateralSpreadingDeviceSetting"],"0374":["FL","IsocenterToLateralSpreadingDeviceDistance"],"0380":["SQ","RangeModulatorSettingsSequence"],"0382":["FL","RangeModulatorGatingStartValue"],"0384":["FL","RangeModulatorGatingStopValue"],"0386":["FL","RangeModulatorGatingStartWaterEquivalentThickness"],"0388":["FL","RangeModulatorGatingStopWaterEquivalentThickness"],"038A":["FL","IsocenterToRangeModulatorDistance"],"0390":["SH","ScanSpotTuneID"],"0392":["IS","NumberOfScanSpotPositions"],"0394":["FL","ScanSpotPositionMap"],"0396":["FL","ScanSpotMetersetWeights"],"0398":["FL","ScanningSpotSize"],"039A":["IS","NumberOfPaintings"],"03A0":["SQ","IonToleranceTableSequence"],"03A2":["SQ","IonBeamSequence"],"03A4":["SQ","IonBeamLimitingDeviceSequence"],"03A6":["SQ","IonBlockSequence"],"03A8":["SQ","IonControlPointSequence"],"03AA":["SQ","IonWedgeSequence"],"03AC":["SQ","IonWedgePositionSequence"],"0401":["SQ","ReferencedSetupImageSequence"],"0402":["ST","SetupImageComment"],"0410":["SQ","MotionSynchronizationSequence"],"0412":["FL","ControlPointOrientation"],"0420":["SQ","GeneralAccessorySequence"],"0421":["SH","GeneralAccessoryID"],"0422":["ST","GeneralAccessoryDescription"],"0423":["CS","GeneralAccessoryType"],"0424":["IS","GeneralAccessoryNumber"],"0431":["SQ","ApplicatorGeometrySequence"],"0432":["CS","ApplicatorApertureShape"],"0433":["FL","ApplicatorOpening"],"0434":["FL","ApplicatorOpeningX"],"0435":["FL","ApplicatorOpeningY"],"0436":["FL","SourceToApplicatorMountingPositionDistance"]},"300C":{"0002":["SQ","ReferencedRTPlanSequence"],"0004":["SQ","ReferencedBeamSequence"],"0006":["IS","ReferencedBeamNumber"],"0007":["IS","ReferencedReferenceImageNumber"],"0008":["DS","StartCumulativeMetersetWeight"],"0009":["DS","EndCumulativeMetersetWeight"],"000A":["SQ","ReferencedBrachyApplicationSetupSequence"],"000C":["IS","ReferencedBrachyApplicationSetupNumber"],"000E":["IS","ReferencedSourceNumber"],"0020":["SQ","ReferencedFractionGroupSequence"],"0022":["IS","ReferencedFractionGroupNumber"],"0040":["SQ","ReferencedVerificationImageSequence"],"0042":["SQ","ReferencedReferenceImageSequence"],"0050":["SQ","ReferencedDoseReferenceSequence"],"0051":["IS","ReferencedDoseReferenceNumber"],"0055":["SQ","BrachyReferencedDoseReferenceSequence"],"0060":["SQ","ReferencedStructureSetSequence"],"006A":["IS","ReferencedPatientSetupNumber"],"0080":["SQ","ReferencedDoseSequence"],"00A0":["IS","ReferencedToleranceTableNumber"],"00B0":["SQ","ReferencedBolusSequence"],"00C0":["IS","ReferencedWedgeNumber"],"00D0":["IS","ReferencedCompensatorNumber"],"00E0":["IS","ReferencedBlockNumber"],"00F0":["IS","ReferencedControlPointIndex"],"00F2":["SQ","ReferencedControlPointSequence"],"00F4":["IS","ReferencedStartControlPointIndex"],"00F6":["IS","ReferencedStopControlPointIndex"],"0100":["IS","ReferencedRangeShifterNumber"],"0102":["IS","ReferencedLateralSpreadingDeviceNumber"],"0104":["IS","ReferencedRangeModulatorNumber"]},"300E":{"0002":["CS","ApprovalStatus"],"0004":["DA","ReviewDate"],"0005":["TM","ReviewTime"],"0008":["PN","ReviewerName"]},4e3:{"0010":["LT","Arbitrary"],4e3:["LT","TextComments"]},4008:{"0040":["SH","ResultsID"],"0042":["LO","ResultsIDIssuer"],"0050":["SQ","ReferencedInterpretationSequence"],"00FF":["CS","ReportProductionStatusTrial"],"0100":["DA","InterpretationRecordedDate"],"0101":["TM","InterpretationRecordedTime"],"0102":["PN","InterpretationRecorder"],"0103":["LO","ReferenceToRecordedSound"],"0108":["DA","InterpretationTranscriptionDate"],"0109":["TM","InterpretationTranscriptionTime"],"010A":["PN","InterpretationTranscriber"],"010B":["ST","InterpretationText"],"010C":["PN","InterpretationAuthor"],"0111":["SQ","InterpretationApproverSequence"],"0112":["DA","InterpretationApprovalDate"],"0113":["TM","InterpretationApprovalTime"],"0114":["PN","PhysicianApprovingInterpretation"],"0115":["LT","InterpretationDiagnosisDescription"],"0117":["SQ","InterpretationDiagnosisCodeSequence"],"0118":["SQ","ResultsDistributionListSequence"],"0119":["PN","DistributionName"],"011A":["LO","DistributionAddress"],"0200":["SH","InterpretationID"],"0202":["LO","InterpretationIDIssuer"],"0210":["CS","InterpretationTypeID"],"0212":["CS","InterpretationStatusID"],"0300":["ST","Impressions"],4e3:["ST","ResultsComments"]},4010:{"0001":["CS","LowEnergyDetectors"],"0002":["CS","HighEnergyDetectors"],"0004":["SQ","DetectorGeometrySequence"],1001:["SQ","ThreatROIVoxelSequence"],1004:["FL","ThreatROIBase"],1005:["FL","ThreatROIExtents"],1006:["OB","ThreatROIBitmap"],1007:["SH","RouteSegmentID"],1008:["CS","GantryType"],1009:["CS","OOIOwnerType"],"100A":["SQ","RouteSegmentSequence"],1010:["US","PotentialThreatObjectID"],1011:["SQ","ThreatSequence"],1012:["CS","ThreatCategory"],1013:["LT","ThreatCategoryDescription"],1014:["CS","ATDAbilityAssessment"],1015:["CS","ATDAssessmentFlag"],1016:["FL","ATDAssessmentProbability"],1017:["FL","Mass"],1018:["FL","Density"],1019:["FL","ZEffective"],"101A":["SH","BoardingPassID"],"101B":["FL","CenterOfMass"],"101C":["FL","CenterOfPTO"],"101D":["FL","BoundingPolygon"],"101E":["SH","RouteSegmentStartLocationID"],"101F":["SH","RouteSegmentEndLocationID"],1020:["CS","RouteSegmentLocationIDType"],1021:["CS","AbortReason"],1023:["FL","VolumeOfPTO"],1024:["CS","AbortFlag"],1025:["DT","RouteSegmentStartTime"],1026:["DT","RouteSegmentEndTime"],1027:["CS","TDRType"],1028:["CS","InternationalRouteSegment"],1029:["LO","ThreatDetectionAlgorithmandVersion"],"102A":["SH","AssignedLocation"],"102B":["DT","AlarmDecisionTime"],1031:["CS","AlarmDecision"],1033:["US","NumberOfTotalObjects"],1034:["US","NumberOfAlarmObjects"],1037:["SQ","PTORepresentationSequence"],1038:["SQ","ATDAssessmentSequence"],1039:["CS","TIPType"],"103A":["CS","DICOSVersion"],1041:["DT","OOIOwnerCreationTime"],1042:["CS","OOIType"],1043:["FL","OOISize"],1044:["CS","AcquisitionStatus"],1045:["SQ","BasisMaterialsCodeSequence"],1046:["CS","PhantomType"],1047:["SQ","OOIOwnerSequence"],1048:["CS","ScanType"],1051:["LO","ItineraryID"],1052:["SH","ItineraryIDType"],1053:["LO","ItineraryIDAssigningAuthority"],1054:["SH","RouteID"],1055:["SH","RouteIDAssigningAuthority"],1056:["CS","InboundArrivalType"],1058:["SH","CarrierID"],1059:["CS","CarrierIDAssigningAuthority"],1060:["FL","SourceOrientation"],1061:["FL","SourcePosition"],1062:["FL","BeltHeight"],1064:["SQ","AlgorithmRoutingCodeSequence"],1067:["CS","TransportClassification"],1068:["LT","OOITypeDescriptor"],1069:["FL","TotalProcessingTime"],"106C":["OB","DetectorCalibrationData"]}},r.Dictionary.getVR=function(e,t){var n,i,a;return(a=r.Dictionary.dict[r.Utils.dec2hex(e)])&&((i=a[r.Utils.dec2hex(t)])?n=i[0]:0===t&&(n="UL")),n||(a=r.Dictionary.dictPrivate[r.Utils.dec2hex(e)])&&(i=a[r.Utils.dec2hex(t)])&&(n=i[0]),n||(n="OB"),n},r.Dictionary.getDescription=function(e,t){var n,i,a;return(a=r.Dictionary.dict[r.Utils.dec2hex(e)])&&((i=a[r.Utils.dec2hex(t)])?n=i[1]:0===t&&(n="Group "+r.Utils.dec2hex(e)+" Length")),n||(a=r.Dictionary.dictPrivate[r.Utils.dec2hex(e)])&&(i=a[r.Utils.dec2hex(t)])&&(n=i[1]),n||(n="PrivateData"),n},"undefined"!==typeof e&&e.exports&&(e.exports=r.Dictionary)},function(e,t,n){"use strict";var r=r||{};r.Tag=r.Tag||n(84),r.CompressionUtils=r.CompressionUtils||n(105),r.Utils=r.Utils||n(39),r.RLE=r.RLE||n(107);var i=n(108),a=a||n(115).JpegImage,o=o||n(116),s=s||n(117);r.Image=r.Image||function(){this.tags={},this.tagsFlat={},this.littleEndian=!1,this.index=-1,this.decompressed=!1,this.privateDataAll=null,this.convertedPalette=!1},r.Image.SLICE_DIRECTION_UNKNOWN=-1,r.Image.SLICE_DIRECTION_AXIAL=2,r.Image.SLICE_DIRECTION_CORONAL=1,r.Image.SLICE_DIRECTION_SAGITTAL=0,r.Image.SLICE_DIRECTION_OBLIQUE=3,r.Image.OBLIQUITY_THRESHOLD_COSINE_VALUE=.8,r.Image.BYTE_TYPE_UNKNOWN=0,r.Image.BYTE_TYPE_BINARY=1,r.Image.BYTE_TYPE_INTEGER=2,r.Image.BYTE_TYPE_INTEGER_UNSIGNED=3,r.Image.BYTE_TYPE_FLOAT=4,r.Image.BYTE_TYPE_COMPLEX=5,r.Image.BYTE_TYPE_RGB=6,r.Image.skipPaletteConversion=!1,r.Image.getSingleValueSafely=function(e,t){return e&&e.value?e.value[t]:null},r.Image.getValueSafely=function(e){return e?e.value:null},r.Image.getMajorAxisFromPatientRelativeDirectionCosine=function(e,t,n){var i,a,o,s,u,l;return i=e<0?"R":"L",a=t<0?"A":"P",o=n<0?"F":"H",s=Math.abs(e),u=Math.abs(t),l=Math.abs(n),s>r.Image.OBLIQUITY_THRESHOLD_COSINE_VALUE&&s>u&&s>l?i:u>r.Image.OBLIQUITY_THRESHOLD_COSINE_VALUE&&u>s&&u>l?a:l>r.Image.OBLIQUITY_THRESHOLD_COSINE_VALUE&&l>s&&l>u?o:null},r.Image.prototype.getCols=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_COLS[0],r.Tag.TAG_COLS[1]),0)},r.Image.prototype.getRows=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_ROWS[0],r.Tag.TAG_ROWS[1]),0)},r.Image.prototype.getSeriesDescription=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_SERIES_DESCRIPTION[0],r.Tag.TAG_SERIES_DESCRIPTION[1]),0)},r.Image.prototype.getSeriesInstanceUID=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_SERIES_INSTANCE_UID[0],r.Tag.TAG_SERIES_INSTANCE_UID[1]),0)},r.Image.prototype.getSeriesNumber=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_SERIES_NUMBER[0],r.Tag.TAG_SERIES_NUMBER[1]),0)},r.Image.prototype.getEchoNumber=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_ECHO_NUMBER[0],r.Tag.TAG_ECHO_NUMBER[1]),0)},r.Image.prototype.getImagePosition=function(){return r.Image.getValueSafely(this.getTag(r.Tag.TAG_IMAGE_POSITION[0],r.Tag.TAG_IMAGE_POSITION[1]))},r.Image.prototype.getImageDirections=function(){return r.Image.getValueSafely(this.getTag(r.Tag.TAG_IMAGE_ORIENTATION[0],r.Tag.TAG_IMAGE_ORIENTATION[1]))},r.Image.prototype.getImagePositionSliceDir=function(e){var t=r.Image.getValueSafely(this.getTag(r.Tag.TAG_IMAGE_POSITION[0],r.Tag.TAG_IMAGE_POSITION[1]));return t&&e>=0?t[e]:0},r.Image.prototype.getModality=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_MODALITY[0],r.Tag.TAG_MODALITY[1]),0)},r.Image.prototype.getSliceLocation=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_SLICE_LOCATION[0],r.Tag.TAG_SLICE_LOCATION[1]),0)},r.Image.prototype.getSliceLocationVector=function(){return r.Image.getValueSafely(this.getTag(r.Tag.TAG_SLICE_LOCATION_VECTOR[0],r.Tag.TAG_SLICE_LOCATION_VECTOR[1]))},r.Image.prototype.getImageNumber=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_IMAGE_NUM[0],r.Tag.TAG_IMAGE_NUM[1]),0)},r.Image.prototype.getTemporalPosition=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_TEMPORAL_POSITION[0],r.Tag.TAG_TEMPORAL_POSITION[1]),0)},r.Image.prototype.getTemporalNumber=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_NUMBER_TEMPORAL_POSITIONS[0],r.Tag.TAG_NUMBER_TEMPORAL_POSITIONS[1]),0)},r.Image.prototype.getSliceGap=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_SLICE_GAP[0],r.Tag.TAG_SLICE_GAP[1]),0)},r.Image.prototype.getSliceThickness=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_SLICE_THICKNESS[0],r.Tag.TAG_SLICE_THICKNESS[1]),0)},r.Image.prototype.getImageMax=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_IMAGE_MAX[0],r.Tag.TAG_IMAGE_MAX[1]),0)},r.Image.prototype.getImageMin=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_IMAGE_MIN[0],r.Tag.TAG_IMAGE_MIN[1]),0)},r.Image.prototype.getDataScaleSlope=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_DATA_SCALE_SLOPE[0],r.Tag.TAG_DATA_SCALE_SLOPE[1]),0)},r.Image.prototype.getDataScaleIntercept=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_DATA_SCALE_INTERCEPT[0],r.Tag.TAG_DATA_SCALE_INTERCEPT[1]),0)},r.Image.prototype.getDataScaleElscint=function(){var e=r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_DATA_SCALE_ELSCINT[0],r.Tag.TAG_DATA_SCALE_ELSCINT[1]),0);e||(e=1);var t=this.getPixelBandwidth();return(e=Math.sqrt(t)/(10*e))<=0&&(e=1),e},r.Image.prototype.getWindowWidth=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_WINDOW_WIDTH[0],r.Tag.TAG_WINDOW_WIDTH[1]),0)},r.Image.prototype.getWindowCenter=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_WINDOW_CENTER[0],r.Tag.TAG_WINDOW_CENTER[1]),0)},r.Image.prototype.getPixelBandwidth=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_PIXEL_BANDWIDTH[0],r.Tag.TAG_PIXEL_BANDWIDTH[1]),0)},r.Image.prototype.getSeriesId=function(){var e=this.getSeriesDescription(),t=this.getSeriesInstanceUID(),n=this.getSeriesNumber(),r=this.getEchoNumber(),i=this.getOrientation(),a="";return null!==e&&(a+=" "+e),null!==t&&(a+=" "+t),null!==n&&(a+=" "+n),null!==r&&(a+=" "+r),null!==i&&(a+=" "+i),a+=" ("+this.getCols()+" x "+this.getRows()+")"},r.Image.prototype.getPixelSpacing=function(){return r.Image.getValueSafely(this.getTag(r.Tag.TAG_PIXEL_SPACING[0],r.Tag.TAG_PIXEL_SPACING[1]))},r.Image.prototype.getImageType=function(){return r.Image.getValueSafely(this.getTag(r.Tag.TAG_IMAGE_TYPE[0],r.Tag.TAG_IMAGE_TYPE[1]))},r.Image.prototype.getBitsStored=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_BITS_STORED[0],r.Tag.TAG_BITS_STORED[1]),0)},r.Image.prototype.getBitsAllocated=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_BITS_ALLOCATED[0],r.Tag.TAG_BITS_ALLOCATED[1]),0)},r.Image.prototype.getFrameTime=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_FRAME_TIME[0],r.Tag.TAG_FRAME_TIME[1]),0)},r.Image.prototype.getAcquisitionMatrix=function(){var e,t,n,i;return(e=[0,0])[0]=r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_ACQUISITION_MATRIX[0],r.Tag.TAG_ACQUISITION_MATRIX[1]),0),null===this.privateDataAll&&(this.privateDataAll=this.getAllInterpretedPrivateData()),null!==this.privateDataAll&&this.privateDataAll.length>0&&-1!==(n=this.privateDataAll.indexOf("AcquisitionMatrixText"))&&-1!==(i=this.privateDataAll.indexOf("\n",n))&&(null!==(t=this.privateDataAll.substring(n,i).match(/\d+/g))&&2===t.length?(e[0]=t[0],e[1]=t[1]):null!==t&&1===t.length&&(e[0]=t[0])),0===e[1]&&(e[1]=e[0]),e},r.Image.prototype.getTR=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_TR,r.Tag.TAG_TR[1]),0)},r.Image.prototype.putTag=function(e){this.tags[e.id]=e,this.putFlattenedTag(this.tagsFlat,e)},r.Image.prototype.putFlattenedTag=function(e,t){var n;if(t.sublist)for(n=0;n<t.value.length;n+=1)this.putFlattenedTag(e,t.value[n]);else e[t.id]||(e[t.id]=t)},r.Image.prototype.getTag=function(e,t){var n=r.Tag.createId(e,t);return this.tags[n]?this.tags[n]:this.tagsFlat[n]},r.Image.prototype.getPixelData=function(){return this.tags[r.Tag.createId(r.Tag.TAG_PIXEL_DATA[0],r.Tag.TAG_PIXEL_DATA[1])]},r.Image.prototype.getPixelDataBytes=function(){return this.isCompressed()&&this.decompress(),this.isPalette()&&!r.Image.skipPaletteConversion&&this.convertPalette(),this.tags[r.Tag.createId(r.Tag.TAG_PIXEL_DATA[0],r.Tag.TAG_PIXEL_DATA[1])].value.buffer},r.Image.prototype.getRawData=function(){return this.getPixelDataBytes()},r.Image.prototype.getInterpretedData=function(e,t,n){var i,a,o,s,u,l,c,f,h,d,p,m,g,v,y,b,w,S,x,_,T,E;w=arguments.length<3,c=r.Utils.createBitMask(this.getBitsAllocated()/8,this.getBitsStored(),this.getDataType()===r.Image.BYTE_TYPE_INTEGER_UNSIGNED),i=this.getPixelRepresentation()?r.Image.BYTE_TYPE_INTEGER:r.Image.BYTE_TYPE_INTEGER_UNSIGNED,a=this.getBitsAllocated()/8,b=this.getRawData(),s=new DataView(b),S=(x=b.byteLength/a)/this.getNumberOfFrames(),o=w?x:S,_=w?0:n*S,f=this.getDataScaleSlope()||1,h=this.getDataScaleIntercept()||0,d=r.Utils.MAX_VALUE,p=r.Utils.MIN_VALUE,g=-1,v=-1,y=this.littleEndian,u=e?new Array(o):new Float32Array(o),i===r.Image.BYTE_TYPE_INTEGER?1===a?E=s.getInt8.bind(s):2===a&&(E=s.getInt16.bind(s)):i===r.Image.BYTE_TYPE_INTEGER_UNSIGNED&&(1===a?E=s.getUint8.bind(s):2===a&&(E=s.getUint16.bind(s)));var k="INVERSE"===r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_LUT_SHAPE[0],r.Tag.TAG_LUT_SHAPE[1]),0);if(k=!k&&"MONOCHROME1"===this.getPhotometricInterpretation()){var C=Math.pow(2,this.getBitsStored())-1,A=0;i===r.Image.BYTE_TYPE_INTEGER&&(A=-(C/=2));var O=E;E=function(e,t){var n=C-O(e,t);return Math.min(C,Math.max(A,n))}}for(l=_,T=0;T<o;l++,T++)m=(E(l*a,y)&c)*f+h,u[T]=m,m<d&&(d=m,g=T),m>p&&(p=m,v=T);return t?{data:u,min:d,minIndex:g,max:p,maxIndex:v,numCols:this.getCols(),numRows:this.getRows()}:u},r.Image.prototype.convertPalette=function(){var e,t,n,i,a,o,s,u,l,c,f,h;if(e=this.tags[r.Tag.createId(r.Tag.TAG_PIXEL_DATA[0],r.Tag.TAG_PIXEL_DATA[1])].value,t=this.getPalleteValues(r.Tag.TAG_PALETTE_RED),n=this.getPalleteValues(r.Tag.TAG_PALETTE_GREEN),i=this.getPalleteValues(r.Tag.TAG_PALETTE_BLUE),null!==t&&t.length>0&&null!==n&&n.length>0&&null!==i&&i.length>0&&!this.convertedPalette){if(a=new DataView(new ArrayBuffer(this.getRows()*this.getCols()*this.getNumberOfFrames()*3)),o=parseInt(Math.ceil(this.getBitsAllocated()/8)),s=e.byteLength/o,1===o)for(u=0;u<s;u+=1)c=t[l=e.getUint8(u)],f=n[l],h=i[l],a.setUint8(3*u,c),a.setUint8(3*u+1,f),a.setUint8(3*u+2,h);else if(2===o)for(u=0;u<s;u+=1)c=t[l=e.getUint16(2*u)],f=n[l],h=i[l],a.setUint8(3*u,c),a.setUint8(3*u+1,f),a.setUint8(3*u+2,h);e=a,this.convertedPalette=!0}this.tags[r.Tag.createId(r.Tag.TAG_PIXEL_DATA[0],r.Tag.TAG_PIXEL_DATA[1])].value=e},r.Image.prototype.decompressJPEG=function(e){if(this.isCompressedJPEGLossless())return(t=new i.lossless.Decoder).decode(e);if(this.isCompressedJPEGBaseline()){var t;(t=new a).parse(new Uint8Array(e));var n,u=t.width,l=t.height;return 8===this.getBitsAllocated()?n=t.getData(u,l):16===this.getBitsAllocated()&&(n=t.getData16(u,l)),n}return this.isCompressedJPEG2000()?((t=new o).parse(new Uint8Array(e)),t.tiles[0].items):this.isCompressedJPEGLS()?(t=new s).decodeJPEGLS(new Uint8Array(e),this.getDataType()===r.Image.BYTE_TYPE_INTEGER):void 0},r.Image.prototype.decompress=function(){var e,t,n,u,l,c,f,h,d,p,m;if(u=null,!this.decompressed)if(this.decompressed=!0,c=this.getRows()*this.getCols()*parseInt(Math.ceil(this.getBitsAllocated()/8)),l=this.getNumberOfFrames(),this.isCompressedJPEGLossless()){for(e=this.getJpegs(),h=0;h<e.length;h+=1)f=(n=new i.lossless.Decoder).decode(e[h]),m=n.numComp,null===u&&(u=new DataView(new ArrayBuffer(c*l*m))),new Uint8Array(u.buffer).set(new Uint8Array(f.buffer),h*c*m),f=null;this.tags[r.Tag.createId(r.Tag.TAG_PIXEL_DATA[0],r.Tag.TAG_PIXEL_DATA[1])].value=u}else if(this.isCompressedJPEGBaseline()){for(e=this.getJpegs(),h=0;h<e.length;h+=1)(n=new a).parse(new Uint8Array(e[h])),d=n.width,p=n.height,m=n.components.length,null===u&&(u=new DataView(new ArrayBuffer(c*l*m))),8===this.getBitsAllocated()?g=n.getData(d,p):16===this.getBitsAllocated()&&(g=n.getData16(d,p)),r.Utils.fillBuffer(g,u,h*c*m,parseInt(Math.ceil(this.getBitsAllocated()/8))),g=null;this.tags[r.Tag.createId(r.Tag.TAG_PIXEL_DATA[0],r.Tag.TAG_PIXEL_DATA[1])].value=u}else if(this.isCompressedJPEG2000()){for(e=this.getJpegs(),h=0;h<e.length;h+=1)(n=new o).parse(new Uint8Array(e[h])),d=n.width,p=n.height,g=n.tiles[0].items,m=n.componentsCount,null===u&&(u=new DataView(new ArrayBuffer(c*l*m))),r.Utils.fillBuffer(g,u,h*c*m,parseInt(Math.ceil(this.getBitsAllocated()/8))),g=null;this.tags[r.Tag.createId(r.Tag.TAG_PIXEL_DATA[0],r.Tag.TAG_PIXEL_DATA[1])].value=u}else if(this.isCompressedJPEGLS()){for(e=this.getJpegs(),h=0;h<e.length;h+=1){var g;d=(g=(n=new s).decodeJPEGLS(new Uint8Array(e[h]),this.getDataType()===r.Image.BYTE_TYPE_INTEGER)).columns,p=g.rows,g=g.pixelData,m=this.getNumberOfSamplesPerPixel(),null===u&&(u=new DataView(new ArrayBuffer(c*l*m))),r.Utils.fillBuffer(g,u,h*c*m,parseInt(Math.ceil(this.getBitsAllocated()/8))),g=null}this.tags[r.Tag.createId(r.Tag.TAG_PIXEL_DATA[0],r.Tag.TAG_PIXEL_DATA[1])].value=u}else if(this.isCompressedRLE()){for(t=this.getRLE(),h=0;h<t.length;h+=1)f=(n=new r.RLE).decode(t[h],this.littleEndian,this.getRows()*this.getCols()),m=3===n.numSegments?3:1,null===u&&(u=new DataView(new ArrayBuffer(c*l*m))),new Uint8Array(u.buffer).set(new Uint8Array(f.buffer),h*c*m),f=null;this.tags[r.Tag.createId(r.Tag.TAG_PIXEL_DATA[0],r.Tag.TAG_PIXEL_DATA[1])].value=u}},r.Image.prototype.hasPixelData=function(){return void 0!==this.tags[r.Tag.createId(r.Tag.TAG_PIXEL_DATA[0],r.Tag.TAG_PIXEL_DATA[1])]},r.Image.prototype.clearPixelData=function(){this.tags[r.Tag.createId(r.Tag.TAG_PIXEL_DATA[0],r.Tag.TAG_PIXEL_DATA[1])].value=null},r.Image.prototype.getOrientation=function(){var e,t,n,i=null,a=r.Image.getValueSafely(this.getTag(r.Tag.TAG_IMAGE_ORIENTATION[0],r.Tag.TAG_IMAGE_ORIENTATION[1])),o=0,s=0,u=0,l="";if(!a||6!==a.length)return null;if(!(t=this.getPixelSpacing()))return null;for(n=t[0],!0,e=0;e<3;e+=1)Math.abs(a[e])>u&&(u=Math.abs(a[e]),o=e);for(u=0;e<6;e+=1)Math.abs(a[e])>u&&(u=Math.abs(a[e]),s=e);switch(o){case 0:l+="X",l+=4===s?"YZ":"ZY";break;case 1:l+="Y",l+=3===s?"XZ":"ZX";break;case 2:l+="Z",l+=3===s?"XY":"YX"}switch(o){case 0:a[o]>0?l+="-":l+="+",4===s?a[s]>0?l+="-":l+="+":a[s]>0?l+="+":l+="-";break;case 1:a[o]>0?l+="-":l+="+",3===s?a[s]>0?l+="-":l+="+":a[s]>0?l+="+":l+="-";break;case 2:a[o]>0?l+="+":l+="-",a[s]>0?l+="-":l+="+"}if(0===n)i=l+="+";else{switch(l.charAt(2)){case"X":l+=n>0?"-":"+";break;case"Y":case"Z":l+=n>0?"+":"-"}i=l}return i},r.Image.prototype.isMosaic=function(){var e,t,n,r,i=!1;if(null!==(e=this.getImageType()))for(n=0;n<e.length;n+=1)if(-1!==e[n].toUpperCase().indexOf("MOSAIC")){i=!0;break}return t=(r=this.getAcquisitionMatrix())[0]>0&&(r[0]<this.getRows()||r[1]<this.getCols()),i&&t},r.Image.prototype.isPalette=function(){var e=r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_PHOTOMETRIC_INTERPRETATION[0],r.Tag.TAG_PHOTOMETRIC_INTERPRETATION[1]),0);return null!==e&&-1!==e.toLowerCase().indexOf("palette")},r.Image.prototype.getMosaicCols=function(){return this.getCols()/this.getAcquisitionMatrix()[1]},r.Image.prototype.getMosaicRows=function(){return this.getRows()/this.getAcquisitionMatrix()[0]},r.Image.prototype.isElscint=function(){return void 0!==this.getTag(r.Tag.TAG_DATA_SCALE_ELSCINT[0],r.Tag.TAG_DATA_SCALE_ELSCINT[1])},r.Image.prototype.isCompressed=function(){r.Parser=r.Parser||n(28);var e=this.getTransferSyntax();if(e){if(-1!==e.indexOf(r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG))return!0;if(-1!==e.indexOf(r.Parser.TRANSFER_SYNTAX_COMPRESSION_RLE))return!0}return!1},r.Image.prototype.isCompressedJPEG=function(){r.Parser=r.Parser||n(28);var e=this.getTransferSyntax();return!(!e||-1===e.indexOf(r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG))},r.Image.prototype.isCompressedJPEGLossless=function(){r.Parser=r.Parser||n(28);var e=this.getTransferSyntax();return!(!e||-1===e.indexOf(r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LOSSLESS)&&-1===e.indexOf(r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LOSSLESS_SEL1))},r.Image.prototype.isCompressedJPEGBaseline=function(){r.Parser=r.Parser||n(28);var e=this.getTransferSyntax();return!(!e||-1===e.indexOf(r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_BASELINE_8BIT)&&-1===e.indexOf(r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_BASELINE_12BIT))},r.Image.prototype.isCompressedJPEG2000=function(){r.Parser=r.Parser||n(28);var e=this.getTransferSyntax();return!(!e||-1===e.indexOf(r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_2000)&&-1===e.indexOf(r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_2000_LOSSLESS))},r.Image.prototype.isCompressedJPEGLS=function(){r.Parser=r.Parser||n(28);var e=this.getTransferSyntax();return!(!e||-1===e.indexOf(r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LS)&&-1===e.indexOf(r.Parser.TRANSFER_SYNTAX_COMPRESSION_JPEG_LS_LOSSLESS))},r.Image.prototype.isCompressedRLE=function(){r.Parser=r.Parser||n(28);var e=this.getTransferSyntax();return!(!e||-1===e.indexOf(r.Parser.TRANSFER_SYNTAX_COMPRESSION_RLE))},r.Image.prototype.getNumberOfFrames=function(){var e=r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_NUMBER_OF_FRAMES[0],r.Tag.TAG_NUMBER_OF_FRAMES[1]),0);return null!==e?e:1},r.Image.prototype.getNumberOfSamplesPerPixel=function(){var e=r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_SAMPLES_PER_PIXEL[0],r.Tag.TAG_SAMPLES_PER_PIXEL[1]),0);return null!==e?e:1},r.Image.prototype.getNumberOfImplicitFrames=function(){var e,t,n;return this.isCompressed()?1:(t=(e=this.getPixelData()).offsetEnd-e.offsetValue,n=this.getCols()*this.getRows()*parseInt(this.getBitsAllocated()/8),parseInt(t/n))},r.Image.prototype.getPixelRepresentation=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_PIXEL_REPRESENTATION[0],r.Tag.TAG_PIXEL_REPRESENTATION[1]),0)},r.Image.prototype.getPhotometricInterpretation=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_PHOTOMETRIC_INTERPRETATION[0],r.Tag.TAG_PHOTOMETRIC_INTERPRETATION[1]),0)},r.Image.prototype.getPatientName=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_PATIENT_NAME[0],r.Tag.TAG_PATIENT_NAME[1]),0)},r.Image.prototype.getPatientID=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_PATIENT_ID[0],r.Tag.TAG_PATIENT_ID[1]),0)},r.Image.prototype.getStudyTime=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_STUDY_TIME[0],r.Tag.TAG_STUDY_TIME[1]),0)},r.Image.prototype.getTransferSyntax=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_TRANSFER_SYNTAX[0],r.Tag.TAG_TRANSFER_SYNTAX[1]),0)},r.Image.prototype.getStudyDate=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_STUDY_DATE[0],r.Tag.TAG_STUDY_DATE[1]),0)},r.Image.prototype.getPlanarConfig=function(){return r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_PLANAR_CONFIG[0],r.Tag.TAG_PLANAR_CONFIG[1]),0)},r.Image.prototype.getImageDescription=function(){var e,t="";return null!==(e=r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_STUDY_DES[0],r.Tag.TAG_STUDY_DES[1]),0))&&(t+=" "+e),null!==(e=r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_SERIES_DESCRIPTION[0],r.Tag.TAG_SERIES_DESCRIPTION[1]),0))&&(t+=" "+e),null!==(e=r.Image.getSingleValueSafely(this.getTag(r.Tag.TAG_IMAGE_COMMENTS[0],r.Tag.TAG_IMAGE_COMMENTS[1]),0))&&(t+=" "+e),t.trim()},r.Image.prototype.getDataType=function(){var e,t;return null===(t=this.getPixelRepresentation())?r.Image.BYTE_TYPE_UNKNOWN:null===(e=this.getPhotometricInterpretation())||-1===e.trim().indexOf("RGB")&&-1===e.trim().indexOf("YBR")&&-1===e.trim().toLowerCase().indexOf("palette")?0===t?r.Image.BYTE_TYPE_INTEGER_UNSIGNED:1===t?r.Image.BYTE_TYPE_INTEGER:r.Image.BYTE_TYPE_UNKNOWN:r.Image.BYTE_TYPE_RGB},r.Image.prototype.getAcquiredSliceDirection=function(){var e,t,n,i;return(e=r.Image.getValueSafely(this.getTag(r.Tag.TAG_IMAGE_ORIENTATION[0],r.Tag.TAG_IMAGE_ORIENTATION[1])))&&6===e.length?(t=r.Image.getMajorAxisFromPatientRelativeDirectionCosine(e[0],e[1],e[2]),n=r.Image.getMajorAxisFromPatientRelativeDirectionCosine(e[3],e[4],e[5]),null!==t&&null!==n?("R"!==t&&"L"!==t||"A"!==n&&"P"!==n)&&("R"!==n&&"L"!==n||"A"!==t&&"P"!==t)?("R"!==t&&"L"!==t||"H"!==n&&"F"!==n)&&("R"!==n&&"L"!==n||"H"!==t&&"F"!==t)?("A"!==t&&"P"!==t||"H"!==n&&"F"!==n)&&("A"!==n&&"P"!==n||"H"!==t&&"F"!==t)||(i=r.Image.SLICE_DIRECTION_SAGITTAL):i=r.Image.SLICE_DIRECTION_CORONAL:i=r.Image.SLICE_DIRECTION_AXIAL:i=r.Image.SLICE_DIRECTION_OBLIQUE,i):r.Image.SLICE_DIRECTION_UNKNOWN},r.Image.prototype.getEncapsulatedData=function(){var e;return r.Parser=r.Parser||n(28),e=this.getPixelData().value.buffer,(new r.Parser).parseEncapsulated(new DataView(e))},r.Image.prototype.getJpegs=function(){var e,t,n,i,a=[],o=[];if(e=this.getEncapsulatedData())for(t=e.length,n=0;n<t;n+=1)r.CompressionUtils.isHeaderJPEG(e[n].value)||r.CompressionUtils.isHeaderJPEG2000(e[n].value)?((i=[]).push(e[n].value.buffer),a.push(i)):i&&e[n].value&&i.push(e[n].value.buffer);for(n=0;n<a.length;n+=1)a[n].length>1?o[n]=r.Utils.concatArrayBuffers2(a[n]):o[n]=a[n][0],a[n]=null;return o},r.Image.prototype.getRLE=function(){var e,t,n,r=[];if(e=this.getEncapsulatedData())for(t=e.length,n=1;n<t;n+=1)e[n].value&&r.push(e[n].value.buffer);return r},r.Image.prototype.getAllInterpretedPrivateData=function(){var e,t,n,r="",i=Object.keys(this.tags).sort();for(e=0;e<i.length;e+=1)t=i[e],this.tags.hasOwnProperty(t)&&(n=this.tags[t]).hasInterpretedPrivateData()&&(r+=n.value);return r},r.Image.prototype.toString=function(){var e,t,n="",r=Object.keys(this.tags).sort();for(e=0;e<r.length;e+=1)t=r[e],this.tags.hasOwnProperty(t)&&(n+=this.tags[t].toHTMLString()+"<br />");return n=(n=n.replace(/\n\s*\n/g,"\n")).replace(/(?:\r\n|\r|\n)/g,"<br />")},r.Image.prototype.getPalleteValues=function(e){var t,n,i,a,o,s,u,l,c;if(t=null,n=null,null!==(i=r.Image.getValueSafely(this.getTag(e[0],e[1])))){for(a=i.buffer.byteLength/2,t=[],n=[],o=0;o<a;o+=1)t[o]=65535&i.getUint16(2*o,!1),n[o]=65535&i.getUint16(2*o,!0);return s=Math.max.apply(Math,t),u=Math.min.apply(Math,t),l=Math.max.apply(Math,n),c=Math.min.apply(Math,n),Math.abs(s-u)<Math.abs(l-c)?this.scalePalette(t):this.scalePalette(n)}return null},r.Image.prototype.scalePalette=function(e){var t,n,r,i,a;if(n=Math.max.apply(Math,e),t=Math.min.apply(Math,e),n>255||t<0)for(i=255/(n-t),a=t,r=0;r<e.length;r+=1)e[r]=parseInt(Math.round((e[r]-a)*i));return e},"undefined"!==typeof e&&e.exports&&(e.exports=r.Image)},function(e,t,n){"use strict";var r=r||{};r.Utils=r.Utils||n(39),r.Dictionary=r.Dictionary||n(82),r.Siemens=r.Siemens||n(106),r.Tag=r.Tag||function(e,t,n,i,a,o,s,u){if(this.group=e,this.element=t,this.vr=n,this.offsetStart=a,this.offsetValue=o,this.offsetEnd=s,this.sublist=!1,this.preformatted=!1,this.id=r.Tag.createId(e,t),i instanceof Array)this.value=i,this.sublist=!0;else if(null!==i){var l=new DataView(i);this.value=r.Tag.convertValue(n,l,u),this.value===l&&this.isPrivateData()&&(this.value=r.Tag.convertPrivateValue(e,t,l),this.preformatted=this.value!==l)}else this.value=null},r.Tag.PRIVATE_DATA_READERS=[r.Siemens],r.Tag.VR_AE_MAX_LENGTH=16,r.Tag.VR_AS_MAX_LENGTH=4,r.Tag.VR_AT_MAX_LENGTH=4,r.Tag.VR_CS_MAX_LENGTH=16,r.Tag.VR_DA_MAX_LENGTH=8,r.Tag.VR_DS_MAX_LENGTH=16,r.Tag.VR_DT_MAX_LENGTH=26,r.Tag.VR_FL_MAX_LENGTH=4,r.Tag.VR_FD_MAX_LENGTH=8,r.Tag.VR_IS_MAX_LENGTH=12,r.Tag.VR_LO_MAX_LENGTH=64,r.Tag.VR_LT_MAX_LENGTH=10240,r.Tag.VR_OB_MAX_LENGTH=-1,r.Tag.VR_OD_MAX_LENGTH=-1,r.Tag.VR_OF_MAX_LENGTH=-1,r.Tag.VR_OW_MAX_LENGTH=-1,r.Tag.VR_PN_MAX_LENGTH=320,r.Tag.VR_SH_MAX_LENGTH=16,r.Tag.VR_SL_MAX_LENGTH=4,r.Tag.VR_SS_MAX_LENGTH=2,r.Tag.VR_ST_MAX_LENGTH=1024,r.Tag.VR_TM_MAX_LENGTH=16,r.Tag.VR_UI_MAX_LENGTH=64,r.Tag.VR_UL_MAX_LENGTH=4,r.Tag.VR_UN_MAX_LENGTH=-1,r.Tag.VR_US_MAX_LENGTH=2,r.Tag.VR_UT_MAX_LENGTH=-1,r.Tag.TAG_TRANSFER_SYNTAX=[2,16],r.Tag.TAG_META_LENGTH=[2,0],r.Tag.TAG_SUBLIST_ITEM=[65534,57344],r.Tag.TAG_SUBLIST_ITEM_DELIM=[65534,57357],r.Tag.TAG_SUBLIST_SEQ_DELIM=[65534,57565],r.Tag.TAG_ROWS=[40,16],r.Tag.TAG_COLS=[40,17],r.Tag.TAG_ACQUISITION_MATRIX=[24,4880],r.Tag.TAG_NUMBER_OF_FRAMES=[40,8],r.Tag.TAG_NUMBER_TEMPORAL_POSITIONS=[32,261],r.Tag.TAG_PIXEL_SPACING=[40,48],r.Tag.TAG_SLICE_THICKNESS=[24,80],r.Tag.TAG_SLICE_GAP=[24,136],r.Tag.TAG_TR=[24,128],r.Tag.TAG_FRAME_TIME=[24,4195],r.Tag.TAG_BITS_ALLOCATED=[40,256],r.Tag.TAG_BITS_STORED=[40,257],r.Tag.TAG_PIXEL_REPRESENTATION=[40,259],r.Tag.TAG_HIGH_BIT=[40,258],r.Tag.TAG_PHOTOMETRIC_INTERPRETATION=[40,4],r.Tag.TAG_SAMPLES_PER_PIXEL=[40,2],r.Tag.TAG_PLANAR_CONFIG=[40,6],r.Tag.TAG_PALETTE_RED=[40,4609],r.Tag.TAG_PALETTE_GREEN=[40,4610],r.Tag.TAG_PALETTE_BLUE=[40,4611],r.Tag.TAG_DATA_SCALE_SLOPE=[40,4179],r.Tag.TAG_DATA_SCALE_INTERCEPT=[40,4178],r.Tag.TAG_DATA_SCALE_ELSCINT=[519,4127],r.Tag.TAG_PIXEL_BANDWIDTH=[24,149],r.Tag.TAG_IMAGE_MIN=[40,262],r.Tag.TAG_IMAGE_MAX=[40,263],r.Tag.TAG_WINDOW_CENTER=[40,4176],r.Tag.TAG_WINDOW_WIDTH=[40,4177],r.Tag.TAG_PATIENT_NAME=[16,16],r.Tag.TAG_PATIENT_ID=[16,32],r.Tag.TAG_STUDY_DATE=[8,32],r.Tag.TAG_STUDY_TIME=[8,48],r.Tag.TAG_STUDY_DES=[8,4144],r.Tag.TAG_IMAGE_TYPE=[8,8],r.Tag.TAG_IMAGE_COMMENTS=[32,16384],r.Tag.TAG_SEQUENCE_NAME=[24,36],r.Tag.TAG_MODALITY=[8,96],r.Tag.TAG_FRAME_OF_REF_UID=[32,82],r.Tag.TAG_STUDY_UID=[32,13],r.Tag.TAG_SERIES_DESCRIPTION=[8,4158],r.Tag.TAG_SERIES_INSTANCE_UID=[32,14],r.Tag.TAG_SERIES_NUMBER=[32,17],r.Tag.TAG_ECHO_NUMBER=[24,134],r.Tag.TAG_TEMPORAL_POSITION=[32,256],r.Tag.TAG_IMAGE_NUM=[32,19],r.Tag.TAG_SLICE_LOCATION=[32,4161],r.Tag.TAG_IMAGE_ORIENTATION=[32,55],r.Tag.TAG_IMAGE_POSITION=[32,50],r.Tag.TAG_SLICE_LOCATION_VECTOR=[24,8197],r.Tag.TAG_LUT_SHAPE=[8272,32],r.Tag.TAG_PIXEL_DATA=[32736,16],r.Tag.createId=function(e,t){return r.Utils.dec2hex(e)+r.Utils.dec2hex(t)},r.Tag.getUnsignedInteger16=function(e,t){var n,r,i;for(r=e.byteLength/2,n=[],i=0;i<r;i+=1)n[i]=e.getUint16(2*i,t);return n},r.Tag.getSignedInteger16=function(e,t){var n,r,i;for(r=e.byteLength/2,n=[],i=0;i<r;i+=1)n[i]=e.getInt16(2*i,t);return n},r.Tag.getFloat32=function(e,t){var n,r,i;for(r=e.byteLength/4,n=[],i=0;i<r;i+=1)n[i]=e.getFloat32(4*i,t);return n},r.Tag.getSignedInteger32=function(e,t){var n,r,i;for(r=e.byteLength/4,n=[],i=0;i<r;i+=1)n[i]=e.getInt32(4*i,t);return n},r.Tag.getUnsignedInteger32=function(e,t){var n,r,i;for(r=e.byteLength/4,n=[],i=0;i<r;i+=1)n[i]=e.getUint32(4*i,t);return n},r.Tag.getFloat64=function(e,t){var n,r,i;if(e.byteLength<8)return 0;for(r=e.byteLength/8,n=[],i=0;i<r;i+=1)n[i]=e.getFloat64(8*i,t);return n},r.Tag.getDoubleElscint=function(e){var t,n=[],i=[];for(t=0;t<8;t+=1)n[t]=e.getUint8(t);return i[0]=n[3],i[1]=n[2],i[2]=n[1],i[3]=n[0],i[4]=n[7],i[5]=n[6],i[6]=n[5],i[7]=n[4],n=[r.Utils.bytesToDouble(i)]},r.Tag.getFixedLengthStringValue=function(e,t){var n,i,a;for(i=Math.floor(e.byteLength/t),n=[],a=0;a<i;a+=1)n[a]=r.Utils.getStringAt(e,a*t,t);return n},r.Tag.getStringValue=function(e){var t,n=r.Utils.getStringAt(e,0,e.byteLength).split("\\");for(t=0;t<n.length;t+=1)n[t]=r.Utils.trim(n[t]);return n},r.Tag.getDateStringValue=function(e){var t,n=-1!==r.Tag.getSingleStringValue(e)[0].indexOf("."),i=r.Tag.getFixedLengthStringValue(e,n?10:r.Tag.VR_DA_MAX_LENGTH),a=null,o=[];for(t=0;t<i.length;t+=1)n?3===(a=i[t].split(".")).length?o[t]=new Date(r.Utils.safeParseInt(a[0]),r.Utils.safeParseInt(a[1])-1,r.Utils.safeParseInt(a[2])):o[t]=new Date:8===i[t].length?o[t]=new Date(r.Utils.safeParseInt(i[t].substring(0,4)),r.Utils.safeParseInt(i[t].substring(4,6))-1,r.Utils.safeParseInt(i[t].substring(6,8))):o[t]=Date.parse(i[t]),r.Utils.isValidDate(o[t])||(o[t]=i[t]);return o},r.Tag.getDateTimeStringValue=function(e){var t,n=r.Tag.getStringValue(e),i=[],a=null,o=null,s=null,u=null,l=null,c=null;for(t=0;t<n.length;t+=1)n[t].length>=4?(a=parseInt(n[t].substring(0,4),10),n[t].length>=6&&(o=r.Utils.safeParseInt(n[t].substring(4,6))-1),n[t].length>=8&&(s=r.Utils.safeParseInt(n[t].substring(6,8))),n[t].length>=10&&(u=r.Utils.safeParseInt(n[t].substring(8,10))),n[t].length>=12&&(l=r.Utils.safeParseInt(n[t].substring(10,12))),n[t].length>=14&&(c=r.Utils.safeParseInt(n[t].substring(12,14))),i[t]=new Date(a,o,s,u,l,c)):i[t]=Date.parse(n[t]),r.Utils.isValidDate(i[t])||(i[t]=n[t]);return i},r.Tag.getTimeStringValue=function(e,t){var n=r.Tag.getStringValue(e),i=[];if(t){var a,o=null,s=0,u=0,l=0;for(a=0;a<n.length;a+=1)-1!==n[a].indexOf(":")?(o=n[a].split(":"),s=r.Utils.safeParseInt(o[0]),o.length>1&&(u=r.Utils.safeParseInt(o[1])),o.length>2&&(l=r.Utils.safeParseFloat(o[2]))):(n[a].length>=2&&(s=r.Utils.safeParseInt(n[a].substring(0,2))),n[a].length>=4&&(u=r.Utils.safeParseInt(n[a].substring(2,4))),n[a].length>=6&&(l=r.Utils.safeParseFloat(n[a].substring(4)))),i[a]=Math.round(60*s*60*1e3+60*u*1e3+1e3*l);return i}return n},r.Tag.getDoubleStringValue=function(e){var t,n=r.Tag.getStringValue(e),i=[];for(t=0;t<n.length;t+=1)i[t]=parseFloat(n[t]);return i},r.Tag.getIntegerStringValue=function(e){var t,n=r.Tag.getStringValue(e),i=[];for(t=0;t<n.length;t+=1)i[t]=parseInt(n[t],10);return i},r.Tag.getSingleStringValue=function(e){return[r.Utils.trim(r.Utils.getStringAt(e,0,e.byteLength))]},r.Tag.getPersonNameStringValue=function(e){var t,n=r.Tag.getStringValue(e),i=[];for(t=0;t<n.length;t+=1)i[t]=n[t].replace("^"," ");return i},r.Tag.convertPrivateValue=function(e,t,n){var i,a;for(i=0;i<r.Tag.PRIVATE_DATA_READERS.length;i+=1)if((a=new r.Tag.PRIVATE_DATA_READERS[i](n.buffer)).canRead(e,t))return a.readHeader();return n},r.Tag.convertValue=function(e,t,n){var i=null;return"AE"===e?i=r.Tag.getSingleStringValue(t,r.Tag.VR_AE_MAX_LENGTH):"AS"===e?i=r.Tag.getFixedLengthStringValue(t,r.Tag.VR_AS_MAX_LENGTH):"AT"===e?i=r.Tag.getUnsignedInteger16(t,n):"CS"===e?i=r.Tag.getStringValue(t):"DA"===e?i=r.Tag.getDateStringValue(t):"DS"===e?i=r.Tag.getDoubleStringValue(t):"DT"===e?i=r.Tag.getDateTimeStringValue(t):"FL"===e?i=r.Tag.getFloat32(t,n):"FD"===e?i=r.Tag.getFloat64(t,n):"FE"===e?i=r.Tag.getDoubleElscint(t,n):"IS"===e?i=r.Tag.getIntegerStringValue(t):"LO"===e?i=r.Tag.getStringValue(t):"LT"===e?i=r.Tag.getSingleStringValue(t):"OB"===e||"OD"===e||"OF"===e||"OW"===e?i=t:"PN"===e?i=r.Tag.getPersonNameStringValue(t):"SH"===e?i=r.Tag.getStringValue(t):"SL"===e?i=r.Tag.getSignedInteger32(t,n):"SQ"===e?i=null:"SS"===e?i=r.Tag.getSignedInteger16(t,n):"ST"===e?i=r.Tag.getSingleStringValue(t):"TM"===e?i=r.Tag.getTimeStringValue(t):"UI"===e?i=r.Tag.getStringValue(t):"UL"===e?i=r.Tag.getUnsignedInteger32(t,n):"UN"===e?i=t:"US"===e?i=r.Tag.getUnsignedInteger16(t,n):"UT"===e&&(i=r.Tag.getSingleStringValue(t)),i},r.Tag.prototype.toString=function(e,t){var n,i,a="",o="("+r.Utils.dec2hex(this.group)+","+r.Utils.dec2hex(this.element)+")",s="";for(void 0===e&&(e=0),i="",n=0;n<e;n+=1)i+=t?"&nbsp;&nbsp;":"  ";if(this.sublist)for(n=0;n<this.value.length;n+=1)a+="\n"+this.value[n].toString(e+1,t);else a="SQ"===this.vr||this.isPixelData()?"":this.value?t&&this.preformatted?"[<pre>"+this.value+"</pre>]":"["+this.value+"]":"";return this.isSublistItem()?o="Sequence Item":this.isSublistItemDelim()?o="Sequence Item Delimiter":this.isSequenceDelim()?o="Sequence Delimiter":this.isPixelData()?o="Pixel Data":s=r.Utils.convertCamcelCaseToTitleCase(r.Dictionary.getDescription(this.group,this.element)),t?i+"<span style='color:#B5CBD3'>"+o+"</span>&nbsp;&nbsp;&nbsp;"+s+"&nbsp;&nbsp;&nbsp;"+a:i+" "+o+" "+s+" "+a},r.Tag.prototype.toHTMLString=function(e){return this.toString(e,!0)},r.Tag.prototype.isTransformSyntax=function(){return this.group===r.Tag.TAG_TRANSFER_SYNTAX[0]&&this.element===r.Tag.TAG_TRANSFER_SYNTAX[1]},r.Tag.prototype.isPixelData=function(){return this.group===r.Tag.TAG_PIXEL_DATA[0]&&this.element===r.Tag.TAG_PIXEL_DATA[1]},r.Tag.prototype.isPrivateData=function(){return 1===(1&this.group)},r.Tag.prototype.hasInterpretedPrivateData=function(){return this.isPrivateData()&&r.Utils.isString(this.value)},r.Tag.prototype.isSublistItem=function(){return this.group===r.Tag.TAG_SUBLIST_ITEM[0]&&this.element===r.Tag.TAG_SUBLIST_ITEM[1]},r.Tag.prototype.isSublistItemDelim=function(){return this.group===r.Tag.TAG_SUBLIST_ITEM_DELIM[0]&&this.element===r.Tag.TAG_SUBLIST_ITEM_DELIM[1]},r.Tag.prototype.isSequenceDelim=function(){return this.group===r.Tag.TAG_SUBLIST_SEQ_DELIM[0]&&this.element===r.Tag.TAG_SUBLIST_SEQ_DELIM[1]},r.Tag.prototype.isMetaLength=function(){return this.group===r.Tag.TAG_META_LENGTH[0]&&this.element===r.Tag.TAG_META_LENGTH[1]},"undefined"!==typeof e&&e.exports&&(e.exports=r.Tag)},function(e,t,n){"use strict";var r=r||{};r.OrderedMapIterator=r.OrderedMapIterator||function(e){this.orderedMap=e,this.index=0},r.OrderedMapIterator.prototype.hasNext=function(){return this.index<this.orderedMap.orderedKeys.length},r.OrderedMapIterator.prototype.next=function(){var e=this.orderedMap.get(this.orderedMap.orderedKeys[this.index]);return this.index+=1,e},"undefined"!==typeof e&&e.exports&&(e.exports=r.OrderedMapIterator)},function(e,t,n){"use strict";e.exports=n(139)},function(e,t,n){"use strict";var r=n(86),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=c(n);f&&(o=o.concat(f(n)));for(var s=u(t),m=u(n),g=0;g<o.length;++g){var v=o[g];if(!a[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=h(n,v);try{l(t,v,y)}catch(b){}}}}return t}},function(e,t,n){"use strict";(function(e,r){var i,a=n(122);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var o=Object(a.a)(i);t.a=o}).call(this,n(27),n(140)(e))},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},,function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(144),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(27))},function(e,t,n){"use strict";(function(t,r){var i=n(58);e.exports=b;var a,o=n(91);b.ReadableState=y;n(77).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=n(94),l=n(59).Buffer,c=t.Uint8Array||function(){};var f=Object.create(n(52));f.inherits=n(37);var h=n(152),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,m=n(153),g=n(95);f.inherits(b,u);var v=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(a=a||n(38));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(96).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(a=a||n(38),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function w(e,t,n,r,i){var a,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,T(e)}(e,o)):(i||(a=function(e,t){var n;r=t,l.isBuffer(r)||r instanceof c||"string"===typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"===typeof t||o.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?S(e,o,t,!1):k(e,o)):S(e,o,t,!1))):r||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&T(e)),k(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(96).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var x=8388608;function _(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(E,e):E(e))}function E(e){d("emit readable"),e.emit("readable"),I(e)}function k(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(C,e,t))}function C(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function A(e){d("readable nexttick read 0"),e.read(0)}function O(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=a.slice(0,e),0===(e-=o)){o===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=l.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0===(e-=o)){o===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function D(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):T(this),null;if(0===(e=_(e,t))&&t.ended)return 0===t.length&&D(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=_(n,t))),null===(r=e>0?M(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&D(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,d("pipe count=%d opts=%j",a.pipesCount,t);var u=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:b;function l(t,r){d("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),e.removeListener("close",v),e.removeListener("finish",y),e.removeListener("drain",f),e.removeListener("error",g),e.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",m),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function c(){d("onend"),e.end()}a.endEmitted?i.nextTick(u):n.once("end",u),e.on("unpipe",l);var f=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,I(e))}}(n);e.on("drain",f);var h=!1;var p=!1;function m(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==P(a.pipes,e))&&!h&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function g(t){d("onerror",t),b(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",y),b()}function y(){d("onfinish"),e.removeListener("close",v),b()}function b(){d("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",v),e.once("finish",y),e.emit("pipe",n),a.flowing||(d("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var o=P(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&T(this):i.nextTick(A,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(O,e,t))}(this,e)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=M}).call(this,n(27),n(23))},function(e,t,n){e.exports=n(77).EventEmitter},function(e,t,n){"use strict";var r=n(58);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(59).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=o;var r=n(38),i=Object.create(n(52));function a(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"===typeof this._flush?this._flush((function(t,n){u(e,t,n)})):u(this,null,null)}function u(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(37),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){"use strict";(function(t){var r=n(76);function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function a(e){return t.Buffer&&"function"===typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=n(99),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,l="foo"===function(){}.name;function c(e){return Object.prototype.toString.call(e)}function f(e){return!a(e)&&("function"===typeof t.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var h=e.exports=y,d=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(o.isFunction(e)){if(l)return e.name;var t=e.toString().match(d);return t&&t[1]}}function m(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(l||!o.isFunction(e))return o.inspect(e);var t=p(e);return"[Function"+(t?": "+t:"")+"]"}function v(e,t,n,r,i){throw new h.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function y(e,t){e||v(e,!0,t,"==",h.ok)}function b(e,t,n,r){if(e===t)return!0;if(a(e)&&a(t))return 0===i(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(f(e)&&f(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=w(e),a=w(t);if(i&&!a||!i&&a)return!1;if(i)return b(e=u.call(e),t=u.call(t),n);var s,l,c=_(e),f=_(t);if(c.length!==f.length)return!1;for(c.sort(),f.sort(),l=c.length-1;l>=0;l--)if(c[l]!==f[l])return!1;for(l=c.length-1;l>=0;l--)if(!b(e[s=c[l]],t[s],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function S(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function x(e,t,n,r){var i;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(n){t=n}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&v(i,n,"Missing expected exception"+r);var a="string"===typeof r,s=!e&&i&&!n;if((!e&&o.isError(i)&&a&&S(i,n)||s)&&v(i,n,"Got unwanted exception"+r),e&&i&&n&&!S(i,n)||!e&&i)throw i}h.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return m(g(e.actual),128)+" "+e.operator+" "+m(g(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=p(t),a=r.indexOf("\n"+i);if(a>=0){var o=r.indexOf("\n",a+1);r=r.substring(o+1)}this.stack=r}}},o.inherits(h.AssertionError,Error),h.fail=v,h.ok=y,h.equal=function(e,t,n){e!=t&&v(e,t,n,"==",h.equal)},h.notEqual=function(e,t,n){e==t&&v(e,t,n,"!=",h.notEqual)},h.deepEqual=function(e,t,n){b(e,t,!1)||v(e,t,n,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(e,t,n){b(e,t,!0)||v(e,t,n,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(e,t,n){b(e,t,!1)&&v(e,t,n,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&v(t,n,r,"notDeepStrictEqual",e)},h.strictEqual=function(e,t,n){e!==t&&v(e,t,n,"===",h.strictEqual)},h.notStrictEqual=function(e,t,n){e===t&&v(e,t,n,"!==",h.notStrictEqual)},h.throws=function(e,t,n){x(!0,e,t,n)},h.doesNotThrow=function(e,t,n){x(!1,e,t,n)},h.ifError=function(e){if(e)throw e},h.strict=r((function e(t,n){t||v(t,!0,n,"==",e)}),h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var _=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,n(27))},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,a=r.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),u=r[n];n<a;u=r[++n])m(u)||!w(u)?o+=" "+u:o+=" "+s(u);return o},t.deprecate=function(n,r){if("undefined"!==typeof e&&!0===e.noDeprecation)return n;if("undefined"===typeof e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var a,o={};function s(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),c(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function l(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&_(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return v(i)||(i=c(e,i,r)),i}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(a)return a;var o=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),x(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return f(n);if(0===o.length){if(_(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return e.stylize(Date.prototype.toString.call(n),"date");if(x(n))return f(n)}var l,w="",T=!1,E=["{","}"];(d(n)&&(T=!0,E=["[","]"]),_(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),S(n)&&(w=" "+Date.prototype.toUTCString.call(n)),x(n)&&(w=" "+f(n)),0!==o.length||T&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=T?function(e,t,n,r,i){for(var a=[],o=0,s=t.length;o<s;++o)A(t,String(o))?a.push(h(e,t,n,r,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(h(e,t,n,r,i,!0))})),a}(e,n,r,s,o):o.map((function(t){return h(e,n,r,s,t,T)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,w,E)):E[0]+w+E[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i,a){var o,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),A(r,i)||(o="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(n)?c(e,u.value,null):c(e,u.value,n-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function d(e){return Array.isArray(e)}function p(e){return"boolean"===typeof e}function m(e){return null===e}function g(e){return"number"===typeof e}function v(e){return"string"===typeof e}function y(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===T(e)}function w(e){return"object"===typeof e&&null!==e}function S(e){return w(e)&&"[object Date]"===T(e)}function x(e){return w(e)&&("[object Error]"===T(e)||e instanceof Error)}function _(e){return"function"===typeof e}function T(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(a)&&(a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NODE_DEBUG||""),n=n.toUpperCase(),!o[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var r=e.pid;o[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else o[n]=function(){};return o[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=v,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=w,t.isDate=S,t.isError=x,t.isFunction=_,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=n(162);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",C(),t.format.apply(t,arguments))},t.inherits=n(163),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var O="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(O&&e[O]){var t;if("function"!==typeof(t=e[O]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,O,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(o){n(o)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),O&&Object.defineProperty(t,O,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=O,t.callbackify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};t.apply(this,n).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(I,t,o)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(23))},function(e,t,n){"use strict";var r,i=n(34),a=n(164),o=n(101),s=n(102),u=n(80),l=-2,c=258,f=262,h=103,d=113,p=666;function m(e,t){return e.msg=u[t],t}function g(e){return(e<<1)-(e>4?9:0)}function v(e){for(var t=e.length;--t>=0;)e[t]=0}function y(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function b(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,y(e.strm)}function w(e,t){e.pending_buf[e.pending++]=t}function S(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function x(e,t,n,r){var a=e.avail_in;return a>r&&(a=r),0===a?0:(e.avail_in-=a,i.arraySet(t,e.input,e.next_in,a,n),1===e.state.wrap?e.adler=o(e.adler,t,a,n):2===e.state.wrap&&(e.adler=s(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)}function _(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-f?e.strstart-(e.w_size-f):0,l=e.window,h=e.w_mask,d=e.prev,p=e.strstart+c,m=l[a+o-1],g=l[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+o]===g&&l[n+o-1]===m&&l[n]===l[a]&&l[++n]===l[a+1]){a+=2,n++;do{}while(l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&a<p);if(r=c-(p-a),a=p-c,r>o){if(e.match_start=t,o=r,r>=s)break;m=l[a+o-1],g=l[a+o]}}}while((t=d[t&h])>u&&0!==--i);return o<=e.lookahead?o:e.lookahead}function T(e){var t,n,r,a,o,s=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-f)){i.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=s?r-s:0}while(--n);t=n=s;do{r=e.prev[--t],e.prev[t]=r>=s?r-s:0}while(--n);a+=s}if(0===e.strm.avail_in)break;if(n=x(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=n,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+3-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<f&&0!==e.strm.avail_in)}function E(e,t){for(var n,r;;){if(e.lookahead<f){if(T(e),e.lookahead<f&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-f&&(e.match_length=_(e,n)),e.match_length>=3)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function k(e,t){for(var n,r,i;;){if(e.lookahead<f){if(T(e),e.lookahead<f&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-f&&(e.match_length=_(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function C(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function A(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),v(this.dyn_ltree),v(this.dyn_dtree),v(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),v(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),v(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function O(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:d,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):m(e,l)}function I(e){var t,n=O(e);return 0===n&&((t=e.state).window_size=2*t.w_size,v(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function M(e,t,n,r,a,o){if(!e)return l;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>9||8!==n||r<8||r>15||t<0||t>9||o<0||o>4)return m(e,l);8===r&&(r=9);var u=new A;return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=o,u.method=n,I(e)}r=[new C(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(T(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-f&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new C(4,4,8,4,E),new C(4,5,16,8,E),new C(4,6,32,32,E),new C(4,4,16,16,k),new C(8,16,32,32,k),new C(8,16,128,128,k),new C(8,32,128,256,k),new C(32,128,258,1024,k),new C(32,258,258,4096,k)],t.deflateInit=function(e,t){return M(e,t,8,15,8,0)},t.deflateInit2=M,t.deflateReset=I,t.deflateResetKeep=O,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,0):l},t.deflate=function(e,t){var n,i,o,u;if(!e||!e.state||t>5||t<0)return e?m(e,l):l;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===p&&4!==t)return m(e,0===e.avail_out?-5:l);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,w(i,31),w(i,139),w(i,8),i.gzhead?(w(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),w(i,255&i.gzhead.time),w(i,i.gzhead.time>>8&255),w(i,i.gzhead.time>>16&255),w(i,i.gzhead.time>>24&255),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(w(i,255&i.gzhead.extra.length),w(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(w(i,0),w(i,0),w(i,0),w(i,0),w(i,0),w(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),w(i,3),i.status=d);else{var f=8+(i.w_bits-8<<4)<<8;f|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=32),f+=31-f%31,i.status=d,S(i,f),0!==i.strstart&&(S(i,e.adler>>>16),S(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),y(e),o=i.pending,i.pending!==i.pending_buf_size));)w(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),y(e),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,w(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),y(e),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,w(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.status=h)}else i.status=h;if(i.status===h&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&y(e),i.pending+2<=i.pending_buf_size&&(w(i,255&e.adler),w(i,e.adler>>8&255),e.adler=0,i.status=d)):i.status=d),0!==i.pending){if(y(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&g(t)<=g(n)&&4!==t)return m(e,-5);if(i.status===p&&0!==e.avail_in)return m(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==p){var x=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(T(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=c){if(T(e),e.lookahead<=c&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=e.strstart+c;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=c-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==x&&4!==x||(i.status=p),1===x||3===x)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===x&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(v(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),y(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(w(i,255&e.adler),w(i,e.adler>>8&255),w(i,e.adler>>16&255),w(i,e.adler>>24&255),w(i,255&e.total_in),w(i,e.total_in>>8&255),w(i,e.total_in>>16&255),w(i,e.total_in>>24&255)):(S(i,e.adler>>>16),S(i,65535&e.adler)),y(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==h&&t!==d&&t!==p?m(e,l):(e.state=null,t===d?m(e,-3):0):l},t.deflateSetDictionary=function(e,t){var n,r,a,s,u,c,f,h,d=t.length;if(!e||!e.state)return l;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return l;for(1===s&&(e.adler=o(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(v(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,d-n.w_size,n.w_size,0),t=h,d=n.w_size),u=e.avail_in,c=e.next_in,f=e.input,e.avail_in=d,e.next_in=0,e.input=t,T(n);n.lookahead>=3;){r=n.strstart,a=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--a);n.strstart=r,n.lookahead=2,T(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=c,e.input=f,e.avail_in=u,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(i=i+t[r++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var a=r,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";var r=n(34),i=n(101),a=n(102),o=n(165),s=n(166),u=-2,l=12,c=30;function f(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):u}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):u}function m(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?u:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,p(e))):u}function g(e,t){var n,r;return e?(r=new h,e.state=r,r.window=null,0!==(n=m(e,t))&&(e.state=null),n):u}var v,y,b=!0;function w(e){if(b){var t;for(v=new r.Buf32(512),y=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,v,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,y,0,e.work,{bits:5}),b=!1}e.lencode=v,e.lenbits=9,e.distcode=y,e.distbits=5}function S(e,t,n,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>i&&(a=i),r.arraySet(o.window,t,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}t.inflateReset=p,t.inflateReset2=m,t.inflateResetKeep=d,t.inflateInit=function(e){return g(e,15)},t.inflateInit2=g,t.inflate=function(e,t){var n,h,d,p,m,g,v,y,b,x,_,T,E,k,C,A,O,I,M,D,R,P,N,L,F=0,B=new r.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return u;(n=e.state).mode===l&&(n.mode=13),m=e.next_out,d=e.output,v=e.avail_out,p=e.next_in,h=e.input,g=e.avail_in,y=n.hold,b=n.bits,x=g,_=v,P=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}if(2&n.wrap&&35615===y){n.check=0,B[0]=255&y,B[1]=y>>>8&255,n.check=a(n.check,B,2,0),y=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",n.mode=c;break}if(8!==(15&y)){e.msg="unknown compression method",n.mode=c;break}if(b-=4,R=8+(15&(y>>>=4)),0===n.wbits)n.wbits=R;else if(R>n.wbits){e.msg="invalid window size",n.mode=c;break}n.dmax=1<<R,e.adler=n.check=1,n.mode=512&y?10:l,y=0,b=0;break;case 2:for(;b<16;){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}if(n.flags=y,8!==(255&n.flags)){e.msg="unknown compression method",n.mode=c;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=c;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=a(n.check,B,2,0)),y=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}n.head&&(n.head.time=y),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,B[2]=y>>>16&255,B[3]=y>>>24&255,n.check=a(n.check,B,4,0)),y=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=a(n.check,B,2,0)),y=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(B[0]=255&y,B[1]=y>>>8&255,n.check=a(n.check,B,2,0)),y=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((T=n.length)>g&&(T=g),T&&(n.head&&(R=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,h,p,T,R)),512&n.flags&&(n.check=a(n.check,h,T,p)),g-=T,p+=T,n.length-=T),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===g)break e;T=0;do{R=h[p+T++],n.head&&R&&n.length<65536&&(n.head.name+=String.fromCharCode(R))}while(R&&T<g);if(512&n.flags&&(n.check=a(n.check,h,T,p)),g-=T,p+=T,R)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===g)break e;T=0;do{R=h[p+T++],n.head&&R&&n.length<65536&&(n.head.comment+=String.fromCharCode(R))}while(R&&T<g);if(512&n.flags&&(n.check=a(n.check,h,T,p)),g-=T,p+=T,R)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}if(y!==(65535&n.check)){e.msg="header crc mismatch",n.mode=c;break}y=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=l;break;case 10:for(;b<32;){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}e.adler=n.check=f(y),y=0,b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=m,e.avail_out=v,e.next_in=p,e.avail_in=g,n.hold=y,n.bits=b,2;e.adler=n.check=1,n.mode=l;case l:if(5===t||6===t)break e;case 13:if(n.last){y>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}switch(n.last=1&y,b-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(w(n),n.mode=20,6===t){y>>>=2,b-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=c}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}if((65535&y)!==(y>>>16^65535)){e.msg="invalid stored block lengths",n.mode=c;break}if(n.length=65535&y,y=0,b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(T=n.length){if(T>g&&(T=g),T>v&&(T=v),0===T)break e;r.arraySet(d,h,p,T,m),g-=T,p+=T,v-=T,m+=T,n.length-=T;break}n.mode=l;break;case 17:for(;b<14;){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}if(n.nlen=257+(31&y),y>>>=5,b-=5,n.ndist=1+(31&y),y>>>=5,b-=5,n.ncode=4+(15&y),y>>>=4,b-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=c;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}n.lens[z[n.have++]]=7&y,y>>>=3,b-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},P=s(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,P){e.msg="invalid code lengths set",n.mode=c;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(F=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,O=65535&F,!((C=F>>>24)<=b);){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}if(O<16)y>>>=C,b-=C,n.lens[n.have++]=O;else{if(16===O){for(L=C+2;b<L;){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}if(y>>>=C,b-=C,0===n.have){e.msg="invalid bit length repeat",n.mode=c;break}R=n.lens[n.have-1],T=3+(3&y),y>>>=2,b-=2}else if(17===O){for(L=C+3;b<L;){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}b-=C,R=0,T=3+(7&(y>>>=C)),y>>>=3,b-=3}else{for(L=C+7;b<L;){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}b-=C,R=0,T=11+(127&(y>>>=C)),y>>>=7,b-=7}if(n.have+T>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=c;break}for(;T--;)n.lens[n.have++]=R}}if(n.mode===c)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=c;break}if(n.lenbits=9,N={bits:n.lenbits},P=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,P){e.msg="invalid literal/lengths set",n.mode=c;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},P=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,P){e.msg="invalid distances set",n.mode=c;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(g>=6&&v>=258){e.next_out=m,e.avail_out=v,e.next_in=p,e.avail_in=g,n.hold=y,n.bits=b,o(e,_),m=e.next_out,d=e.output,v=e.avail_out,p=e.next_in,h=e.input,g=e.avail_in,y=n.hold,b=n.bits,n.mode===l&&(n.back=-1);break}for(n.back=0;A=(F=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,O=65535&F,!((C=F>>>24)<=b);){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}if(A&&0===(240&A)){for(I=C,M=A,D=O;A=(F=n.lencode[D+((y&(1<<I+M)-1)>>I)])>>>16&255,O=65535&F,!(I+(C=F>>>24)<=b);){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}y>>>=I,b-=I,n.back+=I}if(y>>>=C,b-=C,n.back+=C,n.length=O,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=l;break}if(64&A){e.msg="invalid literal/length code",n.mode=c;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(L=n.extra;b<L;){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(F=n.distcode[y&(1<<n.distbits)-1])>>>16&255,O=65535&F,!((C=F>>>24)<=b);){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}if(0===(240&A)){for(I=C,M=A,D=O;A=(F=n.distcode[D+((y&(1<<I+M)-1)>>I)])>>>16&255,O=65535&F,!(I+(C=F>>>24)<=b);){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}y>>>=I,b-=I,n.back+=I}if(y>>>=C,b-=C,n.back+=C,64&A){e.msg="invalid distance code",n.mode=c;break}n.offset=O,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(L=n.extra;b<L;){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=c;break}n.mode=25;case 25:if(0===v)break e;if(T=_-v,n.offset>T){if((T=n.offset-T)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=c;break}T>n.wnext?(T-=n.wnext,E=n.wsize-T):E=n.wnext-T,T>n.length&&(T=n.length),k=n.window}else k=d,E=m-n.offset,T=n.length;T>v&&(T=v),v-=T,n.length-=T;do{d[m++]=k[E++]}while(--T);0===n.length&&(n.mode=21);break;case 26:if(0===v)break e;d[m++]=n.length,v--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===g)break e;g--,y|=h[p++]<<b,b+=8}if(_-=v,e.total_out+=_,n.total+=_,_&&(e.adler=n.check=n.flags?a(n.check,d,_,m-_):i(n.check,d,_,m-_)),_=v,(n.flags?y:f(y))!==n.check){e.msg="incorrect data check",n.mode=c;break}y=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===g)break e;g--,y+=h[p++]<<b,b+=8}if(y!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=c;break}y=0,b=0}n.mode=29;case 29:P=1;break e;case c:P=-3;break e;case 31:return-4;case 32:default:return u}return e.next_out=m,e.avail_out=v,e.next_in=p,e.avail_in=g,n.hold=y,n.bits=b,(n.wsize||_!==e.avail_out&&n.mode<c&&(n.mode<27||4!==t))&&S(e,e.output,e.next_out,_-e.avail_out)?(n.mode=31,-4):(x-=e.avail_in,_-=e.avail_out,e.total_in+=x,e.total_out+=_,n.total+=_,n.wrap&&_&&(e.adler=n.check=n.flags?a(n.check,d,_,e.next_out-_):i(n.check,d,_,e.next_out-_)),e.data_type=n.bits+(n.last?64:0)+(n.mode===l?128:0)+(20===n.mode||15===n.mode?256:0),(0===x&&0===_||4===t)&&0===P&&(P=-5),P)},t.inflateEnd=function(e){if(!e||!e.state)return u;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0===(2&(n=e.state).wrap)?u:(n.head=t,t.done=!1,0):u},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?u:11===n.mode&&i(1,t,r,0)!==n.check?-3:S(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):u},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r,i,a){var o=r||"<<anonymous>>",s=a||n;if(null==t[n])return new Error("The "+i+" `"+s+"` is required to make `"+o+"` accessible for users of assistive technologies such as screen readers.");for(var u=arguments.length,l=Array(u>5?u-5:0),c=5;c<u;c++)l[c-5]=arguments[c];return e.apply(void 0,[t,n,r,i,a].concat(l))}},e.exports=t.default},function(e,t,n){"use strict";var r=r||{};r.CompressionUtils=r.CompressionUtils||{},r.CompressionUtils.JPEG_MAGIC_NUMBER=[255,216],r.CompressionUtils.JPEG2000_MAGIC_NUMBER=[255,79,255,81],r.CompressionUtils.isHeaderJPEG=function(e){return!!e&&(e.getUint8(0)===r.CompressionUtils.JPEG_MAGIC_NUMBER[0]&&e.getUint8(1)===r.CompressionUtils.JPEG_MAGIC_NUMBER[1])},r.CompressionUtils.isHeaderJPEG2000=function(e){var t;if(e){for(t=0;t<r.CompressionUtils.JPEG2000_MAGIC_NUMBER.length;t+=1)if(e.getUint8(t)!==r.CompressionUtils.JPEG2000_MAGIC_NUMBER[t])return!1;return!0}return!1},"undefined"!==typeof e&&e.exports&&(e.exports=r.CompressionUtils)},function(e,t,n){"use strict";var r=r||{};r.Utils=r.Utils||n(39),r.Siemens=r.Siemens||function(e){this.output="",this.data=new DataView(e,0)},r.Siemens.CSA2_MAGIC_NUMBER=[83,86,49,48],r.Siemens.NAME_LENGTH=64,r.Siemens.ELEMENT_CSA1=4112,r.Siemens.ELEMENT_CSA2=4128,r.Siemens.GROUP_CSA=41,r.Siemens.prototype.readHeader=function(){var e,t;try{if(this.data.byteLength>r.Siemens.CSA2_MAGIC_NUMBER.length){for(t=!0,e=0;e<r.Siemens.CSA2_MAGIC_NUMBER.length;e+=1)t&=this.data.getUint8(e)===r.Siemens.CSA2_MAGIC_NUMBER[e];t?this.readHeaderAtOffset(r.Siemens.CSA2_MAGIC_NUMBER.length+4):this.readHeaderAtOffset(0)}}catch(n){console.log(n)}return this.output},r.Siemens.prototype.readHeaderAtOffset=function(e){var t,n;if(this.output+="\n",(t=r.Utils.swap32(this.data.getUint32(e)))<1||t>128)return this.output;for(e+=4,e+=4,n=0;n<t&&-1!==(e=this.readTag(e));n+=1);return this.output},r.Siemens.prototype.readTag=function(e){var t,n,i;for(t=this.readString(e,r.Siemens.NAME_LENGTH),e+=r.Siemens.NAME_LENGTH,e+=4,e+=4,e+=4,i=r.Utils.swap32(this.data.getUint32(e)),e+=4,e+=4,this.output+="    "+t+"=",n=0;n<i&&-1!==(e=this.readItem(e));n+=1)e%4!==0&&(e+=4-e%4);return this.output+="\n",e},r.Siemens.prototype.readString=function(e,t){var n,r,i="";for(r=0;r<t&&0!==(n=this.data.getUint8(e+r));r+=1)i+=String.fromCharCode(n);return i},r.Siemens.prototype.readItem=function(e){var t;return e+(t=r.Utils.swap32(this.data.getUint32(e)))>this.data.buffer.length?-1:(e+=16,t>0&&(this.output+=this.readString(e,t)+" "),e+t)},r.Siemens.prototype.canRead=function(e,t){return e===r.Siemens.GROUP_CSA&&(t===r.Siemens.ELEMENT_CSA1||t===r.Siemens.ELEMENT_CSA2)},"undefined"!==typeof e&&e.exports&&(e.exports=r.Siemens)},function(e,t,n){"use strict";var r=r||{};r.RLE=r.RLE||function(){this.rawData=null,this.bytesRead=0,this.bytesPut=0,this.segElemPut=0,this.numSegments=0,this.segmentOffsets=[],this.littleEndian=!0,this.segmentIndex=0,this.numElements=0,this.size=0,this.output=null},r.RLE.HEADER_SIZE=64,r.RLE.prototype.decode=function(e,t,n){var r;for(this.rawData=new DataView(e),this.littleEndian=t,this.numElements=n,this.readHeader(),this.output=new DataView(new ArrayBuffer(this.size)),r=0;r<this.numSegments;r+=1)this.readNextSegment();return this.processData()},r.RLE.prototype.processData=function(){var e,t,n,r;if(1===this.numSegments)return this.output;if(2===this.numSegments){for(n=new DataView(new ArrayBuffer(this.size)),e=0;e<this.numElements;e+=1)t=(255&this.output.getInt8(e))<<8|255&this.output.getInt8(e+this.numElements),n.setInt16(2*e,t,this.littleEndian);return n}if(3===this.numSegments){for(n=new DataView(new ArrayBuffer(this.size)),r=2*this.numElements,e=0;e<this.numElements;e+=1)n.setInt8(3*e,this.output.getInt8(e)),n.setInt8(3*e+1,this.output.getInt8(e+this.numElements)),n.setInt8(3*e+2,this.output.getInt8(e+r));return n}throw new Error("RLE data with "+this.numSegments+" segments is not supported!")},r.RLE.prototype.readHeader=function(){var e;for(this.numSegments=this.getInt32(),this.size=this.numElements*this.numSegments,e=0;e<this.numSegments;e+=1)this.segmentOffsets[e]=this.getInt32();this.bytesRead=r.RLE.HEADER_SIZE},r.RLE.prototype.hasValidInput=function(){return this.bytesRead<this.rawData.buffer.byteLength&&this.bytesPut<this.size&&this.segElemPut<this.numElements},r.RLE.prototype.readNextSegment=function(){var e;for(this.bytesRead=this.segmentOffsets[this.segmentIndex],this.segElemPut=0;this.hasValidInput();)(e=this.get())>=0&&e<128?this.readLiteral(e):e<=-1&&e>-128?this.readEncoded(e):-128===e&&console.warn("RLE: unsupported code!");this.segmentIndex+=1},r.RLE.prototype.readLiteral=function(e){var t,n=e+1;if(this.hasValidInput())for(t=0;t<n;t+=1)this.put(this.get());else console.warn("RLE: insufficient data!")},r.RLE.prototype.readEncoded=function(e){var t,n=1-e,r=this.get();for(t=0;t<n;t+=1)this.put(r)},r.RLE.prototype.getInt32=function(){var e=this.rawData.getInt32(this.bytesRead,this.littleEndian);return this.bytesRead+=4,e},r.RLE.prototype.getInt16=function(){var e=this.rawData.getInt16(this.bytesRead,this.littleEndian);return this.bytesRead+=2,e},r.RLE.prototype.get=function(){var e=this.rawData.getInt8(this.bytesRead);return this.bytesRead+=1,e},r.RLE.prototype.put=function(e){this.output.setInt8(this.bytesPut,e),this.bytesPut+=1,this.segElemPut+=1},"undefined"!==typeof e&&e.exports&&(e.exports=r.RLE)},function(e,t,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.ComponentSpec=r.lossless.ComponentSpec||n(109),r.lossless.DataStream=r.lossless.DataStream||n(44),r.lossless.Decoder=r.lossless.Decoder||n(170),r.lossless.FrameHeader=r.lossless.FrameHeader||n(114),r.lossless.HuffmanTable=r.lossless.HuffmanTable||n(110),r.lossless.QuantizationTable=r.lossless.QuantizationTable||n(111),r.lossless.ScanComponent=r.lossless.ScanComponent||n(113),r.lossless.ScanHeader=r.lossless.ScanHeader||n(112),r.lossless.Utils=r.lossless.Utils||n(60),"undefined"!==typeof e&&e.exports&&(e.exports=r)},function(e,t,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.ComponentSpec=r.lossless.ComponentSpec||function(){this.hSamp=0,this.quantTableSel=0,this.vSamp=0},"undefined"!==typeof e&&e.exports&&(e.exports=r.lossless.ComponentSpec)},function(e,t,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.DataStream=r.lossless.DataStream||n(44),r.lossless.Utils=r.lossless.Utils||n(60),r.lossless.HuffmanTable=r.lossless.HuffmanTable||function(){this.l=r.lossless.Utils.createArray(4,2,16),this.th=[],this.v=r.lossless.Utils.createArray(4,2,16,200),this.tc=r.lossless.Utils.createArray(4,2),this.tc[0][0]=0,this.tc[1][0]=0,this.tc[2][0]=0,this.tc[3][0]=0,this.tc[0][1]=0,this.tc[1][1]=0,this.tc[2][1]=0,this.tc[3][1]=0,this.th[0]=0,this.th[1]=0,this.th[2]=0,this.th[3]=0},r.lossless.HuffmanTable.MSB=2147483648,r.lossless.HuffmanTable.prototype.read=function(e,t){var n,r,i,a,o,s,u=0;for(n=e.get16(),u+=2;u<n;){if(u+=1,(i=15&(r=e.get8()))>3)throw new Error("ERROR: Huffman table ID > 3");if((a=r>>4)>2)throw new Error("ERROR: Huffman table [Table class > 2 ]");for(this.th[i]=1,this.tc[i][a]=1,o=0;o<16;o+=1)this.l[i][a][o]=e.get8(),u+=1;for(o=0;o<16;o+=1)for(s=0;s<this.l[i][a][o];s+=1){if(u>n)throw new Error("ERROR: Huffman table format error [count>Lh]");this.v[i][a][o][s]=e.get8(),u+=1}}if(u!==n)throw new Error("ERROR: Huffman table format error [count!=Lf]");for(o=0;o<4;o+=1)for(s=0;s<2;s+=1)0!==this.tc[o][s]&&this.buildHuffTable(t[o][s],this.l[o][s],this.v[o][s]);return 1},r.lossless.HuffmanTable.prototype.buildHuffTable=function(e,t,n){var i,a,o,s,u;for(256,a=0,o=0;o<8;o+=1)for(s=0;s<t[o];s+=1)for(u=0;u<256>>o+1;u+=1)e[a]=n[o][s]|o+1<<8,a+=1;for(o=1;a<256;o+=1,a+=1)e[a]=o|r.lossless.HuffmanTable.MSB;for(i=1,a=0,o=8;o<16;o+=1)for(s=0;s<t[o];s+=1){for(u=0;u<256>>o-7;u+=1)e[256*i+a]=n[o][s]|o+1<<8,a+=1;if(a>=256){if(a>256)throw new Error("ERROR: Huffman table error(1)!");a=0,i+=1}}},"undefined"!==typeof e&&e.exports&&(e.exports=r.lossless.HuffmanTable)},function(e,t,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.DataStream=r.lossless.DataStream||n(44),r.lossless.Utils=r.lossless.Utils||n(60),r.lossless.QuantizationTable=r.lossless.QuantizationTable||function(){this.precision=[],this.tq=[],this.quantTables=r.lossless.Utils.createArray(4,64),this.tq[0]=0,this.tq[1]=0,this.tq[2]=0,this.tq[3]=0},r.lossless.QuantizationTable.enhanceQuantizationTable=function(e,t){var n;for(n=0;n<8;n+=1)e[t[0+n]]*=90,e[t[32+n]]*=90,e[t[16+n]]*=118,e[t[48+n]]*=49,e[t[40+n]]*=71,e[t[8+n]]*=126,e[t[56+n]]*=25,e[t[24+n]]*=106;for(n=0;n<8;n+=1)e[t[0+8*n]]*=90,e[t[4+8*n]]*=90,e[t[2+8*n]]*=118,e[t[6+8*n]]*=49,e[t[5+8*n]]*=71,e[t[1+8*n]]*=126,e[t[7+8*n]]*=25,e[t[3+8*n]]*=106;for(n=0;n<64;n+=1)e[n]>>=6},r.lossless.QuantizationTable.prototype.read=function(e,t){var n,i,a,o,s=0;for(n=e.get16(),s+=2;s<n;){if(s+=1,(a=15&(i=e.get8()))>3)throw new Error("ERROR: Quantization table ID > 3");if(this.precision[a]=i>>4,0===this.precision[a])this.precision[a]=8;else{if(1!==this.precision[a])throw new Error("ERROR: Quantization table precision error");this.precision[a]=16}if(this.tq[a]=1,8===this.precision[a]){for(o=0;o<64;o+=1){if(s>n)throw new Error("ERROR: Quantization table format error");this.quantTables[a][o]=e.get8(),s+=1}r.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[a],t)}else{for(o=0;o<64;o+=1){if(s>n)throw new Error("ERROR: Quantization table format error");this.quantTables[a][o]=e.get16(),s+=2}r.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[a],t)}}if(s!==n)throw new Error("ERROR: Quantization table error [count!=Lq]");return 1},"undefined"!==typeof e&&e.exports&&(e.exports=r.lossless.QuantizationTable)},function(e,t,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.DataStream=r.lossless.DataStream||n(44),r.lossless.ScanComponent=r.lossless.ScanComponent||n(113),r.lossless.ScanHeader=r.lossless.ScanHeader||function(){this.ah=0,this.al=0,this.numComp=0,this.selection=0,this.spectralEnd=0,this.components=[]},r.lossless.ScanHeader.prototype.read=function(e){var t,n,i,a=0;for(t=e.get16(),a+=2,this.numComp=e.get8(),a+=1,n=0;n<this.numComp;n+=1){if(this.components[n]=new r.lossless.ScanComponent,a>t)throw new Error("ERROR: scan header format error");this.components[n].scanCompSel=e.get8(),a+=1,i=e.get8(),a+=1,this.components[n].dcTabSel=i>>4,this.components[n].acTabSel=15&i}if(this.selection=e.get8(),a+=1,this.spectralEnd=e.get8(),a+=1,i=e.get8(),this.ah=i>>4,this.al=15&i,(a+=1)!==t)throw new Error("ERROR: scan header format error [count!=Ns]");return 1},"undefined"!==typeof e&&e.exports&&(e.exports=r.lossless.ScanHeader)},function(e,t,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.ScanComponent=r.lossless.ScanComponent||function(){this.acTabSel=0,this.dcTabSel=0,this.scanCompSel=0},"undefined"!==typeof e&&e.exports&&(e.exports=r.lossless.ScanComponent)},function(e,t,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.ComponentSpec=r.lossless.ComponentSpec||n(109),r.lossless.DataStream=r.lossless.DataStream||n(44),r.lossless.FrameHeader=r.lossless.FrameHeader||function(){this.components=[],this.dimX=0,this.dimY=0,this.numComp=0,this.precision=0},r.lossless.FrameHeader.prototype.read=function(e){var t,n,i,a,o=0;for(t=e.get16(),o+=2,this.precision=e.get8(),o+=1,this.dimY=e.get16(),o+=2,this.dimX=e.get16(),o+=2,this.numComp=e.get8(),o+=1,n=1;n<=this.numComp;n+=1){if(o>t)throw new Error("ERROR: frame format error");if(i=e.get8(),(o+=1)>=t)throw new Error("ERROR: frame format error [c>=Lf]");a=e.get8(),o+=1,this.components[i]||(this.components[i]=new r.lossless.ComponentSpec),this.components[i].hSamp=a>>4,this.components[i].vSamp=15&a,this.components[i].quantTableSel=e.get8(),o+=1}if(o!==t)throw new Error("ERROR: frame format error [Lf!=count]");return 1},"undefined"!==typeof e&&e.exports&&(e.exports=r.lossless.FrameHeader)},function(e,t){var n={Unkown:0,Grayscale:1,AdobeRGB:2,RGB:3,CYMK:4},r=function(){"use strict";var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,r=799,i=3406,a=2276,o=1567,s=3784,u=5793,l=2896;function c(){}function f(e,t){for(var n,r,i=0,a=[],o=16;o>0&&!e[o-1];)o--;a.push({children:[],index:0});var s,u=a[0];for(n=0;n<o;n++){for(r=0;r<e[n];r++){for((u=a.pop()).children[u.index]=t[i];u.index>0;)u=a.pop();for(u.index++,a.push(u);a.length<=n;)a.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s;i++}n+1<o&&(a.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s)}return a[0].children}function h(e,t,n){return 64*((e.blocksPerLine+1)*t+n)}function d(t,n,r,i,a,o,s,u,l){r.precision,r.samplesPerLine,r.scanLines;var c=r.mcusPerLine,f=r.progressive,d=(r.maxH,r.maxV,n),p=0,m=0;function g(){if(m>0)return m--,p>>m&1;if(255==(p=t[n++])){var e=t[n++];if(e)throw"unexpected marker: "+(p<<8|e).toString(16)}return m=7,p>>>7}function v(e){for(var t,n=e;null!==(t=g());){if("number"===typeof(n=n[t]))return n;if("object"!==typeof n)throw"invalid huffman sequence"}return null}function y(e){for(var t=0;e>0;){var n=g();if(null===n)return;t=t<<1|n,e--}return t}function b(e){var t=y(e);return t>=1<<e-1?t:t+(-1<<e)+1}var w=0;var S,x=0;function _(e,t,n,r,i){var a=n%c;t(e,h(e,(n/c|0)*e.v+r,a*e.h+i))}function T(e,t,n){t(e,h(e,n/e.blocksPerLine|0,n%e.blocksPerLine))}var E,k,C,A,O,I,M=i.length;I=f?0===o?0===u?function(e,t){var n=v(e.huffmanTableDC),r=0===n?0:b(n)<<l;e.blockData[t]=e.pred+=r}:function(e,t){e.blockData[t]|=g()<<l}:0===u?function(t,n){if(w>0)w--;else for(var r=o,i=s;r<=i;){var a=v(t.huffmanTableAC),u=15&a,c=a>>4;if(0!==u){var f=e[r+=c];t.blockData[n+f]=b(u)*(1<<l),r++}else{if(c<15){w=y(c)+(1<<c)-1;break}r+=16}}}:function(t,n){for(var r=o,i=s,a=0;r<=i;){var u=e[r];switch(x){case 0:var c=v(t.huffmanTableAC),f=15&c;if(a=c>>4,0===f)a<15?(w=y(a)+(1<<a),x=4):(a=16,x=1);else{if(1!==f)throw"invalid ACn encoding";S=b(f),x=a?2:3}continue;case 1:case 2:t.blockData[n+u]?t.blockData[n+u]+=g()<<l:0===--a&&(x=2==x?3:0);break;case 3:t.blockData[n+u]?t.blockData[n+u]+=g()<<l:(t.blockData[n+u]=S<<l,x=0);break;case 4:t.blockData[n+u]&&(t.blockData[n+u]+=g()<<l)}r++}4===x&&0===--w&&(x=0)}:function(t,n){var r=v(t.huffmanTableDC),i=0===r?0:b(r);t.blockData[n]=t.pred+=i;for(var a=1;a<64;){var o=v(t.huffmanTableAC),s=15&o,u=o>>4;if(0!==s){var l=e[a+=u];t.blockData[n+l]=b(s),a++}else{if(u<15)break;a+=16}}};var D,R,P,N,L=0;for(R=1==M?i[0].blocksPerLine*i[0].blocksPerColumn:c*r.mcusPerColumn,a||(a=R);L<R;){for(k=0;k<M;k++)i[k].pred=0;if(w=0,1==M)for(E=i[0],O=0;O<a;O++)T(E,I,L),L++;else for(O=0;O<a;O++){for(k=0;k<M;k++)for(P=(E=i[k]).h,N=E.v,C=0;C<N;C++)for(A=0;A<P;A++)_(E,I,L,C,A);L++}if(m=0,(D=t[n]<<8|t[n+1])<=65280)throw"marker was not found";if(!(D>=65488&&D<=65495))break;n+=2}return n-d}function p(e,n,c){var f,h,d,p,m,g,v,y,b,w,S=e.quantizationTable;for(w=0;w<64;w++)c[w]=e.blockData[n+w]*S[w];for(w=0;w<8;++w){var x=8*w;0!==c[1+x]||0!==c[2+x]||0!==c[3+x]||0!==c[4+x]||0!==c[5+x]||0!==c[6+x]||0!==c[7+x]?(f=u*c[0+x]+128>>8,h=u*c[4+x]+128>>8,d=c[2+x],p=c[6+x],m=l*(c[1+x]-c[7+x])+128>>8,y=l*(c[1+x]+c[7+x])+128>>8,g=c[3+x]<<4,v=c[5+x]<<4,b=f-h+1>>1,f=f+h+1>>1,h=b,b=d*s+p*o+128>>8,d=d*o-p*s+128>>8,p=b,b=m-v+1>>1,m=m+v+1>>1,v=b,b=y+g+1>>1,g=y-g+1>>1,y=b,b=f-p+1>>1,f=f+p+1>>1,p=b,b=h-d+1>>1,h=h+d+1>>1,d=b,b=m*a+y*i+2048>>12,m=m*i-y*a+2048>>12,y=b,b=g*r+v*t+2048>>12,g=g*t-v*r+2048>>12,v=b,c[0+x]=f+y,c[7+x]=f-y,c[1+x]=h+v,c[6+x]=h-v,c[2+x]=d+g,c[5+x]=d-g,c[3+x]=p+m,c[4+x]=p-m):(b=u*c[0+x]+512>>10,c[0+x]=b,c[1+x]=b,c[2+x]=b,c[3+x]=b,c[4+x]=b,c[5+x]=b,c[6+x]=b,c[7+x]=b)}for(w=0;w<8;++w){var _=w;0!==c[8+_]||0!==c[16+_]||0!==c[24+_]||0!==c[32+_]||0!==c[40+_]||0!==c[48+_]||0!==c[56+_]?(f=u*c[0+_]+2048>>12,h=u*c[32+_]+2048>>12,d=c[16+_],p=c[48+_],m=l*(c[8+_]-c[56+_])+2048>>12,y=l*(c[8+_]+c[56+_])+2048>>12,g=c[24+_],v=c[40+_],b=f-h+1>>1,f=f+h+1>>1,h=b,b=d*s+p*o+2048>>12,d=d*o-p*s+2048>>12,p=b,b=m-v+1>>1,m=m+v+1>>1,v=b,b=y+g+1>>1,g=y-g+1>>1,y=b,b=f-p+1>>1,f=f+p+1>>1,p=b,b=h-d+1>>1,h=h+d+1>>1,d=b,b=m*a+y*i+2048>>12,m=m*i-y*a+2048>>12,y=b,b=g*r+v*t+2048>>12,g=g*t-v*r+2048>>12,v=b,c[0+_]=f+y,c[56+_]=f-y,c[8+_]=h+v,c[48+_]=h-v,c[16+_]=d+g,c[40+_]=d-g,c[24+_]=p+m,c[32+_]=p-m):(b=u*c[w+0]+8192>>14,c[0+_]=b,c[8+_]=b,c[16+_]=b,c[24+_]=b,c[32+_]=b,c[40+_]=b,c[48+_]=b,c[56+_]=b)}for(w=0;w<64;++w){var T=n+w,E=c[w];E=E<=-2056/e.bitConversion?0:E>=2024/e.bitConversion?255/e.bitConversion:E+2056/e.bitConversion>>4,e.blockData[T]=E}}function m(e,t){for(var n=t.blocksPerLine,r=t.blocksPerColumn,i=new Int32Array(64),a=0;a<r;a++)for(var o=0;o<n;o++){p(t,h(t,a,o),i)}return t.blockData}function g(e){return e<=0?0:e>=255?255:0|e}return c.prototype={load:function(e){var t=function(e){this.parse(e),this.onload&&this.onload()}.bind(this);if(e.indexOf("data:")>-1){for(var n=e.indexOf("base64,")+7,r=atob(e.substring(n)),i=new Uint8Array(r.length),a=r.length-1;a>=0;a--)i[a]=r.charCodeAt(a);t(r)}else{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=function(){var e=new Uint8Array(o.response);t(e)}.bind(this),o.send(null)}},parse:function(t){function r(){var e=t[u]<<8|t[u+1];return u+=2,e}function i(){var e=r(),n=t.subarray(u,u+e-2);return u+=n.length,n}function a(e){for(var t=Math.ceil(e.samplesPerLine/8/e.maxH),n=Math.ceil(e.scanLines/8/e.maxV),r=0;r<e.components.length;r++){H=e.components[r];var i=Math.ceil(Math.ceil(e.samplesPerLine/8)*H.h/e.maxH),a=Math.ceil(Math.ceil(e.scanLines/8)*H.v/e.maxV),o=t*H.h,s=64*(n*H.v)*(o+1);H.blockData=new Int16Array(s),H.blocksPerLine=i,H.blocksPerColumn=a}e.mcusPerLine=t,e.mcusPerColumn=n}var o,s,u=0,l=(t.length,null),c=null,h=[],p=[],g=[],v=r();if(65496!=v)throw"SOI not found";for(v=r();65497!=v;){var y,b;switch(v){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var w=i();65504===v&&74===w[0]&&70===w[1]&&73===w[2]&&70===w[3]&&0===w[4]&&(l={version:{major:w[5],minor:w[6]},densityUnits:w[7],xDensity:w[8]<<8|w[9],yDensity:w[10]<<8|w[11],thumbWidth:w[12],thumbHeight:w[13],thumbData:w.subarray(14,14+3*w[12]*w[13])}),65518===v&&65===w[0]&&100===w[1]&&111===w[2]&&98===w[3]&&101===w[4]&&0===w[5]&&(c={version:w[6],flags0:w[7]<<8|w[8],flags1:w[9]<<8|w[10],transformCode:w[11]});break;case 65499:for(var S=r()+u-2;u<S;){var x=t[u++],_=new Int32Array(64);if(x>>4===0)for(y=0;y<64;y++){_[e[y]]=t[u++]}else{if(x>>4!==1)throw"DQT: invalid table spec";for(y=0;y<64;y++){_[e[y]]=r()}}h[15&x]=_}break;case 65472:case 65473:case 65474:if(o)throw"Only single frame JPEGs supported";r(),(o={}).extended=65473===v,o.progressive=65474===v,o.precision=t[u++],o.scanLines=r(),o.samplesPerLine=r(),o.components=[],o.componentIds={};var T,E=t[u++],k=0,C=0;for(W=0;W<E;W++){T=t[u];var A=t[u+1]>>4,O=15&t[u+1];k<A&&(k=A),C<O&&(C=O);var I=t[u+2];b=o.components.push({h:A,v:O,quantizationTable:h[I],quantizationTableId:I,bitConversion:255/((1<<o.precision)-1)}),o.componentIds[T]=b-1,u+=3}o.maxH=k,o.maxV=C,a(o);break;case 65476:var M=r();for(W=2;W<M;){var D=t[u++],R=new Uint8Array(16),P=0;for(y=0;y<16;y++,u++)P+=R[y]=t[u];var N=new Uint8Array(P);for(y=0;y<P;y++,u++)N[y]=t[u];W+=17+P,(D>>4===0?g:p)[15&D]=f(R,N)}break;case 65501:r(),s=r();break;case 65498:r();var L=t[u++],F=[];for(W=0;W<L;W++){var B=o.componentIds[t[u++]];H=o.components[B];var z=t[u++];H.huffmanTableDC=g[z>>4],H.huffmanTableAC=p[15&z],F.push(H)}var U=t[u++],j=t[u++],V=t[u++],G=d(t,u,o,F,s,U,j,V>>4,15&V);u+=G;break;default:if(255==t[u-3]&&t[u-2]>=192&&t[u-2]<=254){u-=3;break}throw"unknown JPEG marker "+v.toString(16)}v=r()}switch(this.width=o.samplesPerLine,this.height=o.scanLines,this.jfif=l,this.adobe=c,this.components=[],o.components.length){case 1:this.colorspace=n.Grayscale;break;case 3:this.adobe?this.colorspace=n.AdobeRGB:this.colorspace=n.RGB;break;case 4:this.colorspace=n.CYMK;break;default:this.colorspace=n.Unknown}for(var W=0;W<o.components.length;W++){var H;(H=o.components[W]).quantizationTable||null===H.quantizationTableId||(H.quantizationTable=h[H.quantizationTableId]),this.components.push({output:m(0,H),scaleX:H.h/o.maxH,scaleY:H.v/o.maxV,blocksPerLine:H.blocksPerLine,blocksPerColumn:H.blocksPerColumn,bitConversion:H.bitConversion})}},getData16:function(e,t){if(1!==this.components.length)throw"Unsupported color mode";var n,r,i,a,o,s,u=this.width/e,l=this.height/t,c=0,f=this.components.length,d=new Uint16Array(e*t*f),p=new Uint16Array((this.components[0].blocksPerLine<<3)*this.components[0].blocksPerColumn*8);for(s=0;s<f;s++){for(var m,g,v,y=(n=this.components[s]).blocksPerLine,b=n.blocksPerColumn,w=y<<3,S=0,x=0;x<b;x++)for(var _=x<<3,T=0;T<y;T++){var E=h(n,x,T),k=(c=0,T<<3);for(m=0;m<8;m++){S=(_+m)*w;for(g=0;g<8;g++)p[S+k+g]=n.output[E+c++]}}for(r=n.scaleX*u,i=n.scaleY*l,c=s,o=0;o<t;o++)for(a=0;a<e;a++)v=(0|o*i)*w+(0|a*r),d[c]=p[v],c+=f}return d},getData:function(e,t){var n,r,i,a,o,s,u,l,c,f,d,p,m,v,y,b=this.width/e,w=this.height/t,S=0,x=this.components.length,_=e*t*x,T=new Uint8Array(_),E=new Uint8Array((this.components[0].blocksPerLine<<3)*this.components[0].blocksPerColumn*8);for(s=0;s<x;s++){for(var k,C,A,O=(n=this.components[s]).blocksPerLine,I=n.blocksPerColumn,M=O<<3,D=0,R=0;R<I;R++)for(var P=R<<3,N=0;N<O;N++){var L=h(n,R,N),F=(S=0,N<<3);for(k=0;k<8;k++){D=(P+k)*M;for(C=0;C<8;C++)E[D+F+C]=n.output[L+S++]*n.bitConversion}}for(r=n.scaleX*b,i=n.scaleY*w,S=s,o=0;o<t;o++)for(a=0;a<e;a++)A=(0|o*i)*M+(0|a*r),T[S]=E[A],S+=x}switch(x){case 1:case 2:break;case 3:if(y=!0,this.adobe&&this.adobe.transformCode?y=!0:"undefined"!==typeof this.colorTransform&&(y=!!this.colorTransform),y)for(s=0;s<_;s+=x)u=T[s],l=T[s+1],p=g(u-179.456+1.402*(c=T[s+2])),m=g(u+135.459-.344*l-.714*c),v=g(u-226.816+1.772*l),T[s]=p,T[s+1]=m,T[s+2]=v;break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";if(y=!1,this.adobe&&this.adobe.transformCode?y=!0:"undefined"!==typeof this.colorTransform&&(y=!!this.colorTransform),y)for(s=0;s<_;s+=x)u=T[s],l=T[s+1],f=g(434.456-u-1.402*(c=T[s+2])),d=g(119.541-u+.344*l+.714*c),u=g(481.816-u-1.772*l),T[s]=f,T[s+1]=d,T[s+2]=u;break;default:throw"Unsupported color mode"}return T}},c}();"undefined"!==typeof e&&e.exports&&(e.exports={JpegImage:r})},function(e,t,n){"use strict";var r=function(){var e={LL:0,LH:1,HL:1,HH:2};function t(){this.failOnCorruptedImage=!1}function n(e,t){e.x0=Math.ceil(t.XOsiz/e.XRsiz),e.x1=Math.ceil(t.Xsiz/e.XRsiz),e.y0=Math.ceil(t.YOsiz/e.YRsiz),e.y1=Math.ceil(t.Ysiz/e.YRsiz),e.width=e.x1-e.x0,e.height=e.y1-e.y0}function r(e,t){for(var n,r=e.SIZ,i=[],a=Math.ceil((r.Xsiz-r.XTOsiz)/r.XTsiz),o=Math.ceil((r.Ysiz-r.YTOsiz)/r.YTsiz),s=0;s<o;s++)for(var u=0;u<a;u++)(n={}).tx0=Math.max(r.XTOsiz+u*r.XTsiz,r.XOsiz),n.ty0=Math.max(r.YTOsiz+s*r.YTsiz,r.YOsiz),n.tx1=Math.min(r.XTOsiz+(u+1)*r.XTsiz,r.Xsiz),n.ty1=Math.min(r.YTOsiz+(s+1)*r.YTsiz,r.Ysiz),n.width=n.tx1-n.tx0,n.height=n.ty1-n.ty0,n.components=[],i.push(n);e.tiles=i;for(var l=0,c=r.Csiz;l<c;l++)for(var f=t[l],h=0,d=i.length;h<d;h++){var p={};n=i[h],p.tcx0=Math.ceil(n.tx0/f.XRsiz),p.tcy0=Math.ceil(n.ty0/f.YRsiz),p.tcx1=Math.ceil(n.tx1/f.XRsiz),p.tcy1=Math.ceil(n.ty1/f.YRsiz),p.width=p.tcx1-p.tcx0,p.height=p.tcy1-p.tcy0,n.components[l]=p}}function a(e,t,n){var r=t.codingStyleParameters,i={};return r.entropyCoderWithCustomPrecincts?(i.PPx=r.precinctsSizes[n].PPx,i.PPy=r.precinctsSizes[n].PPy):(i.PPx=15,i.PPy=15),i.xcb_=n>0?Math.min(r.xcb,i.PPx-1):Math.min(r.xcb,i.PPx),i.ycb_=n>0?Math.min(r.ycb,i.PPy-1):Math.min(r.ycb,i.PPy),i}function o(e,t,n){var r=1<<n.PPx,i=1<<n.PPy,a=0===t.resLevel,o=1<<n.PPx+(a?0:-1),s=1<<n.PPy+(a?0:-1),u=t.trx1>t.trx0?Math.ceil(t.trx1/r)-Math.floor(t.trx0/r):0,l=t.try1>t.try0?Math.ceil(t.try1/i)-Math.floor(t.try0/i):0,c=u*l;t.precinctParameters={precinctWidth:r,precinctHeight:i,numprecinctswide:u,numprecinctshigh:l,numprecincts:c,precinctWidthInSubband:o,precinctHeightInSubband:s}}function l(e,t,n){var r,i,a,o,s=n.xcb_,u=n.ycb_,l=1<<s,c=1<<u,f=t.tbx0>>s,h=t.tby0>>u,d=t.tbx1+l-1>>s,p=t.tby1+c-1>>u,m=t.resolution.precinctParameters,g=[],v=[];for(i=h;i<p;i++)for(r=f;r<d;r++){if((a={cbx:r,cby:i,tbx0:l*r,tby0:c*i,tbx1:l*(r+1),tby1:c*(i+1)}).tbx0_=Math.max(t.tbx0,a.tbx0),a.tby0_=Math.max(t.tby0,a.tby0),a.tbx1_=Math.min(t.tbx1,a.tbx1),a.tby1_=Math.min(t.tby1,a.tby1),o=Math.floor((a.tbx0_-t.tbx0)/m.precinctWidthInSubband)+Math.floor((a.tby0_-t.tby0)/m.precinctHeightInSubband)*m.numprecinctswide,a.precinctNumber=o,a.subbandType=t.type,a.Lblock=3,!(a.tbx1_<=a.tbx0_||a.tby1_<=a.tby0_)){g.push(a);var y=v[o];void 0!==y?(r<y.cbxMin?y.cbxMin=r:r>y.cbxMax&&(y.cbxMax=r),i<y.cbyMin?y.cbxMin=i:i>y.cbyMax&&(y.cbyMax=i)):v[o]=y={cbxMin:r,cbyMin:i,cbxMax:r,cbyMax:i},a.precinct=y}}t.codeblockParameters={codeblockWidth:s,codeblockHeight:u,numcodeblockwide:d-f+1,numcodeblockhigh:p-h+1},t.codeblocks=g,t.precincts=v}function c(e,t,n){for(var r=[],i=e.subbands,a=0,o=i.length;a<o;a++)for(var s=i[a].codeblocks,u=0,l=s.length;u<l;u++){var c=s[u];c.precinctNumber===t&&r.push(c)}return{layerNumber:n,codeblocks:r}}function f(e){for(var t=e.SIZ,n=e.currentTile.index,r=e.tiles[n],i=r.codingStyleDefaultParameters.layersCount,a=t.Csiz,o=0,s=0;s<a;s++)o=Math.max(o,r.components[s].codingStyleParameters.decompositionLevelsCount);var u=0,l=0,f=0,h=0;this.nextPacket=function(){for(;u<i;u++){for(;l<=o;l++){for(;f<a;f++){var e=r.components[f];if(!(l>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[l],n=t.precinctParameters.numprecincts;h<n;){var s=c(t,h,u);return h++,s}h=0}}f=0}l=0}}}function h(e){for(var t=e.SIZ,n=e.currentTile.index,r=e.tiles[n],i=r.codingStyleDefaultParameters.layersCount,a=t.Csiz,o=0,s=0;s<a;s++)o=Math.max(o,r.components[s].codingStyleParameters.decompositionLevelsCount);var u=0,l=0,f=0,h=0;this.nextPacket=function(){for(;u<=o;u++){for(;l<i;l++){for(;f<a;f++){var e=r.components[f];if(!(u>e.codingStyleParameters.decompositionLevelsCount)){for(var t=e.resolutions[u],n=t.precinctParameters.numprecincts;h<n;){var s=c(t,h,l);return h++,s}h=0}}f=0}l=0}}}function d(e){var t,n,r,i,a=e.SIZ,o=e.currentTile.index,s=e.tiles[o],u=s.codingStyleDefaultParameters.layersCount,l=a.Csiz,f=0;for(r=0;r<l;r++){var h=s.components[r];f=Math.max(f,h.codingStyleParameters.decompositionLevelsCount)}var d=new Int32Array(f+1);for(n=0;n<=f;++n){var p=0;for(r=0;r<l;++r){var m=s.components[r].resolutions;n<m.length&&(p=Math.max(p,m[n].precinctParameters.numprecincts))}d[n]=p}t=0,n=0,r=0,i=0,this.nextPacket=function(){for(;n<=f;n++){for(;i<d[n];i++){for(;r<l;r++){var e=s.components[r];if(!(n>e.codingStyleParameters.decompositionLevelsCount)){var a=e.resolutions[n],o=a.precinctParameters.numprecincts;if(!(i>=o)){for(;t<u;){var h=c(a,i,t);return t++,h}t=0}}}r=0}i=0}}}function p(e){var t=e.SIZ,n=e.currentTile.index,r=e.tiles[n],i=r.codingStyleDefaultParameters.layersCount,a=t.Csiz,o=w(r),s=o,u=0,l=0,f=0,h=0,d=0;this.nextPacket=function(){for(;d<s.maxNumHigh;d++){for(;h<s.maxNumWide;h++){for(;f<a;f++){for(var e=r.components[f],t=e.codingStyleParameters.decompositionLevelsCount;l<=t;l++){var n=e.resolutions[l],p=o.components[f].resolutions[l],m=b(h,d,p,s,n);if(null!==m){for(;u<i;){var g=c(n,m,u);return u++,g}u=0}}l=0}f=0}h=0}}}function y(e){var t=e.SIZ,n=e.currentTile.index,r=e.tiles[n],i=r.codingStyleDefaultParameters.layersCount,a=t.Csiz,o=w(r),s=0,u=0,l=0,f=0,h=0;this.nextPacket=function(){for(;l<a;++l){for(var e=r.components[l],t=o.components[l],n=e.codingStyleParameters.decompositionLevelsCount;h<t.maxNumHigh;h++){for(;f<t.maxNumWide;f++){for(;u<=n;u++){var d=e.resolutions[u],p=t.resolutions[u],m=b(f,h,p,t,d);if(null!==m){for(;s<i;){var g=c(d,m,s);return s++,g}s=0}}u=0}f=0}h=0}}}function b(e,t,n,r,i){var a=e*r.minWidth,o=t*r.minHeight;if(a%n.width!==0||o%n.height!==0)return null;var s=o/n.width*i.precinctParameters.numprecinctswide;return a/n.height+s}function w(e){for(var t=e.components.length,n=Number.MAX_VALUE,r=Number.MAX_VALUE,i=0,a=0,o=new Array(t),s=0;s<t;s++){for(var u=e.components[s],l=u.codingStyleParameters.decompositionLevelsCount,c=new Array(l+1),f=Number.MAX_VALUE,h=Number.MAX_VALUE,d=0,p=0,m=1,g=l;g>=0;--g){var v=u.resolutions[g],y=m*v.precinctParameters.precinctWidth,b=m*v.precinctParameters.precinctHeight;f=Math.min(f,y),h=Math.min(h,b),d=Math.max(d,v.precinctParameters.numprecinctswide),p=Math.max(p,v.precinctParameters.numprecinctshigh),c[g]={width:y,height:b},m<<=1}n=Math.min(n,f),r=Math.min(r,h),i=Math.max(i,d),a=Math.max(a,p),o[s]={resolutions:c,minWidth:f,minHeight:h,maxNumWide:d,maxNumHigh:p}}return{components:o,minWidth:n,minHeight:r,maxNumWide:i,maxNumHigh:a}}function S(e){for(var t=e.SIZ,n=e.currentTile.index,r=e.tiles[n],i=t.Csiz,s=0;s<i;s++){for(var u=r.components[s],c=u.codingStyleParameters.decompositionLevelsCount,m=[],g=[],v=0;v<=c;v++){var b,w=a(0,u,v),S={},x=1<<c-v;if(S.trx0=Math.ceil(u.tcx0/x),S.try0=Math.ceil(u.tcy0/x),S.trx1=Math.ceil(u.tcx1/x),S.try1=Math.ceil(u.tcy1/x),S.resLevel=v,o(0,S,w),m.push(S),0===v)(b={}).type="LL",b.tbx0=Math.ceil(u.tcx0/x),b.tby0=Math.ceil(u.tcy0/x),b.tbx1=Math.ceil(u.tcx1/x),b.tby1=Math.ceil(u.tcy1/x),b.resolution=S,l(0,b,w),g.push(b),S.subbands=[b];else{var _=1<<c-v+1,T=[];(b={}).type="HL",b.tbx0=Math.ceil(u.tcx0/_-.5),b.tby0=Math.ceil(u.tcy0/_),b.tbx1=Math.ceil(u.tcx1/_-.5),b.tby1=Math.ceil(u.tcy1/_),b.resolution=S,l(0,b,w),g.push(b),T.push(b),(b={}).type="LH",b.tbx0=Math.ceil(u.tcx0/_),b.tby0=Math.ceil(u.tcy0/_-.5),b.tbx1=Math.ceil(u.tcx1/_),b.tby1=Math.ceil(u.tcy1/_-.5),b.resolution=S,l(0,b,w),g.push(b),T.push(b),(b={}).type="HH",b.tbx0=Math.ceil(u.tcx0/_-.5),b.tby0=Math.ceil(u.tcy0/_-.5),b.tbx1=Math.ceil(u.tcx1/_-.5),b.tby1=Math.ceil(u.tcy1/_-.5),b.resolution=S,l(0,b,w),g.push(b),T.push(b),S.subbands=T}}u.resolutions=m,u.subbands=g}var E=r.codingStyleDefaultParameters.progressionOrder;switch(E){case 0:r.packetsIterator=new f(e);break;case 1:r.packetsIterator=new h(e);break;case 2:r.packetsIterator=new d(e);break;case 3:r.packetsIterator=new p(e);break;case 4:r.packetsIterator=new y(e);break;default:throw new Error("JPX Error: Unsupported progression order "+E)}}function x(e,t,n,r){var i,a=0,o=0,s=!1;function u(e){for(;o<e;){if(n+a>=t.length)throw new Error("Unexpected EOF");var r=t[n+a];a++,s?(i=i<<7|r,o+=7,s=!1):(i=i<<8|r,o+=8),255===r&&(s=!0)}return i>>>(o-=e)&(1<<e)-1}function l(e){return 255===t[n+a-1]&&t[n+a]===e?(c(1),!0):255===t[n+a]&&t[n+a+1]===e&&(c(2),!0)}function c(e){a+=e}function f(){o=0,s&&(a++,s=!1)}function h(){if(0===u(1))return 1;if(0===u(1))return 2;var e=u(2);return e<3?e+3:(e=u(5))<31?e+6:(e=u(7))+37}for(var d=e.currentTile.index,p=e.tiles[d],g=e.COD.sopMarkerUsed,v=e.COD.ephMarkerUsed,y=p.packetsIterator;a<r;)try{f(),g&&l(145)&&c(4);var b=y.nextPacket();if(void 0===b)return;if(!u(1))continue;for(var w,S=b.layerNumber,x=[],_=0,T=b.codeblocks.length;_<T;_++){var E=(w=b.codeblocks[_]).precinct,A=w.cbx-E.cbxMin,O=w.cby-E.cbyMin,I=!1,M=!1;if(void 0!==w.included)I=!!u(1);else{var D,R;if(void 0!==(E=w.precinct).inclusionTree)D=E.inclusionTree;else{var P=E.cbxMax-E.cbxMin+1,N=E.cbyMax-E.cbyMin+1;D=new C(P,N),R=new k(P,N),E.inclusionTree=D,E.zeroBitPlanesTree=R}for(D.reset(A,O,S);;){if(a>=t.length)return;if(D.isAboveThreshold())break;if(D.isKnown())D.nextLevel();else if(u(1)){if(D.setKnown(),D.isLeaf()){w.included=!0,I=M=!0;break}D.nextLevel()}else D.incrementValue()}}if(I){if(M){for((R=E.zeroBitPlanesTree).reset(A,O);;){if(a>=t.length)return;if(u(1)){if(!R.nextLevel())break}else R.incrementValue()}w.zeroBitPlanes=R.value}for(var L=h();u(1);)w.Lblock++;var F=m(L),B=u((L<1<<F?F-1:F)+w.Lblock);x.push({codeblock:w,codingpasses:L,dataLength:B})}}for(f(),v&&l(146);x.length>0;){var z=x.shift();void 0===(w=z.codeblock).data&&(w.data=[]),w.data.push({data:t,start:n+a,end:n+a+z.dataLength,codingpasses:z.codingpasses}),a+=z.dataLength}}catch(U){return}return a}function _(e,t,n,r,a,o,s,u){for(var l=r.tbx0,c=r.tby0,f=r.tbx1-r.tbx0,h=r.codeblocks,d="H"===r.type.charAt(0)?1:0,p="H"===r.type.charAt(1)?t:0,m=0,g=h.length;m<g;++m){var v=h[m],y=v.tbx1_-v.tbx0_,b=v.tby1_-v.tby0_;if(0!==y&&0!==b&&void 0!==v.data){var w,S;w=new A(y,b,v.subbandType,v.zeroBitPlanes,o),S=2;var x,_,T,E=v.data,k=0,C=0;for(x=0,_=E.length;x<_;x++)k+=(T=E[x]).end-T.start,C+=T.codingpasses;var O=new Int16Array(k),I=0;for(x=0,_=E.length;x<_;x++){var M=(T=E[x]).data.subarray(T.start,T.end);O.set(M,I),I+=M.length}var D=new i(O,0,k);for(w.setDecoder(D),x=0;x<C;x++){switch(S){case 0:w.runSignificancePropogationPass();break;case 1:w.runMagnitudeRefinementPass();break;case 2:w.runCleanupPass(),u&&w.checkSegmentationSymbol()}S=(S+1)%3}var R,P,N,L=v.tbx0_-l+(v.tby0_-c)*f,F=w.coefficentsSign,B=w.coefficentsMagnitude,z=w.bitsDecoded,U=s?0:.5;I=0;var j="LL"!==r.type;for(x=0;x<b;x++){var V=2*(L/f|0)*(t-f)+d+p;for(R=0;R<y;R++){if(0!==(P=B[I])){P=(P+U)*a,0!==F[I]&&(P=-P),N=z[I];var G=j?V+(L<<1):L;e[G]=s&&N>=o?P:P*(1<<o-N)}L++,I++}L+=f-y}}}}function T(t,n,r){for(var i=n.components[r],a=i.codingStyleParameters,o=i.quantizationParameters,s=a.decompositionLevelsCount,u=o.SPqcds,l=o.scalarExpounded,c=o.guardBits,f=a.segmentationSymbolUsed,h=t.components[r].precision,d=a.reversibleTransformation,p=d?new M:new I,m=[],g=0,v=0;v<=s;v++){for(var y=i.resolutions[v],b=y.trx1-y.trx0,w=y.try1-y.try0,S=new Float32Array(b*w),x=0,T=y.subbands.length;x<T;x++){var E,k;l?(E=u[g].mu,k=u[g].epsilon,g++):(E=u[0].mu,k=u[0].epsilon+(v>0?1-v:0));var C=y.subbands[x],A=e[C.type];_(S,b,0,C,d?1:Math.pow(2,h+A-k)*(1+E/2048),c+k-1,d,f)}m.push({width:b,height:w,items:S})}var O=p.calculate(m,i.tcx0,i.tcy0);return{left:i.tcx0,top:i.tcy0,width:O.width,height:O.height,items:O.items}}function E(e,t){for(var n=e.SIZ.Csiz,r=e.tiles[t],i=0;i<n;i++){var a=r.components[i],o=void 0!==e.currentTile.QCC[i]?e.currentTile.QCC[i]:e.currentTile.QCD;a.quantizationParameters=o;var s=void 0!==e.currentTile.COC[i]?e.currentTile.COC[i]:e.currentTile.COD;a.codingStyleParameters=s}r.codingStyleDefaultParameters=e.currentTile.COD}t.prototype={parse:function(e){if(65359!==g(e,0))for(var t=0,n=e.length;t<n;){var r=8,i=v(e,t),a=v(e,t+4);if(t+=r,1===i&&(i=4294967296*v(e,t)+v(e,t+4),t+=8,r+=8),0===i&&(i=n-t+r),i<r)throw new Error("JPX Error: Invalid box field size");var o=i-r,l=!0;switch(a){case 1785737832:l=!1;break;case 1668246642:var c=e[t];e[t+1],e[t+2];if(1===c){var f=v(e,t+3);switch(f){case 16:case 17:case 18:break;default:u("Unknown colorspace "+f)}}else 2===c&&s("ICC profile not supported");break;case 1785737827:this.parseCodestream(e,t,t+o);break;case 1783636e3:218793738!==v(e,t)&&u("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:u("Unsupported header type "+a+" ("+String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a)+")")}l&&(t+=o)}else this.parseCodestream(e,0,e.length)},parseImageProperties:function(e){for(var t=e.getByte();t>=0;){if(65361===(t<<8|(t=e.getByte()))){e.skip(4);var n=e.getInt32()>>>0,r=e.getInt32()>>>0,i=e.getInt32()>>>0,a=e.getInt32()>>>0;e.skip(16);var o=e.getUint16();return this.width=n-i,this.height=r-a,this.componentsCount=o,void(this.bitsPerComponent=8)}}throw new Error("JPX Error: No size marker found in JPX stream")},parseCodestream:function(e,t,i){var a={};try{for(var o=!1,s=t;s+1<i;){var l=g(e,s);s+=2;var c,f,h,d,p,m,y=0;switch(l){case 65359:a.mainHeader=!0;break;case 65497:break;case 65361:y=g(e,s);var b={};b.Xsiz=v(e,s+4),b.Ysiz=v(e,s+8),b.XOsiz=v(e,s+12),b.YOsiz=v(e,s+16),b.XTsiz=v(e,s+20),b.YTsiz=v(e,s+24),b.XTOsiz=v(e,s+28),b.YTOsiz=v(e,s+32);var w=g(e,s+36);b.Csiz=w;var _=[];c=s+38;for(var k=0;k<w;k++){var C={precision:1+(127&e[c]),isSigned:!!(128&e[c]),XRsiz:e[c+1],YRsiz:e[c+1]};n(C,b),_.push(C)}a.SIZ=b,a.components=_,r(a,_),a.QCC=[],a.COC=[];break;case 65372:y=g(e,s);var A={};switch(c=s+2,31&(f=e[c++])){case 0:d=8,p=!0;break;case 1:d=16,p=!1;break;case 2:d=16,p=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+f)}for(A.noQuantization=8===d,A.scalarExpounded=p,A.guardBits=f>>5,h=[];c<y+s;){var O={};8===d?(O.epsilon=e[c++]>>3,O.mu=0):(O.epsilon=e[c]>>3,O.mu=(7&e[c])<<8|e[c+1],c+=2),h.push(O)}A.SPqcds=h,a.mainHeader?a.QCD=A:(a.currentTile.QCD=A,a.currentTile.QCC=[]);break;case 65373:y=g(e,s);var I,M={};switch(c=s+2,a.SIZ.Csiz<257?I=e[c++]:(I=g(e,c),c+=2),31&(f=e[c++])){case 0:d=8,p=!0;break;case 1:d=16,p=!1;break;case 2:d=16,p=!0;break;default:throw new Error("JPX Error: Invalid SQcd value "+f)}for(M.noQuantization=8===d,M.scalarExpounded=p,M.guardBits=f>>5,h=[];c<y+s;)O={},8===d?(O.epsilon=e[c++]>>3,O.mu=0):(O.epsilon=e[c]>>3,O.mu=(7&e[c])<<8|e[c+1],c+=2),h.push(O);M.SPqcds=h,a.mainHeader?a.QCC[I]=M:a.currentTile.QCC[I]=M;break;case 65362:y=g(e,s);var D={};c=s+2;var R=e[c++];D.entropyCoderWithCustomPrecincts=!!(1&R),D.sopMarkerUsed=!!(2&R),D.ephMarkerUsed=!!(4&R),D.progressionOrder=e[c++],D.layersCount=g(e,c),c+=2,D.multipleComponentTransform=e[c++],D.decompositionLevelsCount=e[c++],D.xcb=2+(15&e[c++]),D.ycb=2+(15&e[c++]);var P=e[c++];if(D.selectiveArithmeticCodingBypass=!!(1&P),D.resetContextProbabilities=!!(2&P),D.terminationOnEachCodingPass=!!(4&P),D.verticalyStripe=!!(8&P),D.predictableTermination=!!(16&P),D.segmentationSymbolUsed=!!(32&P),D.reversibleTransformation=e[c++],D.entropyCoderWithCustomPrecincts){for(var N=[];c<y+s;){var L=e[c++];N.push({PPx:15&L,PPy:L>>4})}D.precinctsSizes=N}var F=[];if(D.selectiveArithmeticCodingBypass&&F.push("selectiveArithmeticCodingBypass"),D.resetContextProbabilities&&F.push("resetContextProbabilities"),D.terminationOnEachCodingPass&&F.push("terminationOnEachCodingPass"),D.verticalyStripe&&F.push("verticalyStripe"),D.predictableTermination&&F.push("predictableTermination"),F.length>0)throw o=!0,new Error("JPX Error: Unsupported COD options ("+F.join(", ")+")");a.mainHeader?a.COD=D:(a.currentTile.COD=D,a.currentTile.COC=[]);break;case 65424:y=g(e,s),(m={}).index=g(e,s+2),m.length=v(e,s+4),m.dataEnd=m.length+s-2,m.partIndex=e[s+8],m.partsCount=e[s+9],a.mainHeader=!1,0===m.partIndex&&(m.COD=a.COD,m.COC=a.COC.slice(0),m.QCD=a.QCD,m.QCC=a.QCC.slice(0)),a.currentTile=m;break;case 65427:0===(m=a.currentTile).partIndex&&(E(a,m.index),S(a)),x(a,e,s,y=m.dataEnd-s);break;case 65365:case 65367:case 65368:case 65380:y=g(e,s);break;case 65363:throw new Error("JPX Error: Codestream code 0xFF53 (COC) is not implemented");default:throw new Error("JPX Error: Unknown codestream code: "+l.toString(16))}s+=y}}catch(B){if(o||this.failOnCorruptedImage)throw B;u("Trying to recover from "+B.message)}this.tiles=function(e){for(var t=e.SIZ,n=e.components,r=t.Csiz,i=[],a=0,o=e.tiles.length;a<o;a++){var s,u=e.tiles[a],l=[];for(s=0;s<r;s++)l[s]=T(e,u,s);var c=l[0];if(B=n[0].isSigned)var f=new Int16Array(c.items.length*r);else f=new Uint16Array(c.items.length*r);var h,d,p,m,g,v,y,b,w,S,x,_,E,k,C,A={left:c.left,top:c.top,width:c.width,height:c.height,items:f},O=0;if(u.codingStyleDefaultParameters.multipleComponentTransform){var I=4===r,M=l[0].items,D=l[1].items,R=l[2].items,P=I?l[3].items:null;d=.5+(128<<(h=n[0].precision-8)),m=-(g=.5*(p=255*(1<<h)));var N=u.components[0],L=r-3;if(y=M.length,N.codingStyleParameters.reversibleTransformation)for(v=0;v<y;v++,O+=L)b=M[v]+d,w=D[v],x=(_=b-((S=R[v])+w>>2))+S,E=_+w,f[O++]=x<=0?0:x>=p?255:x>>h,f[O++]=_<=0?0:_>=p?255:_>>h,f[O++]=E<=0?0:E>=p?255:E>>h;else for(v=0;v<y;v++,O+=L)b=M[v]+d,w=D[v],x=b+1.402*(S=R[v]),_=b-.34413*w-.71414*S,E=b+1.772*w,f[O++]=x<=0?0:x>=p?255:x>>h,f[O++]=_<=0?0:_>=p?255:_>>h,f[O++]=E<=0?0:E>=p?255:E>>h;if(I)for(v=0,O=3;v<y;v++,O+=4)k=P[v],f[O]=k<=m?0:k>=g?255:k+d>>h}else for(s=0;s<r;s++)if(8===n[s].precision){var F=l[s].items;for(d=.5+(128<<(h=n[s].precision-8)),m=-(p=127.5*(1<<h)),O=s,v=0,y=F.length;v<y;v++)C=F[v],f[O]=C<=m?0:C>=p?255:C+d>>h,O+=r}else{var B=n[s].isSigned;F=l[s].items;if(B)for(O=s,v=0,y=F.length;v<y;v++)f[O]=F[v],O+=r;else{d=.5+(128<<(h=n[s].precision-8));var z=Math.pow(2,n[s].precision)-1;for(O=s,v=0,y=F.length;v<y;v++)C=F[v],f[O]=Math.max(Math.min(C+d,z),0),O+=r}}i.push(A)}return i}(a),this.width=a.SIZ.Xsiz-a.SIZ.XOsiz,this.height=a.SIZ.Ysiz-a.SIZ.YOsiz,this.componentsCount=a.SIZ.Csiz}};var k=function(){function e(e,t){var n=m(Math.max(e,t))+1;this.levels=[];for(var r=0;r<n;r++){var i={width:e,height:t,items:[]};this.levels.push(i),e=Math.ceil(e/2),t=Math.ceil(t/2)}}return e.prototype={reset:function(e,t){for(var n,r=0,i=0;r<this.levels.length;){var a=e+t*(n=this.levels[r]).width;if(void 0!==n.items[a]){i=n.items[a];break}n.index=a,e>>=1,t>>=1,r++}r--,(n=this.levels[r]).items[n.index]=i,this.currentLevel=r,delete this.value},incrementValue:function(){var e=this.levels[this.currentLevel];e.items[e.index]++},nextLevel:function(){var e=this.currentLevel,t=this.levels[e],n=t.items[t.index];return--e<0?(this.value=n,!1):(this.currentLevel=e,(t=this.levels[e]).items[t.index]=n,!0)}},e}(),C=function(){function e(e,t){var n=m(Math.max(e,t))+1;this.levels=[];for(var r=0;r<n;r++){for(var i=new Uint8Array(e*t),a=new Uint8Array(e*t),o=0,s=i.length;o<s;o++)i[o]=0,a[o]=0;var u={width:e,height:t,items:i,status:a};this.levels.push(u),e=Math.ceil(e/2),t=Math.ceil(t/2)}}return e.prototype={reset:function(e,t,n){this.currentStopValue=n;for(var r=0;r<this.levels.length;){var i=this.levels[r],a=e+t*i.width;i.index=a,e>>=1,t>>=1,r++}this.currentLevel=this.levels.length-1,this.minValue=this.levels[this.currentLevel].items[0]},incrementValue:function(){var e=this.levels[this.currentLevel];e.items[e.index]=e.items[e.index]+1,e.items[e.index]>this.minValue&&(this.minValue=e.items[e.index])},nextLevel:function(){var e=this.currentLevel;if(--e<0)return!1;this.currentLevel=e;var t=this.levels[e];return t.items[t.index]<this.minValue?t.items[t.index]=this.minValue:t.items[t.index]>this.minValue&&(this.minValue=t.items[t.index]),!0},isLeaf:function(){return 0===this.currentLevel},isAboveThreshold:function(){var e=this.currentLevel,t=this.levels[e];return t.items[t.index]>this.currentStopValue},isKnown:function(){var e=this.currentLevel,t=this.levels[e];return t.status[t.index]>0},setKnown:function(){var e=this.currentLevel,t=this.levels[e];t.status[t.index]=1}},e}(),A=function(){var e=17,t=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),n=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),r=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);function i(e,i,a,o,s){this.width=e,this.height=i,this.contextLabelTable="HH"===a?r:"HL"===a?n:t;var u=e*i;this.neighborsSignificance=new Uint8Array(u),this.coefficentsSign=new Uint8Array(u),this.coefficentsMagnitude=s>14?new Uint32Array(u):s>6?new Uint16Array(u):new Uint8Array(u),this.processingFlags=new Uint8Array(u);var l=new Uint8Array(u);if(0!==o)for(var c=0;c<u;c++)l[c]=o;this.bitsDecoded=l,this.reset()}return i.prototype={setDecoder:function(e){this.decoder=e},reset:function(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6},setNeighborsSignificance:function(e,t,n){var r,i=this.neighborsSignificance,a=this.width,o=this.height,s=t>0,u=t+1<a;e>0&&(r=n-a,s&&(i[r-1]+=16),u&&(i[r+1]+=16),i[r]+=4),e+1<o&&(r=n+a,s&&(i[r-1]+=16),u&&(i[r+1]+=16),i[r]+=4),s&&(i[n-1]+=1),u&&(i[n+1]+=1),i[n]|=128},runSignificancePropogationPass:function(){for(var e=this.decoder,t=this.width,n=this.height,r=this.coefficentsMagnitude,i=this.coefficentsSign,a=this.neighborsSignificance,o=this.processingFlags,s=this.contexts,u=this.contextLabelTable,l=this.bitsDecoded,c=0;c<n;c+=4)for(var f=0;f<t;f++)for(var h=c*t+f,d=0;d<4;d++,h+=t){var p=c+d;if(p>=n)break;if(o[h]&=-2,!r[h]&&a[h]){var m=u[a[h]];if(e.readBit(s,m)){var g=this.decodeSignBit(p,f,h);i[h]=g,r[h]=1,this.setNeighborsSignificance(p,f,h),o[h]|=2}l[h]++,o[h]|=1}}},decodeSignBit:function(e,t,n){var r,i,a,o,s,u,l=this.width,c=this.height,f=this.coefficentsMagnitude,h=this.coefficentsSign;o=t>0&&0!==f[n-1],t+1<l&&0!==f[n+1]?(a=h[n+1],r=o?1-a-(i=h[n-1]):1-a-a):r=o?1-(i=h[n-1])-i:0;var d=3*r;return o=e>0&&0!==f[n-l],e+1<c&&0!==f[n+l]?(a=h[n+l],r=o?1-a-(i=h[n-l])+d:1-a-a+d):r=o?1-(i=h[n-l])-i+d:d,r>=0?(s=9+r,u=this.decoder.readBit(this.contexts,s)):(s=9-r,u=1^this.decoder.readBit(this.contexts,s)),u},runMagnitudeRefinementPass:function(){for(var e,t=this.decoder,n=this.width,r=this.height,i=this.coefficentsMagnitude,a=this.neighborsSignificance,o=this.contexts,s=this.bitsDecoded,u=this.processingFlags,l=n*r,c=4*n,f=0;f<l;f=e){e=Math.min(l,f+c);for(var h=0;h<n;h++)for(var d=f+h;d<e;d+=n)if(i[d]&&0===(1&u[d])){var p=16;if(0!==(2&u[d]))u[d]^=2,p=0===(127&a[d])?15:14;var m=t.readBit(o,p);i[d]=i[d]<<1|m,s[d]++,u[d]|=1}}},runCleanupPass:function(){for(var t,n=this.decoder,r=this.width,i=this.height,a=this.neighborsSignificance,o=this.coefficentsMagnitude,s=this.coefficentsSign,u=this.contexts,l=this.contextLabelTable,c=this.bitsDecoded,f=this.processingFlags,h=r,d=2*r,p=3*r,m=0;m<i;m=t){t=Math.min(m+4,i);for(var g=m*r,v=m+3<i,y=0;y<r;y++){var b,w=g+y,S=0,x=w,_=m;if(v&&0===f[w]&&0===f[w+h]&&0===f[w+d]&&0===f[w+p]&&0===a[w]&&0===a[w+h]&&0===a[w+d]&&0===a[w+p]){if(!n.readBit(u,18)){c[w]++,c[w+h]++,c[w+d]++,c[w+p]++;continue}0!==(S=n.readBit(u,e)<<1|n.readBit(u,e))&&(_=m+S,x+=S*r),b=this.decodeSignBit(_,y,x),s[x]=b,o[x]=1,this.setNeighborsSignificance(_,y,x),f[x]|=2,x=w;for(var T=m;T<=_;T++,x+=r)c[x]++;S++}for(_=m+S;_<t;_++,x+=r)if(!o[x]&&0===(1&f[x])){var E=l[a[x]];1===n.readBit(u,E)&&(b=this.decodeSignBit(_,y,x),s[x]=b,o[x]=1,this.setNeighborsSignificance(_,y,x),f[x]|=2),c[x]++}}}},checkSegmentationSymbol:function(){var t=this.decoder,n=this.contexts;if(10!==(t.readBit(n,e)<<3|t.readBit(n,e)<<2|t.readBit(n,e)<<1|t.readBit(n,e)))throw new Error("JPX Error: Invalid segmentation symbol")}},i}(),O=function(){function e(){}return e.prototype.calculate=function(e,t,n){for(var r=e[0],i=1,a=e.length;i<a;i++)r=this.iterate(r,e[i],t,n);return r},e.prototype.extend=function(e,t,n){var r=t-1,i=t+1,a=t+n-2,o=t+n;e[r--]=e[i++],e[o++]=e[a--],e[r--]=e[i++],e[o++]=e[a--],e[r--]=e[i++],e[o++]=e[a--],e[r]=e[i],e[o]=e[a]},e.prototype.iterate=function(e,t,n,r){var i,a,o,s,u,l,c=e.width,f=e.height,h=e.items,d=t.width,p=t.height,m=t.items;for(o=0,i=0;i<f;i++)for(s=2*i*d,a=0;a<c;a++,o++,s+=2)m[s]=h[o];h=e.items=null;var g=new Float32Array(d+8);if(1===d){if(0!==(1&n))for(l=0,o=0;l<p;l++,o+=d)m[o]*=.5}else for(l=0,o=0;l<p;l++,o+=d)g.set(m.subarray(o,o+d),4),this.extend(g,4,d),this.filter(g,4,d),m.set(g.subarray(4,4+d),o);var v=16,y=[];for(i=0;i<v;i++)y.push(new Float32Array(p+8));var b,w=0;if(e=4+p,1===p){if(0!==(1&r))for(u=0;u<d;u++)m[u]*=.5}else for(u=0;u<d;u++){if(0===w){for(v=Math.min(d-u,v),o=u,s=4;s<e;o+=d,s++)for(b=0;b<v;b++)y[b][s]=m[o+b];w=v}var S=y[--w];if(this.extend(S,4,p),this.filter(S,4,p),0===w)for(o=u-v+1,s=4;s<e;o+=d,s++)for(b=0;b<v;b++)m[o+b]=y[b][s]}return{width:d,height:p,items:m}},e}(),I=function(){function e(){O.call(this)}return e.prototype=Object.create(O.prototype),e.prototype.filter=function(e,t,n){var r,i,a,o,s=n>>1,u=-1.586134342059924,l=-.052980118572961,c=.882911075530934,f=.443506852043971,h=1.230174104914001;for(r=(t|=0)-3,i=s+4;i--;r+=2)e[r]*=.8128930661159609;for(a=f*e[(r=t-2)-1],i=s+3;i--&&(o=f*e[r+1],e[r]=h*e[r]-a-o,i--);r+=2)a=f*e[(r+=2)+1],e[r]=h*e[r]-a-o;for(a=c*e[(r=t-1)-1],i=s+2;i--&&(o=c*e[r+1],e[r]-=a+o,i--);r+=2)a=c*e[(r+=2)+1],e[r]-=a+o;for(a=l*e[(r=t)-1],i=s+1;i--&&(o=l*e[r+1],e[r]-=a+o,i--);r+=2)a=l*e[(r+=2)+1],e[r]-=a+o;if(0!==s)for(a=u*e[(r=t+1)-1],i=s;i--&&(o=u*e[r+1],e[r]-=a+o,i--);r+=2)a=u*e[(r+=2)+1],e[r]-=a+o},e}(),M=function(){function e(){O.call(this)}return e.prototype=Object.create(O.prototype),e.prototype.filter=function(e,t,n){var r,i,a=n>>1;for(r=t|=0,i=a+1;i--;r+=2)e[r]-=e[r-1]+e[r+1]+2>>2;for(r=t+1,i=a;i--;r+=2)e[r]+=e[r-1]+e[r+1]>>1},e}();return t}(),i=function(){var e=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];function t(e,t,n){this.data=e,this.bp=t,this.dataEnd=n,this.chigh=e[t],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}return t.prototype={byteIn:function(){var e=this.data,t=this.bp;255===e[t]?e[t+1]>143?(this.clow+=65280,this.ct=8):(t++,this.clow+=e[t]<<9,this.ct=7,this.bp=t):(t++,this.clow+=t<this.dataEnd?e[t]<<8:65280,this.ct=8,this.bp=t);this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)},readBit:function(t,n){var r,i=t[n]>>1,a=1&t[n],o=e[i],s=o.qe,u=this.a-s;if(this.chigh<s)u<s?(u=s,r=a,i=o.nmps):(u=s,r=1^a,1===o.switchFlag&&(a=r),i=o.nlps);else{if(this.chigh-=s,0!==(32768&u))return this.a=u,a;u<s?(r=1^a,1===o.switchFlag&&(a=r),i=o.nlps):(r=a,i=o.nmps)}do{0===this.ct&&this.byteIn(),u<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--}while(0===(32768&u));return this.a=u,t[n]=i<<1|a,r}},t}(),a="undefined"===typeof window?this:window;a.PDFJS||(a.PDFJS={});var o=o||{};o.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5};o.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};function s(e){o.verbosity>=o.VERBOSITY_LEVELS.infos&&console.log("Info: "+e)}function u(e){o.verbosity>=o.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+e)}o.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},o.UnsupportedManager=function(){var e=[];return{listen:function(t){e.push(t)},notify:function(t){u('Unsupported feature "'+t+'"');for(var n=0,r=e.length;n<r;n++)e[n](t)}}}();function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}o.isValidUrl=function(e,t){if(!e)return!1;var n=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(e);if(!n)return t;switch(n=n[0].toLowerCase()){case"http":case"https":case"ftp":case"mailto":case"tel":return!0;default:return!1}},o.shadow=l;o.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var c=function(){function e(e,t){this.name="PasswordException",this.message=e,this.code=t}return e.prototype=new Error,e.constructor=e,e}();o.PasswordException=c;var f=function(){function e(e,t){this.name="UnknownErrorException",this.message=e,this.details=t}return e.prototype=new Error,e.constructor=e,e}();o.UnknownErrorException=f;var h=function(){function e(e){this.name="InvalidPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}();o.InvalidPDFException=h;var d=function(){function e(e){this.name="MissingPDFException",this.message=e}return e.prototype=new Error,e.constructor=e,e}();o.MissingPDFException=d;var p=function(){function e(e,t){this.name="UnexpectedResponseException",this.message=e,this.status=t}return e.prototype=new Error,e.constructor=e,e}();o.UnexpectedResponseException=p;(function(){function e(e){this.message=e}e.prototype=new Error,e.prototype.name="NotImplementedException",e.constructor=e})(),function(){function e(e,t){this.begin=e,this.end=t,this.message="Missing data ["+e+", "+t+")"}e.prototype=new Error,e.prototype.name="MissingDataException",e.constructor=e}(),function(){function e(e){this.message=e}e.prototype=new Error,e.prototype.name="XRefParseException",e.constructor=e}();function m(e){for(var t=1,n=0;e>t;)t<<=1,n++;return n}function g(e,t){return e[t]<<8|e[t+1]}function v(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}Object.defineProperty(o,"isLittleEndian",{configurable:!0,get:function(){return l(o,"isLittleEndian",function(){var e=new Uint8Array(2);return e[0]=1,1===new Uint16Array(e.buffer)[0]}())}}),Object.defineProperty(o,"hasCanvasTypedArrays",{configurable:!0,get:function(){return l(o,"hasCanvasTypedArrays",function(){var e=document.createElement("canvas");return e.width=e.height=1,"undefined"!==typeof e.getContext("2d").createImageData(1,1).data.buffer}())}});!function(){function e(r,i){this.buffer=r,this.byteLength=r.length,this.length=void 0===i?this.byteLength>>2:i,function(r){for(;t<r;)Object.defineProperty(e.prototype,t,n(t)),t++}(this.length)}e.prototype=Object.create(null);var t=0;function n(e){return{get:function(){var t=this.buffer,n=e<<2;return(t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24)>>>0},set:function(t){var n=this.buffer,r=e<<2;n[r]=255&t,n[r+1]=t>>8&255,n[r+2]=t>>16&255,n[r+3]=t>>>24&255}}}}();var y=o.Util=function(){function e(){}var t=["rgb(",0,",",0,",",0,")"];return e.makeCssRgb=function(e,n,r){return t[1]=e,t[3]=n,t[5]=r,t.join("")},e.transform=function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]},e.applyTransform=function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]},e.applyInverseTransform=function(e,t){var n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]},e.getAxialAlignedBoundingBox=function(t,n){var r=e.applyTransform(t,n),i=e.applyTransform(t.slice(2,4),n),a=e.applyTransform([t[0],t[3]],n),o=e.applyTransform([t[2],t[1]],n);return[Math.min(r[0],i[0],a[0],o[0]),Math.min(r[1],i[1],a[1],o[1]),Math.max(r[0],i[0],a[0],o[0]),Math.max(r[1],i[1],a[1],o[1])]},e.inverseTransform=function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]},e.apply3dTransform=function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]},e.singularValueDecompose2dScale=function(e){var t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(n+a)/2,s=Math.sqrt((n+a)*(n+a)-4*(n*a-i*r))/2,u=o+s||1,l=o-s||1;return[Math.sqrt(u),Math.sqrt(l)]},e.normalizeRect=function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t},e.intersect=function(t,n){function r(e,t){return e-t}var i=[t[0],t[2],n[0],n[2]].sort(r),a=[t[1],t[3],n[1],n[3]].sort(r),o=[];return t=e.normalizeRect(t),n=e.normalizeRect(n),(i[0]===t[0]&&i[1]===n[0]||i[0]===n[0]&&i[1]===t[0])&&(o[0]=i[1],o[2]=i[2],(a[0]===t[1]&&a[1]===n[1]||a[0]===n[1]&&a[1]===t[1])&&(o[1]=a[1],o[3]=a[2],o))},e.sign=function(e){return e<0?-1:1},e.appendToArray=function(e,t){Array.prototype.push.apply(e,t)},e.prependToArray=function(e,t){Array.prototype.unshift.apply(e,t)},e.extendObj=function(e,t){for(var n in t)e[n]=t[n]},e.getInheritableProperty=function(e,t){for(;e&&!e.has(t);)e=e.get("Parent");return e?e.get(t):null},e.inherit=function(e,t,n){for(var r in e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n)e.prototype[r]=n[r]},e.loadScript=function(e,t){var n=document.createElement("script"),r=!1;n.setAttribute("src",e),t&&(n.onload=function(){r||t(),r=!0}),document.getElementsByTagName("head")[0].appendChild(n)},e}();o.PageViewport=function(){function e(e,t,n,r,i,a){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=r,this.offsetY=i;var o,s,u,l,c,f,h,d,p=(e[2]+e[0])/2,m=(e[3]+e[1])/2;switch(n=(n%=360)<0?n+360:n){case 180:o=-1,s=0,u=0,l=1;break;case 90:o=0,s=1,u=1,l=0;break;case 270:o=0,s=-1,u=-1,l=0;break;default:o=1,s=0,u=0,l=-1}a&&(u=-u,l=-l),0===o?(c=Math.abs(m-e[1])*t+r,f=Math.abs(p-e[0])*t+i,h=Math.abs(e[3]-e[1])*t,d=Math.abs(e[2]-e[0])*t):(c=Math.abs(p-e[0])*t+r,f=Math.abs(m-e[1])*t+i,h=Math.abs(e[2]-e[0])*t,d=Math.abs(e[3]-e[1])*t),this.transform=[o*t,s*t,u*t,l*t,c-o*t*p-u*t*m,f-s*t*p-l*t*m],this.width=h,this.height=d,this.fontScale=t}return e.prototype={clone:function(t){var n="scale"in(t=t||{})?t.scale:this.scale,r="rotation"in t?t.rotation:this.rotation;return new e(this.viewBox.slice(),n,r,this.offsetX,this.offsetY,t.dontFlip)},convertToViewportPoint:function(e,t){return y.applyTransform([e,t],this.transform)},convertToViewportRectangle:function(e){var t=y.applyTransform([e[0],e[1]],this.transform),n=y.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]},convertToPdfPoint:function(e,t){return y.applyInverseTransform([e,t],this.transform)}},e}();function b(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}o.createPromiseCapability=b,function(){if(a.Promise)return"function"!==typeof a.Promise.all&&(a.Promise.all=function(e){var t,n,r=0,i=[],o=new a.Promise((function(e,r){t=e,n=r}));return e.forEach((function(e,a){r++,e.then((function(e){i[a]=e,0===--r&&t(i)}),n)})),0===r&&t(i),o}),"function"!==typeof a.Promise.resolve&&(a.Promise.resolve=function(e){return new a.Promise((function(t){t(e)}))}),"function"!==typeof a.Promise.reject&&(a.Promise.reject=function(e){return new a.Promise((function(t,n){n(e)}))}),void("function"!==typeof a.Promise.prototype.catch2&&(a.Promise.prototype.catch2=function(e){return a.Promise.prototype.then(void 0,e)}));var e={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(e){0!==e._status&&(this.handlers=this.handlers.concat(e._handlers),e._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var e=Date.now()+1;this.handlers.length>0;){var t=this.handlers.shift(),n=t.thisPromise._status,r=t.thisPromise._value;try{1===n?"function"===typeof t.onResolve&&(r=t.onResolve(r)):"function"===typeof t.onReject&&(r=t.onReject(r),n=1,t.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(t.thisPromise))}catch(i){n=2,r=i}if(t.nextPromise._updateStatus(n,r),Date.now()>=e)break}this.handlers.length>0?setTimeout(this.runHandlers.bind(this),0):this.running=!1},addUnhandledRejection:function(e){this.unhandledRejections.push({promise:e,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(e){e._unhandledRejection=!1;for(var t=0;t<this.unhandledRejections.length;t++)this.unhandledRejections[t].promise===e&&(this.unhandledRejections.splice(t),t--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var e=Date.now(),t=0;t<this.unhandledRejections.length;t++)if(e-this.unhandledRejections[t].time>500){var n=this.unhandledRejections[t].promise._value,r="Unhandled rejection: "+n;n.stack&&(r+="\n"+n.stack),u(r),this.unhandledRejections.splice(t),t--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),500))}};function t(e){this._status=0,this._handlers=[];try{e.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(t){this._reject(t)}}t.all=function(e){var n,r,i=new t((function(e,t){n=e,r=t})),a=e.length,o=[];if(0===a)return n(o),i;function s(e){2!==i._status&&(o=[],r(e))}for(var u=0,l=e.length;u<l;++u){var c=e[u],f=function(e){return function(t){2!==i._status&&(o[e]=t,0===--a&&n(o))}}(u);t.isPromise(c)?c.then(f,s):f(c)}return i},t.isPromise=function(e){return e&&"function"===typeof e.then},t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(n,r){1!==this._status&&2!==this._status&&(1===n&&t.isPromise(r)?r.then(this._updateStatus.bind(this,1),this._updateStatus.bind(this,2)):(this._status=n,this._value=r,2===n&&0===this._handlers.length&&(this._unhandledRejection=!0,e.addUnhandledRejection(this)),e.scheduleHandlers(this)))},_resolve:function(e){this._updateStatus(1,e)},_reject:function(e){this._updateStatus(2,e)},then:function(n,r){var i=new t((function(e,t){this.resolve=e,this.reject=t}));return this._handlers.push({thisPromise:this,onResolve:n,onReject:r,nextPromise:i}),e.scheduleHandlers(this),i},catch2:function(e){return this.then(void 0,e)}},a.Promise=t}();!function(){function e(e,t,n){for(;e.length<n;)e+=t;return e}function t(){this.started={},this.times=[],this.enabled=!0}t.prototype={time:function(e){this.enabled&&(e in this.started&&u("Timer is already running for "+e),this.started[e]=Date.now())},timeEnd:function(e){this.enabled&&(e in this.started||u("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e])},toString:function(){var t,n,r=this.times,i="",a=0;for(t=0,n=r.length;t<n;++t){var o=r[t].name;o.length>a&&(a=o.length)}for(t=0,n=r.length;t<n;++t){var s=r[t],u=s.end-s.start;i+=e(s.name," ",a)+" "+u+"ms\n"}return i}}}();o.createBlob=function(e,t){if("undefined"!==typeof Blob)return new Blob([e],{type:t});var n=new MozBlobBuilder;return n.append(e),n.getBlob(t)},o.createObjectURL=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(t,n){if(!o.disableCreateObjectURL&&"undefined"!==typeof URL&&URL.createObjectURL){var r=o.createBlob(t,n);return URL.createObjectURL(r)}for(var i="data:"+n+";base64,",a=0,s=t.length;a<s;a+=3){var u=255&t[a],l=255&t[a+1],c=255&t[a+2];i+=e[u>>2]+e[(3&u)<<4|l>>4]+e[a+1<s?(15&l)<<2|c>>6:64]+e[a+2<s?63&c:64]}return i}}(),"undefined"!==typeof e&&e.exports&&(e.exports=r)},function(e,t,n){"use strict";var r=r||n(118),i=function(){var e;function t(){}return t.prototype={decodeJPEGLS:function(t,n){return function(t,n){!function(){if("undefined"===typeof r)throw"No JPEG-LS decoder loaded";if(!e&&(!(e=r())||!e._jpegls_decode))throw"JPEG-LS failed to initialize"}();var i=function(t,n){var r=e._malloc(t.length);e.writeArrayToMemory(t,r);var i=e._malloc(4),a=e._malloc(4),o=e._malloc(4),s=e._malloc(4),u=e._malloc(4),l=e._malloc(4),c=e._malloc(4),f=e._malloc(4),h=e._malloc(4),d={result:e.ccall("jpegls_decode","number",["number","number","number","number","number","number","number","number","number","number","number"],[r,t.length,i,a,o,s,u,l,f,c,h]),width:e.getValue(o,"i32"),height:e.getValue(s,"i32"),bitsPerSample:e.getValue(u,"i32"),stride:e.getValue(l,"i32"),components:e.getValue(f,"i32"),allowedLossyError:e.getValue(c,"i32"),interleaveMode:e.getValue(h,"i32"),pixelData:void 0},p=e.getValue(i,"*");d.bitsPerSample<=8?(d.pixelData=new Uint8Array(d.width*d.height*d.components),d.pixelData.set(new Uint8Array(e.HEAP8.buffer,p,d.pixelData.length))):n?(d.pixelData=new Int16Array(d.width*d.height*d.components),d.pixelData.set(new Int16Array(e.HEAP16.buffer,p,d.pixelData.length))):(d.pixelData=new Uint16Array(d.width*d.height*d.components),d.pixelData.set(new Uint16Array(e.HEAP16.buffer,p,d.pixelData.length)));return e._free(r),e._free(p),e._free(i),e._free(a),e._free(o),e._free(s),e._free(u),e._free(l),e._free(f),e._free(h),d}(t,n);if(0!==i.result&&6!==i.result)throw"JPEG-LS decoder failed to decode frame (error code "+i.result+")";var a={};return a.columns=i.width,a.rows=i.height,a.pixelData=i.pixelData,a}(t,n)}},t}();"undefined"!==typeof e&&e.exports&&(e.exports=i)},function(module,exports,__webpack_require__){(function(process,__dirname){var CharLS=function CharLS(Module){var Module;Module=Module||{},Module||(Module=("undefined"!==typeof CharLS?CharLS:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB="object"===typeof window,ENVIRONMENT_IS_WORKER="function"===typeof importScripts,ENVIRONMENT_IS_NODE="object"===typeof process&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=function(e){process.stdout.write(e+"\n")}),Module.printErr||(Module.printErr=function(e){process.stderr.write(e+"\n")});var nodeFS=__webpack_require__(171),nodePath=__webpack_require__(172);Module.read=function(e,t){e=nodePath.normalize(e);var n=nodeFS.readFileSync(e);return n||e==nodePath.resolve(e)||(e=path.join(__dirname,"..","src",e),n=nodeFS.readFileSync(e)),n&&!t&&(n=n.toString()),n},Module.readBinary=function(e){var t=Module.read(e,!0);return t.buffer||(t=new Uint8Array(t)),assert(t.buffer),t},Module.load=function(e){globalEval(read(e))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),module.exports=Module,process.on("uncaughtException",(function(e){if(!(e instanceof ExitStatus))throw e})),Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),"undefined"!=typeof printErr&&(Module.printErr=printErr),"undefined"!=typeof read?Module.read=read:Module.read=function(){throw"no read() available (jsc?)"},Module.readBinary=function(e){if("function"===typeof readbuffer)return new Uint8Array(readbuffer(e));var t=read(e,"binary");return assert("object"===typeof t),t},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:"undefined"!=typeof arguments&&(Module.arguments=arguments);else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";if(Module.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},"undefined"!=typeof arguments&&(Module.arguments=arguments),"undefined"!==typeof console)Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.log(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&"undefined"!==typeof dump?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),"undefined"===typeof Module.setWindowTitle&&(Module.setWindowTitle=function(e){document.title=e})}function globalEval(e){eval.call(null,e)}for(var key in!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[],moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);var Runtime={setTempRet0:function(e){tempRet0=e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return Runtime.QUANTUM_SIZE;if("i"===e[0]){var t=parseInt(e.substr(1));return assert(t%8===0),t/8}return 0}},getNativeFieldSize:function(e){return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(e,t){return"double"===t||"i64"===t?7&e&&(assert(4===(7&e)),e+=4):assert(0===(3&e)),e},getAlignSize:function(e,t,n){return n||"i64"!=e&&"double"!=e?e?Math.min(t||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(t,8):8},dynCall:function(e,t,n){return n&&n.length?(n.splice||(n=Array.prototype.slice.call(n)),n.splice(0,0,t),Module["dynCall_"+e].apply(null,n)):Module["dynCall_"+e].call(null,t)},functionPointers:[],addFunction:function(e){for(var t=0;t<Runtime.functionPointers.length;t++)if(!Runtime.functionPointers[t])return Runtime.functionPointers[t]=e,2*(1+t);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,t){assert(t),Runtime.funcWrappers[t]||(Runtime.funcWrappers[t]={});var n=Runtime.funcWrappers[t];return n[e]||(n[e]=function(){return Runtime.dynCall(t,e,arguments)}),n[e]},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var t=STACKTOP;return STACKTOP=(STACKTOP=STACKTOP+e|0)+15&-16,t},staticAlloc:function(e){var t=STATICTOP;return STATICTOP=(STATICTOP=STATICTOP+e|0)+15&-16,t},dynamicAlloc:function(e){var t=DYNAMICTOP;if((DYNAMICTOP=(DYNAMICTOP=DYNAMICTOP+e|0)+15&-16)>=TOTAL_MEMORY&&!enlargeMemory())return DYNAMICTOP=t,0;return t},alignMemory:function(e,t){return e=Math.ceil(e/(t||16))*(t||16)},makeBigInt:function(e,t,n){return n?+(e>>>0)+4294967296*+(t>>>0):+(e>>>0)+4294967296*+(0|t)},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var __THREW__=0,ABORT=!1,EXITSTATUS=0,undef=0,tempValue,tempInt,tempBigInt,tempInt2,tempBigInt2,tempPair,tempBigIntI,tempBigIntR,tempBigIntS,tempBigIntP,tempBigIntD,tempDouble,tempFloat,tempI64,tempI64b,tempRet0,tempRet1,tempRet2,tempRet3,tempRet4,tempRet5,tempRet6,tempRet7,tempRet8,tempRet9;function assert(e,t){e||abort("Assertion failed: "+t)}var globalScope=this,cwrap,ccall;function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(e){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}function setValue(e,t,n,r){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;default:abort("invalid type for setValue: "+n)}}function getValue(e,t,n){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: "+t)}return null}(function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(e){var t=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,t),t},stringToC:function(e){var t=0;return null!==e&&void 0!==e&&0!==e&&writeStringToMemory(e,t=Runtime.stackAlloc(1+(e.length<<2))),t}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,t,n,r,i){var a=getCFunc(e),o=[],s=0;if(r)for(var u=0;u<r.length;u++){var l=toC[n[u]];l?(0===s&&(s=Runtime.stackSave()),o[u]=l(r[u])):o[u]=r[u]}var c=a.apply(null,o);if("string"===t&&(c=Pointer_stringify(c)),0!==s){if(i&&i.async)return void EmterpreterAsync.asyncFinalizers.push((function(){Runtime.stackRestore(s)}));Runtime.stackRestore(s)}return c};var sourceRegex=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(e){var t=e.toString().match(sourceRegex).slice(1);return{arguments:t[0],body:t[1],returnValue:t[2]}}var JSsource={};for(var fun in JSfuncs)JSfuncs.hasOwnProperty(fun)&&(JSsource[fun]=parseJSFunc(JSfuncs[fun]));cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every((function(e){return"number"===e})),numericRet="string"!==returnType;if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map((function(e,t){return"$"+t})),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if("number"!==type){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"="+convertCode.returnValue+";"}}}var cfuncname=parseJSFunc((function(){return cfunc})).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc((function(){return Pointer_stringify})).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}})(),Module.ccall=ccall,Module.cwrap=cwrap,Module.setValue=setValue,Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;function allocate(e,t,n,r){var i,a;"number"===typeof e?(i=!0,a=e):(i=!1,a=e.length);var o,s="string"===typeof t?t:null;if(o=n==ALLOC_NONE?r:[_malloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][void 0===n?ALLOC_STATIC:n](Math.max(a,s?1:t.length)),i){var u;r=o;for(assert(0==(3&o)),u=o+(-4&a);r<u;r+=4)HEAP32[r>>2]=0;for(u=o+a;r<u;)HEAP8[r++>>0]=0;return o}if("i8"===s)return e.subarray||e.slice?HEAPU8.set(e,o):HEAPU8.set(new Uint8Array(e),o),o;for(var l,c,f,h=0;h<a;){var d=e[h];"function"===typeof d&&(d=Runtime.getFunctionIndex(d)),0!==(l=s||t[h])?("i64"==l&&(l="i32"),setValue(o+h,d,l),f!==l&&(c=Runtime.getNativeTypeSize(l),f=l),h+=c):h++}return o}function getMemory(e){return staticSealed?"undefined"!==typeof _sbrk&&!_sbrk.called||!runtimeInitialized?Runtime.dynamicAlloc(e):_malloc(e):Runtime.staticAlloc(e)}function Pointer_stringify(e,t){if(0===t||!e)return"";for(var n,r=0,i=0;r|=n=HEAPU8[e+i>>0],(0!=n||t)&&(i++,!t||i!=t););t||(t=i);var a="";if(r<128){for(var o,s=1024;t>0;)o=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(t,s))),a=a?a+o:o,e+=s,t-=s;return a}return Module.UTF8ToString(e)}function AsciiToString(e){for(var t="";;){var n=HEAP8[e++>>0];if(!n)return t;t+=String.fromCharCode(n)}}function stringToAscii(e,t){return writeAsciiToMemory(e,t,!1)}function UTF8ArrayToString(e,t){for(var n,r,i,a,o,s="";;){if(!(n=e[t++]))return s;if(128&n)if(r=63&e[t++],192!=(224&n))if(i=63&e[t++],224==(240&n)?n=(15&n)<<12|r<<6|i:(a=63&e[t++],240==(248&n)?n=(7&n)<<18|r<<12|i<<6|a:(o=63&e[t++],n=248==(252&n)?(3&n)<<24|r<<18|i<<12|a<<6|o:(1&n)<<30|r<<24|i<<18|a<<12|o<<6|63&e[t++])),n<65536)s+=String.fromCharCode(n);else{var u=n-65536;s+=String.fromCharCode(55296|u>>10,56320|1023&u)}else s+=String.fromCharCode((31&n)<<6|r);else s+=String.fromCharCode(n)}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,t,n,r){if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=2097151){if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=67108863){if(n+4>=a)break;t[n++]=248|s>>24,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+5>=a)break;t[n++]=252|s>>30,t[n++]=128|s>>24&63,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-i}function stringToUTF8(e,t,n){return stringToUTF8Array(e,HEAPU8,t,n)}function lengthBytesUTF8(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:r<=2097151?4:r<=67108863?5:6}return t}function UTF16ToString(e){for(var t=0,n="";;){var r=HEAP16[e+2*t>>1];if(0==r)return n;++t,n+=String.fromCharCode(r)}}function stringToUTF16(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=t,i=(n-=2)<2*e.length?n/2:e.length,a=0;a<i;++a){var o=e.charCodeAt(a);HEAP16[t>>1]=o,t+=2}return HEAP16[t>>1]=0,t-r}function lengthBytesUTF16(e){return 2*e.length}function UTF32ToString(e){for(var t=0,n="";;){var r=HEAP32[e+4*t>>2];if(0==r)return n;if(++t,r>=65536){var i=r-65536;n+=String.fromCharCode(55296|i>>10,56320|1023&i)}else n+=String.fromCharCode(r)}}function stringToUTF32(e,t,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var r=t,i=r+n-4,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343)o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a);if(HEAP32[t>>2]=o,(t+=4)+4>i)break}return HEAP32[t>>2]=0,t-r}function lengthBytesUTF32(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t}function demangle(e){var t=!!Module.___cxa_demangle;if(t)try{var n=_malloc(e.length);writeStringToMemory(e.substr(1),n);var r=_malloc(4),i=Module.___cxa_demangle(n,0,0,r);if(0===getValue(r,"i32")&&i)return Pointer_stringify(i)}catch(c){}finally{n&&_free(n),r&&_free(r),i&&_free(i)}var a=3,o={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},s=[],u=!0;var l=e;try{if("Object._main"==e||"_main"==e)return"main()";if("number"===typeof e&&(e=Pointer_stringify(e)),"_"!==e[0])return e;if("_"!==e[1])return e;if("Z"!==e[2])return e;switch(e[3]){case"n":return"operator new()";case"d":return"operator delete()"}l=function t(n,r,i){r=r||1/0;var l,c="",f=[];if("N"===e[a]){if(l=function(){a++,"K"===e[a]&&a++;for(var t=[];"E"!==e[a];)if("S"!==e[a])if("C"!==e[a]){var n=parseInt(e.substr(a)),r=n.toString().length;if(!n||!r){a--;break}var i=e.substr(a+r,n);t.push(i),s.push(i),a+=r+n}else t.push(t[t.length-1]),a+=2;else{a++;var o=e.indexOf("_",a),u=e.substring(a,o)||0;t.push(s[u]||"?"),a=o+1}return a++,t}().join("::"),0===--r)return n?[l]:l}else if(("K"===e[a]||u&&"L"===e[a])&&a++,m=parseInt(e.substr(a))){var h=m.toString().length;l=e.substr(a+h,m),a+=h+m}if(u=!1,"I"===e[a]){a++;var d=t(!0);c+=t(!0,1,!0)[0]+" "+l+"<"+d.join(", ")+">"}else c=l;e:for(;a<e.length&&r-- >0;){var p=e[a++];if(p in o)f.push(o[p]);else switch(p){case"P":f.push(t(!0,1,!0)[0]+"*");break;case"R":f.push(t(!0,1,!0)[0]+"&");break;case"L":a++;var m=e.indexOf("E",a)-a;f.push(e.substr(a,m)),a+=m+2;break;case"A":if(m=parseInt(e.substr(a)),a+=m.toString().length,"_"!==e[a])throw"?";a++,f.push(t(!0,1,!0)[0]+" ["+m+"]");break;case"E":break e;default:c+="?"+p;break e}}return i||1!==f.length||"void"!==f[0]||(f=[]),n?(c&&f.push(c+"?"),f):c+"("+f.join(", ")+")"}()}catch(c){l+="?"}return l.indexOf("?")>=0&&!t&&Runtime.warnOnce("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),l}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,(function(e){var t=demangle(e);return e===t?e:e+" ["+t+"]"}))}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){return demangleAll(jsStackTrace())}Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE,Module.allocate=allocate,Module.getMemory=getMemory,Module.Pointer_stringify=Pointer_stringify,Module.AsciiToString=AsciiToString,Module.stringToAscii=stringToAscii,Module.UTF8ArrayToString=UTF8ArrayToString,Module.UTF8ToString=UTF8ToString,Module.stringToUTF8Array=stringToUTF8Array,Module.stringToUTF8=stringToUTF8,Module.lengthBytesUTF8=lengthBytesUTF8,Module.UTF16ToString=UTF16ToString,Module.stringToUTF16=stringToUTF16,Module.lengthBytesUTF16=lengthBytesUTF16,Module.UTF32ToString=UTF32ToString,Module.stringToUTF32=stringToUTF32,Module.lengthBytesUTF32=lengthBytesUTF32,Module.stackTrace=stackTrace;var PAGE_SIZE=4096,HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function alignMemoryPage(e){return e%4096>0&&(e+=4096-e%4096),e}var STATIC_BASE=0,STATICTOP=0,staticSealed=!1,STACK_BASE=0,STACKTOP=0,STACK_MAX=0,DYNAMIC_BASE=0,DYNAMICTOP=0,byteLength;function enlargeMemory(){var e=Math.pow(2,31);if(DYNAMICTOP>=e)return!1;for(;TOTAL_MEMORY<=DYNAMICTOP;)if(TOTAL_MEMORY<e/2)TOTAL_MEMORY=alignMemoryPage(2*TOTAL_MEMORY);else{var t=TOTAL_MEMORY;if((TOTAL_MEMORY=alignMemoryPage((3*TOTAL_MEMORY+e)/4))<=t)return!1}if((TOTAL_MEMORY=Math.max(TOTAL_MEMORY,16777216))>=e)return!1;try{if(ArrayBuffer.transfer)buffer=ArrayBuffer.transfer(buffer,TOTAL_MEMORY);else{var n=HEAP8;buffer=new ArrayBuffer(TOTAL_MEMORY)}}catch(r){return!1}return!!_emscripten_replace_memory(buffer)&&(Module.buffer=buffer,Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer),ArrayBuffer.transfer||HEAP8.set(n),!0)}try{byteLength=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get),byteLength(new ArrayBuffer(4))}catch(e){byteLength=function(e){return e.byteLength}}for(var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||16777216,totalMemory=65536,buffer;totalMemory<TOTAL_MEMORY||totalMemory<2*TOTAL_STACK;)totalMemory<16777216?totalMemory*=2:totalMemory+=16777216;function callRuntimeCallbacks(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"===typeof n?void 0===t.arg?Runtime.dynCall("v",n):Runtime.dynCall("vi",n,[t.arg]):n(void 0===t.arg?null:t.arg)}else t()}}totalMemory=Math.max(totalMemory,16777216),totalMemory!==TOTAL_MEMORY&&(TOTAL_MEMORY=totalMemory),assert("undefined"!==typeof Int32Array&&"undefined"!==typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support"),buffer=new ArrayBuffer(TOTAL_MEMORY),HEAP8=new Int8Array(buffer),HEAP16=new Int16Array(buffer),HEAP32=new Int32Array(buffer),HEAPU8=new Uint8Array(buffer),HEAPU16=new Uint16Array(buffer),HEAPU32=new Uint32Array(buffer),HEAPF32=new Float32Array(buffer),HEAPF64=new Float64Array(buffer),HEAP32[0]=255,assert(255===HEAPU8[0]&&0===HEAPU8[3],"Typed arrays 2 must be run on a little-endian system"),Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){__ATEXIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function intArrayFromString(e,t,n){var r=n>0?n:lengthBytesUTF8(e)+1,i=new Array(r),a=stringToUTF8Array(e,i,0,i.length);return t&&(i.length=a),i}function intArrayToString(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r>255&&(r&=255),t.push(String.fromCharCode(r))}return t.join("")}function writeStringToMemory(e,t,n){for(var r=intArrayFromString(e,n),i=0;i<r.length;){var a=r[i];HEAP8[t+i>>0]=a,i+=1}}function writeArrayToMemory(e,t){for(var n=0;n<e.length;n++)HEAP8[t++>>0]=e[n]}function writeAsciiToMemory(e,t,n){for(var r=0;r<e.length;++r)HEAP8[t++>>0]=e.charCodeAt(r);n||(HEAP8[t>>0]=0)}function unSign(e,t,n){return e>=0?e:t<=32?2*Math.abs(1<<t-1)+e:Math.pow(2,t)+e}function reSign(e,t,n){if(e<=0)return e;var r=t<=32?Math.abs(1<<t-1):Math.pow(2,t-1);return e>=r&&(t<=32||e>r)&&(e=-2*r+e),e}Module.addOnPreRun=addOnPreRun,Module.addOnInit=addOnInit,Module.addOnPreMain=addOnPreMain,Module.addOnExit=addOnExit,Module.addOnPostRun=addOnPostRun,Module.intArrayFromString=intArrayFromString,Module.intArrayToString=intArrayToString,Module.writeStringToMemory=writeStringToMemory,Module.writeArrayToMemory=writeArrayToMemory,Module.writeAsciiToMemory=writeAsciiToMemory,Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16)*r+n*(t>>>16)<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(e){e>>>=0;for(var t=0;t<32;t++)if(e&1<<31-t)return t;return 32}),Math.clz32=Math.clz32;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_min=Math.min,Math_clz32=Math.clz32,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var memoryInitializer=null,ASM_CONSTS=[];STATIC_BASE=8,STATICTOP=STATIC_BASE+59744,__ATINIT__.push({func:function(){__GLOBAL__I_000101()}},{func:function(){__GLOBAL__sub_I_jpegls_cpp()}},{func:function(){__GLOBAL__sub_I_iostream_cpp()}}),allocate([0,0,0,0,0,0,0,0,84,144,0,0,31,194,0,0,216,0,0,0,0,0,0,0,84,144,0,0,237,191,0,0,48,0,0,0,0,0,0,0,44,144,0,0,41,192,0,0,84,144,0,0,55,192,0,0,48,0,0,0,0,0,0,0,84,144,0,0,115,192,0,0,48,0,0,0,0,0,0,0,84,144,0,0,175,192,0,0,152,3,0,0,0,0,0,0,84,144,0,0,241,192,0,0,216,3,0,0,0,0,0,0,84,144,0,0,55,193,0,0,48,0,0,0,0,0,0,0,84,144,0,0,95,193,0,0,48,0,0,0,0,0,0,0,84,144,0,0,135,193,0,0,48,0,0,0,0,0,0,0,84,144,0,0,175,193,0,0,48,0,0,0,0,0,0,0,84,144,0,0,216,193,0,0,48,0,0,0,0,0,0,0,84,144,0,0,241,193,0,0,48,0,0,0,0,0,0,0,44,144,0,0,13,194,0,0,84,144,0,0,80,194,0,0,216,0,0,0,0,0,0,0,84,144,0,0,44,195,0,0,216,0,0,0,0,0,0,0,84,144,0,0,139,194,0,0,48,0,0,0,0,0,0,0,84,144,0,0,179,194,0,0,48,0,0,0,0,0,0,0,84,144,0,0,219,194,0,0,48,0,0,0,0,0,0,0,84,144,0,0,3,195,0,0,48,0,0,0,0,0,0,0,84,144,0,0,103,195,0,0,216,0,0,0,0,0,0,0,84,144,0,0,157,195,0,0,216,0,0,0,0,0,0,0,84,144,0,0,211,195,0,0,216,0,0,0,0,0,0,0,84,144,0,0,8,196,0,0,216,0,0,0,0,0,0,0,84,144,0,0,71,196,0,0,216,0,0,0,0,0,0,0,84,144,0,0,138,196,0,0,160,1,0,0,0,0,0,0,44,144,0,0,120,196,0,0,84,144,0,0,187,196,0,0,160,1,0,0,0,0,0,0,84,144,0,0,246,196,0,0,160,1,0,0,0,0,0,0,84,144,0,0,49,197,0,0,160,1,0,0,0,0,0,0,84,144,0,0,103,197,0,0,160,1,0,0,0,0,0,0,84,144,0,0,157,197,0,0,160,1,0,0,0,0,0,0,84,144,0,0,210,197,0,0,160,1,0,0,0,0,0,0,84,144,0,0,17,198,0,0,160,1,0,0,0,0,0,0,84,144,0,0,86,198,0,0,72,3,0,0,0,0,0,0,84,144,0,0,162,198,0,0,56,2,0,0,0,0,0,0,44,144,0,0,182,198,0,0,84,144,0,0,196,198,0,0,56,2,0,0,0,0,0,0,84,144,0,0,112,199,0,0,96,2,0,0,0,0,0,0,44,144,0,0,125,199,0,0,84,144,0,0,138,199,0,0,96,2,0,0,0,0,0,0,44,144,0,0,156,199,0,0,84,144,0,0,169,199,0,0,96,2,0,0,0,0,0,0,84,144,0,0,181,199,0,0,120,2,0,0,0,0,0,0,84,144,0,0,214,199,0,0,144,2,0,0,0,0,0,0,84,144,0,0,28,200,0,0,144,2,0,0,0,0,0,0,84,144,0,0,248,199,0,0,176,2,0,0,0,0,0,0,84,144,0,0,62,200,0,0,160,2,0,0,0,0,0,0,84,144,0,0,99,200,0,0,160,2,0,0,0,0,0,0,84,144,0,0,182,221,0,0,160,3,0,0,0,0,0,0,84,144,0,0,245,221,0,0,160,3,0,0,0,0,0,0,84,144,0,0,13,222,0,0,152,3,0,0,0,0,0,0,84,144,0,0,38,222,0,0,152,3,0,0,0,0,0,0,44,144,0,0,62,222,0,0,84,144,0,0,87,222,0,0,104,2,0,0,0,0,0,0,44,144,0,0,110,222,0,0,84,144,0,0,135,222,0,0,72,3,0,0,0,0,0,0,84,144,0,0,161,222,0,0,56,3,0,0,0,0,0,0,44,144,0,0,187,222,0,0,84,144,0,0,205,222,0,0,112,3,0,0,0,0,0,0,84,144,0,0,247,222,0,0,112,3,0,0,0,0,0,0,44,144,0,0,33,223,0,0,44,144,0,0,82,223,0,0,124,144,0,0,131,223,0,0,0,0,0,0,1,0,0,0,120,3,0,0,3,244,255,255,124,144,0,0,178,223,0,0,0,0,0,0,1,0,0,0,136,3,0,0,3,244,255,255,124,144,0,0,225,223,0,0,0,0,0,0,1,0,0,0,120,3,0,0,3,244,255,255,124,144,0,0,16,224,0,0,0,0,0,0,1,0,0,0,136,3,0,0,3,244,255,255,84,144,0,0,63,224,0,0,80,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,84,144,0,0,187,224,0,0,48,3,0,0,0,0,0,0,124,144,0,0,209,224,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,64,10,0,0,2,0,0,0,124,144,0,0,227,224,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,72,10,0,0,2,0,0,0,124,144,0,0,5,225,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,72,10,0,0,2,0,0,0,124,144,0,0,40,225,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,72,10,0,0,2,0,0,0,84,144,0,0,75,225,0,0,144,4,0,0,0,0,0,0,84,144,0,0,109,225,0,0,144,4,0,0,0,0,0,0,124,144,0,0,144,225,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,72,10,0,0,2,0,0,0,84,144,0,0,178,225,0,0,32,4,0,0,0,0,0,0,84,144,0,0,200,225,0,0,32,4,0,0,0,0,0,0,84,144,0,0,220,225,0,0,32,4,0,0,0,0,0,0,124,144,0,0,240,225,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,64,10,0,0,2,0,0,0,84,144,0,0,2,226,0,0,32,4,0,0,0,0,0,0,84,144,0,0,23,226,0,0,32,4,0,0,0,0,0,0,124,144,0,0,44,226,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,80,10,0,0,0,0,0,0,124,144,0,0,112,226,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,104,10,0,0,0,0,0,0,124,144,0,0,180,226,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,128,10,0,0,0,0,0,0,124,144,0,0,248,226,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,152,10,0,0,0,0,0,0,124,144,0,0,60,227,0,0,0,0,0,0,3,0,0,0,32,4,0,0,2,0,0,0,176,10,0,0,2,0,0,0,184,10,0,0,0,8,0,0,124,144,0,0,129,227,0,0,0,0,0,0,3,0,0,0,32,4,0,0,2,0,0,0,176,10,0,0,2,0,0,0,192,10,0,0,0,8,0,0,124,144,0,0,198,227,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,200,10,0,0,0,8,0,0,124,144,0,0,11,228,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,200,10,0,0,0,8,0,0,124,144,0,0,80,228,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,208,10,0,0,2,0,0,0,124,144,0,0,108,228,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,208,10,0,0,2,0,0,0,124,144,0,0,136,228,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,208,10,0,0,2,0,0,0,124,144,0,0,164,228,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,208,10,0,0,2,0,0,0,124,144,0,0,192,228,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,216,10,0,0,0,0,0,0,124,144,0,0,6,229,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,224,10,0,0,0,0,0,0,124,144,0,0,76,229,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,232,10,0,0,0,0,0,0,124,144,0,0,146,229,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,240,10,0,0,0,0,0,0,124,144,0,0,216,229,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,248,10,0,0,2,0,0,0,124,144,0,0,237,229,0,0,0,0,0,0,2,0,0,0,32,4,0,0,2,0,0,0,248,10,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,44,144,0,0,73,233,0,0,44,144,0,0,50,233,0,0,124,144,0,0,28,233,0,0,0,0,0,0,1,0,0,0,8,11,0,0,0,0,0,0,124,144,0,0,237,232,0,0,0,0,0,0,1,0,0,0,8,11,0,0,0,0,0,0,124,144,0,0,215,232,0,0,0,0,0,0,1,0,0,0,0,11,0,0,0,0,0,0,124,144,0,0,168,232,0,0,0,0,0,0,1,0,0,0,0,11,0,0,0,0,0,0,44,144,0,0,149,232,0,0,44,144,0,0,115,232,0,0,44,144,0,0,81,232,0,0,44,144,0,0,60,232,0,0,44,144,0,0,39,232,0,0,44,144,0,0,14,232,0,0,44,144,0,0,245,231,0,0,44,144,0,0,220,231,0,0,44,144,0,0,195,231,0,0,44,144,0,0,171,231,0,0,44,144,0,0,190,232,0,0,44,144,0,0,3,233],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE),allocate([156,143,0,0,0,0,0,0,8,2,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,248,1,0,0,3,0,0,0,4,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,232,1,0,0,5,0,0,0,6,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,216,1,0,0,7,0,0,0,8,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,200,1,0,0,9,0,0,0,10,0,0,0,5,0,0,0,5,0,0,0,5,0,0,0,0,0,0,0,184,1,0,0,11,0,0,0,12,0,0,0,6,0,0,0,6,0,0,0,6,0,0,0,0,0,0,0,168,1,0,0,13,0,0,0,14,0,0,0,7,0,0,0,7,0,0,0,7,0,0,0,0,0,0,0,144,1,0,0,15,0,0,0,16,0,0,0,8,0,0,0,8,0,0,0,8,0,0,0,0,0,0,0,128,1,0,0,17,0,0,0,18,0,0,0,9,0,0,0,1,0,0,0,9,0,0,0,0,0,0,0,112,1,0,0,19,0,0,0,20,0,0,0,10,0,0,0,2,0,0,0,10,0,0,0,0,0,0,0,96,1,0,0,21,0,0,0,22,0,0,0,11,0,0,0,3,0,0,0,11,0,0,0,0,0,0,0,80,1,0,0,23,0,0,0,24,0,0,0,12,0,0,0,4,0,0,0,12,0,0,0,0,0,0,0,64,1,0,0,25,0,0,0,26,0,0,0,13,0,0,0,5,0,0,0,13,0,0,0,0,0,0,0,240,0,0,0,27,0,0,0,28,0,0,0,14,0,0,0,6,0,0,0,14,0,0,0,0,0,0,0,224,0,0,0,29,0,0,0,30,0,0,0,15,0,0,0,7,0,0,0,15,0,0,0,0,0,0,0,16,0,0,0,31,0,0,0,32,0,0,0,16,0,0,0,8,0,0,0,16,0,0,0,0,0,0,0,200,0,0,0,33,0,0,0,34,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,184,0,0,0,33,0,0,0,35,0,0,0,3,0,0,0,4,0,0,0,56,0,0,0,0,0,0,0,216,3,0,0,36,0,0,0,37,0,0,0,200,255,255,255,200,255,255,255,216,3,0,0,38,0,0,0,39,0,0,0,56,0,0,0,0,0,0,0,104,0,0,0,40,0,0,0,41,0,0,0,200,255,255,255,200,255,255,255,104,0,0,0,42,0,0,0,43,0,0,0,0,0,0,0,88,0,0,0,44,0,0,0,45,0,0,0,17,0,0,0,1,0,0,0,1,0,0,0,5,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,17,0,0,0,3,0,0,0,18,0,0,0,104,141,0,0,64,141,0,0,84,141,0,0,124,141,0,0,0,0,0,0,32,0,0,0,46,0,0,0,47,0,0,0,6,0,0,0,7,0,0,0,0,0,0,0,56,0,0,0,48,0,0,0,49,0,0,0,8,0,0,0,9,0,0,0,0,0,0,0,72,0,0,0,50,0,0,0,51,0,0,0,10,0,0,0,11,0,0,0,0,0,0,0,120,0,0,0,52,0,0,0,53,0,0,0,12,0,0,0,13,0,0,0,0,0,0,0,136,0,0,0,54,0,0,0,55,0,0,0,14,0,0,0,15,0,0,0,0,0,0,0,152,0,0,0,56,0,0,0,57,0,0,0,16,0,0,0,17,0,0,0,0,0,0,0,168,0,0,0,58,0,0,0,59,0,0,0,18,0,0,0,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,5,0,0,0,6,0,0,0,6,0,0,0,7,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,0,0,0,0,216,0,0,0,60,0,0,0,61,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,62,0,0,0,63,0,0,0,20,0,0,0,21,0,0,0,0,0,0,0,16,1,0,0,64,0,0,0,65,0,0,0,22,0,0,0,23,0,0,0,0,0,0,0,32,1,0,0,66,0,0,0,67,0,0,0,24,0,0,0,25,0,0,0,0,0,0,0,48,1,0,0,68,0,0,0,69,0,0,0,26,0,0,0,27,0,0,0,0,0,0,0,160,1,0,0,70,0,0,0,71,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,24,2,0,0,72,0,0,0,73,0,0,0,5,0,0,0,1,0,0,0,4,0,0,0,5,0,0,0,2,0,0,0,0,0,0,0,40,2,0,0,74,0,0,0,75,0,0,0,18,0,0,0,0,0,0,0,64,2,0,0,76,0,0,0,77,0,0,0,19,0,0,0,2,0,0,0,0,0,0,0,80,2,0,0,78,0,0,0,79,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,104,2,0,0,80,0,0,0,81,0,0,0,7,0,0,0,0,0,0,0,128,2,0,0,82,0,0,0,83,0,0,0,8,0,0,0,0,0,0,0,160,2,0,0,84,0,0,0,85,0,0,0,86,0,0,0,87,0,0,0,6,0,0,0,2,0,0,0,9,0,0,0,28,0,0,0,0,0,0,0,208,2,0,0,84,0,0,0,88,0,0,0,86,0,0,0,87,0,0,0,6,0,0,0,3,0,0,0,10,0,0,0,29,0,0,0,0,0,0,0,224,2,0,0,84,0,0,0,89,0,0,0,86,0,0,0,87,0,0,0,6,0,0,0,4,0,0,0,11,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,1,203,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,192,3,0,0,192,4,0,0,192,5,0,0,192,6,0,0,192,7,0,0,192,8,0,0,192,9,0,0,192,10,0,0,192,11,0,0,192,12,0,0,192,13,0,0,192,14,0,0,192,15,0,0,192,16,0,0,192,17,0,0,192,18,0,0,192,19,0,0,192,20,0,0,192,21,0,0,192,22,0,0,192,23,0,0,192,24,0,0,192,25,0,0,192,26,0,0,192,27,0,0,192,28,0,0,192,29,0,0,192,30,0,0,192,31,0,0,192,0,0,0,179,1,0,0,195,2,0,0,195,3,0,0,195,4,0,0,195,5,0,0,195,6,0,0,195,7,0,0,195,8,0,0,195,9,0,0,195,10,0,0,195,11,0,0,195,12,0,0,195,13,0,0,211,14,0,0,195,15,0,0,195,0,0,12,187,1,0,12,195,2,0,12,195,3,0,12,195,4,0,12,211,88,146,0,0,200,146,0,0,56,147,0,0,56,147,0,0,120,187,0,0,168,155,0,0,168,149,0,0,0,0,0,0,10,0,0,0,100,0,0,0,232,3,0,0,16,39,0,0,160,134,1,0,64,66,15,0,128,150,152,0,0,225,245,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,9,0,0,0,159,219,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,0,0,9,0,0,0,151,215,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,9,0,0,0,143,211,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,20,0,0,0,21,0,0,0,22,0,0,0,23,0,0,0,24,0,0,0,25,0,0,0,26,0,0,0,27,0,0,0,28,0,0,0,29,0,0,0,30,0,0,0,31,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,35,0,0,0,36,0,0,0,37,0,0,0,38,0,0,0,39,0,0,0,40,0,0,0,41,0,0,0,42,0,0,0,43,0,0,0,44,0,0,0,45,0,0,0,46,0,0,0,47,0,0,0,48,0,0,0,49,0,0,0,50,0,0,0,51,0,0,0,52,0,0,0,53,0,0,0,54,0,0,0,55,0,0,0,56,0,0,0,57,0,0,0,58,0,0,0,59,0,0,0,60,0,0,0,61,0,0,0,62,0,0,0,63,0,0,0,64,0,0,0,65,0,0,0,66,0,0,0,67,0,0,0,68,0,0,0,69,0,0,0,70,0,0,0,71,0,0,0,72,0,0,0,73,0,0,0,74,0,0,0,75,0,0,0,76,0,0,0,77,0,0,0,78,0,0,0,79,0,0,0,80,0,0,0,81,0,0,0,82,0,0,0,83,0,0,0,84,0,0,0,85,0,0,0,86,0,0,0,87,0,0,0,88,0,0,0,89,0,0,0,90,0,0,0,91,0,0,0,92,0,0,0,93,0,0,0,94,0,0,0,95,0,0,0,96,0,0,0,65,0,0,0,66,0,0,0,67,0,0,0,68,0,0,0,69,0,0,0,70,0,0,0,71,0,0,0,72,0,0,0,73,0,0,0,74,0,0,0,75,0,0,0,76,0,0,0,77,0,0,0,78,0,0,0,79,0,0,0,80,0,0,0,81,0,0,0,82,0,0,0,83,0,0,0,84,0,0,0,85,0,0,0,86,0,0,0,87,0,0,0,88,0,0,0,89,0,0,0,90,0,0,0,123,0,0,0,124,0,0,0,125,0,0,0,126,0,0,0,127],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+35640),allocate([1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,20,0,0,0,21,0,0,0,22,0,0,0,23,0,0,0,24,0,0,0,25,0,0,0,26,0,0,0,27,0,0,0,28,0,0,0,29,0,0,0,30,0,0,0,31,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,35,0,0,0,36,0,0,0,37,0,0,0,38,0,0,0,39,0,0,0,40,0,0,0,41,0,0,0,42,0,0,0,43,0,0,0,44,0,0,0,45,0,0,0,46,0,0,0,47,0,0,0,48,0,0,0,49,0,0,0,50,0,0,0,51,0,0,0,52,0,0,0,53,0,0,0,54,0,0,0,55,0,0,0,56,0,0,0,57,0,0,0,58,0,0,0,59,0,0,0,60,0,0,0,61,0,0,0,62,0,0,0,63,0,0,0,64,0,0,0,97,0,0,0,98,0,0,0,99,0,0,0,100,0,0,0,101,0,0,0,102,0,0,0,103,0,0,0,104,0,0,0,105,0,0,0,106,0,0,0,107,0,0,0,108,0,0,0,109,0,0,0,110,0,0,0,111,0,0,0,112,0,0,0,113,0,0,0,114,0,0,0,115,0,0,0,116,0,0,0,117,0,0,0,118,0,0,0,119,0,0,0,120,0,0,0,121,0,0,0,122,0,0,0,91,0,0,0,92,0,0,0,93,0,0,0,94,0,0,0,95,0,0,0,96,0,0,0,97,0,0,0,98,0,0,0,99,0,0,0,100,0,0,0,101,0,0,0,102,0,0,0,103,0,0,0,104,0,0,0,105,0,0,0,106,0,0,0,107,0,0,0,108,0,0,0,109,0,0,0,110,0,0,0,111,0,0,0,112,0,0,0,113,0,0,0,114,0,0,0,115,0,0,0,116,0,0,0,117,0,0,0,118,0,0,0,119,0,0,0,120,0,0,0,121,0,0,0,122,0,0,0,123,0,0,0,124,0,0,0,125,0,0,0,126,0,0,0,127],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+39844),allocate([240,2,0,0,90,0,0,0,91,0,0,0,20,0,0,0,12,0,0,0,5,0,0,0,31,0,0,0,10,0,0,0,11,0,0,0,13,0,0,0,12,0,0,0,13,0,0,0,19,0,0,0,14,0,0,0,20,0,0,0,0,0,0,0,0,3,0,0,90,0,0,0,92,0,0,0,21,0,0,0,12,0,0,0,5,0,0,0,31,0,0,0,14,0,0,0,11,0,0,0,13,0,0,0,15,0,0,0,16,0,0,0,21,0,0,0,15,0,0,0,22,0,0,0,0,0,0,0,16,3,0,0,93,0,0,0,94,0,0,0,22,0,0,0,1,0,0,0,6,0,0,0,32,0,0,0,17,0,0,0,2,0,0,0,2,0,0,0,18,0,0,0,4,0,0,0,23,0,0,0,16,0,0,0,24,0,0,0,0,0,0,0,32,3,0,0,93,0,0,0,95,0,0,0,23,0,0,0,1,0,0,0,6,0,0,0,32,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,19,0,0,0,20,0,0,0,25,0,0,0,3,0,0,0,26,0,0,0,0,0,0,0,56,3,0,0,96,0,0,0,97,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,152,3,0,0,93,0,0,0,98,0,0,0,17,0,0,0,1,0,0,0,6,0,0,0,32,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,18,0,0,0,4,0,0,0,23,0,0,0,3,0,0,0,26,0,0,0,0,0,0,0,160,3,0,0,90,0,0,0,99,0,0,0,24,0,0,0,12,0,0,0,5,0,0,0,31,0,0,0,14,0,0,0,11,0,0,0,13,0,0,0,12,0,0,0,13,0,0,0,19,0,0,0,15,0,0,0,22,0,0,0,8,0,0,0,0,0,0,0,168,3,0,0,100,0,0,0,101,0,0,0,248,255,255,255,248,255,255,255,168,3,0,0,102,0,0,0,103,0,0,0,8,0,0,0,0,0,0,0,192,3,0,0,104,0,0,0,105,0,0,0,248,255,255,255,248,255,255,255,192,3,0,0,106,0,0,0,107,0,0,0,4,0,0,0,0,0,0,0,216,3,0,0,36,0,0,0,37,0,0,0,252,255,255,255,252,255,255,255,216,3,0,0,38,0,0,0,39,0,0,0,4,0,0,0,0,0,0,0,240,3,0,0,108,0,0,0,109,0,0,0,252,255,255,255,252,255,255,255,240,3,0,0,110,0,0,0,111,0,0,0,0,0,0,0,96,3,0,0,112,0,0,0,113,0,0,0,7,0,0,0,0,0,0,0,112,3,0,0,114,0,0,0,115,0,0,0,0,0,0,0,8,4,0,0,72,0,0,0,116,0,0,0,21,0,0,0,1,0,0,0,4,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,117,0,0,0,118,0,0,0,119,0,0,0,1,0,0,0,33,0,0,0,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,5,0,0,120,0,0,0,121,0,0,0,119,0,0,0,2,0,0,0,34,0,0,0,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,5,0,0,122,0,0,0,123,0,0,0,119,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,5,0,0,124,0,0,0,125,0,0,0,119,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,20,0,0,0,21,0,0,0,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,5,0,0,126,0,0,0,127,0,0,0,119,0,0,0,3,0,0,0,4,0,0,0,23,0,0,0,5,0,0,0,24,0,0,0,1,0,0,0,2,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,5,0,0,128,0,0,0,129,0,0,0,119,0,0,0,7,0,0,0,8,0,0,0,25,0,0,0,9,0,0,0,26,0,0,0,3,0,0,0,4,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,224,5,0,0,130,0,0,0,131,0,0,0,119,0,0,0,22,0,0,0,27,0,0,0,28,0,0,0,29,0,0,0,30,0,0,0,31,0,0,0,1,0,0,0,248,255,255,255,224,5,0,0,23,0,0,0,24,0,0,0,25,0,0,0,26,0,0,0,27,0,0,0,28,0,0,0,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,6,0,0,132,0,0,0,133,0,0,0,119,0,0,0,30,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,35,0,0,0,36,0,0,0,2,0,0,0,248,255,255,255,8,6,0,0,31,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,35,0,0,0,36,0,0,0,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,6,0,0,134,0,0,0,135,0,0,0,119,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,80,6,0,0,136,0,0,0,137,0,0,0,119,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,6,0,0,138,0,0,0,139,0,0,0,119,0,0,0,38,0,0,0,39,0,0,0,25,0,0,0,26,0,0,0,27,0,0,0,28,0,0,0,40,0,0,0,29,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,144,6,0,0,140,0,0,0,141,0,0,0,119,0,0,0,41,0,0,0,42,0,0,0,31,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,43,0,0,0,35,0,0,0,36,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,176,6,0,0,142,0,0,0,143,0,0,0,119,0,0,0,44,0,0,0,45,0,0,0,37,0,0,0,38,0,0,0,39,0,0,0,40,0,0,0,46,0,0,0,41,0,0,0,42,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,208,6,0,0,144,0,0,0,145,0,0,0,119,0,0,0,47,0,0,0,48,0,0,0,43,0,0,0,44,0,0,0,45,0,0,0,46,0,0,0,49,0,0,0,47,0,0,0,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,6,0,0,146,0,0,0,147,0,0,0,119,0,0,0,3,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,7,0,0,148,0,0,0,149,0,0,0,119,0,0,0,5,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,7,0,0,150,0,0,0,151,0,0,0,119,0,0,0,1,0,0,0,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,80,7,0,0,152,0,0,0,153,0,0,0,119,0,0,0,2,0,0,0,38,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,7,0,0,154,0,0,0,155,0,0,0,119,0,0,0,19,0,0,0,7,0,0,0,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,144,7,0,0,156,0,0,0,157,0,0,0,119,0,0,0,20,0,0,0,8,0,0,0,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,4,0,0,158,0,0,0,159,0,0,0,119,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,5,0,0,160,0,0,0,161,0,0,0,119,0,0,0,27,0,0,0,21,0,0,0,28,0,0,0,22,0,0,0,29,0,0,0,9,0,0,0,23,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,208,4,0,0,162,0,0,0,163,0,0,0,119,0,0,0,3,0,0,0,4,0,0,0,12,0,0,0,50,0,0,0,51,0,0,0,13,0,0,0,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,5,0,0,164,0,0,0,165,0,0,0,119,0,0,0,53,0,0,0,54,0,0,0,51,0,0,0,52,0,0,0,53,0,0,0,0,0,0,0,80,5,0,0,166,0,0,0,167,0,0,0,119,0,0,0,55,0,0,0,56,0,0,0,54,0,0,0,55,0,0,0,56,0,0,0,0,0,0,0,32,4,0,0,168,0,0,0,169,0,0,0,119,0,0,0,0,0,0,0,48,4,0,0,168,0,0,0,170,0,0,0,119,0,0,0,24,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,30,0,0,0,25,0,0,0,31,0,0,0,26,0,0,0,32,0,0,0,13,0,0,0,27,0,0,0,14,0,0,0,0,0,0,0,80,4,0,0,168,0,0,0,171,0,0,0,119,0,0,0,5,0,0,0,6,0,0,0,15,0,0,0,57,0,0,0,58,0,0,0,16,0,0,0,59,0,0,0,0,0,0,0,112,4,0,0,168,0,0,0,172,0,0,0,119,0,0,0,7,0,0,0,8,0,0,0,17,0,0,0,60,0,0,0,61,0,0,0,18,0,0,0,62,0,0,0,0,0,0,0,144,4,0,0,168,0,0,0,173,0,0,0,119,0,0,0,9,0,0,0,10,0,0,0,19,0,0,0,63,0,0,0,64,0,0,0,20,0,0,0,65,0,0,0,0,0,0,0,176,4,0,0,168,0,0,0,174,0,0,0,119,0,0,0,9,0,0,0,10,0,0,0,19,0,0,0,63,0,0,0,64,0,0,0,20,0,0,0,65,0,0,0,0,0,0,0,192,4,0,0,168,0,0,0,175,0,0,0,119,0,0,0,9,0,0,0,10,0,0,0,19,0,0,0,63,0,0,0,64,0,0,0,20,0,0,0,65,0,0,0,0,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,37,0,0,0,109,0,0,0,47,0,0,0,37,0,0,0,100,0,0,0,47,0,0,0,37,0,0,0,121,0,0,0,37,0,0,0,89,0,0,0,45,0,0,0,37,0,0,0,109,0,0,0,45,0,0,0,37,0,0,0,100,0,0,0,37,0,0,0,73,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,32,0,0,0,37,0,0,0,112,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,116,0,0,0,114,0,0,0,117,0,0,0,101,0,0,0,0,0,0,0,102,0,0,0,97,0,0,0,108,0,0,0,115,0,0,0,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,83,0,0,0,117,0,0,0,110,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,77,0,0,0,111,0,0,0,110,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,84,0,0,0,117,0,0,0,101,0,0,0,115,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,87,0,0,0,101,0,0,0,100,0,0,0,110,0,0,0,101,0,0,0,115,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,84,0,0,0,104,0,0,0,117,0,0,0,114,0,0,0,115,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,70,0,0,0,114,0,0,0,105,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,83,0,0,0,97,0,0,0,116,0,0,0,117,0,0,0,114,0,0,0,100,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,83,0,0,0,117,0,0,0,110,0,0,0,0,0,0,0,77,0,0,0,111,0,0,0,110,0,0,0,0,0,0,0,84,0,0,0,117,0,0,0,101,0,0,0,0,0,0,0,87,0,0,0,101,0,0,0,100,0,0,0,0,0,0,0,84,0,0,0,104,0,0,0,117,0,0,0,0,0,0,0,70,0,0,0,114,0,0,0,105,0,0,0,0,0,0,0,83,0,0,0,97,0,0,0,116,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,74,0,0,0,97,0,0,0,110,0,0,0,117,0,0,0,97,0,0,0,114,0,0,0,121,0,0,0,0,0,0,0,70,0,0,0,101,0,0,0,98,0,0,0,114,0,0,0,117,0,0,0,97,0,0,0,114,0,0,0,121,0,0,0,0,0,0,0,77,0,0,0,97,0,0,0,114,0,0,0,99,0,0,0,104,0,0,0,0,0,0,0,65,0,0,0,112,0,0,0,114,0,0,0,105,0,0,0,108,0,0,0,0,0,0,0,77,0,0,0,97,0,0,0,121,0,0,0,0,0,0,0,74,0,0,0,117,0,0,0,110,0,0,0,101,0,0,0,0,0,0,0,74,0,0,0,117,0,0,0,108,0,0,0,121,0,0,0,0,0,0,0,65,0,0,0,117,0,0,0,103,0,0,0,117,0,0,0,115,0,0,0,116,0,0,0,0,0,0,0,83,0,0,0,101,0,0,0,112,0,0,0,116,0,0,0,101,0,0,0,109,0,0,0,98,0,0,0,101,0,0,0,114,0,0,0,0,0,0,0,79,0,0,0,99,0,0,0,116,0,0,0,111,0,0,0,98,0,0,0,101,0,0,0,114,0,0,0,0,0,0,0,78,0,0,0,111,0,0,0,118,0,0,0,101,0,0,0,109,0,0,0,98,0,0,0,101,0,0,0,114,0,0,0,0,0,0,0,68,0,0,0,101,0,0,0,99,0,0,0,101,0,0,0,109,0,0,0,98,0,0,0,101,0,0,0,114,0,0,0,0,0,0,0,74,0,0,0,97,0,0,0,110,0,0,0,0,0,0,0,70,0,0,0,101,0,0,0,98,0,0,0,0,0,0,0,77,0,0,0,97,0,0,0,114,0,0,0,0,0,0,0,65,0,0,0,112,0,0,0,114,0,0,0,0,0,0,0,74,0,0,0,117,0,0,0,110,0,0,0,0,0,0,0,74,0,0,0,117,0,0,0,108,0,0,0,0,0,0,0,65,0,0,0,117,0,0,0,103,0,0,0,0,0,0,0,83,0,0,0,101,0,0,0,112,0,0,0,0,0,0,0,79,0,0,0,99,0,0,0,116,0,0,0,0,0,0,0,78,0,0,0,111,0,0,0,118,0,0,0,0,0,0,0,68,0,0,0,101,0,0,0,99,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,65,0,0,0,77,0,0,0,0,0,0,0,80,0,0,0,77,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,0,0,0,109,0,0,0,47,0,0,0,37,0,0,0,100,0,0,0,47,0,0,0,37,0,0,0,121,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,0,0,0,97,0,0,0,32,0,0,0,37,0,0,0,98,0,0,0,32,0,0,0,37,0,0,0,100,0,0,0,32,0,0,0,37,0,0,0,72,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,32,0,0,0,37,0,0,0,89,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,0,0,0,73,0,0,0,58,0,0,0,37,0,0,0,77,0,0,0,58,0,0,0,37,0,0,0,83,0,0,0,32,0,0,0,37,0,0,0,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,3,32,2,32,2,32,2,32,2,32,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1,96,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,4,192,8,216,8,216,8,216,8,216,8,216,8,216,8,216,8,216,8,216,8,216,4,192,4,192,4,192,4,192,4,192,4,192,4,192,8,213,8,213,8,213,8,213,8,213,8,213,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,8,197,4,192,4,192,4,192,4,192,4,192,4,192,8,214,8,214,8,214,8,214,8,214,8,214,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,8,198,4,192,4,192,4,192,4,192,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,114,97,119,83,116,114,101,97,109,32,111,114,32,114,97,119,68,97,116,97,32,110,101,101,100,115,32,116,111,32,114,101,102,101,114,101,110,99,101,32,116,111,32,115,111,109,101,116,104,105,110,103,0,119,105,100,116,104,32,110,101,101,100,115,32,116,111,32,98,101,32,105,110,32,116,104,101,32,114,97,110,103,101,32,91,49,44,32,54,53,53,51,53,93,0,104,101,105,103,104,116,32,110,101,101,100,115,32,116,111,32,98,101,32,105,110,32,116,104,101,32,114,97,110,103,101,32,91,49,44,32,54,53,53,51,53,93,0,98,105,116,115,112,101,114,115,97,109,112,108,101,32,110,101,101,100,115,32,116,111,32,98,101,32,105,110,32,116,104,101,32,114,97,110,103,101,32,91,50,44,32,49,54,93,0,105,110,116,101,114,108,101,97,118,101,77,111,100,101,32,110,101,101,100,115,32,116,111,32,98,101,32,115,101,116,32,116,111,32,97,32,118,97,108,117,101,32,111,102,32,123,78,111,110,101,44,32,83,97,109,112,108,101,44,32,76,105,110,101,125,0,99,111,109,112,111,110,101,110,116,115,32,110,101,101,100,115,32,116,111,32,98,101,32,105,110,32,116,104,101,32,114,97,110,103,101,32,91,49,44,32,50,53,53,93,0,117,110,99,111,109,112,114,101,115,115,101,100,32,115,105,122,101,32,100,111,101,115,32,110,111,116,32,109,97,116,99,104,32,119,105,116,104,32,116,104,101,32,111,116,104,101,114,32,112,97,114,97,109,101,116,101,114,115,0,105,110,116,101,114,108,101,97,118,101,77,111,100,101,32,99,97,110,110,111,116,32,98,101,32,115,101,116,32,116,111,32,83,97,109,112,108,101,32,105,110,32,99,111,109,98,105,110,97,116,105,111,110,32,119,105,116,104,32,99,111,109,112,111,110,101,110,116,115,32,61,32,52,0,105,110,116,101,114,108,101,97,118,101,77,111,100,101,32,99,97,110,32,111,110,108,121,32,98,101,32,115,101,116,32,116,111,32,78,111,110,101,32,105,110,32,99,111,109,98,105,110,97,116,105,111,110,32,119,105,116,104,32,99,111,109,112,111,110,101,110,116,115,32,61,32,49,0,67,111,108,111,114,32,116,114,97,110,115,102,111,114,109,97,116,105,111,110,32,0,78,111,32,109,111,114,101,32,98,121,116,101,115,32,97,118,97,105,108,97,98,108,101,32,105,110,32,105,110,112,117,116,32,98,117,102,102,101,114,44,32,115,116,105,108,108,32,110,101,101,100,101,100,105,110,103,32,0,65,110,32,111,100,100,32,110,117,109,98,101,114,32,111,102,32,98,121,116,101,115,32,40,0,41,32,99,97,110,110,111,116,32,98,101,32,115,119,97,112,112,101,100,46,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,54,84,114,97,110,115,102,111,114,109,83,104,105,102,116,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,51,73,116,69,69,69,0,49,49,80,114,111,99,101,115,115,76,105,110,101,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,54,84,114,97,110,115,102,111,114,109,83,104,105,102,116,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,50,73,116,69,69,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,54,84,114,97,110,115,102,111,114,109,83,104,105,102,116,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,49,73,116,69,69,69,0,78,83,116,51,95,95,49,49,53,98,97,115,105,99,95,115,116,114,105,110,103,98,117,102,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,99,69,69,69,69,0,78,83,116,51,95,95,49,49,57,98,97,115,105,99,95,111,115,116,114,105,110,103,115,116,114,101,97,109,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,99,69,69,69,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,51,73,116,69,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,50,73,116,69,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,49,73,116,69,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,51,84,114,97,110,115,102,111,114,109,78,111,110,101,73,116,69,69,0,50,50,80,111,115,116,80,114,111,99,101,115,83,105,110,103,108,101,83,116,114,101,97,109,0,50,53,80,111,115,116,80,114,111,99,101,115,83,105,110,103,108,101,67,111,109,112,111,110,101,110,116,0,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,0,56,74,108,115,67,111,100,101,99,73,49,52,68,101,102,97,117,108,116,84,114,97,105,116,115,84,73,116,116,69,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,52,68,101,102,97,117,108,116,84,114,97,105,116,115,84,73,116,55,84,114,105,112,108,101,116,73,116,69,69,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,51,73,104,69,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,50,73,104,69,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,50,84,114,97,110,115,102,111,114,109,72,112,49,73,104,69,69,0,49,56,80,114,111,99,101,115,115,84,114,97,110,115,102,111,114,109,101,100,73,49,51,84,114,97,110,115,102,111,114,109,78,111,110,101,73,104,69,69,0,56,74,108,115,67,111,100,101,99,73,49,52,68,101,102,97,117,108,116,84,114,97,105,116,115,84,73,104,55,84,114,105,112,108,101,116,73,104,69,69,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,53,76,111,115,115,108,101,115,115,84,114,97,105,116,115,84,73,116,76,105,49,54,69,69,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,53,76,111,115,115,108,101,115,115,84,114,97,105,116,115,84,73,116,76,105,49,50,69,69,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,53,76,111,115,115,108,101,115,115,84,114,97,105,116,115,84,73,104,76,105,56,69,69,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,53,76,111,115,115,108,101,115,115,84,114,97,105,116,115,84,73,55,84,114,105,112,108,101,116,73,104,69,76,105,56,69,69,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,52,68,101,102,97,117,108,116,84,114,97,105,116,115,84,73,104,104,69,49,53,69,110,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,0,56,74,108,115,67,111,100,101,99,73,49,52,68,101,102,97,117,108,116,84,114,97,105,116,115,84,73,116,116,69,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,52,68,101,102,97,117,108,116,84,114,97,105,116,115,84,73,116,55,84,114,105,112,108,101,116,73,116,69,69,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,52,68,101,102,97,117,108,116,84,114,97,105,116,115,84,73,104,55,84,114,105,112,108,101,116,73,104,69,69,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,53,76,111,115,115,108,101,115,115,84,114,97,105,116,115,84,73,116,76,105,49,54,69,69,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,53,76,111,115,115,108,101,115,115,84,114,97,105,116,115,84,73,116,76,105,49,50,69,69,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,53,76,111,115,115,108,101,115,115,84,114,97,105,116,115,84,73,104,76,105,56,69,69,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,53,76,111,115,115,108,101,115,115,84,114,97,105,116,115,84,73,55,84,114,105,112,108,101,116,73,104,69,76,105,56,69,69,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,56,74,108,115,67,111,100,101,99,73,49,52,68,101,102,97,117,108,116,84,114,97,105,116,115,84,73,104,104,69,49,53,68,101,99,111,100,101,114,83,116,114,97,116,101,103,121,69,0,67,104,97,114,76,83,32,101,114,114,111,114,0,99,104,97,114,108,115,0,49,53,99,104,97,114,108,115,95,99,97,116,101,103,111,114,121,0,112,97,114,97,109,115,46,88,116,104,117,109,98,110,97,105,108,32,105,115,32,62,32,48,32,98,117,116,32,112,97,114,97,109,115,46,116,104,117,109,98,110,97,105,108,32,61,61,32,110,117,108,108,95,112,116,114,0,49,55,74,112,101,103,77,97,114,107,101,114,83,101,103,109,101,110,116,0,49,49,74,112,101,103,83,101,103,109,101,110,116,0,50,48,74,112,101,103,73,109,97,103,101,68,97,116,97,83,101,103,109,101,110,116,0,69,120,112,101,99,116,101,100,32,74,80,69,71,32,77,97,114,107,101,114,32,115,116,97,114,116,32,98,121,116,101,32,48,120,70,70,32,98,117,116,32,116,104,101,32,98,121,116,101,32,118,97,108,117,101,32,119,97,115,32,48,120,0,74,80,69,71,32,101,110,99,111,100,105,110,103,32,119,105,116,104,32,109,97,114,107,101,114,32,0,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,46,0,85,110,107,110,111,119,110,32,74,80,69,71,32,109,97,114,107,101,114,32,0,32,101,110,99,111,117,110,116,101,114,101,100,46,0,109,114,102,120,0,83,116,57,98,97,100,95,97,108,108,111,99,0,83,116,57,101,120,99,101,112,116,105,111,110,0,83,116,49,51,114,117,110,116,105,109,101,95,101,114,114,111,114,0,83,116,57,116,121,112,101,95,105,110,102,111,0,83,116,56,98,97,100,95,99,97,115,116,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,57,95,95,112,111,105,110,116,101,114,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,112,98,97,115,101,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,33,34,98,97,115,105,99,95,115,116,114,105,110,103,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,85,115,101,114,115,47,99,104,97,102,101,121,47,101,109,115,100,107,95,112,111,114,116,97,98,108,101,47,101,109,115,99,114,105,112,116,101,110,47,49,46,51,53,46,48,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,115,116,114,105,110,103,0,95,95,116,104,114,111,119,95,108,101,110,103,116,104,95,101,114,114,111,114,0,33,34,118,101,99,116,111,114,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,85,115,101,114,115,47,99,104,97,102,101,121,47,101,109,115,100,107,95,112,111,114,116,97,98,108,101,47,101,109,115,99,114,105,112,116,101,110,47,49,46,51,53,46,48,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,118,101,99,116,111,114,0,112,116,104,114,101,97,100,95,111,110,99,101,32,102,97,105,108,117,114,101,32,105,110,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,95,102,97,115,116,40,41,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,114,101,116,117,114,110,101,100,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,116,104,114,101,119,32,97,110,32,101,120,99,101,112,116,105,111,110,0,115,116,100,58,58,98,97,100,95,99,97,115,116,0,99,97,110,110,111,116,32,99,114,101,97,116,101,32,112,116,104,114,101,97,100,32,107,101,121,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,99,97,110,110,111,116,32,122,101,114,111,32,111,117,116,32,116,104,114,101,97,100,32,118,97,108,117,101,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,58,32,37,115,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,102,111,114,101,105,103,110,32,101,120,99,101,112,116,105,111,110,0,116,101,114,109,105,110,97,116,105,110,103,0,117,110,99,97,117,103,104,116,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+42396),allocate([32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0,105,110,102,105,110,105,116,121,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,7,3,6,5,0,80,79,83,73,88],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+52636),allocate([17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,46,0,0,78,83,116,51,95,95,49,49,49,95,95,115,116,100,111,117,116,98,117,102,73,119,69,69,0,117,110,115,117,112,112,111,114,116,101,100,32,108,111,99,97,108,101,32,102,111,114,32,115,116,97,110,100,97,114,100,32,105,110,112,117,116,0,78,83,116,51,95,95,49,49,48,95,95,115,116,100,105,110,98,117,102,73,119,69,69,0,78,83,116,51,95,95,49,49,49,95,95,115,116,100,111,117,116,98,117,102,73,99,69,69,0,78,83,116,51,95,95,49,49,48,95,95,115,116,100,105,110,98,117,102,73,99,69,69,0,78,83,116,51,95,95,49,49,52,95,95,115,104,97,114,101,100,95,99,111,117,110,116,69,0,78,83,116,51,95,95,49,49,50,115,121,115,116,101,109,95,101,114,114,111,114,69,0,78,83,116,51,95,95,49,49,52,101,114,114,111,114,95,99,97,116,101,103,111,114,121,69,0,78,83,116,51,95,95,49,49,50,95,95,100,111,95,109,101,115,115,97,103,101,69,0,58,32,0,78,83,116,51,95,95,49,56,105,111,115,95,98,97,115,101,55,102,97,105,108,117,114,101,69,0,78,83,116,51,95,95,49,56,105,111,115,95,98,97,115,101,69,0,78,83,116,51,95,95,49,57,98,97,115,105,99,95,105,111,115,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,0,78,83,116,51,95,95,49,57,98,97,115,105,99,95,105,111,115,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,0,78,83,116,51,95,95,49,49,53,98,97,115,105,99,95,115,116,114,101,97,109,98,117,102,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,0,78,83,116,51,95,95,49,49,53,98,97,115,105,99,95,115,116,114,101,97,109,98,117,102,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,0,78,83,116,51,95,95,49,49,51,98,97,115,105,99,95,105,115,116,114,101,97,109,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,0,78,83,116,51,95,95,49,49,51,98,97,115,105,99,95,105,115,116,114,101,97,109,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,0,78,83,116,51,95,95,49,49,51,98,97,115,105,99,95,111,115,116,114,101,97,109,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,0,78,83,116,51,95,95,49,49,51,98,97,115,105,99,95,111,115,116,114,101,97,109,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,0,78,83,116,51,95,95,49,49,57,95,95,105,111,115,116,114,101,97,109,95,99,97,116,101,103,111,114,121,69,0,105,111,115,95,98,97,115,101,58,58,99,108,101,97,114,0,105,111,115,116,114,101,97,109,0,117,110,115,112,101,99,105,102,105,101,100,32,105,111,115,116,114,101,97,109,95,99,97,116,101,103,111,114,121,32,101,114,114,111,114,0,48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102,65,66,67,68,69,70,120,88,43,45,112,80,105,73,110,78,0,78,83,116,51,95,95,49,54,108,111,99,97,108,101,53,102,97,99,101,116,69,0,78,83,116,51,95,95,49,53,99,116,121,112,101,73,119,69,69,0,78,83,116,51,95,95,49,55,99,111,100,101,99,118,116,73,99,99,49,49,95,95,109,98,115,116,97,116,101,95,116,69,69,0,78,83,116,51,95,95,49,55,99,111,100,101,99,118,116,73,68,115,99,49,49,95,95,109,98,115,116,97,116,101,95,116,69,69,0,78,83,116,51,95,95,49,55,99,111,100,101,99,118,116,73,68,105,99,49,49,95,95,109,98,115,116,97,116,101,95,116,69,69,0,78,83,116,51,95,95,49,49,54,95,95,110,97,114,114,111,119,95,116,111,95,117,116,102,56,73,76,106,51,50,69,69,69,0,78,83,116,51,95,95,49,49,55,95,95,119,105,100,101,110,95,102,114,111,109,95,117,116,102,56,73,76,106,51,50,69,69,69,0,78,83,116,51,95,95,49,55,99,111,100,101,99,118,116,73,119,99,49,49,95,95,109,98,115,116,97,116,101,95,116,69,69,0,78,83,116,51,95,95,49,54,108,111,99,97,108,101,53,95,95,105,109,112,69,0,78,83,116,51,95,95,49,55,99,111,108,108,97,116,101,73,99,69,69,0,78,83,116,51,95,95,49,55,99,111,108,108,97,116,101,73,119,69,69,0,78,83,116,51,95,95,49,53,99,116,121,112,101,73,99,69,69,0,78,83,116,51,95,95,49,56,110,117,109,112,117,110,99,116,73,99,69,69,0,78,83,116,51,95,95,49,56,110,117,109,112,117,110,99,116,73,119,69,69,0,78,83,116,51,95,95,49,55,110,117,109,95,103,101,116,73,99,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,55,110,117,109,95,103,101,116,73,119,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,55,110,117,109,95,112,117,116,73,99,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,55,110,117,109,95,112,117,116,73,119,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,56,116,105,109,101,95,103,101,116,73,99,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,56,116,105,109,101,95,103,101,116,73,119,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,56,116,105,109,101,95,112,117,116,73,99,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,56,116,105,109,101,95,112,117,116,73,119,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,112,117,110,99,116,73,99,76,98,48,69,69,69,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,112,117,110,99,116,73,99,76,98,49,69,69,69,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,112,117,110,99,116,73,119,76,98,48,69,69,69,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,112,117,110,99,116,73,119,76,98,49,69,69,69,0,78,83,116,51,95,95,49,57,109,111,110,101,121,95,103,101,116,73,99,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,57,109,111,110,101,121,95,103,101,116,73,119,78,83,95,49,57,105,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,57,109,111,110,101,121,95,112,117,116,73,99,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,69,69,69,69,0,78,83,116,51,95,95,49,57,109,111,110,101,121,95,112,117,116,73,119,78,83,95,49,57,111,115,116,114,101,97,109,98,117,102,95,105,116,101,114,97,116,111,114,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,69,69,69,69,0,78,83,116,51,95,95,49,56,109,101,115,115,97,103,101,115,73,99,69,69,0,78,83,116,51,95,95,49,56,109,101,115,115,97,103,101,115,73,119,69,69,0,37,112,0,67,0,37,0,0,0,0,0,108,0,108,108,0,0,76,0,37,112,0,0,0,0,37,72,58,37,77,58,37,83,37,109,47,37,100,47,37,121,37,89,45,37,109,45,37,100,37,73,58,37,77,58,37,83,32,37,112,37,72,58,37,77,37,72,58,37,77,58,37,83,108,111,99,97,108,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,48,49,50,51,52,53,54,55,56,57,0,37,76,102,0,109,111,110,101,121,95,103,101,116,32,101,114,114,111,114,0,48,49,50,51,52,53,54,55,56,57,0,37,46,48,76,102,0,116,114,117,101,0,102,97,108,115,101,0,83,117,110,100,97,121,0,77,111,110,100,97,121,0,84,117,101,115,100,97,121,0,87,101,100,110,101,115,100,97,121,0,84,104,117,114,115,100,97,121,0,70,114,105,100,97,121,0,83,97,116,117,114,100,97,121,0,83,117,110,0,77,111,110,0,84,117,101,0,87,101,100,0,84,104,117,0,70,114,105,0,83,97,116,0,74,97,110,117,97,114,121,0,70,101,98,114,117,97,114,121,0,77,97,114,99,104,0,65,112,114,105,108,0,77,97,121,0,74,117,110,101,0,74,117,108,121,0,65,117,103,117,115,116,0,83,101,112,116,101,109,98,101,114,0,79,99,116,111,98,101,114,0,78,111,118,101,109,98,101,114,0,68,101,99,101,109,98,101,114,0,74,97,110,0,70,101,98,0,77,97,114,0,65,112,114,0,74,117,110,0,74,117,108,0,65,117,103,0,83,101,112,0,79,99,116,0,78,111,118,0,68,101,99,0,65,77,0,80,77,0,37,109,47,37,100,47,37,121,0,37,72,58,37,77,58,37,83,0,37,97,32,37,98,32,37,100,32,37,72,58,37,77,58,37,83,32,37,89,0,37,73,58,37,77,58,37,83,32,37,112,0,78,83,116,51,95,95,49,49,51,109,101,115,115,97,103,101,115,95,98,97,115,101,69,0,78,83,116,51,95,95,49,49,49,95,95,109,111,110,101,121,95,112,117,116,73,119,69,69,0,78,83,116,51,95,95,49,49,49,95,95,109,111,110,101,121,95,112,117,116,73,99,69,69,0,78,83,116,51,95,95,49,49,49,95,95,109,111,110,101,121,95,103,101,116,73,119,69,69,0,78,83,116,51,95,95,49,49,49,95,95,109,111,110,101,121,95,103,101,116,73,99,69,69,0,78,83,116,51,95,95,49,49,48,109,111,110,101,121,95,98,97,115,101,69,0,78,83,116,51,95,95,49,49,48,95,95,116,105,109,101,95,112,117,116,69,0,78,83,116,51,95,95,49,50,48,95,95,116,105,109,101,95,103,101,116,95,99,95,115,116,111,114,97,103,101,73,119,69,69,0,78,83,116,51,95,95,49,50,48,95,95,116,105,109,101,95,103,101,116,95,99,95,115,116,111,114,97,103,101,73,99,69,69,0,78,83,116,51,95,95,49,57,116,105,109,101,95,98,97,115,101,69,0,78,83,116,51,95,95,49,57,95,95,110,117,109,95,112,117,116,73,119,69,69,0,78,83,116,51,95,95,49,49,52,95,95,110,117,109,95,112,117,116,95,98,97,115,101,69,0,78,83,116,51,95,95,49,57,95,95,110,117,109,95,112,117,116,73,99,69,69,0,78,83,116,51,95,95,49,57,95,95,110,117,109,95,103,101,116,73,119,69,69,0,78,83,116,51,95,95,49,49,52,95,95,110,117,109,95,103,101,116,95,98,97,115,101,69,0,78,83,116,51,95,95,49,57,95,95,110,117,109,95,103,101,116,73,99,69,69,0,78,83,116,51,95,95,49,49,50,99,111,100,101,99,118,116,95,98,97,115,101,69,0,78,83,116,51,95,95,49,49,48,99,116,121,112,101,95,98,97,115,101,69,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+56215);var tempDoublePtr=Runtime.alignMemory(allocate(12,"i8",ALLOC_STATIC),8);function copyTempFloat(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3]}function copyTempDouble(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3],HEAP8[tempDoublePtr+4]=HEAP8[e+4],HEAP8[tempDoublePtr+5]=HEAP8[e+5],HEAP8[tempDoublePtr+6]=HEAP8[e+6],HEAP8[tempDoublePtr+7]=HEAP8[e+7]}function _atexit(e,t){__ATEXIT__.unshift({func:e,arg:t})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}function ___assert_fail(e,t,n,r){throw ABORT=!0,"Assertion failed: "+Pointer_stringify(e)+", at: "+[t?Pointer_stringify(t):"unknown filename",n,r?Pointer_stringify(r):"unknown function"]+" at "+stackTrace()}function __ZSt18uncaught_exceptionv(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}assert(tempDoublePtr%8==0),Module._i64Subtract=_i64Subtract;var EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||EXCEPTIONS.infos[e])return e;for(var t in EXCEPTIONS.infos){if(EXCEPTIONS.infos[t].adjusted===e)return t}return e},addRef:function(e){e&&EXCEPTIONS.infos[e].refcount++},decRef:function(e){if(e){var t=EXCEPTIONS.infos[e];assert(t.refcount>0),t.refcount--,0===t.refcount&&(t.destructor&&Runtime.dynCall("vi",t.destructor,[e]),delete EXCEPTIONS.infos[e],___cxa_free_exception(e))}},clearRef:function(e){e&&(EXCEPTIONS.infos[e].refcount=0)}};function ___resumeException(e){throw EXCEPTIONS.last||(EXCEPTIONS.last=e),EXCEPTIONS.clearRef(EXCEPTIONS.deAdjust(e)),e}function ___cxa_find_matching_catch(){var e=EXCEPTIONS.last;if(!e)return 0|(asm.setTempRet0(0),0);var t=EXCEPTIONS.infos[e],n=t.type;if(!n)return 0|(asm.setTempRet0(0),e);var r=Array.prototype.slice.call(arguments);Module.___cxa_is_pointer_type(n);___cxa_find_matching_catch.buffer||(___cxa_find_matching_catch.buffer=_malloc(4)),HEAP32[___cxa_find_matching_catch.buffer>>2]=e,e=___cxa_find_matching_catch.buffer;for(var i=0;i<r.length;i++)if(r[i]&&Module.___cxa_can_catch(r[i],n,e))return e=HEAP32[e>>2],t.adjusted=e,0|(asm.setTempRet0(r[i]),e);return e=HEAP32[e>>2],0|(asm.setTempRet0(n),e)}function ___cxa_throw(e,t,n){throw EXCEPTIONS.infos[e]={ptr:e,adjusted:e,type:t,destructor:n,refcount:0},EXCEPTIONS.last=e,"uncaught_exception"in __ZSt18uncaught_exceptionv?__ZSt18uncaught_exceptionv.uncaught_exception++:__ZSt18uncaught_exceptionv.uncaught_exception=1,e}Module._memset=_memset;var _BDtoILow=!0,_emscripten_resume=!0;function ___gxx_personality_v0(){}var _emscripten_landingpad=!0;function __isLeapYear(e){return e%4===0&&(e%100!==0||e%400===0)}function __arraySum(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}var __MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31],__MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];function __addDays(e,t){for(var n=new Date(e.getTime());t>0;){var r=__isLeapYear(n.getFullYear()),i=n.getMonth(),a=(r?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[i];if(!(t>a-n.getDate()))return n.setDate(n.getDate()+t),n;t-=a-n.getDate()+1,n.setDate(1),i<11?n.setMonth(i+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}function _strftime(e,t,n,r){var i=HEAP32[r+40>>2],a={tm_sec:HEAP32[r>>2],tm_min:HEAP32[r+4>>2],tm_hour:HEAP32[r+8>>2],tm_mday:HEAP32[r+12>>2],tm_mon:HEAP32[r+16>>2],tm_year:HEAP32[r+20>>2],tm_wday:HEAP32[r+24>>2],tm_yday:HEAP32[r+28>>2],tm_isdst:HEAP32[r+32>>2],tm_gmtoff:HEAP32[r+36>>2],tm_zone:i?Pointer_stringify(i):""},o=Pointer_stringify(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S"};for(var u in s)o=o.replace(new RegExp(u,"g"),s[u]);var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["January","February","March","April","May","June","July","August","September","October","November","December"];function f(e,t,n){for(var r="number"===typeof e?e.toString():e||"";r.length<t;)r=n[0]+r;return r}function h(e,t){return f(e,t,"0")}function d(e,t){function n(e){return e<0?-1:e>0?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function p(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function m(e){var t=__addDays(new Date(e.tm_year+1900,0,1),e.tm_yday),n=new Date(t.getFullYear(),0,4),r=new Date(t.getFullYear()+1,0,4),i=p(n),a=p(r);return d(i,t)<=0?d(a,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var g={"%a":function(e){return l[e.tm_wday].substring(0,3)},"%A":function(e){return l[e.tm_wday]},"%b":function(e){return c[e.tm_mon].substring(0,3)},"%B":function(e){return c[e.tm_mon]},"%C":function(e){return h((e.tm_year+1900)/100|0,2)},"%d":function(e){return h(e.tm_mday,2)},"%e":function(e){return f(e.tm_mday,2," ")},"%g":function(e){return m(e).toString().substring(2)},"%G":function(e){return m(e)},"%H":function(e){return h(e.tm_hour,2)},"%I":function(e){return h(e.tm_hour<13?e.tm_hour:e.tm_hour-12,2)},"%j":function(e){return h(e.tm_mday+__arraySum(__isLeapYear(e.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,e.tm_mon-1),3)},"%m":function(e){return h(e.tm_mon+1,2)},"%M":function(e){return h(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>0&&e.tm_hour<13?"AM":"PM"},"%S":function(e){return h(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return new Date(e.tm_year+1900,e.tm_mon+1,e.tm_mday,0,0,0,0).getDay()||7},"%U":function(e){var t=new Date(e.tm_year+1900,0,1),n=0===t.getDay()?t:__addDays(t,7-t.getDay()),r=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(d(n,r)<0){var i=__arraySum(__isLeapYear(r.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,r.getMonth()-1)-31,a=31-n.getDate()+i+r.getDate();return h(Math.ceil(a/7),2)}return 0===d(n,t)?"01":"00"},"%V":function(e){var t,n=new Date(e.tm_year+1900,0,4),r=new Date(e.tm_year+1901,0,4),i=p(n),a=p(r),o=__addDays(new Date(e.tm_year+1900,0,1),e.tm_yday);return d(o,i)<0?"53":d(a,o)<=0?"01":(t=i.getFullYear()<e.tm_year+1900?e.tm_yday+32-i.getDate():e.tm_yday+1-i.getDate(),h(Math.ceil(t/7),2))},"%w":function(e){return new Date(e.tm_year+1900,e.tm_mon+1,e.tm_mday,0,0,0,0).getDay()},"%W":function(e){var t=new Date(e.tm_year,0,1),n=1===t.getDay()?t:__addDays(t,0===t.getDay()?1:7-t.getDay()+1),r=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(d(n,r)<0){var i=__arraySum(__isLeapYear(r.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,r.getMonth()-1)-31,a=31-n.getDate()+i+r.getDate();return h(Math.ceil(a/7),2)}return 0===d(n,t)?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,n=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(n?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var u in g)o.indexOf(u)>=0&&(o=o.replace(new RegExp(u,"g"),g[u](a)));var v=intArrayFromString(o,!1);return v.length>t?0:(writeArrayToMemory(v,e),v.length-1)}function _strftime_l(e,t,n,r){return _strftime(e,t,n,r)}function _abort(){Module.abort()}function _free(){}function ___cxa_free_exception(t){try{return _free(t)}catch(e){}}function ___cxa_end_catch(){if(___cxa_end_catch.rethrown)___cxa_end_catch.rethrown=!1;else{asm.setThrew(0);var e=EXCEPTIONS.caught.pop();e&&(EXCEPTIONS.decRef(EXCEPTIONS.deAdjust(e)),EXCEPTIONS.last=0)}}function _pthread_once(e,t){_pthread_once.seen||(_pthread_once.seen={}),e in _pthread_once.seen||(Runtime.dynCall("v",t),_pthread_once.seen[e]=1)}function ___lock(){}function ___unlock(){}Module._free=_free;var PTHREAD_SPECIFIC={};function _pthread_getspecific(e){return PTHREAD_SPECIFIC[e]||0}function ___setErrNo(e){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=e),e}var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 85:return totalMemory/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"===typeof navigator&&navigator.hardwareConcurrency||1}return ___setErrNo(ERRNO_CODES.EINVAL),-1}var _fabs=Math_abs,PTHREAD_SPECIFIC_NEXT_KEY=1;function _pthread_key_create(e,t){return 0==e?ERRNO_CODES.EINVAL:(HEAP32[e>>2]=PTHREAD_SPECIFIC_NEXT_KEY,PTHREAD_SPECIFIC[PTHREAD_SPECIFIC_NEXT_KEY]=0,PTHREAD_SPECIFIC_NEXT_KEY++,0)}var PATH=void 0;function _emscripten_set_main_loop_timing(e,t){if(Browser.mainLoop.timingMode=e,Browser.mainLoop.timingValue=t,!Browser.mainLoop.func)return 1;if(0==e)Browser.mainLoop.scheduler=function(){setTimeout(Browser.mainLoop.runner,t)},Browser.mainLoop.method="timeout";else if(1==e)Browser.mainLoop.scheduler=function(){Browser.requestAnimationFrame(Browser.mainLoop.runner)},Browser.mainLoop.method="rAF";else if(2==e){if(!window.setImmediate){var n=[],r="__emcc";window.addEventListener("message",(function(e){e.source===window&&e.data===r&&(e.stopPropagation(),n.shift()())}),!0),window.setImmediate=function(e){n.push(e),window.postMessage(r,"*")}}Browser.mainLoop.scheduler=function(){window.setImmediate(Browser.mainLoop.runner)},Browser.mainLoop.method="immediate"}return 0}function _emscripten_set_main_loop(e,t,n,r,i){Module.noExitRuntime=!0,assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Browser.mainLoop.func=e,Browser.mainLoop.arg=r;var a=Browser.mainLoop.currentlyRunningMainloop;if(Browser.mainLoop.runner=function(){if(!ABORT){if(Browser.mainLoop.queue.length>0){var t=Date.now(),n=Browser.mainLoop.queue.shift();if(n.func(n.arg),Browser.mainLoop.remainingBlockers){var i=Browser.mainLoop.remainingBlockers,o=i%1==0?i-1:Math.floor(i);n.counted?Browser.mainLoop.remainingBlockers=o:(o+=.5,Browser.mainLoop.remainingBlockers=(8*i+o)/9)}return console.log('main loop blocker "'+n.name+'" took '+(Date.now()-t)+" ms"),Browser.mainLoop.updateStatus(),void setTimeout(Browser.mainLoop.runner,0)}a<Browser.mainLoop.currentlyRunningMainloop||(Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0,1==Browser.mainLoop.timingMode&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0?Browser.mainLoop.scheduler():("timeout"===Browser.mainLoop.method&&Module.ctx&&(Module.printErr("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Browser.mainLoop.method=""),Browser.mainLoop.runIter((function(){"undefined"!==typeof r?Runtime.dynCall("vi",e,[r]):Runtime.dynCall("v",e)})),a<Browser.mainLoop.currentlyRunningMainloop||("object"===typeof SDL&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Browser.mainLoop.scheduler())))}},i||(t&&t>0?_emscripten_set_main_loop_timing(0,1e3/t):_emscripten_set_main_loop_timing(1,1),Browser.mainLoop.scheduler()),n)throw"SimulateInfiniteLoop"}var Browser={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null,Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var e=Browser.mainLoop.timingMode,t=Browser.mainLoop.timingValue,n=Browser.mainLoop.func;Browser.mainLoop.func=null,_emscripten_set_main_loop(n,0,!1,Browser.mainLoop.arg,!0),_emscripten_set_main_loop_timing(e,t),Browser.mainLoop.scheduler()},updateStatus:function(){if(Module.setStatus){var e=Module.statusMessage||"Please wait...",t=Browser.mainLoop.remainingBlockers,n=Browser.mainLoop.expectedBlockers;t?t<n?Module.setStatus(e+" ("+(n-t)+"/"+n+")"):Module.setStatus(e):Module.setStatus("")}},runIter:function(t){if(!ABORT){if(Module.preMainLoop)if(!1===Module.preMainLoop())return;try{t()}catch(e){if(e instanceof ExitStatus)return;throw e&&"object"===typeof e&&e.stack&&Module.printErr("exception thrown: "+[e,e.stack]),e}Module.postMainLoop&&Module.postMainLoop()}}},isFullScreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(Module.preloadPlugins||(Module.preloadPlugins=[]),!Browser.initted){Browser.initted=!0;try{new Blob,Browser.hasBlobConstructor=!0}catch(e){Browser.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:Browser.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),Browser.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,Module.noImageDecoding||"undefined"!==typeof Browser.URLObject||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),Module.noImageDecoding=!0);var t={canHandle:function(e){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},handle:function(t,n,r,i){var a=null;if(Browser.hasBlobConstructor)try{(a=new Blob([t],{type:Browser.getMimetype(n)})).size!==t.length&&(a=new Blob([new Uint8Array(t).buffer],{type:Browser.getMimetype(n)}))}catch(e){Runtime.warnOnce("Blob constructor present but fails: "+e+"; falling back to blob builder")}if(!a){var o=new Browser.BlobBuilder;o.append(new Uint8Array(t).buffer),a=o.getBlob()}var s=Browser.URLObject.createObjectURL(a),u=new Image;u.onload=function(){assert(u.complete,"Image "+n+" could not be decoded");var e=document.createElement("canvas");e.width=u.width,e.height=u.height,e.getContext("2d").drawImage(u,0,0),Module.preloadedImages[n]=e,Browser.URLObject.revokeObjectURL(s),r&&r(t)},u.onerror=function(e){console.log("Image "+s+" could not be decoded"),i&&i()},u.src=s}};Module.preloadPlugins.push(t);var n={canHandle:function(e){return!Module.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(t,n,r,i){var a=!1;function o(e){a||(a=!0,Module.preloadedAudios[n]=e,r&&r(t))}function s(){a||(a=!0,Module.preloadedAudios[n]=new Audio,i&&i())}if(!Browser.hasBlobConstructor)return s();try{var u=new Blob([t],{type:Browser.getMimetype(n)})}catch(e){return s()}var l=Browser.URLObject.createObjectURL(u),c=new Audio;c.addEventListener("canplaythrough",(function(){o(c)}),!1),c.onerror=function(e){a||(console.log("warning: browser could not fully decode audio "+n+", trying slower base64 approach"),c.src="data:audio/x-"+n.substr(-3)+";base64,"+function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",r=0,i=0,a=0;a<e.length;a++)for(r=r<<8|e[a],i+=8;i>=6;){var o=r>>i-6&63;i-=6,n+=t[o]}return 2==i?(n+=t[(3&r)<<4],n+="=="):4==i&&(n+=t[(15&r)<<2],n+="="),n}(t),o(c))},c.src=l,Browser.safeSetTimeout((function(){o(c)}),1e4)}};Module.preloadPlugins.push(n);var r=Module.canvas;r&&(r.requestPointerLock=r.requestPointerLock||r.mozRequestPointerLock||r.webkitRequestPointerLock||r.msRequestPointerLock||function(){},r.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},r.exitPointerLock=r.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",i,!1),document.addEventListener("mozpointerlockchange",i,!1),document.addEventListener("webkitpointerlockchange",i,!1),document.addEventListener("mspointerlockchange",i,!1),Module.elementPointerLock&&r.addEventListener("click",(function(e){!Browser.pointerLock&&r.requestPointerLock&&(r.requestPointerLock(),e.preventDefault())}),!1))}function i(){Browser.pointerLock=document.pointerLockElement===r||document.mozPointerLockElement===r||document.webkitPointerLockElement===r||document.msPointerLockElement===r}},createContext:function(e,t,n,r){if(t&&Module.ctx&&e==Module.canvas)return Module.ctx;var i,a;if(t){var o={antialias:!1,alpha:!1};if(r)for(var s in r)o[s]=r[s];(a=GL.createContext(e,o))&&(i=GL.getContext(a).GLctx),e.style.backgroundColor="black"}else i=e.getContext("2d");return i?(n&&(t||assert("undefined"===typeof GLctx,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),Module.ctx=i,t&&GL.makeContextCurrent(a),Module.useWebGL=t,Browser.moduleContextCreatedCallbacks.forEach((function(e){e()})),Browser.init()),i):null},destroyContext:function(e,t,n){},fullScreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullScreen:function(e,t,n){Browser.lockPointer=e,Browser.resizeCanvas=t,Browser.vrDevice=n,"undefined"===typeof Browser.lockPointer&&(Browser.lockPointer=!0),"undefined"===typeof Browser.resizeCanvas&&(Browser.resizeCanvas=!1),"undefined"===typeof Browser.vrDevice&&(Browser.vrDevice=null);var r=Module.canvas;function i(){Browser.isFullScreen=!1;var e=r.parentNode;(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===e?(r.cancelFullScreen=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen||document.exitFullscreen||function(){},r.cancelFullScreen=r.cancelFullScreen.bind(document),Browser.lockPointer&&r.requestPointerLock(),Browser.isFullScreen=!0,Browser.resizeCanvas&&Browser.setFullScreenCanvasSize()):(e.parentNode.insertBefore(r,e),e.parentNode.removeChild(e),Browser.resizeCanvas&&Browser.setWindowedCanvasSize()),Module.onFullScreen&&Module.onFullScreen(Browser.isFullScreen),Browser.updateCanvasDimensions(r)}Browser.fullScreenHandlersInstalled||(Browser.fullScreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",i,!1),document.addEventListener("mozfullscreenchange",i,!1),document.addEventListener("webkitfullscreenchange",i,!1),document.addEventListener("MSFullscreenChange",i,!1));var a=document.createElement("div");r.parentNode.insertBefore(a,r),a.appendChild(r),a.requestFullScreen=a.requestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen||(a.webkitRequestFullScreen?function(){a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),n?a.requestFullScreen({vrDisplay:n}):a.requestFullScreen()},nextRAF:0,fakeRequestAnimationFrame:function(e){var t=Date.now();if(0===Browser.nextRAF)Browser.nextRAF=t+1e3/60;else for(;t+2>=Browser.nextRAF;)Browser.nextRAF+=1e3/60;var n=Math.max(Browser.nextRAF-t,0);setTimeout(e,n)},requestAnimationFrame:function(e){"undefined"===typeof window?Browser.fakeRequestAnimationFrame(e):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||Browser.fakeRequestAnimationFrame),window.requestAnimationFrame(e))},safeCallback:function(e){return function(){if(!ABORT)return e.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Browser.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Browser.allowAsyncCallbacks=!0,Browser.queuedAsyncCallbacks.length>0){var e=Browser.queuedAsyncCallbacks;Browser.queuedAsyncCallbacks=[],e.forEach((function(e){e()}))}},safeRequestAnimationFrame:function(e){return Browser.requestAnimationFrame((function(){ABORT||(Browser.allowAsyncCallbacks?e():Browser.queuedAsyncCallbacks.push(e))}))},safeSetTimeout:function(e,t){return Module.noExitRuntime=!0,setTimeout((function(){ABORT||(Browser.allowAsyncCallbacks?e():Browser.queuedAsyncCallbacks.push(e))}),t)},safeSetInterval:function(e,t){return Module.noExitRuntime=!0,setInterval((function(){ABORT||Browser.allowAsyncCallbacks&&e()}),t)},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var t=0;switch(e.type){case"DOMMouseScroll":t=e.detail;break;case"mousewheel":t=e.wheelDelta;break;case"wheel":t=e.deltaY;break;default:throw"unrecognized mouse wheel event: "+e.type}return t},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(Browser.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(e),Browser.mouseMovementY=Browser.getMovementY(e)),"undefined"!=typeof SDL?(Browser.mouseX=SDL.mouseX+Browser.mouseMovementX,Browser.mouseY=SDL.mouseY+Browser.mouseMovementY):(Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY);else{var t=Module.canvas.getBoundingClientRect(),n=Module.canvas.width,r=Module.canvas.height,i="undefined"!==typeof window.scrollX?window.scrollX:window.pageXOffset,a="undefined"!==typeof window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var o=e.touch;if(void 0===o)return;var s=o.pageX-(i+t.left),u=o.pageY-(a+t.top),l={x:s*=n/t.width,y:u*=r/t.height};if("touchstart"===e.type)Browser.lastTouches[o.identifier]=l,Browser.touches[o.identifier]=l;else if("touchend"===e.type||"touchmove"===e.type){var c=Browser.touches[o.identifier];c||(c=l),Browser.lastTouches[o.identifier]=c,Browser.touches[o.identifier]=l}return}var f=e.pageX-(i+t.left),h=e.pageY-(a+t.top);f*=n/t.width,h*=r/t.height,Browser.mouseMovementX=f-Browser.mouseX,Browser.mouseMovementY=h-Browser.mouseY,Browser.mouseX=f,Browser.mouseY=h}},xhrLoad:function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},asyncLoad:function(e,t,n,r){Browser.xhrLoad(e,(function(n){assert(n,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(n)),r||removeRunDependency("al "+e)}),(function(t){if(!n)throw'Loading data file "'+e+'" failed.';n()})),r||addRunDependency("al "+e)},resizeListeners:[],updateResizeListeners:function(){var e=Module.canvas;Browser.resizeListeners.forEach((function(t){t(e.width,e.height)}))},setCanvasSize:function(e,t,n){var r=Module.canvas;Browser.updateCanvasDimensions(r,e,t),n||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullScreenCanvasSize:function(){if("undefined"!=typeof SDL){var e=HEAPU32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2];e|=8388608,HEAP32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2]=e}Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var e=HEAPU32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2];e&=-8388609,HEAP32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2]=e}Browser.updateResizeListeners()},updateCanvasDimensions:function(e,t,n){t&&n?(e.widthNative=t,e.heightNative=n):(t=e.widthNative,n=e.heightNative);var r=t,i=n;if(Module.forcedAspectRatio&&Module.forcedAspectRatio>0&&(r/i<Module.forcedAspectRatio?r=Math.round(i*Module.forcedAspectRatio):i=Math.round(r/Module.forcedAspectRatio)),(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var a=Math.min(screen.width/r,screen.height/i);r=Math.round(r*a),i=Math.round(i*a)}Browser.resizeCanvas?(e.width!=r&&(e.width=r),e.height!=i&&(e.height=i),"undefined"!=typeof e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=n&&(e.height=n),"undefined"!=typeof e.style&&(r!=t||i!=n?(e.style.setProperty("width",r+"px","important"),e.style.setProperty("height",i+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var e=Browser.nextWgetRequestHandle;return Browser.nextWgetRequestHandle++,e}};function _pthread_setspecific(e,t){return e in PTHREAD_SPECIFIC?(PTHREAD_SPECIFIC[e]=t,0):ERRNO_CODES.EINVAL}function _malloc(e){return Runtime.dynamicAlloc(e+8)+8&4294967288}function ___cxa_allocate_exception(e){return _malloc(e)}Module._malloc=_malloc;var SYSCALLS={varargs:0,get:function(e){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(){return Pointer_stringify(SYSCALLS.get())},get64:function(){var e=SYSCALLS.get(),t=SYSCALLS.get();return assert(e>=0?0===t:-1===t),e},getZero:function(){assert(0===SYSCALLS.get())}};function ___syscall54(t,n){SYSCALLS.varargs=n;try{return 0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___cxa_pure_virtual(){throw ABORT=!0,"Pure virtual function called!"}Module._i64Add=_i64Add,Module._bitshift64Lshr=_bitshift64Lshr;var _BDtoIHigh=!0;function _pthread_cleanup_push(e,t){__ATEXIT__.push((function(){Runtime.dynCall("vi",e,[t])})),_pthread_cleanup_push.level=__ATEXIT__.length}function _pthread_cond_broadcast(){return 0}function ___cxa_guard_acquire(e){return HEAP8[e>>0]?0:(HEAP8[e>>0]=1,1)}function _pthread_cleanup_pop(){assert(_pthread_cleanup_push.level==__ATEXIT__.length,"cannot pop if something else added meanwhile!"),__ATEXIT__.pop(),_pthread_cleanup_push.level=__ATEXIT__.length}function ___cxa_guard_release(){}function ___cxa_begin_catch(e){return __ZSt18uncaught_exceptionv.uncaught_exception--,EXCEPTIONS.caught.push(e),EXCEPTIONS.addRef(EXCEPTIONS.deAdjust(e)),e}function _llvm_eh_typeid_for(e){return e}function _emscripten_memcpy_big(e,t,n){return HEAPU8.set(HEAPU8.subarray(t,t+n),e),e}function ___syscall6(t,n){SYSCALLS.varargs=n;try{var r=SYSCALLS.getStreamFromFD();return FS.close(r),0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function _pthread_mutex_lock(){}Module._memcpy=_memcpy;var _emscripten_postinvoke=!0;function _sbrk(e){var t=_sbrk;t.called||(DYNAMICTOP=alignMemoryPage(DYNAMICTOP),t.called=!0,assert(Runtime.dynamicAlloc),t.alloc=Runtime.dynamicAlloc,Runtime.dynamicAlloc=function(){abort("cannot dynamically allocate, sbrk now has control")});var n=DYNAMICTOP;if(0!=e&&!t.alloc(e))return-1>>>0;return n}function ___cxa_guard_abort(){}Module._bitshift64Shl=_bitshift64Shl,Module._memmove=_memmove;var _emscripten_preinvoke=!0,_BItoD=!0;function _pthread_cond_wait(){return 0}function ___cxa_rethrow(){___cxa_end_catch.rethrown=!0;var e=EXCEPTIONS.caught.pop();throw EXCEPTIONS.last=e,e}function _pthread_mutex_unlock(){}function _time(e){var t=Date.now()/1e3|0;return e&&(HEAP32[e>>2]=t),t}function _pthread_self(){return 0}function ___syscall140(t,n){SYSCALLS.varargs=n;try{var r=SYSCALLS.getStreamFromFD(),i=SYSCALLS.get(),a=SYSCALLS.get(),o=SYSCALLS.get(),s=SYSCALLS.get(),u=a;return assert(0===i),FS.llseek(r,u,s),HEAP32[o>>2]=r.position,r.getdents&&0===u&&0===s&&(r.getdents=null),0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall146(t,n){SYSCALLS.varargs=n;try{SYSCALLS.get();var r=SYSCALLS.get(),i=SYSCALLS.get(),a=0;___syscall146.buffer||(___syscall146.buffer=[]);for(var o=___syscall146.buffer,s=0;s<i;s++){for(var u=HEAP32[r+8*s>>2],l=HEAP32[r+(8*s+4)>>2],c=0;c<l;c++){var f=HEAPU8[u+c];0===f||10===f?(Module.print(UTF8ArrayToString(o,0)),o.length=0):o.push(f)}a+=l}return a}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall145(t,n){SYSCALLS.varargs=n;try{var r=SYSCALLS.getStreamFromFD(),i=SYSCALLS.get(),a=SYSCALLS.get();return SYSCALLS.doReadv(r,i,a)}catch(e){return"undefined"!==typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}var ___dso_handle=allocate(1,"i32*",ALLOC_STATIC);Module.requestFullScreen=function(e,t,n){Browser.requestFullScreen(e,t,n)},Module.requestAnimationFrame=function(e){Browser.requestAnimationFrame(e)},Module.setCanvasSize=function(e,t,n){Browser.setCanvasSize(e,t,n)},Module.pauseMainLoop=function(){Browser.mainLoop.pause()},Module.resumeMainLoop=function(){Browser.mainLoop.resume()},Module.getUserMedia=function(){Browser.getUserMedia()},Module.createContext=function(e,t,n,r){return Browser.createContext(e,t,n,r)},STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),staticSealed=!0,STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=DYNAMICTOP=Runtime.alignMemory(STACK_MAX),assert(DYNAMIC_BASE<TOTAL_MEMORY,"TOTAL_MEMORY not big enough for stack");var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_DYNAMIC);function invoke_iiiiiiii(t,n,r,i,a,o,s,u){try{return Module.dynCall_iiiiiiii(t,n,r,i,a,o,s,u)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiii(t,n,r,i,a,o){try{Module.dynCall_viiiii(t,n,r,i,a,o)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiiiid(t,n,r,i,a,o,s){try{return Module.dynCall_iiiiiid(t,n,r,i,a,o,s)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vi(t,n){try{Module.dynCall_vi(t,n)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vii(t,n,r){try{Module.dynCall_vii(t,n,r)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiiiii(t,n,r,i,a,o,s){try{return Module.dynCall_iiiiiii(t,n,r,i,a,o,s)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_ii(t,n){try{return Module.dynCall_ii(t,n)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiiiiiiiiii(t,n,r,i,a,o,s,u,l,c,f,h){try{return Module.dynCall_iiiiiiiiiiii(t,n,r,i,a,o,s,u,l,c,f,h)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiii(t,n,r,i){try{return Module.dynCall_iiii(t,n,r,i)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiiiiiiiiiiiii(t,n,r,i,a,o,s,u,l,c,f,h,d,p,m,g){try{Module.dynCall_viiiiiiiiiiiiiii(t,n,r,i,a,o,s,u,l,c,f,h,d,p,m,g)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiiii(t,n,r,i,a,o,s){try{Module.dynCall_viiiiii(t,n,r,i,a,o,s)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiiiii(t,n,r,i,a,o,s,u){try{Module.dynCall_viiiiiii(t,n,r,i,a,o,s,u)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiiiiiiii(t,n,r,i,a,o,s,u,l,c,f){try{Module.dynCall_viiiiiiiiii(t,n,r,i,a,o,s,u,l,c,f)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iii(t,n,r){try{return Module.dynCall_iii(t,n,r)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiiii(t,n,r,i,a,o){try{return Module.dynCall_iiiiii(t,n,r,i,a,o)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_diii(t,n,r,i){try{return Module.dynCall_diii(t,n,r,i)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_i(t){try{return Module.dynCall_i(t)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiii(t,n,r,i,a){try{return Module.dynCall_iiiii(t,n,r,i,a)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viii(t,n,r,i){try{Module.dynCall_viii(t,n,r,i)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_v(t){try{Module.dynCall_v(t)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiiiiiii(t,n,r,i,a,o,s,u,l){try{return Module.dynCall_iiiiiiiii(t,n,r,i,a,o,s,u,l)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiiid(t,n,r,i,a,o){try{return Module.dynCall_iiiiid(t,n,r,i,a,o)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiii(t,n,r,i,a){try{Module.dynCall_viiii(t,n,r,i,a)}catch(e){if("number"!==typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,byteLength:byteLength},Module.asmLibraryArg={abort:abort,assert:assert,invoke_iiiiiiii:invoke_iiiiiiii,invoke_viiiii:invoke_viiiii,invoke_iiiiiid:invoke_iiiiiid,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_iiiiiii:invoke_iiiiiii,invoke_ii:invoke_ii,invoke_iiiiiiiiiiii:invoke_iiiiiiiiiiii,invoke_iiii:invoke_iiii,invoke_viiiiiiiiiiiiiii:invoke_viiiiiiiiiiiiiii,invoke_viiiiii:invoke_viiiiii,invoke_viiiiiii:invoke_viiiiiii,invoke_viiiiiiiiii:invoke_viiiiiiiiii,invoke_iii:invoke_iii,invoke_iiiiii:invoke_iiiiii,invoke_diii:invoke_diii,invoke_i:invoke_i,invoke_iiiii:invoke_iiiii,invoke_viii:invoke_viii,invoke_v:invoke_v,invoke_iiiiiiiii:invoke_iiiiiiiii,invoke_iiiiid:invoke_iiiiid,invoke_viiii:invoke_viiii,_fabs:_fabs,_strftime:_strftime,_pthread_cond_wait:_pthread_cond_wait,___lock:___lock,_pthread_key_create:_pthread_key_create,_abort:_abort,___cxa_guard_acquire:___cxa_guard_acquire,___setErrNo:___setErrNo,___gxx_personality_v0:___gxx_personality_v0,___assert_fail:___assert_fail,___cxa_free_exception:___cxa_free_exception,___cxa_allocate_exception:___cxa_allocate_exception,___cxa_find_matching_catch:___cxa_find_matching_catch,__isLeapYear:__isLeapYear,___cxa_guard_release:___cxa_guard_release,__addDays:__addDays,_strftime_l:_strftime_l,_emscripten_set_main_loop_timing:_emscripten_set_main_loop_timing,_llvm_eh_typeid_for:_llvm_eh_typeid_for,_sbrk:_sbrk,___cxa_begin_catch:___cxa_begin_catch,_emscripten_memcpy_big:_emscripten_memcpy_big,___cxa_end_catch:___cxa_end_catch,___resumeException:___resumeException,__ZSt18uncaught_exceptionv:__ZSt18uncaught_exceptionv,_sysconf:_sysconf,_pthread_getspecific:_pthread_getspecific,__arraySum:__arraySum,_pthread_self:_pthread_self,_pthread_mutex_unlock:_pthread_mutex_unlock,_pthread_once:_pthread_once,___syscall54:___syscall54,___unlock:___unlock,_pthread_cleanup_pop:_pthread_cleanup_pop,_pthread_cond_broadcast:_pthread_cond_broadcast,_emscripten_set_main_loop:_emscripten_set_main_loop,_pthread_setspecific:_pthread_setspecific,___cxa_atexit:___cxa_atexit,___cxa_throw:___cxa_throw,___cxa_rethrow:___cxa_rethrow,___syscall6:___syscall6,_pthread_cleanup_push:_pthread_cleanup_push,___cxa_pure_virtual:___cxa_pure_virtual,_time:_time,_pthread_mutex_lock:_pthread_mutex_lock,___cxa_guard_abort:___cxa_guard_abort,_atexit:_atexit,___syscall140:___syscall140,___syscall145:___syscall145,___syscall146:___syscall146,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,tempDoublePtr:tempDoublePtr,ABORT:ABORT,cttz_i8:cttz_i8,___dso_handle:___dso_handle};var asm=function(e,t,n){"use asm";var r=e.Int8Array;var i=e.Int16Array;var a=e.Int32Array;var o=e.Uint8Array;var s=e.Uint16Array;var u=e.Uint32Array;var l=e.Float32Array;var c=e.Float64Array;var f=new r(n);var h=new i(n);var d=new a(n);var p=new o(n);var m=new s(n);var g=new u(n);var v=new l(n);var y=new c(n);var b=e.byteLength;var w=t.STACKTOP|0;var S=t.STACK_MAX|0;var x=t.tempDoublePtr|0;var _=t.ABORT|0;var T=t.cttz_i8|0;var E=t.___dso_handle|0;var k=0;var C=0;var A=0;var O=0;var I=e.NaN,M=e.Infinity;var D=0,R=0,P=0,N=0,L=0.0,F=0,B=0,z=0,U=0.0;var j=0;var V=0;var G=0;var W=0;var H=0;var q=0;var Q=0;var X=0;var Y=0;var K=0;var Z=e.Math.floor;var J=e.Math.abs;var $=e.Math.sqrt;var ee=e.Math.pow;var te=e.Math.cos;var ne=e.Math.sin;var re=e.Math.tan;var ie=e.Math.acos;var ae=e.Math.asin;var oe=e.Math.atan;var se=e.Math.atan2;var ue=e.Math.exp;var le=e.Math.log;var ce=e.Math.ceil;var fe=e.Math.imul;var he=e.Math.min;var de=e.Math.clz32;var pe=t.abort;var me=t.assert;var ge=t.invoke_iiiiiiii;var ve=t.invoke_viiiii;var ye=t.invoke_iiiiiid;var be=t.invoke_vi;var we=t.invoke_vii;var Se=t.invoke_iiiiiii;var xe=t.invoke_ii;var _e=t.invoke_iiiiiiiiiiii;var Te=t.invoke_iiii;var Ee=t.invoke_viiiiiiiiiiiiiii;var ke=t.invoke_viiiiii;var Ce=t.invoke_viiiiiii;var Ae=t.invoke_viiiiiiiiii;var Oe=t.invoke_iii;var Ie=t.invoke_iiiiii;var Me=t.invoke_diii;var De=t.invoke_i;var Re=t.invoke_iiiii;var Pe=t.invoke_viii;var Ne=t.invoke_v;var Le=t.invoke_iiiiiiiii;var Fe=t.invoke_iiiiid;var Be=t.invoke_viiii;var ze=t._fabs;var Ue=t._strftime;var je=t._pthread_cond_wait;var Ve=t.___lock;var Ge=t._pthread_key_create;var We=t._abort;var He=t.___cxa_guard_acquire;var qe=t.___setErrNo;var Qe=t.___gxx_personality_v0;var Xe=t.___assert_fail;var Ye=t.___cxa_free_exception;var Ke=t.___cxa_allocate_exception;var Ze=t.___cxa_find_matching_catch;var Je=t.__isLeapYear;var $e=t.___cxa_guard_release;var et=t.__addDays;var tt=t._strftime_l;var nt=t._emscripten_set_main_loop_timing;var rt=t._llvm_eh_typeid_for;var it=t._sbrk;var at=t.___cxa_begin_catch;var ot=t._emscripten_memcpy_big;var st=t.___cxa_end_catch;var ut=t.___resumeException;var lt=t.__ZSt18uncaught_exceptionv;var ct=t._sysconf;var ft=t._pthread_getspecific;var ht=t.__arraySum;var dt=t._pthread_self;var pt=t._pthread_mutex_unlock;var mt=t._pthread_once;var gt=t.___syscall54;var vt=t.___unlock;var yt=t._pthread_cleanup_pop;var bt=t._pthread_cond_broadcast;var wt=t._emscripten_set_main_loop;var St=t._pthread_setspecific;var xt=t.___cxa_atexit;var _t=t.___cxa_throw;var Tt=t.___cxa_rethrow;var Et=t.___syscall6;var kt=t._pthread_cleanup_push;var Ct=t.___cxa_pure_virtual;var At=t._time;var Ot=t._pthread_mutex_lock;var It=t.___cxa_guard_abort;var Mt=t._atexit;var Dt=t.___syscall140;var Rt=t.___syscall145;var Pt=t.___syscall146;var Nt=0.0;function Lt(e){if(b(e)&16777215||b(e)<=16777215||b(e)>2147483648)return false;f=new r(e);h=new i(e);d=new a(e);p=new o(e);m=new s(e);g=new u(e);v=new l(e);y=new c(e);n=e;return true}function Ft(e){e=e|0;var t=0;t=w;w=w+e|0;w=w+15&-16;return t|0}function Bt(){return w|0}function zt(e){e=e|0;w=e}function Ut(e,t){e=e|0;t=t|0;w=e;S=t}function jt(e,t){e=e|0;t=t|0;if(!k){k=e;C=t}}function Vt(e){e=e|0;f[x>>0]=f[e>>0];f[x+1>>0]=f[e+1>>0];f[x+2>>0]=f[e+2>>0];f[x+3>>0]=f[e+3>>0]}function Gt(e){e=e|0;f[x>>0]=f[e>>0];f[x+1>>0]=f[e+1>>0];f[x+2>>0]=f[e+2>>0];f[x+3>>0]=f[e+3>>0];f[x+4>>0]=f[e+4>>0];f[x+5>>0]=f[e+5>>0];f[x+6>>0]=f[e+6>>0];f[x+7>>0]=f[e+7>>0]}function Wt(e){e=e|0;j=e}function Ht(){return j|0}function qt(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0;S=w;w=w+128|0;h=S+44|0;g=S+8|0;u=S+4|0;c=S;p=n+4|0;m=n+8|0;k=0;Be(35,d[n>>2]|0,d[p>>2]|0,d[m>>2]|0,r|0);l=k;k=0;if(!(l&1)){o=h;a=o+84|0;do{d[o>>2]=d[r>>2];o=o+4|0;r=r+4|0}while((o|0)<(a|0));r=h+12|0;if((d[r>>2]|0)==0?(s=fe(((d[h+8>>2]|0)+7|0)/8|0,d[h>>2]|0)|0,d[r>>2]=s,(d[h+24>>2]|0)!=0):0){l=fe(d[h+16>>2]|0,s)|0;d[r>>2]=l}k=0;be(176,g|0);l=k;k=0;if(!(l&1)){r=h+56|0;do{if(d[r>>2]|0){k=0;r=xe(66,r|0)|0;l=k;k=0;if(!(l&1)){d[u>>2]=r;a=g+28|0;o=d[a>>2]|0;if(o>>>0<(d[g+32>>2]|0)>>>0){d[o>>2]=r;d[a>>2]=o+4;d[u>>2]=0;v=19;break}k=0;we(57,g+24|0,u|0);l=k;k=0;if(l&1){a=Ze(824,0)|0;r=j;o=d[u>>2]|0;d[u>>2]=0;if(!o)break;m_[d[(d[o>>2]|0)+4>>2]&255](o);break}else{r=d[u>>2]|0;d[u>>2]=0;if(!r){v=19;break}m_[d[(d[r>>2]|0)+4>>2]&255](r);v=19;break}}else v=15}else v=19}while(0);e:do{if((v|0)==19){o=h+4|0;s=h+8|0;u=h+16|0;k=0;r=Re(14,d[h>>2]|0,d[o>>2]|0,d[s>>2]|0,d[u>>2]|0)|0;l=k;k=0;if(!(l&1)){d[c>>2]=r;l=g+28|0;a=d[l>>2]|0;do{if(a>>>0>=(d[g+32>>2]|0)>>>0){k=0;we(57,g+24|0,c|0);a=k;k=0;if(a&1){a=Ze(824,0)|0;r=j;o=d[c>>2]|0;d[c>>2]=0;if(!o)break e;m_[d[(d[o>>2]|0)+4>>2]&255](o);break e}else{r=d[c>>2]|0;d[c>>2]=0;if(!r)break;m_[d[(d[r>>2]|0)+4>>2]&255](r);break}}else{d[a>>2]=r;d[l>>2]=a+4;d[c>>2]=0}}while(0);r=d[h+28>>2]|0;if((r|0)!=0?(k=0,we(58,g|0,r|0),v=k,k=0,v&1):0){v=15;break}t:do{if(!(d[h+24>>2]|0)){r=fe(d[o>>2]|0,d[h>>2]|0)|0;r=fe(r,((d[s>>2]|0)+7|0)/8|0)|0;if((d[u>>2]|0)>0){o=0;while(1){k=0;Pe(4,g|0,n|0,h|0);v=k;k=0;if(v&1)break;a=d[p>>2]|0;if(a){d[p>>2]=a+r;d[m>>2]=(d[m>>2]|0)-r}o=o+1|0;if((o|0)>=(d[u>>2]|0))break t}a=Ze(824,0)|0;r=j;v=16;break e}}else{k=0;Pe(4,g|0,n|0,h|0);v=k;k=0;if(v&1){v=15;break e}}}while(0);k=0;Oe(33,g|0,e|0)|0;v=k;k=0;if(!(v&1)){d[t>>2]=d[g+16>>2];if(i)f[i>>0]=0;o=g+24|0;r=d[o>>2]|0;if(r){a=d[l>>2]|0;if((a|0)!=(r|0)){do{i=a+-4|0;d[l>>2]=i;a=d[i>>2]|0;d[i>>2]=0;if(a)m_[d[(d[a>>2]|0)+4>>2]&255](a);a=d[l>>2]|0}while((a|0)!=(r|0));r=d[o>>2]|0}Hw(r)}i=0;w=S;return i|0}else v=15}else v=15}}while(0);if((v|0)==15){a=Ze(824,0)|0;r=j;v=16}l=g+24|0;o=d[l>>2]|0;if(o){u=g+28|0;s=d[u>>2]|0;if((s|0)!=(o|0)){do{g=s+-4|0;d[u>>2]=g;s=d[g>>2]|0;d[g>>2]=0;if(s)m_[d[(d[s>>2]|0)+4>>2]&255](s);s=d[u>>2]|0}while((s|0)!=(o|0));o=d[l>>2]|0}Hw(o)}}else v=5}else v=5;if((v|0)==5){a=Ze(824,0)|0;r=j}g=(r|0)==(rt(824)|0);s=at(a|0)|0;r=(i|0)==0;if(!g){if(!r)f[i>>0]=0;st();i=14;w=S;return i|0}o=s+12|0;do{if(!r){r=d[o>>2]|0;k=0;a=De(1)|0;g=k;k=0;if(!(g&1))if((r|0)==(a|0)){t_(i,y_[d[(d[s>>2]|0)+8>>2]&127](s)|0)|0;v=60;break}else{f[i>>0]=0;v=60;break}}else v=60}while(0);if((v|0)==60?(y=d[o>>2]|0,k=0,b=De(1)|0,i=k,k=0,!(i&1)):0){i=(y|0)==(b|0)?d[s+8>>2]|0:13;st();w=S;return i|0}r=Ze()|0;k=0;Ne(3);S=k;k=0;if(S&1){S=Ze(0)|0;Xt(S)}else ut(r|0);return 0}function Qt(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0,m=0,g=0,v=0;l=w;w=w+112|0;a=l+96|0;u=l+84|0;c=l+72|0;f=l+60|0;h=l+48|0;p=l+36|0;m=l+24|0;g=l+12|0;v=l;s=(t|0)==0;if((e|0)==0&s){i=Ke(16)|0;k=0;Pe(5,a|0,48504,52);v=k;k=0;if(!(v&1)){k=0;t=De(1)|0;v=k;k=0;if(!(v&1)?(k=0,Be(36,i|0,1,t|0,a|0),v=k,k=0,!(v&1)):0){k=0;Pe(6,i|0,824,96);k=0;e=0}else e=1;t=Ze()|0;Gh(a);if(!e){v=t;ut(v|0)}}else t=Ze()|0;Ye(i|0);v=t;ut(v|0)}o=d[r>>2]|0;if((o+-1|0)>>>0>65534){i=Ke(16)|0;k=0;Pe(5,u|0,48557,41);v=k;k=0;if(!(v&1)){k=0;t=De(1)|0;v=k;k=0;if(!(v&1)?(k=0,Be(36,i|0,1,t|0,u|0),v=k,k=0,!(v&1)):0){k=0;Pe(6,i|0,824,96);k=0;e=0}else e=1;t=Ze()|0;Gh(u);if(!e){v=t;ut(v|0)}}else t=Ze()|0;Ye(i|0);v=t;ut(v|0)}a=d[r+4>>2]|0;if((a+-1|0)>>>0>65534){i=Ke(16)|0;k=0;Pe(5,c|0,48599,42);v=k;k=0;if(!(v&1)){k=0;t=De(1)|0;v=k;k=0;if(!(v&1)?(k=0,Be(36,i|0,1,t|0,c|0),v=k,k=0,!(v&1)):0){k=0;Pe(6,i|0,824,96);k=0;e=0}else e=1;t=Ze()|0;Gh(c);if(!e){v=t;ut(v|0)}}else t=Ze()|0;Ye(i|0);v=t;ut(v|0)}i=d[r+8>>2]|0;if((i+-2|0)>>>0>14){i=Ke(16)|0;k=0;Pe(5,f|0,48642,46);v=k;k=0;if(!(v&1)){k=0;t=De(1)|0;v=k;k=0;if(!(v&1)?(k=0,Be(36,i|0,1,t|0,f|0),v=k,k=0,!(v&1)):0){k=0;Pe(6,i|0,824,96);k=0;e=0}else e=1;t=Ze()|0;Gh(f);if(!e){v=t;ut(v|0)}}else t=Ze()|0;Ye(i|0);v=t;ut(v|0)}e=d[r+24>>2]|0;if(e>>>0>=3){i=Ke(16)|0;k=0;Pe(5,h|0,48689,65);v=k;k=0;if(!(v&1)){k=0;t=De(1)|0;v=k;k=0;if(!(v&1)?(k=0,Be(36,i|0,1,t|0,h|0),v=k,k=0,!(v&1)):0){k=0;Pe(6,i|0,824,96);k=0;e=0}else e=1;t=Ze()|0;Gh(h);if(!e){v=t;ut(v|0)}}else t=Ze()|0;Ye(i|0);v=t;ut(v|0)}t=d[r+16>>2]|0;if((t+-1|0)>>>0>254){i=Ke(16)|0;k=0;Pe(5,p|0,48755,44);v=k;k=0;if(!(v&1)){k=0;t=De(1)|0;v=k;k=0;if(!(v&1)?(k=0,Be(36,i|0,1,t|0,p|0),v=k,k=0,!(v&1)):0){k=0;Pe(6,i|0,824,96);k=0;e=0}else e=1;t=Ze()|0;Gh(p);if(!e){v=t;ut(v|0)}}else t=Ze()|0;Ye(i|0);v=t;ut(v|0)}if(!s?(p=fe(a,o)|0,(fe(fe(p,(i|0)>8?2:1)|0,t)|0)>>>0>n>>>0):0){i=Ke(16)|0;k=0;Pe(5,m|0,48800,58);v=k;k=0;if(!(v&1)){k=0;t=De(1)|0;v=k;k=0;if(!(v&1)?(k=0,Be(36,i|0,1,t|0,m|0),v=k,k=0,!(v&1)):0){k=0;Pe(6,i|0,824,96);k=0;e=0}else e=1;t=Ze()|0;Gh(m);if(!e){v=t;ut(v|0)}}else t=Ze()|0;Ye(i|0);v=t;ut(v|0)}switch(t|0){case 4:{if((e|0)!=2){w=l;return}i=Ke(16)|0;k=0;Pe(5,g|0,48859,73);v=k;k=0;if(!(v&1)){k=0;t=De(1)|0;v=k;k=0;if(!(v&1)?(k=0,Be(36,i|0,1,t|0,g|0),v=k,k=0,!(v&1)):0){k=0;Pe(6,i|0,824,96);k=0;e=0}else e=1;t=Ze()|0;Gh(g);if(!e){v=t;ut(v|0)}}else t=Ze()|0;Ye(i|0);v=t;ut(v|0)}case 3:{w=l;return}default:{if(!e){w=l;return}i=Ke(16)|0;k=0;Pe(5,v|0,48933,73);g=k;k=0;if(!(g&1)){k=0;t=De(1)|0;g=k;k=0;if(!(g&1)?(k=0,Be(36,i|0,1,t|0,v|0),g=k,k=0,!(g&1)):0){k=0;Pe(6,i|0,824,96);k=0;e=0}else e=1;t=Ze()|0;Gh(v);if(!e){v=t;ut(v|0)}}else t=Ze()|0;Ye(i|0);v=t;ut(v|0)}}}function Xt(e){e=e|0;at(e|0)|0;Jw()}function Yt(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=w;w=w+128|0;a=c+116|0;o=c;k=0;d[a>>2]=d[t>>2];d[a+4>>2]=d[t+4>>2];d[a+8>>2]=d[t+8>>2];we(59,o|0,a|0);i=k;k=0;if(!(i&1)){if(n){i=o+16|0;t=i+84|0;do{d[i>>2]=d[n>>2];i=i+4|0;n=n+4|0}while((i|0)<(t|0))}k=0;d[a>>2]=d[e>>2];d[a+4>>2]=d[e+4>>2];d[a+8>>2]=d[e+8>>2];we(60,o|0,a|0);o=k;k=0;if(!(o&1)){if(r)f[r>>0]=0;l=0;w=c;return l|0}}e=Ze(824,0)|0;o=j;o=(o|0)==(rt(824)|0);e=at(e|0)|0;t=(r|0)==0;if(!o){if(!t)f[r>>0]=0;st();l=14;w=c;return l|0}i=e+12|0;do{if(!t){t=d[i>>2]|0;k=0;n=De(1)|0;o=k;k=0;if(!(o&1))if((t|0)==(n|0)){t_(r,y_[d[(d[e>>2]|0)+8>>2]&127](e)|0)|0;l=10;break}else{f[r>>0]=0;l=10;break}}else l=10}while(0);if((l|0)==10?(s=d[i>>2]|0,k=0,u=De(1)|0,l=k,k=0,!(l&1)):0){l=(s|0)==(u|0)?d[e+8>>2]|0:13;st();w=c;return l|0}t=Ze()|0;k=0;Ne(3);c=k;k=0;if(c&1){c=Ze(0)|0;Xt(c)}else ut(t|0);return 0}function Kt(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0;u=w;w=w+128|0;i=u+116|0;r=u;k=0;d[i>>2]=d[e>>2];d[i+4>>2]=d[e+4>>2];d[i+8>>2]=d[e+8>>2];we(59,r|0,i|0);i=k;k=0;if((!(i&1)?(k=0,be(177,r|0),i=k,k=0,!(i&1)):0)?(k=0,we(61,r|0,1),i=k,k=0,!(i&1)):0){e=r+16|0;r=t+84|0;do{d[t>>2]=d[e>>2];t=t+4|0;e=e+4|0}while((t|0)<(r|0));if(n)f[n>>0]=0;n=0;w=u;return n|0}i=Ze(824,0)|0;t=j;t=(t|0)==(rt(824)|0);i=at(i|0)|0;e=(n|0)==0;if(!t){if(!e)f[n>>0]=0;st();n=14;w=u;return n|0}t=i+12|0;do{if(!e){e=d[t>>2]|0;k=0;r=De(1)|0;l=k;k=0;if(!(l&1))if((e|0)==(r|0)){t_(n,y_[d[(d[i>>2]|0)+8>>2]&127](i)|0)|0;s=13;break}else{f[n>>0]=0;s=13;break}}else s=13}while(0);if((s|0)==13?(a=d[t>>2]|0,k=0,o=De(1)|0,l=k,k=0,!(l&1)):0){l=(a|0)==(o|0)?d[i+8>>2]|0:13;st();w=u;return l|0}e=Ze()|0;k=0;Ne(3);l=k;k=0;if(l&1){l=Ze(0)|0;Xt(l)}else ut(e|0);return 0}function Zt(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;var s=0,u=0,l=0,c=0,f=0;f=w;w=w+48|0;u=f+36|0;s=f+24|0;l=f+12|0;c=f;if(!((e|0)!=0&(n|0)!=0&(r|0)!=0&(a|0)!=0)){i=1;w=f;return i|0}d[l>>2]=0;d[l+4>>2]=e;d[l+8>>2]=t;d[c>>2]=0;d[c+4>>2]=r;d[c+8>>2]=i;d[s>>2]=d[l>>2];d[s+4>>2]=d[l+4>>2];d[s+8>>2]=d[l+8>>2];d[u>>2]=d[c>>2];d[u+4>>2]=d[c+4>>2];d[u+8>>2]=d[c+8>>2];i=qt(s,n,u,a,o)|0;w=f;return i|0}function Jt(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0;i=w;w=w+32|0;a=i+12|0;o=i;s=o;d[s>>2]=0;d[s+4>>2]=0;d[o+4>>2]=e;d[o+8>>2]=t;d[a>>2]=d[o>>2];d[a+4>>2]=d[o+4>>2];d[a+8>>2]=d[o+8>>2];n=Kt(a,n,r)|0;w=i;return n|0}function $t(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+48|0;s=o+36|0;u=o+24|0;c=o+12|0;l=o;d[c>>2]=0;d[c+4>>2]=e;d[c+8>>2]=t;d[l>>2]=0;d[l+4>>2]=n;d[l+8>>2]=r;d[u>>2]=d[c>>2];d[u+4>>2]=d[c+4>>2];d[u+8>>2]=d[c+8>>2];d[s>>2]=d[l>>2];d[s+4>>2]=d[l+4>>2];d[s+8>>2]=d[l+8>>2];r=Yt(u,s,i,a)|0;w=o;return r|0}function en(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;l=e+4|0;n=d[e>>2]|0;i=((d[l>>2]|0)-n>>2)+1|0;if(i>>>0>1073741823){Vw(e);n=d[e>>2]|0}c=e+8|0;r=(d[c>>2]|0)-n|0;if(r>>2>>>0<536870911){r=r>>1;r=r>>>0<i>>>0?i:r;n=(d[l>>2]|0)-n>>2;if(!r){a=0;o=0}else s=6}else{r=1073741823;n=(d[l>>2]|0)-n>>2;s=6}if((s|0)==6){a=r;o=Ww(r<<2)|0}i=o+(n<<2)|0;r=i;u=o+(a<<2)|0;s=d[t>>2]|0;d[t>>2]=0;d[i>>2]=s;s=o+(n+1<<2)|0;o=d[e>>2]|0;n=d[l>>2]|0;if((n|0)==(o|0)){i=e;a=l}else{do{n=n+-4|0;t=d[n>>2]|0;d[n>>2]=0;d[i+-4>>2]=t;i=r+-4|0;r=i}while((n|0)!=(o|0));n=r;i=e;a=l;r=n;o=d[e>>2]|0;n=d[l>>2]|0}d[i>>2]=r;d[a>>2]=s;d[c>>2]=u;i=o;if((n|0)!=(i|0))do{n=n+-4|0;r=d[n>>2]|0;d[n>>2]=0;if(r)m_[d[(d[r>>2]|0)+4>>2]&255](r)}while((n|0)!=(i|0));if(!o)return;Hw(o);return}function tn(){if(f[8]|0)return 35648;if(!(He(8)|0))return 35648;xt(72,35648,E|0)|0;$e(8);return 35648}function nn(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=w;w=w+32|0;u=c;bw(u,(1<<t)+-1|0,0);a=d[u>>2]|0;l=a+1|0;n=l<<1;d[e>>2]=0;o=e+4|0;d[o>>2]=0;d[e+8>>2]=0;e:do{if(l){if(!((a|0)<-1?(k=0,be(178,e|0),s=k,k=0,s&1):0))r=4;if((r|0)==4?(k=0,i=xe(67,n|0)|0,s=k,k=0,!(s&1)):0){d[o>>2]=i;d[e>>2]=i;d[e+8>>2]=i+n;t=i;while(1){f[t>>0]=0;t=(d[o>>2]|0)+1|0;d[o>>2]=t;n=n+-1|0;if(!n)break e}}n=Ze()|0;t=d[e>>2]|0;if(!t)ut(n|0);if((d[o>>2]|0)!=(t|0))d[o>>2]=t;Hw(t);ut(n|0)}}while(0);t=~a;if((a|0)<(t|0)){w=c;return}o=u+12|0;s=u+8|0;a=u+4|0;i=t;do{t=d[o>>2]|0;if((i|0)>(0-t|0)){n=d[s>>2]|0;if((i|0)>(0-n|0)){r=d[a>>2]|0;if((i|0)>(0-r|0)){if((i|0)>=0){if((i|0)>0){if((r|0)<=(i|0)){if((n|0)>(i|0))t=2;else t=(t|0)>(i|0)?3:4}else t=1}else t=0}else t=-1}else t=-2}else t=-3}else t=-4;f[(d[e>>2]|0)+(i+l)>>0]=t;i=i+1|0}while((i|0)<(l|0));w=c;return}function rn(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,p=0,m=0,g=0;m=d[n+16>>2]|0;switch(m|0){case 64:case 0:{k=0;e=Oe(34,e|0,t|0)|0;t=k;k=0;if(t&1)g=16;else r=e;break}default:{i=(1<<d[t+8>>2])+-1|0;p=d[t+20>>2]|0;c=p<<1;c=((c+i|0)/(c|1|0)|0)+1|0;e=0;while(1){if((1<<e|0)<(c|0))e=e+1|0;else break}r=0;while(1){if((1<<r|0)<(i|0))r=r+1|0;else{o=r;break}}i=d[n>>2]|0;k=0;r=xe(67,4624)|0;l=k;k=0;if(l&1)g=16;else{a=((o|0)<8?8:o)+o<<1;s=r+4|0;u=t;l=s+84|0;do{d[s>>2]=d[u>>2];s=s+4|0;u=u+4|0}while((s|0)<(l|0));s=r+88|0;l=s+40|0;do{d[s>>2]=0;s=s+4|0}while((s|0)<(l|0));d[r>>2]=35660;d[r+128>>2]=i;d[r+132>>2]=c;d[r+136>>2]=p;d[r+140>>2]=e;d[r+144>>2]=o;d[r+148>>2]=a;d[r+152>>2]=m;e=r+156|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[r+172>>2]=d[t>>2];d[r+176>>2]=0;d[r+180>>2]=0;d[r+184>>2]=0;e=r+4568|0;i=r+188|0;do{d[i>>2]=0;d[i+4>>2]=0;h[i+8>>1]=0;h[i+10>>1]=1;i=i+12|0}while((i|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=r+4580|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=r+4592|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[r+28>>2]|0))d[r+20>>2]=1}}}if((g|0)==16){g=Ze()|0;ut(g|0)}if(!r)return r|0;k=0;we(d[(d[r>>2]|0)+12>>2]|0,r|0,n|0);g=k;k=0;if(!(g&1))return r|0;e=Ze()|0;if(!r){g=e;ut(g|0)}m_[d[(d[r>>2]|0)+4>>2]&255](r);g=e;ut(g|0);return 0}function an(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;n=(d[t+24>>2]|0)==2;if(n?(d[t+16>>2]|0)!=3:0){t=0;return t|0}c=d[t+20>>2]|0;e=d[t+8>>2]|0;e:do{if(!c){if(n){if((e|0)!=8)break;r=Ww(4600)|0;o=r+4|0;s=t;u=o+84|0;do{d[o>>2]=d[s>>2];o=o+4|0;s=s+4|0}while((o|0)<(u|0));o=r+88|0;u=o+40|0;do{d[o>>2]=0;o=o+4|0}while((o|0)<(u|0));d[r>>2]=35688;e=r+132|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[r+148>>2]=d[t>>2];d[r+152>>2]=0;d[r+156>>2]=0;d[r+160>>2]=0;e=r+4544|0;n=r+164|0;do{d[n>>2]=0;d[n+4>>2]=0;h[n+8>>1]=0;h[n+10>>1]=1;n=n+12|0}while((n|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=r+4556|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=r+4568|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[r+28>>2]|0))d[r+20>>2]=1;t=r;return t|0}switch(e|0){case 8:{r=Ww(4600)|0;o=r+4|0;s=t;u=o+84|0;do{d[o>>2]=d[s>>2];o=o+4|0;s=s+4|0}while((o|0)<(u|0));o=r+88|0;u=o+40|0;do{d[o>>2]=0;o=o+4|0}while((o|0)<(u|0));d[r>>2]=35716;e=r+132|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[r+148>>2]=d[t>>2];d[r+152>>2]=0;d[r+156>>2]=0;d[r+160>>2]=0;e=r+4544|0;n=r+164|0;do{d[n>>2]=0;d[n+4>>2]=0;h[n+8>>1]=0;h[n+10>>1]=1;n=n+12|0}while((n|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=r+4556|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=r+4568|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[r+28>>2]|0))d[r+20>>2]=1;t=r;return t|0}case 12:{r=Ww(4600)|0;o=r+4|0;s=t;u=o+84|0;do{d[o>>2]=d[s>>2];o=o+4|0;s=s+4|0}while((o|0)<(u|0));o=r+88|0;u=o+40|0;do{d[o>>2]=0;o=o+4|0}while((o|0)<(u|0));d[r>>2]=35744;e=r+132|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[r+148>>2]=d[t>>2];d[r+152>>2]=0;d[r+156>>2]=0;d[r+160>>2]=0;e=r+4544|0;n=r+164|0;do{d[n>>2]=0;d[n+4>>2]=0;h[n+8>>1]=0;h[n+10>>1]=1;n=n+12|0}while((n|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=r+4556|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=r+4568|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[r+28>>2]|0))d[r+20>>2]=1;t=r;return t|0}case 16:{r=Ww(4600)|0;o=r+4|0;s=t;u=o+84|0;do{d[o>>2]=d[s>>2];o=o+4|0;s=s+4|0}while((o|0)<(u|0));o=r+88|0;u=o+40|0;do{d[o>>2]=0;o=o+4|0}while((o|0)<(u|0));d[r>>2]=35772;e=r+132|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[r+148>>2]=d[t>>2];d[r+152>>2]=0;d[r+156>>2]=0;d[r+160>>2]=0;e=r+4544|0;n=r+164|0;do{d[n>>2]=0;d[n+4>>2]=0;h[n+8>>1]=0;h[n+10>>1]=1;n=n+12|0}while((n|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=r+4556|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=r+4568|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[r+28>>2]|0))d[r+20>>2]=1;t=r;return t|0}default:break e}}}while(0);l=(1<<e)+-1|0;if((e|0)<9){a=c<<1;a=((a+l|0)/(a|1|0)|0)+1|0;if(n){e=0;while(1){if((1<<e|0)<(a|0))e=e+1|0;else break}n=0;while(1){if((1<<n|0)<(l|0))n=n+1|0;else break}r=((n|0)<8?8:n)+n<<1;i=Ww(4624)|0;o=i+4|0;s=t;u=o+84|0;do{d[o>>2]=d[s>>2];o=o+4|0;s=s+4|0}while((o|0)<(u|0));o=i+88|0;u=o+40|0;do{d[o>>2]=0;o=o+4|0}while((o|0)<(u|0));d[i>>2]=35800;d[i+128>>2]=l;d[i+132>>2]=a;d[i+136>>2]=c;d[i+140>>2]=e;d[i+144>>2]=n;d[i+148>>2]=r;d[i+152>>2]=64;e=i+156|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[i+172>>2]=d[t>>2];d[i+176>>2]=0;d[i+180>>2]=0;d[i+184>>2]=0;e=i+4568|0;n=i+188|0;do{d[n>>2]=0;d[n+4>>2]=0;h[n+8>>1]=0;h[n+10>>1]=1;n=n+12|0}while((n|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=i+4580|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=i+4592|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[i+28>>2]|0))d[i+20>>2]=1;t=i;return t|0}else{e=0;while(1){if((1<<e|0)<(a|0))e=e+1|0;else break}n=0;while(1){if((1<<n|0)<(l|0))n=n+1|0;else break}r=((n|0)<8?8:n)+n<<1;i=Ww(4624)|0;o=i+4|0;s=t;u=o+84|0;do{d[o>>2]=d[s>>2];o=o+4|0;s=s+4|0}while((o|0)<(u|0));o=i+88|0;u=o+40|0;do{d[o>>2]=0;o=o+4|0}while((o|0)<(u|0));d[i>>2]=35660;d[i+128>>2]=l;d[i+132>>2]=a;d[i+136>>2]=c;d[i+140>>2]=e;d[i+144>>2]=n;d[i+148>>2]=r;d[i+152>>2]=64;e=i+156|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[i+172>>2]=d[t>>2];d[i+176>>2]=0;d[i+180>>2]=0;d[i+184>>2]=0;e=i+4568|0;n=i+188|0;do{d[n>>2]=0;d[n+4>>2]=0;h[n+8>>1]=0;h[n+10>>1]=1;n=n+12|0}while((n|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=i+4580|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=i+4592|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[i+28>>2]|0))d[i+20>>2]=1;t=i;return t|0}}if((e|0)>=17){t=0;return t|0}a=c<<1;a=((a+l|0)/(a|1|0)|0)+1|0;if(n){e=0;while(1){if((1<<e|0)<(a|0))e=e+1|0;else break}n=0;while(1){if((1<<n|0)<(l|0))n=n+1|0;else break}r=((n|0)<8?8:n)+n<<1;i=Ww(4624)|0;o=i+4|0;s=t;u=o+84|0;do{d[o>>2]=d[s>>2];o=o+4|0;s=s+4|0}while((o|0)<(u|0));o=i+88|0;u=o+40|0;do{d[o>>2]=0;o=o+4|0}while((o|0)<(u|0));d[i>>2]=35828;d[i+128>>2]=l;d[i+132>>2]=a;d[i+136>>2]=c;d[i+140>>2]=e;d[i+144>>2]=n;d[i+148>>2]=r;d[i+152>>2]=64;e=i+156|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[i+172>>2]=d[t>>2];d[i+176>>2]=0;d[i+180>>2]=0;d[i+184>>2]=0;e=i+4568|0;n=i+188|0;do{d[n>>2]=0;d[n+4>>2]=0;h[n+8>>1]=0;h[n+10>>1]=1;n=n+12|0}while((n|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=i+4580|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=i+4592|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[i+28>>2]|0))d[i+20>>2]=1;t=i;return t|0}else{e=0;while(1){if((1<<e|0)<(a|0))e=e+1|0;else break}n=0;while(1){if((1<<n|0)<(l|0))n=n+1|0;else break}r=((n|0)<8?8:n)+n<<1;i=Ww(4624)|0;o=i+4|0;s=t;u=o+84|0;do{d[o>>2]=d[s>>2];o=o+4|0;s=s+4|0}while((o|0)<(u|0));o=i+88|0;u=o+40|0;do{d[o>>2]=0;o=o+4|0}while((o|0)<(u|0));d[i>>2]=35856;d[i+128>>2]=l;d[i+132>>2]=a;d[i+136>>2]=c;d[i+140>>2]=e;d[i+144>>2]=n;d[i+148>>2]=r;d[i+152>>2]=64;e=i+156|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[i+172>>2]=d[t>>2];d[i+176>>2]=0;d[i+180>>2]=0;d[i+184>>2]=0;e=i+4568|0;n=i+188|0;do{d[n>>2]=0;d[n+4>>2]=0;h[n+8>>1]=0;h[n+10>>1]=1;n=n+12|0}while((n|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=i+4580|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=i+4592|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[i+28>>2]|0))d[i+20>>2]=1;t=i;return t|0}return 0}function on(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,p=0,m=0,g=0;m=d[n+16>>2]|0;switch(m|0){case 64:case 0:{k=0;e=Oe(35,e|0,t|0)|0;t=k;k=0;if(t&1)g=16;else r=e;break}default:{i=(1<<d[t+8>>2])+-1|0;p=d[t+20>>2]|0;c=p<<1;c=((c+i|0)/(c|1|0)|0)+1|0;e=0;while(1){if((1<<e|0)<(c|0))e=e+1|0;else break}r=0;while(1){if((1<<r|0)<(i|0))r=r+1|0;else{o=r;break}}i=d[n>>2]|0;k=0;r=xe(67,4632)|0;l=k;k=0;if(l&1)g=16;else{a=((o|0)<8?8:o)+o<<1;d[r+4>>2]=0;s=r+8|0;u=t;l=s+84|0;do{d[s>>2]=d[u>>2];s=s+4|0;u=u+4|0}while((s|0)<(l|0));d[r+92>>2]=0;d[r+96>>2]=0;d[r+100>>2]=32;d[r+104>>2]=0;d[r+108>>2]=0;f[r+112>>0]=0;l=r+116|0;d[l>>2]=0;d[l+4>>2]=0;d[l+8>>2]=0;d[l+12>>2]=0;d[l+16>>2]=0;d[r>>2]=35884;d[r+136>>2]=i;d[r+140>>2]=c;d[r+144>>2]=p;d[r+148>>2]=e;d[r+152>>2]=o;d[r+156>>2]=a;d[r+160>>2]=m;e=r+164|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[r+180>>2]=d[t>>2];d[r+184>>2]=0;d[r+188>>2]=0;d[r+192>>2]=0;e=r+4576|0;i=r+196|0;do{d[i>>2]=0;d[i+4>>2]=0;h[i+8>>1]=0;h[i+10>>1]=1;i=i+12|0}while((i|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=r+4588|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=r+4600|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[r+32>>2]|0))d[r+24>>2]=1}}}if((g|0)==16){g=Ze()|0;ut(g|0)}if(!r)return r|0;k=0;we(d[(d[r>>2]|0)+8>>2]|0,r|0,n|0);g=k;k=0;if(!(g&1))return r|0;e=Ze()|0;if(!r){g=e;ut(g|0)}m_[d[(d[r>>2]|0)+4>>2]&255](r);g=e;ut(g|0);return 0}function sn(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;n=(d[t+24>>2]|0)==2;if(n?(d[t+16>>2]|0)!=3:0){t=0;return t|0}c=d[t+20>>2]|0;e=d[t+8>>2]|0;e:do{if(!c){if(n){if((e|0)!=8)break;r=Ww(4608)|0;d[r+4>>2]=0;o=r+8|0;s=t;u=o+84|0;do{d[o>>2]=d[s>>2];o=o+4|0;s=s+4|0}while((o|0)<(u|0));d[r+92>>2]=0;d[r+96>>2]=0;d[r+100>>2]=32;d[r+104>>2]=0;d[r+108>>2]=0;f[r+112>>0]=0;e=r+116|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[e+16>>2]=0;d[r>>2]=35912;e=r+140|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[r+156>>2]=d[t>>2];d[r+160>>2]=0;d[r+164>>2]=0;d[r+168>>2]=0;e=r+4552|0;n=r+172|0;do{d[n>>2]=0;d[n+4>>2]=0;h[n+8>>1]=0;h[n+10>>1]=1;n=n+12|0}while((n|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=r+4564|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=r+4576|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[r+32>>2]|0))d[r+24>>2]=1;t=r;return t|0}switch(e|0){case 8:{r=Ww(4608)|0;d[r+4>>2]=0;o=r+8|0;s=t;u=o+84|0;do{d[o>>2]=d[s>>2];o=o+4|0;s=s+4|0}while((o|0)<(u|0));d[r+92>>2]=0;d[r+96>>2]=0;d[r+100>>2]=32;d[r+104>>2]=0;d[r+108>>2]=0;f[r+112>>0]=0;e=r+116|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[e+16>>2]=0;d[r>>2]=35940;e=r+140|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[r+156>>2]=d[t>>2];d[r+160>>2]=0;d[r+164>>2]=0;d[r+168>>2]=0;e=r+4552|0;n=r+172|0;do{d[n>>2]=0;d[n+4>>2]=0;h[n+8>>1]=0;h[n+10>>1]=1;n=n+12|0}while((n|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=r+4564|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=r+4576|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[r+32>>2]|0))d[r+24>>2]=1;t=r;return t|0}case 12:{r=Ww(4608)|0;d[r+4>>2]=0;o=r+8|0;s=t;u=o+84|0;do{d[o>>2]=d[s>>2];o=o+4|0;s=s+4|0}while((o|0)<(u|0));d[r+92>>2]=0;d[r+96>>2]=0;d[r+100>>2]=32;d[r+104>>2]=0;d[r+108>>2]=0;f[r+112>>0]=0;e=r+116|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[e+16>>2]=0;d[r>>2]=35968;e=r+140|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[r+156>>2]=d[t>>2];d[r+160>>2]=0;d[r+164>>2]=0;d[r+168>>2]=0;e=r+4552|0;n=r+172|0;do{d[n>>2]=0;d[n+4>>2]=0;h[n+8>>1]=0;h[n+10>>1]=1;n=n+12|0}while((n|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=r+4564|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=r+4576|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[r+32>>2]|0))d[r+24>>2]=1;t=r;return t|0}case 16:{r=Ww(4608)|0;d[r+4>>2]=0;o=r+8|0;s=t;u=o+84|0;do{d[o>>2]=d[s>>2];o=o+4|0;s=s+4|0}while((o|0)<(u|0));d[r+92>>2]=0;d[r+96>>2]=0;d[r+100>>2]=32;d[r+104>>2]=0;d[r+108>>2]=0;f[r+112>>0]=0;e=r+116|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[e+16>>2]=0;d[r>>2]=35996;e=r+140|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[r+156>>2]=d[t>>2];d[r+160>>2]=0;d[r+164>>2]=0;d[r+168>>2]=0;e=r+4552|0;n=r+172|0;do{d[n>>2]=0;d[n+4>>2]=0;h[n+8>>1]=0;h[n+10>>1]=1;n=n+12|0}while((n|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=r+4564|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=r+4576|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[r+32>>2]|0))d[r+24>>2]=1;t=r;return t|0}default:break e}}}while(0);l=(1<<e)+-1|0;if((e|0)<9){a=c<<1;a=((a+l|0)/(a|1|0)|0)+1|0;if(n){e=0;while(1){if((1<<e|0)<(a|0))e=e+1|0;else break}n=0;while(1){if((1<<n|0)<(l|0))n=n+1|0;else break}r=((n|0)<8?8:n)+n<<1;i=Ww(4632)|0;d[i+4>>2]=0;o=i+8|0;s=t;u=o+84|0;do{d[o>>2]=d[s>>2];o=o+4|0;s=s+4|0}while((o|0)<(u|0));d[i+92>>2]=0;d[i+96>>2]=0;d[i+100>>2]=32;d[i+104>>2]=0;d[i+108>>2]=0;f[i+112>>0]=0;u=i+116|0;d[u>>2]=0;d[u+4>>2]=0;d[u+8>>2]=0;d[u+12>>2]=0;d[u+16>>2]=0;d[i>>2]=36024;d[i+136>>2]=l;d[i+140>>2]=a;d[i+144>>2]=c;d[i+148>>2]=e;d[i+152>>2]=n;d[i+156>>2]=r;d[i+160>>2]=64;e=i+164|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[i+180>>2]=d[t>>2];d[i+184>>2]=0;d[i+188>>2]=0;d[i+192>>2]=0;e=i+4576|0;n=i+196|0;do{d[n>>2]=0;d[n+4>>2]=0;h[n+8>>1]=0;h[n+10>>1]=1;n=n+12|0}while((n|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=i+4588|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=i+4600|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[i+32>>2]|0))d[i+24>>2]=1;t=i;return t|0}else{e=0;while(1){if((1<<e|0)<(a|0))e=e+1|0;else break}n=0;while(1){if((1<<n|0)<(l|0))n=n+1|0;else break}r=((n|0)<8?8:n)+n<<1;i=Ww(4632)|0;d[i+4>>2]=0;o=i+8|0;s=t;u=o+84|0;do{d[o>>2]=d[s>>2];o=o+4|0;s=s+4|0}while((o|0)<(u|0));d[i+92>>2]=0;d[i+96>>2]=0;d[i+100>>2]=32;d[i+104>>2]=0;d[i+108>>2]=0;f[i+112>>0]=0;u=i+116|0;d[u>>2]=0;d[u+4>>2]=0;d[u+8>>2]=0;d[u+12>>2]=0;d[u+16>>2]=0;d[i>>2]=35884;d[i+136>>2]=l;d[i+140>>2]=a;d[i+144>>2]=c;d[i+148>>2]=e;d[i+152>>2]=n;d[i+156>>2]=r;d[i+160>>2]=64;e=i+164|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[i+180>>2]=d[t>>2];d[i+184>>2]=0;d[i+188>>2]=0;d[i+192>>2]=0;e=i+4576|0;n=i+196|0;do{d[n>>2]=0;d[n+4>>2]=0;h[n+8>>1]=0;h[n+10>>1]=1;n=n+12|0}while((n|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=i+4588|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=i+4600|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[i+32>>2]|0))d[i+24>>2]=1;t=i;return t|0}}if((e|0)>=17){t=0;return t|0}a=c<<1;a=((a+l|0)/(a|1|0)|0)+1|0;if(n){e=0;while(1){if((1<<e|0)<(a|0))e=e+1|0;else break}n=0;while(1){if((1<<n|0)<(l|0))n=n+1|0;else break}r=((n|0)<8?8:n)+n<<1;i=Ww(4632)|0;d[i+4>>2]=0;o=i+8|0;s=t;u=o+84|0;do{d[o>>2]=d[s>>2];o=o+4|0;s=s+4|0}while((o|0)<(u|0));d[i+92>>2]=0;d[i+96>>2]=0;d[i+100>>2]=32;d[i+104>>2]=0;d[i+108>>2]=0;f[i+112>>0]=0;u=i+116|0;d[u>>2]=0;d[u+4>>2]=0;d[u+8>>2]=0;d[u+12>>2]=0;d[u+16>>2]=0;d[i>>2]=36052;d[i+136>>2]=l;d[i+140>>2]=a;d[i+144>>2]=c;d[i+148>>2]=e;d[i+152>>2]=n;d[i+156>>2]=r;d[i+160>>2]=64;e=i+164|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[i+180>>2]=d[t>>2];d[i+184>>2]=0;d[i+188>>2]=0;d[i+192>>2]=0;e=i+4576|0;n=i+196|0;do{d[n>>2]=0;d[n+4>>2]=0;h[n+8>>1]=0;h[n+10>>1]=1;n=n+12|0}while((n|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=i+4588|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=i+4600|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[i+32>>2]|0))d[i+24>>2]=1;t=i;return t|0}else{e=0;while(1){if((1<<e|0)<(a|0))e=e+1|0;else break}n=0;while(1){if((1<<n|0)<(l|0))n=n+1|0;else break}r=((n|0)<8?8:n)+n<<1;i=Ww(4632)|0;d[i+4>>2]=0;o=i+8|0;s=t;u=o+84|0;do{d[o>>2]=d[s>>2];o=o+4|0;s=s+4|0}while((o|0)<(u|0));d[i+92>>2]=0;d[i+96>>2]=0;d[i+100>>2]=32;d[i+104>>2]=0;d[i+108>>2]=0;f[i+112>>0]=0;u=i+116|0;d[u>>2]=0;d[u+4>>2]=0;d[u+8>>2]=0;d[u+12>>2]=0;d[u+16>>2]=0;d[i>>2]=36080;d[i+136>>2]=l;d[i+140>>2]=a;d[i+144>>2]=c;d[i+148>>2]=e;d[i+152>>2]=n;d[i+156>>2]=r;d[i+160>>2]=64;e=i+164|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[i+180>>2]=d[t>>2];d[i+184>>2]=0;d[i+188>>2]=0;d[i+192>>2]=0;e=i+4576|0;n=i+196|0;do{d[n>>2]=0;d[n+4>>2]=0;h[n+8>>1]=0;h[n+10>>1]=1;n=n+12|0}while((n|0)!=(e|0));d[e>>2]=0;d[e+4>>2]=0;h[e+8>>1]=0;f[e+10>>0]=0;t=i+4588|0;d[t>>2]=0;d[t+4>>2]=0;h[t+8>>1]=0;f[t+10>>0]=0;t=i+4600|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[t+16>>2]=0;d[t+20>>2]=0;d[t+24>>2]=0;f[t+28>>0]=0;if(!(d[i+32>>2]|0))d[i+24>>2]=1;t=i;return t|0}return 0}function un(){var e=0,t=0,n=0,r=0,i=0,a=0,o=0;e=2832;do{d[e>>2]=0;d[e+4>>2]=0;e=e+8|0}while((e|0)!=4880);Dy(2832,0,2048)|0;e=0;do{o=2832+(e+128<<3)|0;d[o>>2]=0;d[o+4>>2]=1;e=e+1|0}while((e|0)!=128);e=3088;d[e>>2]=1;d[e+4>>2]=3;e=3096;d[e>>2]=1;d[e+4>>2]=3;e=3104;d[e>>2]=1;d[e+4>>2]=3;e=3112;d[e>>2]=1;d[e+4>>2]=3;e=3120;d[e>>2]=1;d[e+4>>2]=3;e=3128;d[e>>2]=1;d[e+4>>2]=3;e=3136;d[e>>2]=1;d[e+4>>2]=3;e=3144;d[e>>2]=1;d[e+4>>2]=3;e=3152;d[e>>2]=1;d[e+4>>2]=3;e=3160;d[e>>2]=1;d[e+4>>2]=3;e=3168;d[e>>2]=1;d[e+4>>2]=3;e=3176;d[e>>2]=1;d[e+4>>2]=3;e=3184;d[e>>2]=1;d[e+4>>2]=3;e=3192;d[e>>2]=1;d[e+4>>2]=3;e=3200;d[e>>2]=1;d[e+4>>2]=3;e=3208;d[e>>2]=1;d[e+4>>2]=3;e=3216;d[e>>2]=1;d[e+4>>2]=3;e=3224;d[e>>2]=1;d[e+4>>2]=3;e=3232;d[e>>2]=1;d[e+4>>2]=3;e=3240;d[e>>2]=1;d[e+4>>2]=3;e=3248;d[e>>2]=1;d[e+4>>2]=3;e=3256;d[e>>2]=1;d[e+4>>2]=3;e=3264;d[e>>2]=1;d[e+4>>2]=3;e=3272;d[e>>2]=1;d[e+4>>2]=3;e=3280;d[e>>2]=1;d[e+4>>2]=3;e=3288;d[e>>2]=1;d[e+4>>2]=3;e=3296;d[e>>2]=1;d[e+4>>2]=3;e=3304;d[e>>2]=1;d[e+4>>2]=3;e=3312;d[e>>2]=1;d[e+4>>2]=3;e=3320;d[e>>2]=1;d[e+4>>2]=3;e=3328;d[e>>2]=1;d[e+4>>2]=3;e=3336;d[e>>2]=1;d[e+4>>2]=3;e=2896;d[e>>2]=2;d[e+4>>2]=5;e=2904;d[e>>2]=2;d[e+4>>2]=5;e=2912;d[e>>2]=2;d[e+4>>2]=5;e=2920;d[e>>2]=2;d[e+4>>2]=5;e=2928;d[e>>2]=2;d[e+4>>2]=5;e=2936;d[e>>2]=2;d[e+4>>2]=5;e=2944;d[e>>2]=2;d[e+4>>2]=5;e=2952;d[e>>2]=2;d[e+4>>2]=5;e=2848;d[e>>2]=3;d[e+4>>2]=7;e=2856;d[e>>2]=3;d[e+4>>2]=7;e=0;do{o=2832+(e+64<<3)|0;d[o>>2]=-1;d[o+4>>2]=2;e=e+1|0}while((e|0)!=64);e=2960;d[e>>2]=-2;d[e+4>>2]=4;e=2968;d[e>>2]=-2;d[e+4>>2]=4;e=2976;d[e>>2]=-2;d[e+4>>2]=4;e=2984;d[e>>2]=-2;d[e+4>>2]=4;e=2992;d[e>>2]=-2;d[e+4>>2]=4;e=3e3;d[e>>2]=-2;d[e+4>>2]=4;e=3008;d[e>>2]=-2;d[e+4>>2]=4;e=3016;d[e>>2]=-2;d[e+4>>2]=4;e=3024;d[e>>2]=-2;d[e+4>>2]=4;e=3032;d[e>>2]=-2;d[e+4>>2]=4;e=3040;d[e>>2]=-2;d[e+4>>2]=4;e=3048;d[e>>2]=-2;d[e+4>>2]=4;e=3056;d[e>>2]=-2;d[e+4>>2]=4;e=3064;d[e>>2]=-2;d[e+4>>2]=4;e=3072;d[e>>2]=-2;d[e+4>>2]=4;e=3080;d[e>>2]=-2;d[e+4>>2]=4;e=2864;d[e>>2]=-3;d[e+4>>2]=6;e=2872;d[e>>2]=-3;d[e+4>>2]=6;e=2880;d[e>>2]=-3;d[e+4>>2]=6;e=2888;d[e>>2]=-3;d[e+4>>2]=6;e=2840;d[e>>2]=-4;d[e+4>>2]=8;e=4880;do{d[e>>2]=0;d[e+4>>2]=0;e=e+8|0}while((e|0)!=6928);Dy(4880,0,2048)|0;n=2;e=0;i=0;a=0;while(1){n=n<<16>>16;t=8-n|0;r=1<<t;if((t|0)!=31){e=(e&1|2)<<t;t=0;do{o=4880+(t+e<<3)|0;d[o>>2]=i;d[o+4>>2]=n;t=t+1|0}while((t|0)<(r|0))}t=(a<<16)+65536|0;e=t>>31^t>>15;a=a+1|0;if((a|0)==7){t=2;i=1;a=-1;o=-1;break}else{n=(e>>1)+2|0;i=t>>16}}while(1){n=t<<16>>16;e=8-n|0;r=1<<e;if((e|0)!=31){e=(i&1|2)<<e;t=0;do{i=4880+(t+e<<3)|0;d[i>>2]=a;d[i+4>>2]=n;t=t+1|0}while((t|0)<(r|0))}e=(o<<16)+-65536|0;i=e>>31^e>>15;t=(i>>1)+2|0;if((t|0)>8){e=6928;break}else{a=e>>16;o=o+-1|0}}do{d[e>>2]=0;d[e+4>>2]=0;e=e+8|0}while((e|0)!=8976);Dy(6928,0,2048)|0;i=3;e=0;r=0;a=0;while(1){t=8-i|0;n=1<<t;if((t|0)!=31){e=(e&3|4)<<t;t=0;do{o=6928+(t+e<<3)|0;d[o>>2]=r;d[o+4>>2]=i;t=t+1|0}while((t|0)<(n|0))}t=(a<<16)+65536|0;e=t>>31^t>>15;a=a+1|0;if((a|0)==12){i=3;t=1;r=-1;a=-1;break}else{i=(e>>2)+3|0;r=t>>16}}while(1){e=8-i|0;n=1<<e;if((e|0)!=31){e=(t&3|4)<<e;t=0;do{o=6928+(t+e<<3)|0;d[o>>2]=r;d[o+4>>2]=i;t=t+1|0}while((t|0)<(n|0))}e=(a<<16)+-65536|0;t=e>>31^e>>15;i=(t>>2)+3|0;if((i|0)>8){e=8976;break}else{r=e>>16;a=a+-1|0}}do{d[e>>2]=0;d[e+4>>2]=0;e=e+8|0}while((e|0)!=11024);Dy(8976,0,2048)|0;i=4;e=0;r=0;a=0;while(1){t=8-i|0;n=1<<t;if((t|0)!=31){e=(e&7|8)<<t;t=0;do{o=8976+(t+e<<3)|0;d[o>>2]=r;d[o+4>>2]=i;t=t+1|0}while((t|0)<(n|0))}t=(a<<16)+65536|0;e=t>>31^t>>15;a=a+1|0;if((a|0)==20){i=4;t=1;r=-1;a=-1;break}else{i=(e>>3)+4|0;r=t>>16}}while(1){e=8-i|0;n=1<<e;if((e|0)!=31){e=(t&7|8)<<e;t=0;do{o=8976+(t+e<<3)|0;d[o>>2]=r;d[o+4>>2]=i;t=t+1|0}while((t|0)<(n|0))}e=(a<<16)+-65536|0;t=e>>31^e>>15;i=(t>>3)+4|0;if((i|0)>8){e=11024;break}else{r=e>>16;a=a+-1|0}}do{d[e>>2]=0;d[e+4>>2]=0;e=e+8|0}while((e|0)!=13072);Dy(11024,0,2048)|0;i=5;e=0;r=0;a=0;while(1){t=8-i|0;n=1<<t;if((t|0)!=31){e=(e&15|16)<<t;t=0;do{o=11024+(t+e<<3)|0;d[o>>2]=r;d[o+4>>2]=i;t=t+1|0}while((t|0)<(n|0))}t=(a<<16)+65536|0;e=t>>31^t>>15;a=a+1|0;if((a|0)==32){i=5;t=1;r=-1;a=-1;break}else{i=(e>>4)+5|0;r=t>>16}}while(1){e=8-i|0;n=1<<e;if((e|0)!=31){e=(t&15|16)<<e;t=0;do{o=11024+(t+e<<3)|0;d[o>>2]=r;d[o+4>>2]=i;t=t+1|0}while((t|0)<(n|0))}e=(a<<16)+-65536|0;t=e>>31^e>>15;i=(t>>4)+5|0;if((i|0)>8){e=13072;break}else{r=e>>16;a=a+-1|0}}do{d[e>>2]=0;d[e+4>>2]=0;e=e+8|0}while((e|0)!=15120);Dy(13072,0,2048)|0;i=6;e=0;r=0;a=0;while(1){t=8-i|0;n=1<<t;if((t|0)!=31){e=(e&31|32)<<t;t=0;do{o=13072+(t+e<<3)|0;d[o>>2]=r;d[o+4>>2]=i;t=t+1|0}while((t|0)<(n|0))}t=(a<<16)+65536|0;e=t>>31^t>>15;a=a+1|0;if((a|0)==48){i=6;t=1;r=-1;a=-1;break}else{i=(e>>5)+6|0;r=t>>16}}while(1){e=8-i|0;n=1<<e;if((e|0)!=31){e=(t&31|32)<<e;t=0;do{o=13072+(t+e<<3)|0;d[o>>2]=r;d[o+4>>2]=i;t=t+1|0}while((t|0)<(n|0))}e=(a<<16)+-65536|0;t=e>>31^e>>15;i=(t>>5)+6|0;if((i|0)>8){e=15120;break}else{r=e>>16;a=a+-1|0}}do{d[e>>2]=0;d[e+4>>2]=0;e=e+8|0}while((e|0)!=17168);Dy(15120,0,2048)|0;i=7;e=0;r=0;a=0;while(1){t=8-i|0;n=1<<t;if((t|0)!=31){e=(e&63|64)<<t;t=0;do{o=15120+(t+e<<3)|0;d[o>>2]=r;d[o+4>>2]=i;t=t+1|0}while((t|0)<(n|0))}t=(a<<16)+65536|0;e=t>>31^t>>15;a=a+1|0;if((a|0)==64){i=7;t=1;r=-1;a=-1;break}else{i=(e>>6)+7|0;r=t>>16}}while(1){e=8-i|0;n=1<<e;if((e|0)!=31){e=(t&63|64)<<e;t=0;do{o=15120+(t+e<<3)|0;d[o>>2]=r;d[o+4>>2]=i;t=t+1|0}while((t|0)<(n|0))}e=(a<<16)+-65536|0;t=e>>31^e>>15;i=(t>>6)+7|0;if((i|0)>8){e=17168;break}else{r=e>>16;a=a+-1|0}}do{d[e>>2]=0;d[e+4>>2]=0;e=e+8|0}while((e|0)!=19216);Dy(17168,0,2048)|0;i=8;e=0;r=0;a=0;while(1){t=8-i|0;n=1<<t;if((t|0)!=31){e=(e&127|128)<<t;t=0;do{o=17168+(t+e<<3)|0;d[o>>2]=r;d[o+4>>2]=i;t=t+1|0}while((t|0)<(n|0))}t=(a<<16)+65536|0;e=t>>31^t>>15;a=a+1|0;if((a|0)==64){a=8;r=1;i=-1;o=-1;break}else{i=(e>>7)+8|0;r=t>>16}}while(1){e=8-a|0;n=1<<e;if((e|0)!=31){e=(r&127|128)<<e;t=0;do{r=17168+(t+e<<3)|0;d[r>>2]=i;d[r+4>>2]=a;t=t+1|0}while((t|0)<(n|0))}t=(o<<16)+-65536|0;r=t>>31^t>>15;e=r>>7;if((e|0)>0){e=19216;break}else{a=e+8|0;i=t>>16;o=o+-1|0}}do{d[e>>2]=0;d[e+4>>2]=0;e=e+8|0}while((e|0)!=21264);Dy(19216,0,2048)|0;e=21264;do{d[e>>2]=0;d[e+4>>2]=0;e=e+8|0}while((e|0)!=23312);Dy(21264,0,2048)|0;e=23312;do{d[e>>2]=0;d[e+4>>2]=0;e=e+8|0}while((e|0)!=25360);Dy(23312,0,2048)|0;e=25360;do{d[e>>2]=0;d[e+4>>2]=0;e=e+8|0}while((e|0)!=27408);Dy(25360,0,2048)|0;e=27408;do{d[e>>2]=0;d[e+4>>2]=0;e=e+8|0}while((e|0)!=29456);Dy(27408,0,2048)|0;e=29456;do{d[e>>2]=0;d[e+4>>2]=0;e=e+8|0}while((e|0)!=31504);Dy(29456,0,2048)|0;e=31504;do{d[e>>2]=0;d[e+4>>2]=0;e=e+8|0}while((e|0)!=33552);Dy(31504,0,2048)|0;e=33552;do{d[e>>2]=0;d[e+4>>2]=0;e=e+8|0}while((e|0)!=35600);Dy(33552,0,2048)|0;nn(35600,8);xt(179,35600,E|0)|0;nn(35612,10);xt(179,35612,E|0)|0;nn(35624,12);xt(179,35624,E|0)|0;nn(35636,16);xt(179,35636,E|0)|0;return}function ln(e){e=e|0;var t=0;t=d[e>>2]|0;if(!t)return;e=e+4|0;if((d[e>>2]|0)!=(t|0))d[e>>2]=t;Hw(t);return}function cn(e){e=e|0;var t=0,n=0;d[e>>2]=36080;t=d[e+4616>>2]|0;if(t){n=e+4620|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);e=e+4|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function fn(e){e=e|0;var t=0,n=0;d[e>>2]=36080;t=d[e+4616>>2]|0;if(t){n=e+4620|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);n=e+4|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function hn(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0;o=w;w=w+32|0;u=o;bw(u,d[e+136>>2]|0,d[e+144>>2]|0);s=d[t+4>>2]|0;a=d[t+8>>2]|0;a=(a|0)==0?d[u+8>>2]|0:a;i=d[t+12>>2]|0;i=(i|0)==0?d[u+12>>2]|0:i;n=d[t+16>>2]|0;r=d[u+16>>2]|0;d[e+184>>2]=(s|0)==0?d[u+4>>2]|0:s;d[e+188>>2]=a;d[e+192>>2]=i;Jr(e);i=e+140|0;t=(d[i>>2]|0)+32|0;t=(t|0)<128?2:(t|0)/64|0;a=0;do{d[e+196+(a*12|0)>>2]=t;d[e+196+(a*12|0)+4>>2]=0;h[e+196+(a*12|0)+8>>1]=0;h[e+196+(a*12|0)+10>>1]=1;a=a+1|0}while((a|0)!=365);s=(d[i>>2]|0)+32|0;s=(s|0)<128?2:(s|0)/64|0;u=((n|0)==0?r:n)&255;d[e+4576>>2]=s;d[e+4580>>2]=0;f[e+4584>>0]=u;f[e+4585>>0]=1;f[e+4586>>0]=0;d[e+4588>>2]=s;d[e+4592>>2]=1;f[e+4596>>0]=u;f[e+4597>>0]=1;f[e+4598>>0]=0;d[e+4600>>2]=0;w=o;return}function dn(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=w;w=w+16|0;u=c;s=e+92|0;o=d[t>>2]|0;d[t>>2]=0;t=d[s>>2]|0;d[s>>2]=o;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);d[u>>2]=0;d[u+4>>2]=r;s=n+8|0;d[u+8>>2]=d[s>>2];if(r){t=Ww(4624)|0;r=e+8|0;i=t+4|0;a=r;o=i+84|0;do{d[i>>2]=d[a>>2];i=i+4|0;a=a+4|0}while((i|0)<(o|0));i=t+88|0;o=i+40|0;do{d[i>>2]=0;i=i+4|0}while((i|0)<(o|0));d[t>>2]=35856;d[t+128>>2]=d[e+136>>2];d[t+132>>2]=d[e+140>>2];d[t+136>>2]=d[e+144>>2];d[t+140>>2]=d[e+148>>2];d[t+144>>2]=d[e+152>>2];d[t+148>>2]=d[e+156>>2];d[t+152>>2]=d[e+160>>2];i=t+156|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;d[i+12>>2]=0;d[t+172>>2]=d[r>>2];d[t+176>>2]=0;d[t+180>>2]=0;d[t+184>>2]=0;i=t+4568|0;r=t+188|0;do{d[r>>2]=0;d[r+4>>2]=0;h[r+8>>1]=0;h[r+10>>1]=1;r=r+12|0}while((r|0)!=(i|0));a=e+4|0;d[i>>2]=0;d[i+4>>2]=0;h[i+8>>1]=0;f[i+10>>0]=0;o=t+4580|0;d[o>>2]=0;d[o+4>>2]=0;h[o+8>>1]=0;f[o+10>>0]=0;o=t+4592|0;d[o>>2]=0;d[o+4>>2]=0;d[o+8>>2]=0;d[o+12>>2]=0;d[o+16>>2]=0;d[o+20>>2]=0;d[o+24>>2]=0;f[o+28>>0]=0;if(!(d[t+28>>2]|0))d[t+20>>2]=1;r=d[a>>2]|0;d[a>>2]=t;if(r){m_[d[(d[r>>2]|0)+4>>2]&255](r);t=d[a>>2]|0}zr(t,u)}u=e+100|0;d[u>>2]=32;d[e+96>>2]=0;t=d[n>>2]|0;if(!t){d[e+108>>2]=d[n+4>>2];d[e+104>>2]=d[s>>2];jr(e);l=e+116|0;l=d[l>>2]|0;e=d[u>>2]|0;e=e+-32|0;e=(e|0)/8|0;e=l-e|0;w=c;return e|0}d[e+132>>2]=t;i=e+120|0;s=e+124|0;r=d[s>>2]|0;t=d[i>>2]|0;a=t;o=r-a|0;if(o>>>0>=4e3){if(o>>>0>4e3?(l=t+4e3|0,(r|0)!=(l|0)):0){d[s>>2]=l;r=l}}else{Ur(i,4e3-o|0);t=d[i>>2]|0;a=t;r=d[s>>2]|0}d[e+108>>2]=a;d[e+104>>2]=r-t;jr(e);l=e+116|0;l=d[l>>2]|0;e=d[u>>2]|0;e=e+-32|0;e=(e|0)/8|0;e=l-e|0;w=c;return e|0}function pn(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+352|0;S=b+328|0;x=b+192|0;n=b+343|0;r=b+342|0;i=b+341|0;a=b+340|0;p=b+176|0;s=b+168|0;u=b+160|0;l=b+152|0;y=b;g=b+136|0;if((d[e+32>>2]|0)!=0?(d[e+24>>2]|0)!=1:0){m=e+8|0;v=e+36|0;o=d[v>>2]|0;if(!o){e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[n>>0]|0;Be(37,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}e=d[e+16>>2]|0;if((e|0)==16)switch(o|0){case 1:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[r>>0]|0;Be(38,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[i>>0]|0;Be(39,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[a>>0]|0;Be(40,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=x+56|0;i=x+4|0;d[x>>2]=36160;d[o>>2]=36180;k=0;we(62,x+56|0,i|0);b=k;k=0;if(b&1){_=Ze()|0;pd(o);ut(_|0)}d[x+128>>2]=0;d[x+132>>2]=-1;d[x>>2]=36200;d[x+56>>2]=36220;k=0;be(180,i|0);b=k;k=0;do{if(b&1)e=Ze()|0;else{d[i>>2]=36236;a=x+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[x+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);b=k;k=0;if(b&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,x|0,49007,21)|0;S=k;k=0;do{if((!(S&1)?(k=0,c=Oe(36,e|0,d[v>>2]|0)|0,S=k,k=0,!(S&1)):0)?(k=0,Te(28,c|0,50997,18)|0,S=k,k=0,!(S&1)):0){r=Ke(16)|0;k=0;we(64,p|0,i|0);S=k;k=0;if(!(S&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,p|0);S=k;k=0;if(S&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(p);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=34}while(0);if((_|0)==34)e=Ze()|0;d[x>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}if((e|0)<=8){e=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,e|0,8,35648);_=k;k=0;if(!(_&1))_t(e|0,824,96);_=Ze()|0;Ye(e|0);ut(_|0)}n=16-e|0;switch(o|0){case 1:{e=Ww(60)|0;d[s>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[s>>2];d[S+4>>2]=d[s+4>>2];Be(41,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(60)|0;d[u>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[u>>2];d[S+4>>2]=d[u+4>>2];Be(42,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(60)|0;d[l>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[l>>2];d[S+4>>2]=d[l+4>>2];Be(43,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=y+56|0;i=y+4|0;d[y>>2]=36160;d[o>>2]=36180;k=0;we(62,y+56|0,i|0);x=k;k=0;if(x&1){_=Ze()|0;pd(o);ut(_|0)}d[y+128>>2]=0;d[y+132>>2]=-1;d[y>>2]=36200;d[y+56>>2]=36220;k=0;be(180,i|0);x=k;k=0;do{if(x&1)e=Ze()|0;else{d[i>>2]=36236;a=y+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[y+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);x=k;k=0;if(x&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,y|0,49007,21)|0;x=k;k=0;do{if((!(x&1)?(k=0,h=Oe(36,e|0,d[v>>2]|0)|0,x=k,k=0,!(x&1)):0)?(k=0,Te(28,h|0,50997,18)|0,x=k,k=0,!(x&1)):0){r=Ke(16)|0;k=0;we(64,g|0,i|0);x=k;k=0;if(!(x&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,g|0);x=k;k=0;if(x&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(g);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=64}while(0);if((_|0)==64)e=Ze()|0;d[y>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}}n=d[t+4>>2]|0;r=Ww(16)|0;e=d[e+20>>2]|0;if(!n){_=d[t>>2]|0;d[r>>2]=36132;d[r+4>>2]=_;d[r+8>>2]=2;d[r+12>>2]=e;_=r;w=b;return _|0}else{d[r>>2]=36108;d[r+4>>2]=n;d[r+8>>2]=2;d[r+12>>2]=e;_=r;w=b;return _|0}return 0}function mn(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0;d[e>>2]=36460;d[e+4>>2]=n;h=e+8|0;a=d[n>>2]|0;l=n+16|0;r=d[l>>2]|0;o=fe(r,a)|0;d[h>>2]=0;p=e+12|0;d[p>>2]=0;d[e+16>>2]=0;do{if(o){if(!((o|0)<0?(k=0,be(178,h|0),a=k,k=0,a&1):0))c=4;if((c|0)==4?(s=o<<1,k=0,u=xe(67,s|0)|0,a=k,k=0,!(a&1)):0){d[h>>2]=u;a=u+(o<<1)|0;d[e+16>>2]=a;Dy(u|0,0,s|0)|0;d[p>>2]=a;a=d[n>>2]|0;r=d[l>>2]|0;break}o=Ze()|0;i=d[h>>2]|0;r=i;if(i){a=d[p>>2]|0;if((a|0)!=(i|0))d[p>>2]=a+(~((a+-2-r|0)>>>1)<<1);Hw(i)}p=o;ut(p|0)}}while(0);o=e+20|0;r=fe(a<<1,r)|0;d[o>>2]=0;s=e+24|0;d[s>>2]=0;d[e+28>>2]=0;if(!r){p=e+36|0;d[p>>2]=d[t>>2];d[p+4>>2]=d[t+4>>2];d[p+8>>2]=d[t+8>>2];return}if(!((r|0)<0?(k=0,be(178,o|0),n=k,k=0,n&1):0))c=13;if((c|0)==13?(k=0,i=xe(67,r|0)|0,c=k,k=0,!(c&1)):0){d[s>>2]=i;d[o>>2]=i;d[e+28>>2]=i+r;do{f[i>>0]=0;i=(d[s>>2]|0)+1|0;d[s>>2]=i;r=r+-1|0}while((r|0)!=0);p=e+36|0;d[p>>2]=d[t>>2];d[p+4>>2]=d[t+4>>2];d[p+8>>2]=d[t+8>>2];return}a=Ze()|0;i=d[o>>2]|0;if(i){if((d[s>>2]|0)!=(i|0))d[s>>2]=i;Hw(i)}i=d[h>>2]|0;if(!i){p=a;ut(p|0)}r=d[p>>2]|0;if((r|0)!=(i|0))d[p>>2]=r+(~((r+-2-i|0)>>>1)<<1);Hw(i);p=a;ut(p|0)}function gn(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0;d[e>>2]=36436;d[e+4>>2]=n;h=e+8|0;a=d[n>>2]|0;l=n+16|0;r=d[l>>2]|0;o=fe(r,a)|0;d[h>>2]=0;p=e+12|0;d[p>>2]=0;d[e+16>>2]=0;do{if(o){if(!((o|0)<0?(k=0,be(178,h|0),a=k,k=0,a&1):0))c=4;if((c|0)==4?(s=o<<1,k=0,u=xe(67,s|0)|0,a=k,k=0,!(a&1)):0){d[h>>2]=u;a=u+(o<<1)|0;d[e+16>>2]=a;Dy(u|0,0,s|0)|0;d[p>>2]=a;a=d[n>>2]|0;r=d[l>>2]|0;break}o=Ze()|0;i=d[h>>2]|0;r=i;if(i){a=d[p>>2]|0;if((a|0)!=(i|0))d[p>>2]=a+(~((a+-2-r|0)>>>1)<<1);Hw(i)}p=o;ut(p|0)}}while(0);o=e+20|0;r=fe(a<<1,r)|0;d[o>>2]=0;s=e+24|0;d[s>>2]=0;d[e+28>>2]=0;if(!r){p=e+36|0;d[p>>2]=d[t>>2];d[p+4>>2]=d[t+4>>2];d[p+8>>2]=d[t+8>>2];return}if(!((r|0)<0?(k=0,be(178,o|0),n=k,k=0,n&1):0))c=13;if((c|0)==13?(k=0,i=xe(67,r|0)|0,c=k,k=0,!(c&1)):0){d[s>>2]=i;d[o>>2]=i;d[e+28>>2]=i+r;do{f[i>>0]=0;i=(d[s>>2]|0)+1|0;d[s>>2]=i;r=r+-1|0}while((r|0)!=0);p=e+36|0;d[p>>2]=d[t>>2];d[p+4>>2]=d[t+4>>2];d[p+8>>2]=d[t+8>>2];return}a=Ze()|0;i=d[o>>2]|0;if(i){if((d[s>>2]|0)!=(i|0))d[s>>2]=i;Hw(i)}i=d[h>>2]|0;if(!i){p=a;ut(p|0)}r=d[p>>2]|0;if((r|0)!=(i|0))d[p>>2]=r+(~((r+-2-i|0)>>>1)<<1);Hw(i);p=a;ut(p|0)}function vn(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0;d[e>>2]=36412;d[e+4>>2]=n;h=e+8|0;a=d[n>>2]|0;l=n+16|0;r=d[l>>2]|0;o=fe(r,a)|0;d[h>>2]=0;p=e+12|0;d[p>>2]=0;d[e+16>>2]=0;do{if(o){if(!((o|0)<0?(k=0,be(178,h|0),a=k,k=0,a&1):0))c=4;if((c|0)==4?(s=o<<1,k=0,u=xe(67,s|0)|0,a=k,k=0,!(a&1)):0){d[h>>2]=u;a=u+(o<<1)|0;d[e+16>>2]=a;Dy(u|0,0,s|0)|0;d[p>>2]=a;a=d[n>>2]|0;r=d[l>>2]|0;break}o=Ze()|0;i=d[h>>2]|0;r=i;if(i){a=d[p>>2]|0;if((a|0)!=(i|0))d[p>>2]=a+(~((a+-2-r|0)>>>1)<<1);Hw(i)}p=o;ut(p|0)}}while(0);o=e+20|0;r=fe(a<<1,r)|0;d[o>>2]=0;s=e+24|0;d[s>>2]=0;d[e+28>>2]=0;if(!r){p=e+36|0;d[p>>2]=d[t>>2];d[p+4>>2]=d[t+4>>2];d[p+8>>2]=d[t+8>>2];return}if(!((r|0)<0?(k=0,be(178,o|0),n=k,k=0,n&1):0))c=13;if((c|0)==13?(k=0,i=xe(67,r|0)|0,c=k,k=0,!(c&1)):0){d[s>>2]=i;d[o>>2]=i;d[e+28>>2]=i+r;do{f[i>>0]=0;i=(d[s>>2]|0)+1|0;d[s>>2]=i;r=r+-1|0}while((r|0)!=0);p=e+36|0;d[p>>2]=d[t>>2];d[p+4>>2]=d[t+4>>2];d[p+8>>2]=d[t+8>>2];return}a=Ze()|0;i=d[o>>2]|0;if(i){if((d[s>>2]|0)!=(i|0))d[s>>2]=i;Hw(i)}i=d[h>>2]|0;if(!i){p=a;ut(p|0)}r=d[p>>2]|0;if((r|0)!=(i|0))d[p>>2]=r+(~((r+-2-i|0)>>>1)<<1);Hw(i);p=a;ut(p|0)}function yn(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0;d[e>>2]=36388;d[e+4>>2]=n;h=e+8|0;a=d[n>>2]|0;l=n+16|0;r=d[l>>2]|0;o=fe(r,a)|0;d[h>>2]=0;p=e+12|0;d[p>>2]=0;d[e+16>>2]=0;do{if(o){if(!((o|0)<0?(k=0,be(178,h|0),a=k,k=0,a&1):0))c=4;if((c|0)==4?(s=o<<1,k=0,u=xe(67,s|0)|0,a=k,k=0,!(a&1)):0){d[h>>2]=u;a=u+(o<<1)|0;d[e+16>>2]=a;Dy(u|0,0,s|0)|0;d[p>>2]=a;a=d[n>>2]|0;r=d[l>>2]|0;break}o=Ze()|0;i=d[h>>2]|0;r=i;if(i){a=d[p>>2]|0;if((a|0)!=(i|0))d[p>>2]=a+(~((a+-2-r|0)>>>1)<<1);Hw(i)}p=o;ut(p|0)}}while(0);o=e+20|0;r=fe(a<<1,r)|0;d[o>>2]=0;s=e+24|0;d[s>>2]=0;d[e+28>>2]=0;if(!r){p=e+36|0;d[p>>2]=d[t>>2];d[p+4>>2]=d[t+4>>2];d[p+8>>2]=d[t+8>>2];return}if(!((r|0)<0?(k=0,be(178,o|0),n=k,k=0,n&1):0))c=13;if((c|0)==13?(k=0,i=xe(67,r|0)|0,c=k,k=0,!(c&1)):0){d[s>>2]=i;d[o>>2]=i;d[e+28>>2]=i+r;do{f[i>>0]=0;i=(d[s>>2]|0)+1|0;d[s>>2]=i;r=r+-1|0}while((r|0)!=0);p=e+36|0;d[p>>2]=d[t>>2];d[p+4>>2]=d[t+4>>2];d[p+8>>2]=d[t+8>>2];return}a=Ze()|0;i=d[o>>2]|0;if(i){if((d[s>>2]|0)!=(i|0))d[s>>2]=i;Hw(i)}i=d[h>>2]|0;if(!i){p=a;ut(p|0)}r=d[p>>2]|0;if((r|0)!=(i|0))d[p>>2]=r+(~((r+-2-i|0)>>>1)<<1);Hw(i);p=a;ut(p|0)}function bn(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0;o=e+32|0;Wh(o,t)|0;a=e+44|0;d[a>>2]=0;s=e+48|0;i=d[s>>2]|0;if(i&8){t=f[o>>0]|0;if(!(t&1)){t=((t&255)>>>1)+(o+1)|0;d[a>>2]=t;n=o+1|0;r=o+1|0}else{t=(d[e+40>>2]|0)+(d[e+36>>2]|0)|0;d[a>>2]=t;r=d[e+40>>2]|0;n=r}d[e+8>>2]=n;d[e+12>>2]=r;d[e+16>>2]=t}if(!(i&16))return;t=f[o>>0]|0;if(!(t&1)){i=(t&255)>>>1;d[a>>2]=o+1+i;t=10;a=i}else{i=d[e+36>>2]|0;d[a>>2]=(d[e+40>>2]|0)+i;t=(d[o>>2]&-2)+-1|0;a=i}Qh(o,t,0);t=f[o>>0]|0;if(!(t&1)){i=o+1|0;r=(t&255)>>>1;n=o+1|0}else{n=d[e+40>>2]|0;i=n;r=d[e+36>>2]|0}t=e+24|0;d[t>>2]=n;d[e+20>>2]=n;d[e+28>>2]=i+r;if(!(d[s>>2]&3))return;d[t>>2]=n+a;return}function wn(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;p=w;w=w+32|0;o=p+16|0;h=p+8|0;s=p;k=0;we(65,h|0,e|0);l=k;k=0;e:do{if(l&1){n=Ze(0)|0;r=e;i=e}else{do{if(f[h>>0]|0){r=d[(d[e>>2]|0)+-12>>2]|0;d[s>>2]=d[e+(r+24)>>2];u=e+r|0;l=d[e+(r+4)>>2]|0;i=t+n|0;r=e+(r+76)|0;n=d[r>>2]|0;do{if((n|0)==-1){k=0;n=xe(68,u|0)|0;m=k;k=0;if(m&1)c=13;else{d[o>>2]=n;k=0;n=Oe(37,o|0,44220)|0;m=k;k=0;if(!(m&1)?(k=0,a=Oe(d[(d[n>>2]|0)+28>>2]|0,n|0,32)|0,m=k,k=0,!(m&1)):0){Gc(o);n=a<<24>>24;d[r>>2]=n;c=9;break}n=Ze(0)|0;Gc(o)}}else c=9}while(0);if((c|0)==9){k=0;d[o>>2]=d[s>>2];n=Se(39,o|0,t|0,((l&176|0)==32?i:t)|0,i|0,u|0,n&255|0)|0;m=k;k=0;if(!(m&1)){if(n)break;m=d[(d[e>>2]|0)+-12>>2]|0;k=0;we(66,e+m|0,d[e+(m+16)>>2]|5|0);m=k;k=0;if(!(m&1))break;else c=13}else c=13}if((c|0)==13)n=Ze(0)|0;pp(h);r=e;i=e;break e}}while(0);pp(h);w=p;return e|0}}while(0);at(n|0)|0;k=0;be(181,r+(d[(d[i>>2]|0)+-12>>2]|0)|0);m=k;k=0;if(!(m&1)){st();w=p;return e|0}n=Ze()|0;k=0;Ne(3);m=k;k=0;if(m&1){m=Ze(0)|0;Xt(m)}else ut(n|0);return 0}function Sn(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0;n=d[t+48>>2]|0;if(n&16){n=t+44|0;r=d[n>>2]|0;i=d[t+24>>2]|0;if(r>>>0<i>>>0)d[n>>2]=i;else i=r;r=d[t+20>>2]|0;a=i-r|0;if(a>>>0>4294967279)jw(e);if(a>>>0<11){f[e>>0]=a<<1;n=e+1|0}else{t=a+16&-16;n=Ww(t)|0;d[e+8>>2]=n;d[e>>2]=t|1;d[e+4>>2]=a}if((r|0)!=(i|0)){t=n;while(1){f[t>>0]=f[r>>0]|0;r=r+1|0;if((r|0)==(i|0))break;else t=t+1|0}n=n+a|0}f[n>>0]=0;return}if(!(n&8)){d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;return}r=d[t+8>>2]|0;t=d[t+16>>2]|0;a=t-r|0;if(a>>>0>4294967279)jw(e);if(a>>>0<11){f[e>>0]=a<<1;n=e+1|0}else{i=a+16&-16;n=Ww(i)|0;d[e+8>>2]=n;d[e>>2]=i|1;d[e+4>>2]=a}if((r|0)!=(t|0)){i=n;while(1){f[i>>0]=f[r>>0]|0;r=r+1|0;if((r|0)==(t|0))break;else i=i+1|0}n=n+a|0}f[n>>0]=0;return}function xn(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;d[e>>2]=36364;d[e+4>>2]=n;p=e+8|0;o=d[n>>2]|0;c=n+16|0;a=d[c>>2]|0;l=fe(a,o)|0;d[p>>2]=0;m=e+12|0;d[m>>2]=0;d[e+16>>2]=0;do{if(l){if(!((l|0)<0?(k=0,be(178,p|0),o=k,k=0,o&1):0))h=4;if((h|0)==4?(s=l<<1,k=0,u=xe(67,s|0)|0,o=k,k=0,!(o&1)):0){d[p>>2]=u;o=u+(l<<1)|0;d[e+16>>2]=o;Dy(u|0,0,s|0)|0;d[m>>2]=o;o=d[n>>2]|0;a=d[c>>2]|0;break}s=Ze()|0;i=d[p>>2]|0;a=i;if(i){o=d[m>>2]|0;if((o|0)!=(i|0))d[m>>2]=o+(~((o+-2-a|0)>>>1)<<1);Hw(i)}m=s;ut(m|0)}}while(0);s=e+20|0;a=fe(o<<1,a)|0;d[s>>2]=0;u=e+24|0;d[u>>2]=0;d[e+28>>2]=0;if(!a){m=e+32|0;p=r;p=d[p>>2]|0;r=r+4|0;r=d[r>>2]|0;h=m;d[h>>2]=p;m=m+4|0;d[m>>2]=r;m=e+40|0;d[m>>2]=p;m=e+48|0;d[m>>2]=d[t>>2];d[m+4>>2]=d[t+4>>2];d[m+8>>2]=d[t+8>>2];return}if(!((a|0)<0?(k=0,be(178,s|0),c=k,k=0,c&1):0))h=13;if((h|0)==13?(k=0,i=xe(67,a|0)|0,h=k,k=0,!(h&1)):0){d[u>>2]=i;d[s>>2]=i;d[e+28>>2]=i+a;do{f[i>>0]=0;i=(d[u>>2]|0)+1|0;d[u>>2]=i;a=a+-1|0}while((a|0)!=0);m=e+32|0;p=r;p=d[p>>2]|0;r=r+4|0;r=d[r>>2]|0;h=m;d[h>>2]=p;m=m+4|0;d[m>>2]=r;m=e+40|0;d[m>>2]=p;m=e+48|0;d[m>>2]=d[t>>2];d[m+4>>2]=d[t+4>>2];d[m+8>>2]=d[t+8>>2];return}o=Ze()|0;i=d[s>>2]|0;if(i){if((d[u>>2]|0)!=(i|0))d[u>>2]=i;Hw(i)}i=d[p>>2]|0;if(!i){m=o;ut(m|0)}a=d[m>>2]|0;if((a|0)!=(i|0))d[m>>2]=a+(~((a+-2-i|0)>>>1)<<1);Hw(i);m=o;ut(m|0)}function _n(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;d[e>>2]=36340;d[e+4>>2]=n;p=e+8|0;o=d[n>>2]|0;c=n+16|0;a=d[c>>2]|0;l=fe(a,o)|0;d[p>>2]=0;m=e+12|0;d[m>>2]=0;d[e+16>>2]=0;do{if(l){if(!((l|0)<0?(k=0,be(178,p|0),o=k,k=0,o&1):0))h=4;if((h|0)==4?(s=l<<1,k=0,u=xe(67,s|0)|0,o=k,k=0,!(o&1)):0){d[p>>2]=u;o=u+(l<<1)|0;d[e+16>>2]=o;Dy(u|0,0,s|0)|0;d[m>>2]=o;o=d[n>>2]|0;a=d[c>>2]|0;break}s=Ze()|0;i=d[p>>2]|0;a=i;if(i){o=d[m>>2]|0;if((o|0)!=(i|0))d[m>>2]=o+(~((o+-2-a|0)>>>1)<<1);Hw(i)}m=s;ut(m|0)}}while(0);s=e+20|0;a=fe(o<<1,a)|0;d[s>>2]=0;u=e+24|0;d[u>>2]=0;d[e+28>>2]=0;if(!a){m=e+32|0;p=r;p=d[p>>2]|0;r=r+4|0;r=d[r>>2]|0;h=m;d[h>>2]=p;m=m+4|0;d[m>>2]=r;m=e+40|0;d[m>>2]=p;m=e+48|0;d[m>>2]=d[t>>2];d[m+4>>2]=d[t+4>>2];d[m+8>>2]=d[t+8>>2];return}if(!((a|0)<0?(k=0,be(178,s|0),c=k,k=0,c&1):0))h=13;if((h|0)==13?(k=0,i=xe(67,a|0)|0,h=k,k=0,!(h&1)):0){d[u>>2]=i;d[s>>2]=i;d[e+28>>2]=i+a;do{f[i>>0]=0;i=(d[u>>2]|0)+1|0;d[u>>2]=i;a=a+-1|0}while((a|0)!=0);m=e+32|0;p=r;p=d[p>>2]|0;r=r+4|0;r=d[r>>2]|0;h=m;d[h>>2]=p;m=m+4|0;d[m>>2]=r;m=e+40|0;d[m>>2]=p;m=e+48|0;d[m>>2]=d[t>>2];d[m+4>>2]=d[t+4>>2];d[m+8>>2]=d[t+8>>2];return}o=Ze()|0;i=d[s>>2]|0;if(i){if((d[u>>2]|0)!=(i|0))d[u>>2]=i;Hw(i)}i=d[p>>2]|0;if(!i){m=o;ut(m|0)}a=d[m>>2]|0;if((a|0)!=(i|0))d[m>>2]=a+(~((a+-2-i|0)>>>1)<<1);Hw(i);m=o;ut(m|0)}function Tn(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;d[e>>2]=36316;d[e+4>>2]=n;p=e+8|0;o=d[n>>2]|0;c=n+16|0;a=d[c>>2]|0;l=fe(a,o)|0;d[p>>2]=0;m=e+12|0;d[m>>2]=0;d[e+16>>2]=0;do{if(l){if(!((l|0)<0?(k=0,be(178,p|0),o=k,k=0,o&1):0))h=4;if((h|0)==4?(s=l<<1,k=0,u=xe(67,s|0)|0,o=k,k=0,!(o&1)):0){d[p>>2]=u;o=u+(l<<1)|0;d[e+16>>2]=o;Dy(u|0,0,s|0)|0;d[m>>2]=o;o=d[n>>2]|0;a=d[c>>2]|0;break}s=Ze()|0;i=d[p>>2]|0;a=i;if(i){o=d[m>>2]|0;if((o|0)!=(i|0))d[m>>2]=o+(~((o+-2-a|0)>>>1)<<1);Hw(i)}m=s;ut(m|0)}}while(0);s=e+20|0;a=fe(o<<1,a)|0;d[s>>2]=0;u=e+24|0;d[u>>2]=0;d[e+28>>2]=0;if(!a){m=e+32|0;p=r;p=d[p>>2]|0;r=r+4|0;r=d[r>>2]|0;h=m;d[h>>2]=p;m=m+4|0;d[m>>2]=r;m=e+40|0;d[m>>2]=p;m=e+48|0;d[m>>2]=d[t>>2];d[m+4>>2]=d[t+4>>2];d[m+8>>2]=d[t+8>>2];return}if(!((a|0)<0?(k=0,be(178,s|0),c=k,k=0,c&1):0))h=13;if((h|0)==13?(k=0,i=xe(67,a|0)|0,h=k,k=0,!(h&1)):0){d[u>>2]=i;d[s>>2]=i;d[e+28>>2]=i+a;do{f[i>>0]=0;i=(d[u>>2]|0)+1|0;d[u>>2]=i;a=a+-1|0}while((a|0)!=0);m=e+32|0;p=r;p=d[p>>2]|0;r=r+4|0;r=d[r>>2]|0;h=m;d[h>>2]=p;m=m+4|0;d[m>>2]=r;m=e+40|0;d[m>>2]=p;m=e+48|0;d[m>>2]=d[t>>2];d[m+4>>2]=d[t+4>>2];d[m+8>>2]=d[t+8>>2];return}o=Ze()|0;i=d[s>>2]|0;if(i){if((d[u>>2]|0)!=(i|0))d[u>>2]=i;Hw(i)}i=d[p>>2]|0;if(!i){m=o;ut(m|0)}a=d[m>>2]|0;if((a|0)!=(i|0))d[m>>2]=a+(~((a+-2-i|0)>>>1)<<1);Hw(i);m=o;ut(m|0)}function En(e){e=e|0;var t=0,n=0,r=0;d[e>>2]=36316;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}r=d[e+8>>2]|0;if(!r)return;t=e+12|0;n=d[t>>2]|0;if((n|0)!=(r|0))d[t>>2]=n+(~((n+-2-r|0)>>>1)<<1);Hw(r);return}function kn(e){e=e|0;var t=0,n=0,r=0;d[e>>2]=36316;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}r=d[e+8>>2]|0;if(!r){Hw(e);return}t=e+12|0;n=d[t>>2]|0;if((n|0)!=(r|0))d[t>>2]=n+(~((n+-2-r|0)>>>1)<<1);Hw(r);Hw(e);return}function Cn(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0;i=e+48|0;if(!(d[i>>2]|0)){s=e+52|0;Dn(e,t,d[s>>2]|0,n,r);d[s>>2]=(d[s>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}u=e+4|0;a=n<<1;o=fe(a,d[(d[u>>2]|0)+16>>2]|0)|0;s=e+20|0;Dn(e,t,d[s>>2]|0,n,r);t=d[u>>2]|0;if((d[t+28>>2]|0)==536870912)Mn(d[s>>2]|0,fe(a,d[t+16>>2]|0)|0);u=d[i>>2]|0;if((w_[d[(d[u>>2]|0)+48>>2]&63](u,d[s>>2]|0,o)|0)==(o|0))return;t=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,t|0,3,35648);u=k;k=0;if(u&1){u=Ze()|0;Ye(t|0);ut(u|0)}else _t(t|0,824,96)}function An(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;i=d[e+48>>2]|0;if(!i){i=e+52|0;On(e,d[i>>2]|0,t,n,r);d[i>>2]=(d[i>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}else{In(e,i,t,n,r);return}}function On(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0;u=e+4|0;a=d[u>>2]|0;do{if(!(f[a+32>>0]|0))l=t;else{o=e+8|0;Ny(d[o>>2]|0,t|0,r*6|0)|0;a=d[u>>2]|0;s=d[a+16>>2]|0;if((r|0)<=0){l=d[o>>2]|0;break}t=d[o>>2]|0;a=t;o=0;while(1){l=a+4|0;c=h[a>>1]|0;h[a>>1]=h[l>>1]|0;h[l>>1]=c;o=o+1|0;if((o|0)==(r|0))break;else a=a+(s<<1)|0}l=t;a=d[u>>2]|0}}while(0);switch(d[a+16>>2]|0){case 3:if((d[a+24>>2]|0)==2){if((r|0)<=0)return;a=e+32|0;t=0;do{c=d[a>>2]|0;u=m[l+(t*6|0)+2>>1]<<c;i=32768-u|0;e=i+(m[l+(t*6|0)+4>>1]<<c)&65535;i=i+(m[l+(t*6|0)>>1]<<c)&65535;h[n+(t*6|0)>>1]=(u+49152+((e+i|0)>>>2)&65535)>>>c;h[n+(t*6|0)+2>>1]=e>>>c;h[n+(t*6|0)+4>>1]=i>>>c;t=t+1|0}while((t|0)!=(r|0));return}else{o=(i|0)<(r|0)?i:r;if((o|0)<=0)return;s=i<<1;a=d[e+32>>2]|0;t=0;do{r=m[l+(t*6|0)+2>>1]<<a;c=32768-r|0;e=c+(m[l+(t*6|0)+4>>1]<<a)&65535;c=c+(m[l+(t*6|0)>>1]<<a)&65535;h[n+(t<<1)>>1]=(r+49152+((e+c|0)>>>2)&65535)>>>a;h[n+(t+i<<1)>>1]=e>>>a;h[n+(t+s<<1)>>1]=c>>>a;t=t+1|0}while((t|0)!=(o|0));return}case 4:{if((d[a+24>>2]|0)!=1)return;o=(i|0)<(r|0)?i:r;if((o|0)<=0)return;s=i<<1;u=i*3|0;a=d[e+32>>2]|0;t=0;do{c=h[l+(t<<3)+6>>1]|0;p=m[l+(t<<3)+2>>1]<<a;e=32768-p|0;r=e+(m[l+(t<<3)+4>>1]<<a)&65535;e=e+(m[l+(t<<3)>>1]<<a)&65535;h[n+(t<<1)>>1]=(p+49152+((r+e|0)>>>2)&65535)>>>a;h[n+(t+i<<1)>>1]=r>>>a;h[n+(t+s<<1)>>1]=e>>>a;h[n+(t+u<<1)>>1]=c;t=t+1|0}while((t|0)!=(o|0));return}default:return}}function In(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0;h=w;w=w+176|0;p=h+152|0;g=h+16|0;m=h;u=e+4|0;a=d[u>>2]|0;c=r<<1;o=fe(c,d[a+16>>2]|0)|0;do{if(o){s=e+20|0;while(1){a=w_[d[(d[t>>2]|0)+32>>2]&63](t,d[s>>2]|0,o)|0;if(!a)break;if((o|0)==(a|0)){l=26;break}else o=o-a|0}if((l|0)==26){a=d[u>>2]|0;break}l=g+56|0;u=g+4|0;d[g>>2]=36160;d[l>>2]=36180;k=0;we(62,g+56|0,u|0);h=k;k=0;if(h&1){g=Ze()|0;pd(l);ut(g|0)}d[g+128>>2]=0;d[g+132>>2]=-1;d[g>>2]=36200;d[g+56>>2]=36220;k=0;be(180,u|0);h=k;k=0;do{if(h&1)a=Ze()|0;else{d[u>>2]=36236;t=g+36|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[g+52>>2]=16;d[p>>2]=0;d[p+4>>2]=0;d[p+8>>2]=0;k=0;we(63,u|0,p|0);h=k;k=0;if(h&1){a=Ze()|0;Gh(p);Gh(t);Sd(u);break}Gh(p);k=0;a=Te(28,g|0,49029,57)|0;p=k;k=0;if(!(p&1)?(k=0,Oe(36,a|0,0)|0,p=k,k=0,!(p&1)):0){s=Ke(16)|0;k=0;we(64,m|0,u|0);p=k;k=0;if(!(p&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,s|0,3,35648,m|0);p=k;k=0;if(p&1)o=1;else{k=0;Pe(6,s|0,824,96);k=0;o=0}a=Ze()|0;Gh(m);if(!o){m=a;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}}else a=Ze()|0;Ye(s|0);m=a;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}m=Ze()|0;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}}while(0);g=a;pd(l);ut(g|0)}}while(0);o=e+20|0;if((d[a+28>>2]|0)!=536870912){g=d[o>>2]|0;On(e,g,n,r,i);w=h;return}Mn(d[o>>2]|0,fe(c,d[a+16>>2]|0)|0);g=d[o>>2]|0;On(e,g,n,r,i);w=h;return}function Mn(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0;i=w;w=w+176|0;n=i+152|0;u=i+16|0;o=i;if(!(t&1)){n=(t|0)/4|0;if((t|0)>3){r=0;do{u=e+(r<<2)|0;s=d[u>>2]|0;d[u>>2]=s>>>8&16711935|s<<8&-16711936;r=r+1|0}while((r|0)<(n|0))}if(!(t&3)){w=i;return}o=e+(t+-2)|0;u=e+(t+-1)|0;s=f[o>>0]|0;f[o>>0]=f[u>>0]|0;f[u>>0]=s;w=i;return}s=u+56|0;a=u+4|0;d[u>>2]=36160;d[s>>2]=36180;k=0;we(62,u+56|0,a|0);i=k;k=0;if(i&1){u=Ze()|0;pd(s);ut(u|0)}d[u+128>>2]=0;d[u+132>>2]=-1;d[u>>2]=36200;d[u+56>>2]=36220;k=0;be(180,a|0);i=k;k=0;do{if(i&1)n=Ze()|0;else{d[a>>2]=36236;i=u+36|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;d[i+12>>2]=0;d[u+52>>2]=16;d[n>>2]=0;d[n+4>>2]=0;d[n+8>>2]=0;k=0;we(63,a|0,n|0);e=k;k=0;if(e&1){u=Ze()|0;Gh(n);Gh(i);Sd(a);n=u;break}Gh(n);k=0;n=Te(28,u|0,49087,24)|0;e=k;k=0;if((!(e&1)?(k=0,r=Oe(36,n|0,t|0)|0,t=k,k=0,!(t&1)):0)?(k=0,Te(28,r|0,49112,20)|0,t=k,k=0,!(t&1)):0){e=Ke(16)|0;k=0;we(64,o|0,a|0);t=k;k=0;if(!(t&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,e|0,1,35648,o|0);t=k;k=0;if(t&1)r=1;else{k=0;Pe(6,e|0,824,96);k=0;r=0}n=Ze()|0;Gh(o);if(!r){o=n;d[u>>2]=36200;d[s>>2]=36220;d[a>>2]=36236;Gh(i);Sd(a);pd(s);ut(o|0)}}else n=Ze()|0;Ye(e|0);o=n;d[u>>2]=36200;d[s>>2]=36220;d[a>>2]=36236;Gh(i);Sd(a);pd(s);ut(o|0)}o=Ze()|0;d[u>>2]=36200;d[s>>2]=36220;d[a>>2]=36236;Gh(i);Sd(a);pd(s);ut(o|0)}}while(0);u=n;pd(s);ut(u|0)}function Dn(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0,g=0,v=0,y=0,b=0;l=e+4|0;a=d[l>>2]|0;e:do{switch(d[a+16>>2]|0){case 3:{if((d[a+24>>2]|0)==2){if((r|0)<=0)break e;a=e+40|0;e=0;do{i=d[a>>2]|0;s=m[t+(e*6|0)+2>>1]<<i;o=m[t+(e*6|0)+4>>1]<<i;u=(m[t+(e*6|0)>>1]<<i)-(o+s>>2)+16384|0;h[n+(e*6|0)>>1]=(o+32768+u&65535)>>>i;h[n+(e*6|0)+2>>1]=(u&65535)>>>i;h[n+(e*6|0)+4>>1]=(s+32768+u&65535)>>>i;e=e+1|0}while((e|0)!=(r|0))}else{o=(r|0)<(i|0)?r:i;if((o|0)<=0)break e;s=i<<1;a=e+40|0;e=0;do{u=d[a>>2]|0;p=m[t+(e+i<<1)>>1]<<u;g=m[t+(e+s<<1)>>1]<<u;c=(m[t+(e<<1)>>1]<<u)-(g+p>>2)+16384|0;h[n+(e*6|0)>>1]=(g+32768+c&65535)>>>u;h[n+(e*6|0)+2>>1]=(c&65535)>>>u;h[n+(e*6|0)+4>>1]=(p+32768+c&65535)>>>u;e=e+1|0}while((e|0)!=(o|0))}break}case 4:{if((d[a+24>>2]|0)==1?(u=(r|0)<(i|0)?r:i,(u|0)>0):0){s=i<<1;a=e+40|0;e=i*3|0;o=0;do{g=d[a>>2]|0;p=m[t+(o+i<<1)>>1]<<g;y=m[t+(o+s<<1)>>1]<<g;c=(m[t+(o<<1)>>1]<<g)-(y+p>>2)+16384|0;v=h[t+(o+e<<1)>>1]|0;b=Ly((c&65535)>>>g&65535|0,0,16)|0;p=(p+32768+c&65535)>>>g|j;v=Ly(v&65535|0,0,48)|0;v=b|(y+32768+c&65535)>>>g&65535|v;p=p&65535|j;g=n+(o<<3)|0;c=g;h[c>>1]=v;h[c+2>>1]=v>>>16;g=g+4|0;h[g>>1]=p;h[g+2>>1]=p>>>16;o=o+1|0}while((o|0)!=(u|0))}break}default:{}}}while(0);a=d[l>>2]|0;if(!(f[a+32>>0]|0))return;o=d[a+16>>2]|0;if((r|0)<=0)return;a=n;e=0;while(1){b=a+4|0;y=h[a>>1]|0;h[a>>1]=h[b>>1]|0;h[b>>1]=y;e=e+1|0;if((e|0)==(r|0))break;else a=a+(o<<1)|0}return}function Rn(e){e=e|0;var t=0,n=0,r=0;d[e>>2]=36340;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}r=d[e+8>>2]|0;if(!r)return;t=e+12|0;n=d[t>>2]|0;if((n|0)!=(r|0))d[t>>2]=n+(~((n+-2-r|0)>>>1)<<1);Hw(r);return}function Pn(e){e=e|0;var t=0,n=0,r=0;d[e>>2]=36340;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}r=d[e+8>>2]|0;if(!r){Hw(e);return}t=e+12|0;n=d[t>>2]|0;if((n|0)!=(r|0))d[t>>2]=n+(~((n+-2-r|0)>>>1)<<1);Hw(r);Hw(e);return}function Nn(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0;i=e+48|0;if(!(d[i>>2]|0)){s=e+52|0;zn(e,t,d[s>>2]|0,n,r);d[s>>2]=(d[s>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}u=e+4|0;a=n<<1;o=fe(a,d[(d[u>>2]|0)+16>>2]|0)|0;s=e+20|0;zn(e,t,d[s>>2]|0,n,r);t=d[u>>2]|0;if((d[t+28>>2]|0)==536870912)Mn(d[s>>2]|0,fe(a,d[t+16>>2]|0)|0);u=d[i>>2]|0;if((w_[d[(d[u>>2]|0)+48>>2]&63](u,d[s>>2]|0,o)|0)==(o|0))return;t=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,t|0,3,35648);u=k;k=0;if(u&1){u=Ze()|0;Ye(t|0);ut(u|0)}else _t(t|0,824,96)}function Ln(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;i=d[e+48>>2]|0;if(!i){i=e+52|0;Fn(e,d[i>>2]|0,t,n,r);d[i>>2]=(d[i>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}else{Bn(e,i,t,n,r);return}}function Fn(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0;u=e+4|0;a=d[u>>2]|0;do{if(!(f[a+32>>0]|0))l=t;else{o=e+8|0;Ny(d[o>>2]|0,t|0,r*6|0)|0;a=d[u>>2]|0;s=d[a+16>>2]|0;if((r|0)<=0){l=d[o>>2]|0;break}t=d[o>>2]|0;a=t;o=0;while(1){l=a+4|0;c=h[a>>1]|0;h[a>>1]=h[l>>1]|0;h[l>>1]=c;o=o+1|0;if((o|0)==(r|0))break;else a=a+(s<<1)|0}l=t;a=d[u>>2]|0}}while(0);switch(d[a+16>>2]|0){case 3:if((d[a+24>>2]|0)==2){if((r|0)<=0)return;a=e+32|0;t=0;do{i=d[a>>2]|0;u=m[l+(t*6|0)>>1]<<i;e=m[l+(t*6|0)+2>>1]<<i;c=((m[l+(t*6|0)+4>>1]<<i)+32768-((e+u|0)>>>1)&65535)>>>i&65535;h[n+(t*6|0)>>1]=(u+32768-e&65535)>>>i;h[n+(t*6|0)+2>>1]=(e&65535)>>>i;h[n+(t*6|0)+4>>1]=c;t=t+1|0}while((t|0)!=(r|0));return}else{o=(i|0)<(r|0)?i:r;if((o|0)<=0)return;s=i<<1;a=d[e+32>>2]|0;t=0;do{r=m[l+(t*6|0)>>1]<<a;e=m[l+(t*6|0)+2>>1]<<a;c=((m[l+(t*6|0)+4>>1]<<a)+32768-((e+r|0)>>>1)&65535)>>>a&65535;h[n+(t<<1)>>1]=(r+32768-e&65535)>>>a;h[n+(t+i<<1)>>1]=(e&65535)>>>a;h[n+(t+s<<1)>>1]=c;t=t+1|0}while((t|0)!=(o|0));return}case 4:{if((d[a+24>>2]|0)!=1)return;o=(i|0)<(r|0)?i:r;if((o|0)<=0)return;s=i<<1;u=i*3|0;a=d[e+32>>2]|0;t=0;do{c=h[l+(t<<3)+6>>1]|0;p=m[l+(t<<3)>>1]<<a;r=m[l+(t<<3)+2>>1]<<a;e=((m[l+(t<<3)+4>>1]<<a)+32768-((r+p|0)>>>1)&65535)>>>a&65535;h[n+(t<<1)>>1]=(p+32768-r&65535)>>>a;h[n+(t+i<<1)>>1]=(r&65535)>>>a;h[n+(t+s<<1)>>1]=e;h[n+(t+u<<1)>>1]=c;t=t+1|0}while((t|0)!=(o|0));return}default:return}}function Bn(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0;h=w;w=w+176|0;p=h+152|0;g=h+16|0;m=h;u=e+4|0;a=d[u>>2]|0;c=r<<1;o=fe(c,d[a+16>>2]|0)|0;do{if(o){s=e+20|0;while(1){a=w_[d[(d[t>>2]|0)+32>>2]&63](t,d[s>>2]|0,o)|0;if(!a)break;if((o|0)==(a|0)){l=26;break}else o=o-a|0}if((l|0)==26){a=d[u>>2]|0;break}l=g+56|0;u=g+4|0;d[g>>2]=36160;d[l>>2]=36180;k=0;we(62,g+56|0,u|0);h=k;k=0;if(h&1){g=Ze()|0;pd(l);ut(g|0)}d[g+128>>2]=0;d[g+132>>2]=-1;d[g>>2]=36200;d[g+56>>2]=36220;k=0;be(180,u|0);h=k;k=0;do{if(h&1)a=Ze()|0;else{d[u>>2]=36236;t=g+36|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[g+52>>2]=16;d[p>>2]=0;d[p+4>>2]=0;d[p+8>>2]=0;k=0;we(63,u|0,p|0);h=k;k=0;if(h&1){a=Ze()|0;Gh(p);Gh(t);Sd(u);break}Gh(p);k=0;a=Te(28,g|0,49029,57)|0;p=k;k=0;if(!(p&1)?(k=0,Oe(36,a|0,0)|0,p=k,k=0,!(p&1)):0){s=Ke(16)|0;k=0;we(64,m|0,u|0);p=k;k=0;if(!(p&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,s|0,3,35648,m|0);p=k;k=0;if(p&1)o=1;else{k=0;Pe(6,s|0,824,96);k=0;o=0}a=Ze()|0;Gh(m);if(!o){m=a;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}}else a=Ze()|0;Ye(s|0);m=a;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}m=Ze()|0;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}}while(0);g=a;pd(l);ut(g|0)}}while(0);o=e+20|0;if((d[a+28>>2]|0)!=536870912){g=d[o>>2]|0;Fn(e,g,n,r,i);w=h;return}Mn(d[o>>2]|0,fe(c,d[a+16>>2]|0)|0);g=d[o>>2]|0;Fn(e,g,n,r,i);w=h;return}function zn(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0,g=0,v=0,y=0;l=e+4|0;a=d[l>>2]|0;e:do{switch(d[a+16>>2]|0){case 3:{if((d[a+24>>2]|0)==2){if((r|0)<=0)break e;a=e+40|0;e=0;do{u=d[a>>2]|0;s=m[t+(e*6|0)+2>>1]<<u;o=(m[t+(e*6|0)>>1]<<u)+32768+s&65535;s=s&65535;i=((m[t+(e*6|0)+4>>1]<<u)+32768+((o+s|0)>>>1)&65535)>>>u&65535;h[n+(e*6|0)>>1]=o>>>u;h[n+(e*6|0)+2>>1]=s>>>u;h[n+(e*6|0)+4>>1]=i;e=e+1|0}while((e|0)!=(r|0))}else{o=(r|0)<(i|0)?r:i;if((o|0)<=0)break e;s=i<<1;a=e+40|0;e=0;do{c=d[a>>2]|0;p=m[t+(e+i<<1)>>1]<<c;g=(m[t+(e<<1)>>1]<<c)+32768+p&65535;p=p&65535;u=((m[t+(e+s<<1)>>1]<<c)+32768+((g+p|0)>>>1)&65535)>>>c&65535;h[n+(e*6|0)>>1]=g>>>c;h[n+(e*6|0)+2>>1]=p>>>c;h[n+(e*6|0)+4>>1]=u;e=e+1|0}while((e|0)!=(o|0))}break}case 4:{if((d[a+24>>2]|0)==1?(u=(r|0)<(i|0)?r:i,(u|0)>0):0){s=i<<1;a=e+40|0;e=i*3|0;o=0;do{c=d[a>>2]|0;g=m[t+(o+i<<1)>>1]<<c;y=(m[t+(o<<1)>>1]<<c)+32768+g&65535;g=g&65535;p=((m[t+(o+s<<1)>>1]<<c)+32768+((y+g|0)>>>1)&65535)>>>c;v=h[t+(o+e<<1)>>1]|0;g=Ly(g>>>c&65535|0,0,16)|0;p=j|p;v=Ly(v&65535|0,0,48)|0;v=y>>>c&65535|g|v;p=p&65535|j;g=n+(o<<3)|0;c=g;h[c>>1]=v;h[c+2>>1]=v>>>16;g=g+4|0;h[g>>1]=p;h[g+2>>1]=p>>>16;o=o+1|0}while((o|0)!=(u|0))}break}default:{}}}while(0);a=d[l>>2]|0;if(!(f[a+32>>0]|0))return;o=d[a+16>>2]|0;if((r|0)<=0)return;a=n;e=0;while(1){y=a+4|0;v=h[a>>1]|0;h[a>>1]=h[y>>1]|0;h[y>>1]=v;e=e+1|0;if((e|0)==(r|0))break;else a=a+(o<<1)|0}return}function Un(e){e=e|0;var t=0,n=0,r=0;d[e>>2]=36364;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}r=d[e+8>>2]|0;if(!r)return;t=e+12|0;n=d[t>>2]|0;if((n|0)!=(r|0))d[t>>2]=n+(~((n+-2-r|0)>>>1)<<1);Hw(r);return}function jn(e){e=e|0;var t=0,n=0,r=0;d[e>>2]=36364;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}r=d[e+8>>2]|0;if(!r){Hw(e);return}t=e+12|0;n=d[t>>2]|0;if((n|0)!=(r|0))d[t>>2]=n+(~((n+-2-r|0)>>>1)<<1);Hw(r);Hw(e);return}function Vn(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0;i=e+48|0;if(!(d[i>>2]|0)){s=e+52|0;qn(e,t,d[s>>2]|0,n,r);d[s>>2]=(d[s>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}u=e+4|0;a=n<<1;o=fe(a,d[(d[u>>2]|0)+16>>2]|0)|0;s=e+20|0;qn(e,t,d[s>>2]|0,n,r);t=d[u>>2]|0;if((d[t+28>>2]|0)==536870912)Mn(d[s>>2]|0,fe(a,d[t+16>>2]|0)|0);u=d[i>>2]|0;if((w_[d[(d[u>>2]|0)+48>>2]&63](u,d[s>>2]|0,o)|0)==(o|0))return;t=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,t|0,3,35648);u=k;k=0;if(u&1){u=Ze()|0;Ye(t|0);ut(u|0)}else _t(t|0,824,96)}function Gn(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;i=d[e+48>>2]|0;if(!i){i=e+52|0;Wn(e,d[i>>2]|0,t,n,r);d[i>>2]=(d[i>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}else{Hn(e,i,t,n,r);return}}function Wn(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0;u=e+4|0;a=d[u>>2]|0;do{if(!(f[a+32>>0]|0))l=t;else{o=e+8|0;Ny(d[o>>2]|0,t|0,r*6|0)|0;a=d[u>>2]|0;s=d[a+16>>2]|0;if((r|0)<=0){l=d[o>>2]|0;break}t=d[o>>2]|0;a=t;o=0;while(1){l=a+4|0;c=h[a>>1]|0;h[a>>1]=h[l>>1]|0;h[l>>1]=c;o=o+1|0;if((o|0)==(r|0))break;else a=a+(s<<1)|0}l=t;a=d[u>>2]|0}}while(0);switch(d[a+16>>2]|0){case 3:if((d[a+24>>2]|0)==2){if((r|0)<=0)return;a=e+32|0;t=0;do{i=d[a>>2]|0;e=m[l+(t*6|0)+2>>1]<<i;c=(32768-e+(m[l+(t*6|0)+4>>1]<<i)&65535)>>>i&65535;h[n+(t*6|0)>>1]=((m[l+(t*6|0)>>1]<<i)+32768-e&65535)>>>i;h[n+(t*6|0)+2>>1]=(e&65535)>>>i;h[n+(t*6|0)+4>>1]=c;t=t+1|0}while((t|0)!=(r|0));return}else{o=(i|0)<(r|0)?i:r;if((o|0)<=0)return;s=i<<1;a=d[e+32>>2]|0;t=0;do{e=m[l+(t*6|0)+2>>1]<<a;c=(32768-e+(m[l+(t*6|0)+4>>1]<<a)&65535)>>>a&65535;h[n+(t<<1)>>1]=((m[l+(t*6|0)>>1]<<a)+32768-e&65535)>>>a;h[n+(t+i<<1)>>1]=(e&65535)>>>a;h[n+(t+s<<1)>>1]=c;t=t+1|0}while((t|0)!=(o|0));return}case 4:{if((d[a+24>>2]|0)!=1)return;s=(i|0)<(r|0)?i:r;if((s|0)<=0)return;u=i<<1;o=i*3|0;a=d[e+32>>2]|0;t=0;do{c=h[l+(t<<3)+6>>1]|0;r=m[l+(t<<3)+2>>1]<<a;e=(32768-r+(m[l+(t<<3)+4>>1]<<a)&65535)>>>a&65535;h[n+(t<<1)>>1]=((m[l+(t<<3)>>1]<<a)+32768-r&65535)>>>a;h[n+(t+i<<1)>>1]=(r&65535)>>>a;h[n+(t+u<<1)>>1]=e;h[n+(t+o<<1)>>1]=c;t=t+1|0}while((t|0)!=(s|0));return}default:return}}function Hn(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0;h=w;w=w+176|0;p=h+152|0;g=h+16|0;m=h;u=e+4|0;a=d[u>>2]|0;c=r<<1;o=fe(c,d[a+16>>2]|0)|0;do{if(o){s=e+20|0;while(1){a=w_[d[(d[t>>2]|0)+32>>2]&63](t,d[s>>2]|0,o)|0;if(!a)break;if((o|0)==(a|0)){l=26;break}else o=o-a|0}if((l|0)==26){a=d[u>>2]|0;break}l=g+56|0;u=g+4|0;d[g>>2]=36160;d[l>>2]=36180;k=0;we(62,g+56|0,u|0);h=k;k=0;if(h&1){g=Ze()|0;pd(l);ut(g|0)}d[g+128>>2]=0;d[g+132>>2]=-1;d[g>>2]=36200;d[g+56>>2]=36220;k=0;be(180,u|0);h=k;k=0;do{if(h&1)a=Ze()|0;else{d[u>>2]=36236;t=g+36|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[g+52>>2]=16;d[p>>2]=0;d[p+4>>2]=0;d[p+8>>2]=0;k=0;we(63,u|0,p|0);h=k;k=0;if(h&1){a=Ze()|0;Gh(p);Gh(t);Sd(u);break}Gh(p);k=0;a=Te(28,g|0,49029,57)|0;p=k;k=0;if(!(p&1)?(k=0,Oe(36,a|0,0)|0,p=k,k=0,!(p&1)):0){s=Ke(16)|0;k=0;we(64,m|0,u|0);p=k;k=0;if(!(p&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,s|0,3,35648,m|0);p=k;k=0;if(p&1)o=1;else{k=0;Pe(6,s|0,824,96);k=0;o=0}a=Ze()|0;Gh(m);if(!o){m=a;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}}else a=Ze()|0;Ye(s|0);m=a;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}m=Ze()|0;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}}while(0);g=a;pd(l);ut(g|0)}}while(0);o=e+20|0;if((d[a+28>>2]|0)!=536870912){g=d[o>>2]|0;Wn(e,g,n,r,i);w=h;return}Mn(d[o>>2]|0,fe(c,d[a+16>>2]|0)|0);g=d[o>>2]|0;Wn(e,g,n,r,i);w=h;return}function qn(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0,g=0,v=0,y=0;l=e+4|0;a=d[l>>2]|0;e:do{switch(d[a+16>>2]|0){case 3:{if((d[a+24>>2]|0)==2){if((r|0)<=0)break e;a=e+40|0;e=0;do{u=d[a>>2]|0;s=m[t+(e*6|0)+2>>1]<<u;i=(s+32768+(m[t+(e*6|0)+4>>1]<<u)&65535)>>>u&65535;h[n+(e*6|0)>>1]=((m[t+(e*6|0)>>1]<<u)+32768+s&65535)>>>u;h[n+(e*6|0)+2>>1]=(s&65535)>>>u;h[n+(e*6|0)+4>>1]=i;e=e+1|0}while((e|0)!=(r|0))}else{o=(r|0)<(i|0)?r:i;if((o|0)<=0)break e;s=i<<1;a=e+40|0;e=0;do{c=d[a>>2]|0;p=m[t+(e+i<<1)>>1]<<c;u=(p+32768+(m[t+(e+s<<1)>>1]<<c)&65535)>>>c&65535;h[n+(e*6|0)>>1]=((m[t+(e<<1)>>1]<<c)+32768+p&65535)>>>c;h[n+(e*6|0)+2>>1]=(p&65535)>>>c;h[n+(e*6|0)+4>>1]=u;e=e+1|0}while((e|0)!=(o|0))}break}case 4:{if((d[a+24>>2]|0)==1?(u=(r|0)<(i|0)?r:i,(u|0)>0):0){s=i<<1;a=e+40|0;e=i*3|0;o=0;do{g=d[a>>2]|0;y=m[t+(o+i<<1)>>1]<<g;p=((m[t+(o<<1)>>1]<<g)+32768+y&65535)>>>g;c=(y+32768+(m[t+(o+s<<1)>>1]<<g)&65535)>>>g;v=h[t+(o+e<<1)>>1]|0;g=Ly((y&65535)>>>g&65535|0,0,16)|0;c=c|j;v=Ly(v&65535|0,0,48)|0;v=g|p&65535|v;c=c&65535|j;p=n+(o<<3)|0;g=p;h[g>>1]=v;h[g+2>>1]=v>>>16;p=p+4|0;h[p>>1]=c;h[p+2>>1]=c>>>16;o=o+1|0}while((o|0)!=(u|0))}break}default:{}}}while(0);a=d[l>>2]|0;if(!(f[a+32>>0]|0))return;o=d[a+16>>2]|0;if((r|0)<=0)return;a=n;e=0;while(1){y=a+4|0;v=h[a>>1]|0;h[a>>1]=h[y>>1]|0;h[y>>1]=v;e=e+1|0;if((e|0)==(r|0))break;else a=a+(o<<1)|0}return}function Qn(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,p=0;h=w;w=w+16|0;l=h;c=d[e>>2]|0;if(!c){e=0;w=h;return e|0}p=t;s=r-p|0;u=i+12|0;o=d[u>>2]|0;s=(o|0)>(s|0)?o-s|0:0;o=n;i=o-p|0;if((i|0)>0?(w_[d[(d[c>>2]|0)+48>>2]&63](c,t,i)|0)!=(i|0):0){d[e>>2]=0;p=0;w=h;return p|0}do{if((s|0)>0){Vh(l,s,a);k=0;i=Te(d[(d[c>>2]|0)+48>>2]|0,c|0,((f[l>>0]&1)==0?l+1|0:d[l+8>>2]|0)|0,s|0)|0;p=k;k=0;if(p&1){p=Ze()|0;Gh(l);ut(p|0)}if((i|0)==(s|0)){Gh(l);break}d[e>>2]=0;Gh(l);p=0;w=h;return p|0}}while(0);r=r-o|0;if((r|0)>0?(w_[d[(d[c>>2]|0)+48>>2]&63](c,n,r)|0)!=(r|0):0){d[e>>2]=0;p=0;w=h;return p|0}d[u>>2]=0;p=c;w=h;return p|0}function Xn(e){e=e|0;d[e>>2]=36236;Gh(e+32|0);Sd(e);return}function Yn(e){e=e|0;d[e>>2]=36236;Gh(e+32|0);Sd(e);Hw(e);return}function Kn(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=t+44|0;s=d[o>>2]|0;l=t+24|0;c=d[l>>2]|0;if(s>>>0<c>>>0){d[o>>2]=c;s=c}u=s;o=a&24;if(!o){t=e;d[t>>2]=0;d[t+4>>2]=0;t=e+8|0;d[t>>2]=-1;d[t+4>>2]=-1;return}if((i|0)==1&(o|0)==24){t=e;d[t>>2]=0;d[t+4>>2]=0;t=e+8|0;d[t>>2]=-1;d[t+4>>2]=-1;return}e:do{switch(i|0){case 0:{o=0;i=0;break}case 1:if(!(a&8)){i=c-(d[t+20>>2]|0)|0;o=i;i=((i|0)<0)<<31>>31;break e}else{i=(d[t+12>>2]|0)-(d[t+8>>2]|0)|0;o=i;i=((i|0)<0)<<31>>31;break e}case 2:{o=t+32|0;if(!(f[o>>0]&1))o=o+1|0;else o=d[t+40>>2]|0;i=s-o|0;o=i;i=((i|0)<0)<<31>>31;break}default:{t=e;d[t>>2]=0;d[t+4>>2]=0;t=e+8|0;d[t>>2]=-1;d[t+4>>2]=-1;return}}}while(0);i=Ry(o|0,i|0,n|0,r|0)|0;n=j;if((n|0)>=0){o=t+32|0;if(!(f[o>>0]&1))o=o+1|0;else o=d[t+40>>2]|0;r=s-o|0;s=((r|0)<0)<<31>>31;if(!((s|0)<(n|0)|(s|0)==(n|0)&r>>>0<i>>>0)){o=a&8;if(!((i|0)==0&(n|0)==0)){if((o|0)!=0?(d[t+12>>2]|0)==0:0){t=e;d[t>>2]=0;d[t+4>>2]=0;t=e+8|0;d[t>>2]=-1;d[t+4>>2]=-1;return}if((a&16|0)!=0&(c|0)==0){t=e;d[t>>2]=0;d[t+4>>2]=0;t=e+8|0;d[t>>2]=-1;d[t+4>>2]=-1;return}}if(o){d[t+12>>2]=(d[t+8>>2]|0)+i;d[t+16>>2]=u}if(a&16)d[l>>2]=(d[t+20>>2]|0)+i;t=e;d[t>>2]=0;d[t+4>>2]=0;t=e+8|0;d[t>>2]=i;d[t+4>>2]=n;return}}t=e;d[t>>2]=0;d[t+4>>2]=0;t=e+8|0;d[t>>2]=-1;d[t+4>>2]=-1;return}function Zn(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;n=n+8|0;x_[d[(d[t>>2]|0)+16>>2]&15](e,t,d[n>>2]|0,d[n+4>>2]|0,0,r);return}function Jn(e){e=e|0;var t=0,n=0,r=0,i=0;t=e+44|0;n=d[t>>2]|0;r=d[e+24>>2]|0;if(n>>>0<r>>>0){d[t>>2]=r;n=r}if(!(d[e+48>>2]&8)){e=-1;return e|0}i=e+16|0;t=d[i>>2]|0;r=e+12|0;if(t>>>0<n>>>0){r=d[r>>2]|0;d[i>>2]=n;t=n}else r=d[r>>2]|0;if(r>>>0>=t>>>0){e=-1;return e|0}e=p[r>>0]|0;return e|0}function $n(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0;r=e+44|0;n=d[r>>2]|0;i=d[e+24>>2]|0;if(n>>>0<i>>>0){d[r>>2]=i;n=i}s=e+8|0;r=d[s>>2]|0;u=e+12|0;a=d[u>>2]|0;o=r;if(r>>>0>=a>>>0){e=-1;return e|0}if((t|0)==-1){d[s>>2]=r;d[u>>2]=a+-1;d[e+16>>2]=n;e=0;return e|0}if(!(d[e+48>>2]&16)){i=t&255;r=a+-1|0;if(i<<24>>24!=(f[r>>0]|0)){e=-1;return e|0}}else{i=t&255;r=a+-1|0}d[s>>2]=o;d[u>>2]=r;d[e+16>>2]=n;f[r>>0]=i;e=t;return e|0}function er(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0;v=w;w=w+16|0;c=v;if((t|0)==-1){e=0;w=v;return e|0}h=e+12|0;p=e+8|0;m=(d[h>>2]|0)-(d[p>>2]|0)|0;g=e+24|0;n=d[g>>2]|0;l=e+28|0;r=d[l>>2]|0;do{if((n|0)==(r|0)){s=e+48|0;if(!(d[s>>2]&16)){e=-1;w=v;return e|0}u=e+20|0;o=d[u>>2]|0;i=n-o|0;a=e+44|0;o=(d[a>>2]|0)-o|0;r=e+32|0;k=0;we(67,r|0,0);n=k;k=0;if(!(n&1)){if(!(f[r>>0]&1))n=10;else n=(d[r>>2]&-2)+-1|0;k=0;Pe(8,r|0,n|0,0);n=k;k=0;if(!(n&1)){n=f[r>>0]|0;if(!(n&1)){r=r+1|0;n=(n&255)>>>1}else{r=d[e+40>>2]|0;n=d[e+36>>2]|0}y=r+n|0;d[u>>2]=r;d[l>>2]=y;u=r+i|0;d[g>>2]=u;n=r+o|0;d[a>>2]=n;r=y;break}}y=Ze(0)|0;at(y|0)|0;st();y=-1;w=v;return y|0}else{y=e+44|0;s=e+48|0;a=y;u=n;n=d[y>>2]|0}}while(0);o=u+1|0;d[c>>2]=o;i=d[(o>>>0<n>>>0?a:c)>>2]|0;d[a>>2]=i;if(d[s>>2]&8){n=e+32|0;if(!(f[n>>0]&1))n=n+1|0;else n=d[e+40>>2]|0;d[p>>2]=n;d[h>>2]=n+m;d[e+16>>2]=i}if((u|0)==(r|0)){y=E_[d[(d[e>>2]|0)+52>>2]&63](e,t&255)|0;w=v;return y|0}else{d[g>>2]=o;f[u>>0]=t;y=t&255;w=v;return y|0}return 0}function tr(e){e=e|0;var t=0,n=0;d[e>>2]=36200;t=e+56|0;d[t>>2]=36220;n=e+4|0;d[n>>2]=36236;Gh(e+36|0);Sd(n);pd(t);return}function nr(e){e=e|0;var t=0,n=0;d[e>>2]=36200;t=e+56|0;d[t>>2]=36220;n=e+4|0;d[n>>2]=36236;Gh(e+36|0);Sd(n);pd(t);Hw(e);return}function rr(e){e=e|0;var t=0,n=0,r=0,i=0;i=d[(d[e>>2]|0)+-12>>2]|0;t=e+i|0;d[t>>2]=36200;n=e+(i+56)|0;d[n>>2]=36220;r=e+(i+4)|0;d[r>>2]=36236;Gh(e+(i+36)|0);Sd(r);pd(n);Hw(t);return}function ir(e){e=e|0;var t=0,n=0,r=0;d[e>>2]=36388;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}r=d[e+8>>2]|0;if(!r)return;t=e+12|0;n=d[t>>2]|0;if((n|0)!=(r|0))d[t>>2]=n+(~((n+-2-r|0)>>>1)<<1);Hw(r);return}function ar(e){e=e|0;var t=0,n=0,r=0;d[e>>2]=36388;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}r=d[e+8>>2]|0;if(!r){Hw(e);return}t=e+12|0;n=d[t>>2]|0;if((n|0)!=(r|0))d[t>>2]=n+(~((n+-2-r|0)>>>1)<<1);Hw(r);Hw(e);return}function or(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0;i=e+36|0;if(!(d[i>>2]|0)){s=e+40|0;cr(e,t,d[s>>2]|0,n,r);d[s>>2]=(d[s>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}u=e+4|0;a=n<<1;o=fe(a,d[(d[u>>2]|0)+16>>2]|0)|0;s=e+20|0;cr(e,t,d[s>>2]|0,n,r);t=d[u>>2]|0;if((d[t+28>>2]|0)==536870912)Mn(d[s>>2]|0,fe(a,d[t+16>>2]|0)|0);u=d[i>>2]|0;if((w_[d[(d[u>>2]|0)+48>>2]&63](u,d[s>>2]|0,o)|0)==(o|0))return;t=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,t|0,3,35648);u=k;k=0;if(u&1){u=Ze()|0;Ye(t|0);ut(u|0)}else _t(t|0,824,96)}function sr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;i=d[e+36>>2]|0;if(!i){i=e+40|0;ur(e,d[i>>2]|0,t,n,r);d[i>>2]=(d[i>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}else{lr(e,i,t,n,r);return}}function ur(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0;s=e+4|0;a=d[s>>2]|0;do{if(!(f[a+32>>0]|0))u=t;else{e=e+8|0;Ny(d[e>>2]|0,t|0,r*6|0)|0;a=d[s>>2]|0;o=d[a+16>>2]|0;if((r|0)<=0){u=d[e>>2]|0;break}e=d[e>>2]|0;a=e;t=0;while(1){u=a+4|0;l=h[a>>1]|0;h[a>>1]=h[u>>1]|0;h[u>>1]=l;t=t+1|0;if((t|0)==(r|0))break;else a=a+(o<<1)|0}u=e;a=d[s>>2]|0}}while(0);switch(d[a+16>>2]|0){case 3:{if((d[a+24>>2]|0)==2){if((r|0)>0)a=0;else return;do{s=m[u+(a*6|0)+2>>1]|0;i=32768-s+(m[u+(a*6|0)+4>>1]|0)|0;l=(m[u+(a*6|0)>>1]|0)-s+32768|0;h[n+(a*6|0)>>1]=s+49152+(((i&65535)+(l&65535)|0)>>>2);h[n+(a*6|0)+2>>1]=i;h[n+(a*6|0)+4>>1]=l;a=a+1|0}while((a|0)!=(r|0));return}a=(i|0)<(r|0)?i:r;if((a|0)<=0)return;e=i<<1;t=0;do{s=m[u+(t*6|0)+2>>1]|0;r=32768-s+(m[u+(t*6|0)+4>>1]|0)|0;l=(m[u+(t*6|0)>>1]|0)-s+32768|0;h[n+(t<<1)>>1]=s+49152+(((r&65535)+(l&65535)|0)>>>2);h[n+(t+i<<1)>>1]=r;h[n+(t+e<<1)>>1]=l;t=t+1|0}while((t|0)!=(a|0));return}case 4:{if((d[a+24>>2]|0)!=1)return;a=(i|0)<(r|0)?i:r;if((a|0)<=0)return;e=i<<1;t=i*3|0;o=0;do{l=h[u+(o<<3)+6>>1]|0;c=m[u+(o<<3)+2>>1]|0;s=32768-c+(m[u+(o<<3)+4>>1]|0)|0;r=(m[u+(o<<3)>>1]|0)-c+32768|0;h[n+(o<<1)>>1]=c+49152+(((s&65535)+(r&65535)|0)>>>2);h[n+(o+i<<1)>>1]=s;h[n+(o+e<<1)>>1]=r;h[n+(o+t<<1)>>1]=l;o=o+1|0}while((o|0)!=(a|0));return}default:return}}function lr(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0;h=w;w=w+176|0;p=h+152|0;g=h+16|0;m=h;u=e+4|0;a=d[u>>2]|0;c=r<<1;o=fe(c,d[a+16>>2]|0)|0;do{if(o){s=e+20|0;while(1){a=w_[d[(d[t>>2]|0)+32>>2]&63](t,d[s>>2]|0,o)|0;if(!a)break;if((o|0)==(a|0)){l=26;break}else o=o-a|0}if((l|0)==26){a=d[u>>2]|0;break}l=g+56|0;u=g+4|0;d[g>>2]=36160;d[l>>2]=36180;k=0;we(62,g+56|0,u|0);h=k;k=0;if(h&1){g=Ze()|0;pd(l);ut(g|0)}d[g+128>>2]=0;d[g+132>>2]=-1;d[g>>2]=36200;d[g+56>>2]=36220;k=0;be(180,u|0);h=k;k=0;do{if(h&1)a=Ze()|0;else{d[u>>2]=36236;t=g+36|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[g+52>>2]=16;d[p>>2]=0;d[p+4>>2]=0;d[p+8>>2]=0;k=0;we(63,u|0,p|0);h=k;k=0;if(h&1){a=Ze()|0;Gh(p);Gh(t);Sd(u);break}Gh(p);k=0;a=Te(28,g|0,49029,57)|0;p=k;k=0;if(!(p&1)?(k=0,Oe(36,a|0,0)|0,p=k,k=0,!(p&1)):0){s=Ke(16)|0;k=0;we(64,m|0,u|0);p=k;k=0;if(!(p&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,s|0,3,35648,m|0);p=k;k=0;if(p&1)o=1;else{k=0;Pe(6,s|0,824,96);k=0;o=0}a=Ze()|0;Gh(m);if(!o){m=a;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}}else a=Ze()|0;Ye(s|0);m=a;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}m=Ze()|0;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}}while(0);g=a;pd(l);ut(g|0)}}while(0);o=e+20|0;if((d[a+28>>2]|0)!=536870912){g=d[o>>2]|0;ur(e,g,n,r,i);w=h;return}Mn(d[o>>2]|0,fe(c,d[a+16>>2]|0)|0);g=d[o>>2]|0;ur(e,g,n,r,i);w=h;return}function cr(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0,g=0,v=0;u=e+4|0;e=d[u>>2]|0;e:do{switch(d[e+16>>2]|0){case 3:{if((d[e+24>>2]|0)==2){if((r|0)>0)e=0;else break e;while(1){s=m[t+(e*6|0)+2>>1]|0;o=m[t+(e*6|0)+4>>1]|0;i=(m[t+(e*6|0)>>1]|0)-((o+s|0)>>>2)+16384|0;h[n+(e*6|0)>>1]=o+32768+i;h[n+(e*6|0)+2>>1]=i;h[n+(e*6|0)+4>>1]=s+32768+i;e=e+1|0;if((e|0)==(r|0))break e}}e=(r|0)<(i|0)?r:i;if((e|0)>0){a=i<<1;o=0;do{l=m[t+(o+i<<1)>>1]|0;c=m[t+(o+a<<1)>>1]|0;s=(m[t+(o<<1)>>1]|0)-((c+l|0)>>>2)+16384|0;h[n+(o*6|0)>>1]=c+32768+s;h[n+(o*6|0)+2>>1]=s;h[n+(o*6|0)+4>>1]=l+32768+s;o=o+1|0}while((o|0)!=(e|0))}break}case 4:{if((d[e+24>>2]|0)==1?(s=(r|0)<(i|0)?r:i,(s|0)>0):0){e=i<<1;a=i*3|0;o=0;do{l=m[t+(o+i<<1)>>1]|0;p=m[t+(o+e<<1)>>1]|0;c=(m[t+(o<<1)>>1]|0)-((p+l|0)>>>2)+16384|0;g=h[t+(o+a<<1)>>1]|0;v=Ly(c&65535|0,0,16)|0;l=l+32768+c|j;g=Ly(g&65535|0,0,48)|0;g=v|p+32768+c&65535|g;l=l&65535|j;c=n+(o<<3)|0;p=c;h[p>>1]=g;h[p+2>>1]=g>>>16;c=c+4|0;h[c>>1]=l;h[c+2>>1]=l>>>16;o=o+1|0}while((o|0)!=(s|0))}break}default:{}}}while(0);e=d[u>>2]|0;if(!(f[e+32>>0]|0))return;o=d[e+16>>2]|0;if((r|0)<=0)return;e=n;a=0;while(1){v=e+4|0;g=h[e>>1]|0;h[e>>1]=h[v>>1]|0;h[v>>1]=g;a=a+1|0;if((a|0)==(r|0))break;else e=e+(o<<1)|0}return}function fr(e){e=e|0;var t=0,n=0,r=0;d[e>>2]=36412;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}r=d[e+8>>2]|0;if(!r)return;t=e+12|0;n=d[t>>2]|0;if((n|0)!=(r|0))d[t>>2]=n+(~((n+-2-r|0)>>>1)<<1);Hw(r);return}function hr(e){e=e|0;var t=0,n=0,r=0;d[e>>2]=36412;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}r=d[e+8>>2]|0;if(!r){Hw(e);return}t=e+12|0;n=d[t>>2]|0;if((n|0)!=(r|0))d[t>>2]=n+(~((n+-2-r|0)>>>1)<<1);Hw(r);Hw(e);return}function dr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0;i=e+36|0;if(!(d[i>>2]|0)){s=e+40|0;vr(e,t,d[s>>2]|0,n,r);d[s>>2]=(d[s>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}u=e+4|0;a=n<<1;o=fe(a,d[(d[u>>2]|0)+16>>2]|0)|0;s=e+20|0;vr(e,t,d[s>>2]|0,n,r);t=d[u>>2]|0;if((d[t+28>>2]|0)==536870912)Mn(d[s>>2]|0,fe(a,d[t+16>>2]|0)|0);u=d[i>>2]|0;if((w_[d[(d[u>>2]|0)+48>>2]&63](u,d[s>>2]|0,o)|0)==(o|0))return;t=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,t|0,3,35648);u=k;k=0;if(u&1){u=Ze()|0;Ye(t|0);ut(u|0)}else _t(t|0,824,96)}function pr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;i=d[e+36>>2]|0;if(!i){i=e+40|0;mr(e,d[i>>2]|0,t,n,r);d[i>>2]=(d[i>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}else{gr(e,i,t,n,r);return}}function mr(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0;s=e+4|0;a=d[s>>2]|0;do{if(!(f[a+32>>0]|0))u=t;else{e=e+8|0;Ny(d[e>>2]|0,t|0,r*6|0)|0;a=d[s>>2]|0;o=d[a+16>>2]|0;if((r|0)<=0){u=d[e>>2]|0;break}e=d[e>>2]|0;a=e;t=0;while(1){u=a+4|0;l=h[a>>1]|0;h[a>>1]=h[u>>1]|0;h[u>>1]=l;t=t+1|0;if((t|0)==(r|0))break;else a=a+(o<<1)|0}u=e;a=d[s>>2]|0}}while(0);switch(d[a+16>>2]|0){case 3:{if((d[a+24>>2]|0)==2){if((r|0)>0)a=0;else return;do{o=m[u+(a*6|0)>>1]|0;i=h[u+(a*6|0)+2>>1]|0;s=i&65535;l=(m[u+(a*6|0)+4>>1]|0)+32768-((s+o|0)>>>1)&65535;h[n+(a*6|0)>>1]=o+32768-s;h[n+(a*6|0)+2>>1]=i;h[n+(a*6|0)+4>>1]=l;a=a+1|0}while((a|0)!=(r|0));return}a=(i|0)<(r|0)?i:r;if((a|0)<=0)return;e=i<<1;t=0;do{r=h[u+(t*6|0)+2>>1]|0;o=m[u+(t*6|0)>>1]|0;s=r&65535;l=(m[u+(t*6|0)+4>>1]|0)+32768-((s+o|0)>>>1)&65535;h[n+(t<<1)>>1]=o+32768-s;h[n+(t+i<<1)>>1]=r;h[n+(t+e<<1)>>1]=l;t=t+1|0}while((t|0)!=(a|0));return}case 4:{if((d[a+24>>2]|0)!=1)return;a=(i|0)<(r|0)?i:r;if((a|0)<=0)return;e=i<<1;t=i*3|0;o=0;do{s=h[u+(o<<3)+2>>1]|0;l=h[u+(o<<3)+6>>1]|0;p=m[u+(o<<3)>>1]|0;c=s&65535;r=(m[u+(o<<3)+4>>1]|0)+32768-((c+p|0)>>>1)&65535;h[n+(o<<1)>>1]=p+32768-c;h[n+(o+i<<1)>>1]=s;h[n+(o+e<<1)>>1]=r;h[n+(o+t<<1)>>1]=l;o=o+1|0}while((o|0)!=(a|0));return}default:return}}function gr(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0;h=w;w=w+176|0;p=h+152|0;g=h+16|0;m=h;u=e+4|0;a=d[u>>2]|0;c=r<<1;o=fe(c,d[a+16>>2]|0)|0;do{if(o){s=e+20|0;while(1){a=w_[d[(d[t>>2]|0)+32>>2]&63](t,d[s>>2]|0,o)|0;if(!a)break;if((o|0)==(a|0)){l=26;break}else o=o-a|0}if((l|0)==26){a=d[u>>2]|0;break}l=g+56|0;u=g+4|0;d[g>>2]=36160;d[l>>2]=36180;k=0;we(62,g+56|0,u|0);h=k;k=0;if(h&1){g=Ze()|0;pd(l);ut(g|0)}d[g+128>>2]=0;d[g+132>>2]=-1;d[g>>2]=36200;d[g+56>>2]=36220;k=0;be(180,u|0);h=k;k=0;do{if(h&1)a=Ze()|0;else{d[u>>2]=36236;t=g+36|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[g+52>>2]=16;d[p>>2]=0;d[p+4>>2]=0;d[p+8>>2]=0;k=0;we(63,u|0,p|0);h=k;k=0;if(h&1){a=Ze()|0;Gh(p);Gh(t);Sd(u);break}Gh(p);k=0;a=Te(28,g|0,49029,57)|0;p=k;k=0;if(!(p&1)?(k=0,Oe(36,a|0,0)|0,p=k,k=0,!(p&1)):0){s=Ke(16)|0;k=0;we(64,m|0,u|0);p=k;k=0;if(!(p&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,s|0,3,35648,m|0);p=k;k=0;if(p&1)o=1;else{k=0;Pe(6,s|0,824,96);k=0;o=0}a=Ze()|0;Gh(m);if(!o){m=a;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}}else a=Ze()|0;Ye(s|0);m=a;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}m=Ze()|0;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}}while(0);g=a;pd(l);ut(g|0)}}while(0);o=e+20|0;if((d[a+28>>2]|0)!=536870912){g=d[o>>2]|0;mr(e,g,n,r,i);w=h;return}Mn(d[o>>2]|0,fe(c,d[a+16>>2]|0)|0);g=d[o>>2]|0;mr(e,g,n,r,i);w=h;return}function vr(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0,g=0;u=e+4|0;e=d[u>>2]|0;e:do{switch(d[e+16>>2]|0){case 3:{if((d[e+24>>2]|0)==2){if((r|0)>0)e=0;else break e;while(1){s=h[t+(e*6|0)+2>>1]|0;i=s&65535;o=(m[t+(e*6|0)>>1]|0)+32768+i|0;i=(m[t+(e*6|0)+4>>1]|0)+32768+(((o&65535)+i|0)>>>1)&65535;h[n+(e*6|0)>>1]=o;h[n+(e*6|0)+2>>1]=s;h[n+(e*6|0)+4>>1]=i;e=e+1|0;if((e|0)==(r|0))break e}}e=(r|0)<(i|0)?r:i;if((e|0)>0){a=i<<1;o=0;do{l=h[t+(o+i<<1)>>1]|0;s=l&65535;c=(m[t+(o<<1)>>1]|0)+32768+s|0;s=(m[t+(o+a<<1)>>1]|0)+32768+(((c&65535)+s|0)>>>1)&65535;h[n+(o*6|0)>>1]=c;h[n+(o*6|0)+2>>1]=l;h[n+(o*6|0)+4>>1]=s;o=o+1|0}while((o|0)!=(e|0))}break}case 4:{if((d[e+24>>2]|0)==1?(s=(r|0)<(i|0)?r:i,(s|0)>0):0){e=i<<1;a=i*3|0;o=0;do{c=h[t+(o+i<<1)>>1]|0;l=c&65535;p=(m[t+(o<<1)>>1]|0)+32768+l&65535;l=(m[t+(o+e<<1)>>1]|0)+32768+((p+l|0)>>>1)|0;g=h[t+(o+a<<1)>>1]|0;c=Ly(c&65535|0,0,16)|0;l=j|l;g=Ly(g&65535|0,0,48)|0;g=p|c|g;l=l&65535|j;c=n+(o<<3)|0;p=c;h[p>>1]=g;h[p+2>>1]=g>>>16;c=c+4|0;h[c>>1]=l;h[c+2>>1]=l>>>16;o=o+1|0}while((o|0)!=(s|0))}break}default:{}}}while(0);e=d[u>>2]|0;if(!(f[e+32>>0]|0))return;o=d[e+16>>2]|0;if((r|0)<=0)return;e=n;a=0;while(1){g=e+4|0;p=h[e>>1]|0;h[e>>1]=h[g>>1]|0;h[g>>1]=p;a=a+1|0;if((a|0)==(r|0))break;else e=e+(o<<1)|0}return}function yr(e){e=e|0;var t=0,n=0,r=0;d[e>>2]=36436;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}r=d[e+8>>2]|0;if(!r)return;t=e+12|0;n=d[t>>2]|0;if((n|0)!=(r|0))d[t>>2]=n+(~((n+-2-r|0)>>>1)<<1);Hw(r);return}function br(e){e=e|0;var t=0,n=0,r=0;d[e>>2]=36436;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}r=d[e+8>>2]|0;if(!r){Hw(e);return}t=e+12|0;n=d[t>>2]|0;if((n|0)!=(r|0))d[t>>2]=n+(~((n+-2-r|0)>>>1)<<1);Hw(r);Hw(e);return}function wr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0;i=e+36|0;if(!(d[i>>2]|0)){s=e+40|0;Tr(e,t,d[s>>2]|0,n,r);d[s>>2]=(d[s>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}u=e+4|0;a=n<<1;o=fe(a,d[(d[u>>2]|0)+16>>2]|0)|0;s=e+20|0;Tr(e,t,d[s>>2]|0,n,r);t=d[u>>2]|0;if((d[t+28>>2]|0)==536870912)Mn(d[s>>2]|0,fe(a,d[t+16>>2]|0)|0);u=d[i>>2]|0;if((w_[d[(d[u>>2]|0)+48>>2]&63](u,d[s>>2]|0,o)|0)==(o|0))return;t=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,t|0,3,35648);u=k;k=0;if(u&1){u=Ze()|0;Ye(t|0);ut(u|0)}else _t(t|0,824,96)}function Sr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;i=d[e+36>>2]|0;if(!i){i=e+40|0;xr(e,d[i>>2]|0,t,n,r);d[i>>2]=(d[i>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}else{_r(e,i,t,n,r);return}}function xr(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0;s=e+4|0;a=d[s>>2]|0;do{if(!(f[a+32>>0]|0))u=t;else{e=e+8|0;Ny(d[e>>2]|0,t|0,r*6|0)|0;a=d[s>>2]|0;o=d[a+16>>2]|0;if((r|0)<=0){u=d[e>>2]|0;break}e=d[e>>2]|0;a=e;t=0;while(1){u=a+4|0;l=h[a>>1]|0;h[a>>1]=h[u>>1]|0;h[u>>1]=l;t=t+1|0;if((t|0)==(r|0))break;else a=a+(o<<1)|0}u=e;a=d[s>>2]|0}}while(0);switch(d[a+16>>2]|0){case 3:{if((d[a+24>>2]|0)==2){if((r|0)>0)a=0;else return;do{i=h[u+(a*6|0)+2>>1]|0;s=i&65535;l=32768-s+(m[u+(a*6|0)+4>>1]|0)&65535;h[n+(a*6|0)>>1]=(m[u+(a*6|0)>>1]|0)+32768-s;h[n+(a*6|0)+2>>1]=i;h[n+(a*6|0)+4>>1]=l;a=a+1|0}while((a|0)!=(r|0));return}a=(i|0)<(r|0)?i:r;if((a|0)<=0)return;e=i<<1;t=0;do{r=h[u+(t*6|0)+2>>1]|0;s=r&65535;l=32768-s+(m[u+(t*6|0)+4>>1]|0)&65535;h[n+(t<<1)>>1]=(m[u+(t*6|0)>>1]|0)+32768-s;h[n+(t+i<<1)>>1]=r;h[n+(t+e<<1)>>1]=l;t=t+1|0}while((t|0)!=(a|0));return}case 4:{if((d[a+24>>2]|0)!=1)return;a=(i|0)<(r|0)?i:r;if((a|0)<=0)return;e=i<<1;t=i*3|0;o=0;do{s=h[u+(o<<3)+2>>1]|0;l=h[u+(o<<3)+6>>1]|0;c=s&65535;r=32768-c+(m[u+(o<<3)+4>>1]|0)&65535;h[n+(o<<1)>>1]=(m[u+(o<<3)>>1]|0)+32768-c;h[n+(o+i<<1)>>1]=s;h[n+(o+e<<1)>>1]=r;h[n+(o+t<<1)>>1]=l;o=o+1|0}while((o|0)!=(a|0));return}default:return}}function _r(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0;h=w;w=w+176|0;p=h+152|0;g=h+16|0;m=h;u=e+4|0;a=d[u>>2]|0;c=r<<1;o=fe(c,d[a+16>>2]|0)|0;do{if(o){s=e+20|0;while(1){a=w_[d[(d[t>>2]|0)+32>>2]&63](t,d[s>>2]|0,o)|0;if(!a)break;if((o|0)==(a|0)){l=26;break}else o=o-a|0}if((l|0)==26){a=d[u>>2]|0;break}l=g+56|0;u=g+4|0;d[g>>2]=36160;d[l>>2]=36180;k=0;we(62,g+56|0,u|0);h=k;k=0;if(h&1){g=Ze()|0;pd(l);ut(g|0)}d[g+128>>2]=0;d[g+132>>2]=-1;d[g>>2]=36200;d[g+56>>2]=36220;k=0;be(180,u|0);h=k;k=0;do{if(h&1)a=Ze()|0;else{d[u>>2]=36236;t=g+36|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[g+52>>2]=16;d[p>>2]=0;d[p+4>>2]=0;d[p+8>>2]=0;k=0;we(63,u|0,p|0);h=k;k=0;if(h&1){a=Ze()|0;Gh(p);Gh(t);Sd(u);break}Gh(p);k=0;a=Te(28,g|0,49029,57)|0;p=k;k=0;if(!(p&1)?(k=0,Oe(36,a|0,0)|0,p=k,k=0,!(p&1)):0){s=Ke(16)|0;k=0;we(64,m|0,u|0);p=k;k=0;if(!(p&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,s|0,3,35648,m|0);p=k;k=0;if(p&1)o=1;else{k=0;Pe(6,s|0,824,96);k=0;o=0}a=Ze()|0;Gh(m);if(!o){m=a;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}}else a=Ze()|0;Ye(s|0);m=a;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}m=Ze()|0;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}}while(0);g=a;pd(l);ut(g|0)}}while(0);o=e+20|0;if((d[a+28>>2]|0)!=536870912){g=d[o>>2]|0;xr(e,g,n,r,i);w=h;return}Mn(d[o>>2]|0,fe(c,d[a+16>>2]|0)|0);g=d[o>>2]|0;xr(e,g,n,r,i);w=h;return}function Tr(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0,g=0;u=e+4|0;e=d[u>>2]|0;e:do{switch(d[e+16>>2]|0){case 3:{if((d[e+24>>2]|0)==2){if((r|0)>0)e=0;else break e;while(1){s=h[t+(e*6|0)+2>>1]|0;o=s&65535;i=o+32768+(m[t+(e*6|0)+4>>1]|0)&65535;h[n+(e*6|0)>>1]=(m[t+(e*6|0)>>1]|0)+32768+o;h[n+(e*6|0)+2>>1]=s;h[n+(e*6|0)+4>>1]=i;e=e+1|0;if((e|0)==(r|0))break e}}e=(r|0)<(i|0)?r:i;if((e|0)>0){a=i<<1;o=0;do{l=h[t+(o+i<<1)>>1]|0;c=l&65535;s=c+32768+(m[t+(o+a<<1)>>1]|0)&65535;h[n+(o*6|0)>>1]=(m[t+(o<<1)>>1]|0)+32768+c;h[n+(o*6|0)+2>>1]=l;h[n+(o*6|0)+4>>1]=s;o=o+1|0}while((o|0)!=(e|0))}break}case 4:{if((d[e+24>>2]|0)==1?(s=(r|0)<(i|0)?r:i,(s|0)>0):0){e=i<<1;a=i*3|0;o=0;do{c=h[t+(o+i<<1)>>1]|0;l=c&65535;p=(m[t+(o<<1)>>1]|0)+32768+l|0;l=l+32768+(m[t+(o+e<<1)>>1]|0)|0;g=h[t+(o+a<<1)>>1]|0;c=Ly(c&65535|0,0,16)|0;l=j|l;g=Ly(g&65535|0,0,48)|0;g=p&65535|c|g;l=l&65535|j;c=n+(o<<3)|0;p=c;h[p>>1]=g;h[p+2>>1]=g>>>16;c=c+4|0;h[c>>1]=l;h[c+2>>1]=l>>>16;o=o+1|0}while((o|0)!=(s|0))}break}default:{}}}while(0);e=d[u>>2]|0;if(!(f[e+32>>0]|0))return;o=d[e+16>>2]|0;if((r|0)<=0)return;e=n;a=0;while(1){g=e+4|0;p=h[e>>1]|0;h[e>>1]=h[g>>1]|0;h[g>>1]=p;a=a+1|0;if((a|0)==(r|0))break;else e=e+(o<<1)|0}return}function Er(e){e=e|0;var t=0,n=0,r=0;d[e>>2]=36460;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}r=d[e+8>>2]|0;if(!r)return;t=e+12|0;n=d[t>>2]|0;if((n|0)!=(r|0))d[t>>2]=n+(~((n+-2-r|0)>>>1)<<1);Hw(r);return}function kr(e){e=e|0;var t=0,n=0,r=0;d[e>>2]=36460;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}r=d[e+8>>2]|0;if(!r){Hw(e);return}t=e+12|0;n=d[t>>2]|0;if((n|0)!=(r|0))d[t>>2]=n+(~((n+-2-r|0)>>>1)<<1);Hw(r);Hw(e);return}function Cr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0;i=e+36|0;if(!(d[i>>2]|0)){s=e+40|0;Mr(e,t,d[s>>2]|0,n,r);d[s>>2]=(d[s>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}u=e+4|0;a=n<<1;o=fe(a,d[(d[u>>2]|0)+16>>2]|0)|0;s=e+20|0;Mr(e,t,d[s>>2]|0,n,r);t=d[u>>2]|0;if((d[t+28>>2]|0)==536870912)Mn(d[s>>2]|0,fe(a,d[t+16>>2]|0)|0);u=d[i>>2]|0;if((w_[d[(d[u>>2]|0)+48>>2]&63](u,d[s>>2]|0,o)|0)==(o|0))return;t=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,t|0,3,35648);u=k;k=0;if(u&1){u=Ze()|0;Ye(t|0);ut(u|0)}else _t(t|0,824,96)}function Ar(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;i=d[e+36>>2]|0;if(!i){i=e+40|0;Or(e,d[i>>2]|0,t,n,r);d[i>>2]=(d[i>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}else{Ir(e,i,t,n,r);return}}function Or(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0;s=e+4|0;a=d[s>>2]|0;do{if(!(f[a+32>>0]|0))u=t;else{e=e+8|0;Ny(d[e>>2]|0,t|0,r*6|0)|0;a=d[s>>2]|0;o=d[a+16>>2]|0;if((r|0)<=0){u=d[e>>2]|0;break}e=d[e>>2]|0;a=e;t=0;while(1){u=a+4|0;l=h[a>>1]|0;h[a>>1]=h[u>>1]|0;h[u>>1]=l;t=t+1|0;if((t|0)==(r|0))break;else a=a+(o<<1)|0}u=e;a=d[s>>2]|0}}while(0);switch(d[a+16>>2]|0){case 3:{if((d[a+24>>2]|0)==2){if((r|0)>0)a=0;else return;do{i=h[u+(a*6|0)+2>>1]|0;l=h[u+(a*6|0)+4>>1]|0;h[n+(a*6|0)>>1]=h[u+(a*6|0)>>1]|0;h[n+(a*6|0)+2>>1]=i;h[n+(a*6|0)+4>>1]=l;a=a+1|0}while((a|0)!=(r|0));return}a=(i|0)<(r|0)?i:r;if((a|0)<=0)return;e=i<<1;t=0;do{r=h[u+(t*6|0)+2>>1]|0;l=h[u+(t*6|0)+4>>1]|0;h[n+(t<<1)>>1]=h[u+(t*6|0)>>1]|0;h[n+(t+i<<1)>>1]=r;h[n+(t+e<<1)>>1]=l;t=t+1|0}while((t|0)!=(a|0));return}case 4:{if((d[a+24>>2]|0)!=1)return;a=(i|0)<(r|0)?i:r;if((a|0)<=0)return;e=i<<1;t=i*3|0;o=0;do{s=h[u+(o<<3)+2>>1]|0;r=h[u+(o<<3)+4>>1]|0;l=h[u+(o<<3)+6>>1]|0;h[n+(o<<1)>>1]=h[u+(o<<3)>>1]|0;h[n+(o+i<<1)>>1]=s;h[n+(o+e<<1)>>1]=r;h[n+(o+t<<1)>>1]=l;o=o+1|0}while((o|0)!=(a|0));return}default:return}}function Ir(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0;h=w;w=w+176|0;p=h+152|0;g=h+16|0;m=h;u=e+4|0;a=d[u>>2]|0;c=r<<1;o=fe(c,d[a+16>>2]|0)|0;do{if(o){s=e+20|0;while(1){a=w_[d[(d[t>>2]|0)+32>>2]&63](t,d[s>>2]|0,o)|0;if(!a)break;if((o|0)==(a|0)){l=26;break}else o=o-a|0}if((l|0)==26){a=d[u>>2]|0;break}l=g+56|0;u=g+4|0;d[g>>2]=36160;d[l>>2]=36180;k=0;we(62,g+56|0,u|0);h=k;k=0;if(h&1){g=Ze()|0;pd(l);ut(g|0)}d[g+128>>2]=0;d[g+132>>2]=-1;d[g>>2]=36200;d[g+56>>2]=36220;k=0;be(180,u|0);h=k;k=0;do{if(h&1)a=Ze()|0;else{d[u>>2]=36236;t=g+36|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[g+52>>2]=16;d[p>>2]=0;d[p+4>>2]=0;d[p+8>>2]=0;k=0;we(63,u|0,p|0);h=k;k=0;if(h&1){a=Ze()|0;Gh(p);Gh(t);Sd(u);break}Gh(p);k=0;a=Te(28,g|0,49029,57)|0;p=k;k=0;if(!(p&1)?(k=0,Oe(36,a|0,0)|0,p=k,k=0,!(p&1)):0){s=Ke(16)|0;k=0;we(64,m|0,u|0);p=k;k=0;if(!(p&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,s|0,3,35648,m|0);p=k;k=0;if(p&1)o=1;else{k=0;Pe(6,s|0,824,96);k=0;o=0}a=Ze()|0;Gh(m);if(!o){m=a;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}}else a=Ze()|0;Ye(s|0);m=a;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}m=Ze()|0;d[g>>2]=36200;d[l>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(l);ut(m|0)}}while(0);g=a;pd(l);ut(g|0)}}while(0);o=e+20|0;if((d[a+28>>2]|0)!=536870912){g=d[o>>2]|0;Or(e,g,n,r,i);w=h;return}Mn(d[o>>2]|0,fe(c,d[a+16>>2]|0)|0);g=d[o>>2]|0;Or(e,g,n,r,i);w=h;return}function Mr(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0,g=0;u=e+4|0;e=d[u>>2]|0;e:do{switch(d[e+16>>2]|0){case 3:{if((d[e+24>>2]|0)==2){if((r|0)>0)e=0;else break e;while(1){s=h[t+(e*6|0)+2>>1]|0;i=h[t+(e*6|0)+4>>1]|0;h[n+(e*6|0)>>1]=h[t+(e*6|0)>>1]|0;h[n+(e*6|0)+2>>1]=s;h[n+(e*6|0)+4>>1]=i;e=e+1|0;if((e|0)==(r|0))break e}}e=(r|0)<(i|0)?r:i;if((e|0)>0){a=i<<1;o=0;do{l=h[t+(o+i<<1)>>1]|0;s=h[t+(o+a<<1)>>1]|0;h[n+(o*6|0)>>1]=h[t+(o<<1)>>1]|0;h[n+(o*6|0)+2>>1]=l;h[n+(o*6|0)+4>>1]=s;o=o+1|0}while((o|0)!=(e|0))}break}case 4:{if((d[e+24>>2]|0)==1?(s=(r|0)<(i|0)?r:i,(s|0)>0):0){e=i<<1;a=i*3|0;o=0;do{l=h[t+(o<<1)>>1]|0;g=h[t+(o+a<<1)>>1]|0;c=m[t+(o+e<<1)>>1]|0;p=Ly(m[t+(o+i<<1)>>1]|0,0,16)|0;c=j|c;g=Ly(g&65535|0,0,48)|0;g=p|l&65535|g;c=c&65535|j;l=n+(o<<3)|0;p=l;h[p>>1]=g;h[p+2>>1]=g>>>16;l=l+4|0;h[l>>1]=c;h[l+2>>1]=c>>>16;o=o+1|0}while((o|0)!=(s|0))}break}default:{}}}while(0);e=d[u>>2]|0;if(!(f[e+32>>0]|0))return;o=d[e+16>>2]|0;if((r|0)<=0)return;e=n;a=0;while(1){g=e+4|0;p=h[e>>1]|0;h[e>>1]=h[g>>1]|0;h[g>>1]=p;a=a+1|0;if((a|0)==(r|0))break;else e=e+(o<<1)|0}return}function Dr(e){e=e|0;return}function Rr(e){e=e|0;Hw(e);return}function Pr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;n=fe(d[e+8>>2]|0,n)|0;e=d[e+4>>2]|0;if((w_[d[(d[e>>2]|0)+48>>2]&63](e,t,n)|0)==(n|0))return;r=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,r|0,3,35648);e=k;k=0;if(e&1){e=Ze()|0;Ye(r|0);ut(e|0)}else _t(r|0,824,96)}function Nr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=w;w=w+16|0;l=c;u=e+8|0;i=d[u>>2]|0;r=fe(i,n)|0;do{if(r){o=e+4|0;a=r;while(1){i=d[o>>2]|0;i=w_[d[(d[i>>2]|0)+32>>2]&63](i,t,a)|0;if(!i)break;r=a-i|0;if((a|0)==(i|0)){s=11;break}else a=r}if((s|0)==11){i=d[u>>2]|0;a=r;break}r=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,r|0,3,35648);e=k;k=0;if(e&1){e=Ze()|0;Ye(r|0);ut(e|0)}else _t(r|0,824,96)}else a=0}while(0);if((i|0)==2){Mn(t,n<<1);i=d[u>>2]|0}r=d[e+12>>2]|0;if((r|0)<=(fe(i,n)|0)){w=c;return}e=d[e+4>>2]|0;x_[d[(d[e>>2]|0)+16>>2]&15](l,e,r-a|0,0,1,24);w=c;return}function Lr(e){e=e|0;Hw(e);return}function Fr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;r=e+4|0;Ny(d[r>>2]|0,t|0,fe(d[e+8>>2]|0,n)|0)|0;d[r>>2]=(d[r>>2]|0)+(d[e+12>>2]|0);return}function Br(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;r=e+4|0;Ny(t|0,d[r>>2]|0,fe(d[e+8>>2]|0,n)|0)|0;d[r>>2]=(d[r>>2]|0)+(d[e+12>>2]|0);return}function zr(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;d[e+112>>2]=0;d[e+108>>2]=0;l=d[t>>2]|0;i=l;do{if(l){o=e+92|0;l=e+96|0;s=d[l>>2]|0;u=d[o>>2]|0;n=u;r=s-n|0;if(r>>>0>=4e4){if(r>>>0>4e4?(a=u+4e4|0,(s|0)!=(a|0)):0){d[l>>2]=a;a=n}else a=n}else{Ur(o,4e4-r|0);a=d[o>>2]|0;i=d[t>>2]|0}n=e+116|0;d[n>>2]=a;s=e+124|0;d[s>>2]=a;u=e+104|0;d[u>>2]=i;r=i;if(i){if((d[r+12>>2]|0)==(d[r+16>>2]|0)){t=(y_[d[(d[i>>2]|0)+36>>2]&127](r)|0)==-1;r=d[s>>2]|0;if(t)break;i=d[n>>2]|0}else{r=a;i=a}o=r-i|0;if(o>>>0<=64){a=e+92|0;if((r|0)==(i|0))r=i;else{r=i;i=0;do{f[(d[a>>2]|0)+i>>0]=f[r+i>>0]|0;i=i+1|0;r=d[n>>2]|0}while(i>>>0<o>>>0);i=d[s>>2]|0}a=d[a>>2]|0;t=a;c=t-r|0;d[n>>2]=a;r=i+c|0;d[s>>2]=r;a=e+120|0;d[a>>2]=(d[a>>2]|0)+c;u=d[u>>2]|0;r=w_[d[(d[u>>2]|0)+32>>2]&63](u,r,(d[l>>2]|0)-(t+o)|0)|0;r=(d[s>>2]|0)+r|0;d[s>>2]=r}}else r=a}else{d[e+104>>2]=0;r=d[t+4>>2]|0;n=e+116|0;d[n>>2]=r;r=r+(d[t+8>>2]|0)|0;d[e+124>>2]=r}}while(0);n=d[n>>2]|0;if(n>>>0>=r>>>0){l=n;c=e+120|0;d[c>>2]=l;Zr(e);return}while(1){if((f[n>>0]|0)==-1){r=20;break}n=n+1|0;if(n>>>0>=r>>>0){r=20;break}}if((r|0)==20){c=e+120|0;d[c>>2]=n;Zr(e);return}}function Ur(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0;u=e+8|0;i=d[u>>2]|0;l=e+4|0;n=d[l>>2]|0;r=n;if((i-r|0)>>>0>=t>>>0){do{f[n>>0]=0;n=(d[l>>2]|0)+1|0;d[l>>2]=n;t=t+-1|0}while((t|0)!=0);return}n=d[e>>2]|0;a=r-n+t|0;if((a|0)<0){Vw(e);i=d[u>>2]|0;n=d[e>>2]|0}r=i-n|0;if(r>>>0<1073741823){r=r<<1;r=r>>>0<a>>>0?a:r;n=(d[l>>2]|0)-n|0;if(!r){i=0;o=0;a=n}else s=8}else{r=2147483647;n=(d[l>>2]|0)-n|0;s=8}if((s|0)==8){i=r;o=Ww(r)|0;a=n}n=o+a|0;i=o+i|0;r=n;do{f[r>>0]=0;r=n+1|0;n=r;t=t+-1|0}while((t|0)!=0);t=d[e>>2]|0;r=(d[l>>2]|0)-t|0;s=o+(a-r)|0;Ny(s|0,t|0,r|0)|0;d[e>>2]=s;d[l>>2]=n;d[u>>2]=i;if(!t)return;Hw(t);return}function jr(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+32|0;x=b+12|0;y=b;m=e+180|0;g=(d[m>>2]|0)+4|0;if((d[e+32>>2]|0)==1)v=d[e+24>>2]|0;else v=1;t=fe(v<<1,g)|0;d[x>>2]=0;_=x+4|0;d[_>>2]=0;d[x+8>>2]=0;do{if(t){if(!((t|0)<0?(k=0,be(178,x|0),S=k,k=0,S&1):0))o=6;if((o|0)==6?(n=t<<1,k=0,r=xe(67,n|0)|0,S=k,k=0,!(S&1)):0){d[x>>2]=r;S=r+(t<<1)|0;d[x+8>>2]=S;Dy(r|0,0,n|0)|0;d[_>>2]=S;break}r=Ze()|0;t=d[x>>2]|0;if(!t)ut(r|0);n=d[_>>2]|0;if((n|0)!=(t|0))d[_>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);ut(r|0)}}while(0);d[y>>2]=0;S=y+4|0;d[S>>2]=0;d[y+8>>2]=0;do{if(!v)o=18;else{if(!(v>>>0>1073741823?(k=0,be(178,y|0),p=k,k=0,p&1):0))o=16;if((o|0)==16?(i=v<<2,k=0,a=xe(67,i|0)|0,p=k,k=0,!(p&1)):0){d[y>>2]=a;o=a+(v<<2)|0;d[y+8>>2]=o;Dy(a|0,0,i|0)|0;d[S>>2]=o;o=18;break}r=Ze()|0;t=d[y>>2]|0;n=t;if(t){i=d[S>>2]|0;if((i|0)!=(t|0))d[S>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}}while(0);if((o|0)==18){a=e+12|0;e:do{if((d[a>>2]|0)>0){o=e+4604|0;s=(fe(v,g)|0)+1|0;u=e+4608|0;l=e+92|0;c=(v|0)>0;f=e+4600|0;p=0;t:while(1){n=d[x>>2]|0;t=n+2|0;d[o>>2]=t;n=n+(s<<1)|0;d[u>>2]=n;if(!(p&1))t=n;else{d[o>>2]=n;d[u>>2]=t}i=d[l>>2]|0;k=0;Be(d[(d[i>>2]|0)+12>>2]|0,i|0,t|0,d[m>>2]|0,g|0);i=k;k=0;if(i&1){o=28;break}if(c){t=d[o>>2]|0;n=d[u>>2]|0;r=d[y>>2]|0;i=0;do{d[f>>2]=d[r+(i<<2)>>2];r=d[m>>2]|0;h[t+(r<<1)>>1]=h[t+(r+-1<<1)>>1]|0;h[n+-2>>1]=h[t>>1]|0;k=0;we(68,e|0,0);r=k;k=0;if(r&1){o=27;break t}r=d[y>>2]|0;d[r+(i<<2)>>2]=d[f>>2];t=(d[o>>2]|0)+(g<<1)|0;d[o>>2]=t;n=(d[u>>2]|0)+(g<<1)|0;d[u>>2]=n;i=i+1|0}while((i|0)<(v|0))}p=p+1|0;if((p|0)>=(d[a>>2]|0)){o=40;break e}}if((o|0)==27){r=Ze()|0;break}else if((o|0)==28){r=Ze()|0;break}}else o=40}while(0);do{if((o|0)==40){k=0;be(182,e|0);e=k;k=0;if(e&1){r=Ze()|0;break}t=d[y>>2]|0;n=t;if(t){r=d[S>>2]|0;if((r|0)!=(t|0))d[S>>2]=r+(~((r+-4-n|0)>>>2)<<2);Hw(t)}t=d[x>>2]|0;if(!t){w=b;return}n=d[_>>2]|0;if((n|0)!=(t|0))d[_>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);w=b;return}}while(0);t=d[y>>2]|0;n=t;if(t){i=d[S>>2]|0;if((i|0)!=(t|0))d[S>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}t=d[x>>2]|0;if(!t)ut(r|0);n=d[_>>2]|0;if((n|0)!=(t|0))d[_>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);ut(r|0)}function Vr(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,p=0,g=0,v=0,y=0;p=e+4604|0;t=d[p>>2]|0;y=e+180|0;if((d[y>>2]|0)<=0)return;g=e+4608|0;v=e+4612|0;i=t;a=m[t+-2>>1]|0;t=m[t>>1]|0;c=0;while(1){l=d[g>>2]|0;u=m[l+(c+-1<<1)>>1]|0;r=c+1|0;n=m[i+(r<<1)>>1]|0;s=d[v>>2]|0;o=t-a|0;i=a-u|0;s=((((f[s+(n-t)>>0]|0)*9|0)+(f[s+o>>0]|0)|0)*9|0)+(f[s+i>>0]|0)|0;if(!s){r=(Qr(e,c,0)|0)+c|0;n=d[p>>2]|0;t=m[n+(r+-1<<1)>>1]|0;n=m[n+(r<<1)>>1]|0}else{a=t-u>>31;if((a^i|0)<0)i=t;else i=u+((a^o|0)<0?0:o)|0;l=qr(e,s,m[l+(c<<1)>>1]|0,i,0)|0;h[(d[g>>2]|0)+(c<<1)>>1]=l}if((r|0)>=(d[y>>2]|0))break;i=d[p>>2]|0;a=t;t=n;c=r}return}function Gr(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;i=e+104|0;if((d[i>>2]|0)>>>0<4)Wr(e);a=e+100|0;o=e+112|0;s=e+96|0;u=e+108|0;l=e+116|0;t=d[a>>2]|0;r=0;do{n=f[o>>0]|0;if((t|0)>31)break;t=d[s>>2]|0;if(!(n<<24>>24)){f[d[u>>2]>>0]=t>>>24;d[s>>2]=d[s>>2]<<8;t=(d[a>>2]|0)+8|0}else{f[d[u>>2]>>0]=t>>>25;d[s>>2]=d[s>>2]<<7;t=(d[a>>2]|0)+7|0}d[a>>2]=t;c=d[u>>2]|0;n=(f[c>>0]|0)==-1&1;f[o>>0]=n;d[u>>2]=c+1;d[i>>2]=(d[i>>2]|0)+-1;d[l>>2]=(d[l>>2]|0)+1;r=r+1|0}while((r|0)<4);if(!(n<<24>>24))Hr(e,0,(t|0)%8|0);else Hr(e,0,(t+-1|0)%8|0);if((d[i>>2]|0)>>>0<4)Wr(e);t=d[a>>2]|0;n=0;do{if((t|0)>31)break;t=d[s>>2]|0;if(!(f[o>>0]|0)){f[d[u>>2]>>0]=t>>>24;d[s>>2]=d[s>>2]<<8;t=(d[a>>2]|0)+8|0}else{f[d[u>>2]>>0]=t>>>25;d[s>>2]=d[s>>2]<<7;t=(d[a>>2]|0)+7|0}d[a>>2]=t;c=d[u>>2]|0;f[o>>0]=(f[c>>0]|0)==-1&1;d[u>>2]=c+1;d[i>>2]=(d[i>>2]|0)+-1;d[l>>2]=(d[l>>2]|0)+1;n=n+1|0}while((n|0)<4);if(!(d[e+132>>2]|0))return;Wr(e);return}function Wr(e){e=e|0;var t=0,n=0,r=0,i=0,a=0;t=d[e+132>>2]|0;if(!t){t=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,t|0,4,35648);e=k;k=0;if(!(e&1))_t(t|0,824,96);e=Ze()|0;Ye(t|0);ut(e|0)}n=e+108|0;r=e+120|0;a=d[r>>2]|0;i=(d[n>>2]|0)-a|0;if((w_[d[(d[t>>2]|0)+48>>2]&63](t,a,i)|0)==(i|0)){a=d[r>>2]|0;d[n>>2]=a;d[e+104>>2]=(d[e+124>>2]|0)-a;return}t=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,t|0,4,35648);a=k;k=0;if(!(a&1))_t(t|0,824,96);a=Ze()|0;Ye(t|0);ut(a|0)}function Hr(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0;l=e+100|0;n=(d[l>>2]|0)-n|0;d[l>>2]=n;if((n|0)>-1){c=e+96|0;d[c>>2]=d[c>>2]|t<<n;return}c=e+96|0;d[c>>2]=d[c>>2]|t>>0-n;u=e+104|0;if((d[u>>2]|0)>>>0<4){Wr(e);n=d[l>>2]|0}a=e+112|0;o=e+108|0;s=e+116|0;r=0;while(1){if((n|0)>31)break;n=d[c>>2]|0;if(!(f[a>>0]|0)){f[d[o>>2]>>0]=n>>>24;d[c>>2]=d[c>>2]<<8;n=(d[l>>2]|0)+8|0}else{f[d[o>>2]>>0]=n>>>25;d[c>>2]=d[c>>2]<<7;n=(d[l>>2]|0)+7|0}d[l>>2]=n;h=d[o>>2]|0;f[a>>0]=(f[h>>0]|0)==-1&1;d[o>>2]=h+1;d[u>>2]=(d[u>>2]|0)+-1;d[s>>2]=(d[s>>2]|0)+1;r=r+1|0;if((r|0)>=4){i=11;break}}e:do{if((i|0)==11)if((n|0)<0){d[c>>2]=d[c>>2]|t>>0-n;if((d[u>>2]|0)>>>0<4){Wr(e);n=d[l>>2]|0;r=0}else r=0;do{if((n|0)>31)break e;n=d[c>>2]|0;if(!(f[a>>0]|0)){f[d[o>>2]>>0]=n>>>24;d[c>>2]=d[c>>2]<<8;n=(d[l>>2]|0)+8|0}else{f[d[o>>2]>>0]=n>>>25;d[c>>2]=d[c>>2]<<7;n=(d[l>>2]|0)+7|0}d[l>>2]=n;h=d[o>>2]|0;f[a>>0]=(f[h>>0]|0)==-1&1;d[o>>2]=h+1;d[u>>2]=(d[u>>2]|0)+-1;d[s>>2]=(d[s>>2]|0)+1;r=r+1|0}while((r|0)<4)}}while(0);d[c>>2]=d[c>>2]|t<<n;return}function qr(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,m=0,g=0,v=0;v=t>>31;a=(v^t)-v|0;m=e+196+(a*12|0)+10|0;o=h[m>>1]|0;p=e+196+(a*12|0)|0;i=d[p>>2]|0;if((o|0)<(i|0)){if((o<<1|0)<(i|0)){if((o<<2|0)<(i|0)){if((o<<3|0)<(i|0)){if((o<<4|0)<(i|0)){t=5;while(1){if((o<<t|0)<(i|0))t=t+1|0;else break}}else t=4}else t=3}else t=2}else t=1}else t=0;c=e+196+(a*12|0)+8|0;i=(h[c>>1]^v)-v+r|0;g=e+136|0;r=d[g>>2]|0;if((i&r|0)==(i|0))l=i;else l=r&~(i>>31);i=(n-l^v)-v|0;u=e+144|0;r=d[u>>2]|0;if((i|0)>0)i=(i+r|0)/(r<<1|1|0)|0;else i=(i-r|0)/(r<<1|1|0)|0;f=e+140|0;s=d[f>>2]|0;n=((i|0)<0?s:0)+i|0;s=n-((n|0)<((s+1|0)/2|0|0)?0:s)|0;a=e+196+(a*12|0)+4|0;if(!(r|t))i=(d[a>>2]<<1)+-1+o>>31;else i=0;r=i^s;Kr(e,t,r>>30^r<<1,d[e+156>>2]|0);r=d[e+160>>2]|0;t=(d[p>>2]|0)+((s|0)>-1?s:0-s|0)|0;i=(d[a>>2]|0)+(fe(d[u>>2]<<1|1,s)|0)|0;n=h[m>>1]|0;if((n|0)==(r|0)){t=t>>1;i=i>>1;n=r>>1}d[p>>2]=t;r=n+1|0;h[m>>1]=r;t=r+i|0;if((t|0)>=1){if((i|0)>0){i=i-r|0;m=h[c>>1]|0;h[c>>1]=(m<<16>>16<127&1)+(m&65535);i=(i|0)>0?0:i}}else{i=h[c>>1]|0;h[c>>1]=(i&65535)-(i<<16>>16>-128&1);i=(t|0)>(~n|0)?t:0-n|0}d[a>>2]=i;r=d[u>>2]|0;n=r<<1|1;t=(fe(n,(s^v)-v|0)|0)+l|0;if((t|0)>=(0-r|0)){i=d[g>>2]|0;if((i+r|0)<(t|0))t=t-(fe(d[f>>2]|0,n)|0)|0}else{t=(fe(d[f>>2]|0,n)|0)+t|0;i=d[g>>2]|0}if((t&i|0)==(t|0)){v=t;v=v&65535;return v|0}v=i&~(t>>31);v=v&65535;return v|0}function Qr(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;u=(d[e+180>>2]|0)-t|0;l=d[e+4608>>2]|0;c=d[e+4604>>2]|0;i=h[l+(t+-1<<1)>>1]|0;s=i&65535;n=d[e+144>>2]|0;a=0;while(1){r=l+(a+t<<1)|0;o=(m[r>>1]|0)-s|0;if((((o|0)>-1?o:0-o|0)|0)>(n|0))break;h[r>>1]=i;a=a+1|0;if((a|0)==(u|0)){a=u;break}}i=(a|0)==(u|0);o=e+4600|0;r=d[36476+(d[o>>2]<<2)>>2]|0;if((1<<r|0)>(a|0))n=a;else{n=a;do{Hr(e,1,1);r=d[o>>2]|0;n=n-(1<<d[36476+(r<<2)>>2])|0;r=(r|0)>30?31:r+1|0;d[o>>2]=r;r=d[36476+(r<<2)>>2]|0}while((n|0)>=(1<<r|0))}if(!i){Hr(e,n,r+1|0);u=a+t|0;t=l+(u<<1)|0;e=Xr(e,m[t>>1]|0,s,m[c+(u<<1)>>1]|0)|0;h[t>>1]=e;e=d[o>>2]|0;d[o>>2]=(e|0)<1?0:e+-1|0;e=a+1|0;return e|0}if(!n){e=u;return e|0}Hr(e,1,1);e=u;return e|0}function Xr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0;s=n-r|0;u=e+136|0;o=e+144|0;i=d[o>>2]|0;if((((s|0)>-1?s:0-s|0)|0)>(i|0)){a=r-n>>31|1;t=fe(a,t-r|0)|0;if((t|0)>0)t=(i+t|0)/(i<<1|1|0)|0;else t=(t-i|0)/(i<<1|1|0)|0;s=e+140|0;i=d[s>>2]|0;n=((t|0)<0?i:0)+t|0;i=n-((n|0)<((i+1|0)/2|0|0)?0:i)|0;Yr(e,e+4576|0,i);i=fe(i,a)|0;a=d[o>>2]|0;o=a<<1|1;i=(fe(i,o)|0)+r|0;if((i|0)>=(0-a|0)){t=d[u>>2]|0;if((t+a|0)<(i|0))i=i-(fe(d[s>>2]|0,o)|0)|0}else{i=(fe(d[s>>2]|0,o)|0)+i|0;t=d[u>>2]|0}if((i&t|0)==(i|0)){u=i;u=u&65535;return u|0}u=t&~(i>>31);u=u&65535;return u|0}else{t=t-n|0;if((t|0)>0)t=(i+t|0)/(i<<1|1|0)|0;else t=(t-i|0)/(i<<1|1|0)|0;s=e+140|0;i=d[s>>2]|0;a=((t|0)<0?i:0)+t|0;i=a-((a|0)<((i+1|0)/2|0|0)?0:i)|0;Yr(e,e+4588|0,i);a=d[o>>2]|0;o=a<<1|1;i=(fe(o,i)|0)+n|0;if((i|0)>=(0-a|0)){t=d[u>>2]|0;if((t+a|0)<(i|0))i=i-(fe(d[s>>2]|0,o)|0)|0}else{i=(fe(d[s>>2]|0,o)|0)+i|0;t=d[u>>2]|0}if((i&t|0)==(i|0)){u=i;u=u&65535;return u|0}u=t&~(i>>31);u=u&65535;return u|0}return 0}function Yr(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=t+9|0;o=p[c>>0]|0;l=t+4|0;u=d[l>>2]|0;i=(fe(o>>>1,u)|0)+(d[t>>2]|0)|0;if((o|0)<(i|0)){a=o;r=0;do{a=a<<1;r=r+1|0}while((a|0)<(i|0));i=r}else i=0;if((n|0)>0&(i|0)==0?p[t+10>>0]<<1>>>0<o>>>0:0)r=1;else s=5;do{if((s|0)==5){r=(n|0)<0;if(r?p[t+10>>0]<<1>>>0>=o>>>0:0){r=1;break}r=r&(i|0)!=0}}while(0);r=(((n|0)>-1?n:0-n|0)<<1)-u+(r<<31>>31)|0;Kr(e,i,r,(d[e+156>>2]|0)+-1-(d[36476+(d[e+4600>>2]<<2)>>2]|0)|0);if((n|0)<0){e=t+10|0;f[e>>0]=(p[e>>0]|0)+1}r=(r+1-(d[l>>2]|0)>>1)+(d[t>>2]|0)|0;d[t>>2]=r;i=f[c>>0]|0;if(i<<24>>24!=(f[t+8>>0]|0)){t=i;t=t&255;t=t+1|0;t=t&255;f[c>>0]=t;return}d[t>>2]=r>>1;e=(i&255)>>>1;f[c>>0]=e;t=t+10|0;f[t>>0]=(p[t>>0]|0)>>>1;t=e;t=t&255;t=t+1|0;t=t&255;f[c>>0]=t;return}function Kr(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0;i=n>>t;a=e+148|0;o=r-(d[a>>2]|0)|0;if((i|0)<(o+-1|0)){if((i|0)>30){r=(i|0)/2|0;Hr(e,0,r);i=i-r|0}Hr(e,1,i+1|0);Hr(e,(1<<t)+-1&n,t);return}if((o|0)>31){Hr(e,0,31);Hr(e,1,r+-31-(d[a>>2]|0)|0)}else Hr(e,1,o);t=d[a>>2]|0;Hr(e,(1<<t)+-1&n+-1,t);return}function Zr(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;s=e+116|0;t=d[s>>2]|0;u=e+120|0;if(t>>>0<((d[u>>2]|0)+-3|0)>>>0){u=e+112|0;o=d[u>>2]|0;e=e+108|0;d[e>>2]=(p[t+1>>0]<<16|p[t>>0]<<24|p[t+2>>0]<<8|p[t+3>>0])>>>o|d[e>>2];e=32-o>>3;d[s>>2]=t+e;d[u>>2]=(e<<3)+o;return}o=e+104|0;n=d[o>>2]|0;do{if(n){if((d[n+12>>2]|0)==(d[n+16>>2]|0)){if((y_[d[(d[n>>2]|0)+36>>2]&127](n)|0)==-1)break;t=d[s>>2]|0}i=e+124|0;n=d[i>>2]|0;a=n-t|0;if(a>>>0<=64){r=e+92|0;if((n|0)==(t|0))n=t;else{n=0;do{f[(d[r>>2]|0)+n>>0]=f[t+n>>0]|0;n=n+1|0;t=d[s>>2]|0}while(n>>>0<a>>>0);n=t;t=d[i>>2]|0}c=d[r>>2]|0;r=c;l=r-n|0;d[s>>2]=c;n=t+l|0;d[i>>2]=n;d[u>>2]=(d[u>>2]|0)+l;o=d[o>>2]|0;o=w_[d[(d[o>>2]|0)+32>>2]&63](o,n,(d[e+96>>2]|0)-(r+a)|0)|0;d[i>>2]=(d[i>>2]|0)+o}}}while(0);o=e+112|0;a=e+108|0;e=d[e+124>>2]|0;i=e+-1|0;t=d[s>>2]|0;while(1){if(t>>>0>=e>>>0){n=14;break}r=f[t>>0]|0;n=r&255;r=r<<24>>24==-1;if(r){if((t|0)==(i|0)){n=25;break}t=t+1|0;if((f[t>>0]|0)<0){n=25;break}}else t=t+1|0;c=d[o>>2]|0;d[a>>2]=n<<24-c|d[a>>2];d[s>>2]=t;c=c+(r?7:8)|0;d[o>>2]=c;if((c|0)>=24){n=33;break}}if((n|0)==14){if((d[o>>2]|0)>=1)return;t=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,t|0,5,35648);c=k;k=0;if(!(c&1))_t(t|0,824,96);c=Ze()|0;Ye(t|0);ut(c|0)}else if((n|0)==25){if((d[o>>2]|0)>=1)return;t=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,t|0,5,35648);c=k;k=0;if(!(c&1))_t(t|0,824,96);c=Ze()|0;Ye(t|0);ut(c|0)}else if((n|0)==33){e:do{if(t>>>0<e>>>0)do{if((f[t>>0]|0)==-1)break e;t=t+1|0}while(t>>>0<e>>>0)}while(0);d[u>>2]=t;return}}function Jr(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0;p=w;w=w+32|0;r=p;h=e+144|0;e:do{if(!(d[h>>2]|0)){n=d[e+136>>2]|0;t=e+152|0;if((((n|0)==((1<<d[t>>2])+-1|0)?(bw(r,n,0),(d[r+4>>2]|0)==(d[e+184>>2]|0)):0)?(d[r+8>>2]|0)==(d[e+188>>2]|0):0)?(d[r+12>>2]|0)==(d[e+192>>2]|0):0)switch(d[t>>2]|0){case 8:{h=d[8900]|0;d[e+4612>>2]=h+(((d[8901]|0)-h|0)>>>1);w=p;return}case 10:{h=d[8903]|0;d[e+4612>>2]=h+(((d[8904]|0)-h|0)>>>1);w=p;return}case 12:{h=d[8906]|0;d[e+4612>>2]=h+(((d[8907]|0)-h|0)>>>1);w=p;return}case 16:{h=d[8909]|0;d[e+4612>>2]=h+(((d[8910]|0)-h|0)>>>1);w=p;return}default:break e}}else t=e+152|0}while(0);c=1<<d[t>>2];n=e+4616|0;r=c<<1;i=e+4620|0;a=d[i>>2]|0;t=d[n>>2]|0;o=a-t|0;if(r>>>0<=o>>>0){if(r>>>0<o>>>0?(s=t+r|0,(a|0)!=(s|0)):0)d[i>>2]=s}else{$r(n,r-o|0);t=d[n>>2]|0}l=e+4612|0;d[l>>2]=t+c;t=0-c|0;if((c|0)<=(t|0)){w=p;return}s=e+192|0;u=e+188|0;o=e+184|0;a=t;do{t=d[s>>2]|0;if((a|0)>(0-t|0)){n=d[u>>2]|0;if((a|0)>(0-n|0)){r=d[o>>2]|0;if((a|0)>(0-r|0)){i=d[h>>2]|0;if((a|0)>=(0-i|0)){if((i|0)<(a|0)){if((r|0)<=(a|0)){if((n|0)>(a|0))t=2;else t=(t|0)>(a|0)?3:4}else t=1}else t=0}else t=-1}else t=-2}else t=-3}else t=-4;f[(d[l>>2]|0)+a>>0]=t;a=a+1|0}while((a|0)!=(c|0));w=p;return}function $r(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0;u=e+8|0;i=d[u>>2]|0;l=e+4|0;n=d[l>>2]|0;r=n;if((i-r|0)>>>0>=t>>>0){do{f[n>>0]=0;n=(d[l>>2]|0)+1|0;d[l>>2]=n;t=t+-1|0}while((t|0)!=0);return}n=d[e>>2]|0;a=r-n+t|0;if((a|0)<0){Vw(e);i=d[u>>2]|0;n=d[e>>2]|0}r=i-n|0;if(r>>>0<1073741823){r=r<<1;r=r>>>0<a>>>0?a:r;n=(d[l>>2]|0)-n|0;if(!r){i=0;o=0;a=n}else s=8}else{r=2147483647;n=(d[l>>2]|0)-n|0;s=8}if((s|0)==8){i=r;o=Ww(r)|0;a=n}n=o+a|0;i=o+i|0;r=n;do{f[r>>0]=0;r=n+1|0;n=r;t=t+-1|0}while((t|0)!=0);t=d[e>>2]|0;r=(d[l>>2]|0)-t|0;s=o+(a-r)|0;Ny(s|0,t|0,r|0)|0;d[e>>2]=s;d[l>>2]=n;d[u>>2]=i;if(!t)return;Hw(t);return}function ei(e){e=e|0;var t=0,n=0;d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);e=e+4|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function ti(e){e=e|0;var t=0,n=0;d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);n=e+4|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function ni(e){e=e|0;var t=0,n=0;d[e>>2]=36052;t=d[e+4616>>2]|0;if(t){n=e+4620|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);e=e+4|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function ri(e){e=e|0;var t=0,n=0;d[e>>2]=36052;t=d[e+4616>>2]|0;if(t){n=e+4620|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);n=e+4|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function ii(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0;o=w;w=w+32|0;u=o;bw(u,d[e+136>>2]|0,d[e+144>>2]|0);s=d[t+4>>2]|0;a=d[t+8>>2]|0;a=(a|0)==0?d[u+8>>2]|0:a;i=d[t+12>>2]|0;i=(i|0)==0?d[u+12>>2]|0:i;n=d[t+16>>2]|0;r=d[u+16>>2]|0;d[e+184>>2]=(s|0)==0?d[u+4>>2]|0:s;d[e+188>>2]=a;d[e+192>>2]=i;pi(e);i=e+140|0;t=(d[i>>2]|0)+32|0;t=(t|0)<128?2:(t|0)/64|0;a=0;do{d[e+196+(a*12|0)>>2]=t;d[e+196+(a*12|0)+4>>2]=0;h[e+196+(a*12|0)+8>>1]=0;h[e+196+(a*12|0)+10>>1]=1;a=a+1|0}while((a|0)!=365);s=(d[i>>2]|0)+32|0;s=(s|0)<128?2:(s|0)/64|0;u=((n|0)==0?r:n)&255;d[e+4576>>2]=s;d[e+4580>>2]=0;f[e+4584>>0]=u;f[e+4585>>0]=1;f[e+4586>>0]=0;d[e+4588>>2]=s;d[e+4592>>2]=1;f[e+4596>>0]=u;f[e+4597>>0]=1;f[e+4598>>0]=0;d[e+4600>>2]=0;w=o;return}function ai(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=w;w=w+16|0;u=c;s=e+92|0;o=d[t>>2]|0;d[t>>2]=0;t=d[s>>2]|0;d[s>>2]=o;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);d[u>>2]=0;d[u+4>>2]=r;s=n+8|0;d[u+8>>2]=d[s>>2];if(r){t=Ww(4624)|0;r=e+8|0;i=t+4|0;a=r;o=i+84|0;do{d[i>>2]=d[a>>2];i=i+4|0;a=a+4|0}while((i|0)<(o|0));i=t+88|0;o=i+40|0;do{d[i>>2]=0;i=i+4|0}while((i|0)<(o|0));d[t>>2]=35828;d[t+128>>2]=d[e+136>>2];d[t+132>>2]=d[e+140>>2];d[t+136>>2]=d[e+144>>2];d[t+140>>2]=d[e+148>>2];d[t+144>>2]=d[e+152>>2];d[t+148>>2]=d[e+156>>2];d[t+152>>2]=d[e+160>>2];i=t+156|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;d[i+12>>2]=0;d[t+172>>2]=d[r>>2];d[t+176>>2]=0;d[t+180>>2]=0;d[t+184>>2]=0;i=t+4568|0;r=t+188|0;do{d[r>>2]=0;d[r+4>>2]=0;h[r+8>>1]=0;h[r+10>>1]=1;r=r+12|0}while((r|0)!=(i|0));a=e+4|0;d[i>>2]=0;d[i+4>>2]=0;h[i+8>>1]=0;f[i+10>>0]=0;o=t+4580|0;d[o>>2]=0;d[o+4>>2]=0;h[o+8>>1]=0;f[o+10>>0]=0;o=t+4592|0;d[o>>2]=0;d[o+4>>2]=0;d[o+8>>2]=0;d[o+12>>2]=0;d[o+16>>2]=0;d[o+20>>2]=0;d[o+24>>2]=0;f[o+28>>0]=0;if(!(d[t+28>>2]|0))d[t+20>>2]=1;r=d[a>>2]|0;d[a>>2]=t;if(r){m_[d[(d[r>>2]|0)+4>>2]&255](r);t=d[a>>2]|0}zr(t,u)}u=e+100|0;d[u>>2]=32;d[e+96>>2]=0;t=d[n>>2]|0;if(!t){d[e+108>>2]=d[n+4>>2];d[e+104>>2]=d[s>>2];si(e);l=e+116|0;l=d[l>>2]|0;e=d[u>>2]|0;e=e+-32|0;e=(e|0)/8|0;e=l-e|0;w=c;return e|0}d[e+132>>2]=t;i=e+120|0;s=e+124|0;r=d[s>>2]|0;t=d[i>>2]|0;a=t;o=r-a|0;if(o>>>0>=4e3){if(o>>>0>4e3?(l=t+4e3|0,(r|0)!=(l|0)):0){d[s>>2]=l;r=l}}else{Ur(i,4e3-o|0);t=d[i>>2]|0;a=t;r=d[s>>2]|0}d[e+108>>2]=a;d[e+104>>2]=r-t;si(e);l=e+116|0;l=d[l>>2]|0;e=d[u>>2]|0;e=e+-32|0;e=(e|0)/8|0;e=l-e|0;w=c;return e|0}function oi(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+352|0;S=b+328|0;x=b+192|0;n=b+343|0;r=b+342|0;i=b+341|0;a=b+340|0;p=b+176|0;s=b+168|0;u=b+160|0;l=b+152|0;y=b;g=b+136|0;if((d[e+32>>2]|0)!=0?(d[e+24>>2]|0)!=1:0){m=e+8|0;v=e+36|0;o=d[v>>2]|0;if(!o){e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[n>>0]|0;Be(37,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}e=d[e+16>>2]|0;if((e|0)==16)switch(o|0){case 1:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[r>>0]|0;Be(38,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[i>>0]|0;Be(39,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[a>>0]|0;Be(40,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=x+56|0;i=x+4|0;d[x>>2]=36160;d[o>>2]=36180;k=0;we(62,x+56|0,i|0);b=k;k=0;if(b&1){_=Ze()|0;pd(o);ut(_|0)}d[x+128>>2]=0;d[x+132>>2]=-1;d[x>>2]=36200;d[x+56>>2]=36220;k=0;be(180,i|0);b=k;k=0;do{if(b&1)e=Ze()|0;else{d[i>>2]=36236;a=x+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[x+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);b=k;k=0;if(b&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,x|0,49007,21)|0;S=k;k=0;do{if((!(S&1)?(k=0,c=Oe(36,e|0,d[v>>2]|0)|0,S=k,k=0,!(S&1)):0)?(k=0,Te(28,c|0,50997,18)|0,S=k,k=0,!(S&1)):0){r=Ke(16)|0;k=0;we(64,p|0,i|0);S=k;k=0;if(!(S&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,p|0);S=k;k=0;if(S&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(p);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=34}while(0);if((_|0)==34)e=Ze()|0;d[x>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}if((e|0)<=8){e=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,e|0,8,35648);_=k;k=0;if(!(_&1))_t(e|0,824,96);_=Ze()|0;Ye(e|0);ut(_|0)}n=16-e|0;switch(o|0){case 1:{e=Ww(60)|0;d[s>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[s>>2];d[S+4>>2]=d[s+4>>2];Be(41,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(60)|0;d[u>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[u>>2];d[S+4>>2]=d[u+4>>2];Be(42,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(60)|0;d[l>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[l>>2];d[S+4>>2]=d[l+4>>2];Be(43,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=y+56|0;i=y+4|0;d[y>>2]=36160;d[o>>2]=36180;k=0;we(62,y+56|0,i|0);x=k;k=0;if(x&1){_=Ze()|0;pd(o);ut(_|0)}d[y+128>>2]=0;d[y+132>>2]=-1;d[y>>2]=36200;d[y+56>>2]=36220;k=0;be(180,i|0);x=k;k=0;do{if(x&1)e=Ze()|0;else{d[i>>2]=36236;a=y+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[y+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);x=k;k=0;if(x&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,y|0,49007,21)|0;x=k;k=0;do{if((!(x&1)?(k=0,h=Oe(36,e|0,d[v>>2]|0)|0,x=k,k=0,!(x&1)):0)?(k=0,Te(28,h|0,50997,18)|0,x=k,k=0,!(x&1)):0){r=Ke(16)|0;k=0;we(64,g|0,i|0);x=k;k=0;if(!(x&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,g|0);x=k;k=0;if(x&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(g);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=64}while(0);if((_|0)==64)e=Ze()|0;d[y>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}}n=d[t+4>>2]|0;r=Ww(16)|0;e=d[e+20>>2]|0;if(!n){_=d[t>>2]|0;d[r>>2]=36132;d[r+4>>2]=_;d[r+8>>2]=6;d[r+12>>2]=e;_=r;w=b;return _|0}else{d[r>>2]=36108;d[r+4>>2]=n;d[r+8>>2]=6;d[r+12>>2]=e;_=r;w=b;return _|0}return 0}function si(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;y=w;w=w+32|0;S=y+12|0;v=y;p=e+180|0;m=(d[p>>2]|0)+4|0;if((d[e+32>>2]|0)==1)g=d[e+24>>2]|0;else g=1;t=fe(g<<1,m)|0;d[S>>2]=0;x=S+4|0;d[x>>2]=0;d[S+8>>2]=0;do{if(t){if(!(t>>>0>715827882?(k=0,be(178,S|0),b=k,k=0,b&1):0))o=6;if((o|0)==6?(k=0,n=xe(67,t*6|0)|0,b=k,k=0,!(b&1)):0){d[x>>2]=n;d[S>>2]=n;r=n+(t*6|0)|0;d[S+8>>2]=r;while(1){h[n>>1]=0;h[n+2>>1]=0;h[n+4>>1]=0;t=t+-1|0;if(!t)break;else n=n+6|0}d[x>>2]=r;break}r=Ze()|0;t=d[S>>2]|0;if(!t)ut(r|0);n=d[x>>2]|0;if((n|0)!=(t|0))d[x>>2]=n+(~(((n+-6-t|0)>>>0)/6|0)*6|0);Hw(t);ut(r|0)}}while(0);d[v>>2]=0;b=v+4|0;d[b>>2]=0;d[v+8>>2]=0;do{if(!g)o=20;else{if(!(g>>>0>1073741823?(k=0,be(178,v|0),f=k,k=0,f&1):0))o=18;if((o|0)==18?(i=g<<2,k=0,a=xe(67,i|0)|0,f=k,k=0,!(f&1)):0){d[v>>2]=a;o=a+(g<<2)|0;d[v+8>>2]=o;Dy(a|0,0,i|0)|0;d[b>>2]=o;o=20;break}r=Ze()|0;t=d[v>>2]|0;n=t;if(t){i=d[b>>2]|0;if((i|0)!=(t|0))d[b>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}}while(0);if((o|0)==20){i=e+12|0;e:do{if((d[i>>2]|0)>0){a=e+4604|0;o=(fe(g,m)|0)+1|0;s=e+4608|0;u=e+92|0;l=(g|0)>0;c=e+4600|0;f=0;t:while(1){n=d[S>>2]|0;t=n+6|0;d[a>>2]=t;n=n+(o*6|0)|0;d[s>>2]=n;if(!(f&1))t=n;else{d[a>>2]=n;d[s>>2]=t}r=d[u>>2]|0;k=0;Be(d[(d[r>>2]|0)+12>>2]|0,r|0,t|0,d[p>>2]|0,m|0);r=k;k=0;if(r&1){o=30;break}if(l){t=d[v>>2]|0;n=d[a>>2]|0;r=0;do{d[c>>2]=d[t+(r<<2)>>2];_=d[p>>2]|0;t=n+(_*6|0)|0;n=n+((_+-1|0)*6|0)|0;h[t>>1]=h[n>>1]|0;h[t+2>>1]=h[n+2>>1]|0;h[t+4>>1]=h[n+4>>1]|0;n=(d[s>>2]|0)+-6|0;t=d[a>>2]|0;h[n>>1]=h[t>>1]|0;h[n+2>>1]=h[t+2>>1]|0;h[n+4>>1]=h[t+4>>1]|0;k=0;we(69,e|0,0);n=k;k=0;if(n&1){o=29;break t}t=d[v>>2]|0;d[t+(r<<2)>>2]=d[c>>2];n=(d[a>>2]|0)+(m*6|0)|0;d[a>>2]=n;d[s>>2]=(d[s>>2]|0)+(m*6|0);r=r+1|0}while((r|0)<(g|0))}f=f+1|0;if((f|0)>=(d[i>>2]|0)){o=42;break e}}if((o|0)==29){r=Ze()|0;break}else if((o|0)==30){r=Ze()|0;break}}else o=42}while(0);do{if((o|0)==42){k=0;be(182,e|0);_=k;k=0;if(_&1){r=Ze()|0;break}t=d[v>>2]|0;n=t;if(t){r=d[b>>2]|0;if((r|0)!=(t|0))d[b>>2]=r+(~((r+-4-n|0)>>>2)<<2);Hw(t)}t=d[S>>2]|0;if(!t){w=y;return}n=d[x>>2]|0;if((n|0)!=(t|0))d[x>>2]=n+(~(((n+-6-t|0)>>>0)/6|0)*6|0);Hw(t);w=y;return}}while(0);t=d[v>>2]|0;n=t;if(t){i=d[b>>2]|0;if((i|0)!=(t|0))d[b>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}t=d[S>>2]|0;if(!t)ut(r|0);n=d[x>>2]|0;if((n|0)!=(t|0))d[x>>2]=n+(~(((n+-6-t|0)>>>0)/6|0)*6|0);Hw(t);ut(r|0)}function ui(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,p=0,g=0,v=0,y=0,b=0,w=0,S=0,x=0,_=0,T=0,E=0,k=0,C=0,A=0,O=0,I=0;C=e+180|0;if((d[C>>2]|0)<=0)return;A=e+4608|0;O=e+4604|0;I=e+4612|0;k=0;while(1){_=k+-1|0;a=d[A>>2]|0;o=d[O>>2]|0;t=k+1|0;i=m[o+(k*6|0)>>1]|0;E=d[I>>2]|0;s=m[o+(_*6|0)>>1]|0;u=i-s|0;l=m[a+(_*6|0)>>1]|0;c=s-l|0;p=((((f[E+((m[o+(t*6|0)>>1]|0)-i)>>0]|0)*9|0)+(f[E+u>>0]|0)|0)*9|0)+(f[E+c>>0]|0)|0;r=m[o+(k*6|0)+2>>1]|0;g=m[o+(_*6|0)+2>>1]|0;v=r-g|0;y=m[a+(_*6|0)+2>>1]|0;b=g-y|0;w=((((f[E+((m[o+(t*6|0)+2>>1]|0)-r)>>0]|0)*9|0)+(f[E+v>>0]|0)|0)*9|0)+(f[E+b>>0]|0)|0;n=m[o+(k*6|0)+4>>1]|0;S=m[o+(_*6|0)+4>>1]|0;x=n-S|0;_=m[a+(_*6|0)+4>>1]|0;T=S-_|0;E=((((f[E+((m[o+(t*6|0)+4>>1]|0)-n)>>0]|0)*9|0)+(f[E+x>>0]|0)|0)*9|0)+(f[E+T>>0]|0)|0;if(!(w|p|E))t=(li(e,k,0)|0)+k|0;else{o=m[a+(k*6|0)>>1]|0;a=i-l>>31;if((a^c|0)>=0)if((a^u|0)<0)i=l;else i=l-s+i|0;o=ci(e,p,o,i,0)|0;a=m[(d[A>>2]|0)+(k*6|0)+2>>1]|0;i=r-y>>31;if((i^b|0)>=0)if((i^v|0)<0)r=y;else r=y-g+r|0;i=ci(e,w,a,r,0)|0;a=m[(d[A>>2]|0)+(k*6|0)+4>>1]|0;r=n-_>>31;if((r^T|0)>=0)if((r^x|0)<0)n=_;else n=_-S+n|0;T=ci(e,E,a,n,0)|0;E=d[A>>2]|0;h[E+(k*6|0)>>1]=o;h[E+(k*6|0)+2>>1]=i;h[E+(k*6|0)+4>>1]=T}if((t|0)<(d[C>>2]|0))k=t;else break}return}function li(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,k=0,C=0,A=0;C=w;w=w+48|0;g=C+30|0;p=C+24|0;f=C+18|0;v=C+12|0;_=C+6|0;T=C;E=(d[e+180>>2]|0)-t|0;k=d[e+4608>>2]|0;y=d[e+4604>>2]|0;x=t+-1|0;b=h[k+(x*6|0)>>1]|0;S=h[k+(x*6|0)+2>>1]|0;x=h[k+(x*6|0)+4>>1]|0;n=b&65535;r=e+144|0;i=S&65535;a=x&65535;c=0;while(1){u=c+t|0;o=k+(u*6|0)|0;s=k+(u*6|0)+2|0;u=k+(u*6|0)+4|0;A=(m[o>>1]|0)-n|0;l=d[r>>2]|0;if((((A|0)>-1?A:0-A|0)|0)>(l|0))break;A=(m[s>>1]|0)-i|0;if((((A|0)>-1?A:0-A|0)|0)>(l|0))break;A=(m[u>>1]|0)-a|0;if((((A|0)>-1?A:0-A|0)|0)>(l|0))break;h[o>>1]=b;h[s>>1]=S;h[u>>1]=x;c=c+1|0;if((c|0)==(E|0)){c=E;break}}i=(c|0)==(E|0);a=e+4600|0;r=d[36476+(d[a>>2]<<2)>>2]|0;if((1<<r|0)>(c|0))n=c;else{n=c;do{Hr(e,1,1);r=d[a>>2]|0;n=n-(1<<d[36476+(r<<2)>>2])|0;r=(r|0)>30?31:r+1|0;d[a>>2]=r;r=d[36476+(r<<2)>>2]|0}while((n|0)>=(1<<r|0))}if(!i){Hr(e,n,r+1|0);t=c+t|0;A=k+(t*6|0)|0;h[_>>1]=h[A>>1]|0;h[_+2>>1]=h[A+2>>1]|0;h[_+4>>1]=h[A+4>>1]|0;h[T>>1]=b;h[T+2>>1]=S;h[T+4>>1]=x;t=y+(t*6|0)|0;h[f>>1]=h[_>>1]|0;h[f+2>>1]=h[_+2>>1]|0;h[f+4>>1]=h[_+4>>1]|0;h[p>>1]=h[T>>1]|0;h[p+2>>1]=h[T+2>>1]|0;h[p+4>>1]=h[T+4>>1]|0;h[g>>1]=h[t>>1]|0;h[g+2>>1]=h[t+2>>1]|0;h[g+4>>1]=h[t+4>>1]|0;hi(v,e,f,p,g);h[A>>1]=h[v>>1]|0;h[A+2>>1]=h[v+2>>1]|0;h[A+4>>1]=h[v+4>>1]|0;A=d[a>>2]|0;d[a>>2]=(A|0)<1?0:A+-1|0;A=c+1|0;w=C;return A|0}if(!n){A=E;w=C;return A|0}Hr(e,1,1);A=E;w=C;return A|0}function ci(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,m=0,g=0,v=0;v=t>>31;a=(v^t)-v|0;m=e+196+(a*12|0)+10|0;o=h[m>>1]|0;p=e+196+(a*12|0)|0;i=d[p>>2]|0;if((o|0)<(i|0)){if((o<<1|0)<(i|0)){if((o<<2|0)<(i|0)){if((o<<3|0)<(i|0)){if((o<<4|0)<(i|0)){t=5;while(1){if((o<<t|0)<(i|0))t=t+1|0;else break}}else t=4}else t=3}else t=2}else t=1}else t=0;c=e+196+(a*12|0)+8|0;i=(h[c>>1]^v)-v+r|0;g=e+136|0;r=d[g>>2]|0;if((i&r|0)==(i|0))l=i;else l=r&~(i>>31);i=(n-l^v)-v|0;u=e+144|0;r=d[u>>2]|0;if((i|0)>0)i=(i+r|0)/(r<<1|1|0)|0;else i=(i-r|0)/(r<<1|1|0)|0;f=e+140|0;s=d[f>>2]|0;n=((i|0)<0?s:0)+i|0;s=n-((n|0)<((s+1|0)/2|0|0)?0:s)|0;a=e+196+(a*12|0)+4|0;if(!(r|t))i=(d[a>>2]<<1)+-1+o>>31;else i=0;r=i^s;fi(e,t,r>>30^r<<1,d[e+156>>2]|0);r=d[e+160>>2]|0;t=(d[p>>2]|0)+((s|0)>-1?s:0-s|0)|0;i=(d[a>>2]|0)+(fe(d[u>>2]<<1|1,s)|0)|0;n=h[m>>1]|0;if((n|0)==(r|0)){t=t>>1;i=i>>1;n=r>>1}d[p>>2]=t;r=n+1|0;h[m>>1]=r;t=r+i|0;if((t|0)>=1){if((i|0)>0){i=i-r|0;m=h[c>>1]|0;h[c>>1]=(m<<16>>16<127&1)+(m&65535);i=(i|0)>0?0:i}}else{i=h[c>>1]|0;h[c>>1]=(i&65535)-(i<<16>>16>-128&1);i=(t|0)>(~n|0)?t:0-n|0}d[a>>2]=i;r=d[u>>2]|0;n=r<<1|1;t=(fe(n,(s^v)-v|0)|0)+l|0;if((t|0)>=(0-r|0)){i=d[g>>2]|0;if((i+r|0)<(t|0))t=t-(fe(d[f>>2]|0,n)|0)|0}else{t=(fe(d[f>>2]|0,n)|0)+t|0;i=d[g>>2]|0}if((t&i|0)==(t|0)){v=t;v=v&65535;return v|0}v=i&~(t>>31);v=v&65535;return v|0}function fi(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0;i=n>>t;a=e+148|0;o=r-(d[a>>2]|0)|0;if((i|0)<(o+-1|0)){if((i|0)>30){r=(i|0)/2|0;Hr(e,0,r);i=i-r|0}Hr(e,1,i+1|0);Hr(e,(1<<t)+-1&n,t);return}if((o|0)>31){Hr(e,0,31);Hr(e,1,r+-31-(d[a>>2]|0)|0)}else Hr(e,1,o);t=d[a>>2]|0;Hr(e,(1<<t)+-1&n+-1,t);return}function hi(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,g=0,v=0,y=0,b=0,w=0,S=0,x=0;v=t+136|0;f=m[i>>1]|0;p=f-(m[r>>1]|0)>>31|1;a=fe(p,(m[n>>1]|0)-f|0)|0;l=t+144|0;o=d[l>>2]|0;if((a|0)>0)a=(a+o|0)/(o<<1|1|0)|0;else a=(a-o|0)/(o<<1|1|0)|0;x=t+140|0;u=d[x>>2]|0;s=((a|0)<0?u:0)+a|0;u=s-((s|0)<((u+1|0)/2|0|0)?0:u)|0;s=t+4576|0;di(t,s,u);b=m[i+2>>1]|0;w=b-(m[r+2>>1]|0)>>31|1;a=fe(w,(m[n+2>>1]|0)-b|0)|0;o=d[l>>2]|0;if((a|0)>0)a=(a+o|0)/(o<<1|1|0)|0;else a=(a-o|0)/(o<<1|1|0)|0;g=d[x>>2]|0;S=((a|0)<0?g:0)+a|0;g=S-((S|0)<((g+1|0)/2|0|0)?0:g)|0;di(t,s,g);S=m[i+4>>1]|0;y=S-(m[r+4>>1]|0)>>31|1;a=fe(y,(m[n+4>>1]|0)-S|0)|0;o=d[l>>2]|0;if((a|0)>0)a=(a+o|0)/(o<<1|1|0)|0;else a=(a-o|0)/(o<<1|1|0)|0;c=d[x>>2]|0;a=((a|0)<0?c:0)+a|0;c=a-((a|0)<((c+1|0)/2|0|0)?0:c)|0;di(t,s,c);s=d[l>>2]|0;l=s<<1|1;a=(fe(fe(l,u)|0,p)|0)+f|0;n=0-s|0;if((a|0)>=(n|0)){o=d[v>>2]|0;if((o+s|0)<(a|0)){a=a-(fe(d[x>>2]|0,l)|0)|0;r=o}else r=o}else{a=(fe(d[x>>2]|0,l)|0)+a|0;r=d[v>>2]|0}if((a&r|0)!=(a|0))a=r&~(a>>31);i=a&65535;a=(fe(fe(l,g)|0,w)|0)+b|0;if((a|0)>=(n|0)){if((r+s|0)<(a|0))a=a-(fe(d[x>>2]|0,l)|0)|0}else a=(fe(d[x>>2]|0,l)|0)+a|0;if((a&r|0)!=(a|0))a=r&~(a>>31);o=a&65535;a=(fe(fe(l,c)|0,y)|0)+S|0;if((a|0)>=(n|0)){if((r+s|0)<(a|0))a=a-(fe(d[x>>2]|0,l)|0)|0}else a=(fe(d[x>>2]|0,l)|0)+a|0;if((a&r|0)==(a|0)){x=a;x=x&65535;h[e>>1]=i;S=e+2|0;h[S>>1]=o;e=e+4|0;h[e>>1]=x;return}x=r&~(a>>31);x=x&65535;h[e>>1]=i;S=e+2|0;h[S>>1]=o;e=e+4|0;h[e>>1]=x;return}function di(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=t+9|0;o=p[c>>0]|0;l=t+4|0;u=d[l>>2]|0;i=(fe(o>>>1,u)|0)+(d[t>>2]|0)|0;if((o|0)<(i|0)){a=o;r=0;do{a=a<<1;r=r+1|0}while((a|0)<(i|0));i=r}else i=0;if((n|0)>0&(i|0)==0?p[t+10>>0]<<1>>>0<o>>>0:0)r=1;else s=5;do{if((s|0)==5){r=(n|0)<0;if(r?p[t+10>>0]<<1>>>0>=o>>>0:0){r=1;break}r=r&(i|0)!=0}}while(0);r=(((n|0)>-1?n:0-n|0)<<1)-u+(r<<31>>31)|0;fi(e,i,r,(d[e+156>>2]|0)+-1-(d[36476+(d[e+4600>>2]<<2)>>2]|0)|0);if((n|0)<0){e=t+10|0;f[e>>0]=(p[e>>0]|0)+1}r=(r+1-(d[l>>2]|0)>>1)+(d[t>>2]|0)|0;d[t>>2]=r;i=f[c>>0]|0;if(i<<24>>24!=(f[t+8>>0]|0)){t=i;t=t&255;t=t+1|0;t=t&255;f[c>>0]=t;return}d[t>>2]=r>>1;e=(i&255)>>>1;f[c>>0]=e;t=t+10|0;f[t>>0]=(p[t>>0]|0)>>>1;t=e;t=t&255;t=t+1|0;t=t&255;f[c>>0]=t;return}function pi(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0;p=w;w=w+32|0;r=p;h=e+144|0;e:do{if(!(d[h>>2]|0)){n=d[e+136>>2]|0;t=e+152|0;if((((n|0)==((1<<d[t>>2])+-1|0)?(bw(r,n,0),(d[r+4>>2]|0)==(d[e+184>>2]|0)):0)?(d[r+8>>2]|0)==(d[e+188>>2]|0):0)?(d[r+12>>2]|0)==(d[e+192>>2]|0):0)switch(d[t>>2]|0){case 8:{h=d[8900]|0;d[e+4612>>2]=h+(((d[8901]|0)-h|0)>>>1);w=p;return}case 10:{h=d[8903]|0;d[e+4612>>2]=h+(((d[8904]|0)-h|0)>>>1);w=p;return}case 12:{h=d[8906]|0;d[e+4612>>2]=h+(((d[8907]|0)-h|0)>>>1);w=p;return}case 16:{h=d[8909]|0;d[e+4612>>2]=h+(((d[8910]|0)-h|0)>>>1);w=p;return}default:break e}}else t=e+152|0}while(0);c=1<<d[t>>2];n=e+4616|0;r=c<<1;i=e+4620|0;a=d[i>>2]|0;t=d[n>>2]|0;o=a-t|0;if(r>>>0<=o>>>0){if(r>>>0<o>>>0?(s=t+r|0,(a|0)!=(s|0)):0)d[i>>2]=s}else{$r(n,r-o|0);t=d[n>>2]|0}l=e+4612|0;d[l>>2]=t+c;t=0-c|0;if((c|0)<=(t|0)){w=p;return}s=e+192|0;u=e+188|0;o=e+184|0;a=t;do{t=d[s>>2]|0;if((a|0)>(0-t|0)){n=d[u>>2]|0;if((a|0)>(0-n|0)){r=d[o>>2]|0;if((a|0)>(0-r|0)){i=d[h>>2]|0;if((a|0)>=(0-i|0)){if((i|0)<(a|0)){if((r|0)<=(a|0)){if((n|0)>(a|0))t=2;else t=(t|0)>(a|0)?3:4}else t=1}else t=0}else t=-1}else t=-2}else t=-3}else t=-4;f[(d[l>>2]|0)+a>>0]=t;a=a+1|0}while((a|0)!=(c|0));w=p;return}function mi(e){e=e|0;var t=0,n=0;d[e>>2]=36024;t=d[e+4616>>2]|0;if(t){n=e+4620|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);e=e+4|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function gi(e){e=e|0;var t=0,n=0;d[e>>2]=36024;t=d[e+4616>>2]|0;if(t){n=e+4620|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);n=e+4|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function vi(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0;o=w;w=w+32|0;u=o;bw(u,d[e+136>>2]|0,d[e+144>>2]|0);s=d[t+4>>2]|0;a=d[t+8>>2]|0;a=(a|0)==0?d[u+8>>2]|0:a;i=d[t+12>>2]|0;i=(i|0)==0?d[u+12>>2]|0:i;n=d[t+16>>2]|0;r=d[u+16>>2]|0;d[e+184>>2]=(s|0)==0?d[u+4>>2]|0:s;d[e+188>>2]=a;d[e+192>>2]=i;aa(e);i=e+140|0;t=(d[i>>2]|0)+32|0;t=(t|0)<128?2:(t|0)/64|0;a=0;do{d[e+196+(a*12|0)>>2]=t;d[e+196+(a*12|0)+4>>2]=0;h[e+196+(a*12|0)+8>>1]=0;h[e+196+(a*12|0)+10>>1]=1;a=a+1|0}while((a|0)!=365);s=(d[i>>2]|0)+32|0;s=(s|0)<128?2:(s|0)/64|0;u=((n|0)==0?r:n)&255;d[e+4576>>2]=s;d[e+4580>>2]=0;f[e+4584>>0]=u;f[e+4585>>0]=1;f[e+4586>>0]=0;d[e+4588>>2]=s;d[e+4592>>2]=1;f[e+4596>>0]=u;f[e+4597>>0]=1;f[e+4598>>0]=0;d[e+4600>>2]=0;w=o;return}function yi(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=w;w=w+16|0;u=c;s=e+92|0;o=d[t>>2]|0;d[t>>2]=0;t=d[s>>2]|0;d[s>>2]=o;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);d[u>>2]=0;d[u+4>>2]=r;s=n+8|0;d[u+8>>2]=d[s>>2];if(r){t=Ww(4624)|0;r=e+8|0;i=t+4|0;a=r;o=i+84|0;do{d[i>>2]=d[a>>2];i=i+4|0;a=a+4|0}while((i|0)<(o|0));i=t+88|0;o=i+40|0;do{d[i>>2]=0;i=i+4|0}while((i|0)<(o|0));d[t>>2]=35800;d[t+128>>2]=d[e+136>>2];d[t+132>>2]=d[e+140>>2];d[t+136>>2]=d[e+144>>2];d[t+140>>2]=d[e+148>>2];d[t+144>>2]=d[e+152>>2];d[t+148>>2]=d[e+156>>2];d[t+152>>2]=d[e+160>>2];i=t+156|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;d[i+12>>2]=0;d[t+172>>2]=d[r>>2];d[t+176>>2]=0;d[t+180>>2]=0;d[t+184>>2]=0;i=t+4568|0;r=t+188|0;do{d[r>>2]=0;d[r+4>>2]=0;h[r+8>>1]=0;h[r+10>>1]=1;r=r+12|0}while((r|0)!=(i|0));a=e+4|0;d[i>>2]=0;d[i+4>>2]=0;h[i+8>>1]=0;f[i+10>>0]=0;o=t+4580|0;d[o>>2]=0;d[o+4>>2]=0;h[o+8>>1]=0;f[o+10>>0]=0;o=t+4592|0;d[o>>2]=0;d[o+4>>2]=0;d[o+8>>2]=0;d[o+12>>2]=0;d[o+16>>2]=0;d[o+20>>2]=0;d[o+24>>2]=0;f[o+28>>0]=0;if(!(d[t+28>>2]|0))d[t+20>>2]=1;r=d[a>>2]|0;d[a>>2]=t;if(r){m_[d[(d[r>>2]|0)+4>>2]&255](r);t=d[a>>2]|0}zr(t,u)}u=e+100|0;d[u>>2]=32;d[e+96>>2]=0;t=d[n>>2]|0;if(!t){d[e+108>>2]=d[n+4>>2];d[e+104>>2]=d[s>>2];Ji(e);l=e+116|0;l=d[l>>2]|0;e=d[u>>2]|0;e=e+-32|0;e=(e|0)/8|0;e=l-e|0;w=c;return e|0}d[e+132>>2]=t;i=e+120|0;s=e+124|0;r=d[s>>2]|0;t=d[i>>2]|0;a=t;o=r-a|0;if(o>>>0>=4e3){if(o>>>0>4e3?(l=t+4e3|0,(r|0)!=(l|0)):0){d[s>>2]=l;r=l}}else{Ur(i,4e3-o|0);t=d[i>>2]|0;a=t;r=d[s>>2]|0}d[e+108>>2]=a;d[e+104>>2]=r-t;Ji(e);l=e+116|0;l=d[l>>2]|0;e=d[u>>2]|0;e=e+-32|0;e=(e|0)/8|0;e=l-e|0;w=c;return e|0}function bi(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+352|0;S=b+328|0;x=b+192|0;n=b+343|0;r=b+342|0;i=b+341|0;a=b+340|0;p=b+176|0;s=b+168|0;u=b+160|0;l=b+152|0;y=b;g=b+136|0;if((d[e+32>>2]|0)!=0?(d[e+24>>2]|0)!=1:0){m=e+8|0;v=e+36|0;o=d[v>>2]|0;if(!o){e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[n>>0]|0;Be(44,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}e=d[e+16>>2]|0;if((e|0)==8)switch(o|0){case 1:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[r>>0]|0;Be(45,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[i>>0]|0;Be(46,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[a>>0]|0;Be(47,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=x+56|0;i=x+4|0;d[x>>2]=36160;d[o>>2]=36180;k=0;we(62,x+56|0,i|0);b=k;k=0;if(b&1){_=Ze()|0;pd(o);ut(_|0)}d[x+128>>2]=0;d[x+132>>2]=-1;d[x>>2]=36200;d[x+56>>2]=36220;k=0;be(180,i|0);b=k;k=0;do{if(b&1)e=Ze()|0;else{d[i>>2]=36236;a=x+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[x+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);b=k;k=0;if(b&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,x|0,49007,21)|0;S=k;k=0;do{if((!(S&1)?(k=0,c=Oe(36,e|0,d[v>>2]|0)|0,S=k,k=0,!(S&1)):0)?(k=0,Te(28,c|0,50997,18)|0,S=k,k=0,!(S&1)):0){r=Ke(16)|0;k=0;we(64,p|0,i|0);S=k;k=0;if(!(S&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,p|0);S=k;k=0;if(S&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(p);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=34}while(0);if((_|0)==34)e=Ze()|0;d[x>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}if((e|0)<=8){e=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,e|0,8,35648);_=k;k=0;if(!(_&1))_t(e|0,824,96);_=Ze()|0;Ye(e|0);ut(_|0)}n=16-e|0;switch(o|0){case 1:{e=Ww(60)|0;d[s>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[s>>2];d[S+4>>2]=d[s+4>>2];Be(41,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(60)|0;d[u>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[u>>2];d[S+4>>2]=d[u+4>>2];Be(42,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(60)|0;d[l>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[l>>2];d[S+4>>2]=d[l+4>>2];Be(43,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=y+56|0;i=y+4|0;d[y>>2]=36160;d[o>>2]=36180;k=0;we(62,y+56|0,i|0);x=k;k=0;if(x&1){_=Ze()|0;pd(o);ut(_|0)}d[y+128>>2]=0;d[y+132>>2]=-1;d[y>>2]=36200;d[y+56>>2]=36220;k=0;be(180,i|0);x=k;k=0;do{if(x&1)e=Ze()|0;else{d[i>>2]=36236;a=y+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[y+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);x=k;k=0;if(x&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,y|0,49007,21)|0;x=k;k=0;do{if((!(x&1)?(k=0,h=Oe(36,e|0,d[v>>2]|0)|0,x=k,k=0,!(x&1)):0)?(k=0,Te(28,h|0,50997,18)|0,x=k,k=0,!(x&1)):0){r=Ke(16)|0;k=0;we(64,g|0,i|0);x=k;k=0;if(!(x&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,g|0);x=k;k=0;if(x&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(g);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=64}while(0);if((_|0)==64)e=Ze()|0;d[y>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}}n=d[t+4>>2]|0;r=Ww(16)|0;e=d[e+20>>2]|0;if(!n){_=d[t>>2]|0;d[r>>2]=36132;d[r+4>>2]=_;d[r+8>>2]=3;d[r+12>>2]=e;_=r;w=b;return _|0}else{d[r>>2]=36108;d[r+4>>2]=n;d[r+8>>2]=3;d[r+12>>2]=e;_=r;w=b;return _|0}return 0}function wi(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0;d[e>>2]=36712;d[e+4>>2]=n;c=e+8|0;r=d[n>>2]|0;u=n+16|0;o=d[u>>2]|0;a=fe(o,r)|0;d[c>>2]=0;h=e+12|0;d[h>>2]=0;d[e+16>>2]=0;do{if(!a)a=o;else{if(!((a|0)<0?(k=0,be(178,c|0),o=k,k=0,o&1):0))l=4;if((l|0)==4?(k=0,s=xe(67,a|0)|0,o=k,k=0,!(o&1)):0){d[h>>2]=s;d[c>>2]=s;d[e+16>>2]=s+a;r=s;do{f[r>>0]=0;r=(d[h>>2]|0)+1|0;d[h>>2]=r;a=a+-1|0}while((a|0)!=0);a=d[u>>2]|0;r=d[n>>2]|0;break}r=Ze()|0;i=d[c>>2]|0;if(i){if((d[h>>2]|0)!=(i|0))d[h>>2]=i;Hw(i)}h=r;ut(h|0)}}while(0);o=e+20|0;r=fe(a,r)|0;d[o>>2]=0;a=e+24|0;d[a>>2]=0;d[e+28>>2]=0;if(!r){h=e+36|0;d[h>>2]=d[t>>2];d[h+4>>2]=d[t+4>>2];d[h+8>>2]=d[t+8>>2];return}if(!((r|0)<0?(k=0,be(178,o|0),n=k,k=0,n&1):0))l=15;if((l|0)==15?(k=0,i=xe(67,r|0)|0,l=k,k=0,!(l&1)):0){d[a>>2]=i;d[o>>2]=i;d[e+28>>2]=i+r;do{f[i>>0]=0;i=(d[a>>2]|0)+1|0;d[a>>2]=i;r=r+-1|0}while((r|0)!=0);h=e+36|0;d[h>>2]=d[t>>2];d[h+4>>2]=d[t+4>>2];d[h+8>>2]=d[t+8>>2];return}r=Ze()|0;i=d[o>>2]|0;if(i){if((d[a>>2]|0)!=(i|0))d[a>>2]=i;Hw(i)}i=d[c>>2]|0;if(!i){h=r;ut(h|0)}if((d[h>>2]|0)!=(i|0))d[h>>2]=i;Hw(i);h=r;ut(h|0)}function Si(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0;d[e>>2]=36688;d[e+4>>2]=n;c=e+8|0;r=d[n>>2]|0;u=n+16|0;o=d[u>>2]|0;a=fe(o,r)|0;d[c>>2]=0;h=e+12|0;d[h>>2]=0;d[e+16>>2]=0;do{if(!a)a=o;else{if(!((a|0)<0?(k=0,be(178,c|0),o=k,k=0,o&1):0))l=4;if((l|0)==4?(k=0,s=xe(67,a|0)|0,o=k,k=0,!(o&1)):0){d[h>>2]=s;d[c>>2]=s;d[e+16>>2]=s+a;r=s;do{f[r>>0]=0;r=(d[h>>2]|0)+1|0;d[h>>2]=r;a=a+-1|0}while((a|0)!=0);a=d[u>>2]|0;r=d[n>>2]|0;break}r=Ze()|0;i=d[c>>2]|0;if(i){if((d[h>>2]|0)!=(i|0))d[h>>2]=i;Hw(i)}h=r;ut(h|0)}}while(0);o=e+20|0;r=fe(a,r)|0;d[o>>2]=0;a=e+24|0;d[a>>2]=0;d[e+28>>2]=0;if(!r){h=e+36|0;d[h>>2]=d[t>>2];d[h+4>>2]=d[t+4>>2];d[h+8>>2]=d[t+8>>2];return}if(!((r|0)<0?(k=0,be(178,o|0),n=k,k=0,n&1):0))l=15;if((l|0)==15?(k=0,i=xe(67,r|0)|0,l=k,k=0,!(l&1)):0){d[a>>2]=i;d[o>>2]=i;d[e+28>>2]=i+r;do{f[i>>0]=0;i=(d[a>>2]|0)+1|0;d[a>>2]=i;r=r+-1|0}while((r|0)!=0);h=e+36|0;d[h>>2]=d[t>>2];d[h+4>>2]=d[t+4>>2];d[h+8>>2]=d[t+8>>2];return}r=Ze()|0;i=d[o>>2]|0;if(i){if((d[a>>2]|0)!=(i|0))d[a>>2]=i;Hw(i)}i=d[c>>2]|0;if(!i){h=r;ut(h|0)}if((d[h>>2]|0)!=(i|0))d[h>>2]=i;Hw(i);h=r;ut(h|0)}function xi(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0;d[e>>2]=36664;d[e+4>>2]=n;c=e+8|0;r=d[n>>2]|0;u=n+16|0;o=d[u>>2]|0;a=fe(o,r)|0;d[c>>2]=0;h=e+12|0;d[h>>2]=0;d[e+16>>2]=0;do{if(!a)a=o;else{if(!((a|0)<0?(k=0,be(178,c|0),o=k,k=0,o&1):0))l=4;if((l|0)==4?(k=0,s=xe(67,a|0)|0,o=k,k=0,!(o&1)):0){d[h>>2]=s;d[c>>2]=s;d[e+16>>2]=s+a;r=s;do{f[r>>0]=0;r=(d[h>>2]|0)+1|0;d[h>>2]=r;a=a+-1|0}while((a|0)!=0);a=d[u>>2]|0;r=d[n>>2]|0;break}r=Ze()|0;i=d[c>>2]|0;if(i){if((d[h>>2]|0)!=(i|0))d[h>>2]=i;Hw(i)}h=r;ut(h|0)}}while(0);o=e+20|0;r=fe(a,r)|0;d[o>>2]=0;a=e+24|0;d[a>>2]=0;d[e+28>>2]=0;if(!r){h=e+36|0;d[h>>2]=d[t>>2];d[h+4>>2]=d[t+4>>2];d[h+8>>2]=d[t+8>>2];return}if(!((r|0)<0?(k=0,be(178,o|0),n=k,k=0,n&1):0))l=15;if((l|0)==15?(k=0,i=xe(67,r|0)|0,l=k,k=0,!(l&1)):0){d[a>>2]=i;d[o>>2]=i;d[e+28>>2]=i+r;do{f[i>>0]=0;i=(d[a>>2]|0)+1|0;d[a>>2]=i;r=r+-1|0}while((r|0)!=0);h=e+36|0;d[h>>2]=d[t>>2];d[h+4>>2]=d[t+4>>2];d[h+8>>2]=d[t+8>>2];return}r=Ze()|0;i=d[o>>2]|0;if(i){if((d[a>>2]|0)!=(i|0))d[a>>2]=i;Hw(i)}i=d[c>>2]|0;if(!i){h=r;ut(h|0)}if((d[h>>2]|0)!=(i|0))d[h>>2]=i;Hw(i);h=r;ut(h|0)}function _i(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0;d[e>>2]=36640;d[e+4>>2]=n;c=e+8|0;r=d[n>>2]|0;u=n+16|0;o=d[u>>2]|0;a=fe(o,r)|0;d[c>>2]=0;h=e+12|0;d[h>>2]=0;d[e+16>>2]=0;do{if(!a)a=o;else{if(!((a|0)<0?(k=0,be(178,c|0),o=k,k=0,o&1):0))l=4;if((l|0)==4?(k=0,s=xe(67,a|0)|0,o=k,k=0,!(o&1)):0){d[h>>2]=s;d[c>>2]=s;d[e+16>>2]=s+a;r=s;do{f[r>>0]=0;r=(d[h>>2]|0)+1|0;d[h>>2]=r;a=a+-1|0}while((a|0)!=0);a=d[u>>2]|0;r=d[n>>2]|0;break}r=Ze()|0;i=d[c>>2]|0;if(i){if((d[h>>2]|0)!=(i|0))d[h>>2]=i;Hw(i)}h=r;ut(h|0)}}while(0);o=e+20|0;r=fe(a,r)|0;d[o>>2]=0;a=e+24|0;d[a>>2]=0;d[e+28>>2]=0;if(!r){h=e+36|0;d[h>>2]=d[t>>2];d[h+4>>2]=d[t+4>>2];d[h+8>>2]=d[t+8>>2];return}if(!((r|0)<0?(k=0,be(178,o|0),n=k,k=0,n&1):0))l=15;if((l|0)==15?(k=0,i=xe(67,r|0)|0,l=k,k=0,!(l&1)):0){d[a>>2]=i;d[o>>2]=i;d[e+28>>2]=i+r;do{f[i>>0]=0;i=(d[a>>2]|0)+1|0;d[a>>2]=i;r=r+-1|0}while((r|0)!=0);h=e+36|0;d[h>>2]=d[t>>2];d[h+4>>2]=d[t+4>>2];d[h+8>>2]=d[t+8>>2];return}r=Ze()|0;i=d[o>>2]|0;if(i){if((d[a>>2]|0)!=(i|0))d[a>>2]=i;Hw(i)}i=d[c>>2]|0;if(!i){h=r;ut(h|0)}if((d[h>>2]|0)!=(i|0))d[h>>2]=i;Hw(i);h=r;ut(h|0)}function Ti(e){e=e|0;var t=0,n=0;d[e>>2]=36640;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=d[e+8>>2]|0;if(!n)return;t=e+12|0;if((d[t>>2]|0)!=(n|0))d[t>>2]=n;Hw(n);return}function Ei(e){e=e|0;var t=0,n=0;d[e>>2]=36640;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}t=d[e+8>>2]|0;if(!t){Hw(e);return}n=e+12|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t);Hw(e);return}function ki(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0;i=e+36|0;if(!(d[i>>2]|0)){i=e+40|0;Ii(e,t,d[i>>2]|0,n,r);d[i>>2]=(d[i>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}a=fe(d[(d[e+4>>2]|0)+16>>2]|0,n)|0;o=e+20|0;Ii(e,t,d[o>>2]|0,n,r);e=d[i>>2]|0;if((w_[d[(d[e>>2]|0)+48>>2]&63](e,d[o>>2]|0,a)|0)==(a|0))return;i=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,i|0,3,35648);o=k;k=0;if(o&1){o=Ze()|0;Ye(i|0);ut(o|0)}else _t(i|0,824,96)}function Ci(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;i=d[e+36>>2]|0;if(!i){i=e+40|0;Ai(e,d[i>>2]|0,t,n,r);d[i>>2]=(d[i>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}else{Oi(e,i,t,n,r);return}}function Ai(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0;s=e+4|0;a=d[s>>2]|0;if(!(f[a+32>>0]|0))s=t;else{o=e+8|0;Ny(d[o>>2]|0,t|0,r*3|0)|0;a=d[s>>2]|0;t=d[a+16>>2]|0;if((r|0)>0){a=d[o>>2]|0;e=0;while(1){u=a+2|0;l=f[a>>0]|0;f[a>>0]=f[u>>0]|0;f[u>>0]=l;e=e+1|0;if((e|0)==(r|0))break;else a=a+t|0}a=d[s>>2]|0}s=d[o>>2]|0}switch(d[a+16>>2]|0){case 3:{if((d[a+24>>2]|0)==2){if((r|0)>0)a=0;else return;do{o=p[s+(a*3|0)+1>>0]|0;i=128-o+(p[s+(a*3|0)+2>>0]|0)|0;u=(p[s+(a*3|0)>>0]|0)-o+128|0;l=n+(a*3|0)|0;f[l>>0]=o+192+(((i&255)+(u&255)|0)>>>2);f[l+1>>0]=i;f[l+2>>0]=u;a=a+1|0}while((a|0)!=(r|0));return}a=(i|0)<(r|0)?i:r;if((a|0)<=0)return;e=i<<1;t=0;do{r=p[s+(t*3|0)+1>>0]|0;u=128-r+(p[s+(t*3|0)+2>>0]|0)|0;l=(p[s+(t*3|0)>>0]|0)-r+128|0;f[n+t>>0]=r+192+(((u&255)+(l&255)|0)>>>2);f[n+(t+i)>>0]=u;f[n+(t+e)>>0]=l;t=t+1|0}while((t|0)!=(a|0));return}case 4:{if((d[a+24>>2]|0)!=1)return;a=(i|0)<(r|0)?i:r;if((a|0)<=0)return;e=i<<1;t=i*3|0;o=0;do{l=f[s+(o<<2)+3>>0]|0;c=p[s+(o<<2)+1>>0]|0;r=128-c+(p[s+(o<<2)+2>>0]|0)|0;u=(p[s+(o<<2)>>0]|0)-c+128|0;f[n+o>>0]=c+192+(((r&255)+(u&255)|0)>>>2);f[n+(o+i)>>0]=r;f[n+(o+e)>>0]=u;f[n+(o+t)>>0]=l;o=o+1|0}while((o|0)!=(a|0));return}default:return}}function Oi(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;c=w;w=w+176|0;h=c+152|0;m=c+16|0;p=c;o=fe(d[(d[e+4>>2]|0)+16>>2]|0,r)|0;u=e+20|0;a=d[u>>2]|0;if(!o){m=a;Ai(e,m,n,r,i);w=c;return}while(1){s=w_[d[(d[t>>2]|0)+32>>2]&63](t,a,o)|0;if(!s)break;a=d[u>>2]|0;if((o|0)==(s|0)){l=26;break}else o=o-s|0}if((l|0)==26){Ai(e,a,n,r,i);w=c;return}n=m+56|0;u=m+4|0;d[m>>2]=36160;d[n>>2]=36180;k=0;we(62,m+56|0,u|0);c=k;k=0;if(c&1){m=Ze()|0;pd(n);ut(m|0)}d[m+128>>2]=0;d[m+132>>2]=-1;d[m>>2]=36200;d[m+56>>2]=36220;k=0;be(180,u|0);c=k;k=0;do{if(c&1)a=Ze()|0;else{d[u>>2]=36236;t=m+36|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[m+52>>2]=16;d[h>>2]=0;d[h+4>>2]=0;d[h+8>>2]=0;k=0;we(63,u|0,h|0);c=k;k=0;if(c&1){a=Ze()|0;Gh(h);Gh(t);Sd(u);break}Gh(h);k=0;a=Te(28,m|0,49029,57)|0;h=k;k=0;if(!(h&1)?(k=0,Oe(36,a|0,0)|0,h=k,k=0,!(h&1)):0){s=Ke(16)|0;k=0;we(64,p|0,u|0);h=k;k=0;if(!(h&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,s|0,3,35648,p|0);h=k;k=0;if(h&1)o=1;else{k=0;Pe(6,s|0,824,96);k=0;o=0}a=Ze()|0;Gh(p);if(!o){p=a;d[m>>2]=36200;d[n>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(n);ut(p|0)}}else a=Ze()|0;Ye(s|0);p=a;d[m>>2]=36200;d[n>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(n);ut(p|0)}p=Ze()|0;d[m>>2]=36200;d[n>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(n);ut(p|0)}}while(0);m=a;pd(n);ut(m|0)}function Ii(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,m=0;u=e+4|0;e=d[u>>2]|0;e:do{switch(d[e+16>>2]|0){case 3:{if((d[e+24>>2]|0)==2){if((r|0)>0)e=0;else break e;while(1){o=p[t+(e*3|0)+1>>0]|0;a=p[t+(e*3|0)+2>>0]|0;s=(p[t+(e*3|0)>>0]|0)-((a+o|0)>>>2)+64|0;i=n+(e*3|0)|0;f[i>>0]=a+128+s;f[i+1>>0]=s;f[i+2>>0]=o+128+s;e=e+1|0;if((e|0)==(r|0))break e}}e=(r|0)<(i|0)?r:i;if((e|0)>0){a=i<<1;o=0;do{c=p[t+(o+i)>>0]|0;h=p[t+(o+a)>>0]|0;l=(p[t+o>>0]|0)-((h+c|0)>>>2)+64|0;s=n+(o*3|0)|0;f[s>>0]=h+128+l;f[s+1>>0]=l;f[s+2>>0]=c+128+l;o=o+1|0}while((o|0)!=(e|0))}break}case 4:{if((d[e+24>>2]|0)==1?(s=(r|0)<(i|0)?r:i,(s|0)>0):0){e=i<<1;a=i*3|0;o=0;do{l=p[t+(o+i)>>0]|0;m=p[t+(o+e)>>0]|0;c=(p[t+o>>0]|0)-((m+l|0)>>>2)+64|0;h=n+(o<<2)|0;c=c<<8&65280|p[t+(o+a)>>0]<<24|m+128+c&255|l+128+c<<16&16711680;f[h>>0]=c;f[h+1>>0]=c>>8;f[h+2>>0]=c>>16;f[h+3>>0]=c>>24;o=o+1|0}while((o|0)!=(s|0))}break}default:{}}}while(0);e=d[u>>2]|0;if(!(f[e+32>>0]|0))return;o=d[e+16>>2]|0;if((r|0)>0){e=n;a=0}else return;while(1){m=e+2|0;h=f[e>>0]|0;f[e>>0]=f[m>>0]|0;f[m>>0]=h;a=a+1|0;if((a|0)==(r|0))break;else e=e+o|0}return}function Mi(e){e=e|0;var t=0,n=0;d[e>>2]=36664;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=d[e+8>>2]|0;if(!n)return;t=e+12|0;if((d[t>>2]|0)!=(n|0))d[t>>2]=n;Hw(n);return}function Di(e){e=e|0;var t=0,n=0;d[e>>2]=36664;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}t=d[e+8>>2]|0;if(!t){Hw(e);return}n=e+12|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t);Hw(e);return}function Ri(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0;i=e+36|0;if(!(d[i>>2]|0)){i=e+40|0;Fi(e,t,d[i>>2]|0,n,r);d[i>>2]=(d[i>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}a=fe(d[(d[e+4>>2]|0)+16>>2]|0,n)|0;o=e+20|0;Fi(e,t,d[o>>2]|0,n,r);e=d[i>>2]|0;if((w_[d[(d[e>>2]|0)+48>>2]&63](e,d[o>>2]|0,a)|0)==(a|0))return;i=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,i|0,3,35648);o=k;k=0;if(o&1){o=Ze()|0;Ye(i|0);ut(o|0)}else _t(i|0,824,96)}function Pi(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;i=d[e+36>>2]|0;if(!i){i=e+40|0;Ni(e,d[i>>2]|0,t,n,r);d[i>>2]=(d[i>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}else{Li(e,i,t,n,r);return}}function Ni(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0;s=e+4|0;a=d[s>>2]|0;if(!(f[a+32>>0]|0))s=t;else{o=e+8|0;Ny(d[o>>2]|0,t|0,r*3|0)|0;a=d[s>>2]|0;t=d[a+16>>2]|0;if((r|0)>0){a=d[o>>2]|0;e=0;while(1){u=a+2|0;l=f[a>>0]|0;f[a>>0]=f[u>>0]|0;f[u>>0]=l;e=e+1|0;if((e|0)==(r|0))break;else a=a+t|0}a=d[s>>2]|0}s=d[o>>2]|0}switch(d[a+16>>2]|0){case 3:{if((d[a+24>>2]|0)==2){if((r|0)>0)a=0;else return;do{t=p[s+(a*3|0)>>0]|0;i=f[s+(a*3|0)+1>>0]|0;o=i&255;u=(p[s+(a*3|0)+2>>0]|0)+128-((o+t|0)>>>1)&255;l=n+(a*3|0)|0;f[l>>0]=t+128-o;f[l+1>>0]=i;f[l+2>>0]=u;a=a+1|0}while((a|0)!=(r|0));return}a=(i|0)<(r|0)?i:r;if((a|0)<=0)return;e=i<<1;t=0;do{u=f[s+(t*3|0)+1>>0]|0;o=p[s+(t*3|0)>>0]|0;r=u&255;l=(p[s+(t*3|0)+2>>0]|0)+128-((r+o|0)>>>1)&255;f[n+t>>0]=o+128-r;f[n+(t+i)>>0]=u;f[n+(t+e)>>0]=l;t=t+1|0}while((t|0)!=(a|0));return}case 4:{if((d[a+24>>2]|0)!=1)return;a=(i|0)<(r|0)?i:r;if((a|0)<=0)return;e=i<<1;t=i*3|0;o=0;do{r=f[s+(o<<2)+1>>0]|0;l=f[s+(o<<2)+3>>0]|0;h=p[s+(o<<2)>>0]|0;c=r&255;u=(p[s+(o<<2)+2>>0]|0)+128-((c+h|0)>>>1)&255;f[n+o>>0]=h+128-c;f[n+(o+i)>>0]=r;f[n+(o+e)>>0]=u;f[n+(o+t)>>0]=l;o=o+1|0}while((o|0)!=(a|0));return}default:return}}function Li(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;c=w;w=w+176|0;h=c+152|0;m=c+16|0;p=c;o=fe(d[(d[e+4>>2]|0)+16>>2]|0,r)|0;u=e+20|0;a=d[u>>2]|0;if(!o){m=a;Ni(e,m,n,r,i);w=c;return}while(1){s=w_[d[(d[t>>2]|0)+32>>2]&63](t,a,o)|0;if(!s)break;a=d[u>>2]|0;if((o|0)==(s|0)){l=26;break}else o=o-s|0}if((l|0)==26){Ni(e,a,n,r,i);w=c;return}n=m+56|0;u=m+4|0;d[m>>2]=36160;d[n>>2]=36180;k=0;we(62,m+56|0,u|0);c=k;k=0;if(c&1){m=Ze()|0;pd(n);ut(m|0)}d[m+128>>2]=0;d[m+132>>2]=-1;d[m>>2]=36200;d[m+56>>2]=36220;k=0;be(180,u|0);c=k;k=0;do{if(c&1)a=Ze()|0;else{d[u>>2]=36236;t=m+36|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[m+52>>2]=16;d[h>>2]=0;d[h+4>>2]=0;d[h+8>>2]=0;k=0;we(63,u|0,h|0);c=k;k=0;if(c&1){a=Ze()|0;Gh(h);Gh(t);Sd(u);break}Gh(h);k=0;a=Te(28,m|0,49029,57)|0;h=k;k=0;if(!(h&1)?(k=0,Oe(36,a|0,0)|0,h=k,k=0,!(h&1)):0){s=Ke(16)|0;k=0;we(64,p|0,u|0);h=k;k=0;if(!(h&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,s|0,3,35648,p|0);h=k;k=0;if(h&1)o=1;else{k=0;Pe(6,s|0,824,96);k=0;o=0}a=Ze()|0;Gh(p);if(!o){p=a;d[m>>2]=36200;d[n>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(n);ut(p|0)}}else a=Ze()|0;Ye(s|0);p=a;d[m>>2]=36200;d[n>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(n);ut(p|0)}p=Ze()|0;d[m>>2]=36200;d[n>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(n);ut(p|0)}}while(0);m=a;pd(n);ut(m|0)}function Fi(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0;u=e+4|0;e=d[u>>2]|0;e:do{switch(d[e+16>>2]|0){case 3:{if((d[e+24>>2]|0)==2){if((r|0)>0)e=0;else break e;while(1){o=f[t+(e*3|0)+1>>0]|0;s=o&255;a=(p[t+(e*3|0)>>0]|0)+128+s|0;s=(p[t+(e*3|0)+2>>0]|0)+128+(((a&255)+s|0)>>>1)&255;i=n+(e*3|0)|0;f[i>>0]=a;f[i+1>>0]=o;f[i+2>>0]=s;e=e+1|0;if((e|0)==(r|0))break e}}e=(r|0)<(i|0)?r:i;if((e|0)>0){a=i<<1;o=0;do{c=f[t+(o+i)>>0]|0;l=c&255;h=(p[t+o>>0]|0)+128+l|0;l=(p[t+(o+a)>>0]|0)+128+(((h&255)+l|0)>>>1)&255;s=n+(o*3|0)|0;f[s>>0]=h;f[s+1>>0]=c;f[s+2>>0]=l;o=o+1|0}while((o|0)!=(e|0))}break}case 4:{if((d[e+24>>2]|0)==1?(s=(r|0)<(i|0)?r:i,(s|0)>0):0){e=i<<1;a=i*3|0;o=0;do{c=p[t+(o+i)>>0]|0;l=(p[t+o>>0]|0)+128+c&255;h=n+(o<<2)|0;c=l|c<<8|p[t+(o+a)>>0]<<24|(p[t+(o+e)>>0]|0)+128+((l+c|0)>>>1)<<16&16711680;f[h>>0]=c;f[h+1>>0]=c>>8;f[h+2>>0]=c>>16;f[h+3>>0]=c>>24;o=o+1|0}while((o|0)!=(s|0))}break}default:{}}}while(0);e=d[u>>2]|0;if(!(f[e+32>>0]|0))return;o=d[e+16>>2]|0;if((r|0)>0){e=n;a=0}else return;while(1){h=e+2|0;c=f[e>>0]|0;f[e>>0]=f[h>>0]|0;f[h>>0]=c;a=a+1|0;if((a|0)==(r|0))break;else e=e+o|0}return}function Bi(e){e=e|0;var t=0,n=0;d[e>>2]=36688;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=d[e+8>>2]|0;if(!n)return;t=e+12|0;if((d[t>>2]|0)!=(n|0))d[t>>2]=n;Hw(n);return}function zi(e){e=e|0;var t=0,n=0;d[e>>2]=36688;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}t=d[e+8>>2]|0;if(!t){Hw(e);return}n=e+12|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t);Hw(e);return}function Ui(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0;i=e+36|0;if(!(d[i>>2]|0)){i=e+40|0;Wi(e,t,d[i>>2]|0,n,r);d[i>>2]=(d[i>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}a=fe(d[(d[e+4>>2]|0)+16>>2]|0,n)|0;o=e+20|0;Wi(e,t,d[o>>2]|0,n,r);e=d[i>>2]|0;if((w_[d[(d[e>>2]|0)+48>>2]&63](e,d[o>>2]|0,a)|0)==(a|0))return;i=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,i|0,3,35648);o=k;k=0;if(o&1){o=Ze()|0;Ye(i|0);ut(o|0)}else _t(i|0,824,96)}function ji(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;i=d[e+36>>2]|0;if(!i){i=e+40|0;Vi(e,d[i>>2]|0,t,n,r);d[i>>2]=(d[i>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}else{Gi(e,i,t,n,r);return}}function Vi(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0;s=e+4|0;a=d[s>>2]|0;if(!(f[a+32>>0]|0))s=t;else{o=e+8|0;Ny(d[o>>2]|0,t|0,r*3|0)|0;a=d[s>>2]|0;t=d[a+16>>2]|0;if((r|0)>0){a=d[o>>2]|0;e=0;while(1){u=a+2|0;l=f[a>>0]|0;f[a>>0]=f[u>>0]|0;f[u>>0]=l;e=e+1|0;if((e|0)==(r|0))break;else a=a+t|0}a=d[s>>2]|0}s=d[o>>2]|0}switch(d[a+16>>2]|0){case 3:{if((d[a+24>>2]|0)==2){if((r|0)>0)a=0;else return;do{i=f[s+(a*3|0)+1>>0]|0;o=i&255;u=128-o+(p[s+(a*3|0)+2>>0]|0)&255;l=n+(a*3|0)|0;f[l>>0]=(p[s+(a*3|0)>>0]|0)+128-o;f[l+1>>0]=i;f[l+2>>0]=u;a=a+1|0}while((a|0)!=(r|0));return}a=(i|0)<(r|0)?i:r;if((a|0)<=0)return;e=i<<1;t=0;do{u=f[s+(t*3|0)+1>>0]|0;r=u&255;l=128-r+(p[s+(t*3|0)+2>>0]|0)&255;f[n+t>>0]=(p[s+(t*3|0)>>0]|0)+128-r;f[n+(t+i)>>0]=u;f[n+(t+e)>>0]=l;t=t+1|0}while((t|0)!=(a|0));return}case 4:{if((d[a+24>>2]|0)!=1)return;a=(i|0)<(r|0)?i:r;if((a|0)<=0)return;e=i<<1;t=i*3|0;o=0;do{r=f[s+(o<<2)+1>>0]|0;l=f[s+(o<<2)+3>>0]|0;c=r&255;u=128-c+(p[s+(o<<2)+2>>0]|0)&255;f[n+o>>0]=(p[s+(o<<2)>>0]|0)+128-c;f[n+(o+i)>>0]=r;f[n+(o+e)>>0]=u;f[n+(o+t)>>0]=l;o=o+1|0}while((o|0)!=(a|0));return}default:return}}function Gi(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;c=w;w=w+176|0;h=c+152|0;m=c+16|0;p=c;o=fe(d[(d[e+4>>2]|0)+16>>2]|0,r)|0;u=e+20|0;a=d[u>>2]|0;if(!o){m=a;Vi(e,m,n,r,i);w=c;return}while(1){s=w_[d[(d[t>>2]|0)+32>>2]&63](t,a,o)|0;if(!s)break;a=d[u>>2]|0;if((o|0)==(s|0)){l=26;break}else o=o-s|0}if((l|0)==26){Vi(e,a,n,r,i);w=c;return}n=m+56|0;u=m+4|0;d[m>>2]=36160;d[n>>2]=36180;k=0;we(62,m+56|0,u|0);c=k;k=0;if(c&1){m=Ze()|0;pd(n);ut(m|0)}d[m+128>>2]=0;d[m+132>>2]=-1;d[m>>2]=36200;d[m+56>>2]=36220;k=0;be(180,u|0);c=k;k=0;do{if(c&1)a=Ze()|0;else{d[u>>2]=36236;t=m+36|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[m+52>>2]=16;d[h>>2]=0;d[h+4>>2]=0;d[h+8>>2]=0;k=0;we(63,u|0,h|0);c=k;k=0;if(c&1){a=Ze()|0;Gh(h);Gh(t);Sd(u);break}Gh(h);k=0;a=Te(28,m|0,49029,57)|0;h=k;k=0;if(!(h&1)?(k=0,Oe(36,a|0,0)|0,h=k,k=0,!(h&1)):0){s=Ke(16)|0;k=0;we(64,p|0,u|0);h=k;k=0;if(!(h&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,s|0,3,35648,p|0);h=k;k=0;if(h&1)o=1;else{k=0;Pe(6,s|0,824,96);k=0;o=0}a=Ze()|0;Gh(p);if(!o){p=a;d[m>>2]=36200;d[n>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(n);ut(p|0)}}else a=Ze()|0;Ye(s|0);p=a;d[m>>2]=36200;d[n>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(n);ut(p|0)}p=Ze()|0;d[m>>2]=36200;d[n>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(n);ut(p|0)}}while(0);m=a;pd(n);ut(m|0)}function Wi(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0;u=e+4|0;e=d[u>>2]|0;e:do{switch(d[e+16>>2]|0){case 3:{if((d[e+24>>2]|0)==2){if((r|0)>0)e=0;else break e;while(1){o=f[t+(e*3|0)+1>>0]|0;a=o&255;s=a+128+(p[t+(e*3|0)+2>>0]|0)&255;i=n+(e*3|0)|0;f[i>>0]=(p[t+(e*3|0)>>0]|0)+128+a;f[i+1>>0]=o;f[i+2>>0]=s;e=e+1|0;if((e|0)==(r|0))break e}}e=(r|0)<(i|0)?r:i;if((e|0)>0){a=i<<1;o=0;do{c=f[t+(o+i)>>0]|0;h=c&255;l=h+128+(p[t+(o+a)>>0]|0)&255;s=n+(o*3|0)|0;f[s>>0]=(p[t+o>>0]|0)+128+h;f[s+1>>0]=c;f[s+2>>0]=l;o=o+1|0}while((o|0)!=(e|0))}break}case 4:{if((d[e+24>>2]|0)==1?(s=(r|0)<(i|0)?r:i,(s|0)>0):0){e=i<<1;a=i*3|0;o=0;do{c=p[t+(o+i)>>0]|0;h=n+(o<<2)|0;c=(p[t+o>>0]|0)+128+c&255|c<<8|p[t+(o+a)>>0]<<24|c+128+(p[t+(o+e)>>0]|0)<<16&16711680;f[h>>0]=c;f[h+1>>0]=c>>8;f[h+2>>0]=c>>16;f[h+3>>0]=c>>24;o=o+1|0}while((o|0)!=(s|0))}break}default:{}}}while(0);e=d[u>>2]|0;if(!(f[e+32>>0]|0))return;o=d[e+16>>2]|0;if((r|0)>0){e=n;a=0}else return;while(1){h=e+2|0;c=f[e>>0]|0;f[e>>0]=f[h>>0]|0;f[h>>0]=c;a=a+1|0;if((a|0)==(r|0))break;else e=e+o|0}return}function Hi(e){e=e|0;var t=0,n=0;d[e>>2]=36712;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=d[e+8>>2]|0;if(!n)return;t=e+12|0;if((d[t>>2]|0)!=(n|0))d[t>>2]=n;Hw(n);return}function qi(e){e=e|0;var t=0,n=0;d[e>>2]=36712;t=d[e+20>>2]|0;if(t){n=e+24|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}t=d[e+8>>2]|0;if(!t){Hw(e);return}n=e+12|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t);Hw(e);return}function Qi(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0;i=e+36|0;if(!(d[i>>2]|0)){i=e+40|0;Zi(e,t,d[i>>2]|0,n,r);d[i>>2]=(d[i>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}a=fe(d[(d[e+4>>2]|0)+16>>2]|0,n)|0;o=e+20|0;Zi(e,t,d[o>>2]|0,n,r);e=d[i>>2]|0;if((w_[d[(d[e>>2]|0)+48>>2]&63](e,d[o>>2]|0,a)|0)==(a|0))return;i=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,i|0,3,35648);o=k;k=0;if(o&1){o=Ze()|0;Ye(i|0);ut(o|0)}else _t(i|0,824,96)}function Xi(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;i=d[e+36>>2]|0;if(!i){i=e+40|0;Yi(e,d[i>>2]|0,t,n,r);d[i>>2]=(d[i>>2]|0)+(d[(d[e+4>>2]|0)+12>>2]|0);return}else{Ki(e,i,t,n,r);return}}function Yi(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0;s=e+4|0;a=d[s>>2]|0;if(!(f[a+32>>0]|0))s=t;else{o=e+8|0;Ny(d[o>>2]|0,t|0,r*3|0)|0;a=d[s>>2]|0;t=d[a+16>>2]|0;if((r|0)>0){a=d[o>>2]|0;e=0;while(1){u=a+2|0;l=f[a>>0]|0;f[a>>0]=f[u>>0]|0;f[u>>0]=l;e=e+1|0;if((e|0)==(r|0))break;else a=a+t|0}a=d[s>>2]|0}s=d[o>>2]|0}switch(d[a+16>>2]|0){case 3:{if((d[a+24>>2]|0)==2){if((r|0)>0)a=0;else return;do{i=f[s+(a*3|0)+1>>0]|0;u=f[s+(a*3|0)+2>>0]|0;l=n+(a*3|0)|0;f[l>>0]=f[s+(a*3|0)>>0]|0;f[l+1>>0]=i;f[l+2>>0]=u;a=a+1|0}while((a|0)!=(r|0));return}a=(i|0)<(r|0)?i:r;if((a|0)<=0)return;e=i<<1;t=0;do{u=f[s+(t*3|0)+1>>0]|0;l=f[s+(t*3|0)+2>>0]|0;f[n+t>>0]=f[s+(t*3|0)>>0]|0;f[n+(t+i)>>0]=u;f[n+(t+e)>>0]=l;t=t+1|0}while((t|0)!=(a|0));return}case 4:{if((d[a+24>>2]|0)!=1)return;a=(i|0)<(r|0)?i:r;if((a|0)<=0)return;e=i<<1;t=i*3|0;o=0;do{r=f[s+(o<<2)+1>>0]|0;u=f[s+(o<<2)+2>>0]|0;l=f[s+(o<<2)+3>>0]|0;f[n+o>>0]=f[s+(o<<2)>>0]|0;f[n+(o+i)>>0]=r;f[n+(o+e)>>0]=u;f[n+(o+t)>>0]=l;o=o+1|0}while((o|0)!=(a|0));return}default:return}}function Ki(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;c=w;w=w+176|0;h=c+152|0;m=c+16|0;p=c;o=fe(d[(d[e+4>>2]|0)+16>>2]|0,r)|0;u=e+20|0;a=d[u>>2]|0;if(!o){m=a;Yi(e,m,n,r,i);w=c;return}while(1){s=w_[d[(d[t>>2]|0)+32>>2]&63](t,a,o)|0;if(!s)break;a=d[u>>2]|0;if((o|0)==(s|0)){l=26;break}else o=o-s|0}if((l|0)==26){Yi(e,a,n,r,i);w=c;return}n=m+56|0;u=m+4|0;d[m>>2]=36160;d[n>>2]=36180;k=0;we(62,m+56|0,u|0);c=k;k=0;if(c&1){m=Ze()|0;pd(n);ut(m|0)}d[m+128>>2]=0;d[m+132>>2]=-1;d[m>>2]=36200;d[m+56>>2]=36220;k=0;be(180,u|0);c=k;k=0;do{if(c&1)a=Ze()|0;else{d[u>>2]=36236;t=m+36|0;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;d[t+12>>2]=0;d[m+52>>2]=16;d[h>>2]=0;d[h+4>>2]=0;d[h+8>>2]=0;k=0;we(63,u|0,h|0);c=k;k=0;if(c&1){a=Ze()|0;Gh(h);Gh(t);Sd(u);break}Gh(h);k=0;a=Te(28,m|0,49029,57)|0;h=k;k=0;if(!(h&1)?(k=0,Oe(36,a|0,0)|0,h=k,k=0,!(h&1)):0){s=Ke(16)|0;k=0;we(64,p|0,u|0);h=k;k=0;if(!(h&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,s|0,3,35648,p|0);h=k;k=0;if(h&1)o=1;else{k=0;Pe(6,s|0,824,96);k=0;o=0}a=Ze()|0;Gh(p);if(!o){p=a;d[m>>2]=36200;d[n>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(n);ut(p|0)}}else a=Ze()|0;Ye(s|0);p=a;d[m>>2]=36200;d[n>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(n);ut(p|0)}p=Ze()|0;d[m>>2]=36200;d[n>>2]=36220;d[u>>2]=36236;Gh(t);Sd(u);pd(n);ut(p|0)}}while(0);m=a;pd(n);ut(m|0)}function Zi(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0;u=e+4|0;e=d[u>>2]|0;e:do{switch(d[e+16>>2]|0){case 3:{if((d[e+24>>2]|0)==2){if((r|0)>0)e=0;else break e;while(1){o=f[t+(e*3|0)+1>>0]|0;s=f[t+(e*3|0)+2>>0]|0;i=n+(e*3|0)|0;f[i>>0]=f[t+(e*3|0)>>0]|0;f[i+1>>0]=o;f[i+2>>0]=s;e=e+1|0;if((e|0)==(r|0))break e}}e=(r|0)<(i|0)?r:i;if((e|0)>0){a=i<<1;o=0;do{c=f[t+(o+i)>>0]|0;l=f[t+(o+a)>>0]|0;s=n+(o*3|0)|0;f[s>>0]=f[t+o>>0]|0;f[s+1>>0]=c;f[s+2>>0]=l;o=o+1|0}while((o|0)!=(e|0))}break}case 4:{if((d[e+24>>2]|0)==1?(s=(r|0)<(i|0)?r:i,(s|0)>0):0){e=i<<1;a=i*3|0;o=0;do{c=n+(o<<2)|0;l=p[t+(o+i)>>0]<<8|p[t+o>>0]|p[t+(o+e)>>0]<<16|p[t+(o+a)>>0]<<24;f[c>>0]=l;f[c+1>>0]=l>>8;f[c+2>>0]=l>>16;f[c+3>>0]=l>>24;o=o+1|0}while((o|0)!=(s|0))}break}default:{}}}while(0);e=d[u>>2]|0;if(!(f[e+32>>0]|0))return;o=d[e+16>>2]|0;if((r|0)>0){e=n;a=0}else return;while(1){c=e+2|0;l=f[e>>0]|0;f[e>>0]=f[c>>0]|0;f[c>>0]=l;a=a+1|0;if((a|0)==(r|0))break;else e=e+o|0}return}function Ji(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;y=w;w=w+32|0;S=y+12|0;v=y;p=e+180|0;m=(d[p>>2]|0)+4|0;if((d[e+32>>2]|0)==1)g=d[e+24>>2]|0;else g=1;t=fe(g<<1,m)|0;d[S>>2]=0;x=S+4|0;d[x>>2]=0;d[S+8>>2]=0;e:do{if(t){if(!(t>>>0>1431655765?(k=0,be(178,S|0),b=k,k=0,b&1):0))a=6;if((a|0)==6?(k=0,n=xe(67,t*3|0)|0,b=k,k=0,!(b&1)):0){d[x>>2]=n;d[S>>2]=n;d[S+8>>2]=n+(t*3|0);while(1){f[n>>0]=0;f[n+1>>0]=0;f[n+2>>0]=0;n=(d[x>>2]|0)+3|0;d[x>>2]=n;t=t+-1|0;if(!t)break e}}r=Ze()|0;t=d[S>>2]|0;if(!t)ut(r|0);n=d[x>>2]|0;if((n|0)!=(t|0))d[x>>2]=n+(~(((n+-3-t|0)>>>0)/3|0)*3|0);Hw(t);ut(r|0)}}while(0);d[v>>2]=0;b=v+4|0;d[b>>2]=0;d[v+8>>2]=0;do{if(!g)a=19;else{if(!(g>>>0>1073741823?(k=0,be(178,v|0),h=k,k=0,h&1):0))a=17;if((a|0)==17?(r=g<<2,k=0,i=xe(67,r|0)|0,h=k,k=0,!(h&1)):0){d[v>>2]=i;a=i+(g<<2)|0;d[v+8>>2]=a;Dy(i|0,0,r|0)|0;d[b>>2]=a;a=19;break}r=Ze()|0;t=d[v>>2]|0;n=t;if(t){i=d[b>>2]|0;if((i|0)!=(t|0))d[b>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}}while(0);if((a|0)==19){i=e+12|0;e:do{if((d[i>>2]|0)>0){a=e+4604|0;o=(fe(g,m)|0)+1|0;s=e+4608|0;u=e+92|0;l=(g|0)>0;c=e+4600|0;h=0;t:while(1){r=d[S>>2]|0;t=r+3|0;d[a>>2]=t;n=r+(o*3|0)|0;d[s>>2]=n;if(!(h&1))t=o;else{d[a>>2]=n;d[s>>2]=t;t=1}n=d[u>>2]|0;k=0;Be(d[(d[n>>2]|0)+12>>2]|0,n|0,r+(t*3|0)|0,d[p>>2]|0,m|0);r=k;k=0;if(r&1){a=29;break}if(l){t=d[v>>2]|0;n=d[a>>2]|0;r=0;do{d[c>>2]=d[t+(r<<2)>>2];_=d[p>>2]|0;t=n+(_*3|0)|0;n=n+((_+-1|0)*3|0)|0;f[t>>0]=f[n>>0]|0;f[t+1>>0]=f[n+1>>0]|0;f[t+2>>0]=f[n+2>>0]|0;t=d[a>>2]|0;n=(d[s>>2]|0)+-3|0;f[n>>0]=f[t>>0]|0;f[n+1>>0]=f[t+1>>0]|0;f[n+2>>0]=f[t+2>>0]|0;k=0;we(70,e|0,0);n=k;k=0;if(n&1){a=28;break t}t=d[v>>2]|0;d[t+(r<<2)>>2]=d[c>>2];n=(d[a>>2]|0)+(m*3|0)|0;d[a>>2]=n;d[s>>2]=(d[s>>2]|0)+(m*3|0);r=r+1|0}while((r|0)<(g|0))}h=h+1|0;if((h|0)>=(d[i>>2]|0)){a=41;break e}}if((a|0)==28){r=Ze()|0;break}else if((a|0)==29){r=Ze()|0;break}}else a=41}while(0);do{if((a|0)==41){k=0;be(182,e|0);_=k;k=0;if(_&1){r=Ze()|0;break}t=d[v>>2]|0;n=t;if(t){r=d[b>>2]|0;if((r|0)!=(t|0))d[b>>2]=r+(~((r+-4-n|0)>>>2)<<2);Hw(t)}t=d[S>>2]|0;if(!t){w=y;return}n=d[x>>2]|0;if((n|0)!=(t|0))d[x>>2]=n+(~(((n+-3-t|0)>>>0)/3|0)*3|0);Hw(t);w=y;return}}while(0);t=d[v>>2]|0;n=t;if(t){i=d[b>>2]|0;if((i|0)!=(t|0))d[b>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}t=d[S>>2]|0;if(!t)ut(r|0);n=d[x>>2]|0;if((n|0)!=(t|0))d[x>>2]=n+(~(((n+-3-t|0)>>>0)/3|0)*3|0);Hw(t);ut(r|0)}function $i(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,y=0,b=0,w=0,S=0,x=0,_=0,T=0,E=0,k=0,C=0,A=0,O=0;k=e+180|0;if((d[k>>2]|0)<=0)return;C=e+4608|0;A=e+4604|0;O=e+4612|0;E=0;while(1){x=E+-1|0;a=d[C>>2]|0;o=d[A>>2]|0;t=E+1|0;i=p[o+(E*3|0)>>0]|0;T=d[O>>2]|0;s=p[o+(x*3|0)>>0]|0;u=i-s|0;l=p[a+(x*3|0)>>0]|0;c=s-l|0;h=((((f[T+((p[o+(t*3|0)>>0]|0)-i)>>0]|0)*9|0)+(f[T+u>>0]|0)|0)*9|0)+(f[T+c>>0]|0)|0;r=p[o+(E*3|0)+1>>0]|0;m=p[o+(x*3|0)+1>>0]|0;g=r-m|0;v=p[a+(x*3|0)+1>>0]|0;y=m-v|0;b=((((f[T+((p[o+(t*3|0)+1>>0]|0)-r)>>0]|0)*9|0)+(f[T+g>>0]|0)|0)*9|0)+(f[T+y>>0]|0)|0;n=p[o+(E*3|0)+2>>0]|0;w=p[o+(x*3|0)+2>>0]|0;S=n-w|0;x=p[a+(x*3|0)+2>>0]|0;_=w-x|0;T=((((f[T+((p[o+(t*3|0)+2>>0]|0)-n)>>0]|0)*9|0)+(f[T+S>>0]|0)|0)*9|0)+(f[T+_>>0]|0)|0;if(!(b|h|T))t=(ea(e,E,0)|0)+E|0;else{o=p[a+(E*3|0)>>0]|0;a=i-l>>31;if((a^c|0)>=0)if((a^u|0)<0)i=l;else i=l-s+i|0;o=ta(e,h,o,i,0)|0;a=p[(d[C>>2]|0)+(E*3|0)+1>>0]|0;i=r-v>>31;if((i^y|0)>=0)if((i^g|0)<0)r=v;else r=v-m+r|0;i=ta(e,b,a,r,0)|0;a=p[(d[C>>2]|0)+(E*3|0)+2>>0]|0;r=n-x>>31;if((r^_|0)>=0)if((r^S|0)<0)n=x;else n=x-w+n|0;T=ta(e,T,a,n,0)|0;E=(d[C>>2]|0)+(E*3|0)|0;f[E>>0]=o;f[E+1>>0]=i;f[E+2>>0]=T}if((t|0)<(d[k>>2]|0))E=t;else break}return}function ea(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,k=0,C=0,A=0;C=w;w=w+32|0;k=C+15|0;m=C+12|0;h=C+9|0;g=C+6|0;x=C+3|0;_=C;T=(d[e+180>>2]|0)-t|0;E=d[e+4608>>2]|0;v=d[e+4604>>2]|0;S=E+((t+-1|0)*3|0)|0;y=f[S>>0]|0;b=f[S+1>>0]|0;S=f[S+2>>0]|0;n=y&255;r=e+144|0;i=b&255;a=S&255;c=0;while(1){o=E+((c+t|0)*3|0)|0;s=o+1|0;u=o+2|0;A=(p[o>>0]|0)-n|0;l=d[r>>2]|0;if((((A|0)>-1?A:0-A|0)|0)>(l|0))break;A=(p[s>>0]|0)-i|0;if((((A|0)>-1?A:0-A|0)|0)>(l|0))break;A=(p[u>>0]|0)-a|0;if((((A|0)>-1?A:0-A|0)|0)>(l|0))break;f[o>>0]=y;f[s>>0]=b;f[u>>0]=S;c=c+1|0;if((c|0)==(T|0)){c=T;break}}i=(c|0)==(T|0);a=e+4600|0;r=d[36476+(d[a>>2]<<2)>>2]|0;if((1<<r|0)>(c|0))n=c;else{n=c;do{Hr(e,1,1);r=d[a>>2]|0;n=n-(1<<d[36476+(r<<2)>>2])|0;r=(r|0)>30?31:r+1|0;d[a>>2]=r;r=d[36476+(r<<2)>>2]|0}while((n|0)>=(1<<r|0))}if(!i){Hr(e,n,r+1|0);t=c+t|0;A=E+(t*3|0)|0;f[x>>0]=f[A>>0]|0;f[x+1>>0]=f[A+1>>0]|0;f[x+2>>0]=f[A+2>>0]|0;f[_>>0]=y;f[_+1>>0]=b;f[_+2>>0]=S;t=v+(t*3|0)|0;f[h>>0]=f[x>>0]|0;f[h+1>>0]=f[x+1>>0]|0;f[h+2>>0]=f[x+2>>0]|0;f[m>>0]=f[_>>0]|0;f[m+1>>0]=f[_+1>>0]|0;f[m+2>>0]=f[_+2>>0]|0;f[k>>0]=f[t>>0]|0;f[k+1>>0]=f[t+1>>0]|0;f[k+2>>0]=f[t+2>>0]|0;ra(g,e,h,m,k);f[A>>0]=f[g>>0]|0;f[A+1>>0]=f[g+1>>0]|0;f[A+2>>0]=f[g+2>>0]|0;A=d[a>>2]|0;d[a>>2]=(A|0)<1?0:A+-1|0;A=c+1|0;w=C;return A|0}if(!n){A=T;w=C;return A|0}Hr(e,1,1);A=T;w=C;return A|0}function ta(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,m=0,g=0,v=0;v=t>>31;a=(v^t)-v|0;m=e+196+(a*12|0)+10|0;o=h[m>>1]|0;p=e+196+(a*12|0)|0;i=d[p>>2]|0;if((o|0)<(i|0)){if((o<<1|0)<(i|0)){if((o<<2|0)<(i|0)){if((o<<3|0)<(i|0)){if((o<<4|0)<(i|0)){t=5;while(1){if((o<<t|0)<(i|0))t=t+1|0;else break}}else t=4}else t=3}else t=2}else t=1}else t=0;c=e+196+(a*12|0)+8|0;i=(h[c>>1]^v)-v+r|0;g=e+136|0;r=d[g>>2]|0;if((i&r|0)==(i|0))l=i;else l=r&~(i>>31);i=(n-l^v)-v|0;u=e+144|0;r=d[u>>2]|0;if((i|0)>0)i=(i+r|0)/(r<<1|1|0)|0;else i=(i-r|0)/(r<<1|1|0)|0;f=e+140|0;s=d[f>>2]|0;n=((i|0)<0?s:0)+i|0;s=n-((n|0)<((s+1|0)/2|0|0)?0:s)|0;a=e+196+(a*12|0)+4|0;if(!(r|t))i=(d[a>>2]<<1)+-1+o>>31;else i=0;r=i^s;na(e,t,r>>30^r<<1,d[e+156>>2]|0);r=d[e+160>>2]|0;t=(d[p>>2]|0)+((s|0)>-1?s:0-s|0)|0;i=(d[a>>2]|0)+(fe(d[u>>2]<<1|1,s)|0)|0;n=h[m>>1]|0;if((n|0)==(r|0)){t=t>>1;i=i>>1;n=r>>1}d[p>>2]=t;r=n+1|0;h[m>>1]=r;t=r+i|0;if((t|0)>=1){if((i|0)>0){i=i-r|0;m=h[c>>1]|0;h[c>>1]=(m<<16>>16<127&1)+(m&65535);i=(i|0)>0?0:i}}else{i=h[c>>1]|0;h[c>>1]=(i&65535)-(i<<16>>16>-128&1);i=(t|0)>(~n|0)?t:0-n|0}d[a>>2]=i;r=d[u>>2]|0;n=r<<1|1;t=(fe(n,(s^v)-v|0)|0)+l|0;if((t|0)>=(0-r|0)){i=d[g>>2]|0;if((i+r|0)<(t|0))t=t-(fe(d[f>>2]|0,n)|0)|0}else{t=(fe(d[f>>2]|0,n)|0)+t|0;i=d[g>>2]|0}if((t&i|0)==(t|0)){v=t;v=v&255;return v|0}v=i&~(t>>31);v=v&255;return v|0}function na(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0;i=n>>t;a=e+148|0;o=r-(d[a>>2]|0)|0;if((i|0)<(o+-1|0)){if((i|0)>30){r=(i|0)/2|0;Hr(e,0,r);i=i-r|0}Hr(e,1,i+1|0);Hr(e,(1<<t)+-1&n,t);return}if((o|0)>31){Hr(e,0,31);Hr(e,1,r+-31-(d[a>>2]|0)|0)}else Hr(e,1,o);t=d[a>>2]|0;Hr(e,(1<<t)+-1&n+-1,t);return}function ra(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,y=0,b=0,w=0,S=0,x=0;v=t+136|0;h=p[i>>0]|0;m=h-(p[r>>0]|0)>>31|1;a=fe(m,(p[n>>0]|0)-h|0)|0;l=t+144|0;o=d[l>>2]|0;if((a|0)>0)a=(a+o|0)/(o<<1|1|0)|0;else a=(a-o|0)/(o<<1|1|0)|0;x=t+140|0;u=d[x>>2]|0;s=((a|0)<0?u:0)+a|0;u=s-((s|0)<((u+1|0)/2|0|0)?0:u)|0;s=t+4576|0;ia(t,s,u);b=p[i+1>>0]|0;w=b-(p[r+1>>0]|0)>>31|1;a=fe(w,(p[n+1>>0]|0)-b|0)|0;o=d[l>>2]|0;if((a|0)>0)a=(a+o|0)/(o<<1|1|0)|0;else a=(a-o|0)/(o<<1|1|0)|0;g=d[x>>2]|0;S=((a|0)<0?g:0)+a|0;g=S-((S|0)<((g+1|0)/2|0|0)?0:g)|0;ia(t,s,g);S=p[i+2>>0]|0;y=S-(p[r+2>>0]|0)>>31|1;a=fe(y,(p[n+2>>0]|0)-S|0)|0;o=d[l>>2]|0;if((a|0)>0)a=(a+o|0)/(o<<1|1|0)|0;else a=(a-o|0)/(o<<1|1|0)|0;c=d[x>>2]|0;a=((a|0)<0?c:0)+a|0;c=a-((a|0)<((c+1|0)/2|0|0)?0:c)|0;ia(t,s,c);s=d[l>>2]|0;l=s<<1|1;a=(fe(fe(l,u)|0,m)|0)+h|0;n=0-s|0;if((a|0)>=(n|0)){o=d[v>>2]|0;if((o+s|0)<(a|0)){a=a-(fe(d[x>>2]|0,l)|0)|0;r=o}else r=o}else{a=(fe(d[x>>2]|0,l)|0)+a|0;r=d[v>>2]|0}if((a&r|0)!=(a|0))a=r&~(a>>31);i=a&255;a=(fe(fe(l,g)|0,w)|0)+b|0;if((a|0)>=(n|0)){if((r+s|0)<(a|0))a=a-(fe(d[x>>2]|0,l)|0)|0}else a=(fe(d[x>>2]|0,l)|0)+a|0;if((a&r|0)!=(a|0))a=r&~(a>>31);o=a&255;a=(fe(fe(l,c)|0,y)|0)+S|0;if((a|0)>=(n|0)){if((r+s|0)<(a|0))a=a-(fe(d[x>>2]|0,l)|0)|0}else a=(fe(d[x>>2]|0,l)|0)+a|0;if((a&r|0)==(a|0)){x=a;x=x&255;f[e>>0]=i;S=e+1|0;f[S>>0]=o;e=e+2|0;f[e>>0]=x;return}x=r&~(a>>31);x=x&255;f[e>>0]=i;S=e+1|0;f[S>>0]=o;e=e+2|0;f[e>>0]=x;return}function ia(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=t+9|0;o=p[c>>0]|0;l=t+4|0;u=d[l>>2]|0;i=(fe(o>>>1,u)|0)+(d[t>>2]|0)|0;if((o|0)<(i|0)){a=o;r=0;do{a=a<<1;r=r+1|0}while((a|0)<(i|0));i=r}else i=0;if((n|0)>0&(i|0)==0?p[t+10>>0]<<1>>>0<o>>>0:0)r=1;else s=5;do{if((s|0)==5){r=(n|0)<0;if(r?p[t+10>>0]<<1>>>0>=o>>>0:0){r=1;break}r=r&(i|0)!=0}}while(0);r=(((n|0)>-1?n:0-n|0)<<1)-u+(r<<31>>31)|0;na(e,i,r,(d[e+156>>2]|0)+-1-(d[36476+(d[e+4600>>2]<<2)>>2]|0)|0);if((n|0)<0){e=t+10|0;f[e>>0]=(p[e>>0]|0)+1}r=(r+1-(d[l>>2]|0)>>1)+(d[t>>2]|0)|0;d[t>>2]=r;i=f[c>>0]|0;if(i<<24>>24!=(f[t+8>>0]|0)){t=i;t=t&255;t=t+1|0;t=t&255;f[c>>0]=t;return}d[t>>2]=r>>1;e=(i&255)>>>1;f[c>>0]=e;t=t+10|0;f[t>>0]=(p[t>>0]|0)>>>1;t=e;t=t&255;t=t+1|0;t=t&255;f[c>>0]=t;return}function aa(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0;p=w;w=w+32|0;r=p;h=e+144|0;e:do{if(!(d[h>>2]|0)){n=d[e+136>>2]|0;t=e+152|0;if((((n|0)==((1<<d[t>>2])+-1|0)?(bw(r,n,0),(d[r+4>>2]|0)==(d[e+184>>2]|0)):0)?(d[r+8>>2]|0)==(d[e+188>>2]|0):0)?(d[r+12>>2]|0)==(d[e+192>>2]|0):0)switch(d[t>>2]|0){case 8:{h=d[8900]|0;d[e+4612>>2]=h+(((d[8901]|0)-h|0)>>>1);w=p;return}case 10:{h=d[8903]|0;d[e+4612>>2]=h+(((d[8904]|0)-h|0)>>>1);w=p;return}case 12:{h=d[8906]|0;d[e+4612>>2]=h+(((d[8907]|0)-h|0)>>>1);w=p;return}case 16:{h=d[8909]|0;d[e+4612>>2]=h+(((d[8910]|0)-h|0)>>>1);w=p;return}default:break e}}else t=e+152|0}while(0);c=1<<d[t>>2];n=e+4616|0;r=c<<1;i=e+4620|0;a=d[i>>2]|0;t=d[n>>2]|0;o=a-t|0;if(r>>>0<=o>>>0){if(r>>>0<o>>>0?(s=t+r|0,(a|0)!=(s|0)):0)d[i>>2]=s}else{$r(n,r-o|0);t=d[n>>2]|0}l=e+4612|0;d[l>>2]=t+c;t=0-c|0;if((c|0)<=(t|0)){w=p;return}s=e+192|0;u=e+188|0;o=e+184|0;a=t;do{t=d[s>>2]|0;if((a|0)>(0-t|0)){n=d[u>>2]|0;if((a|0)>(0-n|0)){r=d[o>>2]|0;if((a|0)>(0-r|0)){i=d[h>>2]|0;if((a|0)>=(0-i|0)){if((i|0)<(a|0)){if((r|0)<=(a|0)){if((n|0)>(a|0))t=2;else t=(t|0)>(a|0)?3:4}else t=1}else t=0}else t=-1}else t=-2}else t=-3}else t=-4;f[(d[l>>2]|0)+a>>0]=t;a=a+1|0}while((a|0)!=(c|0));w=p;return}function oa(e){e=e|0;var t=0,n=0;d[e>>2]=35996;t=d[e+4592>>2]|0;if(t){n=e+4596|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);e=e+4|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function sa(e){e=e|0;var t=0,n=0;d[e>>2]=35996;t=d[e+4592>>2]|0;if(t){n=e+4596|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);n=e+4|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function ua(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0;i=w;w=w+32|0;s=i;bw(s,65535,0);o=d[t+4>>2]|0;a=d[t+8>>2]|0;a=(a|0)==0?d[s+8>>2]|0:a;r=d[t+12>>2]|0;r=(r|0)==0?d[s+12>>2]|0:r;t=d[t+16>>2]|0;n=d[s+16>>2]|0;d[e+160>>2]=(o|0)==0?d[s+4>>2]|0:o;d[e+164>>2]=a;d[e+168>>2]=r;va(e);r=0;do{d[e+172+(r*12|0)>>2]=1024;d[e+172+(r*12|0)+4>>2]=0;h[e+172+(r*12|0)+8>>1]=0;h[e+172+(r*12|0)+10>>1]=1;r=r+1|0}while((r|0)!=365);s=((t|0)==0?n:t)&255;d[e+4552>>2]=1024;d[e+4556>>2]=0;f[e+4560>>0]=s;f[e+4561>>0]=1;f[e+4562>>0]=0;d[e+4564>>2]=1024;d[e+4568>>2]=1;f[e+4572>>0]=s;f[e+4573>>0]=1;f[e+4574>>0]=0;d[e+4576>>2]=0;w=i;return}function la(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=w;w=w+16|0;u=c;s=e+92|0;o=d[t>>2]|0;d[t>>2]=0;t=d[s>>2]|0;d[s>>2]=o;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);d[u>>2]=0;d[u+4>>2]=r;s=n+8|0;d[u+8>>2]=d[s>>2];if(r){t=Ww(4600)|0;r=e+8|0;i=t+4|0;a=r;o=i+84|0;do{d[i>>2]=d[a>>2];i=i+4|0;a=a+4|0}while((i|0)<(o|0));i=t+88|0;o=i+40|0;do{d[i>>2]=0;i=i+4|0}while((i|0)<(o|0));d[t>>2]=35772;i=t+132|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;d[i+12>>2]=0;d[t+148>>2]=d[r>>2];d[t+152>>2]=0;d[t+156>>2]=0;d[t+160>>2]=0;i=t+4544|0;r=t+164|0;do{d[r>>2]=0;d[r+4>>2]=0;h[r+8>>1]=0;h[r+10>>1]=1;r=r+12|0}while((r|0)!=(i|0));a=e+4|0;d[i>>2]=0;d[i+4>>2]=0;h[i+8>>1]=0;f[i+10>>0]=0;o=t+4556|0;d[o>>2]=0;d[o+4>>2]=0;h[o+8>>1]=0;f[o+10>>0]=0;o=t+4568|0;d[o>>2]=0;d[o+4>>2]=0;d[o+8>>2]=0;d[o+12>>2]=0;d[o+16>>2]=0;d[o+20>>2]=0;d[o+24>>2]=0;f[o+28>>0]=0;if(!(d[t+28>>2]|0))d[t+20>>2]=1;r=d[a>>2]|0;d[a>>2]=t;if(r){m_[d[(d[r>>2]|0)+4>>2]&255](r);t=d[a>>2]|0}zr(t,u)}u=e+100|0;d[u>>2]=32;d[e+96>>2]=0;t=d[n>>2]|0;if(!t){d[e+108>>2]=d[n+4>>2];d[e+104>>2]=d[s>>2];fa(e);l=e+116|0;l=d[l>>2]|0;e=d[u>>2]|0;e=e+-32|0;e=(e|0)/8|0;e=l-e|0;w=c;return e|0}d[e+132>>2]=t;i=e+120|0;s=e+124|0;r=d[s>>2]|0;t=d[i>>2]|0;a=t;o=r-a|0;if(o>>>0>=4e3){if(o>>>0>4e3?(l=t+4e3|0,(r|0)!=(l|0)):0){d[s>>2]=l;r=l}}else{Ur(i,4e3-o|0);t=d[i>>2]|0;a=t;r=d[s>>2]|0}d[e+108>>2]=a;d[e+104>>2]=r-t;fa(e);l=e+116|0;l=d[l>>2]|0;e=d[u>>2]|0;e=e+-32|0;e=(e|0)/8|0;e=l-e|0;w=c;return e|0}function ca(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+352|0;S=b+328|0;x=b+192|0;n=b+343|0;r=b+342|0;i=b+341|0;a=b+340|0;p=b+176|0;s=b+168|0;u=b+160|0;l=b+152|0;y=b;g=b+136|0;if((d[e+32>>2]|0)!=0?(d[e+24>>2]|0)!=1:0){m=e+8|0;v=e+36|0;o=d[v>>2]|0;if(!o){e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[n>>0]|0;Be(37,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}e=d[e+16>>2]|0;if((e|0)==16)switch(o|0){case 1:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[r>>0]|0;Be(38,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[i>>0]|0;Be(39,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[a>>0]|0;Be(40,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=x+56|0;i=x+4|0;d[x>>2]=36160;d[o>>2]=36180;k=0;we(62,x+56|0,i|0);b=k;k=0;if(b&1){_=Ze()|0;pd(o);ut(_|0)}d[x+128>>2]=0;d[x+132>>2]=-1;d[x>>2]=36200;d[x+56>>2]=36220;k=0;be(180,i|0);b=k;k=0;do{if(b&1)e=Ze()|0;else{d[i>>2]=36236;a=x+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[x+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);b=k;k=0;if(b&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,x|0,49007,21)|0;S=k;k=0;do{if((!(S&1)?(k=0,c=Oe(36,e|0,d[v>>2]|0)|0,S=k,k=0,!(S&1)):0)?(k=0,Te(28,c|0,50997,18)|0,S=k,k=0,!(S&1)):0){r=Ke(16)|0;k=0;we(64,p|0,i|0);S=k;k=0;if(!(S&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,p|0);S=k;k=0;if(S&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(p);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=34}while(0);if((_|0)==34)e=Ze()|0;d[x>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}if((e|0)<=8){e=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,e|0,8,35648);_=k;k=0;if(!(_&1))_t(e|0,824,96);_=Ze()|0;Ye(e|0);ut(_|0)}n=16-e|0;switch(o|0){case 1:{e=Ww(60)|0;d[s>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[s>>2];d[S+4>>2]=d[s+4>>2];Be(41,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(60)|0;d[u>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[u>>2];d[S+4>>2]=d[u+4>>2];Be(42,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(60)|0;d[l>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[l>>2];d[S+4>>2]=d[l+4>>2];Be(43,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=y+56|0;i=y+4|0;d[y>>2]=36160;d[o>>2]=36180;k=0;we(62,y+56|0,i|0);x=k;k=0;if(x&1){_=Ze()|0;pd(o);ut(_|0)}d[y+128>>2]=0;d[y+132>>2]=-1;d[y>>2]=36200;d[y+56>>2]=36220;k=0;be(180,i|0);x=k;k=0;do{if(x&1)e=Ze()|0;else{d[i>>2]=36236;a=y+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[y+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);x=k;k=0;if(x&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,y|0,49007,21)|0;x=k;k=0;do{if((!(x&1)?(k=0,h=Oe(36,e|0,d[v>>2]|0)|0,x=k,k=0,!(x&1)):0)?(k=0,Te(28,h|0,50997,18)|0,x=k,k=0,!(x&1)):0){r=Ke(16)|0;k=0;we(64,g|0,i|0);x=k;k=0;if(!(x&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,g|0);x=k;k=0;if(x&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(g);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=64}while(0);if((_|0)==64)e=Ze()|0;d[y>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}}n=d[t+4>>2]|0;r=Ww(16)|0;e=d[e+20>>2]|0;if(!n){_=d[t>>2]|0;d[r>>2]=36132;d[r+4>>2]=_;d[r+8>>2]=2;d[r+12>>2]=e;_=r;w=b;return _|0}else{d[r>>2]=36108;d[r+4>>2]=n;d[r+8>>2]=2;d[r+12>>2]=e;_=r;w=b;return _|0}return 0}function fa(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+32|0;x=b+12|0;y=b;m=e+156|0;g=(d[m>>2]|0)+4|0;if((d[e+32>>2]|0)==1)v=d[e+24>>2]|0;else v=1;t=fe(v<<1,g)|0;d[x>>2]=0;_=x+4|0;d[_>>2]=0;d[x+8>>2]=0;do{if(t){if(!((t|0)<0?(k=0,be(178,x|0),S=k,k=0,S&1):0))o=6;if((o|0)==6?(n=t<<1,k=0,r=xe(67,n|0)|0,S=k,k=0,!(S&1)):0){d[x>>2]=r;S=r+(t<<1)|0;d[x+8>>2]=S;Dy(r|0,0,n|0)|0;d[_>>2]=S;break}r=Ze()|0;t=d[x>>2]|0;if(!t)ut(r|0);n=d[_>>2]|0;if((n|0)!=(t|0))d[_>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);ut(r|0)}}while(0);d[y>>2]=0;S=y+4|0;d[S>>2]=0;d[y+8>>2]=0;do{if(!v)o=18;else{if(!(v>>>0>1073741823?(k=0,be(178,y|0),p=k,k=0,p&1):0))o=16;if((o|0)==16?(i=v<<2,k=0,a=xe(67,i|0)|0,p=k,k=0,!(p&1)):0){d[y>>2]=a;o=a+(v<<2)|0;d[y+8>>2]=o;Dy(a|0,0,i|0)|0;d[S>>2]=o;o=18;break}r=Ze()|0;t=d[y>>2]|0;n=t;if(t){i=d[S>>2]|0;if((i|0)!=(t|0))d[S>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}}while(0);if((o|0)==18){a=e+12|0;e:do{if((d[a>>2]|0)>0){o=e+4580|0;s=(fe(v,g)|0)+1|0;u=e+4584|0;l=e+92|0;c=(v|0)>0;f=e+4576|0;p=0;t:while(1){n=d[x>>2]|0;t=n+2|0;d[o>>2]=t;n=n+(s<<1)|0;d[u>>2]=n;if(!(p&1))t=n;else{d[o>>2]=n;d[u>>2]=t}i=d[l>>2]|0;k=0;Be(d[(d[i>>2]|0)+12>>2]|0,i|0,t|0,d[m>>2]|0,g|0);i=k;k=0;if(i&1){o=28;break}if(c){t=d[o>>2]|0;n=d[u>>2]|0;r=d[y>>2]|0;i=0;do{d[f>>2]=d[r+(i<<2)>>2];r=d[m>>2]|0;h[t+(r<<1)>>1]=h[t+(r+-1<<1)>>1]|0;h[n+-2>>1]=h[t>>1]|0;k=0;we(71,e|0,0);r=k;k=0;if(r&1){o=27;break t}r=d[y>>2]|0;d[r+(i<<2)>>2]=d[f>>2];t=(d[o>>2]|0)+(g<<1)|0;d[o>>2]=t;n=(d[u>>2]|0)+(g<<1)|0;d[u>>2]=n;i=i+1|0}while((i|0)<(v|0))}p=p+1|0;if((p|0)>=(d[a>>2]|0)){o=40;break e}}if((o|0)==27){r=Ze()|0;break}else if((o|0)==28){r=Ze()|0;break}}else o=40}while(0);do{if((o|0)==40){k=0;be(182,e|0);e=k;k=0;if(e&1){r=Ze()|0;break}t=d[y>>2]|0;n=t;if(t){r=d[S>>2]|0;if((r|0)!=(t|0))d[S>>2]=r+(~((r+-4-n|0)>>>2)<<2);Hw(t)}t=d[x>>2]|0;if(!t){w=b;return}n=d[_>>2]|0;if((n|0)!=(t|0))d[_>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);w=b;return}}while(0);t=d[y>>2]|0;n=t;if(t){i=d[S>>2]|0;if((i|0)!=(t|0))d[S>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}t=d[x>>2]|0;if(!t)ut(r|0);n=d[_>>2]|0;if((n|0)!=(t|0))d[_>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);ut(r|0)}function ha(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,p=0,g=0,v=0,y=0;p=e+4580|0;t=d[p>>2]|0;y=e+156|0;if((d[y>>2]|0)<=0)return;g=e+4584|0;v=e+4588|0;i=t;a=m[t+-2>>1]|0;t=m[t>>1]|0;c=0;while(1){l=d[g>>2]|0;u=m[l+(c+-1<<1)>>1]|0;r=c+1|0;n=m[i+(r<<1)>>1]|0;s=d[v>>2]|0;o=t-a|0;i=a-u|0;s=((((f[s+(n-t)>>0]|0)*9|0)+(f[s+o>>0]|0)|0)*9|0)+(f[s+i>>0]|0)|0;if(!s){r=(pa(e,c,0)|0)+c|0;n=d[p>>2]|0;t=m[n+(r+-1<<1)>>1]|0;n=m[n+(r<<1)>>1]|0}else{a=t-u>>31;if((a^i|0)<0)i=t;else i=u+((a^o|0)<0?0:o)|0;l=da(e,s,m[l+(c<<1)>>1]|0,i,0)|0;h[(d[g>>2]|0)+(c<<1)>>1]=l}if((r|0)>=(d[y>>2]|0))break;i=d[p>>2]|0;a=t;t=n;c=r}return}function da(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,m=0,g=0;g=t>>31;u=(g^t)-g|0;m=e+172+(u*12|0)+10|0;o=h[m>>1]|0;p=e+172+(u*12|0)|0;i=d[p>>2]|0;if((o|0)<(i|0)){if((o<<1|0)<(i|0)){if((o<<2|0)<(i|0)){if((o<<3|0)<(i|0)){if((o<<4|0)<(i|0)){a=5;while(1){if((o<<a|0)<(i|0))a=a+1|0;else break}}else a=4}else a=3}else a=2}else a=1}else a=0;f=e+172+(u*12|0)+8|0;i=(h[f>>1]^g)-g+r|0;if((i&65535|0)==(i|0))c=i;else c=i>>31&65535^65535;s=(n-c^g)-g<<16;l=s>>16;if(!a)i=(d[e+172+(u*12|0)+4>>2]<<1)+-1+o>>31;else i=0;r=i^l;r=r>>30^r<<1;i=r>>a;if((i|0)<47){if((i|0)>30){o=(i|0)/2|0;Hr(e,0,o);i=i-o|0}Hr(e,1,i+1|0);Hr(e,r&(1<<a)+-1,a)}else{Hr(e,0,31);Hr(e,1,17);Hr(e,r+65535&65535,16)}r=e+172+(u*12|0)+4|0;o=h[m>>1]|0;i=o<<16>>16==64;a=i&1;n=(d[r>>2]|0)+l>>a;o=i?32:o<<16>>16;d[p>>2]=(d[p>>2]|0)+((s|0)>-65536?l:0-l|0)>>a;a=o+1|0;h[m>>1]=a;i=a+n|0;if((i|0)<1){m=h[f>>1]|0;h[f>>1]=(m&65535)-(m<<16>>16>-128&1);m=(i|0)>(~o|0)?i:0-o|0;d[r>>2]=m;g=l^g;t=t>>>31;t=c+t|0;t=t+g|0;t=t&65535;return t|0}if((n|0)<=0){m=n;d[r>>2]=m;g=l^g;t=t>>>31;t=c+t|0;t=t+g|0;t=t&65535;return t|0}m=n-a|0;p=h[f>>1]|0;h[f>>1]=(p<<16>>16<127&1)+(p&65535);m=(m|0)>0?0:m;d[r>>2]=m;g=l^g;t=t>>>31;t=c+t|0;t=t+g|0;t=t&65535;return t|0}function pa(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;o=(d[e+156>>2]|0)-t|0;s=d[e+4584>>2]|0;l=d[e+4580>>2]|0;i=h[s+(t+-1<<1)>>1]|0;r=0;while(1){n=s+(r+t<<1)|0;if((h[n>>1]|0)!=i<<16>>16){c=r;break}h[n>>1]=i;r=r+1|0;if((r|0)==(o|0)){c=o;break}}a=i&65535;i=(c|0)==(o|0);u=e+4576|0;r=d[36476+(d[u>>2]<<2)>>2]|0;if((1<<r|0)>(c|0))n=c;else{n=c;do{Hr(e,1,1);r=d[u>>2]|0;n=n-(1<<d[36476+(r<<2)>>2])|0;r=(r|0)>30?31:r+1|0;d[u>>2]=r;r=d[36476+(r<<2)>>2]|0}while((n|0)>=(1<<r|0))}if(i){if(!n){e=o;return e|0}Hr(e,1,1);e=o;return e|0}Hr(e,n,r+1|0);n=c+t|0;i=s+(n<<1)|0;r=m[i>>1]|0;n=m[l+(n<<1)>>1]|0;l=a-n|0;if((((l|0)>-1?l:0-l|0)|0)<1){n=r-a<<16>>16;ma(e,e+4564|0,n);n=n+a|0}else{l=n-a>>31|1;t=(fe(r-n<<16,l)|0)>>16;ma(e,e+4552|0,t);n=(fe(t,l)|0)+n|0}h[i>>1]=n;e=d[u>>2]|0;d[u>>2]=(e|0)<1?0:e+-1|0;e=c+1|0;return e|0}function ma(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=t+9|0;o=p[c>>0]|0;l=t+4|0;u=d[l>>2]|0;i=(fe(o>>>1,u)|0)+(d[t>>2]|0)|0;if((o|0)<(i|0)){a=o;r=0;do{a=a<<1;r=r+1|0}while((a|0)<(i|0));i=r}else i=0;if((n|0)>0&(i|0)==0?p[t+10>>0]<<1>>>0<o>>>0:0)r=1;else s=5;do{if((s|0)==5){r=(n|0)<0;if(r?p[t+10>>0]<<1>>>0>=o>>>0:0){r=1;break}r=r&(i|0)!=0}}while(0);r=(((n|0)>-1?n:0-n|0)<<1)-u+(r<<31>>31)|0;ga(e,i,r,63-(d[36476+(d[e+4576>>2]<<2)>>2]|0)|0);if((n|0)<0){e=t+10|0;f[e>>0]=(p[e>>0]|0)+1}r=(r+1-(d[l>>2]|0)>>1)+(d[t>>2]|0)|0;d[t>>2]=r;i=f[c>>0]|0;if(i<<24>>24!=(f[t+8>>0]|0)){t=i;t=t&255;t=t+1|0;t=t&255;f[c>>0]=t;return}d[t>>2]=r>>1;e=(i&255)>>>1;f[c>>0]=e;t=t+10|0;f[t>>0]=(p[t>>0]|0)>>>1;t=e;t=t&255;t=t+1|0;t=t&255;f[c>>0]=t;return}function ga(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;i=n>>t;a=r+-16|0;if((i|0)<(r+-17|0)){if((i|0)>30){r=(i|0)/2|0;Hr(e,0,r);i=i-r|0}Hr(e,1,i+1|0);Hr(e,(1<<t)+-1&n,t);return}if((a|0)>31){Hr(e,0,31);Hr(e,1,r+-47|0)}else Hr(e,1,a);Hr(e,n+65535&65535,16);return}function va(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0;l=w;w=w+32|0;s=l;bw(s,65535,0);u=e+160|0;if(((d[s+4>>2]|0)==(d[u>>2]|0)?(d[s+8>>2]|0)==(d[e+164>>2]|0):0)?(d[s+12>>2]|0)==(d[e+168>>2]|0):0){u=d[8909]|0;d[e+4588>>2]=u+(((d[8910]|0)-u|0)>>>1);w=l;return}n=e+4592|0;r=e+4596|0;i=d[r>>2]|0;t=d[n>>2]|0;a=i-t|0;if(a>>>0>=131072){if(a>>>0>131072?(o=t+131072|0,(i|0)!=(o|0)):0)d[r>>2]=o}else{$r(n,131072-a|0);t=d[n>>2]|0}s=e+4588|0;d[s>>2]=t+65536;o=e+168|0;i=e+164|0;a=-65536;while(1){t=d[o>>2]|0;if((a|0)>(0-t|0)){n=d[i>>2]|0;if((a|0)>(0-n|0)){r=d[u>>2]|0;if((a|0)>(0-r|0)){if((a|0)>=0){if((a|0)<1){f[(d[s>>2]|0)+a>>0]=0;a=1;continue}if((r|0)<=(a|0)){if((n|0)>(a|0))t=2;else t=(t|0)>(a|0)?3:4}else t=1}else t=-1}else t=-2}else t=-3}else t=-4;f[(d[s>>2]|0)+a>>0]=t;a=a+1|0;if((a|0)==65536)break}w=l;return}function ya(e){e=e|0;var t=0,n=0;d[e>>2]=35968;t=d[e+4592>>2]|0;if(t){n=e+4596|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);e=e+4|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function ba(e){e=e|0;var t=0,n=0;d[e>>2]=35968;t=d[e+4592>>2]|0;if(t){n=e+4596|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);n=e+4|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function wa(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0;i=w;w=w+32|0;s=i;bw(s,4095,0);o=d[t+4>>2]|0;a=d[t+8>>2]|0;a=(a|0)==0?d[s+8>>2]|0:a;r=d[t+12>>2]|0;r=(r|0)==0?d[s+12>>2]|0:r;t=d[t+16>>2]|0;n=d[s+16>>2]|0;d[e+160>>2]=(o|0)==0?d[s+4>>2]|0:o;d[e+164>>2]=a;d[e+168>>2]=r;Oa(e);r=0;do{d[e+172+(r*12|0)>>2]=64;d[e+172+(r*12|0)+4>>2]=0;h[e+172+(r*12|0)+8>>1]=0;h[e+172+(r*12|0)+10>>1]=1;r=r+1|0}while((r|0)!=365);s=((t|0)==0?n:t)&255;d[e+4552>>2]=64;d[e+4556>>2]=0;f[e+4560>>0]=s;f[e+4561>>0]=1;f[e+4562>>0]=0;d[e+4564>>2]=64;d[e+4568>>2]=1;f[e+4572>>0]=s;f[e+4573>>0]=1;f[e+4574>>0]=0;d[e+4576>>2]=0;w=i;return}function Sa(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=w;w=w+16|0;u=c;s=e+92|0;o=d[t>>2]|0;d[t>>2]=0;t=d[s>>2]|0;d[s>>2]=o;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);d[u>>2]=0;d[u+4>>2]=r;s=n+8|0;d[u+8>>2]=d[s>>2];if(r){t=Ww(4600)|0;r=e+8|0;i=t+4|0;a=r;o=i+84|0;do{d[i>>2]=d[a>>2];i=i+4|0;a=a+4|0}while((i|0)<(o|0));i=t+88|0;o=i+40|0;do{d[i>>2]=0;i=i+4|0}while((i|0)<(o|0));d[t>>2]=35744;i=t+132|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;d[i+12>>2]=0;d[t+148>>2]=d[r>>2];d[t+152>>2]=0;d[t+156>>2]=0;d[t+160>>2]=0;i=t+4544|0;r=t+164|0;do{d[r>>2]=0;d[r+4>>2]=0;h[r+8>>1]=0;h[r+10>>1]=1;r=r+12|0}while((r|0)!=(i|0));a=e+4|0;d[i>>2]=0;d[i+4>>2]=0;h[i+8>>1]=0;f[i+10>>0]=0;o=t+4556|0;d[o>>2]=0;d[o+4>>2]=0;h[o+8>>1]=0;f[o+10>>0]=0;o=t+4568|0;d[o>>2]=0;d[o+4>>2]=0;d[o+8>>2]=0;d[o+12>>2]=0;d[o+16>>2]=0;d[o+20>>2]=0;d[o+24>>2]=0;f[o+28>>0]=0;if(!(d[t+28>>2]|0))d[t+20>>2]=1;r=d[a>>2]|0;d[a>>2]=t;if(r){m_[d[(d[r>>2]|0)+4>>2]&255](r);t=d[a>>2]|0}zr(t,u)}u=e+100|0;d[u>>2]=32;d[e+96>>2]=0;t=d[n>>2]|0;if(!t){d[e+108>>2]=d[n+4>>2];d[e+104>>2]=d[s>>2];_a(e);l=e+116|0;l=d[l>>2]|0;e=d[u>>2]|0;e=e+-32|0;e=(e|0)/8|0;e=l-e|0;w=c;return e|0}d[e+132>>2]=t;i=e+120|0;s=e+124|0;r=d[s>>2]|0;t=d[i>>2]|0;a=t;o=r-a|0;if(o>>>0>=4e3){if(o>>>0>4e3?(l=t+4e3|0,(r|0)!=(l|0)):0){d[s>>2]=l;r=l}}else{Ur(i,4e3-o|0);t=d[i>>2]|0;a=t;r=d[s>>2]|0}d[e+108>>2]=a;d[e+104>>2]=r-t;_a(e);l=e+116|0;l=d[l>>2]|0;e=d[u>>2]|0;e=e+-32|0;e=(e|0)/8|0;e=l-e|0;w=c;return e|0}function xa(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+352|0;S=b+328|0;x=b+192|0;n=b+343|0;r=b+342|0;i=b+341|0;a=b+340|0;p=b+176|0;s=b+168|0;u=b+160|0;l=b+152|0;y=b;g=b+136|0;if((d[e+32>>2]|0)!=0?(d[e+24>>2]|0)!=1:0){m=e+8|0;v=e+36|0;o=d[v>>2]|0;if(!o){e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[n>>0]|0;Be(37,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}e=d[e+16>>2]|0;if((e|0)==16)switch(o|0){case 1:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[r>>0]|0;Be(38,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[i>>0]|0;Be(39,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[a>>0]|0;Be(40,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=x+56|0;i=x+4|0;d[x>>2]=36160;d[o>>2]=36180;k=0;we(62,x+56|0,i|0);b=k;k=0;if(b&1){_=Ze()|0;pd(o);ut(_|0)}d[x+128>>2]=0;d[x+132>>2]=-1;d[x>>2]=36200;d[x+56>>2]=36220;k=0;be(180,i|0);b=k;k=0;do{if(b&1)e=Ze()|0;else{d[i>>2]=36236;a=x+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[x+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);b=k;k=0;if(b&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,x|0,49007,21)|0;S=k;k=0;do{if((!(S&1)?(k=0,c=Oe(36,e|0,d[v>>2]|0)|0,S=k,k=0,!(S&1)):0)?(k=0,Te(28,c|0,50997,18)|0,S=k,k=0,!(S&1)):0){r=Ke(16)|0;k=0;we(64,p|0,i|0);S=k;k=0;if(!(S&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,p|0);S=k;k=0;if(S&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(p);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=34}while(0);if((_|0)==34)e=Ze()|0;d[x>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}if((e|0)<=8){e=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,e|0,8,35648);_=k;k=0;if(!(_&1))_t(e|0,824,96);_=Ze()|0;Ye(e|0);ut(_|0)}n=16-e|0;switch(o|0){case 1:{e=Ww(60)|0;d[s>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[s>>2];d[S+4>>2]=d[s+4>>2];Be(41,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(60)|0;d[u>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[u>>2];d[S+4>>2]=d[u+4>>2];Be(42,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(60)|0;d[l>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[l>>2];d[S+4>>2]=d[l+4>>2];Be(43,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=y+56|0;i=y+4|0;d[y>>2]=36160;d[o>>2]=36180;k=0;we(62,y+56|0,i|0);x=k;k=0;if(x&1){_=Ze()|0;pd(o);ut(_|0)}d[y+128>>2]=0;d[y+132>>2]=-1;d[y>>2]=36200;d[y+56>>2]=36220;k=0;be(180,i|0);x=k;k=0;do{if(x&1)e=Ze()|0;else{d[i>>2]=36236;a=y+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[y+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);x=k;k=0;if(x&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,y|0,49007,21)|0;x=k;k=0;do{if((!(x&1)?(k=0,h=Oe(36,e|0,d[v>>2]|0)|0,x=k,k=0,!(x&1)):0)?(k=0,Te(28,h|0,50997,18)|0,x=k,k=0,!(x&1)):0){r=Ke(16)|0;k=0;we(64,g|0,i|0);x=k;k=0;if(!(x&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,g|0);x=k;k=0;if(x&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(g);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=64}while(0);if((_|0)==64)e=Ze()|0;d[y>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}}n=d[t+4>>2]|0;r=Ww(16)|0;e=d[e+20>>2]|0;if(!n){_=d[t>>2]|0;d[r>>2]=36132;d[r+4>>2]=_;d[r+8>>2]=2;d[r+12>>2]=e;_=r;w=b;return _|0}else{d[r>>2]=36108;d[r+4>>2]=n;d[r+8>>2]=2;d[r+12>>2]=e;_=r;w=b;return _|0}return 0}function _a(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+32|0;x=b+12|0;y=b;m=e+156|0;g=(d[m>>2]|0)+4|0;if((d[e+32>>2]|0)==1)v=d[e+24>>2]|0;else v=1;t=fe(v<<1,g)|0;d[x>>2]=0;_=x+4|0;d[_>>2]=0;d[x+8>>2]=0;do{if(t){if(!((t|0)<0?(k=0,be(178,x|0),S=k,k=0,S&1):0))o=6;if((o|0)==6?(n=t<<1,k=0,r=xe(67,n|0)|0,S=k,k=0,!(S&1)):0){d[x>>2]=r;S=r+(t<<1)|0;d[x+8>>2]=S;Dy(r|0,0,n|0)|0;d[_>>2]=S;break}r=Ze()|0;t=d[x>>2]|0;if(!t)ut(r|0);n=d[_>>2]|0;if((n|0)!=(t|0))d[_>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);ut(r|0)}}while(0);d[y>>2]=0;S=y+4|0;d[S>>2]=0;d[y+8>>2]=0;do{if(!v)o=18;else{if(!(v>>>0>1073741823?(k=0,be(178,y|0),p=k,k=0,p&1):0))o=16;if((o|0)==16?(i=v<<2,k=0,a=xe(67,i|0)|0,p=k,k=0,!(p&1)):0){d[y>>2]=a;o=a+(v<<2)|0;d[y+8>>2]=o;Dy(a|0,0,i|0)|0;d[S>>2]=o;o=18;break}r=Ze()|0;t=d[y>>2]|0;n=t;if(t){i=d[S>>2]|0;if((i|0)!=(t|0))d[S>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}}while(0);if((o|0)==18){a=e+12|0;e:do{if((d[a>>2]|0)>0){o=e+4580|0;s=(fe(v,g)|0)+1|0;u=e+4584|0;l=e+92|0;c=(v|0)>0;f=e+4576|0;p=0;t:while(1){n=d[x>>2]|0;t=n+2|0;d[o>>2]=t;n=n+(s<<1)|0;d[u>>2]=n;if(!(p&1))t=n;else{d[o>>2]=n;d[u>>2]=t}i=d[l>>2]|0;k=0;Be(d[(d[i>>2]|0)+12>>2]|0,i|0,t|0,d[m>>2]|0,g|0);i=k;k=0;if(i&1){o=28;break}if(c){t=d[o>>2]|0;n=d[u>>2]|0;r=d[y>>2]|0;i=0;do{d[f>>2]=d[r+(i<<2)>>2];r=d[m>>2]|0;h[t+(r<<1)>>1]=h[t+(r+-1<<1)>>1]|0;h[n+-2>>1]=h[t>>1]|0;k=0;we(72,e|0,0);r=k;k=0;if(r&1){o=27;break t}r=d[y>>2]|0;d[r+(i<<2)>>2]=d[f>>2];t=(d[o>>2]|0)+(g<<1)|0;d[o>>2]=t;n=(d[u>>2]|0)+(g<<1)|0;d[u>>2]=n;i=i+1|0}while((i|0)<(v|0))}p=p+1|0;if((p|0)>=(d[a>>2]|0)){o=40;break e}}if((o|0)==27){r=Ze()|0;break}else if((o|0)==28){r=Ze()|0;break}}else o=40}while(0);do{if((o|0)==40){k=0;be(182,e|0);e=k;k=0;if(e&1){r=Ze()|0;break}t=d[y>>2]|0;n=t;if(t){r=d[S>>2]|0;if((r|0)!=(t|0))d[S>>2]=r+(~((r+-4-n|0)>>>2)<<2);Hw(t)}t=d[x>>2]|0;if(!t){w=b;return}n=d[_>>2]|0;if((n|0)!=(t|0))d[_>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);w=b;return}}while(0);t=d[y>>2]|0;n=t;if(t){i=d[S>>2]|0;if((i|0)!=(t|0))d[S>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}t=d[x>>2]|0;if(!t)ut(r|0);n=d[_>>2]|0;if((n|0)!=(t|0))d[_>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);ut(r|0)}function Ta(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,p=0,g=0,v=0,y=0;p=e+4580|0;t=d[p>>2]|0;y=e+156|0;if((d[y>>2]|0)<=0)return;g=e+4584|0;v=e+4588|0;i=t;a=m[t+-2>>1]|0;t=m[t>>1]|0;c=0;while(1){l=d[g>>2]|0;u=m[l+(c+-1<<1)>>1]|0;r=c+1|0;n=m[i+(r<<1)>>1]|0;s=d[v>>2]|0;o=t-a|0;i=a-u|0;s=((((f[s+(n-t)>>0]|0)*9|0)+(f[s+o>>0]|0)|0)*9|0)+(f[s+i>>0]|0)|0;if(!s){r=(ka(e,c,0)|0)+c|0;n=d[p>>2]|0;t=m[n+(r+-1<<1)>>1]|0;n=m[n+(r<<1)>>1]|0}else{a=t-u>>31;if((a^i|0)<0)i=t;else i=u+((a^o|0)<0?0:o)|0;l=Ea(e,s,m[l+(c<<1)>>1]|0,i,0)|0;h[(d[g>>2]|0)+(c<<1)>>1]=l}if((r|0)>=(d[y>>2]|0))break;i=d[p>>2]|0;a=t;t=n;c=r}return}function Ea(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,m=0,g=0;g=t>>31;u=(g^t)-g|0;m=e+172+(u*12|0)+10|0;o=h[m>>1]|0;p=e+172+(u*12|0)|0;i=d[p>>2]|0;if((o|0)<(i|0)){if((o<<1|0)<(i|0)){if((o<<2|0)<(i|0)){if((o<<3|0)<(i|0)){if((o<<4|0)<(i|0)){a=5;while(1){if((o<<a|0)<(i|0))a=a+1|0;else break}}else a=4}else a=3}else a=2}else a=1}else a=0;f=e+172+(u*12|0)+8|0;i=(h[f>>1]^g)-g+r|0;if((i&4095|0)==(i|0))c=i;else c=i>>31&4095^4095;s=(n-c^g)-g<<20;l=s>>20;if(!a)i=(d[e+172+(u*12|0)+4>>2]<<1)+-1+o>>31;else i=0;r=i^l;r=r>>30^r<<1;i=r>>a;if((i|0)<35){if((i|0)>30){o=(i|0)/2|0;Hr(e,0,o);i=i-o|0}Hr(e,1,i+1|0);Hr(e,r&(1<<a)+-1,a)}else{Hr(e,0,31);Hr(e,1,5);Hr(e,r+4095&4095,12)}r=e+172+(u*12|0)+4|0;o=h[m>>1]|0;i=o<<16>>16==64;a=i&1;n=(d[r>>2]|0)+l>>a;o=i?32:o<<16>>16;d[p>>2]=(d[p>>2]|0)+((s|0)>-1048576?l:0-l|0)>>a;a=o+1|0;h[m>>1]=a;i=a+n|0;if((i|0)<1){m=h[f>>1]|0;h[f>>1]=(m&65535)-(m<<16>>16>-128&1);m=(i|0)>(~o|0)?i:0-o|0;d[r>>2]=m;g=l^g;t=t>>>31;t=c+t|0;t=t+g|0;t=t&4095;t=t&65535;return t|0}if((n|0)<=0){m=n;d[r>>2]=m;g=l^g;t=t>>>31;t=c+t|0;t=t+g|0;t=t&4095;t=t&65535;return t|0}m=n-a|0;p=h[f>>1]|0;h[f>>1]=(p<<16>>16<127&1)+(p&65535);m=(m|0)>0?0:m;d[r>>2]=m;g=l^g;t=t>>>31;t=c+t|0;t=t+g|0;t=t&4095;t=t&65535;return t|0}function ka(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;o=(d[e+156>>2]|0)-t|0;s=d[e+4584>>2]|0;l=d[e+4580>>2]|0;i=h[s+(t+-1<<1)>>1]|0;r=0;while(1){n=s+(r+t<<1)|0;if((h[n>>1]|0)!=i<<16>>16){c=r;break}h[n>>1]=i;r=r+1|0;if((r|0)==(o|0)){c=o;break}}a=i&65535;i=(c|0)==(o|0);u=e+4576|0;r=d[36476+(d[u>>2]<<2)>>2]|0;if((1<<r|0)>(c|0))n=c;else{n=c;do{Hr(e,1,1);r=d[u>>2]|0;n=n-(1<<d[36476+(r<<2)>>2])|0;r=(r|0)>30?31:r+1|0;d[u>>2]=r;r=d[36476+(r<<2)>>2]|0}while((n|0)>=(1<<r|0))}if(i){if(!n){e=o;return e|0}Hr(e,1,1);e=o;return e|0}Hr(e,n,r+1|0);n=c+t|0;i=s+(n<<1)|0;r=m[i>>1]|0;n=m[l+(n<<1)>>1]|0;l=a-n|0;if((((l|0)>-1?l:0-l|0)|0)<1){n=r-a<<20>>20;Ca(e,e+4564|0,n);n=n+a|0}else{l=n-a>>31|1;t=(fe(r-n<<20,l)|0)>>20;Ca(e,e+4552|0,t);n=(fe(t,l)|0)+n|0}h[i>>1]=n&4095;e=d[u>>2]|0;d[u>>2]=(e|0)<1?0:e+-1|0;e=c+1|0;return e|0}function Ca(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=t+9|0;o=p[c>>0]|0;l=t+4|0;u=d[l>>2]|0;i=(fe(o>>>1,u)|0)+(d[t>>2]|0)|0;if((o|0)<(i|0)){a=o;r=0;do{a=a<<1;r=r+1|0}while((a|0)<(i|0));i=r}else i=0;if((n|0)>0&(i|0)==0?p[t+10>>0]<<1>>>0<o>>>0:0)r=1;else s=5;do{if((s|0)==5){r=(n|0)<0;if(r?p[t+10>>0]<<1>>>0>=o>>>0:0){r=1;break}r=r&(i|0)!=0}}while(0);r=(((n|0)>-1?n:0-n|0)<<1)-u+(r<<31>>31)|0;Aa(e,i,r,47-(d[36476+(d[e+4576>>2]<<2)>>2]|0)|0);if((n|0)<0){e=t+10|0;f[e>>0]=(p[e>>0]|0)+1}r=(r+1-(d[l>>2]|0)>>1)+(d[t>>2]|0)|0;d[t>>2]=r;i=f[c>>0]|0;if(i<<24>>24!=(f[t+8>>0]|0)){t=i;t=t&255;t=t+1|0;t=t&255;f[c>>0]=t;return}d[t>>2]=r>>1;e=(i&255)>>>1;f[c>>0]=e;t=t+10|0;f[t>>0]=(p[t>>0]|0)>>>1;t=e;t=t&255;t=t+1|0;t=t&255;f[c>>0]=t;return}function Aa(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;i=n>>t;a=r+-12|0;if((i|0)<(r+-13|0)){if((i|0)>30){r=(i|0)/2|0;Hr(e,0,r);i=i-r|0}Hr(e,1,i+1|0);Hr(e,(1<<t)+-1&n,t);return}if((a|0)>31){Hr(e,0,31);Hr(e,1,r+-43|0)}else Hr(e,1,a);Hr(e,n+4095&4095,12);return}function Oa(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0;l=w;w=w+32|0;s=l;bw(s,4095,0);u=e+160|0;if(((d[s+4>>2]|0)==(d[u>>2]|0)?(d[s+8>>2]|0)==(d[e+164>>2]|0):0)?(d[s+12>>2]|0)==(d[e+168>>2]|0):0){u=d[8906]|0;d[e+4588>>2]=u+(((d[8907]|0)-u|0)>>>1);w=l;return}n=e+4592|0;r=e+4596|0;i=d[r>>2]|0;t=d[n>>2]|0;a=i-t|0;if(a>>>0>=8192){if(a>>>0>8192?(o=t+8192|0,(i|0)!=(o|0)):0)d[r>>2]=o}else{$r(n,8192-a|0);t=d[n>>2]|0}s=e+4588|0;d[s>>2]=t+4096;o=e+168|0;i=e+164|0;a=-4096;while(1){t=d[o>>2]|0;if((a|0)>(0-t|0)){n=d[i>>2]|0;if((a|0)>(0-n|0)){r=d[u>>2]|0;if((a|0)>(0-r|0)){if((a|0)>=0){if((a|0)<1){f[(d[s>>2]|0)+a>>0]=0;a=1;continue}if((r|0)<=(a|0)){if((n|0)>(a|0))t=2;else t=(t|0)>(a|0)?3:4}else t=1}else t=-1}else t=-2}else t=-3}else t=-4;f[(d[s>>2]|0)+a>>0]=t;a=a+1|0;if((a|0)==4096)break}w=l;return}function Ia(e){e=e|0;var t=0,n=0;d[e>>2]=35940;t=d[e+4592>>2]|0;if(t){n=e+4596|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);e=e+4|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function Ma(e){e=e|0;var t=0,n=0;d[e>>2]=35940;t=d[e+4592>>2]|0;if(t){n=e+4596|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);n=e+4|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function Da(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0;i=w;w=w+32|0;s=i;bw(s,255,0);o=d[t+4>>2]|0;a=d[t+8>>2]|0;a=(a|0)==0?d[s+8>>2]|0:a;r=d[t+12>>2]|0;r=(r|0)==0?d[s+12>>2]|0:r;t=d[t+16>>2]|0;n=d[s+16>>2]|0;d[e+160>>2]=(o|0)==0?d[s+4>>2]|0:o;d[e+164>>2]=a;d[e+168>>2]=r;ja(e);r=0;do{d[e+172+(r*12|0)>>2]=4;d[e+172+(r*12|0)+4>>2]=0;h[e+172+(r*12|0)+8>>1]=0;h[e+172+(r*12|0)+10>>1]=1;r=r+1|0}while((r|0)!=365);s=((t|0)==0?n:t)&255;d[e+4552>>2]=4;d[e+4556>>2]=0;f[e+4560>>0]=s;f[e+4561>>0]=1;f[e+4562>>0]=0;d[e+4564>>2]=4;d[e+4568>>2]=1;f[e+4572>>0]=s;f[e+4573>>0]=1;f[e+4574>>0]=0;d[e+4576>>2]=0;w=i;return}function Ra(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=w;w=w+16|0;u=c;s=e+92|0;o=d[t>>2]|0;d[t>>2]=0;t=d[s>>2]|0;d[s>>2]=o;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);d[u>>2]=0;d[u+4>>2]=r;s=n+8|0;d[u+8>>2]=d[s>>2];if(r){t=Ww(4600)|0;r=e+8|0;i=t+4|0;a=r;o=i+84|0;do{d[i>>2]=d[a>>2];i=i+4|0;a=a+4|0}while((i|0)<(o|0));i=t+88|0;o=i+40|0;do{d[i>>2]=0;i=i+4|0}while((i|0)<(o|0));d[t>>2]=35716;i=t+132|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;d[i+12>>2]=0;d[t+148>>2]=d[r>>2];d[t+152>>2]=0;d[t+156>>2]=0;d[t+160>>2]=0;i=t+4544|0;r=t+164|0;do{d[r>>2]=0;d[r+4>>2]=0;h[r+8>>1]=0;h[r+10>>1]=1;r=r+12|0}while((r|0)!=(i|0));a=e+4|0;d[i>>2]=0;d[i+4>>2]=0;h[i+8>>1]=0;f[i+10>>0]=0;o=t+4556|0;d[o>>2]=0;d[o+4>>2]=0;h[o+8>>1]=0;f[o+10>>0]=0;o=t+4568|0;d[o>>2]=0;d[o+4>>2]=0;d[o+8>>2]=0;d[o+12>>2]=0;d[o+16>>2]=0;d[o+20>>2]=0;d[o+24>>2]=0;f[o+28>>0]=0;if(!(d[t+28>>2]|0))d[t+20>>2]=1;r=d[a>>2]|0;d[a>>2]=t;if(r){m_[d[(d[r>>2]|0)+4>>2]&255](r);t=d[a>>2]|0}zr(t,u)}u=e+100|0;d[u>>2]=32;d[e+96>>2]=0;t=d[n>>2]|0;if(!t){d[e+108>>2]=d[n+4>>2];d[e+104>>2]=d[s>>2];Na(e);l=e+116|0;l=d[l>>2]|0;e=d[u>>2]|0;e=e+-32|0;e=(e|0)/8|0;e=l-e|0;w=c;return e|0}d[e+132>>2]=t;i=e+120|0;s=e+124|0;r=d[s>>2]|0;t=d[i>>2]|0;a=t;o=r-a|0;if(o>>>0>=4e3){if(o>>>0>4e3?(l=t+4e3|0,(r|0)!=(l|0)):0){d[s>>2]=l;r=l}}else{Ur(i,4e3-o|0);t=d[i>>2]|0;a=t;r=d[s>>2]|0}d[e+108>>2]=a;d[e+104>>2]=r-t;Na(e);l=e+116|0;l=d[l>>2]|0;e=d[u>>2]|0;e=e+-32|0;e=(e|0)/8|0;e=l-e|0;w=c;return e|0}function Pa(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+352|0;S=b+328|0;x=b+192|0;n=b+343|0;r=b+342|0;i=b+341|0;a=b+340|0;p=b+176|0;s=b+168|0;u=b+160|0;l=b+152|0;y=b;g=b+136|0;if((d[e+32>>2]|0)!=0?(d[e+24>>2]|0)!=1:0){m=e+8|0;v=e+36|0;o=d[v>>2]|0;if(!o){e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[n>>0]|0;Be(44,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}e=d[e+16>>2]|0;if((e|0)==8)switch(o|0){case 1:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[r>>0]|0;Be(45,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[i>>0]|0;Be(46,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[a>>0]|0;Be(47,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=x+56|0;i=x+4|0;d[x>>2]=36160;d[o>>2]=36180;k=0;we(62,x+56|0,i|0);b=k;k=0;if(b&1){_=Ze()|0;pd(o);ut(_|0)}d[x+128>>2]=0;d[x+132>>2]=-1;d[x>>2]=36200;d[x+56>>2]=36220;k=0;be(180,i|0);b=k;k=0;do{if(b&1)e=Ze()|0;else{d[i>>2]=36236;a=x+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[x+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);b=k;k=0;if(b&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,x|0,49007,21)|0;S=k;k=0;do{if((!(S&1)?(k=0,c=Oe(36,e|0,d[v>>2]|0)|0,S=k,k=0,!(S&1)):0)?(k=0,Te(28,c|0,50997,18)|0,S=k,k=0,!(S&1)):0){r=Ke(16)|0;k=0;we(64,p|0,i|0);S=k;k=0;if(!(S&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,p|0);S=k;k=0;if(S&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(p);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=34}while(0);if((_|0)==34)e=Ze()|0;d[x>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}if((e|0)<=8){e=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,e|0,8,35648);_=k;k=0;if(!(_&1))_t(e|0,824,96);_=Ze()|0;Ye(e|0);ut(_|0)}n=16-e|0;switch(o|0){case 1:{e=Ww(60)|0;d[s>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[s>>2];d[S+4>>2]=d[s+4>>2];Be(41,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(60)|0;d[u>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[u>>2];d[S+4>>2]=d[u+4>>2];Be(42,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(60)|0;d[l>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[l>>2];d[S+4>>2]=d[l+4>>2];Be(43,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=y+56|0;i=y+4|0;d[y>>2]=36160;d[o>>2]=36180;k=0;we(62,y+56|0,i|0);x=k;k=0;if(x&1){_=Ze()|0;pd(o);ut(_|0)}d[y+128>>2]=0;d[y+132>>2]=-1;d[y>>2]=36200;d[y+56>>2]=36220;k=0;be(180,i|0);x=k;k=0;do{if(x&1)e=Ze()|0;else{d[i>>2]=36236;a=y+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[y+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);x=k;k=0;if(x&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,y|0,49007,21)|0;x=k;k=0;do{if((!(x&1)?(k=0,h=Oe(36,e|0,d[v>>2]|0)|0,x=k,k=0,!(x&1)):0)?(k=0,Te(28,h|0,50997,18)|0,x=k,k=0,!(x&1)):0){r=Ke(16)|0;k=0;we(64,g|0,i|0);x=k;k=0;if(!(x&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,g|0);x=k;k=0;if(x&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(g);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=64}while(0);if((_|0)==64)e=Ze()|0;d[y>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}}n=d[t+4>>2]|0;r=Ww(16)|0;e=d[e+20>>2]|0;if(!n){_=d[t>>2]|0;d[r>>2]=36132;d[r+4>>2]=_;d[r+8>>2]=1;d[r+12>>2]=e;_=r;w=b;return _|0}else{d[r>>2]=36108;d[r+4>>2]=n;d[r+8>>2]=1;d[r+12>>2]=e;_=r;w=b;return _|0}return 0}function Na(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0;y=w;w=w+32|0;S=y+12|0;v=y;p=e+156|0;m=(d[p>>2]|0)+4|0;if((d[e+32>>2]|0)==1)g=d[e+24>>2]|0;else g=1;t=fe(g<<1,m)|0;d[S>>2]=0;x=S+4|0;d[x>>2]=0;d[S+8>>2]=0;e:do{if(t){if(!((t|0)<0?(k=0,be(178,S|0),b=k,k=0,b&1):0))a=6;if((a|0)==6?(k=0,n=xe(67,t|0)|0,b=k,k=0,!(b&1)):0){d[x>>2]=n;d[S>>2]=n;d[S+8>>2]=n+t;while(1){f[n>>0]=0;n=(d[x>>2]|0)+1|0;d[x>>2]=n;t=t+-1|0;if(!t)break e}}n=Ze()|0;t=d[S>>2]|0;if(!t)ut(n|0);if((d[x>>2]|0)!=(t|0))d[x>>2]=t;Hw(t);ut(n|0)}}while(0);d[v>>2]=0;b=v+4|0;d[b>>2]=0;d[v+8>>2]=0;do{if(!g)a=19;else{if(!(g>>>0>1073741823?(k=0,be(178,v|0),h=k,k=0,h&1):0))a=17;if((a|0)==17?(r=g<<2,k=0,i=xe(67,r|0)|0,h=k,k=0,!(h&1)):0){d[v>>2]=i;a=i+(g<<2)|0;d[v+8>>2]=a;Dy(i|0,0,r|0)|0;d[b>>2]=a;a=19;break}n=Ze()|0;t=d[v>>2]|0;r=t;if(t){i=d[b>>2]|0;if((i|0)!=(t|0))d[b>>2]=i+(~((i+-4-r|0)>>>2)<<2);Hw(t)}}}while(0);if((a|0)==19){i=e+12|0;e:do{if((d[i>>2]|0)>0){a=e+4580|0;o=(fe(g,m)|0)+1|0;s=e+4584|0;u=e+92|0;l=(g|0)>0;c=e+4576|0;h=0;t:while(1){n=d[S>>2]|0;t=n+1|0;d[a>>2]=t;n=n+o|0;d[s>>2]=n;if(!(h&1))t=n;else{d[a>>2]=n;d[s>>2]=t}r=d[u>>2]|0;k=0;Be(d[(d[r>>2]|0)+12>>2]|0,r|0,t|0,d[p>>2]|0,m|0);r=k;k=0;if(r&1){a=29;break}if(l){t=d[a>>2]|0;n=d[v>>2]|0;r=0;do{d[c>>2]=d[n+(r<<2)>>2];n=d[p>>2]|0;f[t+n>>0]=f[t+(n+-1)>>0]|0;f[(d[s>>2]|0)+-1>>0]=f[d[a>>2]>>0]|0;k=0;we(73,e|0,0);n=k;k=0;if(n&1){a=28;break t}n=d[v>>2]|0;d[n+(r<<2)>>2]=d[c>>2];t=(d[a>>2]|0)+m|0;d[a>>2]=t;d[s>>2]=(d[s>>2]|0)+m;r=r+1|0}while((r|0)<(g|0))}h=h+1|0;if((h|0)>=(d[i>>2]|0)){a=41;break e}}if((a|0)==28){n=Ze()|0;break}else if((a|0)==29){n=Ze()|0;break}}else a=41}while(0);do{if((a|0)==41){k=0;be(182,e|0);e=k;k=0;if(e&1){n=Ze()|0;break}t=d[v>>2]|0;n=t;if(t){r=d[b>>2]|0;if((r|0)!=(t|0))d[b>>2]=r+(~((r+-4-n|0)>>>2)<<2);Hw(t)}t=d[S>>2]|0;if(!t){w=y;return}if((d[x>>2]|0)!=(t|0))d[x>>2]=t;Hw(t);w=y;return}}while(0);t=d[v>>2]|0;r=t;if(t){i=d[b>>2]|0;if((i|0)!=(t|0))d[b>>2]=i+(~((i+-4-r|0)>>>2)<<2);Hw(t)}}t=d[S>>2]|0;if(!t)ut(n|0);if((d[x>>2]|0)!=(t|0))d[x>>2]=t;Hw(t);ut(n|0)}function La(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0;h=e+4580|0;t=d[h>>2]|0;v=e+156|0;if((d[v>>2]|0)<=0)return;m=e+4584|0;g=e+4588|0;i=t;a=p[t+-1>>0]|0;t=p[t>>0]|0;c=0;while(1){l=d[m>>2]|0;u=p[l+(c+-1)>>0]|0;r=c+1|0;n=p[i+r>>0]|0;s=d[g>>2]|0;o=t-a|0;i=a-u|0;s=((((f[s+(n-t)>>0]|0)*9|0)+(f[s+o>>0]|0)|0)*9|0)+(f[s+i>>0]|0)|0;if(!s){r=(Ba(e,c,0)|0)+c|0;n=d[h>>2]|0;t=p[n+(r+-1)>>0]|0;n=p[n+r>>0]|0}else{a=t-u>>31;if((a^i|0)<0)i=t;else i=u+((a^o|0)<0?0:o)|0;l=Fa(e,s,p[l+c>>0]|0,i,0)|0;f[(d[m>>2]|0)+c>>0]=l}if((r|0)>=(d[v>>2]|0))break;i=d[h>>2]|0;a=t;t=n;c=r}return}function Fa(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,m=0,g=0;g=t>>31;u=(g^t)-g|0;m=e+172+(u*12|0)+10|0;o=h[m>>1]|0;p=e+172+(u*12|0)|0;i=d[p>>2]|0;if((o|0)<(i|0)){if((o<<1|0)<(i|0)){if((o<<2|0)<(i|0)){if((o<<3|0)<(i|0)){if((o<<4|0)<(i|0)){a=5;while(1){if((o<<a|0)<(i|0))a=a+1|0;else break}}else a=4}else a=3}else a=2}else a=1}else a=0;f=e+172+(u*12|0)+8|0;i=(h[f>>1]^g)-g+r|0;if((i&255|0)==(i|0))c=i;else c=i>>31&255^255;s=(n-c^g)-g<<24;l=s>>24;if(!a)i=(d[e+172+(u*12|0)+4>>2]<<1)+-1+o>>31;else i=0;i=i^l;i=i>>30^i<<1;r=i>>a;if((r|0)<23){Hr(e,1,r+1|0);Hr(e,i&(1<<a)+-1,a)}else{Hr(e,1,24);Hr(e,i+255&255,8)}r=e+172+(u*12|0)+4|0;o=h[m>>1]|0;i=o<<16>>16==64;a=i&1;n=(d[r>>2]|0)+l>>a;o=i?32:o<<16>>16;d[p>>2]=(d[p>>2]|0)+((s|0)>-16777216?l:0-l|0)>>a;a=o+1|0;h[m>>1]=a;i=a+n|0;if((i|0)<1){m=h[f>>1]|0;h[f>>1]=(m&65535)-(m<<16>>16>-128&1);m=(i|0)>(~o|0)?i:0-o|0;d[r>>2]=m;g=l^g;t=t>>>31;t=c+t|0;t=t+g|0;t=t&255;return t|0}if((n|0)<=0){m=n;d[r>>2]=m;g=l^g;t=t>>>31;t=c+t|0;t=t+g|0;t=t&255;return t|0}m=n-a|0;p=h[f>>1]|0;h[f>>1]=(p<<16>>16<127&1)+(p&65535);m=(m|0)>0?0:m;d[r>>2]=m;g=l^g;t=t>>>31;t=c+t|0;t=t+g|0;t=t&255;return t|0}function Ba(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;o=(d[e+156>>2]|0)-t|0;s=d[e+4584>>2]|0;l=d[e+4580>>2]|0;i=f[s+(t+-1)>>0]|0;r=0;while(1){n=s+(r+t)|0;if((f[n>>0]|0)!=i<<24>>24){c=r;break}f[n>>0]=i;r=r+1|0;if((r|0)==(o|0)){c=o;break}}a=i&255;i=(c|0)==(o|0);u=e+4576|0;r=d[36476+(d[u>>2]<<2)>>2]|0;if((1<<r|0)>(c|0))n=c;else{n=c;do{Hr(e,1,1);r=d[u>>2]|0;n=n-(1<<d[36476+(r<<2)>>2])|0;r=(r|0)>30?31:r+1|0;d[u>>2]=r;r=d[36476+(r<<2)>>2]|0}while((n|0)>=(1<<r|0))}if(i){if(!n){e=o;return e|0}Hr(e,1,1);e=o;return e|0}Hr(e,n,r+1|0);n=c+t|0;i=s+n|0;r=p[i>>0]|0;n=p[l+n>>0]|0;l=a-n|0;if((((l|0)>-1?l:0-l|0)|0)<1){n=r-a<<24>>24;za(e,e+4564|0,n);n=n+a|0}else{l=n-a>>31|1;t=(fe(r-n<<24,l)|0)>>24;za(e,e+4552|0,t);n=(fe(t,l)|0)+n|0}f[i>>0]=n;e=d[u>>2]|0;d[u>>2]=(e|0)<1?0:e+-1|0;e=c+1|0;return e|0}function za(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=t+9|0;o=p[c>>0]|0;l=t+4|0;u=d[l>>2]|0;i=(fe(o>>>1,u)|0)+(d[t>>2]|0)|0;if((o|0)<(i|0)){a=o;r=0;do{a=a<<1;r=r+1|0}while((a|0)<(i|0));i=r}else i=0;if((n|0)>0&(i|0)==0?p[t+10>>0]<<1>>>0<o>>>0:0)r=1;else s=5;do{if((s|0)==5){r=(n|0)<0;if(r?p[t+10>>0]<<1>>>0>=o>>>0:0){r=1;break}r=r&(i|0)!=0}}while(0);r=(((n|0)>-1?n:0-n|0)<<1)-u+(r<<31>>31)|0;Ua(e,i,r,31-(d[36476+(d[e+4576>>2]<<2)>>2]|0)|0);if((n|0)<0){e=t+10|0;f[e>>0]=(p[e>>0]|0)+1}r=(r+1-(d[l>>2]|0)>>1)+(d[t>>2]|0)|0;d[t>>2]=r;i=f[c>>0]|0;if(i<<24>>24!=(f[t+8>>0]|0)){t=i;t=t&255;t=t+1|0;t=t&255;f[c>>0]=t;return}d[t>>2]=r>>1;e=(i&255)>>>1;f[c>>0]=e;t=t+10|0;f[t>>0]=(p[t>>0]|0)>>>1;t=e;t=t&255;t=t+1|0;t=t&255;f[c>>0]=t;return}function Ua(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;i=n>>t;a=r+-8|0;if((i|0)<(r+-9|0)){if((i|0)>30){r=(i|0)/2|0;Hr(e,0,r);i=i-r|0}Hr(e,1,i+1|0);Hr(e,(1<<t)+-1&n,t);return}if((a|0)>31){Hr(e,0,31);Hr(e,1,r+-39|0)}else Hr(e,1,a);Hr(e,n+255&255,8);return}function ja(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0;l=w;w=w+32|0;s=l;bw(s,255,0);u=e+160|0;if(((d[s+4>>2]|0)==(d[u>>2]|0)?(d[s+8>>2]|0)==(d[e+164>>2]|0):0)?(d[s+12>>2]|0)==(d[e+168>>2]|0):0){u=d[8900]|0;d[e+4588>>2]=u+(((d[8901]|0)-u|0)>>>1);w=l;return}n=e+4592|0;r=e+4596|0;i=d[r>>2]|0;t=d[n>>2]|0;a=i-t|0;if(a>>>0>=512){if(a>>>0>512?(o=t+512|0,(i|0)!=(o|0)):0)d[r>>2]=o}else{$r(n,512-a|0);t=d[n>>2]|0}s=e+4588|0;d[s>>2]=t+256;o=e+168|0;i=e+164|0;a=-256;while(1){t=d[o>>2]|0;if((a|0)>(0-t|0)){n=d[i>>2]|0;if((a|0)>(0-n|0)){r=d[u>>2]|0;if((a|0)>(0-r|0)){if((a|0)>=0){if((a|0)<1){f[(d[s>>2]|0)+a>>0]=0;a=1;continue}if((r|0)<=(a|0)){if((n|0)>(a|0))t=2;else t=(t|0)>(a|0)?3:4}else t=1}else t=-1}else t=-2}else t=-3}else t=-4;f[(d[s>>2]|0)+a>>0]=t;a=a+1|0;if((a|0)==256)break}w=l;return}function Va(e){e=e|0;var t=0,n=0;d[e>>2]=35912;t=d[e+4592>>2]|0;if(t){n=e+4596|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);e=e+4|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function Ga(e){e=e|0;var t=0,n=0;d[e>>2]=35912;t=d[e+4592>>2]|0;if(t){n=e+4596|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);n=e+4|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function Wa(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0;i=w;w=w+32|0;s=i;bw(s,255,0);o=d[t+4>>2]|0;a=d[t+8>>2]|0;a=(a|0)==0?d[s+8>>2]|0:a;r=d[t+12>>2]|0;r=(r|0)==0?d[s+12>>2]|0:r;t=d[t+16>>2]|0;n=d[s+16>>2]|0;d[e+160>>2]=(o|0)==0?d[s+4>>2]|0:o;d[e+164>>2]=a;d[e+168>>2]=r;$a(e);r=0;do{d[e+172+(r*12|0)>>2]=4;d[e+172+(r*12|0)+4>>2]=0;h[e+172+(r*12|0)+8>>1]=0;h[e+172+(r*12|0)+10>>1]=1;r=r+1|0}while((r|0)!=365);s=((t|0)==0?n:t)&255;d[e+4552>>2]=4;d[e+4556>>2]=0;f[e+4560>>0]=s;f[e+4561>>0]=1;f[e+4562>>0]=0;d[e+4564>>2]=4;d[e+4568>>2]=1;f[e+4572>>0]=s;f[e+4573>>0]=1;f[e+4574>>0]=0;d[e+4576>>2]=0;w=i;return}function Ha(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=w;w=w+16|0;u=c;s=e+92|0;o=d[t>>2]|0;d[t>>2]=0;t=d[s>>2]|0;d[s>>2]=o;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);d[u>>2]=0;d[u+4>>2]=r;s=n+8|0;d[u+8>>2]=d[s>>2];if(r){t=Ww(4600)|0;r=e+8|0;i=t+4|0;a=r;o=i+84|0;do{d[i>>2]=d[a>>2];i=i+4|0;a=a+4|0}while((i|0)<(o|0));i=t+88|0;o=i+40|0;do{d[i>>2]=0;i=i+4|0}while((i|0)<(o|0));d[t>>2]=35688;i=t+132|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;d[i+12>>2]=0;d[t+148>>2]=d[r>>2];d[t+152>>2]=0;d[t+156>>2]=0;d[t+160>>2]=0;i=t+4544|0;r=t+164|0;do{d[r>>2]=0;d[r+4>>2]=0;h[r+8>>1]=0;h[r+10>>1]=1;r=r+12|0}while((r|0)!=(i|0));a=e+4|0;d[i>>2]=0;d[i+4>>2]=0;h[i+8>>1]=0;f[i+10>>0]=0;o=t+4556|0;d[o>>2]=0;d[o+4>>2]=0;h[o+8>>1]=0;f[o+10>>0]=0;o=t+4568|0;d[o>>2]=0;d[o+4>>2]=0;d[o+8>>2]=0;d[o+12>>2]=0;d[o+16>>2]=0;d[o+20>>2]=0;d[o+24>>2]=0;f[o+28>>0]=0;if(!(d[t+28>>2]|0))d[t+20>>2]=1;r=d[a>>2]|0;d[a>>2]=t;if(r){m_[d[(d[r>>2]|0)+4>>2]&255](r);t=d[a>>2]|0}zr(t,u)}u=e+100|0;d[u>>2]=32;d[e+96>>2]=0;t=d[n>>2]|0;if(!t){d[e+108>>2]=d[n+4>>2];d[e+104>>2]=d[s>>2];Qa(e);l=e+116|0;l=d[l>>2]|0;e=d[u>>2]|0;e=e+-32|0;e=(e|0)/8|0;e=l-e|0;w=c;return e|0}d[e+132>>2]=t;i=e+120|0;s=e+124|0;r=d[s>>2]|0;t=d[i>>2]|0;a=t;o=r-a|0;if(o>>>0>=4e3){if(o>>>0>4e3?(l=t+4e3|0,(r|0)!=(l|0)):0){d[s>>2]=l;r=l}}else{Ur(i,4e3-o|0);t=d[i>>2]|0;a=t;r=d[s>>2]|0}d[e+108>>2]=a;d[e+104>>2]=r-t;Qa(e);l=e+116|0;l=d[l>>2]|0;e=d[u>>2]|0;e=e+-32|0;e=(e|0)/8|0;e=l-e|0;w=c;return e|0}function qa(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+352|0;S=b+328|0;x=b+192|0;n=b+343|0;r=b+342|0;i=b+341|0;a=b+340|0;p=b+176|0;s=b+168|0;u=b+160|0;l=b+152|0;y=b;g=b+136|0;if((d[e+32>>2]|0)!=0?(d[e+24>>2]|0)!=1:0){m=e+8|0;v=e+36|0;o=d[v>>2]|0;if(!o){e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[n>>0]|0;Be(44,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}e=d[e+16>>2]|0;if((e|0)==8)switch(o|0){case 1:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[r>>0]|0;Be(45,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[i>>0]|0;Be(46,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[a>>0]|0;Be(47,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=x+56|0;i=x+4|0;d[x>>2]=36160;d[o>>2]=36180;k=0;we(62,x+56|0,i|0);b=k;k=0;if(b&1){_=Ze()|0;pd(o);ut(_|0)}d[x+128>>2]=0;d[x+132>>2]=-1;d[x>>2]=36200;d[x+56>>2]=36220;k=0;be(180,i|0);b=k;k=0;do{if(b&1)e=Ze()|0;else{d[i>>2]=36236;a=x+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[x+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);b=k;k=0;if(b&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,x|0,49007,21)|0;S=k;k=0;do{if((!(S&1)?(k=0,c=Oe(36,e|0,d[v>>2]|0)|0,S=k,k=0,!(S&1)):0)?(k=0,Te(28,c|0,50997,18)|0,S=k,k=0,!(S&1)):0){r=Ke(16)|0;k=0;we(64,p|0,i|0);S=k;k=0;if(!(S&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,p|0);S=k;k=0;if(S&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(p);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=34}while(0);if((_|0)==34)e=Ze()|0;d[x>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}if((e|0)<=8){e=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,e|0,8,35648);_=k;k=0;if(!(_&1))_t(e|0,824,96);_=Ze()|0;Ye(e|0);ut(_|0)}n=16-e|0;switch(o|0){case 1:{e=Ww(60)|0;d[s>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[s>>2];d[S+4>>2]=d[s+4>>2];Be(41,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(60)|0;d[u>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[u>>2];d[S+4>>2]=d[u+4>>2];Be(42,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(60)|0;d[l>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[l>>2];d[S+4>>2]=d[l+4>>2];Be(43,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=y+56|0;i=y+4|0;d[y>>2]=36160;d[o>>2]=36180;k=0;we(62,y+56|0,i|0);x=k;k=0;if(x&1){_=Ze()|0;pd(o);ut(_|0)}d[y+128>>2]=0;d[y+132>>2]=-1;d[y>>2]=36200;d[y+56>>2]=36220;k=0;be(180,i|0);x=k;k=0;do{if(x&1)e=Ze()|0;else{d[i>>2]=36236;a=y+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[y+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);x=k;k=0;if(x&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,y|0,49007,21)|0;x=k;k=0;do{if((!(x&1)?(k=0,h=Oe(36,e|0,d[v>>2]|0)|0,x=k,k=0,!(x&1)):0)?(k=0,Te(28,h|0,50997,18)|0,x=k,k=0,!(x&1)):0){r=Ke(16)|0;k=0;we(64,g|0,i|0);x=k;k=0;if(!(x&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,g|0);x=k;k=0;if(x&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(g);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=64}while(0);if((_|0)==64)e=Ze()|0;d[y>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}}n=d[t+4>>2]|0;r=Ww(16)|0;e=d[e+20>>2]|0;if(!n){_=d[t>>2]|0;d[r>>2]=36132;d[r+4>>2]=_;d[r+8>>2]=3;d[r+12>>2]=e;_=r;w=b;return _|0}else{d[r>>2]=36108;d[r+4>>2]=n;d[r+8>>2]=3;d[r+12>>2]=e;_=r;w=b;return _|0}return 0}function Qa(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;y=w;w=w+32|0;S=y+12|0;v=y;p=e+156|0;m=(d[p>>2]|0)+4|0;if((d[e+32>>2]|0)==1)g=d[e+24>>2]|0;else g=1;t=fe(g<<1,m)|0;d[S>>2]=0;x=S+4|0;d[x>>2]=0;d[S+8>>2]=0;e:do{if(t){if(!(t>>>0>1431655765?(k=0,be(178,S|0),b=k,k=0,b&1):0))a=6;if((a|0)==6?(k=0,n=xe(67,t*3|0)|0,b=k,k=0,!(b&1)):0){d[x>>2]=n;d[S>>2]=n;d[S+8>>2]=n+(t*3|0);while(1){f[n>>0]=0;f[n+1>>0]=0;f[n+2>>0]=0;n=(d[x>>2]|0)+3|0;d[x>>2]=n;t=t+-1|0;if(!t)break e}}r=Ze()|0;t=d[S>>2]|0;if(!t)ut(r|0);n=d[x>>2]|0;if((n|0)!=(t|0))d[x>>2]=n+(~(((n+-3-t|0)>>>0)/3|0)*3|0);Hw(t);ut(r|0)}}while(0);d[v>>2]=0;b=v+4|0;d[b>>2]=0;d[v+8>>2]=0;do{if(!g)a=19;else{if(!(g>>>0>1073741823?(k=0,be(178,v|0),h=k,k=0,h&1):0))a=17;if((a|0)==17?(r=g<<2,k=0,i=xe(67,r|0)|0,h=k,k=0,!(h&1)):0){d[v>>2]=i;a=i+(g<<2)|0;d[v+8>>2]=a;Dy(i|0,0,r|0)|0;d[b>>2]=a;a=19;break}r=Ze()|0;t=d[v>>2]|0;n=t;if(t){i=d[b>>2]|0;if((i|0)!=(t|0))d[b>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}}while(0);if((a|0)==19){i=e+12|0;e:do{if((d[i>>2]|0)>0){a=e+4580|0;o=(fe(g,m)|0)+1|0;s=e+4584|0;u=e+92|0;l=(g|0)>0;c=e+4576|0;h=0;t:while(1){r=d[S>>2]|0;t=r+3|0;d[a>>2]=t;n=r+(o*3|0)|0;d[s>>2]=n;if(!(h&1))t=o;else{d[a>>2]=n;d[s>>2]=t;t=1}n=d[u>>2]|0;k=0;Be(d[(d[n>>2]|0)+12>>2]|0,n|0,r+(t*3|0)|0,d[p>>2]|0,m|0);r=k;k=0;if(r&1){a=29;break}if(l){t=d[v>>2]|0;n=d[a>>2]|0;r=0;do{d[c>>2]=d[t+(r<<2)>>2];_=d[p>>2]|0;t=n+(_*3|0)|0;n=n+((_+-1|0)*3|0)|0;f[t>>0]=f[n>>0]|0;f[t+1>>0]=f[n+1>>0]|0;f[t+2>>0]=f[n+2>>0]|0;t=d[a>>2]|0;n=(d[s>>2]|0)+-3|0;f[n>>0]=f[t>>0]|0;f[n+1>>0]=f[t+1>>0]|0;f[n+2>>0]=f[t+2>>0]|0;k=0;we(74,e|0,0);n=k;k=0;if(n&1){a=28;break t}t=d[v>>2]|0;d[t+(r<<2)>>2]=d[c>>2];n=(d[a>>2]|0)+(m*3|0)|0;d[a>>2]=n;d[s>>2]=(d[s>>2]|0)+(m*3|0);r=r+1|0}while((r|0)<(g|0))}h=h+1|0;if((h|0)>=(d[i>>2]|0)){a=41;break e}}if((a|0)==28){r=Ze()|0;break}else if((a|0)==29){r=Ze()|0;break}}else a=41}while(0);do{if((a|0)==41){k=0;be(182,e|0);_=k;k=0;if(_&1){r=Ze()|0;break}t=d[v>>2]|0;n=t;if(t){r=d[b>>2]|0;if((r|0)!=(t|0))d[b>>2]=r+(~((r+-4-n|0)>>>2)<<2);Hw(t)}t=d[S>>2]|0;if(!t){w=y;return}n=d[x>>2]|0;if((n|0)!=(t|0))d[x>>2]=n+(~(((n+-3-t|0)>>>0)/3|0)*3|0);Hw(t);w=y;return}}while(0);t=d[v>>2]|0;n=t;if(t){i=d[b>>2]|0;if((i|0)!=(t|0))d[b>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}t=d[S>>2]|0;if(!t)ut(r|0);n=d[x>>2]|0;if((n|0)!=(t|0))d[x>>2]=n+(~(((n+-3-t|0)>>>0)/3|0)*3|0);Hw(t);ut(r|0)}function Xa(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,y=0,b=0,w=0,S=0,x=0,_=0,T=0,E=0,k=0,C=0,A=0,O=0;k=e+156|0;if((d[k>>2]|0)<=0)return;C=e+4584|0;A=e+4580|0;O=e+4588|0;E=0;while(1){x=E+-1|0;a=d[C>>2]|0;o=d[A>>2]|0;t=E+1|0;i=p[o+(E*3|0)>>0]|0;T=d[O>>2]|0;s=p[o+(x*3|0)>>0]|0;u=i-s|0;l=p[a+(x*3|0)>>0]|0;c=s-l|0;h=((((f[T+((p[o+(t*3|0)>>0]|0)-i)>>0]|0)*9|0)+(f[T+u>>0]|0)|0)*9|0)+(f[T+c>>0]|0)|0;r=p[o+(E*3|0)+1>>0]|0;m=p[o+(x*3|0)+1>>0]|0;g=r-m|0;v=p[a+(x*3|0)+1>>0]|0;y=m-v|0;b=((((f[T+((p[o+(t*3|0)+1>>0]|0)-r)>>0]|0)*9|0)+(f[T+g>>0]|0)|0)*9|0)+(f[T+y>>0]|0)|0;n=p[o+(E*3|0)+2>>0]|0;w=p[o+(x*3|0)+2>>0]|0;S=n-w|0;x=p[a+(x*3|0)+2>>0]|0;_=w-x|0;T=((((f[T+((p[o+(t*3|0)+2>>0]|0)-n)>>0]|0)*9|0)+(f[T+S>>0]|0)|0)*9|0)+(f[T+_>>0]|0)|0;if(!(b|h|T))t=(Ya(e,E,0)|0)+E|0;else{o=p[a+(E*3|0)>>0]|0;a=i-l>>31;if((a^c|0)>=0)if((a^u|0)<0)i=l;else i=l-s+i|0;o=Ka(e,h,o,i,0)|0;a=p[(d[C>>2]|0)+(E*3|0)+1>>0]|0;i=r-v>>31;if((i^y|0)>=0)if((i^g|0)<0)r=v;else r=v-m+r|0;i=Ka(e,b,a,r,0)|0;a=p[(d[C>>2]|0)+(E*3|0)+2>>0]|0;r=n-x>>31;if((r^_|0)>=0)if((r^S|0)<0)n=x;else n=x-w+n|0;T=Ka(e,T,a,n,0)|0;E=(d[C>>2]|0)+(E*3|0)|0;f[E>>0]=o;f[E+1>>0]=i;f[E+2>>0]=T}if((t|0)<(d[k>>2]|0))E=t;else break}return}function Ya(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,y=0,b=0;l=(d[e+156>>2]|0)-t|0;c=d[e+4584>>2]|0;h=d[e+4580>>2]|0;u=c+((t+-1|0)*3|0)|0;m=f[u>>0]|0;s=f[u+1>>0]|0;u=f[u+2>>0]|0;a=0;while(1){n=c+((a+t|0)*3|0)|0;r=n+1|0;i=n+2|0;if(!(((f[n>>0]|0)==m<<24>>24?(f[r>>0]|0)==s<<24>>24:0)&(f[i>>0]|0)==u<<24>>24))break;f[n>>0]=m;f[r>>0]=s;f[i>>0]=u;a=a+1|0;if((a|0)==(l|0)){a=l;break}}i=(a|0)==(l|0);o=e+4576|0;r=d[36476+(d[o>>2]<<2)>>2]|0;if((1<<r|0)>(a|0))n=a;else{n=a;do{Hr(e,1,1);r=d[o>>2]|0;n=n-(1<<d[36476+(r<<2)>>2])|0;r=(r|0)>30?31:r+1|0;d[o>>2]=r;r=d[36476+(r<<2)>>2]|0}while((n|0)>=(1<<r|0))}if(!i){Hr(e,n,r+1|0);r=a+t|0;l=c+(r*3|0)|0;c=l+1|0;n=f[c>>0]|0;t=l+2|0;i=f[t>>0]|0;h=h+(r*3|0)|0;r=f[h+1>>0]|0;b=f[h+2>>0]|0;h=p[h>>0]|0;g=h-(m&255)>>31|1;v=(fe((p[l>>0]|0)-h<<24,g)|0)>>24;y=e+4552|0;Za(e,y,v);m=r&255;r=m-(s&255)>>31|1;n=(fe((n&255)-m<<24,r)|0)>>24;Za(e,y,n);s=b&255;u=s-(u&255)>>31|1;i=(fe((i&255)-s<<24,u)|0)>>24;Za(e,y,i);h=(fe(v,g)|0)+h&255;m=(fe(n,r)|0)+m&255;e=(fe(i,u)|0)+s&255;f[l>>0]=h;f[c>>0]=m;f[t>>0]=e;e=d[o>>2]|0;d[o>>2]=(e|0)<1?0:e+-1|0;e=a+1|0;return e|0}if(!n){b=l;return b|0}Hr(e,1,1);b=l;return b|0}function Ka(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,m=0,g=0;g=t>>31;u=(g^t)-g|0;m=e+172+(u*12|0)+10|0;o=h[m>>1]|0;p=e+172+(u*12|0)|0;i=d[p>>2]|0;if((o|0)<(i|0)){if((o<<1|0)<(i|0)){if((o<<2|0)<(i|0)){if((o<<3|0)<(i|0)){if((o<<4|0)<(i|0)){a=5;while(1){if((o<<a|0)<(i|0))a=a+1|0;else break}}else a=4}else a=3}else a=2}else a=1}else a=0;f=e+172+(u*12|0)+8|0;i=(h[f>>1]^g)-g+r|0;if((i&255|0)==(i|0))c=i;else c=i>>31&255^255;s=(n-c^g)-g<<24;l=s>>24;if(!a)i=(d[e+172+(u*12|0)+4>>2]<<1)+-1+o>>31;else i=0;i=i^l;i=i>>30^i<<1;r=i>>a;if((r|0)<23){Hr(e,1,r+1|0);Hr(e,i&(1<<a)+-1,a)}else{Hr(e,1,24);Hr(e,i+255&255,8)}r=e+172+(u*12|0)+4|0;o=h[m>>1]|0;i=o<<16>>16==64;a=i&1;n=(d[r>>2]|0)+l>>a;o=i?32:o<<16>>16;d[p>>2]=(d[p>>2]|0)+((s|0)>-16777216?l:0-l|0)>>a;a=o+1|0;h[m>>1]=a;i=a+n|0;if((i|0)<1){m=h[f>>1]|0;h[f>>1]=(m&65535)-(m<<16>>16>-128&1);m=(i|0)>(~o|0)?i:0-o|0;d[r>>2]=m;g=l^g;t=t>>>31;t=c+t|0;t=t+g|0;t=t&255;return t|0}if((n|0)<=0){m=n;d[r>>2]=m;g=l^g;t=t>>>31;t=c+t|0;t=t+g|0;t=t&255;return t|0}m=n-a|0;p=h[f>>1]|0;h[f>>1]=(p<<16>>16<127&1)+(p&65535);m=(m|0)>0?0:m;d[r>>2]=m;g=l^g;t=t>>>31;t=c+t|0;t=t+g|0;t=t&255;return t|0}function Za(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=t+9|0;o=p[c>>0]|0;l=t+4|0;u=d[l>>2]|0;i=(fe(o>>>1,u)|0)+(d[t>>2]|0)|0;if((o|0)<(i|0)){a=o;r=0;do{a=a<<1;r=r+1|0}while((a|0)<(i|0));i=r}else i=0;if((n|0)>0&(i|0)==0?p[t+10>>0]<<1>>>0<o>>>0:0)r=1;else s=5;do{if((s|0)==5){r=(n|0)<0;if(r?p[t+10>>0]<<1>>>0>=o>>>0:0){r=1;break}r=r&(i|0)!=0}}while(0);r=(((n|0)>-1?n:0-n|0)<<1)-u+(r<<31>>31)|0;Ja(e,i,r,31-(d[36476+(d[e+4576>>2]<<2)>>2]|0)|0);if((n|0)<0){e=t+10|0;f[e>>0]=(p[e>>0]|0)+1}r=(r+1-(d[l>>2]|0)>>1)+(d[t>>2]|0)|0;d[t>>2]=r;i=f[c>>0]|0;if(i<<24>>24!=(f[t+8>>0]|0)){t=i;t=t&255;t=t+1|0;t=t&255;f[c>>0]=t;return}d[t>>2]=r>>1;e=(i&255)>>>1;f[c>>0]=e;t=t+10|0;f[t>>0]=(p[t>>0]|0)>>>1;t=e;t=t&255;t=t+1|0;t=t&255;f[c>>0]=t;return}function Ja(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;i=n>>t;a=r+-8|0;if((i|0)<(r+-9|0)){if((i|0)>30){r=(i|0)/2|0;Hr(e,0,r);i=i-r|0}Hr(e,1,i+1|0);Hr(e,(1<<t)+-1&n,t);return}if((a|0)>31){Hr(e,0,31);Hr(e,1,r+-39|0)}else Hr(e,1,a);Hr(e,n+255&255,8);return}function $a(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0;l=w;w=w+32|0;s=l;bw(s,255,0);u=e+160|0;if(((d[s+4>>2]|0)==(d[u>>2]|0)?(d[s+8>>2]|0)==(d[e+164>>2]|0):0)?(d[s+12>>2]|0)==(d[e+168>>2]|0):0){u=d[8900]|0;d[e+4588>>2]=u+(((d[8901]|0)-u|0)>>>1);w=l;return}n=e+4592|0;r=e+4596|0;i=d[r>>2]|0;t=d[n>>2]|0;a=i-t|0;if(a>>>0>=512){if(a>>>0>512?(o=t+512|0,(i|0)!=(o|0)):0)d[r>>2]=o}else{$r(n,512-a|0);t=d[n>>2]|0}s=e+4588|0;d[s>>2]=t+256;o=e+168|0;i=e+164|0;a=-256;while(1){t=d[o>>2]|0;if((a|0)>(0-t|0)){n=d[i>>2]|0;if((a|0)>(0-n|0)){r=d[u>>2]|0;if((a|0)>(0-r|0)){if((a|0)>=0){if((a|0)<1){f[(d[s>>2]|0)+a>>0]=0;a=1;continue}if((r|0)<=(a|0)){if((n|0)>(a|0))t=2;else t=(t|0)>(a|0)?3:4}else t=1}else t=-1}else t=-2}else t=-3}else t=-4;f[(d[s>>2]|0)+a>>0]=t;a=a+1|0;if((a|0)==256)break}w=l;return}function eo(e){e=e|0;var t=0,n=0;d[e>>2]=35884;t=d[e+4616>>2]|0;if(t){n=e+4620|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);e=e+4|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function to(e){e=e|0;var t=0,n=0;d[e>>2]=35884;t=d[e+4616>>2]|0;if(t){n=e+4620|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36612;t=d[e+120>>2]|0;if(t){n=e+124|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+92|0;t=d[n>>2]|0;d[n>>2]=0;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);n=e+4|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function no(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0;o=w;w=w+32|0;u=o;bw(u,d[e+136>>2]|0,d[e+144>>2]|0);s=d[t+4>>2]|0;a=d[t+8>>2]|0;a=(a|0)==0?d[u+8>>2]|0:a;i=d[t+12>>2]|0;i=(i|0)==0?d[u+12>>2]|0:i;n=d[t+16>>2]|0;r=d[u+16>>2]|0;d[e+184>>2]=(s|0)==0?d[u+4>>2]|0:s;d[e+188>>2]=a;d[e+192>>2]=i;ho(e);i=e+140|0;t=(d[i>>2]|0)+32|0;t=(t|0)<128?2:(t|0)/64|0;a=0;do{d[e+196+(a*12|0)>>2]=t;d[e+196+(a*12|0)+4>>2]=0;h[e+196+(a*12|0)+8>>1]=0;h[e+196+(a*12|0)+10>>1]=1;a=a+1|0}while((a|0)!=365);s=(d[i>>2]|0)+32|0;s=(s|0)<128?2:(s|0)/64|0;u=((n|0)==0?r:n)&255;d[e+4576>>2]=s;d[e+4580>>2]=0;f[e+4584>>0]=u;f[e+4585>>0]=1;f[e+4586>>0]=0;d[e+4588>>2]=s;d[e+4592>>2]=1;f[e+4596>>0]=u;f[e+4597>>0]=1;f[e+4598>>0]=0;d[e+4600>>2]=0;w=o;return}function ro(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=w;w=w+16|0;u=c;s=e+92|0;o=d[t>>2]|0;d[t>>2]=0;t=d[s>>2]|0;d[s>>2]=o;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);d[u>>2]=0;d[u+4>>2]=r;s=n+8|0;d[u+8>>2]=d[s>>2];if(r){t=Ww(4624)|0;r=e+8|0;i=t+4|0;a=r;o=i+84|0;do{d[i>>2]=d[a>>2];i=i+4|0;a=a+4|0}while((i|0)<(o|0));i=t+88|0;o=i+40|0;do{d[i>>2]=0;i=i+4|0}while((i|0)<(o|0));d[t>>2]=35660;d[t+128>>2]=d[e+136>>2];d[t+132>>2]=d[e+140>>2];d[t+136>>2]=d[e+144>>2];d[t+140>>2]=d[e+148>>2];d[t+144>>2]=d[e+152>>2];d[t+148>>2]=d[e+156>>2];d[t+152>>2]=d[e+160>>2];i=t+156|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;d[i+12>>2]=0;d[t+172>>2]=d[r>>2];d[t+176>>2]=0;d[t+180>>2]=0;d[t+184>>2]=0;i=t+4568|0;r=t+188|0;do{d[r>>2]=0;d[r+4>>2]=0;h[r+8>>1]=0;h[r+10>>1]=1;r=r+12|0}while((r|0)!=(i|0));a=e+4|0;d[i>>2]=0;d[i+4>>2]=0;h[i+8>>1]=0;f[i+10>>0]=0;o=t+4580|0;d[o>>2]=0;d[o+4>>2]=0;h[o+8>>1]=0;f[o+10>>0]=0;o=t+4592|0;d[o>>2]=0;d[o+4>>2]=0;d[o+8>>2]=0;d[o+12>>2]=0;d[o+16>>2]=0;d[o+20>>2]=0;d[o+24>>2]=0;f[o+28>>0]=0;if(!(d[t+28>>2]|0))d[t+20>>2]=1;r=d[a>>2]|0;d[a>>2]=t;if(r){m_[d[(d[r>>2]|0)+4>>2]&255](r);t=d[a>>2]|0}zr(t,u)}u=e+100|0;d[u>>2]=32;d[e+96>>2]=0;t=d[n>>2]|0;if(!t){d[e+108>>2]=d[n+4>>2];d[e+104>>2]=d[s>>2];ao(e);l=e+116|0;l=d[l>>2]|0;e=d[u>>2]|0;e=e+-32|0;e=(e|0)/8|0;e=l-e|0;w=c;return e|0}d[e+132>>2]=t;i=e+120|0;s=e+124|0;r=d[s>>2]|0;t=d[i>>2]|0;a=t;o=r-a|0;if(o>>>0>=4e3){if(o>>>0>4e3?(l=t+4e3|0,(r|0)!=(l|0)):0){d[s>>2]=l;r=l}}else{Ur(i,4e3-o|0);t=d[i>>2]|0;a=t;r=d[s>>2]|0}d[e+108>>2]=a;d[e+104>>2]=r-t;ao(e);l=e+116|0;l=d[l>>2]|0;e=d[u>>2]|0;e=e+-32|0;e=(e|0)/8|0;e=l-e|0;w=c;return e|0}function io(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+352|0;S=b+328|0;x=b+192|0;n=b+343|0;r=b+342|0;i=b+341|0;a=b+340|0;p=b+176|0;s=b+168|0;u=b+160|0;l=b+152|0;y=b;g=b+136|0;if((d[e+32>>2]|0)!=0?(d[e+24>>2]|0)!=1:0){m=e+8|0;v=e+36|0;o=d[v>>2]|0;if(!o){e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[n>>0]|0;Be(44,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}e=d[e+16>>2]|0;if((e|0)==8)switch(o|0){case 1:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[r>>0]|0;Be(45,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[i>>0]|0;Be(46,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[a>>0]|0;Be(47,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=x+56|0;i=x+4|0;d[x>>2]=36160;d[o>>2]=36180;k=0;we(62,x+56|0,i|0);b=k;k=0;if(b&1){_=Ze()|0;pd(o);ut(_|0)}d[x+128>>2]=0;d[x+132>>2]=-1;d[x>>2]=36200;d[x+56>>2]=36220;k=0;be(180,i|0);b=k;k=0;do{if(b&1)e=Ze()|0;else{d[i>>2]=36236;a=x+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[x+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);b=k;k=0;if(b&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,x|0,49007,21)|0;S=k;k=0;do{if((!(S&1)?(k=0,c=Oe(36,e|0,d[v>>2]|0)|0,S=k,k=0,!(S&1)):0)?(k=0,Te(28,c|0,50997,18)|0,S=k,k=0,!(S&1)):0){r=Ke(16)|0;k=0;we(64,p|0,i|0);S=k;k=0;if(!(S&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,p|0);S=k;k=0;if(S&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(p);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=34}while(0);if((_|0)==34)e=Ze()|0;d[x>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}if((e|0)<=8){e=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,e|0,8,35648);_=k;k=0;if(!(_&1))_t(e|0,824,96);_=Ze()|0;Ye(e|0);ut(_|0)}n=16-e|0;switch(o|0){case 1:{e=Ww(60)|0;d[s>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[s>>2];d[S+4>>2]=d[s+4>>2];Be(41,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(60)|0;d[u>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[u>>2];d[S+4>>2]=d[u+4>>2];Be(42,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(60)|0;d[l>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[l>>2];d[S+4>>2]=d[l+4>>2];Be(43,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=y+56|0;i=y+4|0;d[y>>2]=36160;d[o>>2]=36180;k=0;we(62,y+56|0,i|0);x=k;k=0;if(x&1){_=Ze()|0;pd(o);ut(_|0)}d[y+128>>2]=0;d[y+132>>2]=-1;d[y>>2]=36200;d[y+56>>2]=36220;k=0;be(180,i|0);x=k;k=0;do{if(x&1)e=Ze()|0;else{d[i>>2]=36236;a=y+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[y+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);x=k;k=0;if(x&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,y|0,49007,21)|0;x=k;k=0;do{if((!(x&1)?(k=0,h=Oe(36,e|0,d[v>>2]|0)|0,x=k,k=0,!(x&1)):0)?(k=0,Te(28,h|0,50997,18)|0,x=k,k=0,!(x&1)):0){r=Ke(16)|0;k=0;we(64,g|0,i|0);x=k;k=0;if(!(x&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,g|0);x=k;k=0;if(x&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(g);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=64}while(0);if((_|0)==64)e=Ze()|0;d[y>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}}n=d[t+4>>2]|0;r=Ww(16)|0;e=d[e+20>>2]|0;if(!n){_=d[t>>2]|0;d[r>>2]=36132;d[r+4>>2]=_;d[r+8>>2]=1;d[r+12>>2]=e;_=r;w=b;return _|0}else{d[r>>2]=36108;d[r+4>>2]=n;d[r+8>>2]=1;d[r+12>>2]=e;_=r;w=b;return _|0}return 0}function ao(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0;y=w;w=w+32|0;S=y+12|0;v=y;m=e+180|0;g=(d[m>>2]|0)+4|0;if((d[e+32>>2]|0)==1)h=d[e+24>>2]|0;else h=1;t=fe(h<<1,g)|0;d[S>>2]=0;x=S+4|0;d[x>>2]=0;d[S+8>>2]=0;e:do{if(t){if(!((t|0)<0?(k=0,be(178,S|0),b=k,k=0,b&1):0))p=6;if((p|0)==6?(k=0,n=xe(67,t|0)|0,b=k,k=0,!(b&1)):0){d[x>>2]=n;d[S>>2]=n;d[S+8>>2]=n+t;while(1){f[n>>0]=0;n=(d[x>>2]|0)+1|0;d[x>>2]=n;t=t+-1|0;if(!t)break e}}n=Ze()|0;t=d[S>>2]|0;if(!t)ut(n|0);if((d[x>>2]|0)!=(t|0))d[x>>2]=t;Hw(t);ut(n|0)}}while(0);d[v>>2]=0;b=v+4|0;d[b>>2]=0;d[v+8>>2]=0;do{if(!h)p=19;else{if(!(h>>>0>1073741823?(k=0,be(178,v|0),c=k,k=0,c&1):0))p=17;if((p|0)==17?(r=h<<2,k=0,i=xe(67,r|0)|0,c=k,k=0,!(c&1)):0){d[v>>2]=i;p=i+(h<<2)|0;d[v+8>>2]=p;Dy(i|0,0,r|0)|0;d[b>>2]=p;p=19;break}n=Ze()|0;t=d[v>>2]|0;r=t;if(t){i=d[b>>2]|0;if((i|0)!=(t|0))d[b>>2]=i+(~((i+-4-r|0)>>>2)<<2);Hw(t)}}}while(0);if((p|0)==19){o=e+12|0;e:do{if((d[o>>2]|0)>0){s=e+4604|0;u=(fe(h,g)|0)+1|0;l=e+4608|0;c=e+92|0;a=e+4600|0;if((h|0)>0)i=0;else{r=0;while(1){n=d[S>>2]|0;t=n+1|0;d[s>>2]=t;n=n+u|0;d[l>>2]=n;if(!(r&1))t=n;else{d[s>>2]=n;d[l>>2]=t}h=d[c>>2]|0;k=0;Be(d[(d[h>>2]|0)+12>>2]|0,h|0,t|0,d[m>>2]|0,g|0);h=k;k=0;if(h&1)break;r=r+1|0;if((r|0)>=(d[o>>2]|0)){p=45;break e}}n=Ze()|0;break}t:while(1){n=d[S>>2]|0;t=n+1|0;d[s>>2]=t;n=n+u|0;d[l>>2]=n;if(!(i&1))t=n;else{d[s>>2]=n;d[l>>2]=t}p=d[c>>2]|0;k=0;Be(d[(d[p>>2]|0)+12>>2]|0,p|0,t|0,d[m>>2]|0,g|0);p=k;k=0;if(p&1){p=28;break}t=d[v>>2]|0;n=d[s>>2]|0;r=0;do{d[a>>2]=d[t+(r<<2)>>2];p=d[m>>2]|0;f[n+p>>0]=f[n+(p+-1)>>0]|0;f[(d[l>>2]|0)+-1>>0]=f[d[s>>2]>>0]|0;k=0;we(75,e|0,0);p=k;k=0;if(p&1){p=36;break t}t=d[v>>2]|0;d[t+(r<<2)>>2]=d[a>>2];n=(d[s>>2]|0)+g|0;d[s>>2]=n;d[l>>2]=(d[l>>2]|0)+g;r=r+1|0}while((r|0)<(h|0));i=i+1|0;if((i|0)>=(d[o>>2]|0)){p=45;break e}}if((p|0)==28){n=Ze()|0;break}else if((p|0)==36){n=Ze()|0;break}}else p=45}while(0);do{if((p|0)==45){k=0;be(182,e|0);e=k;k=0;if(e&1){n=Ze()|0;break}t=d[v>>2]|0;n=t;if(t){r=d[b>>2]|0;if((r|0)!=(t|0))d[b>>2]=r+(~((r+-4-n|0)>>>2)<<2);Hw(t)}t=d[S>>2]|0;if(!t){w=y;return}if((d[x>>2]|0)!=(t|0))d[x>>2]=t;Hw(t);w=y;return}}while(0);t=d[v>>2]|0;r=t;if(t){i=d[b>>2]|0;if((i|0)!=(t|0))d[b>>2]=i+(~((i+-4-r|0)>>>2)<<2);Hw(t)}}t=d[S>>2]|0;if(!t)ut(n|0);if((d[x>>2]|0)!=(t|0))d[x>>2]=t;Hw(t);ut(n|0)}function oo(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0;h=e+4604|0;t=d[h>>2]|0;v=e+180|0;if((d[v>>2]|0)<=0)return;m=e+4608|0;g=e+4612|0;i=t;a=p[t+-1>>0]|0;t=p[t>>0]|0;c=0;while(1){l=d[m>>2]|0;u=p[l+(c+-1)>>0]|0;r=c+1|0;n=p[i+r>>0]|0;s=d[g>>2]|0;o=t-a|0;i=a-u|0;s=((((f[s+(n-t)>>0]|0)*9|0)+(f[s+o>>0]|0)|0)*9|0)+(f[s+i>>0]|0)|0;if(!s){r=(uo(e,c,0)|0)+c|0;n=d[h>>2]|0;t=p[n+(r+-1)>>0]|0;n=p[n+r>>0]|0}else{a=t-u>>31;if((a^i|0)<0)i=t;else i=u+((a^o|0)<0?0:o)|0;l=so(e,s,p[l+c>>0]|0,i,0)|0;f[(d[m>>2]|0)+c>>0]=l}if((r|0)>=(d[v>>2]|0))break;i=d[h>>2]|0;a=t;t=n;c=r}return}function so(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,m=0,g=0,v=0;v=t>>31;a=(v^t)-v|0;m=e+196+(a*12|0)+10|0;o=h[m>>1]|0;p=e+196+(a*12|0)|0;i=d[p>>2]|0;if((o|0)<(i|0)){if((o<<1|0)<(i|0)){if((o<<2|0)<(i|0)){if((o<<3|0)<(i|0)){if((o<<4|0)<(i|0)){t=5;while(1){if((o<<t|0)<(i|0))t=t+1|0;else break}}else t=4}else t=3}else t=2}else t=1}else t=0;c=e+196+(a*12|0)+8|0;i=(h[c>>1]^v)-v+r|0;g=e+136|0;r=d[g>>2]|0;if((i&r|0)==(i|0))l=i;else l=r&~(i>>31);i=(n-l^v)-v|0;u=e+144|0;r=d[u>>2]|0;if((i|0)>0)i=(i+r|0)/(r<<1|1|0)|0;else i=(i-r|0)/(r<<1|1|0)|0;f=e+140|0;s=d[f>>2]|0;n=((i|0)<0?s:0)+i|0;s=n-((n|0)<((s+1|0)/2|0|0)?0:s)|0;a=e+196+(a*12|0)+4|0;if(!(r|t))i=(d[a>>2]<<1)+-1+o>>31;else i=0;r=i^s;fo(e,t,r>>30^r<<1,d[e+156>>2]|0);r=d[e+160>>2]|0;t=(d[p>>2]|0)+((s|0)>-1?s:0-s|0)|0;i=(d[a>>2]|0)+(fe(d[u>>2]<<1|1,s)|0)|0;n=h[m>>1]|0;if((n|0)==(r|0)){t=t>>1;i=i>>1;n=r>>1}d[p>>2]=t;r=n+1|0;h[m>>1]=r;t=r+i|0;if((t|0)>=1){if((i|0)>0){i=i-r|0;m=h[c>>1]|0;h[c>>1]=(m<<16>>16<127&1)+(m&65535);i=(i|0)>0?0:i}}else{i=h[c>>1]|0;h[c>>1]=(i&65535)-(i<<16>>16>-128&1);i=(t|0)>(~n|0)?t:0-n|0}d[a>>2]=i;r=d[u>>2]|0;n=r<<1|1;t=(fe(n,(s^v)-v|0)|0)+l|0;if((t|0)>=(0-r|0)){i=d[g>>2]|0;if((i+r|0)<(t|0))t=t-(fe(d[f>>2]|0,n)|0)|0}else{t=(fe(d[f>>2]|0,n)|0)+t|0;i=d[g>>2]|0}if((t&i|0)==(t|0)){v=t;v=v&255;return v|0}v=i&~(t>>31);v=v&255;return v|0}function uo(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;u=(d[e+180>>2]|0)-t|0;l=d[e+4608>>2]|0;c=d[e+4604>>2]|0;i=f[l+(t+-1)>>0]|0;s=i&255;n=e+144|0;a=0;while(1){r=l+(a+t)|0;o=(p[r>>0]|0)-s|0;if((((o|0)>-1?o:0-o|0)|0)>(d[n>>2]|0))break;f[r>>0]=i;a=a+1|0;if((a|0)==(u|0)){a=u;break}}i=(a|0)==(u|0);o=e+4600|0;r=d[36476+(d[o>>2]<<2)>>2]|0;if((1<<r|0)>(a|0))n=a;else{n=a;do{Hr(e,1,1);r=d[o>>2]|0;n=n-(1<<d[36476+(r<<2)>>2])|0;r=(r|0)>30?31:r+1|0;d[o>>2]=r;r=d[36476+(r<<2)>>2]|0}while((n|0)>=(1<<r|0))}if(!i){Hr(e,n,r+1|0);u=a+t|0;t=l+u|0;e=lo(e,p[t>>0]|0,s,p[c+u>>0]|0)|0;f[t>>0]=e;e=d[o>>2]|0;d[o>>2]=(e|0)<1?0:e+-1|0;e=a+1|0;return e|0}if(!n){e=u;return e|0}Hr(e,1,1);e=u;return e|0}function lo(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0;s=n-r|0;u=e+136|0;o=e+144|0;i=d[o>>2]|0;if((((s|0)>-1?s:0-s|0)|0)>(i|0)){a=r-n>>31|1;t=fe(a,t-r|0)|0;if((t|0)>0)t=(i+t|0)/(i<<1|1|0)|0;else t=(t-i|0)/(i<<1|1|0)|0;s=e+140|0;i=d[s>>2]|0;n=((t|0)<0?i:0)+t|0;i=n-((n|0)<((i+1|0)/2|0|0)?0:i)|0;co(e,e+4576|0,i);i=fe(i,a)|0;a=d[o>>2]|0;o=a<<1|1;i=(fe(i,o)|0)+r|0;if((i|0)>=(0-a|0)){t=d[u>>2]|0;if((t+a|0)<(i|0))i=i-(fe(d[s>>2]|0,o)|0)|0}else{i=(fe(d[s>>2]|0,o)|0)+i|0;t=d[u>>2]|0}if((i&t|0)==(i|0)){u=i;u=u&255;return u|0}u=t&~(i>>31);u=u&255;return u|0}else{t=t-n|0;if((t|0)>0)t=(i+t|0)/(i<<1|1|0)|0;else t=(t-i|0)/(i<<1|1|0)|0;s=e+140|0;i=d[s>>2]|0;a=((t|0)<0?i:0)+t|0;i=a-((a|0)<((i+1|0)/2|0|0)?0:i)|0;co(e,e+4588|0,i);a=d[o>>2]|0;o=a<<1|1;i=(fe(o,i)|0)+n|0;if((i|0)>=(0-a|0)){t=d[u>>2]|0;if((t+a|0)<(i|0))i=i-(fe(d[s>>2]|0,o)|0)|0}else{i=(fe(d[s>>2]|0,o)|0)+i|0;t=d[u>>2]|0}if((i&t|0)==(i|0)){u=i;u=u&255;return u|0}u=t&~(i>>31);u=u&255;return u|0}return 0}function co(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=t+9|0;o=p[c>>0]|0;l=t+4|0;u=d[l>>2]|0;i=(fe(o>>>1,u)|0)+(d[t>>2]|0)|0;if((o|0)<(i|0)){a=o;r=0;do{a=a<<1;r=r+1|0}while((a|0)<(i|0));i=r}else i=0;if((n|0)>0&(i|0)==0?p[t+10>>0]<<1>>>0<o>>>0:0)r=1;else s=5;do{if((s|0)==5){r=(n|0)<0;if(r?p[t+10>>0]<<1>>>0>=o>>>0:0){r=1;break}r=r&(i|0)!=0}}while(0);r=(((n|0)>-1?n:0-n|0)<<1)-u+(r<<31>>31)|0;fo(e,i,r,(d[e+156>>2]|0)+-1-(d[36476+(d[e+4600>>2]<<2)>>2]|0)|0);if((n|0)<0){e=t+10|0;f[e>>0]=(p[e>>0]|0)+1}r=(r+1-(d[l>>2]|0)>>1)+(d[t>>2]|0)|0;d[t>>2]=r;i=f[c>>0]|0;if(i<<24>>24!=(f[t+8>>0]|0)){t=i;t=t&255;t=t+1|0;t=t&255;f[c>>0]=t;return}d[t>>2]=r>>1;e=(i&255)>>>1;f[c>>0]=e;t=t+10|0;f[t>>0]=(p[t>>0]|0)>>>1;t=e;t=t&255;t=t+1|0;t=t&255;f[c>>0]=t;return}function fo(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0;i=n>>t;a=e+148|0;o=r-(d[a>>2]|0)|0;if((i|0)<(o+-1|0)){if((i|0)>30){r=(i|0)/2|0;Hr(e,0,r);i=i-r|0}Hr(e,1,i+1|0);Hr(e,(1<<t)+-1&n,t);return}if((o|0)>31){Hr(e,0,31);Hr(e,1,r+-31-(d[a>>2]|0)|0)}else Hr(e,1,o);t=d[a>>2]|0;Hr(e,(1<<t)+-1&n+-1,t);return}function ho(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0;p=w;w=w+32|0;r=p;h=e+144|0;e:do{if(!(d[h>>2]|0)){n=d[e+136>>2]|0;t=e+152|0;if((((n|0)==((1<<d[t>>2])+-1|0)?(bw(r,n,0),(d[r+4>>2]|0)==(d[e+184>>2]|0)):0)?(d[r+8>>2]|0)==(d[e+188>>2]|0):0)?(d[r+12>>2]|0)==(d[e+192>>2]|0):0)switch(d[t>>2]|0){case 8:{h=d[8900]|0;d[e+4612>>2]=h+(((d[8901]|0)-h|0)>>>1);w=p;return}case 10:{h=d[8903]|0;d[e+4612>>2]=h+(((d[8904]|0)-h|0)>>>1);w=p;return}case 12:{h=d[8906]|0;d[e+4612>>2]=h+(((d[8907]|0)-h|0)>>>1);w=p;return}case 16:{h=d[8909]|0;d[e+4612>>2]=h+(((d[8910]|0)-h|0)>>>1);w=p;return}default:break e}}else t=e+152|0}while(0);c=1<<d[t>>2];n=e+4616|0;r=c<<1;i=e+4620|0;a=d[i>>2]|0;t=d[n>>2]|0;o=a-t|0;if(r>>>0<=o>>>0){if(r>>>0<o>>>0?(s=t+r|0,(a|0)!=(s|0)):0)d[i>>2]=s}else{$r(n,r-o|0);t=d[n>>2]|0}l=e+4612|0;d[l>>2]=t+c;t=0-c|0;if((c|0)<=(t|0)){w=p;return}s=e+192|0;u=e+188|0;o=e+184|0;a=t;do{t=d[s>>2]|0;if((a|0)>(0-t|0)){n=d[u>>2]|0;if((a|0)>(0-n|0)){r=d[o>>2]|0;if((a|0)>(0-r|0)){i=d[h>>2]|0;if((a|0)>=(0-i|0)){if((i|0)<(a|0)){if((r|0)<=(a|0)){if((n|0)>(a|0))t=2;else t=(t|0)>(a|0)?3:4}else t=1}else t=0}else t=-1}else t=-2}else t=-3}else t=-4;f[(d[l>>2]|0)+a>>0]=t;a=a+1|0}while((a|0)!=(c|0));w=p;return}function po(e){e=e|0;var t=0,n=0;d[e>>2]=35856;t=d[e+4608>>2]|0;if(t){n=e+4612|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}e=e+88|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function mo(e){e=e|0;var t=0,n=0;d[e>>2]=35856;t=d[e+4608>>2]|0;if(t){n=e+4612|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+88|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function go(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+352|0;S=b+328|0;x=b+192|0;n=b+343|0;r=b+342|0;i=b+341|0;a=b+340|0;p=b+176|0;s=b+168|0;u=b+160|0;l=b+152|0;y=b;g=b+136|0;if((d[e+28>>2]|0)!=0?(d[e+20>>2]|0)!=1:0){m=e+4|0;v=e+32|0;o=d[v>>2]|0;if(!o){e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[n>>0]|0;Be(37,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}e=d[e+12>>2]|0;if((e|0)==16)switch(o|0){case 1:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[r>>0]|0;Be(38,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[i>>0]|0;Be(39,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[a>>0]|0;Be(40,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=x+56|0;i=x+4|0;d[x>>2]=36160;d[o>>2]=36180;k=0;we(62,x+56|0,i|0);b=k;k=0;if(b&1){_=Ze()|0;pd(o);ut(_|0)}d[x+128>>2]=0;d[x+132>>2]=-1;d[x>>2]=36200;d[x+56>>2]=36220;k=0;be(180,i|0);b=k;k=0;do{if(b&1)e=Ze()|0;else{d[i>>2]=36236;a=x+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[x+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);b=k;k=0;if(b&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,x|0,49007,21)|0;S=k;k=0;do{if((!(S&1)?(k=0,c=Oe(36,e|0,d[v>>2]|0)|0,S=k,k=0,!(S&1)):0)?(k=0,Te(28,c|0,50997,18)|0,S=k,k=0,!(S&1)):0){r=Ke(16)|0;k=0;we(64,p|0,i|0);S=k;k=0;if(!(S&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,p|0);S=k;k=0;if(S&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(p);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=34}while(0);if((_|0)==34)e=Ze()|0;d[x>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}if((e|0)<=8){e=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,e|0,8,35648);_=k;k=0;if(!(_&1))_t(e|0,824,96);_=Ze()|0;Ye(e|0);ut(_|0)}n=16-e|0;switch(o|0){case 1:{e=Ww(60)|0;d[s>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[s>>2];d[S+4>>2]=d[s+4>>2];Be(41,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(60)|0;d[u>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[u>>2];d[S+4>>2]=d[u+4>>2];Be(42,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(60)|0;d[l>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[l>>2];d[S+4>>2]=d[l+4>>2];Be(43,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=y+56|0;i=y+4|0;d[y>>2]=36160;d[o>>2]=36180;k=0;we(62,y+56|0,i|0);x=k;k=0;if(x&1){_=Ze()|0;pd(o);ut(_|0)}d[y+128>>2]=0;d[y+132>>2]=-1;d[y>>2]=36200;d[y+56>>2]=36220;k=0;be(180,i|0);x=k;k=0;do{if(x&1)e=Ze()|0;else{d[i>>2]=36236;a=y+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[y+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);x=k;k=0;if(x&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,y|0,49007,21)|0;x=k;k=0;do{if((!(x&1)?(k=0,h=Oe(36,e|0,d[v>>2]|0)|0,x=k,k=0,!(x&1)):0)?(k=0,Te(28,h|0,50997,18)|0,x=k,k=0,!(x&1)):0){r=Ke(16)|0;k=0;we(64,g|0,i|0);x=k;k=0;if(!(x&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,g|0);x=k;k=0;if(x&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(g);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=64}while(0);if((_|0)==64)e=Ze()|0;d[y>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}}n=d[t+4>>2]|0;r=Ww(16)|0;e=d[e+16>>2]|0;if(!n){_=d[t>>2]|0;d[r>>2]=36132;d[r+4>>2]=_;d[r+8>>2]=2;d[r+12>>2]=e;_=r;w=b;return _|0}else{d[r>>2]=36108;d[r+4>>2]=n;d[r+8>>2]=2;d[r+12>>2]=e;_=r;w=b;return _|0}return 0}function vo(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0;o=w;w=w+32|0;u=o;bw(u,d[e+128>>2]|0,d[e+136>>2]|0);s=d[t+4>>2]|0;a=d[t+8>>2]|0;a=(a|0)==0?d[u+8>>2]|0:a;i=d[t+12>>2]|0;i=(i|0)==0?d[u+12>>2]|0:i;n=d[t+16>>2]|0;r=d[u+16>>2]|0;d[e+176>>2]=(s|0)==0?d[u+4>>2]|0:s;d[e+180>>2]=a;d[e+184>>2]=i;Ao(e);i=e+132|0;t=(d[i>>2]|0)+32|0;t=(t|0)<128?2:(t|0)/64|0;a=0;do{d[e+188+(a*12|0)>>2]=t;d[e+188+(a*12|0)+4>>2]=0;h[e+188+(a*12|0)+8>>1]=0;h[e+188+(a*12|0)+10>>1]=1;a=a+1|0}while((a|0)!=365);s=(d[i>>2]|0)+32|0;s=(s|0)<128?2:(s|0)/64|0;u=((n|0)==0?r:n)&255;d[e+4568>>2]=s;d[e+4572>>2]=0;f[e+4576>>0]=u;f[e+4577>>0]=1;f[e+4578>>0]=0;d[e+4580>>2]=s;d[e+4584>>2]=1;f[e+4588>>0]=u;f[e+4589>>0]=1;f[e+4590>>0]=0;d[e+4592>>2]=0;w=o;return}function yo(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0;o=e+88|0;a=d[t>>2]|0;d[t>>2]=0;t=d[o>>2]|0;d[o>>2]=a;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);o=r+4|0;a=d[o>>2]|0;f[e+4620>>0]=i&1;t=e+156|0;d[t>>2]=d[n>>2];d[t+4>>2]=d[n+4>>2];d[t+8>>2]=d[n+8>>2];d[t+12>>2]=d[n+12>>2];zr(e,r);bo(e);t=d[e+116>>2]|0;e=d[e+112>>2]|0;while(1){i=t+-1|0;n=(f[i>>0]|0)==-1?7:8;if((e|0)<(n|0))break;else{t=i;e=e-n|0}}t=t-a|0;i=d[o>>2]|0;if(!i)return;d[o>>2]=i+t;r=r+8|0;d[r>>2]=(d[r>>2]|0)-t;return}function bo(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0;E=w;w=w+32|0;A=E+12|0;T=E;S=e+172|0;x=(d[S>>2]|0)+4|0;if((d[e+28>>2]|0)==1)_=d[e+20>>2]|0;else _=1;t=fe(_<<1,x)|0;d[A>>2]=0;O=A+4|0;d[O>>2]=0;d[A+8>>2]=0;do{if(t){if(!((t|0)<0?(k=0,be(178,A|0),C=k,k=0,C&1):0))o=6;if((o|0)==6?(n=t<<1,k=0,r=xe(67,n|0)|0,C=k,k=0,!(C&1)):0){d[A>>2]=r;C=r+(t<<1)|0;d[A+8>>2]=C;Dy(r|0,0,n|0)|0;d[O>>2]=C;break}r=Ze()|0;t=d[A>>2]|0;if(!t)ut(r|0);n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);ut(r|0)}}while(0);d[T>>2]=0;C=T+4|0;d[C>>2]=0;d[T+8>>2]=0;do{if(!_)o=18;else{if(!(_>>>0>1073741823?(k=0,be(178,T|0),b=k,k=0,b&1):0))o=16;if((o|0)==16?(i=_<<2,k=0,a=xe(67,i|0)|0,b=k,k=0,!(b&1)):0){d[T>>2]=a;o=a+(_<<2)|0;d[T+8>>2]=o;Dy(a|0,0,i|0)|0;d[C>>2]=o;o=18;break}r=Ze()|0;t=d[T>>2]|0;n=t;if(t){i=d[C>>2]|0;if((i|0)!=(t|0))d[C>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}}while(0);if((o|0)==18){a=e+8|0;e:do{if((d[a>>2]|0)>0){o=e+4596|0;s=fe(_,x)|0;u=s+1|0;l=e+4600|0;c=(_|0)>0;f=e+160|0;p=e+168|0;m=e+164|0;g=e+156|0;v=e+88|0;y=e+4592|0;b=0;t:while(1){r=d[A>>2]|0;n=r+2|0;d[o>>2]=n;r=r+(u<<1)|0;d[l>>2]=r;if(!(b&1))t=r;else{d[o>>2]=r;d[l>>2]=n;t=n;n=r}if(c){i=d[T>>2]|0;r=0;do{d[y>>2]=d[i+(r<<2)>>2];i=d[S>>2]|0;h[n+(i<<1)>>1]=h[n+(i+-1<<1)>>1]|0;h[t+-2>>1]=h[n>>1]|0;k=0;we(76,e|0,0);i=k;k=0;if(i&1){o=29;break t}i=d[T>>2]|0;d[i+(r<<2)>>2]=d[y>>2];n=(d[o>>2]|0)+(x<<1)|0;d[o>>2]=n;t=(d[l>>2]|0)+(x<<1)|0;d[l>>2]=t;r=r+1|0}while((r|0)<(_|0))}i=d[f>>2]|0;if(((i|0)<=(b|0)?(b|0)<((d[p>>2]|0)+i|0):0)?(i=d[v>>2]|0,k=0,Be(d[(d[i>>2]|0)+8>>2]|0,i|0,t+((d[g>>2]|0)-s<<1)|0,d[m>>2]|0,x|0),i=k,k=0,i&1):0){o=30;break}b=b+1|0;if((b|0)>=(d[a>>2]|0)){o=42;break e}}if((o|0)==29){r=Ze()|0;break}else if((o|0)==30){r=Ze()|0;break}}else o=42}while(0);do{if((o|0)==42){k=0;be(183,e|0);e=k;k=0;if(e&1){r=Ze()|0;break}t=d[T>>2]|0;n=t;if(t){r=d[C>>2]|0;if((r|0)!=(t|0))d[C>>2]=r+(~((r+-4-n|0)>>>2)<<2);Hw(t)}t=d[A>>2]|0;if(!t){w=E;return}n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);w=E;return}}while(0);t=d[T>>2]|0;n=t;if(t){i=d[C>>2]|0;if((i|0)!=(t|0))d[C>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}t=d[A>>2]|0;if(!t)ut(r|0);n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);ut(r|0)}function wo(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,p=0,g=0,v=0,y=0,b=0,w=0;g=e+4596|0;n=d[g>>2]|0;w=e+172|0;t=d[w>>2]|0;if((t|0)<=0)return;v=e+4600|0;y=e+4604|0;b=e+4592|0;s=n;a=m[n+-2>>1]|0;n=m[n>>1]|0;p=0;while(1){l=d[v>>2]|0;o=h[l+(p+-1<<1)>>1]|0;c=o&65535;i=p+1|0;r=m[s+(i<<1)>>1]|0;u=d[y>>2]|0;s=n-a|0;a=a-c|0;u=((((f[u+(r-n)>>0]|0)*9|0)+(f[u+s>>0]|0)|0)*9|0)+(f[u+a>>0]|0)|0;l=l+(p<<1)|0;if(!u){t=_o(e,o,l,t-p|0)|0;n=t+p|0;if((n|0)!=(d[w>>2]|0)){c=To(e,c,m[(d[g>>2]|0)+(n<<1)>>1]|0)|0;h[(d[v>>2]|0)+(n<<1)>>1]=c;c=d[b>>2]|0;d[b>>2]=(c|0)<1?0:c+-1|0;t=t+1|0}i=t+p|0;r=d[g>>2]|0;n=m[r+(i+-1<<1)>>1]|0;r=m[r+(i<<1)>>1]|0}else{t=n-c>>31;if((t^a|0)<0)t=n;else t=c+((t^s|0)<0?0:s)|0;c=xo(e,u,m[l>>1]|0,t,0)|0;h[(d[v>>2]|0)+(p<<1)>>1]=c}t=d[w>>2]|0;if((t|0)<=(i|0))break;s=d[g>>2]|0;a=n;n=r;p=i}return}function So(e){e=e|0;var t=0,n=0,r=0,i=0;r=e+116|0;n=d[r>>2]|0;if((f[n>>0]|0)!=-1){i=e+112|0;t=d[i>>2]|0;if((t|0)<1){Zr(e);t=d[i>>2]|0;n=d[r>>2]|0}e=e+108|0;r=d[e>>2]|0;d[i>>2]=t+-1;t=r<<1;d[e>>2]=t;if((f[n>>0]|0)!=-1){t=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,t|0,6,35648);e=k;k=0;if(!(e&1))_t(t|0,824,96);e=Ze()|0;Ye(t|0);ut(e|0)}}else t=d[e+108>>2]|0;if(!t)return;t=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,t|0,6,35648);e=k;k=0;if(!(e&1))_t(t|0,824,96);e=Ze()|0;Ye(t|0);ut(e|0)}function xo(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0,m=0,g=0,v=0;v=t>>31;u=(v^t)-v|0;m=e+188+(u*12|0)+10|0;n=h[m>>1]|0;p=e+188+(u*12|0)|0;i=d[p>>2]|0;if((n|0)<(i|0)){if((n<<1|0)<(i|0)){if((n<<2|0)<(i|0)){if((n<<3|0)<(i|0)){if((n<<4|0)<(i|0)){t=5;while(1){if((n<<t|0)<(i|0))t=t+1|0;else break}}else t=4}else t=3}else t=2}else t=1}else t=0;c=e+188+(u*12|0)+8|0;n=(h[c>>1]^v)-v+r|0;g=e+128|0;i=d[g>>2]|0;if((n&i|0)==(n|0))l=n;else l=i&~(n>>31);n=e+112|0;if((d[n>>2]|0)<8)Zr(e);i=e+108|0;r=d[i>>2]|0;a=r>>>24;o=d[2832+(t<<11)+(a<<3)+4>>2]|0;if(!o){s=d[e+148>>2]|0;i=d[e+140>>2]|0;n=ko(e)|0;if((n|0)<(s+-1-i|0)){if(t)n=(Co(e,t)|0)+(n<<t)|0}else n=(Co(e,i)|0)+1|0;n=n<<31>>31^n>>1;if((((n|0)>-1?n:0-n|0)|0)>65535){n=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,n|0,5,35648);e=k;k=0;if(e&1){e=Ze()|0;Ye(n|0);ut(e|0)}else _t(n|0,824,96)}}else{d[n>>2]=(d[n>>2]|0)-o;d[i>>2]=r<<o;n=d[2832+(t<<11)+(a<<3)>>2]|0}s=e+136|0;r=d[s>>2]|0;if(!t){if(!r)i=(d[e+188+(u*12|0)+4>>2]<<1)+-1+(h[m>>1]|0)>>31;else i=0;o=i^n}else o=n;t=d[e+152>>2]|0;i=(d[p>>2]|0)+((o|0)>-1?o:0-o|0)|0;a=e+188+(u*12|0)+4|0;n=(d[a>>2]|0)+(fe(r<<1|1,o)|0)|0;r=h[m>>1]|0;if((r|0)==(t|0)){i=i>>1;n=n>>1;r=t>>1}d[p>>2]=i;t=r+1|0;h[m>>1]=t;i=t+n|0;if((i|0)>=1){if((n|0)>0){n=n-t|0;m=h[c>>1]|0;h[c>>1]=(m<<16>>16<127&1)+(m&65535);n=(n|0)>0?0:n}}else{n=h[c>>1]|0;h[c>>1]=(n&65535)-(n<<16>>16>-128&1);n=(i|0)>(~r|0)?i:0-r|0}d[a>>2]=n;t=d[s>>2]|0;r=t<<1|1;i=(fe(r,(o^v)-v|0)|0)+l|0;if((i|0)>=(0-t|0)){n=d[g>>2]|0;if((n+t|0)<(i|0))i=i-(fe(d[e+132>>2]|0,r)|0)|0}else{i=(fe(d[e+132>>2]|0,r)|0)+i|0;n=d[g>>2]|0}if((i&n|0)==(i|0)){e=i;e=e&65535;return e|0}e=n&~(i>>31);e=e&65535;return e|0}function _o(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,p=0,m=0;s=e+112|0;u=e+108|0;l=e+4592|0;i=d[s>>2]|0;a=0;while(1){if((i|0)<1){Zr(e);i=d[s>>2]|0}o=d[u>>2]|0;i=i+-1|0;d[s>>2]=i;d[u>>2]=o<<1;if((o|0)>=0){c=8;break}o=d[l>>2]|0;p=1<<d[36476+(o<<2)>>2];m=r-a|0;m=(p|0)<(m|0)?p:m;a=m+a|0;if((m|0)==(p|0))d[l>>2]=(o|0)>30?31:o+1|0;if((a|0)==(r|0)){i=r;break}}if((c|0)==8)if((a|0)!=(r|0)){i=d[l>>2]|0;if((i+-4|0)>>>0<28)i=Co(e,d[36476+(i<<2)>>2]|0)|0;else i=0;i=i+a|0;if((i|0)>(r|0)){i=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,i|0,5,35648);m=k;k=0;if(m&1){m=Ze()|0;Ye(i|0);ut(m|0)}else _t(i|0,824,96)}}else i=r;if((i|0)>0)a=0;else return i|0;do{h[n+(a<<1)>>1]=t;a=a+1|0}while((a|0)!=(i|0));return i|0}function To(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;a=t-n|0;o=e+128|0;r=e+136|0;if((((a|0)>-1?a:0-a|0)|0)>(d[r>>2]|0)){t=fe(Eo(e,e+4568|0)|0,n-t>>31|1)|0;i=d[r>>2]|0;a=i<<1|1;t=(fe(t,a)|0)+n|0;if((t|0)>=(0-i|0)){r=d[o>>2]|0;if((r+i|0)<(t|0))t=t-(fe(d[e+132>>2]|0,a)|0)|0}else{t=(fe(d[e+132>>2]|0,a)|0)+t|0;r=d[o>>2]|0}if((t&r|0)==(t|0)){e=t;e=e&65535;return e|0}e=r&~(t>>31);e=e&65535;return e|0}else{n=Eo(e,e+4580|0)|0;a=d[r>>2]|0;i=a<<1|1;t=(fe(i,n)|0)+t|0;if((t|0)>=(0-a|0)){r=d[o>>2]|0;if((r+a|0)<(t|0))t=t-(fe(d[e+132>>2]|0,i)|0)|0}else{t=(fe(d[e+132>>2]|0,i)|0)+t|0;r=d[o>>2]|0}if((t&r|0)==(t|0)){e=t;e=e&65535;return e|0}e=r&~(t>>31);e=e&65535;return e|0}return 0}function Eo(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0;l=t+9|0;n=p[l>>0]|0;a=t+4|0;i=(fe(n>>>1,d[a>>2]|0)|0)+(d[t>>2]|0)|0;if((n|0)<(i|0)){r=0;do{n=n<<1;r=r+1|0}while((n|0)<(i|0))}else r=0;o=d[e+148>>2]|0;s=d[36476+(d[e+4592>>2]<<2)>>2]|0;n=d[e+140>>2]|0;i=ko(e)|0;do{if((i|0)<(o+-2-s-n|0)){if(!r){r=d[a>>2]|0;e=r+i|0;n=e&1;e=(n+e|0)/2|0;u=8;break}else{s=(Co(e,r)|0)+(i<<r)|0;r=d[a>>2]|0;i=s+r|0;o=i&1;n=o;a=1;i=(o+i|0)/2|0;break}}else{i=(Co(e,n)|0)+1|0;o=d[a>>2]|0;e=i+o|0;n=e&1;e=(n+e|0)/2|0;if(!r){r=o;u=8}else{s=i;a=1;i=e;r=o}}}while(0);if((u|0)==8){s=i;a=p[t+10>>0]<<1>>>0>=(p[l>>0]|0)>>>0;i=e}i=(n|0)!=0^a?i:0-i|0;if((i|0)<0){u=t+10|0;f[u>>0]=(p[u>>0]|0)+1}n=(s+1-r>>1)+(d[t>>2]|0)|0;d[t>>2]=n;r=f[l>>0]|0;if(r<<24>>24!=(f[t+8>>0]|0)){t=r;t=t&255;t=t+1|0;t=t&255;f[l>>0]=t;return i|0}d[t>>2]=n>>1;u=(r&255)>>>1;f[l>>0]=u;t=t+10|0;f[t>>0]=(p[t>>0]|0)>>>1;t=u;t=t&255;t=t+1|0;t=t&255;f[l>>0]=t;return i|0}function ko(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0;a=e+112|0;if((d[a>>2]|0)<16)Zr(e);o=e+108|0;n=d[o>>2]|0;if((n|0)>=0){if(!(n&1073741824)){if(!(n&536870912)){if(!(n&268435456)){if(!(n&134217728)){if(!(n&67108864)){if(!(n&33554432)){if(!(n&16777216)){if(!(n&8388608)){if(!(n&4194304)){if(!(n&2097152)){if(!(n&1048576)){if(!(n&524288)){if(!(n&262144)){if(!(n&131072)){i=n>>>12&16;t=i+-1|0;if(!i){t=(d[a>>2]|0)+-15|0;d[a>>2]=t;r=n<<15;d[o>>2]=r;n=t;t=15;while(1){if((n|0)<1){Zr(e);i=d[o>>2]|0;n=d[a>>2]|0}else i=r;n=n+-1|0;d[a>>2]=n;r=i<<1;d[o>>2]=r;if((i|0)<0)break;else t=t+1|0}return t|0}}else t=14}else t=13}else t=12}else t=11}else t=10}else t=9}else t=8}else t=7}else t=6}else t=5}else t=4}else t=3}else t=2}else t=1}else t=0;e=t+1|0;d[a>>2]=(d[a>>2]|0)-e;d[o>>2]=n<<e;o=t;return o|0}function Co(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;r=e+112|0;n=d[r>>2]|0;if((n|0)<(t|0)){Zr(e);n=d[r>>2]|0;if((n|0)<(t|0)){n=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,n|0,5,35648);e=k;k=0;if(e&1){e=Ze()|0;Ye(n|0);ut(e|0)}else _t(n|0,824,96)}}i=e+108|0;e=d[i>>2]|0;d[r>>2]=n-t;d[i>>2]=e<<t;return e>>>(32-t|0)|0}function Ao(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0;p=w;w=w+32|0;r=p;h=e+136|0;e:do{if(!(d[h>>2]|0)){n=d[e+128>>2]|0;t=e+144|0;if((((n|0)==((1<<d[t>>2])+-1|0)?(bw(r,n,0),(d[r+4>>2]|0)==(d[e+176>>2]|0)):0)?(d[r+8>>2]|0)==(d[e+180>>2]|0):0)?(d[r+12>>2]|0)==(d[e+184>>2]|0):0)switch(d[t>>2]|0){case 8:{h=d[8900]|0;d[e+4604>>2]=h+(((d[8901]|0)-h|0)>>>1);w=p;return}case 10:{h=d[8903]|0;d[e+4604>>2]=h+(((d[8904]|0)-h|0)>>>1);w=p;return}case 12:{h=d[8906]|0;d[e+4604>>2]=h+(((d[8907]|0)-h|0)>>>1);w=p;return}case 16:{h=d[8909]|0;d[e+4604>>2]=h+(((d[8910]|0)-h|0)>>>1);w=p;return}default:break e}}else t=e+144|0}while(0);c=1<<d[t>>2];n=e+4608|0;r=c<<1;i=e+4612|0;a=d[i>>2]|0;t=d[n>>2]|0;o=a-t|0;if(r>>>0<=o>>>0){if(r>>>0<o>>>0?(s=t+r|0,(a|0)!=(s|0)):0)d[i>>2]=s}else{$r(n,r-o|0);t=d[n>>2]|0}l=e+4604|0;d[l>>2]=t+c;t=0-c|0;if((c|0)<=(t|0)){w=p;return}s=e+184|0;u=e+180|0;o=e+176|0;a=t;do{t=d[s>>2]|0;if((a|0)>(0-t|0)){n=d[u>>2]|0;if((a|0)>(0-n|0)){r=d[o>>2]|0;if((a|0)>(0-r|0)){i=d[h>>2]|0;if((a|0)>=(0-i|0)){if((i|0)<(a|0)){if((r|0)<=(a|0)){if((n|0)>(a|0))t=2;else t=(t|0)>(a|0)?3:4}else t=1}else t=0}else t=-1}else t=-2}else t=-3}else t=-4;f[(d[l>>2]|0)+a>>0]=t;a=a+1|0}while((a|0)!=(c|0));w=p;return}function Oo(e){e=e|0;var t=0,n=0;d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}e=e+88|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function Io(e){e=e|0;var t=0,n=0;d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+88|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function Mo(e){e=e|0;var t=0,n=0;d[e>>2]=35828;t=d[e+4608>>2]|0;if(t){n=e+4612|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}e=e+88|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function Do(e){e=e|0;var t=0,n=0;d[e>>2]=35828;t=d[e+4608>>2]|0;if(t){n=e+4612|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+88|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function Ro(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+352|0;S=b+328|0;x=b+192|0;n=b+343|0;r=b+342|0;i=b+341|0;a=b+340|0;p=b+176|0;s=b+168|0;u=b+160|0;l=b+152|0;y=b;g=b+136|0;if((d[e+28>>2]|0)!=0?(d[e+20>>2]|0)!=1:0){m=e+4|0;v=e+32|0;o=d[v>>2]|0;if(!o){e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[n>>0]|0;Be(37,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}e=d[e+12>>2]|0;if((e|0)==16)switch(o|0){case 1:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[r>>0]|0;Be(38,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[i>>0]|0;Be(39,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[a>>0]|0;Be(40,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=x+56|0;i=x+4|0;d[x>>2]=36160;d[o>>2]=36180;k=0;we(62,x+56|0,i|0);b=k;k=0;if(b&1){_=Ze()|0;pd(o);ut(_|0)}d[x+128>>2]=0;d[x+132>>2]=-1;d[x>>2]=36200;d[x+56>>2]=36220;k=0;be(180,i|0);b=k;k=0;do{if(b&1)e=Ze()|0;else{d[i>>2]=36236;a=x+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[x+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);b=k;k=0;if(b&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,x|0,49007,21)|0;S=k;k=0;do{if((!(S&1)?(k=0,c=Oe(36,e|0,d[v>>2]|0)|0,S=k,k=0,!(S&1)):0)?(k=0,Te(28,c|0,50997,18)|0,S=k,k=0,!(S&1)):0){r=Ke(16)|0;k=0;we(64,p|0,i|0);S=k;k=0;if(!(S&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,p|0);S=k;k=0;if(S&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(p);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=34}while(0);if((_|0)==34)e=Ze()|0;d[x>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}if((e|0)<=8){e=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,e|0,8,35648);_=k;k=0;if(!(_&1))_t(e|0,824,96);_=Ze()|0;Ye(e|0);ut(_|0)}n=16-e|0;switch(o|0){case 1:{e=Ww(60)|0;d[s>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[s>>2];d[S+4>>2]=d[s+4>>2];Be(41,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(60)|0;d[u>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[u>>2];d[S+4>>2]=d[u+4>>2];Be(42,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(60)|0;d[l>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[l>>2];d[S+4>>2]=d[l+4>>2];Be(43,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=y+56|0;i=y+4|0;d[y>>2]=36160;d[o>>2]=36180;k=0;we(62,y+56|0,i|0);x=k;k=0;if(x&1){_=Ze()|0;pd(o);ut(_|0)}d[y+128>>2]=0;d[y+132>>2]=-1;d[y>>2]=36200;d[y+56>>2]=36220;k=0;be(180,i|0);x=k;k=0;do{if(x&1)e=Ze()|0;else{d[i>>2]=36236;a=y+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[y+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);x=k;k=0;if(x&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,y|0,49007,21)|0;x=k;k=0;do{if((!(x&1)?(k=0,h=Oe(36,e|0,d[v>>2]|0)|0,x=k,k=0,!(x&1)):0)?(k=0,Te(28,h|0,50997,18)|0,x=k,k=0,!(x&1)):0){r=Ke(16)|0;k=0;we(64,g|0,i|0);x=k;k=0;if(!(x&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,g|0);x=k;k=0;if(x&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(g);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=64}while(0);if((_|0)==64)e=Ze()|0;d[y>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}}n=d[t+4>>2]|0;r=Ww(16)|0;e=d[e+16>>2]|0;if(!n){_=d[t>>2]|0;d[r>>2]=36132;d[r+4>>2]=_;d[r+8>>2]=6;d[r+12>>2]=e;_=r;w=b;return _|0}else{d[r>>2]=36108;d[r+4>>2]=n;d[r+8>>2]=6;d[r+12>>2]=e;_=r;w=b;return _|0}return 0}function Po(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0;o=w;w=w+32|0;u=o;bw(u,d[e+128>>2]|0,d[e+136>>2]|0);s=d[t+4>>2]|0;a=d[t+8>>2]|0;a=(a|0)==0?d[u+8>>2]|0:a;i=d[t+12>>2]|0;i=(i|0)==0?d[u+12>>2]|0:i;n=d[t+16>>2]|0;r=d[u+16>>2]|0;d[e+176>>2]=(s|0)==0?d[u+4>>2]|0:s;d[e+180>>2]=a;d[e+184>>2]=i;Vo(e);i=e+132|0;t=(d[i>>2]|0)+32|0;t=(t|0)<128?2:(t|0)/64|0;a=0;do{d[e+188+(a*12|0)>>2]=t;d[e+188+(a*12|0)+4>>2]=0;h[e+188+(a*12|0)+8>>1]=0;h[e+188+(a*12|0)+10>>1]=1;a=a+1|0}while((a|0)!=365);s=(d[i>>2]|0)+32|0;s=(s|0)<128?2:(s|0)/64|0;u=((n|0)==0?r:n)&255;d[e+4568>>2]=s;d[e+4572>>2]=0;f[e+4576>>0]=u;f[e+4577>>0]=1;f[e+4578>>0]=0;d[e+4580>>2]=s;d[e+4584>>2]=1;f[e+4588>>0]=u;f[e+4589>>0]=1;f[e+4590>>0]=0;d[e+4592>>2]=0;w=o;return}function No(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0;o=e+88|0;a=d[t>>2]|0;d[t>>2]=0;t=d[o>>2]|0;d[o>>2]=a;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);o=r+4|0;a=d[o>>2]|0;f[e+4620>>0]=i&1;t=e+156|0;d[t>>2]=d[n>>2];d[t+4>>2]=d[n+4>>2];d[t+8>>2]=d[n+8>>2];d[t+12>>2]=d[n+12>>2];zr(e,r);Lo(e);t=d[e+116>>2]|0;e=d[e+112>>2]|0;while(1){i=t+-1|0;n=(f[i>>0]|0)==-1?7:8;if((e|0)<(n|0))break;else{t=i;e=e-n|0}}t=t-a|0;i=d[o>>2]|0;if(!i)return;d[o>>2]=i+t;r=r+8|0;d[r>>2]=(d[r>>2]|0)-t;return}function Lo(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0;E=w;w=w+32|0;A=E+12|0;T=E;S=e+172|0;x=(d[S>>2]|0)+4|0;if((d[e+28>>2]|0)==1)_=d[e+20>>2]|0;else _=1;t=fe(_<<1,x)|0;d[A>>2]=0;O=A+4|0;d[O>>2]=0;d[A+8>>2]=0;do{if(t){if(!(t>>>0>715827882?(k=0,be(178,A|0),C=k,k=0,C&1):0))o=6;if((o|0)==6?(k=0,n=xe(67,t*6|0)|0,C=k,k=0,!(C&1)):0){d[O>>2]=n;d[A>>2]=n;r=n+(t*6|0)|0;d[A+8>>2]=r;while(1){h[n>>1]=0;h[n+2>>1]=0;h[n+4>>1]=0;t=t+-1|0;if(!t)break;else n=n+6|0}d[O>>2]=r;break}r=Ze()|0;t=d[A>>2]|0;if(!t)ut(r|0);n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~(((n+-6-t|0)>>>0)/6|0)*6|0);Hw(t);ut(r|0)}}while(0);d[T>>2]=0;C=T+4|0;d[C>>2]=0;d[T+8>>2]=0;do{if(!_)o=20;else{if(!(_>>>0>1073741823?(k=0,be(178,T|0),b=k,k=0,b&1):0))o=18;if((o|0)==18?(i=_<<2,k=0,a=xe(67,i|0)|0,b=k,k=0,!(b&1)):0){d[T>>2]=a;o=a+(_<<2)|0;d[T+8>>2]=o;Dy(a|0,0,i|0)|0;d[C>>2]=o;o=20;break}r=Ze()|0;t=d[T>>2]|0;n=t;if(t){i=d[C>>2]|0;if((i|0)!=(t|0))d[C>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}}while(0);if((o|0)==20){a=e+8|0;e:do{if((d[a>>2]|0)>0){o=e+4596|0;s=fe(_,x)|0;u=s+1|0;l=e+4600|0;c=(_|0)>0;f=e+160|0;p=e+168|0;m=e+164|0;g=e+156|0;v=e+88|0;y=e+4592|0;b=0;t:while(1){r=d[A>>2]|0;n=r+6|0;d[o>>2]=n;r=r+(u*6|0)|0;d[l>>2]=r;if(!(b&1))t=r;else{d[o>>2]=r;d[l>>2]=n;t=n;n=r}if(c){i=d[T>>2]|0;r=0;do{d[y>>2]=d[i+(r<<2)>>2];t=d[S>>2]|0;i=n+(t*6|0)|0;n=n+((t+-1|0)*6|0)|0;h[i>>1]=h[n>>1]|0;h[i+2>>1]=h[n+2>>1]|0;h[i+4>>1]=h[n+4>>1]|0;i=(d[l>>2]|0)+-6|0;n=d[o>>2]|0;h[i>>1]=h[n>>1]|0;h[i+2>>1]=h[n+2>>1]|0;h[i+4>>1]=h[n+4>>1]|0;k=0;we(77,e|0,0);i=k;k=0;if(i&1){o=31;break t}i=d[T>>2]|0;d[i+(r<<2)>>2]=d[y>>2];n=(d[o>>2]|0)+(x*6|0)|0;d[o>>2]=n;t=(d[l>>2]|0)+(x*6|0)|0;d[l>>2]=t;r=r+1|0}while((r|0)<(_|0))}i=d[f>>2]|0;if(((i|0)<=(b|0)?(b|0)<((d[p>>2]|0)+i|0):0)?(i=d[v>>2]|0,k=0,Be(d[(d[i>>2]|0)+8>>2]|0,i|0,t+(((d[g>>2]|0)-s|0)*6|0)|0,d[m>>2]|0,x|0),i=k,k=0,i&1):0){o=32;break}b=b+1|0;if((b|0)>=(d[a>>2]|0)){o=44;break e}}if((o|0)==31){r=Ze()|0;break}else if((o|0)==32){r=Ze()|0;break}}else o=44}while(0);do{if((o|0)==44){k=0;be(183,e|0);e=k;k=0;if(e&1){r=Ze()|0;break}t=d[T>>2]|0;n=t;if(t){r=d[C>>2]|0;if((r|0)!=(t|0))d[C>>2]=r+(~((r+-4-n|0)>>>2)<<2);Hw(t)}t=d[A>>2]|0;if(!t){w=E;return}n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~(((n+-6-t|0)>>>0)/6|0)*6|0);Hw(t);w=E;return}}while(0);t=d[T>>2]|0;n=t;if(t){i=d[C>>2]|0;if((i|0)!=(t|0))d[C>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}t=d[A>>2]|0;if(!t)ut(r|0);n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~(((n+-6-t|0)>>>0)/6|0)*6|0);Hw(t);ut(r|0)}function Fo(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,p=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,k=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0,P=0,N=0,L=0,F=0,B=0,z=0,U=0;z=w;w=w+32|0;O=z+24|0;B=z+18|0;F=z+12|0;I=z+6|0;M=z;D=e+172|0;t=d[D>>2]|0;if((t|0)<=0){w=z;return}R=e+4600|0;P=e+4596|0;N=e+4604|0;L=e+4592|0;A=0;while(1){r=A+-1|0;i=d[R>>2]|0;U=d[P>>2]|0;n=A+1|0;a=m[U+(A*6|0)>>1]|0;C=d[N>>2]|0;o=m[U+(r*6|0)>>1]|0;s=a-o|0;u=m[i+(r*6|0)>>1]|0;l=o-u|0;c=((((f[C+((m[U+(n*6|0)>>1]|0)-a)>>0]|0)*9|0)+(f[C+s>>0]|0)|0)*9|0)+(f[C+l>>0]|0)|0;p=m[U+(A*6|0)+2>>1]|0;g=m[U+(r*6|0)+2>>1]|0;v=p-g|0;y=m[i+(r*6|0)+2>>1]|0;b=g-y|0;S=((((f[C+((m[U+(n*6|0)+2>>1]|0)-p)>>0]|0)*9|0)+(f[C+v>>0]|0)|0)*9|0)+(f[C+b>>0]|0)|0;x=m[U+(A*6|0)+4>>1]|0;_=m[U+(r*6|0)+4>>1]|0;T=x-_|0;E=m[i+(r*6|0)+4>>1]|0;k=_-E|0;C=((((f[C+((m[U+(n*6|0)+4>>1]|0)-x)>>0]|0)*9|0)+(f[C+T>>0]|0)|0)*9|0)+(f[C+k>>0]|0)|0;if(!(S|c|C)){n=i+(r*6|0)|0;h[F>>1]=h[n>>1]|0;h[F+2>>1]=h[n+2>>1]|0;h[F+4>>1]=h[n+4>>1]|0;h[O>>1]=h[n>>1]|0;h[O+2>>1]=h[n+2>>1]|0;h[O+4>>1]=h[n+4>>1]|0;t=Bo(e,O,i+(A*6|0)|0,t-A|0)|0;n=t+A|0;if((n|0)!=(d[D>>2]|0)){U=(d[P>>2]|0)+(n*6|0)|0;h[M>>1]=h[U>>1]|0;h[M+2>>1]=h[U+2>>1]|0;h[M+4>>1]=h[U+4>>1]|0;U=(d[R>>2]|0)+(n*6|0)|0;h[B>>1]=h[F>>1]|0;h[B+2>>1]=h[F+2>>1]|0;h[B+4>>1]=h[F+4>>1]|0;h[O>>1]=h[M>>1]|0;h[O+2>>1]=h[M+2>>1]|0;h[O+4>>1]=h[M+4>>1]|0;zo(I,e,B,O);h[U>>1]=h[I>>1]|0;h[U+2>>1]=h[I+2>>1]|0;h[U+4>>1]=h[I+4>>1]|0;U=d[L>>2]|0;d[L>>2]=(U|0)<1?0:U+-1|0;t=t+1|0}n=t+A|0}else{r=m[i+(A*6|0)>>1]|0;t=a-u>>31;if((t^l|0)>=0){if((t^s|0)<0)t=u;else t=u-o+a|0}else t=a;a=Uo(e,c,r,t,0)|0;r=m[(d[R>>2]|0)+(A*6|0)+2>>1]|0;t=p-y>>31;if((t^b|0)>=0){if((t^v|0)<0)t=y;else t=y-g+p|0}else t=p;r=Uo(e,S,r,t,0)|0;i=m[(d[R>>2]|0)+(A*6|0)+4>>1]|0;t=x-E>>31;if((t^k|0)>=0){if((t^T|0)<0)t=E;else t=E-_+x|0}else t=x;C=Uo(e,C,i,t,0)|0;U=d[R>>2]|0;h[U+(A*6|0)>>1]=a;h[U+(A*6|0)+2>>1]=r;h[U+(A*6|0)+4>>1]=C}t=d[D>>2]|0;if((n|0)>=(t|0))break;else A=n}w=z;return}function Bo(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,p=0,m=0;s=e+112|0;u=e+108|0;l=e+4592|0;i=d[s>>2]|0;a=0;while(1){if((i|0)<1){Zr(e);i=d[s>>2]|0}o=d[u>>2]|0;i=i+-1|0;d[s>>2]=i;d[u>>2]=o<<1;if((o|0)>=0){c=8;break}o=d[l>>2]|0;p=1<<d[36476+(o<<2)>>2];m=r-a|0;m=(p|0)<(m|0)?p:m;a=m+a|0;if((m|0)==(p|0))d[l>>2]=(o|0)>30?31:o+1|0;if((a|0)==(r|0)){i=r;break}}if((c|0)==8)if((a|0)!=(r|0)){i=d[l>>2]|0;if((i+-4|0)>>>0<28)i=Co(e,d[36476+(i<<2)>>2]|0)|0;else i=0;i=i+a|0;if((i|0)>(r|0)){i=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,i|0,5,35648);m=k;k=0;if(m&1){m=Ze()|0;Ye(i|0);ut(m|0)}else _t(i|0,824,96)}}else i=r;if((i|0)<=0)return i|0;a=0;do{m=n+(a*6|0)|0;h[m>>1]=h[t>>1]|0;h[m+2>>1]=h[t+2>>1]|0;h[m+4>>1]=h[t+4>>1]|0;a=a+1|0}while((a|0)!=(i|0));return i|0}function zo(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0;u=t+4568|0;f=jo(t,u)|0;o=jo(t,u)|0;u=jo(t,u)|0;a=t+128|0;i=m[r>>1]|0;l=d[t+136>>2]|0;c=l<<1|1;i=(fe(fe(c,f)|0,i-(m[n>>1]|0)>>31|1)|0)+i|0;f=0-l|0;if((i|0)>=(f|0)){a=d[a>>2]|0;if((a+l|0)<(i|0))i=i-(fe(d[t+132>>2]|0,c)|0)|0}else{i=(fe(d[t+132>>2]|0,c)|0)+i|0;a=d[a>>2]|0}if((i&a|0)!=(i|0))i=a&~(i>>31);s=i&65535;i=m[r+2>>1]|0;i=(fe(fe(c,o)|0,i-(m[n+2>>1]|0)>>31|1)|0)+i|0;if((i|0)>=(f|0)){if((a+l|0)<(i|0))i=i-(fe(d[t+132>>2]|0,c)|0)|0}else i=(fe(d[t+132>>2]|0,c)|0)+i|0;if((i&a|0)!=(i|0))i=a&~(i>>31);o=i&65535;i=m[r+4>>1]|0;i=(fe(fe(c,u)|0,i-(m[n+4>>1]|0)>>31|1)|0)+i|0;if((i|0)>=(f|0)){if((a+l|0)<(i|0))i=i-(fe(d[t+132>>2]|0,c)|0)|0}else i=(fe(d[t+132>>2]|0,c)|0)+i|0;if((i&a|0)==(i|0)){t=i;t=t&65535;h[e>>1]=s;f=e+2|0;h[f>>1]=o;e=e+4|0;h[e>>1]=t;return}t=a&~(i>>31);t=t&65535;h[e>>1]=s;f=e+2|0;h[f>>1]=o;e=e+4|0;h[e>>1]=t;return}function Uo(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0,m=0,g=0,v=0;v=t>>31;u=(v^t)-v|0;m=e+188+(u*12|0)+10|0;n=h[m>>1]|0;p=e+188+(u*12|0)|0;i=d[p>>2]|0;if((n|0)<(i|0)){if((n<<1|0)<(i|0)){if((n<<2|0)<(i|0)){if((n<<3|0)<(i|0)){if((n<<4|0)<(i|0)){t=5;while(1){if((n<<t|0)<(i|0))t=t+1|0;else break}}else t=4}else t=3}else t=2}else t=1}else t=0;c=e+188+(u*12|0)+8|0;n=(h[c>>1]^v)-v+r|0;g=e+128|0;i=d[g>>2]|0;if((n&i|0)==(n|0))l=n;else l=i&~(n>>31);n=e+112|0;if((d[n>>2]|0)<8)Zr(e);i=e+108|0;r=d[i>>2]|0;a=r>>>24;o=d[2832+(t<<11)+(a<<3)+4>>2]|0;if(!o){s=d[e+148>>2]|0;i=d[e+140>>2]|0;n=ko(e)|0;if((n|0)<(s+-1-i|0)){if(t)n=(Co(e,t)|0)+(n<<t)|0}else n=(Co(e,i)|0)+1|0;n=n<<31>>31^n>>1;if((((n|0)>-1?n:0-n|0)|0)>65535){n=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,n|0,5,35648);e=k;k=0;if(e&1){e=Ze()|0;Ye(n|0);ut(e|0)}else _t(n|0,824,96)}}else{d[n>>2]=(d[n>>2]|0)-o;d[i>>2]=r<<o;n=d[2832+(t<<11)+(a<<3)>>2]|0}s=e+136|0;r=d[s>>2]|0;if(!t){if(!r)i=(d[e+188+(u*12|0)+4>>2]<<1)+-1+(h[m>>1]|0)>>31;else i=0;o=i^n}else o=n;t=d[e+152>>2]|0;i=(d[p>>2]|0)+((o|0)>-1?o:0-o|0)|0;a=e+188+(u*12|0)+4|0;n=(d[a>>2]|0)+(fe(r<<1|1,o)|0)|0;r=h[m>>1]|0;if((r|0)==(t|0)){i=i>>1;n=n>>1;r=t>>1}d[p>>2]=i;t=r+1|0;h[m>>1]=t;i=t+n|0;if((i|0)>=1){if((n|0)>0){n=n-t|0;m=h[c>>1]|0;h[c>>1]=(m<<16>>16<127&1)+(m&65535);n=(n|0)>0?0:n}}else{n=h[c>>1]|0;h[c>>1]=(n&65535)-(n<<16>>16>-128&1);n=(i|0)>(~r|0)?i:0-r|0}d[a>>2]=n;t=d[s>>2]|0;r=t<<1|1;i=(fe(r,(o^v)-v|0)|0)+l|0;if((i|0)>=(0-t|0)){n=d[g>>2]|0;if((n+t|0)<(i|0))i=i-(fe(d[e+132>>2]|0,r)|0)|0}else{i=(fe(d[e+132>>2]|0,r)|0)+i|0;n=d[g>>2]|0}if((i&n|0)==(i|0)){e=i;e=e&65535;return e|0}e=n&~(i>>31);e=e&65535;return e|0}function jo(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0;l=t+9|0;n=p[l>>0]|0;a=t+4|0;i=(fe(n>>>1,d[a>>2]|0)|0)+(d[t>>2]|0)|0;if((n|0)<(i|0)){r=0;do{n=n<<1;r=r+1|0}while((n|0)<(i|0))}else r=0;o=d[e+148>>2]|0;s=d[36476+(d[e+4592>>2]<<2)>>2]|0;n=d[e+140>>2]|0;i=ko(e)|0;do{if((i|0)<(o+-2-s-n|0)){if(!r){r=d[a>>2]|0;e=r+i|0;n=e&1;e=(n+e|0)/2|0;u=8;break}else{s=(Co(e,r)|0)+(i<<r)|0;r=d[a>>2]|0;i=s+r|0;o=i&1;n=o;a=1;i=(o+i|0)/2|0;break}}else{i=(Co(e,n)|0)+1|0;o=d[a>>2]|0;e=i+o|0;n=e&1;e=(n+e|0)/2|0;if(!r){r=o;u=8}else{s=i;a=1;i=e;r=o}}}while(0);if((u|0)==8){s=i;a=p[t+10>>0]<<1>>>0>=(p[l>>0]|0)>>>0;i=e}i=(n|0)!=0^a?i:0-i|0;if((i|0)<0){u=t+10|0;f[u>>0]=(p[u>>0]|0)+1}n=(s+1-r>>1)+(d[t>>2]|0)|0;d[t>>2]=n;r=f[l>>0]|0;if(r<<24>>24!=(f[t+8>>0]|0)){t=r;t=t&255;t=t+1|0;t=t&255;f[l>>0]=t;return i|0}d[t>>2]=n>>1;u=(r&255)>>>1;f[l>>0]=u;t=t+10|0;f[t>>0]=(p[t>>0]|0)>>>1;t=u;t=t&255;t=t+1|0;t=t&255;f[l>>0]=t;return i|0}function Vo(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0;p=w;w=w+32|0;r=p;h=e+136|0;e:do{if(!(d[h>>2]|0)){n=d[e+128>>2]|0;t=e+144|0;if((((n|0)==((1<<d[t>>2])+-1|0)?(bw(r,n,0),(d[r+4>>2]|0)==(d[e+176>>2]|0)):0)?(d[r+8>>2]|0)==(d[e+180>>2]|0):0)?(d[r+12>>2]|0)==(d[e+184>>2]|0):0)switch(d[t>>2]|0){case 8:{h=d[8900]|0;d[e+4604>>2]=h+(((d[8901]|0)-h|0)>>>1);w=p;return}case 10:{h=d[8903]|0;d[e+4604>>2]=h+(((d[8904]|0)-h|0)>>>1);w=p;return}case 12:{h=d[8906]|0;d[e+4604>>2]=h+(((d[8907]|0)-h|0)>>>1);w=p;return}case 16:{h=d[8909]|0;d[e+4604>>2]=h+(((d[8910]|0)-h|0)>>>1);w=p;return}default:break e}}else t=e+144|0}while(0);c=1<<d[t>>2];n=e+4608|0;r=c<<1;i=e+4612|0;a=d[i>>2]|0;t=d[n>>2]|0;o=a-t|0;if(r>>>0<=o>>>0){if(r>>>0<o>>>0?(s=t+r|0,(a|0)!=(s|0)):0)d[i>>2]=s}else{$r(n,r-o|0);t=d[n>>2]|0}l=e+4604|0;d[l>>2]=t+c;t=0-c|0;if((c|0)<=(t|0)){w=p;return}s=e+184|0;u=e+180|0;o=e+176|0;a=t;do{t=d[s>>2]|0;if((a|0)>(0-t|0)){n=d[u>>2]|0;if((a|0)>(0-n|0)){r=d[o>>2]|0;if((a|0)>(0-r|0)){i=d[h>>2]|0;if((a|0)>=(0-i|0)){if((i|0)<(a|0)){if((r|0)<=(a|0)){if((n|0)>(a|0))t=2;else t=(t|0)>(a|0)?3:4}else t=1}else t=0}else t=-1}else t=-2}else t=-3}else t=-4;f[(d[l>>2]|0)+a>>0]=t;a=a+1|0}while((a|0)!=(c|0));w=p;return}function Go(e){e=e|0;var t=0,n=0;d[e>>2]=35800;t=d[e+4608>>2]|0;if(t){n=e+4612|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}e=e+88|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function Wo(e){e=e|0;var t=0,n=0;d[e>>2]=35800;t=d[e+4608>>2]|0;if(t){n=e+4612|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+88|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function Ho(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+352|0;S=b+328|0;x=b+192|0;n=b+343|0;r=b+342|0;i=b+341|0;a=b+340|0;p=b+176|0;s=b+168|0;u=b+160|0;l=b+152|0;y=b;g=b+136|0;if((d[e+28>>2]|0)!=0?(d[e+20>>2]|0)!=1:0){m=e+4|0;v=e+32|0;o=d[v>>2]|0;if(!o){e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[n>>0]|0;Be(44,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}e=d[e+12>>2]|0;if((e|0)==8)switch(o|0){case 1:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[r>>0]|0;Be(45,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[i>>0]|0;Be(46,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[a>>0]|0;Be(47,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=x+56|0;i=x+4|0;d[x>>2]=36160;d[o>>2]=36180;k=0;we(62,x+56|0,i|0);b=k;k=0;if(b&1){_=Ze()|0;pd(o);ut(_|0)}d[x+128>>2]=0;d[x+132>>2]=-1;d[x>>2]=36200;d[x+56>>2]=36220;k=0;be(180,i|0);b=k;k=0;do{if(b&1)e=Ze()|0;else{d[i>>2]=36236;a=x+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[x+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);b=k;k=0;if(b&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,x|0,49007,21)|0;S=k;k=0;do{if((!(S&1)?(k=0,c=Oe(36,e|0,d[v>>2]|0)|0,S=k,k=0,!(S&1)):0)?(k=0,Te(28,c|0,50997,18)|0,S=k,k=0,!(S&1)):0){r=Ke(16)|0;k=0;we(64,p|0,i|0);S=k;k=0;if(!(S&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,p|0);S=k;k=0;if(S&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(p);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=34}while(0);if((_|0)==34)e=Ze()|0;d[x>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}if((e|0)<=8){e=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,e|0,8,35648);_=k;k=0;if(!(_&1))_t(e|0,824,96);_=Ze()|0;Ye(e|0);ut(_|0)}n=16-e|0;switch(o|0){case 1:{e=Ww(60)|0;d[s>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[s>>2];d[S+4>>2]=d[s+4>>2];Be(41,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(60)|0;d[u>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[u>>2];d[S+4>>2]=d[u+4>>2];Be(42,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(60)|0;d[l>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[l>>2];d[S+4>>2]=d[l+4>>2];Be(43,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=y+56|0;i=y+4|0;d[y>>2]=36160;d[o>>2]=36180;k=0;we(62,y+56|0,i|0);x=k;k=0;if(x&1){_=Ze()|0;pd(o);ut(_|0)}d[y+128>>2]=0;d[y+132>>2]=-1;d[y>>2]=36200;d[y+56>>2]=36220;k=0;be(180,i|0);x=k;k=0;do{if(x&1)e=Ze()|0;else{d[i>>2]=36236;a=y+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[y+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);x=k;k=0;if(x&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,y|0,49007,21)|0;x=k;k=0;do{if((!(x&1)?(k=0,h=Oe(36,e|0,d[v>>2]|0)|0,x=k,k=0,!(x&1)):0)?(k=0,Te(28,h|0,50997,18)|0,x=k,k=0,!(x&1)):0){r=Ke(16)|0;k=0;we(64,g|0,i|0);x=k;k=0;if(!(x&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,g|0);x=k;k=0;if(x&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(g);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=64}while(0);if((_|0)==64)e=Ze()|0;d[y>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}}n=d[t+4>>2]|0;r=Ww(16)|0;e=d[e+16>>2]|0;if(!n){_=d[t>>2]|0;d[r>>2]=36132;d[r+4>>2]=_;d[r+8>>2]=3;d[r+12>>2]=e;_=r;w=b;return _|0}else{d[r>>2]=36108;d[r+4>>2]=n;d[r+8>>2]=3;d[r+12>>2]=e;_=r;w=b;return _|0}return 0}function qo(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0;o=w;w=w+32|0;u=o;bw(u,d[e+128>>2]|0,d[e+136>>2]|0);s=d[t+4>>2]|0;a=d[t+8>>2]|0;a=(a|0)==0?d[u+8>>2]|0:a;i=d[t+12>>2]|0;i=(i|0)==0?d[u+12>>2]|0:i;n=d[t+16>>2]|0;r=d[u+16>>2]|0;d[e+176>>2]=(s|0)==0?d[u+4>>2]|0:s;d[e+180>>2]=a;d[e+184>>2]=i;es(e);i=e+132|0;t=(d[i>>2]|0)+32|0;t=(t|0)<128?2:(t|0)/64|0;a=0;do{d[e+188+(a*12|0)>>2]=t;d[e+188+(a*12|0)+4>>2]=0;h[e+188+(a*12|0)+8>>1]=0;h[e+188+(a*12|0)+10>>1]=1;a=a+1|0}while((a|0)!=365);s=(d[i>>2]|0)+32|0;s=(s|0)<128?2:(s|0)/64|0;u=((n|0)==0?r:n)&255;d[e+4568>>2]=s;d[e+4572>>2]=0;f[e+4576>>0]=u;f[e+4577>>0]=1;f[e+4578>>0]=0;d[e+4580>>2]=s;d[e+4584>>2]=1;f[e+4588>>0]=u;f[e+4589>>0]=1;f[e+4590>>0]=0;d[e+4592>>2]=0;w=o;return}function Qo(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0;o=e+88|0;a=d[t>>2]|0;d[t>>2]=0;t=d[o>>2]|0;d[o>>2]=a;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);o=r+4|0;a=d[o>>2]|0;f[e+4620>>0]=i&1;t=e+156|0;d[t>>2]=d[n>>2];d[t+4>>2]=d[n+4>>2];d[t+8>>2]=d[n+8>>2];d[t+12>>2]=d[n+12>>2];zr(e,r);Xo(e);t=d[e+116>>2]|0;e=d[e+112>>2]|0;while(1){i=t+-1|0;n=(f[i>>0]|0)==-1?7:8;if((e|0)<(n|0))break;else{t=i;e=e-n|0}}t=t-a|0;i=d[o>>2]|0;if(!i)return;d[o>>2]=i+t;r=r+8|0;d[r>>2]=(d[r>>2]|0)-t;return}function Xo(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0;E=w;w=w+32|0;A=E+12|0;T=E;S=e+172|0;x=(d[S>>2]|0)+4|0;if((d[e+28>>2]|0)==1)_=d[e+20>>2]|0;else _=1;t=fe(_<<1,x)|0;d[A>>2]=0;O=A+4|0;d[O>>2]=0;d[A+8>>2]=0;e:do{if(t){if(!(t>>>0>1431655765?(k=0,be(178,A|0),C=k,k=0,C&1):0))a=6;if((a|0)==6?(k=0,n=xe(67,t*3|0)|0,C=k,k=0,!(C&1)):0){d[O>>2]=n;d[A>>2]=n;d[A+8>>2]=n+(t*3|0);while(1){f[n>>0]=0;f[n+1>>0]=0;f[n+2>>0]=0;n=(d[O>>2]|0)+3|0;d[O>>2]=n;t=t+-1|0;if(!t)break e}}r=Ze()|0;t=d[A>>2]|0;if(!t)ut(r|0);n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~(((n+-3-t|0)>>>0)/3|0)*3|0);Hw(t);ut(r|0)}}while(0);d[T>>2]=0;C=T+4|0;d[C>>2]=0;d[T+8>>2]=0;do{if(!_)a=19;else{if(!(_>>>0>1073741823?(k=0,be(178,T|0),b=k,k=0,b&1):0))a=17;if((a|0)==17?(r=_<<2,k=0,i=xe(67,r|0)|0,b=k,k=0,!(b&1)):0){d[T>>2]=i;a=i+(_<<2)|0;d[T+8>>2]=a;Dy(i|0,0,r|0)|0;d[C>>2]=a;a=19;break}r=Ze()|0;t=d[T>>2]|0;n=t;if(t){i=d[C>>2]|0;if((i|0)!=(t|0))d[C>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}}while(0);if((a|0)==19){a=e+8|0;e:do{if((d[a>>2]|0)>0){o=e+4596|0;s=fe(_,x)|0;u=s+1|0;l=e+4600|0;c=(_|0)>0;h=e+160|0;p=e+168|0;m=e+164|0;g=e+156|0;v=e+88|0;y=e+4592|0;b=0;t:while(1){r=d[A>>2]|0;n=r+3|0;d[o>>2]=n;r=r+(u*3|0)|0;d[l>>2]=r;if(!(b&1))t=r;else{d[o>>2]=r;d[l>>2]=n;t=n;n=r}if(c){i=d[T>>2]|0;r=0;do{d[y>>2]=d[i+(r<<2)>>2];t=d[S>>2]|0;i=n+(t*3|0)|0;n=n+((t+-1|0)*3|0)|0;f[i>>0]=f[n>>0]|0;f[i+1>>0]=f[n+1>>0]|0;f[i+2>>0]=f[n+2>>0]|0;n=d[o>>2]|0;i=(d[l>>2]|0)+-3|0;f[i>>0]=f[n>>0]|0;f[i+1>>0]=f[n+1>>0]|0;f[i+2>>0]=f[n+2>>0]|0;k=0;we(78,e|0,0);i=k;k=0;if(i&1){a=30;break t}i=d[T>>2]|0;d[i+(r<<2)>>2]=d[y>>2];n=(d[o>>2]|0)+(x*3|0)|0;d[o>>2]=n;t=(d[l>>2]|0)+(x*3|0)|0;d[l>>2]=t;r=r+1|0}while((r|0)<(_|0))}i=d[h>>2]|0;if(((i|0)<=(b|0)?(b|0)<((d[p>>2]|0)+i|0):0)?(i=d[v>>2]|0,k=0,Be(d[(d[i>>2]|0)+8>>2]|0,i|0,t+(((d[g>>2]|0)-s|0)*3|0)|0,d[m>>2]|0,x|0),i=k,k=0,i&1):0){a=31;break}b=b+1|0;if((b|0)>=(d[a>>2]|0)){a=43;break e}}if((a|0)==30){r=Ze()|0;break}else if((a|0)==31){r=Ze()|0;break}}else a=43}while(0);do{if((a|0)==43){k=0;be(183,e|0);e=k;k=0;if(e&1){r=Ze()|0;break}t=d[T>>2]|0;n=t;if(t){r=d[C>>2]|0;if((r|0)!=(t|0))d[C>>2]=r+(~((r+-4-n|0)>>>2)<<2);Hw(t)}t=d[A>>2]|0;if(!t){w=E;return}n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~(((n+-3-t|0)>>>0)/3|0)*3|0);Hw(t);w=E;return}}while(0);t=d[T>>2]|0;n=t;if(t){i=d[C>>2]|0;if((i|0)!=(t|0))d[C>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}t=d[A>>2]|0;if(!t)ut(r|0);n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~(((n+-3-t|0)>>>0)/3|0)*3|0);Hw(t);ut(r|0)}function Yo(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,k=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0,P=0,N=0,L=0,F=0,B=0,z=0;B=w;w=w+16|0;A=B+12|0;F=B+9|0;L=B+6|0;O=B+3|0;I=B;M=e+172|0;t=d[M>>2]|0;if((t|0)<=0){w=B;return}D=e+4600|0;R=e+4596|0;P=e+4604|0;N=e+4592|0;C=0;while(1){T=C+-1|0;r=d[D>>2]|0;i=r+(T*3|0)|0;z=d[R>>2]|0;n=C+1|0;a=p[z+(C*3|0)>>0]|0;k=d[P>>2]|0;o=p[z+(T*3|0)>>0]|0;s=a-o|0;u=p[i>>0]|0;l=o-u|0;c=((((f[k+((p[z+(n*3|0)>>0]|0)-a)>>0]|0)*9|0)+(f[k+s>>0]|0)|0)*9|0)+(f[k+l>>0]|0)|0;h=p[z+(C*3|0)+1>>0]|0;m=p[z+(T*3|0)+1>>0]|0;g=h-m|0;v=p[r+(T*3|0)+1>>0]|0;y=m-v|0;b=((((f[k+((p[z+(n*3|0)+1>>0]|0)-h)>>0]|0)*9|0)+(f[k+g>>0]|0)|0)*9|0)+(f[k+y>>0]|0)|0;S=p[z+(C*3|0)+2>>0]|0;x=p[z+(T*3|0)+2>>0]|0;_=S-x|0;T=p[r+(T*3|0)+2>>0]|0;E=x-T|0;k=((((f[k+((p[z+(n*3|0)+2>>0]|0)-S)>>0]|0)*9|0)+(f[k+_>>0]|0)|0)*9|0)+(f[k+E>>0]|0)|0;if(!(b|c|k)){f[L>>0]=f[i>>0]|0;f[L+1>>0]=f[i+1>>0]|0;f[L+2>>0]=f[i+2>>0]|0;f[A>>0]=f[i>>0]|0;f[A+1>>0]=f[i+1>>0]|0;f[A+2>>0]=f[i+2>>0]|0;t=Ko(e,A,r+(C*3|0)|0,t-C|0)|0;n=t+C|0;if((n|0)!=(d[M>>2]|0)){z=(d[R>>2]|0)+(n*3|0)|0;f[I>>0]=f[z>>0]|0;f[I+1>>0]=f[z+1>>0]|0;f[I+2>>0]=f[z+2>>0]|0;z=d[D>>2]|0;f[F>>0]=f[L>>0]|0;f[F+1>>0]=f[L+1>>0]|0;f[F+2>>0]=f[L+2>>0]|0;f[A>>0]=f[I>>0]|0;f[A+1>>0]=f[I+1>>0]|0;f[A+2>>0]=f[I+2>>0]|0;Zo(O,e,F,A);z=z+(n*3|0)|0;f[z>>0]=f[O>>0]|0;f[z+1>>0]=f[O+1>>0]|0;f[z+2>>0]=f[O+2>>0]|0;z=d[N>>2]|0;d[N>>2]=(z|0)<1?0:z+-1|0;t=t+1|0}n=t+C|0}else{r=p[r+(C*3|0)>>0]|0;t=a-u>>31;if((t^l|0)>=0){if((t^s|0)<0)t=u;else t=u-o+a|0}else t=a;a=Jo(e,c,r,t,0)|0;r=p[(d[D>>2]|0)+(C*3|0)+1>>0]|0;t=h-v>>31;if((t^y|0)>=0){if((t^g|0)<0)t=v;else t=v-m+h|0}else t=h;r=Jo(e,b,r,t,0)|0;i=p[(d[D>>2]|0)+(C*3|0)+2>>0]|0;t=S-T>>31;if((t^E|0)>=0){if((t^_|0)<0)t=T;else t=T-x+S|0}else t=S;k=Jo(e,k,i,t,0)|0;z=(d[D>>2]|0)+(C*3|0)|0;f[z>>0]=a;f[z+1>>0]=r;f[z+2>>0]=k}t=d[M>>2]|0;if((n|0)>=(t|0))break;else C=n}w=B;return}function Ko(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0;s=e+112|0;u=e+108|0;l=e+4592|0;i=d[s>>2]|0;a=0;while(1){if((i|0)<1){Zr(e);i=d[s>>2]|0}o=d[u>>2]|0;i=i+-1|0;d[s>>2]=i;d[u>>2]=o<<1;if((o|0)>=0){c=8;break}o=d[l>>2]|0;h=1<<d[36476+(o<<2)>>2];p=r-a|0;p=(h|0)<(p|0)?h:p;a=p+a|0;if((p|0)==(h|0))d[l>>2]=(o|0)>30?31:o+1|0;if((a|0)==(r|0)){i=r;break}}if((c|0)==8)if((a|0)!=(r|0)){i=d[l>>2]|0;if((i+-4|0)>>>0<28)i=Co(e,d[36476+(i<<2)>>2]|0)|0;else i=0;i=i+a|0;if((i|0)>(r|0)){i=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,i|0,5,35648);p=k;k=0;if(p&1){p=Ze()|0;Ye(i|0);ut(p|0)}else _t(i|0,824,96)}}else i=r;if((i|0)<=0)return i|0;a=0;do{p=n+(a*3|0)|0;f[p>>0]=f[t>>0]|0;f[p+1>>0]=f[t+1>>0]|0;f[p+2>>0]=f[t+2>>0]|0;a=a+1|0}while((a|0)!=(i|0));return i|0}function Zo(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0;u=t+4568|0;h=$o(t,u)|0;o=$o(t,u)|0;u=$o(t,u)|0;a=t+128|0;i=p[r>>0]|0;l=d[t+136>>2]|0;c=l<<1|1;i=(fe(fe(c,h)|0,i-(p[n>>0]|0)>>31|1)|0)+i|0;h=0-l|0;if((i|0)>=(h|0)){a=d[a>>2]|0;if((a+l|0)<(i|0))i=i-(fe(d[t+132>>2]|0,c)|0)|0}else{i=(fe(d[t+132>>2]|0,c)|0)+i|0;a=d[a>>2]|0}if((i&a|0)!=(i|0))i=a&~(i>>31);s=i&255;i=p[r+1>>0]|0;i=(fe(fe(c,o)|0,i-(p[n+1>>0]|0)>>31|1)|0)+i|0;if((i|0)>=(h|0)){if((a+l|0)<(i|0))i=i-(fe(d[t+132>>2]|0,c)|0)|0}else i=(fe(d[t+132>>2]|0,c)|0)+i|0;if((i&a|0)!=(i|0))i=a&~(i>>31);o=i&255;i=p[r+2>>0]|0;i=(fe(fe(c,u)|0,i-(p[n+2>>0]|0)>>31|1)|0)+i|0;if((i|0)>=(h|0)){if((a+l|0)<(i|0))i=i-(fe(d[t+132>>2]|0,c)|0)|0}else i=(fe(d[t+132>>2]|0,c)|0)+i|0;if((i&a|0)==(i|0)){t=i;t=t&255;f[e>>0]=s;h=e+1|0;f[h>>0]=o;e=e+2|0;f[e>>0]=t;return}t=a&~(i>>31);t=t&255;f[e>>0]=s;h=e+1|0;f[h>>0]=o;e=e+2|0;f[e>>0]=t;return}function Jo(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0,m=0,g=0,v=0;v=t>>31;u=(v^t)-v|0;m=e+188+(u*12|0)+10|0;n=h[m>>1]|0;p=e+188+(u*12|0)|0;i=d[p>>2]|0;if((n|0)<(i|0)){if((n<<1|0)<(i|0)){if((n<<2|0)<(i|0)){if((n<<3|0)<(i|0)){if((n<<4|0)<(i|0)){t=5;while(1){if((n<<t|0)<(i|0))t=t+1|0;else break}}else t=4}else t=3}else t=2}else t=1}else t=0;c=e+188+(u*12|0)+8|0;n=(h[c>>1]^v)-v+r|0;g=e+128|0;i=d[g>>2]|0;if((n&i|0)==(n|0))l=n;else l=i&~(n>>31);n=e+112|0;if((d[n>>2]|0)<8)Zr(e);i=e+108|0;r=d[i>>2]|0;a=r>>>24;o=d[2832+(t<<11)+(a<<3)+4>>2]|0;if(!o){s=d[e+148>>2]|0;i=d[e+140>>2]|0;n=ko(e)|0;if((n|0)<(s+-1-i|0)){if(t)n=(Co(e,t)|0)+(n<<t)|0}else n=(Co(e,i)|0)+1|0;n=n<<31>>31^n>>1;if((((n|0)>-1?n:0-n|0)|0)>65535){n=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,n|0,5,35648);e=k;k=0;if(e&1){e=Ze()|0;Ye(n|0);ut(e|0)}else _t(n|0,824,96)}}else{d[n>>2]=(d[n>>2]|0)-o;d[i>>2]=r<<o;n=d[2832+(t<<11)+(a<<3)>>2]|0}s=e+136|0;r=d[s>>2]|0;if(!t){if(!r)i=(d[e+188+(u*12|0)+4>>2]<<1)+-1+(h[m>>1]|0)>>31;else i=0;o=i^n}else o=n;t=d[e+152>>2]|0;i=(d[p>>2]|0)+((o|0)>-1?o:0-o|0)|0;a=e+188+(u*12|0)+4|0;n=(d[a>>2]|0)+(fe(r<<1|1,o)|0)|0;r=h[m>>1]|0;if((r|0)==(t|0)){i=i>>1;n=n>>1;r=t>>1}d[p>>2]=i;t=r+1|0;h[m>>1]=t;i=t+n|0;if((i|0)>=1){if((n|0)>0){n=n-t|0;m=h[c>>1]|0;h[c>>1]=(m<<16>>16<127&1)+(m&65535);n=(n|0)>0?0:n}}else{n=h[c>>1]|0;h[c>>1]=(n&65535)-(n<<16>>16>-128&1);n=(i|0)>(~r|0)?i:0-r|0}d[a>>2]=n;t=d[s>>2]|0;r=t<<1|1;i=(fe(r,(o^v)-v|0)|0)+l|0;if((i|0)>=(0-t|0)){n=d[g>>2]|0;if((n+t|0)<(i|0))i=i-(fe(d[e+132>>2]|0,r)|0)|0}else{i=(fe(d[e+132>>2]|0,r)|0)+i|0;n=d[g>>2]|0}if((i&n|0)==(i|0)){e=i;e=e&255;return e|0}e=n&~(i>>31);e=e&255;return e|0}function $o(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0;l=t+9|0;n=p[l>>0]|0;a=t+4|0;i=(fe(n>>>1,d[a>>2]|0)|0)+(d[t>>2]|0)|0;if((n|0)<(i|0)){r=0;do{n=n<<1;r=r+1|0}while((n|0)<(i|0))}else r=0;o=d[e+148>>2]|0;s=d[36476+(d[e+4592>>2]<<2)>>2]|0;n=d[e+140>>2]|0;i=ko(e)|0;do{if((i|0)<(o+-2-s-n|0)){if(!r){r=d[a>>2]|0;e=r+i|0;n=e&1;e=(n+e|0)/2|0;u=8;break}else{s=(Co(e,r)|0)+(i<<r)|0;r=d[a>>2]|0;i=s+r|0;o=i&1;n=o;a=1;i=(o+i|0)/2|0;break}}else{i=(Co(e,n)|0)+1|0;o=d[a>>2]|0;e=i+o|0;n=e&1;e=(n+e|0)/2|0;if(!r){r=o;u=8}else{s=i;a=1;i=e;r=o}}}while(0);if((u|0)==8){s=i;a=p[t+10>>0]<<1>>>0>=(p[l>>0]|0)>>>0;i=e}i=(n|0)!=0^a?i:0-i|0;if((i|0)<0){u=t+10|0;f[u>>0]=(p[u>>0]|0)+1}n=(s+1-r>>1)+(d[t>>2]|0)|0;d[t>>2]=n;r=f[l>>0]|0;if(r<<24>>24!=(f[t+8>>0]|0)){t=r;t=t&255;t=t+1|0;t=t&255;f[l>>0]=t;return i|0}d[t>>2]=n>>1;u=(r&255)>>>1;f[l>>0]=u;t=t+10|0;f[t>>0]=(p[t>>0]|0)>>>1;t=u;t=t&255;t=t+1|0;t=t&255;f[l>>0]=t;return i|0}function es(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0;p=w;w=w+32|0;r=p;h=e+136|0;e:do{if(!(d[h>>2]|0)){n=d[e+128>>2]|0;t=e+144|0;if((((n|0)==((1<<d[t>>2])+-1|0)?(bw(r,n,0),(d[r+4>>2]|0)==(d[e+176>>2]|0)):0)?(d[r+8>>2]|0)==(d[e+180>>2]|0):0)?(d[r+12>>2]|0)==(d[e+184>>2]|0):0)switch(d[t>>2]|0){case 8:{h=d[8900]|0;d[e+4604>>2]=h+(((d[8901]|0)-h|0)>>>1);w=p;return}case 10:{h=d[8903]|0;d[e+4604>>2]=h+(((d[8904]|0)-h|0)>>>1);w=p;return}case 12:{h=d[8906]|0;d[e+4604>>2]=h+(((d[8907]|0)-h|0)>>>1);w=p;return}case 16:{h=d[8909]|0;d[e+4604>>2]=h+(((d[8910]|0)-h|0)>>>1);w=p;return}default:break e}}else t=e+144|0}while(0);c=1<<d[t>>2];n=e+4608|0;r=c<<1;i=e+4612|0;a=d[i>>2]|0;t=d[n>>2]|0;o=a-t|0;if(r>>>0<=o>>>0){if(r>>>0<o>>>0?(s=t+r|0,(a|0)!=(s|0)):0)d[i>>2]=s}else{$r(n,r-o|0);t=d[n>>2]|0}l=e+4604|0;d[l>>2]=t+c;t=0-c|0;if((c|0)<=(t|0)){w=p;return}s=e+184|0;u=e+180|0;o=e+176|0;a=t;do{t=d[s>>2]|0;if((a|0)>(0-t|0)){n=d[u>>2]|0;if((a|0)>(0-n|0)){r=d[o>>2]|0;if((a|0)>(0-r|0)){i=d[h>>2]|0;if((a|0)>=(0-i|0)){if((i|0)<(a|0)){if((r|0)<=(a|0)){if((n|0)>(a|0))t=2;else t=(t|0)>(a|0)?3:4}else t=1}else t=0}else t=-1}else t=-2}else t=-3}else t=-4;f[(d[l>>2]|0)+a>>0]=t;a=a+1|0}while((a|0)!=(c|0));w=p;return}function ts(e){e=e|0;var t=0,n=0;d[e>>2]=35772;t=d[e+4584>>2]|0;if(t){n=e+4588|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}e=e+88|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function ns(e){e=e|0;var t=0,n=0;d[e>>2]=35772;t=d[e+4584>>2]|0;if(t){n=e+4588|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+88|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function rs(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+352|0;S=b+328|0;x=b+192|0;n=b+343|0;r=b+342|0;i=b+341|0;a=b+340|0;p=b+176|0;s=b+168|0;u=b+160|0;l=b+152|0;y=b;g=b+136|0;if((d[e+28>>2]|0)!=0?(d[e+20>>2]|0)!=1:0){m=e+4|0;v=e+32|0;o=d[v>>2]|0;if(!o){e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[n>>0]|0;Be(37,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}e=d[e+12>>2]|0;if((e|0)==16)switch(o|0){case 1:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[r>>0]|0;Be(38,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[i>>0]|0;Be(39,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[a>>0]|0;Be(40,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=x+56|0;i=x+4|0;d[x>>2]=36160;d[o>>2]=36180;k=0;we(62,x+56|0,i|0);b=k;k=0;if(b&1){_=Ze()|0;pd(o);ut(_|0)}d[x+128>>2]=0;d[x+132>>2]=-1;d[x>>2]=36200;d[x+56>>2]=36220;k=0;be(180,i|0);b=k;k=0;do{if(b&1)e=Ze()|0;else{d[i>>2]=36236;a=x+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[x+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);b=k;k=0;if(b&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,x|0,49007,21)|0;S=k;k=0;do{if((!(S&1)?(k=0,c=Oe(36,e|0,d[v>>2]|0)|0,S=k,k=0,!(S&1)):0)?(k=0,Te(28,c|0,50997,18)|0,S=k,k=0,!(S&1)):0){r=Ke(16)|0;k=0;we(64,p|0,i|0);S=k;k=0;if(!(S&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,p|0);S=k;k=0;if(S&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(p);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=34}while(0);if((_|0)==34)e=Ze()|0;d[x>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}if((e|0)<=8){e=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,e|0,8,35648);_=k;k=0;if(!(_&1))_t(e|0,824,96);_=Ze()|0;Ye(e|0);ut(_|0)}n=16-e|0;switch(o|0){case 1:{e=Ww(60)|0;d[s>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[s>>2];d[S+4>>2]=d[s+4>>2];Be(41,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(60)|0;d[u>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[u>>2];d[S+4>>2]=d[u+4>>2];Be(42,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(60)|0;d[l>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[l>>2];d[S+4>>2]=d[l+4>>2];Be(43,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=y+56|0;i=y+4|0;d[y>>2]=36160;d[o>>2]=36180;k=0;we(62,y+56|0,i|0);x=k;k=0;if(x&1){_=Ze()|0;pd(o);ut(_|0)}d[y+128>>2]=0;d[y+132>>2]=-1;d[y>>2]=36200;d[y+56>>2]=36220;k=0;be(180,i|0);x=k;k=0;do{if(x&1)e=Ze()|0;else{d[i>>2]=36236;a=y+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[y+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);x=k;k=0;if(x&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,y|0,49007,21)|0;x=k;k=0;do{if((!(x&1)?(k=0,h=Oe(36,e|0,d[v>>2]|0)|0,x=k,k=0,!(x&1)):0)?(k=0,Te(28,h|0,50997,18)|0,x=k,k=0,!(x&1)):0){r=Ke(16)|0;k=0;we(64,g|0,i|0);x=k;k=0;if(!(x&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,g|0);x=k;k=0;if(x&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(g);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=64}while(0);if((_|0)==64)e=Ze()|0;d[y>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}}n=d[t+4>>2]|0;r=Ww(16)|0;e=d[e+16>>2]|0;if(!n){_=d[t>>2]|0;d[r>>2]=36132;d[r+4>>2]=_;d[r+8>>2]=2;d[r+12>>2]=e;_=r;w=b;return _|0}else{d[r>>2]=36108;d[r+4>>2]=n;d[r+8>>2]=2;d[r+12>>2]=e;_=r;w=b;return _|0}return 0}function is(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0;i=w;w=w+32|0;s=i;bw(s,65535,0);o=d[t+4>>2]|0;a=d[t+8>>2]|0;a=(a|0)==0?d[s+8>>2]|0:a;r=d[t+12>>2]|0;r=(r|0)==0?d[s+12>>2]|0:r;t=d[t+16>>2]|0;n=d[s+16>>2]|0;d[e+152>>2]=(o|0)==0?d[s+4>>2]|0:o;d[e+156>>2]=a;d[e+160>>2]=r;hs(e);r=0;do{d[e+164+(r*12|0)>>2]=1024;d[e+164+(r*12|0)+4>>2]=0;h[e+164+(r*12|0)+8>>1]=0;h[e+164+(r*12|0)+10>>1]=1;r=r+1|0}while((r|0)!=365);s=((t|0)==0?n:t)&255;d[e+4544>>2]=1024;d[e+4548>>2]=0;f[e+4552>>0]=s;f[e+4553>>0]=1;f[e+4554>>0]=0;d[e+4556>>2]=1024;d[e+4560>>2]=1;f[e+4564>>0]=s;f[e+4565>>0]=1;f[e+4566>>0]=0;d[e+4568>>2]=0;w=i;return}function as(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0;o=e+88|0;a=d[t>>2]|0;d[t>>2]=0;t=d[o>>2]|0;d[o>>2]=a;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);o=r+4|0;a=d[o>>2]|0;f[e+4596>>0]=i&1;t=e+132|0;d[t>>2]=d[n>>2];d[t+4>>2]=d[n+4>>2];d[t+8>>2]=d[n+8>>2];d[t+12>>2]=d[n+12>>2];zr(e,r);os(e);t=d[e+116>>2]|0;e=d[e+112>>2]|0;while(1){i=t+-1|0;n=(f[i>>0]|0)==-1?7:8;if((e|0)<(n|0))break;else{t=i;e=e-n|0}}t=t-a|0;i=d[o>>2]|0;if(!i)return;d[o>>2]=i+t;r=r+8|0;d[r>>2]=(d[r>>2]|0)-t;return}function os(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0;E=w;w=w+32|0;A=E+12|0;T=E;S=e+148|0;x=(d[S>>2]|0)+4|0;if((d[e+28>>2]|0)==1)_=d[e+20>>2]|0;else _=1;t=fe(_<<1,x)|0;d[A>>2]=0;O=A+4|0;d[O>>2]=0;d[A+8>>2]=0;do{if(t){if(!((t|0)<0?(k=0,be(178,A|0),C=k,k=0,C&1):0))o=6;if((o|0)==6?(n=t<<1,k=0,r=xe(67,n|0)|0,C=k,k=0,!(C&1)):0){d[A>>2]=r;C=r+(t<<1)|0;d[A+8>>2]=C;Dy(r|0,0,n|0)|0;d[O>>2]=C;break}r=Ze()|0;t=d[A>>2]|0;if(!t)ut(r|0);n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);ut(r|0)}}while(0);d[T>>2]=0;C=T+4|0;d[C>>2]=0;d[T+8>>2]=0;do{if(!_)o=18;else{if(!(_>>>0>1073741823?(k=0,be(178,T|0),b=k,k=0,b&1):0))o=16;if((o|0)==16?(i=_<<2,k=0,a=xe(67,i|0)|0,b=k,k=0,!(b&1)):0){d[T>>2]=a;o=a+(_<<2)|0;d[T+8>>2]=o;Dy(a|0,0,i|0)|0;d[C>>2]=o;o=18;break}r=Ze()|0;t=d[T>>2]|0;n=t;if(t){i=d[C>>2]|0;if((i|0)!=(t|0))d[C>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}}while(0);if((o|0)==18){a=e+8|0;e:do{if((d[a>>2]|0)>0){o=e+4572|0;s=fe(_,x)|0;u=s+1|0;l=e+4576|0;c=(_|0)>0;f=e+136|0;p=e+144|0;m=e+140|0;g=e+132|0;v=e+88|0;y=e+4568|0;b=0;t:while(1){r=d[A>>2]|0;n=r+2|0;d[o>>2]=n;r=r+(u<<1)|0;d[l>>2]=r;if(!(b&1))t=r;else{d[o>>2]=r;d[l>>2]=n;t=n;n=r}if(c){i=d[T>>2]|0;r=0;do{d[y>>2]=d[i+(r<<2)>>2];i=d[S>>2]|0;h[n+(i<<1)>>1]=h[n+(i+-1<<1)>>1]|0;h[t+-2>>1]=h[n>>1]|0;k=0;we(79,e|0,0);i=k;k=0;if(i&1){o=29;break t}i=d[T>>2]|0;d[i+(r<<2)>>2]=d[y>>2];n=(d[o>>2]|0)+(x<<1)|0;d[o>>2]=n;t=(d[l>>2]|0)+(x<<1)|0;d[l>>2]=t;r=r+1|0}while((r|0)<(_|0))}i=d[f>>2]|0;if(((i|0)<=(b|0)?(b|0)<((d[p>>2]|0)+i|0):0)?(i=d[v>>2]|0,k=0,Be(d[(d[i>>2]|0)+8>>2]|0,i|0,t+((d[g>>2]|0)-s<<1)|0,d[m>>2]|0,x|0),i=k,k=0,i&1):0){o=30;break}b=b+1|0;if((b|0)>=(d[a>>2]|0)){o=42;break e}}if((o|0)==29){r=Ze()|0;break}else if((o|0)==30){r=Ze()|0;break}}else o=42}while(0);do{if((o|0)==42){k=0;be(183,e|0);e=k;k=0;if(e&1){r=Ze()|0;break}t=d[T>>2]|0;n=t;if(t){r=d[C>>2]|0;if((r|0)!=(t|0))d[C>>2]=r+(~((r+-4-n|0)>>>2)<<2);Hw(t)}t=d[A>>2]|0;if(!t){w=E;return}n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);w=E;return}}while(0);t=d[T>>2]|0;n=t;if(t){i=d[C>>2]|0;if((i|0)!=(t|0))d[C>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}t=d[A>>2]|0;if(!t)ut(r|0);n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);ut(r|0)}function ss(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,p=0,g=0,v=0,y=0;p=e+4572|0;t=d[p>>2]|0;y=e+148|0;if((d[y>>2]|0)<=0)return;g=e+4576|0;v=e+4580|0;i=t;a=m[t+-2>>1]|0;t=m[t>>1]|0;c=0;while(1){l=d[g>>2]|0;u=m[l+(c+-1<<1)>>1]|0;r=c+1|0;n=m[i+(r<<1)>>1]|0;s=d[v>>2]|0;o=t-a|0;i=a-u|0;s=((((f[s+(n-t)>>0]|0)*9|0)+(f[s+o>>0]|0)|0)*9|0)+(f[s+i>>0]|0)|0;if(!s){r=(ls(e,c,0)|0)+c|0;n=d[p>>2]|0;t=m[n+(r+-1<<1)>>1]|0;n=m[n+(r<<1)>>1]|0}else{a=t-u>>31;if((a^i|0)<0)i=t;else i=u+((a^o|0)<0?0:o)|0;l=us(e,s,m[l+(c<<1)>>1]|0,i,0)|0;h[(d[g>>2]|0)+(c<<1)>>1]=l}if((r|0)>=(d[y>>2]|0))break;i=d[p>>2]|0;a=t;t=n;c=r}return}function us(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0,m=0,g=0;g=t>>31;l=(g^t)-g|0;m=e+164+(l*12|0)+10|0;n=h[m>>1]|0;p=e+164+(l*12|0)|0;i=d[p>>2]|0;if((n|0)<(i|0)){if((n<<1|0)<(i|0)){if((n<<2|0)<(i|0)){if((n<<3|0)<(i|0)){if((n<<4|0)<(i|0)){a=5;while(1){if((n<<a|0)<(i|0))a=a+1|0;else break}}else a=4}else a=3}else a=2}else a=1}else a=0;c=e+164+(l*12|0)+8|0;n=(h[c>>1]^g)-g+r|0;if((n&65535|0)!=(n|0))n=n>>31&65535^65535;i=e+112|0;if((d[i>>2]|0)<8)Zr(e);r=e+108|0;o=d[r>>2]|0;s=o>>>24;u=d[2832+(a<<11)+(s<<3)+4>>2]|0;if(!u){i=ko(e)|0;if((i|0)<47){if(a)i=(Co(e,a)|0)+(i<<a)|0}else i=(Co(e,16)|0)+1|0;i=i<<31>>31^i>>1;if((((i|0)>-1?i:0-i|0)|0)>65535){n=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,n|0,5,35648);t=k;k=0;if(t&1){t=Ze()|0;Ye(n|0);ut(t|0)}else _t(n|0,824,96)}}else{d[i>>2]=(d[i>>2]|0)-u;d[r>>2]=o<<u;i=d[2832+(a<<11)+(s<<3)>>2]|0}u=e+164+(l*12|0)+4|0;r=d[u>>2]|0;if(!a){e=h[m>>1]|0;a=e;i=(r<<1)+-1+(e<<16>>16)>>31^i}else a=h[m>>1]|0;o=a<<16>>16==64;e=o&1;s=r+i>>e;o=o?32:a<<16>>16;d[p>>2]=((i|0)>-1?i:0-i|0)+(d[p>>2]|0)>>e;r=o+1|0;h[m>>1]=r;a=r+s|0;if((a|0)<1){m=h[c>>1]|0;h[c>>1]=(m&65535)-(m<<16>>16>-128&1);m=(a|0)>(~o|0)?a:0-o|0;d[u>>2]=m;g=i^g;t=t>>>31;t=n+t|0;t=t+g|0;t=t&65535;return t|0}if((s|0)<=0){m=s;d[u>>2]=m;g=i^g;t=t>>>31;t=n+t|0;t=t+g|0;t=t&65535;return t|0}m=s-r|0;p=h[c>>1]|0;h[c>>1]=(p<<16>>16<127&1)+(p&65535);m=(m|0)>0?0:m;d[u>>2]=m;g=i^g;t=t>>>31;t=n+t|0;t=t+g|0;t=t&65535;return t|0}function ls(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;a=e+4576|0;i=d[a>>2]|0;n=h[i+(t+-1<<1)>>1]|0;o=e+148|0;i=cs(e,n,i+(t<<1)|0,(d[o>>2]|0)-t|0)|0;r=i+t|0;if((r|0)==(d[o>>2]|0)){o=i;return o|0}n=n&65535;t=m[(d[e+4572>>2]|0)+(r<<1)>>1]|0;o=n-t|0;if((((o|0)>-1?o:0-o|0)|0)<1)n=(fs(e,e+4556|0)|0)+n|0;else n=(fe(fs(e,e+4544|0)|0,t-n>>31|1)|0)+t|0;h[(d[a>>2]|0)+(r<<1)>>1]=n;o=e+4568|0;e=d[o>>2]|0;d[o>>2]=(e|0)<1?0:e+-1|0;o=i+1|0;return o|0}function cs(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,p=0,m=0;s=e+112|0;u=e+108|0;l=e+4568|0;i=d[s>>2]|0;a=0;while(1){if((i|0)<1){Zr(e);i=d[s>>2]|0}o=d[u>>2]|0;i=i+-1|0;d[s>>2]=i;d[u>>2]=o<<1;if((o|0)>=0){c=8;break}o=d[l>>2]|0;p=1<<d[36476+(o<<2)>>2];m=r-a|0;m=(p|0)<(m|0)?p:m;a=m+a|0;if((m|0)==(p|0))d[l>>2]=(o|0)>30?31:o+1|0;if((a|0)==(r|0)){i=r;break}}if((c|0)==8)if((a|0)!=(r|0)){i=d[l>>2]|0;if((i+-4|0)>>>0<28)i=Co(e,d[36476+(i<<2)>>2]|0)|0;else i=0;i=i+a|0;if((i|0)>(r|0)){i=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,i|0,5,35648);m=k;k=0;if(m&1){m=Ze()|0;Ye(i|0);ut(m|0)}else _t(i|0,824,96)}}else i=r;if((i|0)>0)a=0;else return i|0;do{h[n+(a<<1)>>1]=t;a=a+1|0}while((a|0)!=(i|0));return i|0}function fs(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0;s=t+9|0;n=p[s>>0]|0;a=t+4|0;i=(fe(n>>>1,d[a>>2]|0)|0)+(d[t>>2]|0)|0;if((n|0)<(i|0)){r=0;do{n=n<<1;r=r+1|0}while((n|0)<(i|0))}else r=0;i=d[36476+(d[e+4568>>2]<<2)>>2]|0;n=ko(e)|0;do{if((n|0)<(46-i|0)){if(!r){e=d[a>>2]|0;i=e+n|0;r=i&1;i=(r+i|0)/2|0;o=8;break}else{n=(Co(e,r)|0)+(n<<r)|0;e=d[a>>2]|0;i=n+e|0;u=i&1;r=u;a=1;i=(u+i|0)/2|0;break}}else{n=(Co(e,16)|0)+1|0;e=d[a>>2]|0;i=n+e|0;a=i&1;i=(a+i|0)/2|0;if(!r){r=a;o=8}else{r=a;a=1}}}while(0);if((o|0)==8)a=p[t+10>>0]<<1>>>0>=(p[s>>0]|0)>>>0;i=(r|0)!=0^a?i:0-i|0;if((i|0)<0){u=t+10|0;f[u>>0]=(p[u>>0]|0)+1}n=(n+1-e>>1)+(d[t>>2]|0)|0;d[t>>2]=n;r=f[s>>0]|0;if(r<<24>>24!=(f[t+8>>0]|0)){u=r;u=u&255;u=u+1|0;u=u&255;f[s>>0]=u;return i|0}d[t>>2]=n>>1;u=(r&255)>>>1;f[s>>0]=u;t=t+10|0;f[t>>0]=(p[t>>0]|0)>>>1;u=u&255;u=u+1|0;u=u&255;f[s>>0]=u;return i|0}function hs(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0;l=w;w=w+32|0;s=l;bw(s,65535,0);u=e+152|0;if(((d[s+4>>2]|0)==(d[u>>2]|0)?(d[s+8>>2]|0)==(d[e+156>>2]|0):0)?(d[s+12>>2]|0)==(d[e+160>>2]|0):0){u=d[8909]|0;d[e+4580>>2]=u+(((d[8910]|0)-u|0)>>>1);w=l;return}n=e+4584|0;r=e+4588|0;i=d[r>>2]|0;t=d[n>>2]|0;a=i-t|0;if(a>>>0>=131072){if(a>>>0>131072?(o=t+131072|0,(i|0)!=(o|0)):0)d[r>>2]=o}else{$r(n,131072-a|0);t=d[n>>2]|0}s=e+4580|0;d[s>>2]=t+65536;o=e+160|0;i=e+156|0;a=-65536;while(1){t=d[o>>2]|0;if((a|0)>(0-t|0)){n=d[i>>2]|0;if((a|0)>(0-n|0)){r=d[u>>2]|0;if((a|0)>(0-r|0)){if((a|0)>=0){if((a|0)<1){f[(d[s>>2]|0)+a>>0]=0;a=1;continue}if((r|0)<=(a|0)){if((n|0)>(a|0))t=2;else t=(t|0)>(a|0)?3:4}else t=1}else t=-1}else t=-2}else t=-3}else t=-4;f[(d[s>>2]|0)+a>>0]=t;a=a+1|0;if((a|0)==65536)break}w=l;return}function ds(e){e=e|0;var t=0,n=0;d[e>>2]=35744;t=d[e+4584>>2]|0;if(t){n=e+4588|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}e=e+88|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function ps(e){e=e|0;var t=0,n=0;d[e>>2]=35744;t=d[e+4584>>2]|0;if(t){n=e+4588|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+88|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function ms(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+352|0;S=b+328|0;x=b+192|0;n=b+343|0;r=b+342|0;i=b+341|0;a=b+340|0;p=b+176|0;s=b+168|0;u=b+160|0;l=b+152|0;y=b;g=b+136|0;if((d[e+28>>2]|0)!=0?(d[e+20>>2]|0)!=1:0){m=e+4|0;v=e+32|0;o=d[v>>2]|0;if(!o){e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[n>>0]|0;Be(37,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}e=d[e+12>>2]|0;if((e|0)==16)switch(o|0){case 1:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[r>>0]|0;Be(38,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[i>>0]|0;Be(39,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[a>>0]|0;Be(40,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=x+56|0;i=x+4|0;d[x>>2]=36160;d[o>>2]=36180;k=0;we(62,x+56|0,i|0);b=k;k=0;if(b&1){_=Ze()|0;pd(o);ut(_|0)}d[x+128>>2]=0;d[x+132>>2]=-1;d[x>>2]=36200;d[x+56>>2]=36220;k=0;be(180,i|0);b=k;k=0;do{if(b&1)e=Ze()|0;else{d[i>>2]=36236;a=x+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[x+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);b=k;k=0;if(b&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,x|0,49007,21)|0;S=k;k=0;do{if((!(S&1)?(k=0,c=Oe(36,e|0,d[v>>2]|0)|0,S=k,k=0,!(S&1)):0)?(k=0,Te(28,c|0,50997,18)|0,S=k,k=0,!(S&1)):0){r=Ke(16)|0;k=0;we(64,p|0,i|0);S=k;k=0;if(!(S&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,p|0);S=k;k=0;if(S&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(p);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=34}while(0);if((_|0)==34)e=Ze()|0;d[x>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}if((e|0)<=8){e=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,e|0,8,35648);_=k;k=0;if(!(_&1))_t(e|0,824,96);_=Ze()|0;Ye(e|0);ut(_|0)}n=16-e|0;switch(o|0){case 1:{e=Ww(60)|0;d[s>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[s>>2];d[S+4>>2]=d[s+4>>2];Be(41,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(60)|0;d[u>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[u>>2];d[S+4>>2]=d[u+4>>2];Be(42,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(60)|0;d[l>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[l>>2];d[S+4>>2]=d[l+4>>2];Be(43,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=y+56|0;i=y+4|0;d[y>>2]=36160;d[o>>2]=36180;k=0;we(62,y+56|0,i|0);x=k;k=0;if(x&1){_=Ze()|0;pd(o);ut(_|0)}d[y+128>>2]=0;d[y+132>>2]=-1;d[y>>2]=36200;d[y+56>>2]=36220;k=0;be(180,i|0);x=k;k=0;do{if(x&1)e=Ze()|0;else{d[i>>2]=36236;a=y+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[y+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);x=k;k=0;if(x&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,y|0,49007,21)|0;x=k;k=0;do{if((!(x&1)?(k=0,h=Oe(36,e|0,d[v>>2]|0)|0,x=k,k=0,!(x&1)):0)?(k=0,Te(28,h|0,50997,18)|0,x=k,k=0,!(x&1)):0){r=Ke(16)|0;k=0;we(64,g|0,i|0);x=k;k=0;if(!(x&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,g|0);x=k;k=0;if(x&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(g);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=64}while(0);if((_|0)==64)e=Ze()|0;d[y>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}}n=d[t+4>>2]|0;r=Ww(16)|0;e=d[e+16>>2]|0;if(!n){_=d[t>>2]|0;d[r>>2]=36132;d[r+4>>2]=_;d[r+8>>2]=2;d[r+12>>2]=e;_=r;w=b;return _|0}else{d[r>>2]=36108;d[r+4>>2]=n;d[r+8>>2]=2;d[r+12>>2]=e;_=r;w=b;return _|0}return 0}function gs(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0;i=w;w=w+32|0;s=i;bw(s,4095,0);o=d[t+4>>2]|0;a=d[t+8>>2]|0;a=(a|0)==0?d[s+8>>2]|0:a;r=d[t+12>>2]|0;r=(r|0)==0?d[s+12>>2]|0:r;t=d[t+16>>2]|0;n=d[s+16>>2]|0;d[e+152>>2]=(o|0)==0?d[s+4>>2]|0:o;d[e+156>>2]=a;d[e+160>>2]=r;Ts(e);r=0;do{d[e+164+(r*12|0)>>2]=64;d[e+164+(r*12|0)+4>>2]=0;h[e+164+(r*12|0)+8>>1]=0;h[e+164+(r*12|0)+10>>1]=1;r=r+1|0}while((r|0)!=365);s=((t|0)==0?n:t)&255;d[e+4544>>2]=64;d[e+4548>>2]=0;f[e+4552>>0]=s;f[e+4553>>0]=1;f[e+4554>>0]=0;d[e+4556>>2]=64;d[e+4560>>2]=1;f[e+4564>>0]=s;f[e+4565>>0]=1;f[e+4566>>0]=0;d[e+4568>>2]=0;w=i;return}function vs(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0;o=e+88|0;a=d[t>>2]|0;d[t>>2]=0;t=d[o>>2]|0;d[o>>2]=a;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);o=r+4|0;a=d[o>>2]|0;f[e+4596>>0]=i&1;t=e+132|0;d[t>>2]=d[n>>2];d[t+4>>2]=d[n+4>>2];d[t+8>>2]=d[n+8>>2];d[t+12>>2]=d[n+12>>2];zr(e,r);ys(e);t=d[e+116>>2]|0;e=d[e+112>>2]|0;while(1){i=t+-1|0;n=(f[i>>0]|0)==-1?7:8;if((e|0)<(n|0))break;else{t=i;e=e-n|0}}t=t-a|0;i=d[o>>2]|0;if(!i)return;d[o>>2]=i+t;r=r+8|0;d[r>>2]=(d[r>>2]|0)-t;return}function ys(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0;E=w;w=w+32|0;A=E+12|0;T=E;S=e+148|0;x=(d[S>>2]|0)+4|0;if((d[e+28>>2]|0)==1)_=d[e+20>>2]|0;else _=1;t=fe(_<<1,x)|0;d[A>>2]=0;O=A+4|0;d[O>>2]=0;d[A+8>>2]=0;do{if(t){if(!((t|0)<0?(k=0,be(178,A|0),C=k,k=0,C&1):0))o=6;if((o|0)==6?(n=t<<1,k=0,r=xe(67,n|0)|0,C=k,k=0,!(C&1)):0){d[A>>2]=r;C=r+(t<<1)|0;d[A+8>>2]=C;Dy(r|0,0,n|0)|0;d[O>>2]=C;break}r=Ze()|0;t=d[A>>2]|0;if(!t)ut(r|0);n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);ut(r|0)}}while(0);d[T>>2]=0;C=T+4|0;d[C>>2]=0;d[T+8>>2]=0;do{if(!_)o=18;else{if(!(_>>>0>1073741823?(k=0,be(178,T|0),b=k,k=0,b&1):0))o=16;if((o|0)==16?(i=_<<2,k=0,a=xe(67,i|0)|0,b=k,k=0,!(b&1)):0){d[T>>2]=a;o=a+(_<<2)|0;d[T+8>>2]=o;Dy(a|0,0,i|0)|0;d[C>>2]=o;o=18;break}r=Ze()|0;t=d[T>>2]|0;n=t;if(t){i=d[C>>2]|0;if((i|0)!=(t|0))d[C>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}}while(0);if((o|0)==18){a=e+8|0;e:do{if((d[a>>2]|0)>0){o=e+4572|0;s=fe(_,x)|0;u=s+1|0;l=e+4576|0;c=(_|0)>0;f=e+136|0;p=e+144|0;m=e+140|0;g=e+132|0;v=e+88|0;y=e+4568|0;b=0;t:while(1){r=d[A>>2]|0;n=r+2|0;d[o>>2]=n;r=r+(u<<1)|0;d[l>>2]=r;if(!(b&1))t=r;else{d[o>>2]=r;d[l>>2]=n;t=n;n=r}if(c){i=d[T>>2]|0;r=0;do{d[y>>2]=d[i+(r<<2)>>2];i=d[S>>2]|0;h[n+(i<<1)>>1]=h[n+(i+-1<<1)>>1]|0;h[t+-2>>1]=h[n>>1]|0;k=0;we(80,e|0,0);i=k;k=0;if(i&1){o=29;break t}i=d[T>>2]|0;d[i+(r<<2)>>2]=d[y>>2];n=(d[o>>2]|0)+(x<<1)|0;d[o>>2]=n;t=(d[l>>2]|0)+(x<<1)|0;d[l>>2]=t;r=r+1|0}while((r|0)<(_|0))}i=d[f>>2]|0;if(((i|0)<=(b|0)?(b|0)<((d[p>>2]|0)+i|0):0)?(i=d[v>>2]|0,k=0,Be(d[(d[i>>2]|0)+8>>2]|0,i|0,t+((d[g>>2]|0)-s<<1)|0,d[m>>2]|0,x|0),i=k,k=0,i&1):0){o=30;break}b=b+1|0;if((b|0)>=(d[a>>2]|0)){o=42;break e}}if((o|0)==29){r=Ze()|0;break}else if((o|0)==30){r=Ze()|0;break}}else o=42}while(0);do{if((o|0)==42){k=0;be(183,e|0);e=k;k=0;if(e&1){r=Ze()|0;break}t=d[T>>2]|0;n=t;if(t){r=d[C>>2]|0;if((r|0)!=(t|0))d[C>>2]=r+(~((r+-4-n|0)>>>2)<<2);Hw(t)}t=d[A>>2]|0;if(!t){w=E;return}n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);w=E;return}}while(0);t=d[T>>2]|0;n=t;if(t){i=d[C>>2]|0;if((i|0)!=(t|0))d[C>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}t=d[A>>2]|0;if(!t)ut(r|0);n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~((n+-2-t|0)>>>1)<<1);Hw(t);ut(r|0)}function bs(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,p=0,g=0,v=0,y=0;p=e+4572|0;t=d[p>>2]|0;y=e+148|0;if((d[y>>2]|0)<=0)return;g=e+4576|0;v=e+4580|0;i=t;a=m[t+-2>>1]|0;t=m[t>>1]|0;c=0;while(1){l=d[g>>2]|0;u=m[l+(c+-1<<1)>>1]|0;r=c+1|0;n=m[i+(r<<1)>>1]|0;s=d[v>>2]|0;o=t-a|0;i=a-u|0;s=((((f[s+(n-t)>>0]|0)*9|0)+(f[s+o>>0]|0)|0)*9|0)+(f[s+i>>0]|0)|0;if(!s){r=(Ss(e,c,0)|0)+c|0;n=d[p>>2]|0;t=m[n+(r+-1<<1)>>1]|0;n=m[n+(r<<1)>>1]|0}else{a=t-u>>31;if((a^i|0)<0)i=t;else i=u+((a^o|0)<0?0:o)|0;l=ws(e,s,m[l+(c<<1)>>1]|0,i,0)|0;h[(d[g>>2]|0)+(c<<1)>>1]=l}if((r|0)>=(d[y>>2]|0))break;i=d[p>>2]|0;a=t;t=n;c=r}return}function ws(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0,m=0,g=0;g=t>>31;l=(g^t)-g|0;m=e+164+(l*12|0)+10|0;n=h[m>>1]|0;p=e+164+(l*12|0)|0;i=d[p>>2]|0;if((n|0)<(i|0)){if((n<<1|0)<(i|0)){if((n<<2|0)<(i|0)){if((n<<3|0)<(i|0)){if((n<<4|0)<(i|0)){a=5;while(1){if((n<<a|0)<(i|0))a=a+1|0;else break}}else a=4}else a=3}else a=2}else a=1}else a=0;c=e+164+(l*12|0)+8|0;n=(h[c>>1]^g)-g+r|0;if((n&4095|0)!=(n|0))n=n>>31&4095^4095;i=e+112|0;if((d[i>>2]|0)<8)Zr(e);r=e+108|0;o=d[r>>2]|0;s=o>>>24;u=d[2832+(a<<11)+(s<<3)+4>>2]|0;if(!u){i=ko(e)|0;if((i|0)<35){if(a)i=(Co(e,a)|0)+(i<<a)|0}else i=(Co(e,12)|0)+1|0;i=i<<31>>31^i>>1;if((((i|0)>-1?i:0-i|0)|0)>65535){n=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,n|0,5,35648);t=k;k=0;if(t&1){t=Ze()|0;Ye(n|0);ut(t|0)}else _t(n|0,824,96)}}else{d[i>>2]=(d[i>>2]|0)-u;d[r>>2]=o<<u;i=d[2832+(a<<11)+(s<<3)>>2]|0}u=e+164+(l*12|0)+4|0;r=d[u>>2]|0;if(!a){e=h[m>>1]|0;a=e;i=(r<<1)+-1+(e<<16>>16)>>31^i}else a=h[m>>1]|0;o=a<<16>>16==64;e=o&1;s=r+i>>e;o=o?32:a<<16>>16;d[p>>2]=((i|0)>-1?i:0-i|0)+(d[p>>2]|0)>>e;r=o+1|0;h[m>>1]=r;a=r+s|0;if((a|0)<1){m=h[c>>1]|0;h[c>>1]=(m&65535)-(m<<16>>16>-128&1);m=(a|0)>(~o|0)?a:0-o|0;d[u>>2]=m;g=i^g;t=t>>>31;t=n+t|0;t=t+g|0;t=t&4095;t=t&65535;return t|0}if((s|0)<=0){m=s;d[u>>2]=m;g=i^g;t=t>>>31;t=n+t|0;t=t+g|0;t=t&4095;t=t&65535;return t|0}m=s-r|0;p=h[c>>1]|0;h[c>>1]=(p<<16>>16<127&1)+(p&65535);m=(m|0)>0?0:m;d[u>>2]=m;g=i^g;t=t>>>31;t=n+t|0;t=t+g|0;t=t&4095;t=t&65535;return t|0}function Ss(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;a=e+4576|0;i=d[a>>2]|0;n=h[i+(t+-1<<1)>>1]|0;o=e+148|0;i=xs(e,n,i+(t<<1)|0,(d[o>>2]|0)-t|0)|0;r=i+t|0;if((r|0)==(d[o>>2]|0)){o=i;return o|0}n=n&65535;t=m[(d[e+4572>>2]|0)+(r<<1)>>1]|0;o=n-t|0;if((((o|0)>-1?o:0-o|0)|0)<1)n=(_s(e,e+4556|0)|0)+n|0;else n=(fe(_s(e,e+4544|0)|0,t-n>>31|1)|0)+t|0;h[(d[a>>2]|0)+(r<<1)>>1]=n&4095;o=e+4568|0;e=d[o>>2]|0;d[o>>2]=(e|0)<1?0:e+-1|0;o=i+1|0;return o|0}function xs(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,p=0,m=0;s=e+112|0;u=e+108|0;l=e+4568|0;i=d[s>>2]|0;a=0;while(1){if((i|0)<1){Zr(e);i=d[s>>2]|0}o=d[u>>2]|0;i=i+-1|0;d[s>>2]=i;d[u>>2]=o<<1;if((o|0)>=0){c=8;break}o=d[l>>2]|0;p=1<<d[36476+(o<<2)>>2];m=r-a|0;m=(p|0)<(m|0)?p:m;a=m+a|0;if((m|0)==(p|0))d[l>>2]=(o|0)>30?31:o+1|0;if((a|0)==(r|0)){i=r;break}}if((c|0)==8)if((a|0)!=(r|0)){i=d[l>>2]|0;if((i+-4|0)>>>0<28)i=Co(e,d[36476+(i<<2)>>2]|0)|0;else i=0;i=i+a|0;if((i|0)>(r|0)){i=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,i|0,5,35648);m=k;k=0;if(m&1){m=Ze()|0;Ye(i|0);ut(m|0)}else _t(i|0,824,96)}}else i=r;if((i|0)>0)a=0;else return i|0;do{h[n+(a<<1)>>1]=t;a=a+1|0}while((a|0)!=(i|0));return i|0}function _s(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0;s=t+9|0;n=p[s>>0]|0;a=t+4|0;i=(fe(n>>>1,d[a>>2]|0)|0)+(d[t>>2]|0)|0;if((n|0)<(i|0)){r=0;do{n=n<<1;r=r+1|0}while((n|0)<(i|0))}else r=0;i=d[36476+(d[e+4568>>2]<<2)>>2]|0;n=ko(e)|0;do{if((n|0)<(34-i|0)){if(!r){e=d[a>>2]|0;i=e+n|0;r=i&1;i=(r+i|0)/2|0;o=8;break}else{n=(Co(e,r)|0)+(n<<r)|0;e=d[a>>2]|0;i=n+e|0;u=i&1;r=u;a=1;i=(u+i|0)/2|0;break}}else{n=(Co(e,12)|0)+1|0;e=d[a>>2]|0;i=n+e|0;a=i&1;i=(a+i|0)/2|0;if(!r){r=a;o=8}else{r=a;a=1}}}while(0);if((o|0)==8)a=p[t+10>>0]<<1>>>0>=(p[s>>0]|0)>>>0;i=(r|0)!=0^a?i:0-i|0;if((i|0)<0){u=t+10|0;f[u>>0]=(p[u>>0]|0)+1}n=(n+1-e>>1)+(d[t>>2]|0)|0;d[t>>2]=n;r=f[s>>0]|0;if(r<<24>>24!=(f[t+8>>0]|0)){u=r;u=u&255;u=u+1|0;u=u&255;f[s>>0]=u;return i|0}d[t>>2]=n>>1;u=(r&255)>>>1;f[s>>0]=u;t=t+10|0;f[t>>0]=(p[t>>0]|0)>>>1;u=u&255;u=u+1|0;u=u&255;f[s>>0]=u;return i|0}function Ts(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0;l=w;w=w+32|0;s=l;bw(s,4095,0);u=e+152|0;if(((d[s+4>>2]|0)==(d[u>>2]|0)?(d[s+8>>2]|0)==(d[e+156>>2]|0):0)?(d[s+12>>2]|0)==(d[e+160>>2]|0):0){u=d[8906]|0;d[e+4580>>2]=u+(((d[8907]|0)-u|0)>>>1);w=l;return}n=e+4584|0;r=e+4588|0;i=d[r>>2]|0;t=d[n>>2]|0;a=i-t|0;if(a>>>0>=8192){if(a>>>0>8192?(o=t+8192|0,(i|0)!=(o|0)):0)d[r>>2]=o}else{$r(n,8192-a|0);t=d[n>>2]|0}s=e+4580|0;d[s>>2]=t+4096;o=e+160|0;i=e+156|0;a=-4096;while(1){t=d[o>>2]|0;if((a|0)>(0-t|0)){n=d[i>>2]|0;if((a|0)>(0-n|0)){r=d[u>>2]|0;if((a|0)>(0-r|0)){if((a|0)>=0){if((a|0)<1){f[(d[s>>2]|0)+a>>0]=0;a=1;continue}if((r|0)<=(a|0)){if((n|0)>(a|0))t=2;else t=(t|0)>(a|0)?3:4}else t=1}else t=-1}else t=-2}else t=-3}else t=-4;f[(d[s>>2]|0)+a>>0]=t;a=a+1|0;if((a|0)==4096)break}w=l;return}function Es(e){e=e|0;var t=0,n=0;d[e>>2]=35716;t=d[e+4584>>2]|0;if(t){n=e+4588|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}e=e+88|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function ks(e){e=e|0;var t=0,n=0;d[e>>2]=35716;t=d[e+4584>>2]|0;if(t){n=e+4588|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+88|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function Cs(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+352|0;S=b+328|0;x=b+192|0;n=b+343|0;r=b+342|0;i=b+341|0;a=b+340|0;p=b+176|0;s=b+168|0;u=b+160|0;l=b+152|0;y=b;g=b+136|0;if((d[e+28>>2]|0)!=0?(d[e+20>>2]|0)!=1:0){m=e+4|0;v=e+32|0;o=d[v>>2]|0;if(!o){e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[n>>0]|0;Be(44,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}e=d[e+12>>2]|0;if((e|0)==8)switch(o|0){case 1:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[r>>0]|0;Be(45,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[i>>0]|0;Be(46,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[a>>0]|0;Be(47,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=x+56|0;i=x+4|0;d[x>>2]=36160;d[o>>2]=36180;k=0;we(62,x+56|0,i|0);b=k;k=0;if(b&1){_=Ze()|0;pd(o);ut(_|0)}d[x+128>>2]=0;d[x+132>>2]=-1;d[x>>2]=36200;d[x+56>>2]=36220;k=0;be(180,i|0);b=k;k=0;do{if(b&1)e=Ze()|0;else{d[i>>2]=36236;a=x+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[x+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);b=k;k=0;if(b&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,x|0,49007,21)|0;S=k;k=0;do{if((!(S&1)?(k=0,c=Oe(36,e|0,d[v>>2]|0)|0,S=k,k=0,!(S&1)):0)?(k=0,Te(28,c|0,50997,18)|0,S=k,k=0,!(S&1)):0){r=Ke(16)|0;k=0;we(64,p|0,i|0);S=k;k=0;if(!(S&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,p|0);S=k;k=0;if(S&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(p);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=34}while(0);if((_|0)==34)e=Ze()|0;d[x>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}if((e|0)<=8){e=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,e|0,8,35648);_=k;k=0;if(!(_&1))_t(e|0,824,96);_=Ze()|0;Ye(e|0);ut(_|0)}n=16-e|0;switch(o|0){case 1:{e=Ww(60)|0;d[s>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[s>>2];d[S+4>>2]=d[s+4>>2];Be(41,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(60)|0;d[u>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[u>>2];d[S+4>>2]=d[u+4>>2];Be(42,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(60)|0;d[l>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[l>>2];d[S+4>>2]=d[l+4>>2];Be(43,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=y+56|0;i=y+4|0;d[y>>2]=36160;d[o>>2]=36180;k=0;we(62,y+56|0,i|0);x=k;k=0;if(x&1){_=Ze()|0;pd(o);ut(_|0)}d[y+128>>2]=0;d[y+132>>2]=-1;d[y>>2]=36200;d[y+56>>2]=36220;k=0;be(180,i|0);x=k;k=0;do{if(x&1)e=Ze()|0;else{d[i>>2]=36236;a=y+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[y+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);x=k;k=0;if(x&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,y|0,49007,21)|0;x=k;k=0;do{if((!(x&1)?(k=0,h=Oe(36,e|0,d[v>>2]|0)|0,x=k,k=0,!(x&1)):0)?(k=0,Te(28,h|0,50997,18)|0,x=k,k=0,!(x&1)):0){r=Ke(16)|0;k=0;we(64,g|0,i|0);x=k;k=0;if(!(x&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,g|0);x=k;k=0;if(x&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(g);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=64}while(0);if((_|0)==64)e=Ze()|0;d[y>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}}n=d[t+4>>2]|0;r=Ww(16)|0;e=d[e+16>>2]|0;if(!n){_=d[t>>2]|0;d[r>>2]=36132;d[r+4>>2]=_;d[r+8>>2]=1;d[r+12>>2]=e;_=r;w=b;return _|0}else{d[r>>2]=36108;d[r+4>>2]=n;d[r+8>>2]=1;d[r+12>>2]=e;_=r;w=b;return _|0}return 0}function As(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0;i=w;w=w+32|0;s=i;bw(s,255,0);o=d[t+4>>2]|0;a=d[t+8>>2]|0;a=(a|0)==0?d[s+8>>2]|0:a;r=d[t+12>>2]|0;r=(r|0)==0?d[s+12>>2]|0:r;t=d[t+16>>2]|0;n=d[s+16>>2]|0;d[e+152>>2]=(o|0)==0?d[s+4>>2]|0:o;d[e+156>>2]=a;d[e+160>>2]=r;Ls(e);r=0;do{d[e+164+(r*12|0)>>2]=4;d[e+164+(r*12|0)+4>>2]=0;h[e+164+(r*12|0)+8>>1]=0;h[e+164+(r*12|0)+10>>1]=1;r=r+1|0}while((r|0)!=365);s=((t|0)==0?n:t)&255;d[e+4544>>2]=4;d[e+4548>>2]=0;f[e+4552>>0]=s;f[e+4553>>0]=1;f[e+4554>>0]=0;d[e+4556>>2]=4;d[e+4560>>2]=1;f[e+4564>>0]=s;f[e+4565>>0]=1;f[e+4566>>0]=0;d[e+4568>>2]=0;w=i;return}function Os(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0;o=e+88|0;a=d[t>>2]|0;d[t>>2]=0;t=d[o>>2]|0;d[o>>2]=a;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);o=r+4|0;a=d[o>>2]|0;f[e+4596>>0]=i&1;t=e+132|0;d[t>>2]=d[n>>2];d[t+4>>2]=d[n+4>>2];d[t+8>>2]=d[n+8>>2];d[t+12>>2]=d[n+12>>2];zr(e,r);Is(e);t=d[e+116>>2]|0;e=d[e+112>>2]|0;while(1){i=t+-1|0;n=(f[i>>0]|0)==-1?7:8;if((e|0)<(n|0))break;else{t=i;e=e-n|0}}t=t-a|0;i=d[o>>2]|0;if(!i)return;d[o>>2]=i+t;r=r+8|0;d[r>>2]=(d[r>>2]|0)-t;return}function Is(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0;E=w;w=w+32|0;A=E+12|0;T=E;S=e+148|0;x=(d[S>>2]|0)+4|0;if((d[e+28>>2]|0)==1)_=d[e+20>>2]|0;else _=1;t=fe(_<<1,x)|0;d[A>>2]=0;O=A+4|0;d[O>>2]=0;d[A+8>>2]=0;e:do{if(t){if(!((t|0)<0?(k=0,be(178,A|0),C=k,k=0,C&1):0))a=6;if((a|0)==6?(k=0,n=xe(67,t|0)|0,C=k,k=0,!(C&1)):0){d[O>>2]=n;d[A>>2]=n;d[A+8>>2]=n+t;while(1){f[n>>0]=0;n=(d[O>>2]|0)+1|0;d[O>>2]=n;t=t+-1|0;if(!t)break e}}n=Ze()|0;t=d[A>>2]|0;if(!t)ut(n|0);if((d[O>>2]|0)!=(t|0))d[O>>2]=t;Hw(t);ut(n|0)}}while(0);d[T>>2]=0;C=T+4|0;d[C>>2]=0;d[T+8>>2]=0;do{if(!_)a=19;else{if(!(_>>>0>1073741823?(k=0,be(178,T|0),b=k,k=0,b&1):0))a=17;if((a|0)==17?(r=_<<2,k=0,i=xe(67,r|0)|0,b=k,k=0,!(b&1)):0){d[T>>2]=i;a=i+(_<<2)|0;d[T+8>>2]=a;Dy(i|0,0,r|0)|0;d[C>>2]=a;a=19;break}n=Ze()|0;t=d[T>>2]|0;r=t;if(t){i=d[C>>2]|0;if((i|0)!=(t|0))d[C>>2]=i+(~((i+-4-r|0)>>>2)<<2);Hw(t)}}}while(0);if((a|0)==19){a=e+8|0;e:do{if((d[a>>2]|0)>0){o=e+4572|0;s=fe(_,x)|0;u=s+1|0;l=e+4576|0;c=(_|0)>0;h=e+136|0;p=e+144|0;m=e+140|0;g=e+132|0;v=e+88|0;y=e+4568|0;b=0;t:while(1){r=d[A>>2]|0;n=r+1|0;d[o>>2]=n;r=r+u|0;d[l>>2]=r;if(!(b&1))t=r;else{d[o>>2]=r;d[l>>2]=n;t=n;n=r}if(c){i=d[T>>2]|0;r=0;do{d[y>>2]=d[i+(r<<2)>>2];i=d[S>>2]|0;f[n+i>>0]=f[n+(i+-1)>>0]|0;f[(d[l>>2]|0)+-1>>0]=f[d[o>>2]>>0]|0;k=0;we(81,e|0,0);i=k;k=0;if(i&1){a=30;break t}i=d[T>>2]|0;d[i+(r<<2)>>2]=d[y>>2];n=(d[o>>2]|0)+x|0;d[o>>2]=n;t=(d[l>>2]|0)+x|0;d[l>>2]=t;r=r+1|0}while((r|0)<(_|0))}i=d[h>>2]|0;if(((i|0)<=(b|0)?(b|0)<((d[p>>2]|0)+i|0):0)?(i=d[v>>2]|0,k=0,Be(d[(d[i>>2]|0)+8>>2]|0,i|0,t+((d[g>>2]|0)-s)|0,d[m>>2]|0,x|0),i=k,k=0,i&1):0){a=31;break}b=b+1|0;if((b|0)>=(d[a>>2]|0)){a=43;break e}}if((a|0)==30){n=Ze()|0;break}else if((a|0)==31){n=Ze()|0;break}}else a=43}while(0);do{if((a|0)==43){k=0;be(183,e|0);e=k;k=0;if(e&1){n=Ze()|0;break}t=d[T>>2]|0;n=t;if(t){r=d[C>>2]|0;if((r|0)!=(t|0))d[C>>2]=r+(~((r+-4-n|0)>>>2)<<2);Hw(t)}t=d[A>>2]|0;if(!t){w=E;return}if((d[O>>2]|0)!=(t|0))d[O>>2]=t;Hw(t);w=E;return}}while(0);t=d[T>>2]|0;r=t;if(t){i=d[C>>2]|0;if((i|0)!=(t|0))d[C>>2]=i+(~((i+-4-r|0)>>>2)<<2);Hw(t)}}t=d[A>>2]|0;if(!t)ut(n|0);if((d[O>>2]|0)!=(t|0))d[O>>2]=t;Hw(t);ut(n|0)}function Ms(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0;h=e+4572|0;t=d[h>>2]|0;v=e+148|0;if((d[v>>2]|0)<=0)return;m=e+4576|0;g=e+4580|0;i=t;a=p[t+-1>>0]|0;t=p[t>>0]|0;c=0;while(1){l=d[m>>2]|0;u=p[l+(c+-1)>>0]|0;r=c+1|0;n=p[i+r>>0]|0;s=d[g>>2]|0;o=t-a|0;i=a-u|0;s=((((f[s+(n-t)>>0]|0)*9|0)+(f[s+o>>0]|0)|0)*9|0)+(f[s+i>>0]|0)|0;if(!s){r=(Rs(e,c,0)|0)+c|0;n=d[h>>2]|0;t=p[n+(r+-1)>>0]|0;n=p[n+r>>0]|0}else{a=t-u>>31;if((a^i|0)<0)i=t;else i=u+((a^o|0)<0?0:o)|0;l=Ds(e,s,p[l+c>>0]|0,i,0)|0;f[(d[m>>2]|0)+c>>0]=l}if((r|0)>=(d[v>>2]|0))break;i=d[h>>2]|0;a=t;t=n;c=r}return}function Ds(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0,m=0,g=0;g=t>>31;l=(g^t)-g|0;m=e+164+(l*12|0)+10|0;n=h[m>>1]|0;p=e+164+(l*12|0)|0;i=d[p>>2]|0;if((n|0)<(i|0)){if((n<<1|0)<(i|0)){if((n<<2|0)<(i|0)){if((n<<3|0)<(i|0)){if((n<<4|0)<(i|0)){a=5;while(1){if((n<<a|0)<(i|0))a=a+1|0;else break}}else a=4}else a=3}else a=2}else a=1}else a=0;c=e+164+(l*12|0)+8|0;n=(h[c>>1]^g)-g+r|0;if((n&255|0)!=(n|0))n=n>>31&255^255;i=e+112|0;if((d[i>>2]|0)<8)Zr(e);r=e+108|0;o=d[r>>2]|0;s=o>>>24;u=d[2832+(a<<11)+(s<<3)+4>>2]|0;if(!u){i=ko(e)|0;if((i|0)<23){if(a)i=(Co(e,a)|0)+(i<<a)|0}else i=(Co(e,8)|0)+1|0;i=i<<31>>31^i>>1;if((((i|0)>-1?i:0-i|0)|0)>65535){n=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,n|0,5,35648);t=k;k=0;if(t&1){t=Ze()|0;Ye(n|0);ut(t|0)}else _t(n|0,824,96)}}else{d[i>>2]=(d[i>>2]|0)-u;d[r>>2]=o<<u;i=d[2832+(a<<11)+(s<<3)>>2]|0}u=e+164+(l*12|0)+4|0;r=d[u>>2]|0;if(!a){e=h[m>>1]|0;a=e;i=(r<<1)+-1+(e<<16>>16)>>31^i}else a=h[m>>1]|0;o=a<<16>>16==64;e=o&1;s=r+i>>e;o=o?32:a<<16>>16;d[p>>2]=((i|0)>-1?i:0-i|0)+(d[p>>2]|0)>>e;r=o+1|0;h[m>>1]=r;a=r+s|0;if((a|0)<1){m=h[c>>1]|0;h[c>>1]=(m&65535)-(m<<16>>16>-128&1);m=(a|0)>(~o|0)?a:0-o|0;d[u>>2]=m;g=i^g;t=t>>>31;t=n+t|0;t=t+g|0;t=t&255;return t|0}if((s|0)<=0){m=s;d[u>>2]=m;g=i^g;t=t>>>31;t=n+t|0;t=t+g|0;t=t&255;return t|0}m=s-r|0;p=h[c>>1]|0;h[c>>1]=(p<<16>>16<127&1)+(p&65535);m=(m|0)>0?0:m;d[u>>2]=m;g=i^g;t=t>>>31;t=n+t|0;t=t+g|0;t=t&255;return t|0}function Rs(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;a=e+4576|0;i=d[a>>2]|0;n=f[i+(t+-1)>>0]|0;o=e+148|0;i=Ps(e,n,i+t|0,(d[o>>2]|0)-t|0)|0;r=i+t|0;if((r|0)==(d[o>>2]|0)){o=i;return o|0}n=n&255;t=p[(d[e+4572>>2]|0)+r>>0]|0;o=n-t|0;if((((o|0)>-1?o:0-o|0)|0)<1)n=(Ns(e,e+4556|0)|0)+n|0;else n=(fe(Ns(e,e+4544|0)|0,t-n>>31|1)|0)+t|0;f[(d[a>>2]|0)+r>>0]=n;o=e+4568|0;e=d[o>>2]|0;d[o>>2]=(e|0)<1?0:e+-1|0;o=i+1|0;return o|0}function Ps(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0;s=e+112|0;u=e+108|0;l=e+4568|0;i=d[s>>2]|0;a=0;while(1){if((i|0)<1){Zr(e);i=d[s>>2]|0}o=d[u>>2]|0;i=i+-1|0;d[s>>2]=i;d[u>>2]=o<<1;if((o|0)>=0){c=8;break}o=d[l>>2]|0;h=1<<d[36476+(o<<2)>>2];p=r-a|0;p=(h|0)<(p|0)?h:p;a=p+a|0;if((p|0)==(h|0))d[l>>2]=(o|0)>30?31:o+1|0;if((a|0)==(r|0)){i=r;break}}if((c|0)==8)if((a|0)!=(r|0)){i=d[l>>2]|0;if((i+-4|0)>>>0<28)i=Co(e,d[36476+(i<<2)>>2]|0)|0;else i=0;i=i+a|0;if((i|0)>(r|0)){i=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,i|0,5,35648);p=k;k=0;if(p&1){p=Ze()|0;Ye(i|0);ut(p|0)}else _t(i|0,824,96)}}else i=r;if((i|0)<=0)return i|0;Dy(n|0,t|0,i|0)|0;return i|0}function Ns(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0;s=t+9|0;n=p[s>>0]|0;a=t+4|0;i=(fe(n>>>1,d[a>>2]|0)|0)+(d[t>>2]|0)|0;if((n|0)<(i|0)){r=0;do{n=n<<1;r=r+1|0}while((n|0)<(i|0))}else r=0;i=d[36476+(d[e+4568>>2]<<2)>>2]|0;n=ko(e)|0;do{if((n|0)<(22-i|0)){if(!r){e=d[a>>2]|0;i=e+n|0;r=i&1;i=(r+i|0)/2|0;o=8;break}else{n=(Co(e,r)|0)+(n<<r)|0;e=d[a>>2]|0;i=n+e|0;u=i&1;r=u;a=1;i=(u+i|0)/2|0;break}}else{n=(Co(e,8)|0)+1|0;e=d[a>>2]|0;i=n+e|0;a=i&1;i=(a+i|0)/2|0;if(!r){r=a;o=8}else{r=a;a=1}}}while(0);if((o|0)==8)a=p[t+10>>0]<<1>>>0>=(p[s>>0]|0)>>>0;i=(r|0)!=0^a?i:0-i|0;if((i|0)<0){u=t+10|0;f[u>>0]=(p[u>>0]|0)+1}n=(n+1-e>>1)+(d[t>>2]|0)|0;d[t>>2]=n;r=f[s>>0]|0;if(r<<24>>24!=(f[t+8>>0]|0)){u=r;u=u&255;u=u+1|0;u=u&255;f[s>>0]=u;return i|0}d[t>>2]=n>>1;u=(r&255)>>>1;f[s>>0]=u;t=t+10|0;f[t>>0]=(p[t>>0]|0)>>>1;u=u&255;u=u+1|0;u=u&255;f[s>>0]=u;return i|0}function Ls(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0;l=w;w=w+32|0;s=l;bw(s,255,0);u=e+152|0;if(((d[s+4>>2]|0)==(d[u>>2]|0)?(d[s+8>>2]|0)==(d[e+156>>2]|0):0)?(d[s+12>>2]|0)==(d[e+160>>2]|0):0){u=d[8900]|0;d[e+4580>>2]=u+(((d[8901]|0)-u|0)>>>1);w=l;return}n=e+4584|0;r=e+4588|0;i=d[r>>2]|0;t=d[n>>2]|0;a=i-t|0;if(a>>>0>=512){if(a>>>0>512?(o=t+512|0,(i|0)!=(o|0)):0)d[r>>2]=o}else{$r(n,512-a|0);t=d[n>>2]|0}s=e+4580|0;d[s>>2]=t+256;o=e+160|0;i=e+156|0;a=-256;while(1){t=d[o>>2]|0;if((a|0)>(0-t|0)){n=d[i>>2]|0;if((a|0)>(0-n|0)){r=d[u>>2]|0;if((a|0)>(0-r|0)){if((a|0)>=0){if((a|0)<1){f[(d[s>>2]|0)+a>>0]=0;a=1;continue}if((r|0)<=(a|0)){if((n|0)>(a|0))t=2;else t=(t|0)>(a|0)?3:4}else t=1}else t=-1}else t=-2}else t=-3}else t=-4;f[(d[s>>2]|0)+a>>0]=t;a=a+1|0;if((a|0)==256)break}w=l;return}function Fs(e){e=e|0;var t=0,n=0;d[e>>2]=35688;t=d[e+4584>>2]|0;if(t){n=e+4588|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}e=e+88|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function Bs(e){e=e|0;var t=0,n=0;d[e>>2]=35688;t=d[e+4584>>2]|0;if(t){n=e+4588|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+88|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function zs(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+352|0;S=b+328|0;x=b+192|0;n=b+343|0;r=b+342|0;i=b+341|0;a=b+340|0;p=b+176|0;s=b+168|0;u=b+160|0;l=b+152|0;y=b;g=b+136|0;if((d[e+28>>2]|0)!=0?(d[e+20>>2]|0)!=1:0){m=e+4|0;v=e+32|0;o=d[v>>2]|0;if(!o){e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[n>>0]|0;Be(44,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}e=d[e+12>>2]|0;if((e|0)==8)switch(o|0){case 1:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[r>>0]|0;Be(45,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[i>>0]|0;Be(46,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[a>>0]|0;Be(47,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=x+56|0;i=x+4|0;d[x>>2]=36160;d[o>>2]=36180;k=0;we(62,x+56|0,i|0);b=k;k=0;if(b&1){_=Ze()|0;pd(o);ut(_|0)}d[x+128>>2]=0;d[x+132>>2]=-1;d[x>>2]=36200;d[x+56>>2]=36220;k=0;be(180,i|0);b=k;k=0;do{if(b&1)e=Ze()|0;else{d[i>>2]=36236;a=x+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[x+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);b=k;k=0;if(b&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,x|0,49007,21)|0;S=k;k=0;do{if((!(S&1)?(k=0,c=Oe(36,e|0,d[v>>2]|0)|0,S=k,k=0,!(S&1)):0)?(k=0,Te(28,c|0,50997,18)|0,S=k,k=0,!(S&1)):0){r=Ke(16)|0;k=0;we(64,p|0,i|0);S=k;k=0;if(!(S&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,p|0);S=k;k=0;if(S&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(p);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=34}while(0);if((_|0)==34)e=Ze()|0;d[x>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}if((e|0)<=8){e=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,e|0,8,35648);_=k;k=0;if(!(_&1))_t(e|0,824,96);_=Ze()|0;Ye(e|0);ut(_|0)}n=16-e|0;switch(o|0){case 1:{e=Ww(60)|0;d[s>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[s>>2];d[S+4>>2]=d[s+4>>2];Be(41,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(60)|0;d[u>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[u>>2];d[S+4>>2]=d[u+4>>2];Be(42,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(60)|0;d[l>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[l>>2];d[S+4>>2]=d[l+4>>2];Be(43,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=y+56|0;i=y+4|0;d[y>>2]=36160;d[o>>2]=36180;k=0;we(62,y+56|0,i|0);x=k;k=0;if(x&1){_=Ze()|0;pd(o);ut(_|0)}d[y+128>>2]=0;d[y+132>>2]=-1;d[y>>2]=36200;d[y+56>>2]=36220;k=0;be(180,i|0);x=k;k=0;do{if(x&1)e=Ze()|0;else{d[i>>2]=36236;a=y+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[y+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);x=k;k=0;if(x&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,y|0,49007,21)|0;x=k;k=0;do{if((!(x&1)?(k=0,h=Oe(36,e|0,d[v>>2]|0)|0,x=k,k=0,!(x&1)):0)?(k=0,Te(28,h|0,50997,18)|0,x=k,k=0,!(x&1)):0){r=Ke(16)|0;k=0;we(64,g|0,i|0);x=k;k=0;if(!(x&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,g|0);x=k;k=0;if(x&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(g);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=64}while(0);if((_|0)==64)e=Ze()|0;d[y>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}}n=d[t+4>>2]|0;r=Ww(16)|0;e=d[e+16>>2]|0;if(!n){_=d[t>>2]|0;d[r>>2]=36132;d[r+4>>2]=_;d[r+8>>2]=3;d[r+12>>2]=e;_=r;w=b;return _|0}else{d[r>>2]=36108;d[r+4>>2]=n;d[r+8>>2]=3;d[r+12>>2]=e;_=r;w=b;return _|0}return 0}function Us(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0;i=w;w=w+32|0;s=i;bw(s,255,0);o=d[t+4>>2]|0;a=d[t+8>>2]|0;a=(a|0)==0?d[s+8>>2]|0:a;r=d[t+12>>2]|0;r=(r|0)==0?d[s+12>>2]|0:r;t=d[t+16>>2]|0;n=d[s+16>>2]|0;d[e+152>>2]=(o|0)==0?d[s+4>>2]|0:o;d[e+156>>2]=a;d[e+160>>2]=r;qb(e);r=0;do{d[e+164+(r*12|0)>>2]=4;d[e+164+(r*12|0)+4>>2]=0;h[e+164+(r*12|0)+8>>1]=0;h[e+164+(r*12|0)+10>>1]=1;r=r+1|0}while((r|0)!=365);s=((t|0)==0?n:t)&255;d[e+4544>>2]=4;d[e+4548>>2]=0;f[e+4552>>0]=s;f[e+4553>>0]=1;f[e+4554>>0]=0;d[e+4556>>2]=4;d[e+4560>>2]=1;f[e+4564>>0]=s;f[e+4565>>0]=1;f[e+4566>>0]=0;d[e+4568>>2]=0;w=i;return}function js(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0;o=e+88|0;a=d[t>>2]|0;d[t>>2]=0;t=d[o>>2]|0;d[o>>2]=a;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);o=r+4|0;a=d[o>>2]|0;f[e+4596>>0]=i&1;t=e+132|0;d[t>>2]=d[n>>2];d[t+4>>2]=d[n+4>>2];d[t+8>>2]=d[n+8>>2];d[t+12>>2]=d[n+12>>2];zr(e,r);Vs(e);t=d[e+116>>2]|0;e=d[e+112>>2]|0;while(1){i=t+-1|0;n=(f[i>>0]|0)==-1?7:8;if((e|0)<(n|0))break;else{t=i;e=e-n|0}}t=t-a|0;i=d[o>>2]|0;if(!i)return;d[o>>2]=i+t;r=r+8|0;d[r>>2]=(d[r>>2]|0)-t;return}function Vs(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0;E=w;w=w+32|0;A=E+12|0;T=E;S=e+148|0;x=(d[S>>2]|0)+4|0;if((d[e+28>>2]|0)==1)_=d[e+20>>2]|0;else _=1;t=fe(_<<1,x)|0;d[A>>2]=0;O=A+4|0;d[O>>2]=0;d[A+8>>2]=0;e:do{if(t){if(!(t>>>0>1431655765?(k=0,be(178,A|0),C=k,k=0,C&1):0))a=6;if((a|0)==6?(k=0,n=xe(67,t*3|0)|0,C=k,k=0,!(C&1)):0){d[O>>2]=n;d[A>>2]=n;d[A+8>>2]=n+(t*3|0);while(1){f[n>>0]=0;f[n+1>>0]=0;f[n+2>>0]=0;n=(d[O>>2]|0)+3|0;d[O>>2]=n;t=t+-1|0;if(!t)break e}}r=Ze()|0;t=d[A>>2]|0;if(!t)ut(r|0);n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~(((n+-3-t|0)>>>0)/3|0)*3|0);Hw(t);ut(r|0)}}while(0);d[T>>2]=0;C=T+4|0;d[C>>2]=0;d[T+8>>2]=0;do{if(!_)a=19;else{if(!(_>>>0>1073741823?(k=0,be(178,T|0),b=k,k=0,b&1):0))a=17;if((a|0)==17?(r=_<<2,k=0,i=xe(67,r|0)|0,b=k,k=0,!(b&1)):0){d[T>>2]=i;a=i+(_<<2)|0;d[T+8>>2]=a;Dy(i|0,0,r|0)|0;d[C>>2]=a;a=19;break}r=Ze()|0;t=d[T>>2]|0;n=t;if(t){i=d[C>>2]|0;if((i|0)!=(t|0))d[C>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}}while(0);if((a|0)==19){a=e+8|0;e:do{if((d[a>>2]|0)>0){o=e+4572|0;s=fe(_,x)|0;u=s+1|0;l=e+4576|0;c=(_|0)>0;h=e+136|0;p=e+144|0;m=e+140|0;g=e+132|0;v=e+88|0;y=e+4568|0;b=0;t:while(1){r=d[A>>2]|0;n=r+3|0;d[o>>2]=n;r=r+(u*3|0)|0;d[l>>2]=r;if(!(b&1))t=r;else{d[o>>2]=r;d[l>>2]=n;t=n;n=r}if(c){i=d[T>>2]|0;r=0;do{d[y>>2]=d[i+(r<<2)>>2];t=d[S>>2]|0;i=n+(t*3|0)|0;n=n+((t+-1|0)*3|0)|0;f[i>>0]=f[n>>0]|0;f[i+1>>0]=f[n+1>>0]|0;f[i+2>>0]=f[n+2>>0]|0;n=d[o>>2]|0;i=(d[l>>2]|0)+-3|0;f[i>>0]=f[n>>0]|0;f[i+1>>0]=f[n+1>>0]|0;f[i+2>>0]=f[n+2>>0]|0;k=0;we(82,e|0,0);i=k;k=0;if(i&1){a=30;break t}i=d[T>>2]|0;d[i+(r<<2)>>2]=d[y>>2];n=(d[o>>2]|0)+(x*3|0)|0;d[o>>2]=n;t=(d[l>>2]|0)+(x*3|0)|0;d[l>>2]=t;r=r+1|0}while((r|0)<(_|0))}i=d[h>>2]|0;if(((i|0)<=(b|0)?(b|0)<((d[p>>2]|0)+i|0):0)?(i=d[v>>2]|0,k=0,Be(d[(d[i>>2]|0)+8>>2]|0,i|0,t+(((d[g>>2]|0)-s|0)*3|0)|0,d[m>>2]|0,x|0),i=k,k=0,i&1):0){a=31;break}b=b+1|0;if((b|0)>=(d[a>>2]|0)){a=43;break e}}if((a|0)==30){r=Ze()|0;break}else if((a|0)==31){r=Ze()|0;break}}else a=43}while(0);do{if((a|0)==43){k=0;be(183,e|0);e=k;k=0;if(e&1){r=Ze()|0;break}t=d[T>>2]|0;n=t;if(t){r=d[C>>2]|0;if((r|0)!=(t|0))d[C>>2]=r+(~((r+-4-n|0)>>>2)<<2);Hw(t)}t=d[A>>2]|0;if(!t){w=E;return}n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~(((n+-3-t|0)>>>0)/3|0)*3|0);Hw(t);w=E;return}}while(0);t=d[T>>2]|0;n=t;if(t){i=d[C>>2]|0;if((i|0)!=(t|0))d[C>>2]=i+(~((i+-4-n|0)>>>2)<<2);Hw(t)}}t=d[A>>2]|0;if(!t)ut(r|0);n=d[O>>2]|0;if((n|0)!=(t|0))d[O>>2]=n+(~(((n+-3-t|0)>>>0)/3|0)*3|0);Hw(t);ut(r|0)}function Gs(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,y=0,b=0,w=0,S=0,x=0,_=0,T=0,E=0,k=0,C=0,A=0,O=0;k=e+148|0;if((d[k>>2]|0)<=0)return;C=e+4576|0;A=e+4572|0;O=e+4580|0;E=0;while(1){x=E+-1|0;a=d[C>>2]|0;o=d[A>>2]|0;t=E+1|0;i=p[o+(E*3|0)>>0]|0;T=d[O>>2]|0;s=p[o+(x*3|0)>>0]|0;u=i-s|0;l=p[a+(x*3|0)>>0]|0;c=s-l|0;h=((((f[T+((p[o+(t*3|0)>>0]|0)-i)>>0]|0)*9|0)+(f[T+u>>0]|0)|0)*9|0)+(f[T+c>>0]|0)|0;r=p[o+(E*3|0)+1>>0]|0;m=p[o+(x*3|0)+1>>0]|0;g=r-m|0;v=p[a+(x*3|0)+1>>0]|0;y=m-v|0;b=((((f[T+((p[o+(t*3|0)+1>>0]|0)-r)>>0]|0)*9|0)+(f[T+g>>0]|0)|0)*9|0)+(f[T+y>>0]|0)|0;n=p[o+(E*3|0)+2>>0]|0;w=p[o+(x*3|0)+2>>0]|0;S=n-w|0;x=p[a+(x*3|0)+2>>0]|0;_=w-x|0;T=((((f[T+((p[o+(t*3|0)+2>>0]|0)-n)>>0]|0)*9|0)+(f[T+S>>0]|0)|0)*9|0)+(f[T+_>>0]|0)|0;if(!(b|h|T))t=(Ws(e,E,0)|0)+E|0;else{o=p[a+(E*3|0)>>0]|0;a=i-l>>31;if((a^c|0)>=0)if((a^u|0)<0)i=l;else i=l-s+i|0;o=Hs(e,h,o,i,0)|0;a=p[(d[C>>2]|0)+(E*3|0)+1>>0]|0;i=r-v>>31;if((i^y|0)>=0)if((i^g|0)<0)r=v;else r=v-m+r|0;i=Hs(e,b,a,r,0)|0;a=p[(d[C>>2]|0)+(E*3|0)+2>>0]|0;r=n-x>>31;if((r^_|0)>=0)if((r^S|0)<0)n=x;else n=x-w+n|0;T=Hs(e,T,a,n,0)|0;E=(d[C>>2]|0)+(E*3|0)|0;f[E>>0]=o;f[E+1>>0]=i;f[E+2>>0]=T}if((t|0)<(d[k>>2]|0))E=t;else break}return}function Ws(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;u=w;w=w+16|0;c=u+3|0;h=u;a=e+4576|0;n=d[a>>2]|0;r=n+((t+-1|0)*3|0)|0;o=f[r>>0]|0;s=f[r+1>>0]|0;r=f[r+2>>0]|0;f[h>>0]=o;f[h+1>>0]=s;f[h+2>>0]=r;l=e+148|0;i=(d[l>>2]|0)-t|0;f[c>>0]=f[h>>0]|0;f[c+1>>0]=f[h+1>>0]|0;f[c+2>>0]=f[h+2>>0]|0;i=qs(e,c,n+(t*3|0)|0,i)|0;n=i+t|0;if((n|0)==(d[l>>2]|0)){h=i;w=u;return h|0}c=(d[e+4572>>2]|0)+(n*3|0)|0;t=f[c>>0]|0;l=f[c+1>>0]|0;c=f[c+2>>0]|0;h=d[a>>2]|0;a=e+4544|0;m=Qs(e,a)|0;p=Qs(e,a)|0;t=t&255;t=(fe(t-(o&255)>>31|1,m)|0)+t&255;l=l&255;l=(fe(l-(s&255)>>31|1,p)|0)+l&255;c=c&255;c=(fe(c-(r&255)>>31|1,Qs(e,a)|0)|0)+c&255;h=h+(n*3|0)|0;f[h>>0]=t;f[h+1>>0]=l;f[h+2>>0]=c;h=e+4568|0;c=d[h>>2]|0;d[h>>2]=(c|0)<1?0:c+-1|0;h=i+1|0;w=u;return h|0}function Hs(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0,m=0,g=0;g=t>>31;l=(g^t)-g|0;m=e+164+(l*12|0)+10|0;n=h[m>>1]|0;p=e+164+(l*12|0)|0;i=d[p>>2]|0;if((n|0)<(i|0)){if((n<<1|0)<(i|0)){if((n<<2|0)<(i|0)){if((n<<3|0)<(i|0)){if((n<<4|0)<(i|0)){a=5;while(1){if((n<<a|0)<(i|0))a=a+1|0;else break}}else a=4}else a=3}else a=2}else a=1}else a=0;c=e+164+(l*12|0)+8|0;n=(h[c>>1]^g)-g+r|0;if((n&255|0)!=(n|0))n=n>>31&255^255;i=e+112|0;if((d[i>>2]|0)<8)Zr(e);r=e+108|0;o=d[r>>2]|0;s=o>>>24;u=d[2832+(a<<11)+(s<<3)+4>>2]|0;if(!u){i=ko(e)|0;if((i|0)<23){if(a)i=(Co(e,a)|0)+(i<<a)|0}else i=(Co(e,8)|0)+1|0;i=i<<31>>31^i>>1;if((((i|0)>-1?i:0-i|0)|0)>65535){n=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,n|0,5,35648);t=k;k=0;if(t&1){t=Ze()|0;Ye(n|0);ut(t|0)}else _t(n|0,824,96)}}else{d[i>>2]=(d[i>>2]|0)-u;d[r>>2]=o<<u;i=d[2832+(a<<11)+(s<<3)>>2]|0}u=e+164+(l*12|0)+4|0;r=d[u>>2]|0;if(!a){e=h[m>>1]|0;a=e;i=(r<<1)+-1+(e<<16>>16)>>31^i}else a=h[m>>1]|0;o=a<<16>>16==64;e=o&1;s=r+i>>e;o=o?32:a<<16>>16;d[p>>2]=((i|0)>-1?i:0-i|0)+(d[p>>2]|0)>>e;r=o+1|0;h[m>>1]=r;a=r+s|0;if((a|0)<1){m=h[c>>1]|0;h[c>>1]=(m&65535)-(m<<16>>16>-128&1);m=(a|0)>(~o|0)?a:0-o|0;d[u>>2]=m;g=i^g;t=t>>>31;t=n+t|0;t=t+g|0;t=t&255;return t|0}if((s|0)<=0){m=s;d[u>>2]=m;g=i^g;t=t>>>31;t=n+t|0;t=t+g|0;t=t&255;return t|0}m=s-r|0;p=h[c>>1]|0;h[c>>1]=(p<<16>>16<127&1)+(p&65535);m=(m|0)>0?0:m;d[u>>2]=m;g=i^g;t=t>>>31;t=n+t|0;t=t+g|0;t=t&255;return t|0}function qs(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0;s=e+112|0;u=e+108|0;l=e+4568|0;i=d[s>>2]|0;a=0;while(1){if((i|0)<1){Zr(e);i=d[s>>2]|0}o=d[u>>2]|0;i=i+-1|0;d[s>>2]=i;d[u>>2]=o<<1;if((o|0)>=0){c=8;break}o=d[l>>2]|0;h=1<<d[36476+(o<<2)>>2];p=r-a|0;p=(h|0)<(p|0)?h:p;a=p+a|0;if((p|0)==(h|0))d[l>>2]=(o|0)>30?31:o+1|0;if((a|0)==(r|0)){i=r;break}}if((c|0)==8)if((a|0)!=(r|0)){i=d[l>>2]|0;if((i+-4|0)>>>0<28)i=Co(e,d[36476+(i<<2)>>2]|0)|0;else i=0;i=i+a|0;if((i|0)>(r|0)){i=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,i|0,5,35648);p=k;k=0;if(p&1){p=Ze()|0;Ye(i|0);ut(p|0)}else _t(i|0,824,96)}}else i=r;if((i|0)<=0)return i|0;a=0;do{p=n+(a*3|0)|0;f[p>>0]=f[t>>0]|0;f[p+1>>0]=f[t+1>>0]|0;f[p+2>>0]=f[t+2>>0]|0;a=a+1|0}while((a|0)!=(i|0));return i|0}function Qs(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0;s=t+9|0;n=p[s>>0]|0;a=t+4|0;i=(fe(n>>>1,d[a>>2]|0)|0)+(d[t>>2]|0)|0;if((n|0)<(i|0)){r=0;do{n=n<<1;r=r+1|0}while((n|0)<(i|0))}else r=0;i=d[36476+(d[e+4568>>2]<<2)>>2]|0;n=ko(e)|0;do{if((n|0)<(22-i|0)){if(!r){e=d[a>>2]|0;i=e+n|0;r=i&1;i=(r+i|0)/2|0;o=8;break}else{n=(Co(e,r)|0)+(n<<r)|0;e=d[a>>2]|0;i=n+e|0;u=i&1;r=u;a=1;i=(u+i|0)/2|0;break}}else{n=(Co(e,8)|0)+1|0;e=d[a>>2]|0;i=n+e|0;a=i&1;i=(a+i|0)/2|0;if(!r){r=a;o=8}else{r=a;a=1}}}while(0);if((o|0)==8)a=p[t+10>>0]<<1>>>0>=(p[s>>0]|0)>>>0;i=(r|0)!=0^a?i:0-i|0;if((i|0)<0){u=t+10|0;f[u>>0]=(p[u>>0]|0)+1}n=(n+1-e>>1)+(d[t>>2]|0)|0;d[t>>2]=n;r=f[s>>0]|0;if(r<<24>>24!=(f[t+8>>0]|0)){u=r;u=u&255;u=u+1|0;u=u&255;f[s>>0]=u;return i|0}d[t>>2]=n>>1;u=(r&255)>>>1;f[s>>0]=u;t=t+10|0;f[t>>0]=(p[t>>0]|0)>>>1;u=u&255;u=u+1|0;u=u&255;f[s>>0]=u;return i|0}function Xs(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;c=w;w=w+128|0;a=c;p=c+116|0;m=c+104|0;s=c+20|0;l=c+16|0;u=c+12|0;h=c+8|0;o=c+4|0;f[p>>0]=f[58887]|0;f[p+1>>0]=f[58888]|0;f[p+2>>0]=f[58889]|0;f[p+3>>0]=f[58890]|0;f[p+4>>0]=f[58891]|0;f[p+5>>0]=f[58892]|0;Cm(p+1|0,58893,0,d[n+4>>2]|0);e=nm()|0;d[a>>2]=i;i=m+(pv(m,12,e,p,a)|0)|0;p=Am(m,i,n)|0;e=vd(n)|0;d[h>>2]=e;k=0;Ce(3,m|0,p|0,i|0,s|0,l|0,u|0,h|0);i=k;k=0;if(i&1){m=Ze()|0;Th(e)|0;ut(m|0)}else{Th(e)|0;d[o>>2]=d[t>>2];p=d[l>>2]|0;m=d[u>>2]|0;d[a>>2]=d[o>>2];m=gv(a,s,p,m,n,r)|0;w=c;return m|0}return 0}function Ys(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0,m=0,g=0;f=w;w=w+240|0;o=f+8|0;e=f;p=f+204|0;u=f+32|0;c=f+28|0;l=f+24|0;h=f+20|0;s=f+16|0;m=e;d[m>>2]=37;d[m+4>>2]=0;Cm(e+1|0,58895,0,d[n+4>>2]|0);m=nm()|0;g=o;d[g>>2]=i;d[g+4>>2]=a;a=p+(pv(p,23,m,e,o)|0)|0;i=Am(p,a,n)|0;e=vd(n)|0;d[h>>2]=e;k=0;Ce(3,p|0,i|0,a|0,u|0,c|0,l|0,h|0);a=k;k=0;if(a&1){g=Ze()|0;Th(e)|0;ut(g|0)}else{Th(e)|0;d[s>>2]=d[t>>2];m=d[c>>2]|0;g=d[l>>2]|0;d[o>>2]=d[s>>2];g=gv(o,u,m,g,n,r)|0;w=f;return g|0}return 0}function Ks(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=+i;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0,m=0,g=0,v=0,b=0,S=0,x=0,_=0,T=0,E=0;T=w;w=w+352|0;v=T+312|0;h=T+48|0;f=T+32|0;u=T+24|0;a=T+8|0;c=T;m=T+316|0;g=T+80|0;s=T+84|0;_=T+76|0;x=T+72|0;b=T+68|0;S=T+64|0;l=c;d[l>>2]=37;d[l+4>>2]=0;l=Pm(c+1|0,58898,d[n+4>>2]|0)|0;d[g>>2]=m;e=nm()|0;if(l){d[a>>2]=d[n+8>>2];y[a+8>>3]=i;a=pv(m,30,e,c,a)|0}else{y[u>>3]=i;a=pv(m,30,e,c,u)|0}e:do{if((a|0)>29){k=0;e=De(3)|0;a=k;k=0;a=a&1;if(l){if(!a?(k=0,d[f>>2]=d[n+8>>2],y[f+8>>3]=i,o=Re(17,g|0,e|0,c|0,f|0)|0,p=k,k=0,!(p&1)):0)E=12}else if(!a?(k=0,d[h>>2]=d[n+8>>2],y[h+8>>3]=i,p=Re(17,g|0,e|0,c|0,h|0)|0,h=k,k=0,!(h&1)):0){o=p;E=12}do{if((E|0)==12){e=d[g>>2]|0;if(!e){k=0;Ne(6);p=k;k=0;if(p&1)break;a=d[g>>2]|0}else a=e;e=a;c=a;E=16;break e}}while(0);e=Ze()|0}else{e=d[g>>2]|0;c=0;o=a;E=16}}while(0);if((E|0)==16){u=e+o|0;l=Am(e,u,n)|0;do{if((e|0)==(m|0)){e=m;a=0;E=22}else{o=Uf(o<<3)|0;if(!o){k=0;Ne(6);E=k;k=0;if(E&1){a=0;E=20;break}e=d[g>>2]|0}a=o;s=o;E=22}}while(0);do{if((E|0)==22){k=0;o=xe(68,n|0)|0;g=k;k=0;if(!(g&1)){d[b>>2]=o;k=0;Ce(4,e|0,l|0,u|0,s|0,_|0,x|0,b|0);b=k;k=0;if(b&1){e=Ze()|0;Th(o)|0;break}Th(o)|0;d[S>>2]=d[t>>2];E=d[_>>2]|0;e=d[x>>2]|0;k=0;d[v>>2]=d[S>>2];e=Se(40,v|0,s|0,E|0,e|0,n|0,r|0)|0;E=k;k=0;if(!(E&1)){d[t>>2]=e;if(a)jf(a);if(c)jf(c);w=T;return e|0}else E=20}else E=20}}while(0);if((E|0)==20)e=Ze()|0;if(a)jf(a);if(c)jf(c)}ut(e|0);return 0}function Zs(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;var s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0;_=w;w=w+16|0;T=_;x=Hc(o,44212)|0;b=Hc(o,44368)|0;g_[d[(d[b>>2]|0)+20>>2]&127](T,b);d[a>>2]=r;o=f[e>>0]|0;switch(o<<24>>24){case 43:case 45:{k=0;o=Oe(d[(d[x>>2]|0)+44>>2]|0,x|0,o|0)|0;S=k;k=0;if(S&1)y=8;else{l=d[a>>2]|0;d[a>>2]=l+4;d[l>>2]=o;l=e+1|0;y=10}break}default:{l=e;y=10}}e:do{if((y|0)==10){S=n;t:do{if((S-l|0)>1?(f[l>>0]|0)==48:0){s=l+1|0;switch(f[s>>0]|0){case 88:case 120:break;default:{y=11;break t}}k=0;o=Oe(d[(d[x>>2]|0)+44>>2]|0,x|0,48)|0;v=k;k=0;if(v&1){y=8;break e}v=d[a>>2]|0;d[a>>2]=v+4;d[v>>2]=o;l=l+2|0;k=0;o=Oe(d[(d[x>>2]|0)+44>>2]|0,x|0,f[s>>0]|0)|0;v=k;k=0;if(v&1){y=8;break e}v=d[a>>2]|0;d[a>>2]=v+4;d[v>>2]=o;if(l>>>0<n>>>0){o=l;while(1){s=f[o>>0]|0;k=0;u=De(3)|0;v=k;k=0;if(v&1)break;k=0;s=Oe(39,s<<24>>24|0,u|0)|0;v=k;k=0;if(v&1)break;if(!s){v=l;break t}o=o+1|0;if(o>>>0>=n>>>0){v=l;break t}}o=Ze()|0;break e}else{v=l;o=l}}else y=11}while(0);t:do{if((y|0)==11)if(l>>>0<n>>>0){o=l;while(1){s=f[o>>0]|0;k=0;u=De(3)|0;v=k;k=0;if(v&1)break;k=0;s=Oe(40,s<<24>>24|0,u|0)|0;v=k;k=0;if(v&1)break;if(!s){v=l;break t}o=o+1|0;if(o>>>0>=n>>>0){v=l;break t}}o=Ze()|0;break e}else{v=l;o=l}}while(0);m=f[T>>0]|0;g=T+4|0;if(((m&1)==0?(m&255)>>>1:d[g>>2]|0)|0){if((v|0)!=(o|0)?(c=o+-1|0,v>>>0<c>>>0):0){u=v;s=c;do{m=f[u>>0]|0;f[u>>0]=f[s>>0]|0;f[s>>0]=m;u=u+1|0;s=s+-1|0}while(u>>>0<s>>>0)}k=0;c=xe(d[(d[b>>2]|0)+16>>2]|0,b|0)|0;m=k;k=0;if(m&1){y=8;break}h=T+8|0;p=T+1|0;t:do{if(v>>>0<o>>>0){s=0;u=0;m=v;while(1){l=f[((f[T>>0]&1)==0?p:d[h>>2]|0)+u>>0]|0;if(l<<24>>24>0&(s|0)==(l<<24>>24|0)){s=d[a>>2]|0;d[a>>2]=s+4;d[s>>2]=c;s=f[T>>0]|0;l=0;u=(u>>>0<(((s&1)==0?(s&255)>>>1:d[g>>2]|0)+-1|0)>>>0&1)+u|0}else l=s;k=0;s=Oe(d[(d[x>>2]|0)+44>>2]|0,x|0,f[m>>0]|0)|0;E=k;k=0;if(E&1)break;E=d[a>>2]|0;d[a>>2]=E+4;d[E>>2]=s;m=m+1|0;if(m>>>0>=o>>>0)break t;else s=l+1|0}o=Ze()|0;break e}}while(0);s=r+(v-e<<2)|0;l=d[a>>2]|0;if((s|0)!=(l|0)){u=l+-4|0;if(s>>>0<u>>>0){do{E=d[s>>2]|0;d[s>>2]=d[u>>2];d[u>>2]=E;s=s+4|0;u=u+-4|0}while(s>>>0<u>>>0);c=x;s=l}else{c=x;s=l}}else c=x}else{k=0;Re(d[(d[x>>2]|0)+48>>2]|0,x|0,v|0,o|0,d[a>>2]|0)|0;E=k;k=0;if(E&1){y=8;break}s=(d[a>>2]|0)+(o-v<<2)|0;d[a>>2]=s;c=x}t:do{if(o>>>0<n>>>0){while(1){s=f[o>>0]|0;if(s<<24>>24==46){u=o;break}k=0;u=Oe(d[(d[c>>2]|0)+44>>2]|0,x|0,s|0)|0;E=k;k=0;if(E&1){y=4;break}E=d[a>>2]|0;s=E+4|0;d[a>>2]=s;d[E>>2]=u;o=o+1|0;if(o>>>0>=n>>>0)break t}if((y|0)==4){o=Ze()|0;break e}k=0;o=xe(d[(d[b>>2]|0)+12>>2]|0,b|0)|0;E=k;k=0;if(E&1){y=8;break e}E=d[a>>2]|0;s=E+4|0;d[a>>2]=s;d[E>>2]=o;o=u+1|0}}while(0);k=0;Re(d[(d[x>>2]|0)+48>>2]|0,x|0,o|0,n|0,s|0)|0;E=k;k=0;if(E&1)y=8;else{E=(d[a>>2]|0)+(S-o<<2)|0;d[a>>2]=E;d[i>>2]=(t|0)==(n|0)?E:r+(t-e<<2)|0;Gh(T);w=_;return}}}while(0);if((y|0)==8)o=Ze()|0;Gh(T);ut(o|0)}function Js(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=+i;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0,m=0,g=0,v=0,b=0,S=0,x=0,_=0,T=0,E=0;T=w;w=w+352|0;v=T+304|0;h=T+48|0;f=T+32|0;u=T+24|0;a=T+8|0;c=T;m=T+308|0;g=T+72|0;s=T+76|0;_=T+68|0;x=T+64|0;b=T+60|0;S=T+56|0;l=c;d[l>>2]=37;d[l+4>>2]=0;l=Pm(c+1|0,58899,d[n+4>>2]|0)|0;d[g>>2]=m;e=nm()|0;if(l){d[a>>2]=d[n+8>>2];y[a+8>>3]=i;a=pv(m,30,e,c,a)|0}else{y[u>>3]=i;a=pv(m,30,e,c,u)|0}e:do{if((a|0)>29){k=0;e=De(3)|0;a=k;k=0;a=a&1;if(l){if(!a?(k=0,d[f>>2]=d[n+8>>2],y[f+8>>3]=i,o=Re(17,g|0,e|0,c|0,f|0)|0,p=k,k=0,!(p&1)):0)E=12}else if(!a?(k=0,y[h>>3]=i,p=Re(17,g|0,e|0,c|0,h|0)|0,h=k,k=0,!(h&1)):0){o=p;E=12}do{if((E|0)==12){e=d[g>>2]|0;if(!e){k=0;Ne(6);p=k;k=0;if(p&1)break;a=d[g>>2]|0}else a=e;e=a;c=a;E=16;break e}}while(0);e=Ze()|0}else{e=d[g>>2]|0;c=0;o=a;E=16}}while(0);if((E|0)==16){u=e+o|0;l=Am(e,u,n)|0;do{if((e|0)==(m|0)){e=m;a=0;E=22}else{o=Uf(o<<3)|0;if(!o){k=0;Ne(6);E=k;k=0;if(E&1){a=0;E=20;break}e=d[g>>2]|0}a=o;s=o;E=22}}while(0);do{if((E|0)==22){k=0;o=xe(68,n|0)|0;g=k;k=0;if(!(g&1)){d[b>>2]=o;k=0;Ce(4,e|0,l|0,u|0,s|0,_|0,x|0,b|0);b=k;k=0;if(b&1){e=Ze()|0;Th(o)|0;break}Th(o)|0;d[S>>2]=d[t>>2];E=d[_>>2]|0;e=d[x>>2]|0;k=0;d[v>>2]=d[S>>2];e=Se(40,v|0,s|0,E|0,e|0,n|0,r|0)|0;E=k;k=0;if(!(E&1)){d[t>>2]=e;if(a)jf(a);if(c)jf(c);w=T;return e|0}else E=20}else E=20}}while(0);if((E|0)==20)e=Ze()|0;if(a)jf(a);if(c)jf(c)}ut(e|0);return 0}function $s(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;p=w;w=w+192|0;u=p;e=p+180|0;c=p+160|0;h=p+12|0;s=p+8|0;l=p+4|0;f[e>>0]=f[58901]|0;f[e+1>>0]=f[58902]|0;f[e+2>>0]=f[58903]|0;f[e+3>>0]=f[58904]|0;f[e+4>>0]=f[58905]|0;f[e+5>>0]=f[58906]|0;a=nm()|0;d[u>>2]=i;e=pv(c,20,a,e,u)|0;i=c+e|0;a=Am(c,i,n)|0;o=vd(n)|0;d[s>>2]=o;k=0;s=Oe(37,s|0,44212)|0;m=k;k=0;if(m&1){m=Ze()|0;Th(o)|0;ut(m|0)}else{Th(o)|0;O_[d[(d[s>>2]|0)+48>>2]&31](s,c,i,h)|0;m=h+(e<<2)|0;d[l>>2]=d[t>>2];d[u>>2]=d[l>>2];m=gv(u,h,(a|0)==(i|0)?m:h+(a-c<<2)|0,m,n,r)|0;w=p;return m|0}return 0}function eu(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;var u=0,l=0,c=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0;A=w;w=w+32|0;S=A+16|0;b=A+12|0;T=A+8|0;x=A+4|0;_=A;u=vd(r)|0;d[T>>2]=u;k=0;T=Oe(37,T|0,44220)|0;y=k;k=0;if(y&1){A=Ze()|0;Th(u)|0;ut(A|0)}Th(u)|0;d[i>>2]=0;y=T+8|0;u=d[t>>2]|0;e:do{if((o|0)!=(s|0)){t:while(1){l=u;if(u){if((d[u+12>>2]|0)==(d[u+16>>2]|0)?(y_[d[(d[u>>2]|0)+36>>2]&127](u)|0)==-1:0){d[t>>2]=0;u=0;l=0}}else u=0;g=(u|0)==0;m=d[n>>2]|0;c=m;do{if(m){if((d[m+12>>2]|0)==(d[m+16>>2]|0)?(y_[d[(d[m>>2]|0)+36>>2]&127](m)|0)==-1:0){d[n>>2]=0;c=0;C=12;break}if(!g){C=13;break t}}else C=12}while(0);if((C|0)==12){C=0;if(g){C=13;break}else m=0}n:do{if((w_[d[(d[T>>2]|0)+36>>2]&63](T,f[o>>0]|0,0)|0)<<24>>24==37){m=o+1|0;if((m|0)==(s|0)){C=17;break t}v=w_[d[(d[T>>2]|0)+36>>2]&63](T,f[m>>0]|0,0)|0;switch(v<<24>>24){case 48:case 69:{g=o+2|0;if((g|0)==(s|0)){C=20;break t}o=m;m=w_[d[(d[T>>2]|0)+36>>2]&63](T,f[g>>0]|0,0)|0;u=v;break}default:{m=v;u=0}}v=d[(d[e>>2]|0)+36>>2]|0;d[x>>2]=l;d[_>>2]=c;d[b>>2]=d[x>>2];d[S>>2]=d[_>>2];v=D_[v&15](e,b,S,r,i,a,m,u)|0;d[t>>2]=v;o=o+2|0}else{l=f[o>>0]|0;if(l<<24>>24>-1?(E=d[y>>2]|0,(h[E+(l<<24>>24<<1)>>1]&8192)!=0):0){do{o=o+1|0;if((o|0)==(s|0)){o=s;break}l=f[o>>0]|0;if(l<<24>>24<=-1)break}while((h[E+(l<<24>>24<<1)>>1]&8192)!=0);l=m;while(1){if(u){if((d[u+12>>2]|0)==(d[u+16>>2]|0)?(y_[d[(d[u>>2]|0)+36>>2]&127](u)|0)==-1:0){d[t>>2]=0;u=0}}else u=0;c=(u|0)==0;do{if(m){if((d[m+12>>2]|0)!=(d[m+16>>2]|0))if(c){v=l;break}else break n;if((y_[d[(d[m>>2]|0)+36>>2]&127](m)|0)!=-1){if(c^(l|0)==0){v=l;m=l;break}else break n}else{d[n>>2]=0;l=0;C=39;break}}else C=39}while(0);if((C|0)==39){C=0;if(c)break n;else{v=l;m=0}}c=u+12|0;l=d[c>>2]|0;g=u+16|0;if((l|0)==(d[g>>2]|0))l=y_[d[(d[u>>2]|0)+36>>2]&127](u)|0;else l=p[l>>0]|0;if((l&255)<<24>>24<=-1)break n;if(!(h[(d[y>>2]|0)+(l<<24>>24<<1)>>1]&8192))break n;l=d[c>>2]|0;if((l|0)==(d[g>>2]|0)){y_[d[(d[u>>2]|0)+40>>2]&127](u)|0;l=v;continue}else{d[c>>2]=l+1;l=v;continue}}}c=u+12|0;l=d[c>>2]|0;m=u+16|0;if((l|0)==(d[m>>2]|0))l=y_[d[(d[u>>2]|0)+36>>2]&127](u)|0;else l=p[l>>0]|0;v=E_[d[(d[T>>2]|0)+12>>2]&63](T,l&255)|0;if(v<<24>>24!=(E_[d[(d[T>>2]|0)+12>>2]&63](T,f[o>>0]|0)|0)<<24>>24){C=57;break t}l=d[c>>2]|0;if((l|0)==(d[m>>2]|0))y_[d[(d[u>>2]|0)+40>>2]&127](u)|0;else d[c>>2]=l+1;o=o+1|0}}while(0);u=d[t>>2]|0;if(!((o|0)!=(s|0)&(d[i>>2]|0)==0))break e}if((C|0)==13){d[i>>2]=4;break}else if((C|0)==17){d[i>>2]=4;break}else if((C|0)==20){d[i>>2]=4;break}else if((C|0)==57){d[i>>2]=4;u=d[t>>2]|0;break}}}while(0);if(u){if((d[u+12>>2]|0)==(d[u+16>>2]|0)?(y_[d[(d[u>>2]|0)+36>>2]&127](u)|0)==-1:0){d[t>>2]=0;u=0}}else u=0;o=(u|0)==0;l=d[n>>2]|0;do{if(l){if((d[l+12>>2]|0)==(d[l+16>>2]|0)?(y_[d[(d[l>>2]|0)+36>>2]&127](l)|0)==-1:0){d[n>>2]=0;C=67;break}if(!o)C=68}else C=67}while(0);if((C|0)==67?o:0)C=68;if((C|0)==68)d[i>>2]=d[i>>2]|2;w=A;return u|0}function tu(e){e=e|0;return}function nu(e){e=e|0;Hw(e);return}function ru(e){e=e|0;return 2}function iu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=eu(e,u,s,r,i,a,58907,58915)|0;w=o;return e|0}function au(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,p=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;h=e+8|0;h=y_[d[(d[h>>2]|0)+20>>2]&127](h)|0;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];n=f[h>>0]|0;p=(n&1)==0;t=p?h+1|0:d[h+8>>2]|0;n=t+(p?(n&255)>>>1:d[h+4>>2]|0)|0;d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=eu(e,u,s,r,i,a,t,n)|0;w=o;return e|0}function ou(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;l=w;w=w+16|0;s=l+8|0;o=l+4|0;u=l;r=vd(r)|0;d[o>>2]=r;k=0;o=Oe(37,o|0,44220)|0;c=k;k=0;if(c&1){c=Ze()|0;Th(r)|0;ut(c|0)}else{Th(r)|0;d[u>>2]=d[n>>2];d[s>>2]=d[u>>2];su(e,a+24|0,t,s,i,o);w=l;return d[t>>2]|0}return 0}function su(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0;o=w;w=w+16|0;s=o+4|0;u=o;e=e+8|0;e=y_[d[d[e>>2]>>2]&127](e)|0;d[u>>2]=d[r>>2];d[s>>2]=d[u>>2];n=(Qg(n,s,e,e+168|0,a,i,0)|0)-e|0;if((n|0)<168)d[t>>2]=((n|0)/12|0|0)%7|0;w=o;return}function uu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;l=w;w=w+16|0;s=l+8|0;o=l+4|0;u=l;r=vd(r)|0;d[o>>2]=r;k=0;o=Oe(37,o|0,44220)|0;c=k;k=0;if(c&1){c=Ze()|0;Th(r)|0;ut(c|0)}else{Th(r)|0;d[u>>2]=d[n>>2];d[s>>2]=d[u>>2];lu(e,a+16|0,t,s,i,o);w=l;return d[t>>2]|0}return 0}function lu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0;o=w;w=w+16|0;s=o+4|0;u=o;e=e+8|0;e=y_[d[(d[e>>2]|0)+4>>2]&127](e)|0;d[u>>2]=d[r>>2];d[s>>2]=d[u>>2];n=(Qg(n,s,e,e+288|0,a,i,0)|0)-e|0;if((n|0)<288)d[t>>2]=((n|0)/12|0|0)%12|0;w=o;return}function cu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;l=w;w=w+16|0;s=l+8|0;o=l+4|0;u=l;r=vd(r)|0;d[o>>2]=r;k=0;o=Oe(37,o|0,44220)|0;c=k;k=0;if(c&1){c=Ze()|0;Th(r)|0;ut(c|0)}else{Th(r)|0;d[u>>2]=d[n>>2];d[s>>2]=d[u>>2];fu(e,a+20|0,t,s,i,o);w=l;return d[t>>2]|0}return 0}function fu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=vv(n,e,i,a,4)|0;if(!(d[i>>2]&4)){if((e|0)<69)e=e+2e3|0;else e=(e+-69|0)>>>0<31?e+1900|0:e;d[t>>2]=e+-1900}w=o;return}function hu(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;var u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0,P=0,N=0,L=0,F=0,B=0,z=0,U=0,j=0,V=0,G=0,W=0,H=0,q=0,Q=0,X=0;q=w;w=w+144|0;u=q+132|0;s=q+116|0;z=q+128|0;x=q+124|0;P=q+120|0;U=q+112|0;j=q+108|0;V=q+104|0;G=q+100|0;W=q+96|0;H=q+92|0;l=q+88|0;c=q+84|0;h=q+80|0;p=q+76|0;m=q+72|0;g=q+68|0;v=q+64|0;y=q+60|0;b=q+56|0;S=q+52|0;_=q+48|0;T=q+44|0;E=q+40|0;C=q+36|0;A=q+32|0;O=q+28|0;I=q+24|0;M=q+20|0;D=q+16|0;R=q+12|0;N=q+8|0;L=q+4|0;F=q;d[i>>2]=0;B=vd(r)|0;d[z>>2]=B;k=0;z=Oe(37,z|0,44220)|0;X=k;k=0;if(X&1){X=Ze()|0;Th(B)|0;ut(X|0)}Th(B)|0;do{switch(o<<24>>24|0){case 65:case 97:{d[x>>2]=d[n>>2];d[u>>2]=d[x>>2];su(e,a+24|0,t,u,i,z);Q=28;break}case 104:case 66:case 98:{d[P>>2]=d[n>>2];d[u>>2]=d[P>>2];lu(e,a+16|0,t,u,i,z);Q=28;break}case 99:{Q=e+8|0;Q=y_[d[(d[Q>>2]|0)+12>>2]&127](Q)|0;d[U>>2]=d[t>>2];d[j>>2]=d[n>>2];o=f[Q>>0]|0;n=(o&1)==0;X=n?Q+1|0:d[Q+8>>2]|0;Q=X+(n?(o&255)>>>1:d[Q+4>>2]|0)|0;d[s>>2]=d[U>>2];d[u>>2]=d[j>>2];Q=eu(e,s,u,r,i,a,X,Q)|0;d[t>>2]=Q;Q=28;break}case 101:case 100:{d[V>>2]=d[n>>2];d[u>>2]=d[V>>2];du(e,a+12|0,t,u,i,z);Q=28;break}case 68:{d[G>>2]=d[t>>2];d[W>>2]=d[n>>2];d[s>>2]=d[G>>2];d[u>>2]=d[W>>2];Q=eu(e,s,u,r,i,a,58915,58923)|0;d[t>>2]=Q;Q=28;break}case 70:{d[H>>2]=d[t>>2];d[l>>2]=d[n>>2];d[s>>2]=d[H>>2];d[u>>2]=d[l>>2];Q=eu(e,s,u,r,i,a,58923,58931)|0;d[t>>2]=Q;Q=28;break}case 72:{d[c>>2]=d[n>>2];d[u>>2]=d[c>>2];pu(e,a+8|0,t,u,i,z);Q=28;break}case 73:{d[h>>2]=d[n>>2];d[u>>2]=d[h>>2];mu(e,a+8|0,t,u,i,z);Q=28;break}case 106:{d[p>>2]=d[n>>2];d[u>>2]=d[p>>2];gu(e,a+28|0,t,u,i,z);Q=28;break}case 109:{d[m>>2]=d[n>>2];d[u>>2]=d[m>>2];vu(e,a+16|0,t,u,i,z);Q=28;break}case 77:{d[g>>2]=d[n>>2];d[u>>2]=d[g>>2];yu(e,a+4|0,t,u,i,z);Q=28;break}case 116:case 110:{d[v>>2]=d[n>>2];d[u>>2]=d[v>>2];bu(e,t,u,i,z);Q=28;break}case 112:{d[y>>2]=d[n>>2];d[u>>2]=d[y>>2];wu(e,a+8|0,t,u,i,z);Q=28;break}case 114:{d[b>>2]=d[t>>2];d[S>>2]=d[n>>2];d[s>>2]=d[b>>2];d[u>>2]=d[S>>2];Q=eu(e,s,u,r,i,a,58931,58942)|0;d[t>>2]=Q;Q=28;break}case 82:{d[_>>2]=d[t>>2];d[T>>2]=d[n>>2];d[s>>2]=d[_>>2];d[u>>2]=d[T>>2];Q=eu(e,s,u,r,i,a,58942,58947)|0;d[t>>2]=Q;Q=28;break}case 83:{d[E>>2]=d[n>>2];d[u>>2]=d[E>>2];Su(e,a,t,u,i,z);Q=28;break}case 84:{d[C>>2]=d[t>>2];d[A>>2]=d[n>>2];d[s>>2]=d[C>>2];d[u>>2]=d[A>>2];Q=eu(e,s,u,r,i,a,58947,58955)|0;d[t>>2]=Q;Q=28;break}case 119:{d[O>>2]=d[n>>2];d[u>>2]=d[O>>2];xu(e,a+24|0,t,u,i,z);Q=28;break}case 120:{X=d[(d[e>>2]|0)+20>>2]|0;d[I>>2]=d[t>>2];d[M>>2]=d[n>>2];d[s>>2]=d[I>>2];d[u>>2]=d[M>>2];s=v_[X&63](e,s,u,r,i,a)|0;break}case 88:{Q=e+8|0;Q=y_[d[(d[Q>>2]|0)+24>>2]&127](Q)|0;d[D>>2]=d[t>>2];d[R>>2]=d[n>>2];o=f[Q>>0]|0;n=(o&1)==0;X=n?Q+1|0:d[Q+8>>2]|0;Q=X+(n?(o&255)>>>1:d[Q+4>>2]|0)|0;d[s>>2]=d[D>>2];d[u>>2]=d[R>>2];Q=eu(e,s,u,r,i,a,X,Q)|0;d[t>>2]=Q;Q=28;break}case 121:{d[N>>2]=d[n>>2];d[u>>2]=d[N>>2];fu(e,a+20|0,t,u,i,z);Q=28;break}case 89:{d[L>>2]=d[n>>2];d[u>>2]=d[L>>2];_u(e,a+20|0,t,u,i,z);Q=28;break}case 37:{d[F>>2]=d[n>>2];d[u>>2]=d[F>>2];Tu(e,t,u,i,z);Q=28;break}default:{d[i>>2]=d[i>>2]|4;Q=28}}}while(0);if((Q|0)==28)s=d[t>>2]|0;w=q;return s|0}function du(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=vv(n,e,i,a,2)|0;n=d[i>>2]|0;if((e+-1|0)>>>0<31&(n&4|0)==0)d[t>>2]=e;else d[i>>2]=n|4;w=o;return}function pu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=vv(n,e,i,a,2)|0;n=d[i>>2]|0;if((e|0)<24&(n&4|0)==0)d[t>>2]=e;else d[i>>2]=n|4;w=o;return}function mu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=vv(n,e,i,a,2)|0;n=d[i>>2]|0;if((e+-1|0)>>>0<12&(n&4|0)==0)d[t>>2]=e;else d[i>>2]=n|4;w=o;return}function gu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=vv(n,e,i,a,3)|0;n=d[i>>2]|0;if((e|0)<366&(n&4|0)==0)d[t>>2]=e;else d[i>>2]=n|4;w=o;return}function vu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=vv(n,e,i,a,2)|0;n=d[i>>2]|0;if((e|0)<13&(n&4|0)==0)d[t>>2]=e+-1;else d[i>>2]=n|4;w=o;return}function yu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=vv(n,e,i,a,2)|0;n=d[i>>2]|0;if((e|0)<60&(n&4|0)==0)d[t>>2]=e;else d[i>>2]=n|4;w=o;return}function bu(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0;o=i+8|0;e:while(1){i=d[t>>2]|0;do{if(i){if((d[i+12>>2]|0)==(d[i+16>>2]|0))if((y_[d[(d[i>>2]|0)+36>>2]&127](i)|0)==-1){d[t>>2]=0;i=0;break}else{i=d[t>>2]|0;break}}else i=0}while(0);i=(i|0)==0;e=d[n>>2]|0;do{if(e){if((d[e+12>>2]|0)!=(d[e+16>>2]|0))if(i)break;else break e;if((y_[d[(d[e>>2]|0)+36>>2]&127](e)|0)!=-1){if(i)break;else break e}else{d[n>>2]=0;s=12;break}}else s=12}while(0);if((s|0)==12){s=0;if(i){e=0;break}else e=0}i=d[t>>2]|0;a=d[i+12>>2]|0;if((a|0)==(d[i+16>>2]|0))i=y_[d[(d[i>>2]|0)+36>>2]&127](i)|0;else i=p[a>>0]|0;if((i&255)<<24>>24<=-1)break;if(!(h[(d[o>>2]|0)+(i<<24>>24<<1)>>1]&8192))break;i=d[t>>2]|0;e=i+12|0;a=d[e>>2]|0;if((a|0)==(d[i+16>>2]|0)){y_[d[(d[i>>2]|0)+40>>2]&127](i)|0;continue}else{d[e>>2]=a+1;continue}}i=d[t>>2]|0;do{if(i){if((d[i+12>>2]|0)==(d[i+16>>2]|0))if((y_[d[(d[i>>2]|0)+36>>2]&127](i)|0)==-1){d[t>>2]=0;i=0;break}else{i=d[t>>2]|0;break}}else i=0}while(0);i=(i|0)==0;do{if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)?(y_[d[(d[e>>2]|0)+36>>2]&127](e)|0)==-1:0){d[n>>2]=0;s=32;break}if(!i)s=33}else s=32}while(0);if((s|0)==32?i:0)s=33;if((s|0)==33)d[r>>2]=d[r>>2]|2;return}function wu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;c=w;w=w+16|0;s=c+4|0;u=c;l=e+8|0;l=y_[d[(d[l>>2]|0)+8>>2]&127](l)|0;e=f[l>>0]|0;if(!(e&1))o=(e&255)>>>1;else o=d[l+4>>2]|0;e=f[l+12>>0]|0;if(!(e&1))e=(e&255)>>>1;else e=d[l+16>>2]|0;do{if((o|0)!=(0-e|0)){d[u>>2]=d[r>>2];d[s>>2]=d[u>>2];e=Qg(n,s,l,l+24|0,a,i,0)|0;o=d[t>>2]|0;if((e|0)==(l|0)&(o|0)==12){d[t>>2]=0;break}if((o|0)<12&(e-l|0)==12)d[t>>2]=o+12}else d[i>>2]=d[i>>2]|4}while(0);w=c;return}function Su(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=vv(n,e,i,a,2)|0;n=d[i>>2]|0;if((e|0)<61&(n&4|0)==0)d[t>>2]=e;else d[i>>2]=n|4;w=o;return}function xu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=vv(n,e,i,a,1)|0;n=d[i>>2]|0;if((e|0)<7&(n&4|0)==0)d[t>>2]=e;else d[i>>2]=n|4;w=o;return}function _u(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=vv(n,e,i,a,4)|0;if(!(d[i>>2]&4))d[t>>2]=e+-1900;w=o;return}function Tu(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0;e=d[t>>2]|0;do{if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0))if((y_[d[(d[e>>2]|0)+36>>2]&127](e)|0)==-1){d[t>>2]=0;e=0;break}else{e=d[t>>2]|0;break}}else e=0}while(0);a=(e|0)==0;e=d[n>>2]|0;do{if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)?(y_[d[(d[e>>2]|0)+36>>2]&127](e)|0)==-1:0){d[n>>2]=0;s=11;break}if(a){o=e;s=13}else s=12}else s=11}while(0);if((s|0)==11)if(a)s=12;else{o=0;s=13}e:do{if((s|0)==12)d[r>>2]=d[r>>2]|6;else if((s|0)==13){e=d[t>>2]|0;a=d[e+12>>2]|0;if((a|0)==(d[e+16>>2]|0))e=y_[d[(d[e>>2]|0)+36>>2]&127](e)|0;else e=p[a>>0]|0;if((w_[d[(d[i>>2]|0)+36>>2]&63](i,e&255,0)|0)<<24>>24!=37){d[r>>2]=d[r>>2]|4;break}e=d[t>>2]|0;a=e+12|0;i=d[a>>2]|0;if((i|0)==(d[e+16>>2]|0)){y_[d[(d[e>>2]|0)+40>>2]&127](e)|0;e=d[t>>2]|0;if(!e)e=0;else s=21}else{d[a>>2]=i+1;s=21}do{if((s|0)==21)if((d[e+12>>2]|0)==(d[e+16>>2]|0))if((y_[d[(d[e>>2]|0)+36>>2]&127](e)|0)==-1){d[t>>2]=0;e=0;break}else{e=d[t>>2]|0;break}}while(0);e=(e|0)==0;do{if(o){if((d[o+12>>2]|0)==(d[o+16>>2]|0)?(y_[d[(d[o>>2]|0)+36>>2]&127](o)|0)==-1:0){d[n>>2]=0;s=30;break}if(e)break e}else s=30}while(0);if((s|0)==30?!e:0)break;d[r>>2]=d[r>>2]|2}}while(0);return}function Eu(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;var u=0,l=0,c=0,f=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0;x=w;w=w+32|0;g=x+16|0;m=x+12|0;b=x+8|0;v=x+4|0;y=x;u=vd(r)|0;d[b>>2]=u;k=0;b=Oe(37,b|0,44212)|0;p=k;k=0;if(p&1){x=Ze()|0;Th(u)|0;ut(x|0)}Th(u)|0;d[i>>2]=0;u=d[t>>2]|0;e:do{if((o|0)!=(s|0)){t:while(1){c=u;if(u){l=d[u+12>>2]|0;if((l|0)==(d[u+16>>2]|0))l=y_[d[(d[u>>2]|0)+36>>2]&127](u)|0;else l=d[l>>2]|0;if((l|0)==-1){d[t>>2]=0;u=0;h=1;p=0}else{h=0;p=c}}else{u=0;h=1;p=c}f=d[n>>2]|0;l=f;do{if(f){c=d[f+12>>2]|0;if((c|0)==(d[f+16>>2]|0))c=y_[d[(d[f>>2]|0)+36>>2]&127](f)|0;else c=d[c>>2]|0;if((c|0)!=-1){if(h)break;else{S=17;break t}}else{d[n>>2]=0;l=0;S=15;break}}else S=15}while(0);if((S|0)==15){S=0;if(h){S=17;break}else f=0}n:do{if((w_[d[(d[b>>2]|0)+52>>2]&63](b,d[o>>2]|0,0)|0)<<24>>24==37){c=o+4|0;if((c|0)==(s|0)){S=21;break t}h=w_[d[(d[b>>2]|0)+52>>2]&63](b,d[c>>2]|0,0)|0;switch(h<<24>>24){case 48:case 69:{f=o+8|0;if((f|0)==(s|0)){S=24;break t}o=c;c=w_[d[(d[b>>2]|0)+52>>2]&63](b,d[f>>2]|0,0)|0;u=h;break}default:{c=h;u=0}}h=d[(d[e>>2]|0)+36>>2]|0;d[v>>2]=p;d[y>>2]=l;d[m>>2]=d[v>>2];d[g>>2]=d[y>>2];p=D_[h&15](e,m,g,r,i,a,c,u)|0;d[t>>2]=p;o=o+8|0}else{if(!(w_[d[(d[b>>2]|0)+12>>2]&63](b,8192,d[o>>2]|0)|0)){c=u+12|0;l=d[c>>2]|0;f=u+16|0;if((l|0)==(d[f>>2]|0))l=y_[d[(d[u>>2]|0)+36>>2]&127](u)|0;else l=d[l>>2]|0;p=E_[d[(d[b>>2]|0)+28>>2]&63](b,l)|0;if((p|0)!=(E_[d[(d[b>>2]|0)+28>>2]&63](b,d[o>>2]|0)|0)){S=61;break t}l=d[c>>2]|0;if((l|0)==(d[f>>2]|0))y_[d[(d[u>>2]|0)+40>>2]&127](u)|0;else d[c>>2]=l+4;o=o+4|0;break}do{o=o+4|0;if((o|0)==(s|0)){o=s;break}}while(w_[d[(d[b>>2]|0)+12>>2]&63](b,8192,d[o>>2]|0)|0);l=f;h=f;while(1){if(u){c=d[u+12>>2]|0;if((c|0)==(d[u+16>>2]|0))c=y_[d[(d[u>>2]|0)+36>>2]&127](u)|0;else c=d[c>>2]|0;if((c|0)==-1){d[t>>2]=0;f=1;u=0}else f=0}else{f=1;u=0}do{if(h){c=d[h+12>>2]|0;if((c|0)==(d[h+16>>2]|0))c=y_[d[(d[h>>2]|0)+36>>2]&127](h)|0;else c=d[c>>2]|0;if((c|0)!=-1){if(f^(l|0)==0){p=l;h=l;break}else break n}else{d[n>>2]=0;l=0;S=44;break}}else S=44}while(0);if((S|0)==44){S=0;if(f)break n;else{p=l;h=0}}c=u+12|0;l=d[c>>2]|0;f=u+16|0;if((l|0)==(d[f>>2]|0))l=y_[d[(d[u>>2]|0)+36>>2]&127](u)|0;else l=d[l>>2]|0;if(!(w_[d[(d[b>>2]|0)+12>>2]&63](b,8192,l)|0))break n;l=d[c>>2]|0;if((l|0)==(d[f>>2]|0)){y_[d[(d[u>>2]|0)+40>>2]&127](u)|0;l=p;continue}else{d[c>>2]=l+4;l=p;continue}}}}while(0);u=d[t>>2]|0;if(!((o|0)!=(s|0)&(d[i>>2]|0)==0))break e}if((S|0)==17){d[i>>2]=4;break}else if((S|0)==21){d[i>>2]=4;break}else if((S|0)==24){d[i>>2]=4;break}else if((S|0)==61){d[i>>2]=4;u=d[t>>2]|0;break}}}while(0);if(u){o=d[u+12>>2]|0;if((o|0)==(d[u+16>>2]|0))o=y_[d[(d[u>>2]|0)+36>>2]&127](u)|0;else o=d[o>>2]|0;if((o|0)==-1){d[t>>2]=0;u=0;c=1}else c=0}else{u=0;c=1}o=d[n>>2]|0;do{if(o){l=d[o+12>>2]|0;if((l|0)==(d[o+16>>2]|0))o=y_[d[(d[o>>2]|0)+36>>2]&127](o)|0;else o=d[l>>2]|0;if((o|0)!=-1){if(c)break;else{S=76;break}}else{d[n>>2]=0;S=74;break}}else S=74}while(0);if((S|0)==74?c:0)S=76;if((S|0)==76)d[i>>2]=d[i>>2]|2;w=x;return u|0}function ku(e){e=e|0;return}function Cu(e){e=e|0;Hw(e);return}function Au(e){e=e|0;return 2}function Ou(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=Eu(e,u,s,r,i,a,44788,44820)|0;w=o;return e|0}function Iu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;m=e+8|0;m=y_[d[(d[m>>2]|0)+20>>2]&127](m)|0;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];h=f[m>>0]|0;p=(h&1)==0;n=m+4|0;t=p?n:d[m+8>>2]|0;n=t+((p?(h&255)>>>1:d[n>>2]|0)<<2)|0;d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=Eu(e,u,s,r,i,a,t,n)|0;w=o;return e|0}function Mu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;l=w;w=w+16|0;s=l+8|0;o=l+4|0;u=l;r=vd(r)|0;d[o>>2]=r;k=0;o=Oe(37,o|0,44212)|0;c=k;k=0;if(c&1){c=Ze()|0;Th(r)|0;ut(c|0)}else{Th(r)|0;d[u>>2]=d[n>>2];d[s>>2]=d[u>>2];Du(e,a+24|0,t,s,i,o);w=l;return d[t>>2]|0}return 0}function Du(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0;o=w;w=w+16|0;s=o+4|0;u=o;e=e+8|0;e=y_[d[d[e>>2]>>2]&127](e)|0;d[u>>2]=d[r>>2];d[s>>2]=d[u>>2];n=(iv(n,s,e,e+168|0,a,i,0)|0)-e|0;if((n|0)<168)d[t>>2]=((n|0)/12|0|0)%7|0;w=o;return}function Ru(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;l=w;w=w+16|0;s=l+8|0;o=l+4|0;u=l;r=vd(r)|0;d[o>>2]=r;k=0;o=Oe(37,o|0,44212)|0;c=k;k=0;if(c&1){c=Ze()|0;Th(r)|0;ut(c|0)}else{Th(r)|0;d[u>>2]=d[n>>2];d[s>>2]=d[u>>2];Pu(e,a+16|0,t,s,i,o);w=l;return d[t>>2]|0}return 0}function Pu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0;o=w;w=w+16|0;s=o+4|0;u=o;e=e+8|0;e=y_[d[(d[e>>2]|0)+4>>2]&127](e)|0;d[u>>2]=d[r>>2];d[s>>2]=d[u>>2];n=(iv(n,s,e,e+288|0,a,i,0)|0)-e|0;if((n|0)<288)d[t>>2]=((n|0)/12|0|0)%12|0;w=o;return}function Nu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;l=w;w=w+16|0;s=l+8|0;o=l+4|0;u=l;r=vd(r)|0;d[o>>2]=r;k=0;o=Oe(37,o|0,44212)|0;c=k;k=0;if(c&1){c=Ze()|0;Th(r)|0;ut(c|0)}else{Th(r)|0;d[u>>2]=d[n>>2];d[s>>2]=d[u>>2];Lu(e,a+20|0,t,s,i,o);w=l;return d[t>>2]|0}return 0}function Lu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=yv(n,e,i,a,4)|0;if(!(d[i>>2]&4)){if((e|0)<69)e=e+2e3|0;else e=(e+-69|0)>>>0<31?e+1900|0:e;d[t>>2]=e+-1900}w=o;return}function Fu(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;var u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0,P=0,N=0,L=0,F=0,B=0,z=0,U=0,j=0,V=0,G=0,W=0,H=0,q=0,Q=0,X=0;q=w;w=w+144|0;u=q+132|0;s=q+116|0;z=q+128|0;x=q+124|0;P=q+120|0;U=q+112|0;j=q+108|0;V=q+104|0;G=q+100|0;W=q+96|0;H=q+92|0;l=q+88|0;c=q+84|0;h=q+80|0;p=q+76|0;m=q+72|0;g=q+68|0;v=q+64|0;y=q+60|0;b=q+56|0;S=q+52|0;_=q+48|0;T=q+44|0;E=q+40|0;C=q+36|0;A=q+32|0;O=q+28|0;I=q+24|0;M=q+20|0;D=q+16|0;R=q+12|0;N=q+8|0;L=q+4|0;F=q;d[i>>2]=0;B=vd(r)|0;d[z>>2]=B;k=0;z=Oe(37,z|0,44212)|0;X=k;k=0;if(X&1){X=Ze()|0;Th(B)|0;ut(X|0)}Th(B)|0;do{switch(o<<24>>24|0){case 65:case 97:{d[x>>2]=d[n>>2];d[u>>2]=d[x>>2];Du(e,a+24|0,t,u,i,z);Q=28;break}case 104:case 66:case 98:{d[P>>2]=d[n>>2];d[u>>2]=d[P>>2];Pu(e,a+16|0,t,u,i,z);Q=28;break}case 99:{X=e+8|0;X=y_[d[(d[X>>2]|0)+12>>2]&127](X)|0;d[U>>2]=d[t>>2];d[j>>2]=d[n>>2];o=f[X>>0]|0;n=(o&1)==0;Q=X+4|0;X=n?Q:d[X+8>>2]|0;Q=X+((n?(o&255)>>>1:d[Q>>2]|0)<<2)|0;d[s>>2]=d[U>>2];d[u>>2]=d[j>>2];Q=Eu(e,s,u,r,i,a,X,Q)|0;d[t>>2]=Q;Q=28;break}case 101:case 100:{d[V>>2]=d[n>>2];d[u>>2]=d[V>>2];Bu(e,a+12|0,t,u,i,z);Q=28;break}case 68:{d[G>>2]=d[t>>2];d[W>>2]=d[n>>2];d[s>>2]=d[G>>2];d[u>>2]=d[W>>2];Q=Eu(e,s,u,r,i,a,44820,44852)|0;d[t>>2]=Q;Q=28;break}case 70:{d[H>>2]=d[t>>2];d[l>>2]=d[n>>2];d[s>>2]=d[H>>2];d[u>>2]=d[l>>2];Q=Eu(e,s,u,r,i,a,44852,44884)|0;d[t>>2]=Q;Q=28;break}case 72:{d[c>>2]=d[n>>2];d[u>>2]=d[c>>2];zu(e,a+8|0,t,u,i,z);Q=28;break}case 73:{d[h>>2]=d[n>>2];d[u>>2]=d[h>>2];Uu(e,a+8|0,t,u,i,z);Q=28;break}case 106:{d[p>>2]=d[n>>2];d[u>>2]=d[p>>2];ju(e,a+28|0,t,u,i,z);Q=28;break}case 109:{d[m>>2]=d[n>>2];d[u>>2]=d[m>>2];Vu(e,a+16|0,t,u,i,z);Q=28;break}case 77:{d[g>>2]=d[n>>2];d[u>>2]=d[g>>2];Gu(e,a+4|0,t,u,i,z);Q=28;break}case 116:case 110:{d[v>>2]=d[n>>2];d[u>>2]=d[v>>2];Wu(e,t,u,i,z);Q=28;break}case 112:{d[y>>2]=d[n>>2];d[u>>2]=d[y>>2];Hu(e,a+8|0,t,u,i,z);Q=28;break}case 114:{d[b>>2]=d[t>>2];d[S>>2]=d[n>>2];d[s>>2]=d[b>>2];d[u>>2]=d[S>>2];Q=Eu(e,s,u,r,i,a,44884,44928)|0;d[t>>2]=Q;Q=28;break}case 82:{d[_>>2]=d[t>>2];d[T>>2]=d[n>>2];d[s>>2]=d[_>>2];d[u>>2]=d[T>>2];Q=Eu(e,s,u,r,i,a,44928,44948)|0;d[t>>2]=Q;Q=28;break}case 83:{d[E>>2]=d[n>>2];d[u>>2]=d[E>>2];qu(e,a,t,u,i,z);Q=28;break}case 84:{d[C>>2]=d[t>>2];d[A>>2]=d[n>>2];d[s>>2]=d[C>>2];d[u>>2]=d[A>>2];Q=Eu(e,s,u,r,i,a,44948,44980)|0;d[t>>2]=Q;Q=28;break}case 119:{d[O>>2]=d[n>>2];d[u>>2]=d[O>>2];Qu(e,a+24|0,t,u,i,z);Q=28;break}case 120:{X=d[(d[e>>2]|0)+20>>2]|0;d[I>>2]=d[t>>2];d[M>>2]=d[n>>2];d[s>>2]=d[I>>2];d[u>>2]=d[M>>2];s=v_[X&63](e,s,u,r,i,a)|0;break}case 88:{X=e+8|0;X=y_[d[(d[X>>2]|0)+24>>2]&127](X)|0;d[D>>2]=d[t>>2];d[R>>2]=d[n>>2];o=f[X>>0]|0;n=(o&1)==0;Q=X+4|0;X=n?Q:d[X+8>>2]|0;Q=X+((n?(o&255)>>>1:d[Q>>2]|0)<<2)|0;d[s>>2]=d[D>>2];d[u>>2]=d[R>>2];Q=Eu(e,s,u,r,i,a,X,Q)|0;d[t>>2]=Q;Q=28;break}case 121:{d[N>>2]=d[n>>2];d[u>>2]=d[N>>2];Lu(e,a+20|0,t,u,i,z);Q=28;break}case 89:{d[L>>2]=d[n>>2];d[u>>2]=d[L>>2];Xu(e,a+20|0,t,u,i,z);Q=28;break}case 37:{d[F>>2]=d[n>>2];d[u>>2]=d[F>>2];Yu(e,t,u,i,z);Q=28;break}default:{d[i>>2]=d[i>>2]|4;Q=28}}}while(0);if((Q|0)==28)s=d[t>>2]|0;w=q;return s|0}function Bu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=yv(n,e,i,a,2)|0;n=d[i>>2]|0;if((e+-1|0)>>>0<31&(n&4|0)==0)d[t>>2]=e;else d[i>>2]=n|4;w=o;return}function zu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=yv(n,e,i,a,2)|0;n=d[i>>2]|0;if((e|0)<24&(n&4|0)==0)d[t>>2]=e;else d[i>>2]=n|4;w=o;return}function Uu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=yv(n,e,i,a,2)|0;n=d[i>>2]|0;if((e+-1|0)>>>0<12&(n&4|0)==0)d[t>>2]=e;else d[i>>2]=n|4;w=o;return}function ju(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=yv(n,e,i,a,3)|0;n=d[i>>2]|0;if((e|0)<366&(n&4|0)==0)d[t>>2]=e;else d[i>>2]=n|4;w=o;return}function Vu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=yv(n,e,i,a,2)|0;n=d[i>>2]|0;if((e|0)<13&(n&4|0)==0)d[t>>2]=e+-1;else d[i>>2]=n|4;w=o;return}function Gu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=yv(n,e,i,a,2)|0;n=d[i>>2]|0;if((e|0)<60&(n&4|0)==0)d[t>>2]=e;else d[i>>2]=n|4;w=o;return}function Wu(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0;e:while(1){e=d[t>>2]|0;do{if(e){a=d[e+12>>2]|0;if((a|0)==(d[e+16>>2]|0))e=y_[d[(d[e>>2]|0)+36>>2]&127](e)|0;else e=d[a>>2]|0;if((e|0)==-1){d[t>>2]=0;o=1;break}else{o=(d[t>>2]|0)==0;break}}else o=1}while(0);a=d[n>>2]|0;do{if(a){e=d[a+12>>2]|0;if((e|0)==(d[a+16>>2]|0))e=y_[d[(d[a>>2]|0)+36>>2]&127](a)|0;else e=d[e>>2]|0;if((e|0)!=-1){if(o){o=a;break}else{o=a;break e}}else{d[n>>2]=0;s=15;break}}else s=15}while(0);if((s|0)==15){s=0;if(o){o=0;break}else o=0}e=d[t>>2]|0;a=d[e+12>>2]|0;if((a|0)==(d[e+16>>2]|0))e=y_[d[(d[e>>2]|0)+36>>2]&127](e)|0;else e=d[a>>2]|0;if(!(w_[d[(d[i>>2]|0)+12>>2]&63](i,8192,e)|0))break;e=d[t>>2]|0;a=e+12|0;o=d[a>>2]|0;if((o|0)==(d[e+16>>2]|0)){y_[d[(d[e>>2]|0)+40>>2]&127](e)|0;continue}else{d[a>>2]=o+4;continue}}e=d[t>>2]|0;do{if(e){a=d[e+12>>2]|0;if((a|0)==(d[e+16>>2]|0))e=y_[d[(d[e>>2]|0)+36>>2]&127](e)|0;else e=d[a>>2]|0;if((e|0)==-1){d[t>>2]=0;a=1;break}else{a=(d[t>>2]|0)==0;break}}else a=1}while(0);do{if(o){e=d[o+12>>2]|0;if((e|0)==(d[o+16>>2]|0))e=y_[d[(d[o>>2]|0)+36>>2]&127](o)|0;else e=d[e>>2]|0;if((e|0)!=-1){if(a)break;else{s=39;break}}else{d[n>>2]=0;s=37;break}}else s=37}while(0);if((s|0)==37?a:0)s=39;if((s|0)==39)d[r>>2]=d[r>>2]|2;return}function Hu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;c=w;w=w+16|0;s=c+4|0;u=c;l=e+8|0;l=y_[d[(d[l>>2]|0)+8>>2]&127](l)|0;e=f[l>>0]|0;if(!(e&1))o=(e&255)>>>1;else o=d[l+4>>2]|0;e=f[l+12>>0]|0;if(!(e&1))e=(e&255)>>>1;else e=d[l+16>>2]|0;do{if((o|0)!=(0-e|0)){d[u>>2]=d[r>>2];d[s>>2]=d[u>>2];e=iv(n,s,l,l+24|0,a,i,0)|0;o=d[t>>2]|0;if((e|0)==(l|0)&(o|0)==12){d[t>>2]=0;break}if((o|0)<12&(e-l|0)==12)d[t>>2]=o+12}else d[i>>2]=d[i>>2]|4}while(0);w=c;return}function qu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=yv(n,e,i,a,2)|0;n=d[i>>2]|0;if((e|0)<61&(n&4|0)==0)d[t>>2]=e;else d[i>>2]=n|4;w=o;return}function Qu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=yv(n,e,i,a,1)|0;n=d[i>>2]|0;if((e|0)<7&(n&4|0)==0)d[t>>2]=e;else d[i>>2]=n|4;w=o;return}function Xu(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;o=w;w=w+16|0;e=o+4|0;s=o;d[s>>2]=d[r>>2];d[e>>2]=d[s>>2];e=yv(n,e,i,a,4)|0;if(!(d[i>>2]&4))d[t>>2]=e+-1900;w=o;return}function Yu(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0;e=d[t>>2]|0;do{if(e){a=d[e+12>>2]|0;if((a|0)==(d[e+16>>2]|0))e=y_[d[(d[e>>2]|0)+36>>2]&127](e)|0;else e=d[a>>2]|0;if((e|0)==-1){d[t>>2]=0;o=1;break}else{o=(d[t>>2]|0)==0;break}}else o=1}while(0);a=d[n>>2]|0;do{if(a){e=d[a+12>>2]|0;if((e|0)==(d[a+16>>2]|0))e=y_[d[(d[a>>2]|0)+36>>2]&127](a)|0;else e=d[e>>2]|0;if((e|0)!=-1){if(o){s=a;u=17;break}else{u=16;break}}else{d[n>>2]=0;u=14;break}}else u=14}while(0);if((u|0)==14)if(o)u=16;else{s=0;u=17}e:do{if((u|0)==16)d[r>>2]=d[r>>2]|6;else if((u|0)==17){e=d[t>>2]|0;a=d[e+12>>2]|0;if((a|0)==(d[e+16>>2]|0))e=y_[d[(d[e>>2]|0)+36>>2]&127](e)|0;else e=d[a>>2]|0;if((w_[d[(d[i>>2]|0)+52>>2]&63](i,e,0)|0)<<24>>24!=37){d[r>>2]=d[r>>2]|4;break}e=d[t>>2]|0;a=e+12|0;o=d[a>>2]|0;if((o|0)==(d[e+16>>2]|0)){y_[d[(d[e>>2]|0)+40>>2]&127](e)|0;e=d[t>>2]|0;if(!e)a=1;else u=25}else{d[a>>2]=o+4;u=25}do{if((u|0)==25){a=d[e+12>>2]|0;if((a|0)==(d[e+16>>2]|0))e=y_[d[(d[e>>2]|0)+36>>2]&127](e)|0;else e=d[a>>2]|0;if((e|0)==-1){d[t>>2]=0;a=1;break}else{a=(d[t>>2]|0)==0;break}}}while(0);do{if(s){e=d[s+12>>2]|0;if((e|0)==(d[s+16>>2]|0))e=y_[d[(d[s>>2]|0)+36>>2]&127](s)|0;else e=d[e>>2]|0;if((e|0)!=-1){if(a)break e;else break}else{d[n>>2]=0;u=37;break}}else u=37}while(0);if((u|0)==37?!a:0)break;d[r>>2]=d[r>>2]|2}}while(0);return}function Ku(e){e=e|0;Zu(e+8|0);return}function Zu(e){e=e|0;var t=0,n=0,r=0;t=d[e>>2]|0;k=0;n=De(3)|0;r=k;k=0;do{if(!(r&1)){if((t|0)!=(n|0)?(k=0,be(188,d[e>>2]|0),r=k,k=0,r&1):0)break;return}}while(0);r=Ze(0)|0;Xt(r)}function Ju(e){e=e|0;Zu(e+8|0);Hw(e);return}function $u(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;var s=0,u=0;u=w;w=w+112|0;s=u+4|0;n=u;d[n>>2]=s+100;el(e+8|0,s,n,i,a,o);i=d[n>>2]|0;n=d[t>>2]|0;if((s|0)!=(i|0))do{o=f[s>>0]|0;do{if(n){r=n+24|0;a=d[r>>2]|0;if((a|0)==(d[n+28>>2]|0)){t=(E_[d[(d[n>>2]|0)+52>>2]&63](n,o&255)|0)==-1;n=t?0:n;break}else{d[r>>2]=a+1;f[a>>0]=o;break}}else n=0}while(0);s=s+1|0}while((s|0)!=(i|0));w=u;return n|0}function el(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0;l=w;w=w+16|0;u=l;f[u>>0]=37;o=u+1|0;f[o>>0]=i;s=u+2|0;f[s>>0]=a;f[u+3>>0]=0;if(a<<24>>24){f[o>>0]=a;f[s>>0]=i}e=t+(tt(t|0,(d[n>>2]|0)-t|0,u|0,r|0,d[e>>2]|0)|0)|0;d[n>>2]=e;w=l;return}function tl(e){e=e|0;Zu(e+8|0);return}function nl(e){e=e|0;Zu(e+8|0);Hw(e);return}function rl(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;var s=0;s=w;w=w+416|0;r=s+8|0;n=s;d[n>>2]=r+400;il(e+8|0,r,n,i,a,o);e=d[n>>2]|0;n=d[t>>2]|0;if((r|0)!=(e|0)){i=r;do{r=d[i>>2]|0;if(!n)n=0;else{a=n+24|0;o=d[a>>2]|0;if((o|0)==(d[n+28>>2]|0))r=E_[d[(d[n>>2]|0)+52>>2]&63](n,r)|0;else{d[a>>2]=o+4;d[o>>2]=r}n=(r|0)==-1?0:n}i=i+4|0}while((i|0)!=(e|0))}w=s;return n|0}function il(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+128|0;l=o+16|0;c=o+12|0;s=o;u=o+8|0;d[c>>2]=l+100;el(e,l,c,r,i,a);i=s;d[i>>2]=0;d[i+4>>2]=0;d[u>>2]=l;i=(d[n>>2]|0)-t>>2;a=ax(d[e>>2]|0)|0;k=0;i=Re(18,t|0,u|0,i|0,s|0)|0;e=k;k=0;if(e&1){i=Ze()|0;if((a|0)!=0?(k=0,xe(75,a|0)|0,c=k,k=0,c&1):0){c=Ze(0)|0;Xt(c)}ut(i|0)}if((a|0)!=0?(k=0,xe(75,a|0)|0,c=k,k=0,c&1):0){c=Ze(0)|0;Xt(c)}if((i|0)==-1)ec(58955);else{d[n>>2]=t+(i<<2);w=o;return}}function al(e){e=e|0;return}function ol(e){e=e|0;Hw(e);return}function sl(e){e=e|0;return 127}function ul(e){e=e|0;return 127}function ll(e,t){e=e|0;t=t|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;return}function cl(e,t){e=e|0;t=t|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;return}function fl(e,t){e=e|0;t=t|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;return}function hl(e,t){e=e|0;t=t|0;Vh(e,1,45);return}function dl(e){e=e|0;return 0}function pl(e,t){e=e|0;t=t|0;f[e>>0]=2;f[e+1>>0]=3;f[e+2>>0]=0;f[e+3>>0]=4;return}function ml(e,t){e=e|0;t=t|0;f[e>>0]=2;f[e+1>>0]=3;f[e+2>>0]=0;f[e+3>>0]=4;return}function gl(e){e=e|0;return}function vl(e){e=e|0;Hw(e);return}function yl(e){e=e|0;return 127}function bl(e){e=e|0;return 127}function wl(e,t){e=e|0;t=t|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;return}function Sl(e,t){e=e|0;t=t|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;return}function xl(e,t){e=e|0;t=t|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;return}function _l(e,t){e=e|0;t=t|0;Vh(e,1,45);return}function Tl(e){e=e|0;return 0}function El(e,t){e=e|0;t=t|0;f[e>>0]=2;f[e+1>>0]=3;f[e+2>>0]=0;f[e+3>>0]=4;return}function kl(e,t){e=e|0;t=t|0;f[e>>0]=2;f[e+1>>0]=3;f[e+2>>0]=0;f[e+3>>0]=4;return}function Cl(e){e=e|0;return}function Al(e){e=e|0;Hw(e);return}function Ol(e){e=e|0;return 2147483647}function Il(e){e=e|0;return 2147483647}function Ml(e,t){e=e|0;t=t|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;return}function Dl(e,t){e=e|0;t=t|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;return}function Rl(e,t){e=e|0;t=t|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;return}function Pl(e,t){e=e|0;t=t|0;nd(e,1,45);return}function Nl(e){e=e|0;return 0}function Ll(e,t){e=e|0;t=t|0;f[e>>0]=2;f[e+1>>0]=3;f[e+2>>0]=0;f[e+3>>0]=4;return}function Fl(e,t){e=e|0;t=t|0;f[e>>0]=2;f[e+1>>0]=3;f[e+2>>0]=0;f[e+3>>0]=4;return}function Bl(e){e=e|0;return}function zl(e){e=e|0;Hw(e);return}function Ul(e){e=e|0;return 2147483647}function jl(e){e=e|0;return 2147483647}function Vl(e,t){e=e|0;t=t|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;return}function Gl(e,t){e=e|0;t=t|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;return}function Wl(e,t){e=e|0;t=t|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;return}function Hl(e,t){e=e|0;t=t|0;nd(e,1,45);return}function ql(e){e=e|0;return 0}function Ql(e,t){e=e|0;t=t|0;f[e>>0]=2;f[e+1>>0]=3;f[e+2>>0]=0;f[e+3>>0]=4;return}function Xl(e,t){e=e|0;t=t|0;f[e>>0]=2;f[e+1>>0]=3;f[e+2>>0]=0;f[e+3>>0]=4;return}function Yl(e){e=e|0;return}function Kl(e){e=e|0;Hw(e);return}function Zl(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;var s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0,D=0;C=w;w=w+240|0;T=C+24|0;E=C;e=C+136|0;O=C+16|0;_=C+12|0;A=C+8|0;h=C+134|0;u=C+4|0;x=C+124|0;d[O>>2]=e;I=O+4|0;d[I>>2]=189;l=e+100|0;k=0;s=xe(68,i|0)|0;S=k;k=0;if(!(S&1)){d[A>>2]=s;k=0;e=Oe(37,A|0,44220)|0;S=k;k=0;e:do{if(!(S&1)?(f[h>>0]=0,d[u>>2]=d[n>>2],c=d[i+4>>2]|0,k=0,d[T>>2]=d[u>>2],c=_e(1,t|0,T|0,r|0,A|0,c|0,a|0,h|0,e|0,O|0,_|0,l|0)|0,S=k,k=0,!(S&1)):0){t:do{if(c){k=0;Re(d[(d[e>>2]|0)+32>>2]|0,e|0,58976,58986,x|0)|0;S=k;k=0;if(S&1){D=10;break e}u=d[_>>2]|0;l=d[O>>2]|0;e=u-l|0;if((e|0)>98){e=Uf(e+2|0)|0;s=e;if(!e){k=0;Ne(6);S=k;k=0;if(!(S&1)){e=0;D=13}}else D=13}else{s=0;e=T;D=13}do{if((D|0)==13){if(f[h>>0]|0){f[e>>0]=45;e=e+1|0}b=x+10|0;S=x;if(l>>>0<u>>>0){c=x+1|0;r=c+1|0;i=r+1|0;h=i+1|0;p=h+1|0;m=p+1|0;g=m+1|0;v=g+1|0;y=v+1|0;do{u=f[l>>0]|0;do{if((f[x>>0]|0)!=u<<24>>24){if((f[c>>0]|0)!=u<<24>>24){if((f[r>>0]|0)!=u<<24>>24){if((f[i>>0]|0)!=u<<24>>24){if((f[h>>0]|0)==u<<24>>24)u=h;else{if((f[p>>0]|0)==u<<24>>24){u=p;break}if((f[m>>0]|0)==u<<24>>24){u=m;break}if((f[g>>0]|0)==u<<24>>24){u=g;break}if((f[v>>0]|0)==u<<24>>24){u=v;break}u=(f[y>>0]|0)==u<<24>>24?y:b}}else u=i}else u=r}else u=c}else u=x}while(0);f[e>>0]=f[58976+(u-S)>>0]|0;l=l+1|0;e=e+1|0}while(l>>>0<(d[_>>2]|0)>>>0)}f[e>>0]=0;d[E>>2]=o;if((Vx(T,58987,E)|0)!=1?(k=0,be(190,58991),o=k,k=0,o&1):0)break;if(s)jf(s);break t}}while(0);e=Ze()|0;if(!s){u=e;s=O;break e}jf(s);u=e;s=O;break e}}while(0);e=d[t>>2]|0;do{if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;e=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;o=k;k=0;if(o&1){D=10;break e}if((e|0)==-1){d[t>>2]=0;e=0;break}else{e=d[t>>2]|0;break}}}else e=0}while(0);s=(e|0)==0;e=d[n>>2]|0;do{if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;e=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;o=k;k=0;if(o&1){D=10;break e}if((e|0)==-1){d[n>>2]=0;D=37;break}}if(!s)D=38}else D=37}while(0);if((D|0)==37?s:0)D=38;if((D|0)==38)d[a>>2]=d[a>>2]|2;s=d[t>>2]|0;Th(d[A>>2]|0)|0;e=d[O>>2]|0;d[O>>2]=0;if((e|0)!=0?(k=0,be(d[I>>2]|0,e|0),D=k,k=0,D&1):0){D=Ze(0)|0;Xt(D)}w=C;return s|0}else D=10}while(0);if((D|0)==10){u=Ze()|0;s=O}Th(d[A>>2]|0)|0;e=d[s>>2]|0;d[s>>2]=0;if(!e)M=u;else{s=d[I>>2]|0;D=45}}else{u=Ze()|0;d[O>>2]=0;s=189;D=45}if((D|0)==45){k=0;be(s|0,e|0);D=k;k=0;if(D&1){D=Ze(0)|0;Xt(D)}else M=u}ut(M|0);return 0}function Jl(e){e=e|0;return}function $l(e,t,n,r,i,a,o,s,u,l,c){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;c=c|0;var m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0,P=0,N=0,L=0,F=0,B=0,z=0,U=0,j=0,V=0,G=0,W=0,H=0,q=0,Q=0,X=0,Y=0,K=0,Z=0,J=0,$=0,ee=0,te=0,ne=0,re=0;te=w;w=w+512|0;j=te+88|0;y=te+96|0;re=te+80|0;H=te+72|0;W=te+68|0;q=te+500|0;V=te+497|0;Q=te+496|0;K=te+56|0;ee=te+44|0;J=te+32|0;Z=te+20|0;$=te+8|0;G=te+4|0;Y=te;d[j>>2]=c;d[re>>2]=y;ne=re+4|0;d[ne>>2]=189;d[H>>2]=y;d[W>>2]=y+400;d[K>>2]=0;d[K+4>>2]=0;d[K+8>>2]=0;d[ee>>2]=0;d[ee+4>>2]=0;d[ee+8>>2]=0;d[J>>2]=0;d[J+4>>2]=0;d[J+8>>2]=0;d[Z>>2]=0;d[Z+4>>2]=0;d[Z+8>>2]=0;d[$>>2]=0;d[$+4>>2]=0;d[$+8>>2]=0;k=0;Ae(1,n|0,r|0,q|0,V|0,Q|0,K|0,ee|0,J|0,Z|0,G|0);U=k;k=0;e:do{if(U&1)s=Ze()|0;else{d[l>>2]=d[u>>2];P=s+8|0;N=J+4|0;L=Z+4|0;F=Z+8|0;B=Z+1|0;z=J+8|0;U=J+1|0;T=(i&512|0)!=0;E=ee+8|0;C=ee+1|0;A=ee+4|0;O=$+4|0;I=$+8|0;M=$+1|0;D=q+3|0;R=K+4|0;_=0;v=0;t:while(1){c=d[e>>2]|0;do{if(c){if((d[c+12>>2]|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;x=k;k=0;if(x&1){X=24;break t}if((c|0)==-1){d[e>>2]=0;c=0;break}else{c=d[e>>2]|0;break}}}else c=0}while(0);c=(c|0)==0;s=d[t>>2]|0;do{if(s){if((d[s+12>>2]|0)!=(d[s+16>>2]|0))if(c){x=s;break}else{X=235;break t}k=0;n=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;x=k;k=0;if(x&1){X=24;break t}if((n|0)!=-1){if(c){x=s;break}else{X=235;break t}}else{d[t>>2]=0;X=15;break}}else X=15}while(0);if((X|0)==15){X=0;if(c){X=235;break}else x=0}n:do{switch(f[q+_>>0]|0){case 1:{if((_|0)!=3){c=d[e>>2]|0;s=d[c+12>>2]|0;if((s|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;X=k;k=0;if(X&1){X=24;break t}}else c=p[s>>0]|0;if((c&255)<<24>>24<=-1){X=40;break t}if(!(h[(d[P>>2]|0)+(c<<24>>24<<1)>>1]&8192)){X=40;break t}c=d[e>>2]|0;s=c+12|0;n=d[s>>2]|0;if((n|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+40>>2]|0,c|0)|0;X=k;k=0;if(X&1){X=24;break t}}else{d[s>>2]=n+1;c=p[n>>0]|0}k=0;we(67,$|0,c&255|0);X=k;k=0;if(X&1){X=24;break t}else{c=x;r=x;X=42}}break}case 0:{if((_|0)!=3){c=x;r=x;X=42}break}case 3:{s=f[J>>0]|0;c=(s&1)==0?(s&255)>>>1:d[N>>2]|0;n=f[Z>>0]|0;r=(n&1)==0?(n&255)>>>1:d[L>>2]|0;if((c|0)!=(0-r|0)){if(!c){c=d[e>>2]|0;s=d[c+12>>2]|0;if((s|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;x=k;k=0;if(x&1){X=24;break t}s=f[Z>>0]|0}else{c=p[s>>0]|0;s=n}if((c&255)<<24>>24!=(f[((s&1)==0?B:d[F>>2]|0)>>0]|0))break n;c=d[e>>2]|0;s=c+12|0;n=d[s>>2]|0;if((n|0)==(d[c+16>>2]|0)){k=0;xe(d[(d[c>>2]|0)+40>>2]|0,c|0)|0;x=k;k=0;if(x&1){X=24;break t}}else d[s>>2]=n+1;f[o>>0]=1;x=f[Z>>0]|0;v=((x&1)==0?(x&255)>>>1:d[L>>2]|0)>>>0>1?Z:v;break n}i=d[e>>2]|0;m=d[i+12>>2]|0;n=d[i+16>>2]|0;c=(m|0)==(n|0);if(!r){if(c){k=0;c=xe(d[(d[i>>2]|0)+36>>2]|0,i|0)|0;x=k;k=0;if(x&1){X=24;break t}s=f[J>>0]|0}else c=p[m>>0]|0;if((c&255)<<24>>24!=(f[((s&1)==0?U:d[z>>2]|0)>>0]|0)){f[o>>0]=1;break n}c=d[e>>2]|0;s=c+12|0;n=d[s>>2]|0;if((n|0)==(d[c+16>>2]|0)){k=0;xe(d[(d[c>>2]|0)+40>>2]|0,c|0)|0;x=k;k=0;if(x&1){X=24;break t}}else d[s>>2]=n+1;x=f[J>>0]|0;v=((x&1)==0?(x&255)>>>1:d[N>>2]|0)>>>0>1?J:v;break n}if(c){k=0;c=xe(d[(d[i>>2]|0)+36>>2]|0,i|0)|0;x=k;k=0;if(x&1){X=24;break t}n=d[e>>2]|0;s=f[J>>0]|0;i=n;m=d[n+12>>2]|0;n=d[n+16>>2]|0}else c=p[m>>0]|0;r=i+12|0;n=(m|0)==(n|0);if((c&255)<<24>>24==(f[((s&1)==0?U:d[z>>2]|0)>>0]|0)){if(n){k=0;xe(d[(d[i>>2]|0)+40>>2]|0,i|0)|0;x=k;k=0;if(x&1){X=24;break t}}else d[r>>2]=m+1;x=f[J>>0]|0;v=((x&1)==0?(x&255)>>>1:d[N>>2]|0)>>>0>1?J:v;break n}if(n){k=0;c=xe(d[(d[i>>2]|0)+36>>2]|0,i|0)|0;x=k;k=0;if(x&1){X=24;break t}}else c=p[m>>0]|0;if((c&255)<<24>>24!=(f[((f[Z>>0]&1)==0?B:d[F>>2]|0)>>0]|0)){X=104;break t}c=d[e>>2]|0;s=c+12|0;n=d[s>>2]|0;if((n|0)==(d[c+16>>2]|0)){k=0;xe(d[(d[c>>2]|0)+40>>2]|0,c|0)|0;x=k;k=0;if(x&1){X=24;break t}}else d[s>>2]=n+1;f[o>>0]=1;x=f[Z>>0]|0;v=((x&1)==0?(x&255)>>>1:d[L>>2]|0)>>>0>1?Z:v}break}case 2:{if(!(_>>>0<2|(v|0)!=0)?!(T|(_|0)==2&(f[D>>0]|0)!=0):0){v=0;break n}b=f[ee>>0]|0;c=(b&1)==0;S=d[E>>2]|0;n=c?C:S;g=n;r:do{if((_|0)!=0?(p[q+(_+-1)>>0]|0)<2:0){m=c?(b&255)>>>1:d[A>>2]|0;r=n+m|0;i=d[P>>2]|0;i:do{if(!m)s=g;else{m=n;s=g;do{c=f[m>>0]|0;if(c<<24>>24<=-1)break i;if(!(h[i+(c<<24>>24<<1)>>1]&8192))break i;m=m+1|0;s=m}while((m|0)!=(r|0))}}while(0);r=s-g|0;i=f[$>>0]|0;c=(i&1)==0;i=c?(i&255)>>>1:d[O>>2]|0;if(i>>>0>=r>>>0){c=c?M:d[I>>2]|0;m=c+i|0;if((s|0)!=(g|0)){c=c+(i-r)|0;while(1){if((f[c>>0]|0)!=(f[n>>0]|0)){s=g;break r}c=c+1|0;if((c|0)==(m|0))break;else n=n+1|0}}}else s=g}else s=g}while(0);c=(b&1)==0;c=(c?C:S)+(c?(b&255)>>>1:d[A>>2]|0)|0;r:do{if((s|0)!=(c|0)){i=x;r=x;c=s;while(1){s=d[e>>2]|0;do{if(s){if((d[s+12>>2]|0)==(d[s+16>>2]|0)){k=0;s=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;x=k;k=0;if(x&1){X=21;break t}if((s|0)==-1){d[e>>2]=0;s=0;break}else{s=d[e>>2]|0;break}}}else s=0}while(0);n=(s|0)==0;do{if(r){if((d[r+12>>2]|0)!=(d[r+16>>2]|0))if(n){s=i;m=r;break}else break r;k=0;s=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;x=k;k=0;if(x&1){X=21;break t}if((s|0)!=-1){if(n^(i|0)==0){s=i;m=i;break}else break r}else{d[t>>2]=0;s=0;X=131;break}}else{s=i;X=131}}while(0);if((X|0)==131){X=0;if(n)break r;else m=0}n=d[e>>2]|0;r=d[n+12>>2]|0;if((r|0)==(d[n+16>>2]|0)){k=0;n=xe(d[(d[n>>2]|0)+36>>2]|0,n|0)|0;x=k;k=0;if(x&1){X=21;break t}}else n=p[r>>0]|0;if((n&255)<<24>>24!=(f[c>>0]|0))break r;n=d[e>>2]|0;r=n+12|0;i=d[r>>2]|0;if((i|0)==(d[n+16>>2]|0)){k=0;xe(d[(d[n>>2]|0)+40>>2]|0,n|0)|0;x=k;k=0;if(x&1){X=21;break t}}else d[r>>2]=i+1;c=c+1|0;n=f[ee>>0]|0;x=(n&1)==0;n=(x?C:d[E>>2]|0)+(x?(n&255)>>>1:d[A>>2]|0)|0;if((c|0)==(n|0)){c=n;break}else{i=s;r=m}}}}while(0);if(T?(x=f[ee>>0]|0,S=(x&1)==0,(c|0)!=((S?C:d[E>>2]|0)+(S?(x&255)>>>1:d[A>>2]|0)|0)):0){X=143;break t}break}case 4:{g=f[Q>>0]|0;s=x;i=x;c=0;r:while(1){n=d[e>>2]|0;do{if(n){if((d[n+12>>2]|0)==(d[n+16>>2]|0)){k=0;n=xe(d[(d[n>>2]|0)+36>>2]|0,n|0)|0;x=k;k=0;if(x&1){X=23;break t}if((n|0)==-1){d[e>>2]=0;n=0;break}else{n=d[e>>2]|0;break}}}else n=0}while(0);r=(n|0)==0;do{if(i){if((d[i+12>>2]|0)!=(d[i+16>>2]|0))if(r){m=s;break}else{r=s;break r}k=0;n=xe(d[(d[i>>2]|0)+36>>2]|0,i|0)|0;x=k;k=0;if(x&1){X=23;break t}if((n|0)!=-1){if(r^(s|0)==0){m=s;i=s;break}else{r=s;break r}}else{d[t>>2]=0;s=0;X=156;break}}else X=156}while(0);if((X|0)==156){X=0;if(r){r=s;break}else{m=s;i=0}}s=d[e>>2]|0;n=d[s+12>>2]|0;if((n|0)==(d[s+16>>2]|0)){k=0;s=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;x=k;k=0;if(x&1){X=23;break t}}else s=p[n>>0]|0;n=s&255;if(n<<24>>24>-1?(h[(d[P>>2]|0)+(s<<24>>24<<1)>>1]&2048)!=0:0){s=d[l>>2]|0;if((s|0)==(d[j>>2]|0)){k=0;Pe(12,u|0,l|0,j|0);x=k;k=0;if(x&1){X=23;break t}s=d[l>>2]|0}d[l>>2]=s+1;f[s>>0]=n;c=c+1|0}else{x=f[K>>0]|0;if(!(n<<24>>24==g<<24>>24&((c|0)!=0?(((x&1)==0?(x&255)>>>1:d[R>>2]|0)|0)!=0:0))){r=m;break}if((y|0)==(d[W>>2]|0)){k=0;Pe(13,re|0,H|0,W|0);x=k;k=0;if(x&1){X=23;break t}y=d[H>>2]|0}x=y+4|0;d[H>>2]=x;d[y>>2]=c;y=x;c=0}s=d[e>>2]|0;n=s+12|0;r=d[n>>2]|0;if((r|0)==(d[s+16>>2]|0)){k=0;xe(d[(d[s>>2]|0)+40>>2]|0,s|0)|0;x=k;k=0;if(x&1){X=23;break t}else{s=m;continue}}else{d[n>>2]=r+1;s=m;continue}}if((c|0)!=0?(d[re>>2]|0)!=(y|0):0){if((y|0)==(d[W>>2]|0)){k=0;Pe(13,re|0,H|0,W|0);x=k;k=0;if(x&1){X=24;break t}y=d[H>>2]|0}x=y+4|0;d[H>>2]=x;d[y>>2]=c;y=x}m=d[G>>2]|0;if((m|0)>0){c=d[e>>2]|0;do{if(c){if((d[c+12>>2]|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;x=k;k=0;if(x&1){X=24;break t}if((c|0)==-1){d[e>>2]=0;c=0;break}else{c=d[e>>2]|0;break}}}else c=0}while(0);c=(c|0)==0;do{if(r){if((d[r+12>>2]|0)==(d[r+16>>2]|0)){k=0;s=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;x=k;k=0;if(x&1){X=24;break t}if((s|0)==-1){d[t>>2]=0;X=193;break}}if(!c){X=198;break t}}else X=193}while(0);if((X|0)==193){X=0;if(c){X=198;break t}else r=0}c=d[e>>2]|0;s=d[c+12>>2]|0;if((s|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;x=k;k=0;if(x&1){X=24;break t}}else c=p[s>>0]|0;if((c&255)<<24>>24!=(f[V>>0]|0)){X=198;break t}c=d[e>>2]|0;s=c+12|0;n=d[s>>2]|0;if((n|0)==(d[c+16>>2]|0)){k=0;xe(d[(d[c>>2]|0)+40>>2]|0,c|0)|0;x=k;k=0;if(x&1){X=24;break t}}else d[s>>2]=n+1;if((m|0)>0){i=r;n=r;g=m;while(1){c=d[e>>2]|0;do{if(c){if((d[c+12>>2]|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;x=k;k=0;if(x&1){X=22;break t}if((c|0)==-1){d[e>>2]=0;c=0;break}else{c=d[e>>2]|0;break}}}else c=0}while(0);s=(c|0)==0;do{if(n){if((d[n+12>>2]|0)!=(d[n+16>>2]|0))if(s){c=i;m=n;break}else{X=222;break t}k=0;c=xe(d[(d[n>>2]|0)+36>>2]|0,n|0)|0;x=k;k=0;if(x&1){X=22;break t}if((c|0)!=-1){if(s^(i|0)==0){c=i;m=i;break}else{X=222;break t}}else{d[t>>2]=0;c=0;X=215;break}}else{c=i;X=215}}while(0);if((X|0)==215){X=0;if(s){X=222;break t}else m=0}s=d[e>>2]|0;n=d[s+12>>2]|0;if((n|0)==(d[s+16>>2]|0)){k=0;s=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;x=k;k=0;if(x&1){X=22;break t}}else s=p[n>>0]|0;if((s&255)<<24>>24<=-1){X=222;break t}if(!(h[(d[P>>2]|0)+(s<<24>>24<<1)>>1]&2048)){X=222;break t}if((d[l>>2]|0)==(d[j>>2]|0)?(k=0,Pe(12,u|0,l|0,j|0),x=k,k=0,x&1):0){X=22;break t}s=d[e>>2]|0;n=d[s+12>>2]|0;if((n|0)==(d[s+16>>2]|0)){k=0;s=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;x=k;k=0;if(x&1){X=22;break t}}else s=p[n>>0]|0;n=d[l>>2]|0;d[l>>2]=n+1;f[n>>0]=s;s=g;g=g+-1|0;d[G>>2]=g;n=d[e>>2]|0;r=n+12|0;i=d[r>>2]|0;if((i|0)==(d[n+16>>2]|0)){k=0;xe(d[(d[n>>2]|0)+40>>2]|0,n|0)|0;x=k;k=0;if(x&1){X=22;break t}}else d[r>>2]=i+1;if((s|0)<=1)break;else{i=c;n=m}}}}if((d[l>>2]|0)==(d[u>>2]|0)){X=233;break t}break}default:{}}}while(0);n:do{if((X|0)==42)while(1){X=0;s=d[e>>2]|0;do{if(s){if((d[s+12>>2]|0)==(d[s+16>>2]|0)){k=0;s=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;x=k;k=0;if(x&1){X=20;break t}if((s|0)==-1){d[e>>2]=0;s=0;break}else{s=d[e>>2]|0;break}}}else s=0}while(0);n=(s|0)==0;do{if(r){if((d[r+12>>2]|0)!=(d[r+16>>2]|0))if(n){i=c;break}else break n;k=0;s=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;x=k;k=0;if(x&1){X=20;break t}if((s|0)!=-1){if(n^(c|0)==0){i=c;r=c;break}else break n}else{d[t>>2]=0;c=0;X=54;break}}else X=54}while(0);if((X|0)==54){X=0;if(n)break n;else{i=c;r=0}}c=d[e>>2]|0;s=d[c+12>>2]|0;if((s|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;x=k;k=0;if(x&1){X=20;break t}}else c=p[s>>0]|0;if((c&255)<<24>>24<=-1)break n;if(!(h[(d[P>>2]|0)+(c<<24>>24<<1)>>1]&8192))break n;c=d[e>>2]|0;s=c+12|0;n=d[s>>2]|0;if((n|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+40>>2]|0,c|0)|0;X=k;k=0;if(X&1){X=20;break t}}else{d[s>>2]=n+1;c=p[n>>0]|0}k=0;we(67,$|0,c&255|0);X=k;k=0;if(X&1){X=20;break t}else{c=i;X=42}}}while(0);_=_+1|0;if(_>>>0>=4){X=235;break}}t:switch(X|0){case 20:{s=Ze()|0;break e}case 21:{s=Ze()|0;break e}case 22:{s=Ze()|0;break e}case 23:{s=Ze()|0;break e}case 24:{s=Ze()|0;break e}case 40:{d[a>>2]=d[a>>2]|4;s=0;break}case 104:{d[a>>2]=d[a>>2]|4;s=0;break}case 143:{d[a>>2]=d[a>>2]|4;s=0;break}case 198:{d[a>>2]=d[a>>2]|4;s=0;break}case 222:{d[a>>2]=d[a>>2]|4;s=0;break}case 233:{d[a>>2]=d[a>>2]|4;s=0;break}case 235:{n:do{if(v){i=v+1|0;m=v+8|0;g=v+4|0;n=1;r:while(1){c=f[v>>0]|0;if(!(c&1))c=(c&255)>>>1;else c=d[g>>2]|0;if(n>>>0>=c>>>0)break n;c=d[e>>2]|0;do{if(c){if((d[c+12>>2]|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;l=k;k=0;if(l&1){X=19;break r}if((c|0)==-1){d[e>>2]=0;c=0;break}else{c=d[e>>2]|0;break}}}else c=0}while(0);s=(c|0)==0;c=d[t>>2]|0;do{if(c){if((d[c+12>>2]|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;l=k;k=0;if(l&1){X=19;break r}if((c|0)==-1){d[t>>2]=0;X=253;break}}if(!s){X=260;break r}}else X=253}while(0);if((X|0)==253?(X=0,s):0){X=260;break}c=d[e>>2]|0;s=d[c+12>>2]|0;if((s|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;l=k;k=0;if(l&1){X=19;break}}else c=p[s>>0]|0;if(!(f[v>>0]&1))s=i;else s=d[m>>2]|0;if((c&255)<<24>>24!=(f[s+n>>0]|0)){X=260;break}c=n+1|0;s=d[e>>2]|0;n=s+12|0;r=d[n>>2]|0;if((r|0)==(d[s+16>>2]|0)){k=0;xe(d[(d[s>>2]|0)+40>>2]|0,s|0)|0;l=k;k=0;if(l&1){X=19;break}else{n=c;continue}}else{d[n>>2]=r+1;n=c;continue}}if((X|0)==19){s=Ze()|0;break e}else if((X|0)==260){d[a>>2]=d[a>>2]|4;s=0;break t}}}while(0);c=d[re>>2]|0;if((c|0)!=(y|0)?(d[Y>>2]=0,rc(K,c,y,Y),(d[Y>>2]|0)!=0):0){d[a>>2]=d[a>>2]|4;s=0}else s=1;break}}Gh($);Gh(Z);Gh(J);Gh(ee);Gh(K);c=d[re>>2]|0;d[re>>2]=0;if((c|0)!=0?(k=0,be(d[ne>>2]|0,c|0),re=k,k=0,re&1):0){re=Ze(0)|0;Xt(re)}w=te;return s|0}}while(0);Gh($);Gh(Z);Gh(J);Gh(ee);Gh(K);c=d[re>>2]|0;d[re>>2]=0;if((c|0)!=0?(k=0,be(d[ne>>2]|0,c|0),re=k,k=0,re&1):0){re=Ze(0)|0;Xt(re)}ut(s|0);return 0}function ec(e){e=e|0;var t=0;t=Ke(8)|0;k=0;we(90,t|0,e|0);e=k;k=0;if(e&1){e=Ze()|0;Ye(t|0);ut(e|0)}else _t(t|0,616,80)}function tc(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;var s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0;S=w;w=w+144|0;s=S+24|0;e=S+32|0;x=S+16|0;g=S+8|0;h=S+4|0;p=S+28|0;u=S;d[x>>2]=e;E=x+4|0;d[E>>2]=189;l=e+100|0;k=0;b=xe(68,i|0)|0;c=k;k=0;if(!(c&1)){d[h>>2]=b;k=0;c=Oe(37,h|0,44220)|0;e=k;k=0;e:do{if(!(e&1)?(f[p>>0]=0,v=d[n>>2]|0,d[u>>2]=v,m=d[i+4>>2]|0,y=v,k=0,d[s>>2]=d[u>>2],m=_e(1,t|0,s|0,r|0,h|0,m|0,a|0,p|0,c|0,x|0,g|0,l|0)|0,i=k,k=0,!(i&1)):0){if(m){if(!(f[o>>0]&1)){f[o+1>>0]=0;f[o>>0]=0}else{f[d[o+8>>2]>>0]=0;d[o+4>>2]=0}if(f[p>>0]|0){k=0;e=Oe(d[(d[c>>2]|0)+28>>2]|0,c|0,45)|0;i=k;k=0;if(i&1)break;k=0;we(67,o|0,e|0);i=k;k=0;if(i&1)break}k=0;u=Oe(d[(d[c>>2]|0)+28>>2]|0,c|0,48)|0;i=k;k=0;if(i&1)break;e=d[x>>2]|0;l=d[g>>2]|0;s=l+-1|0;t:do{if(e>>>0<s>>>0)do{if((f[e>>0]|0)!=u<<24>>24)break t;e=e+1|0}while(e>>>0<s>>>0)}while(0);k=0;Te(32,o|0,e|0,l|0)|0;o=k;k=0;if(o&1)break}e=d[t>>2]|0;do{if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;e=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;o=k;k=0;if(o&1)break e;if((e|0)==-1){d[t>>2]=0;e=0;break}else{e=d[t>>2]|0;break}}}else e=0}while(0);s=(e|0)==0;do{if(v){if((d[y+12>>2]|0)==(d[y+16>>2]|0)){k=0;e=xe(d[(d[v>>2]|0)+36>>2]|0,y|0)|0;y=k;k=0;if(y&1)break e;if((e|0)==-1){d[n>>2]=0;T=29;break}}if(!s)T=30}else T=29}while(0);if((T|0)==29?s:0)T=30;if((T|0)==30)d[a>>2]=d[a>>2]|2;s=d[t>>2]|0;Th(b)|0;e=d[x>>2]|0;d[x>>2]=0;if((e|0)!=0?(k=0,be(d[E>>2]|0,e|0),E=k,k=0,E&1):0){E=Ze(0)|0;Xt(E)}w=S;return s|0}}while(0);s=Ze()|0;Th(b)|0;e=d[x>>2]|0;d[x>>2]=0;if(!e)_=s;else T=36}else{s=Ze()|0;d[x>>2]=0;T=36}if((T|0)==36){k=0;be(d[E>>2]|0,e|0);E=k;k=0;if(E&1){E=Ze(0)|0;Xt(E)}else _=s}ut(_|0);return 0}function nc(e,t,n,r,i,a,o,s,u,l){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;var c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0;T=w;w=w+112|0;c=T+100|0;h=T+88|0;p=T+76|0;m=T+64|0;g=T+52|0;v=T+48|0;y=T+36|0;b=T+24|0;S=T+12|0;x=T;do{if(e){e=Hc(t,43828)|0;g_[d[(d[e>>2]|0)+44>>2]&127](c,e);x=d[c>>2]|0;f[n>>0]=x;f[n+1>>0]=x>>8;f[n+2>>0]=x>>16;f[n+3>>0]=x>>24;g_[d[(d[e>>2]|0)+32>>2]&127](h,e);if(!(f[u>>0]&1)){f[u+1>>0]=0;f[u>>0]=0}else{f[d[u+8>>2]>>0]=0;d[u+4>>2]=0}k=0;we(91,u|0,0);n=k;k=0;if(n&1){n=Ze(0)|0;Xt(n)}d[u>>2]=d[h>>2];d[u+4>>2]=d[h+4>>2];d[u+8>>2]=d[h+8>>2];d[h>>2]=0;d[h+4>>2]=0;d[h+8>>2]=0;Gh(h);g_[d[(d[e>>2]|0)+28>>2]&127](p,e);if(!(f[s>>0]&1)){f[s+1>>0]=0;f[s>>0]=0}else{f[d[s+8>>2]>>0]=0;d[s+4>>2]=0}k=0;we(91,s|0,0);n=k;k=0;if(n&1){n=Ze(0)|0;Xt(n)}d[s>>2]=d[p>>2];d[s+4>>2]=d[p+4>>2];d[s+8>>2]=d[p+8>>2];d[p>>2]=0;d[p+4>>2]=0;d[p+8>>2]=0;Gh(p);s=y_[d[(d[e>>2]|0)+12>>2]&127](e)|0;f[r>>0]=s;s=y_[d[(d[e>>2]|0)+16>>2]&127](e)|0;f[i>>0]=s;g_[d[(d[e>>2]|0)+20>>2]&127](m,e);if(!(f[a>>0]&1)){f[a+1>>0]=0;f[a>>0]=0}else{f[d[a+8>>2]>>0]=0;d[a+4>>2]=0}k=0;we(91,a|0,0);i=k;k=0;if(i&1){i=Ze(0)|0;Xt(i)}d[a>>2]=d[m>>2];d[a+4>>2]=d[m+4>>2];d[a+8>>2]=d[m+8>>2];d[m>>2]=0;d[m+4>>2]=0;d[m+8>>2]=0;Gh(m);g_[d[(d[e>>2]|0)+24>>2]&127](g,e);if(!(f[o>>0]&1)){f[o+1>>0]=0;f[o>>0]=0}else{f[d[o+8>>2]>>0]=0;d[o+4>>2]=0}k=0;we(91,o|0,0);i=k;k=0;if(i&1){i=Ze(0)|0;Xt(i)}else{d[o>>2]=d[g>>2];d[o+4>>2]=d[g+4>>2];d[o+8>>2]=d[g+8>>2];d[g>>2]=0;d[g+4>>2]=0;d[g+8>>2]=0;Gh(g);_=y_[d[(d[e>>2]|0)+36>>2]&127](e)|0;break}}else{e=Hc(t,43764)|0;g_[d[(d[e>>2]|0)+44>>2]&127](v,e);v=d[v>>2]|0;f[n>>0]=v;f[n+1>>0]=v>>8;f[n+2>>0]=v>>16;f[n+3>>0]=v>>24;g_[d[(d[e>>2]|0)+32>>2]&127](y,e);if(!(f[u>>0]&1)){f[u+1>>0]=0;f[u>>0]=0}else{f[d[u+8>>2]>>0]=0;d[u+4>>2]=0}k=0;we(91,u|0,0);n=k;k=0;if(n&1){n=Ze(0)|0;Xt(n)}d[u>>2]=d[y>>2];d[u+4>>2]=d[y+4>>2];d[u+8>>2]=d[y+8>>2];d[y>>2]=0;d[y+4>>2]=0;d[y+8>>2]=0;Gh(y);g_[d[(d[e>>2]|0)+28>>2]&127](b,e);if(!(f[s>>0]&1)){f[s+1>>0]=0;f[s>>0]=0}else{f[d[s+8>>2]>>0]=0;d[s+4>>2]=0}k=0;we(91,s|0,0);n=k;k=0;if(n&1){n=Ze(0)|0;Xt(n)}d[s>>2]=d[b>>2];d[s+4>>2]=d[b+4>>2];d[s+8>>2]=d[b+8>>2];d[b>>2]=0;d[b+4>>2]=0;d[b+8>>2]=0;Gh(b);s=y_[d[(d[e>>2]|0)+12>>2]&127](e)|0;f[r>>0]=s;s=y_[d[(d[e>>2]|0)+16>>2]&127](e)|0;f[i>>0]=s;g_[d[(d[e>>2]|0)+20>>2]&127](S,e);if(!(f[a>>0]&1)){f[a+1>>0]=0;f[a>>0]=0}else{f[d[a+8>>2]>>0]=0;d[a+4>>2]=0}k=0;we(91,a|0,0);i=k;k=0;if(i&1){i=Ze(0)|0;Xt(i)}d[a>>2]=d[S>>2];d[a+4>>2]=d[S+4>>2];d[a+8>>2]=d[S+8>>2];d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;Gh(S);g_[d[(d[e>>2]|0)+24>>2]&127](x,e);if(!(f[o>>0]&1)){f[o+1>>0]=0;f[o>>0]=0}else{f[d[o+8>>2]>>0]=0;d[o+4>>2]=0}k=0;we(91,o|0,0);i=k;k=0;if(i&1){i=Ze(0)|0;Xt(i)}else{d[o>>2]=d[x>>2];d[o+4>>2]=d[x+4>>2];d[o+8>>2]=d[x+8>>2];d[x>>2]=0;d[x+4>>2]=0;d[x+8>>2]=0;Gh(x);_=y_[d[(d[e>>2]|0)+36>>2]&127](e)|0;break}}}while(0);d[l>>2]=_;w=T;return}function rc(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0;i=f[e>>0]|0;o=e+4|0;a=d[o>>2]|0;e:do{if(((i&1)==0?(i&255)>>>1:a)|0){if((t|0)!=(n|0)){i=n+-4|0;if(i>>>0>t>>>0){a=t;do{s=d[a>>2]|0;d[a>>2]=d[i>>2];d[i>>2]=s;a=a+4|0;i=i+-4|0}while(a>>>0<i>>>0)}i=f[e>>0]|0;a=d[o>>2]|0}s=(i&1)==0;o=s?e+1|0:d[e+8>>2]|0;n=n+-4|0;e=o+(s?(i&255)>>>1:a)|0;a=f[o>>0]|0;i=a<<24>>24<1|a<<24>>24==127;t:do{if(n>>>0>t>>>0){while(1){if(!i?(a<<24>>24|0)!=(d[t>>2]|0):0)break;o=(e-o|0)>1?o+1|0:o;t=t+4|0;a=f[o>>0]|0;i=a<<24>>24<1|a<<24>>24==127;if(t>>>0>=n>>>0)break t}d[r>>2]=4;break e}}while(0);if(!i?((d[n>>2]|0)+-1|0)>>>0>=a<<24>>24>>>0:0)d[r>>2]=4}}while(0);return}function ic(e){e=e|0;return}function ac(e){e=e|0;Hw(e);return}function oc(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;var s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0,D=0;C=w;w=w+576|0;x=C+424|0;E=C;e=C+24|0;O=C+16|0;_=C+12|0;A=C+8|0;h=C+464|0;u=C+4|0;T=C+468|0;d[O>>2]=e;M=O+4|0;d[M>>2]=189;l=e+400|0;k=0;s=xe(68,i|0)|0;S=k;k=0;if(!(S&1)){d[A>>2]=s;k=0;e=Oe(37,A|0,44212)|0;S=k;k=0;e:do{if(!(S&1)?(f[h>>0]=0,d[u>>2]=d[n>>2],c=d[i+4>>2]|0,k=0,d[x>>2]=d[u>>2],c=_e(2,t|0,x|0,r|0,A|0,c|0,a|0,h|0,e|0,O|0,_|0,l|0)|0,S=k,k=0,!(S&1)):0){t:do{if(c){k=0;Re(d[(d[e>>2]|0)+48>>2]|0,e|0,59007,59017,x|0)|0;S=k;k=0;if(S&1){D=10;break e}u=d[_>>2]|0;l=d[O>>2]|0;e=u-l|0;if((e|0)>392){e=Uf((e>>2)+2|0)|0;s=e;if(!e){k=0;Ne(6);S=k;k=0;if(!(S&1)){e=0;D=13}}else D=13}else{s=0;e=T;D=13}do{if((D|0)==13){if(f[h>>0]|0){f[e>>0]=45;e=e+1|0}b=x+40|0;S=x;if(l>>>0<u>>>0){c=x+4|0;r=c+4|0;i=r+4|0;h=i+4|0;p=h+4|0;m=p+4|0;g=m+4|0;v=g+4|0;y=v+4|0;do{u=d[l>>2]|0;do{if((d[x>>2]|0)!=(u|0)){if((d[c>>2]|0)!=(u|0)){if((d[r>>2]|0)!=(u|0)){if((d[i>>2]|0)!=(u|0)){if((d[h>>2]|0)==(u|0))u=h;else{if((d[p>>2]|0)==(u|0)){u=p;break}if((d[m>>2]|0)==(u|0)){u=m;break}if((d[g>>2]|0)==(u|0)){u=g;break}if((d[v>>2]|0)==(u|0)){u=v;break}u=(d[y>>2]|0)==(u|0)?y:b}}else u=i}else u=r}else u=c}else u=x}while(0);f[e>>0]=f[59007+(u-S>>2)>>0]|0;l=l+4|0;e=e+1|0}while(l>>>0<(d[_>>2]|0)>>>0)}f[e>>0]=0;d[E>>2]=o;if((Vx(T,58987,E)|0)!=1?(k=0,be(190,58991),o=k,k=0,o&1):0)break;if(s)jf(s);break t}}while(0);e=Ze()|0;if(!s){u=e;s=O;break e}jf(s);u=e;s=O;break e}}while(0);e=d[t>>2]|0;do{if(e){s=d[e+12>>2]|0;if((s|0)==(d[e+16>>2]|0)){k=0;e=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;o=k;k=0;if(o&1){D=10;break e}}else e=d[s>>2]|0;if((e|0)==-1){d[t>>2]=0;u=1;break}else{u=(d[t>>2]|0)==0;break}}else u=1}while(0);e=d[n>>2]|0;do{if(e){s=d[e+12>>2]|0;if((s|0)==(d[e+16>>2]|0)){k=0;e=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;o=k;k=0;if(o&1){D=10;break e}}else e=d[s>>2]|0;if((e|0)!=-1){if(u)break;else{D=40;break}}else{d[n>>2]=0;D=38;break}}else D=38}while(0);if((D|0)==38?u:0)D=40;if((D|0)==40)d[a>>2]=d[a>>2]|2;s=d[t>>2]|0;Th(d[A>>2]|0)|0;e=d[O>>2]|0;d[O>>2]=0;if((e|0)!=0?(k=0,be(d[M>>2]|0,e|0),D=k,k=0,D&1):0){D=Ze(0)|0;Xt(D)}w=C;return s|0}else D=10}while(0);if((D|0)==10){u=Ze()|0;s=O}Th(d[A>>2]|0)|0;e=d[s>>2]|0;d[s>>2]=0;if(!e)I=u;else{s=d[M>>2]|0;D=47}}else{u=Ze()|0;d[O>>2]=0;s=189;D=47}if((D|0)==47){k=0;be(s|0,e|0);D=k;k=0;if(D&1){D=Ze(0)|0;Xt(D)}else I=u}ut(I|0);return 0}function sc(e,t,n,r,i,a,o,s,u,l,c){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;c=c|0;var h=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0,P=0,N=0,L=0,F=0,B=0,z=0,U=0,j=0,V=0,G=0,W=0,H=0,q=0,Q=0,X=0,Y=0,K=0,Z=0,J=0;K=w;w=w+512|0;L=K+96|0;h=K+104|0;J=K+88|0;U=K+80|0;z=K+76|0;j=K+504|0;F=K+72|0;V=K+68|0;H=K+56|0;Y=K+44|0;Q=K+32|0;q=K+20|0;X=K+8|0;B=K+4|0;W=K;d[L>>2]=c;d[J>>2]=h;Z=J+4|0;d[Z>>2]=189;d[U>>2]=h;d[z>>2]=h+400;d[H>>2]=0;d[H+4>>2]=0;d[H+8>>2]=0;d[Y>>2]=0;d[Y+4>>2]=0;d[Y+8>>2]=0;d[Q>>2]=0;d[Q+4>>2]=0;d[Q+8>>2]=0;d[q>>2]=0;d[q+4>>2]=0;d[q+8>>2]=0;d[X>>2]=0;d[X+4>>2]=0;d[X+8>>2]=0;k=0;Ae(2,n|0,r|0,j|0,F|0,V|0,H|0,Y|0,Q|0,q|0,B|0);N=k;k=0;e:do{if(N&1)n=Ze()|0;else{d[l>>2]=d[u>>2];D=Q+4|0;R=q+4|0;P=q+8|0;N=Q+8|0;T=(i&512|0)!=0;E=Y+8|0;C=Y+4|0;A=X+4|0;O=X+8|0;I=j+3|0;M=H+4|0;_=0;g=0;t:while(1){c=d[e>>2]|0;do{if(c){n=d[c+12>>2]|0;if((n|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;x=k;k=0;if(x&1){G=26;break t}}else c=d[n>>2]|0;if((c|0)==-1){d[e>>2]=0;r=1;break}else{r=(d[e>>2]|0)==0;break}}else r=1}while(0);n=d[t>>2]|0;do{if(n){c=d[n+12>>2]|0;if((c|0)==(d[n+16>>2]|0)){k=0;c=xe(d[(d[n>>2]|0)+36>>2]|0,n|0)|0;x=k;k=0;if(x&1){G=26;break t}}else c=d[c>>2]|0;if((c|0)!=-1){if(r){x=n;break}else{v=h;G=244;break t}}else{d[t>>2]=0;G=16;break}}else G=16}while(0);if((G|0)==16){G=0;if(r){v=h;G=244;break}else x=0}n:do{switch(f[j+_>>0]|0){case 1:{if((_|0)!=3){c=d[e>>2]|0;n=d[c+12>>2]|0;if((n|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;G=k;k=0;if(G&1){G=26;break t}}else c=d[n>>2]|0;k=0;c=Te(d[(d[s>>2]|0)+12>>2]|0,s|0,8192,c|0)|0;G=k;k=0;if(G&1){G=26;break t}if(!c){G=42;break t}c=d[e>>2]|0;n=c+12|0;r=d[n>>2]|0;if((r|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+40>>2]|0,c|0)|0;G=k;k=0;if(G&1){G=26;break t}}else{d[n>>2]=r+4;c=d[r>>2]|0}k=0;we(92,X|0,c|0);G=k;k=0;if(G&1){G=26;break t}else{c=x;i=x;G=44}}else c=h;break}case 0:{if((_|0)==3)c=h;else{c=x;i=x;G=44}break}case 3:{n=f[Q>>0]|0;c=(n&1)==0?(n&255)>>>1:d[D>>2]|0;r=f[q>>0]|0;i=(r&1)==0?(r&255)>>>1:d[R>>2]|0;if((c|0)==(0-i|0))c=h;else{if(!c){c=d[e>>2]|0;n=d[c+12>>2]|0;if((n|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;x=k;k=0;if(x&1){G=26;break t}n=f[q>>0]|0}else{c=d[n>>2]|0;n=r}if((c|0)!=(d[((n&1)==0?R:d[P>>2]|0)>>2]|0)){c=h;break n}c=d[e>>2]|0;n=c+12|0;r=d[n>>2]|0;if((r|0)==(d[c+16>>2]|0)){k=0;xe(d[(d[c>>2]|0)+40>>2]|0,c|0)|0;x=k;k=0;if(x&1){G=26;break t}}else d[n>>2]=r+4;f[o>>0]=1;x=f[q>>0]|0;c=h;g=((x&1)==0?(x&255)>>>1:d[R>>2]|0)>>>0>1?q:g;break n}m=d[e>>2]|0;v=d[m+12>>2]|0;r=d[m+16>>2]|0;c=(v|0)==(r|0);if(!i){if(c){k=0;c=xe(d[(d[m>>2]|0)+36>>2]|0,m|0)|0;x=k;k=0;if(x&1){G=26;break t}n=f[Q>>0]|0}else c=d[v>>2]|0;if((c|0)!=(d[((n&1)==0?D:d[N>>2]|0)>>2]|0)){f[o>>0]=1;c=h;break n}c=d[e>>2]|0;n=c+12|0;r=d[n>>2]|0;if((r|0)==(d[c+16>>2]|0)){k=0;xe(d[(d[c>>2]|0)+40>>2]|0,c|0)|0;x=k;k=0;if(x&1){G=26;break t}}else d[n>>2]=r+4;x=f[Q>>0]|0;c=h;g=((x&1)==0?(x&255)>>>1:d[D>>2]|0)>>>0>1?Q:g;break n}if(c){k=0;c=xe(d[(d[m>>2]|0)+36>>2]|0,m|0)|0;x=k;k=0;if(x&1){G=26;break t}r=d[e>>2]|0;n=f[Q>>0]|0;m=r;v=d[r+12>>2]|0;r=d[r+16>>2]|0}else c=d[v>>2]|0;i=m+12|0;r=(v|0)==(r|0);if((c|0)==(d[((n&1)==0?D:d[N>>2]|0)>>2]|0)){if(r){k=0;xe(d[(d[m>>2]|0)+40>>2]|0,m|0)|0;x=k;k=0;if(x&1){G=26;break t}}else d[i>>2]=v+4;x=f[Q>>0]|0;c=h;g=((x&1)==0?(x&255)>>>1:d[D>>2]|0)>>>0>1?Q:g;break n}if(r){k=0;c=xe(d[(d[m>>2]|0)+36>>2]|0,m|0)|0;x=k;k=0;if(x&1){G=26;break t}}else c=d[v>>2]|0;if((c|0)!=(d[((f[q>>0]&1)==0?R:d[P>>2]|0)>>2]|0)){G=107;break t}c=d[e>>2]|0;n=c+12|0;r=d[n>>2]|0;if((r|0)==(d[c+16>>2]|0)){k=0;xe(d[(d[c>>2]|0)+40>>2]|0,c|0)|0;x=k;k=0;if(x&1){G=26;break t}}else d[n>>2]=r+4;f[o>>0]=1;x=f[q>>0]|0;c=h;g=((x&1)==0?(x&255)>>>1:d[R>>2]|0)>>>0>1?q:g}break}case 2:{if(!(_>>>0<2|(g|0)!=0)?!(T|(_|0)==2&(f[I>>0]|0)!=0):0){c=h;g=0;break n}i=f[Y>>0]|0;r=d[E>>2]|0;n=(i&1)==0?C:r;c=n;r:do{if((_|0)!=0?(p[j+(_+-1)>>0]|0)<2:0){S=(i&1)==0;i:do{if((n|0)!=((S?C:r)+((S?(i&255)>>>1:d[C>>2]|0)<<2)|0)){i=n;while(1){k=0;n=Te(d[(d[s>>2]|0)+12>>2]|0,s|0,8192,d[i>>2]|0)|0;S=k;k=0;if(S&1){G=23;break t}if(!n)break;i=i+4|0;c=i;n=f[Y>>0]|0;r=d[E>>2]|0;S=(n&1)==0;if((i|0)==((S?C:r)+((S?(n&255)>>>1:d[C>>2]|0)<<2)|0)){i=n;break i}}i=f[Y>>0]|0;r=d[E>>2]|0}}while(0);v=(i&1)==0?C:r;n=v;y=c-n>>2;b=f[X>>0]|0;m=(b&1)==0;b=m?(b&255)>>>1:d[A>>2]|0;if(b>>>0>=y>>>0){m=m?A:d[O>>2]|0;S=m+(b<<2)|0;if(!y)n=c;else{m=m+(b-y<<2)|0;while(1){if((d[m>>2]|0)!=(d[v>>2]|0))break r;m=m+4|0;if((m|0)==(S|0)){n=c;break}else v=v+4|0}}}}else n=c}while(0);c=(i&1)==0;c=(c?C:r)+((c?(i&255)>>>1:d[C>>2]|0)<<2)|0;r:do{if((n|0)!=(c|0)){m=x;i=x;c=n;while(1){n=d[e>>2]|0;do{if(n){r=d[n+12>>2]|0;if((r|0)==(d[n+16>>2]|0)){k=0;n=xe(d[(d[n>>2]|0)+36>>2]|0,n|0)|0;x=k;k=0;if(x&1){G=22;break t}}else n=d[r>>2]|0;if((n|0)==-1){d[e>>2]=0;r=1;break}else{r=(d[e>>2]|0)==0;break}}else r=1}while(0);do{if(i){n=d[i+12>>2]|0;if((n|0)==(d[i+16>>2]|0)){k=0;n=xe(d[(d[i>>2]|0)+36>>2]|0,i|0)|0;x=k;k=0;if(x&1){G=22;break t}}else n=d[n>>2]|0;if((n|0)!=-1){if(r^(m|0)==0){n=m;v=m;break}else break r}else{d[t>>2]=0;n=0;G=136;break}}else{n=m;G=136}}while(0);if((G|0)==136){G=0;if(r)break r;else v=0}r=d[e>>2]|0;i=d[r+12>>2]|0;if((i|0)==(d[r+16>>2]|0)){k=0;r=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;x=k;k=0;if(x&1){G=22;break t}}else r=d[i>>2]|0;if((r|0)!=(d[c>>2]|0))break r;r=d[e>>2]|0;i=r+12|0;m=d[i>>2]|0;if((m|0)==(d[r+16>>2]|0)){k=0;xe(d[(d[r>>2]|0)+40>>2]|0,r|0)|0;x=k;k=0;if(x&1){G=22;break t}}else d[i>>2]=m+4;c=c+4|0;r=f[Y>>0]|0;x=(r&1)==0;r=(x?C:d[E>>2]|0)+((x?(r&255)>>>1:d[C>>2]|0)<<2)|0;if((c|0)==(r|0)){c=r;break}else{m=n;i=v}}}}while(0);if(T?(x=f[Y>>0]|0,S=(x&1)==0,(c|0)!=((S?C:d[E>>2]|0)+((S?(x&255)>>>1:d[C>>2]|0)<<2)|0)):0){G=148;break t}else c=h;break}case 4:{b=d[V>>2]|0;y=x;m=x;c=h;n=0;r:while(1){r=d[e>>2]|0;do{if(r){i=d[r+12>>2]|0;if((i|0)==(d[r+16>>2]|0)){k=0;r=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;x=k;k=0;if(x&1){G=25;break t}}else r=d[i>>2]|0;if((r|0)==-1){d[e>>2]=0;i=1;break}else{i=(d[e>>2]|0)==0;break}}else i=1}while(0);do{if(m){r=d[m+12>>2]|0;if((r|0)==(d[m+16>>2]|0)){k=0;r=xe(d[(d[m>>2]|0)+36>>2]|0,m|0)|0;x=k;k=0;if(x&1){G=25;break t}}else r=d[r>>2]|0;if((r|0)!=-1){if(i^(y|0)==0){r=y;v=y;break}else{h=y;break r}}else{d[t>>2]=0;r=0;G=162;break}}else{r=y;G=162}}while(0);if((G|0)==162){G=0;if(i){h=r;break}else v=0}i=d[e>>2]|0;h=d[i+12>>2]|0;if((h|0)==(d[i+16>>2]|0)){k=0;i=xe(d[(d[i>>2]|0)+36>>2]|0,i|0)|0;x=k;k=0;if(x&1){G=25;break t}}else i=d[h>>2]|0;k=0;h=Te(d[(d[s>>2]|0)+12>>2]|0,s|0,2048,i|0)|0;x=k;k=0;if(x&1){G=25;break t}if(h){h=d[l>>2]|0;if((h|0)==(d[L>>2]|0)){k=0;Pe(14,u|0,l|0,L|0);x=k;k=0;if(x&1){G=25;break t}h=d[l>>2]|0}d[l>>2]=h+4;d[h>>2]=i;n=n+1|0}else{x=f[H>>0]|0;if(!((i|0)==(b|0)&((n|0)!=0?(((x&1)==0?(x&255)>>>1:d[M>>2]|0)|0)!=0:0))){h=r;break}if((c|0)==(d[z>>2]|0)){k=0;Pe(13,J|0,U|0,z|0);x=k;k=0;if(x&1){G=25;break t}c=d[U>>2]|0}x=c+4|0;d[U>>2]=x;d[c>>2]=n;c=x;n=0}i=d[e>>2]|0;h=i+12|0;m=d[h>>2]|0;if((m|0)==(d[i+16>>2]|0)){k=0;xe(d[(d[i>>2]|0)+40>>2]|0,i|0)|0;x=k;k=0;if(x&1){G=25;break t}else{y=r;m=v;continue}}else{d[h>>2]=m+4;y=r;m=v;continue}}if((n|0)!=0?(d[J>>2]|0)!=(c|0):0){if((c|0)==(d[z>>2]|0)){k=0;Pe(13,J|0,U|0,z|0);x=k;k=0;if(x&1){G=26;break t}c=d[U>>2]|0}x=c+4|0;d[U>>2]=x;d[c>>2]=n;c=x}v=d[B>>2]|0;if((v|0)>0){n=d[e>>2]|0;do{if(n){r=d[n+12>>2]|0;if((r|0)==(d[n+16>>2]|0)){k=0;n=xe(d[(d[n>>2]|0)+36>>2]|0,n|0)|0;x=k;k=0;if(x&1){G=26;break t}}else n=d[r>>2]|0;if((n|0)==-1){d[e>>2]=0;r=1;break}else{r=(d[e>>2]|0)==0;break}}else r=1}while(0);do{if(h){n=d[h+12>>2]|0;if((n|0)==(d[h+16>>2]|0)){k=0;n=xe(d[(d[h>>2]|0)+36>>2]|0,h|0)|0;x=k;k=0;if(x&1){G=26;break t}}else n=d[n>>2]|0;if((n|0)!=-1){if(r)break;else{G=206;break t}}else{d[t>>2]=0;G=200;break}}else G=200}while(0);if((G|0)==200){G=0;if(r){G=206;break t}else h=0}n=d[e>>2]|0;r=d[n+12>>2]|0;if((r|0)==(d[n+16>>2]|0)){k=0;n=xe(d[(d[n>>2]|0)+36>>2]|0,n|0)|0;x=k;k=0;if(x&1){G=26;break t}}else n=d[r>>2]|0;if((n|0)!=(d[F>>2]|0)){G=206;break t}n=d[e>>2]|0;r=n+12|0;i=d[r>>2]|0;if((i|0)==(d[n+16>>2]|0)){k=0;xe(d[(d[n>>2]|0)+40>>2]|0,n|0)|0;x=k;k=0;if(x&1){G=26;break t}}else d[r>>2]=i+4;if((v|0)>0){m=h;i=h;y=v;while(1){n=d[e>>2]|0;do{if(n){r=d[n+12>>2]|0;if((r|0)==(d[n+16>>2]|0)){k=0;n=xe(d[(d[n>>2]|0)+36>>2]|0,n|0)|0;x=k;k=0;if(x&1){G=24;break t}}else n=d[r>>2]|0;if((n|0)==-1){d[e>>2]=0;r=1;break}else{r=(d[e>>2]|0)==0;break}}else r=1}while(0);do{if(i){n=d[i+12>>2]|0;if((n|0)==(d[i+16>>2]|0)){k=0;n=xe(d[(d[i>>2]|0)+36>>2]|0,i|0)|0;x=k;k=0;if(x&1){G=24;break t}}else n=d[n>>2]|0;if((n|0)!=-1){if(r^(m|0)==0){n=m;v=m;break}else{G=231;break t}}else{d[t>>2]=0;n=0;G=224;break}}else{n=m;G=224}}while(0);if((G|0)==224){G=0;if(r){G=231;break t}else v=0}r=d[e>>2]|0;i=d[r+12>>2]|0;if((i|0)==(d[r+16>>2]|0)){k=0;r=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;x=k;k=0;if(x&1){G=24;break t}}else r=d[i>>2]|0;k=0;r=Te(d[(d[s>>2]|0)+12>>2]|0,s|0,2048,r|0)|0;x=k;k=0;if(x&1){G=24;break t}if(!r){G=231;break t}if((d[l>>2]|0)==(d[L>>2]|0)?(k=0,Pe(14,u|0,l|0,L|0),x=k,k=0,x&1):0){G=24;break t}r=d[e>>2]|0;i=d[r+12>>2]|0;if((i|0)==(d[r+16>>2]|0)){k=0;r=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;x=k;k=0;if(x&1){G=24;break t}}else r=d[i>>2]|0;i=d[l>>2]|0;d[l>>2]=i+4;d[i>>2]=r;r=y;y=y+-1|0;d[B>>2]=y;i=d[e>>2]|0;h=i+12|0;m=d[h>>2]|0;if((m|0)==(d[i+16>>2]|0)){k=0;xe(d[(d[i>>2]|0)+40>>2]|0,i|0)|0;x=k;k=0;if(x&1){G=24;break t}}else d[h>>2]=m+4;if((r|0)<=1)break;else{m=n;i=v}}}}if((d[l>>2]|0)==(d[u>>2]|0)){G=242;break t}break}default:c=h}}while(0);n:do{if((G|0)==44)while(1){G=0;n=d[e>>2]|0;do{if(n){r=d[n+12>>2]|0;if((r|0)==(d[n+16>>2]|0)){k=0;n=xe(d[(d[n>>2]|0)+36>>2]|0,n|0)|0;x=k;k=0;if(x&1){G=21;break t}}else n=d[r>>2]|0;if((n|0)==-1){d[e>>2]=0;r=1;break}else{r=(d[e>>2]|0)==0;break}}else r=1}while(0);do{if(i){n=d[i+12>>2]|0;if((n|0)==(d[i+16>>2]|0)){k=0;n=xe(d[(d[i>>2]|0)+36>>2]|0,i|0)|0;x=k;k=0;if(x&1){G=21;break t}}else n=d[n>>2]|0;if((n|0)!=-1){if(r^(c|0)==0){m=c;i=c;break}else{c=h;break n}}else{d[t>>2]=0;c=0;G=57;break}}else G=57}while(0);if((G|0)==57){G=0;if(r){c=h;break n}else{m=c;i=0}}c=d[e>>2]|0;n=d[c+12>>2]|0;if((n|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;x=k;k=0;if(x&1){G=21;break t}}else c=d[n>>2]|0;k=0;c=Te(d[(d[s>>2]|0)+12>>2]|0,s|0,8192,c|0)|0;x=k;k=0;if(x&1){G=21;break t}if(!c){c=h;break n}c=d[e>>2]|0;n=c+12|0;r=d[n>>2]|0;if((r|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+40>>2]|0,c|0)|0;G=k;k=0;if(G&1){G=21;break t}}else{d[n>>2]=r+4;c=d[r>>2]|0}k=0;we(92,X|0,c|0);G=k;k=0;if(G&1){G=21;break t}else{c=m;G=44}}}while(0);_=_+1|0;if(_>>>0>=4){v=c;G=244;break}else h=c}t:switch(G|0){case 21:{n=Ze()|0;break e}case 22:{n=Ze()|0;break e}case 23:{n=Ze()|0;break e}case 24:{n=Ze()|0;break e}case 25:{n=Ze()|0;break e}case 26:{n=Ze()|0;break e}case 42:{d[a>>2]=d[a>>2]|4;n=0;break}case 107:{d[a>>2]=d[a>>2]|4;n=0;break}case 148:{d[a>>2]=d[a>>2]|4;n=0;break}case 206:{d[a>>2]=d[a>>2]|4;n=0;break}case 231:{d[a>>2]=d[a>>2]|4;n=0;break}case 242:{d[a>>2]=d[a>>2]|4;n=0;break}case 244:{n:do{if(g){h=g+4|0;m=g+8|0;i=1;r:while(1){c=f[g>>0]|0;if(!(c&1))c=(c&255)>>>1;else c=d[h>>2]|0;if(i>>>0>=c>>>0)break n;c=d[e>>2]|0;do{if(c){n=d[c+12>>2]|0;if((n|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;l=k;k=0;if(l&1){G=20;break r}}else c=d[n>>2]|0;if((c|0)==-1){d[e>>2]=0;r=1;break}else{r=(d[e>>2]|0)==0;break}}else r=1}while(0);c=d[t>>2]|0;do{if(c){n=d[c+12>>2]|0;if((n|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;l=k;k=0;if(l&1){G=20;break r}}else c=d[n>>2]|0;if((c|0)!=-1){if(r)break;else{G=271;break r}}else{d[t>>2]=0;G=263;break}}else G=263}while(0);if((G|0)==263?(G=0,r):0){G=271;break}c=d[e>>2]|0;n=d[c+12>>2]|0;if((n|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;l=k;k=0;if(l&1){G=20;break}}else c=d[n>>2]|0;if(!(f[g>>0]&1))n=h;else n=d[m>>2]|0;if((c|0)!=(d[n+(i<<2)>>2]|0)){G=271;break}c=i+1|0;n=d[e>>2]|0;r=n+12|0;i=d[r>>2]|0;if((i|0)==(d[n+16>>2]|0)){k=0;xe(d[(d[n>>2]|0)+40>>2]|0,n|0)|0;l=k;k=0;if(l&1){G=20;break}else{i=c;continue}}else{d[r>>2]=i+4;i=c;continue}}if((G|0)==20){n=Ze()|0;break e}else if((G|0)==271){d[a>>2]=d[a>>2]|4;n=0;break t}}}while(0);c=d[J>>2]|0;if((c|0)!=(v|0)?(d[W>>2]=0,rc(H,c,v,W),(d[W>>2]|0)!=0):0){d[a>>2]=d[a>>2]|4;n=0}else n=1;break}}rd(X);rd(q);rd(Q);rd(Y);Gh(H);c=d[J>>2]|0;d[J>>2]=0;if((c|0)!=0?(k=0,be(d[Z>>2]|0,c|0),J=k,k=0,J&1):0){J=Ze(0)|0;Xt(J)}w=K;return n|0}}while(0);rd(X);rd(q);rd(Q);rd(Y);Gh(H);c=d[J>>2]|0;d[J>>2]=0;if((c|0)!=0?(k=0,be(d[Z>>2]|0,c|0),J=k,k=0,J&1):0){J=Ze(0)|0;Xt(J)}ut(n|0);return 0}function uc(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;var s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0;S=w;w=w+432|0;s=S+424|0;e=S+24|0;_=S+16|0;g=S+8|0;h=S+4|0;p=S+428|0;u=S;d[_>>2]=e;E=_+4|0;d[E>>2]=189;l=e+400|0;k=0;b=xe(68,i|0)|0;c=k;k=0;if(!(c&1)){d[h>>2]=b;k=0;c=Oe(37,h|0,44212)|0;e=k;k=0;e:do{if(!(e&1)?(f[p>>0]=0,v=d[n>>2]|0,d[u>>2]=v,m=d[i+4>>2]|0,y=v,k=0,d[s>>2]=d[u>>2],m=_e(2,t|0,s|0,r|0,h|0,m|0,a|0,p|0,c|0,_|0,g|0,l|0)|0,i=k,k=0,!(i&1)):0){if(m){if(!(f[o>>0]&1))f[o>>0]=0;else d[d[o+8>>2]>>2]=0;d[o+4>>2]=0;if(f[p>>0]|0){k=0;e=Oe(d[(d[c>>2]|0)+44>>2]|0,c|0,45)|0;i=k;k=0;if(i&1)break;k=0;we(92,o|0,e|0);i=k;k=0;if(i&1)break}k=0;u=Oe(d[(d[c>>2]|0)+44>>2]|0,c|0,48)|0;i=k;k=0;if(i&1)break;e=d[_>>2]|0;l=d[g>>2]|0;s=l+-4|0;t:do{if(e>>>0<s>>>0)do{if((d[e>>2]|0)!=(u|0))break t;e=e+4|0}while(e>>>0<s>>>0)}while(0);k=0;Te(33,o|0,e|0,l|0)|0;o=k;k=0;if(o&1)break}e=d[t>>2]|0;do{if(e){s=d[e+12>>2]|0;if((s|0)==(d[e+16>>2]|0)){k=0;e=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;o=k;k=0;if(o&1)break e}else e=d[s>>2]|0;if((e|0)==-1){d[t>>2]=0;s=1;break}else{s=(d[t>>2]|0)==0;break}}else s=1}while(0);do{if(v){e=d[y+12>>2]|0;if((e|0)==(d[y+16>>2]|0)){k=0;e=xe(d[(d[v>>2]|0)+36>>2]|0,y|0)|0;y=k;k=0;if(y&1)break e}else e=d[e>>2]|0;if((e|0)!=-1){if(s)break;else{T=32;break}}else{d[n>>2]=0;T=30;break}}else T=30}while(0);if((T|0)==30?s:0)T=32;if((T|0)==32)d[a>>2]=d[a>>2]|2;s=d[t>>2]|0;Th(b)|0;e=d[_>>2]|0;d[_>>2]=0;if((e|0)!=0?(k=0,be(d[E>>2]|0,e|0),E=k,k=0,E&1):0){E=Ze(0)|0;Xt(E)}w=S;return s|0}}while(0);s=Ze()|0;Th(b)|0;e=d[_>>2]|0;d[_>>2]=0;if(!e)x=s;else T=38}else{s=Ze()|0;d[_>>2]=0;T=38}if((T|0)==38){k=0;be(d[E>>2]|0,e|0);E=k;k=0;if(E&1){E=Ze(0)|0;Xt(E)}else x=s}ut(x|0);return 0}function lc(e,t,n,r,i,a,o,s,u,l){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;var c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0;T=w;w=w+112|0;c=T+100|0;h=T+88|0;p=T+76|0;m=T+64|0;g=T+52|0;v=T+48|0;y=T+36|0;b=T+24|0;S=T+12|0;x=T;do{if(e){e=Hc(t,43956)|0;g_[d[(d[e>>2]|0)+44>>2]&127](c,e);x=d[c>>2]|0;f[n>>0]=x;f[n+1>>0]=x>>8;f[n+2>>0]=x>>16;f[n+3>>0]=x>>24;g_[d[(d[e>>2]|0)+32>>2]&127](h,e);if(!(f[u>>0]&1))f[u>>0]=0;else d[d[u+8>>2]>>2]=0;d[u+4>>2]=0;k=0;we(93,u|0,0);n=k;k=0;if(n&1){n=Ze(0)|0;Xt(n)}d[u>>2]=d[h>>2];d[u+4>>2]=d[h+4>>2];d[u+8>>2]=d[h+8>>2];d[h>>2]=0;d[h+4>>2]=0;d[h+8>>2]=0;rd(h);g_[d[(d[e>>2]|0)+28>>2]&127](p,e);if(!(f[s>>0]&1))f[s>>0]=0;else d[d[s+8>>2]>>2]=0;d[s+4>>2]=0;k=0;we(93,s|0,0);n=k;k=0;if(n&1){n=Ze(0)|0;Xt(n)}d[s>>2]=d[p>>2];d[s+4>>2]=d[p+4>>2];d[s+8>>2]=d[p+8>>2];d[p>>2]=0;d[p+4>>2]=0;d[p+8>>2]=0;rd(p);s=y_[d[(d[e>>2]|0)+12>>2]&127](e)|0;d[r>>2]=s;s=y_[d[(d[e>>2]|0)+16>>2]&127](e)|0;d[i>>2]=s;g_[d[(d[e>>2]|0)+20>>2]&127](m,e);if(!(f[a>>0]&1)){f[a+1>>0]=0;f[a>>0]=0}else{f[d[a+8>>2]>>0]=0;d[a+4>>2]=0}k=0;we(91,a|0,0);i=k;k=0;if(i&1){i=Ze(0)|0;Xt(i)}d[a>>2]=d[m>>2];d[a+4>>2]=d[m+4>>2];d[a+8>>2]=d[m+8>>2];d[m>>2]=0;d[m+4>>2]=0;d[m+8>>2]=0;Gh(m);g_[d[(d[e>>2]|0)+24>>2]&127](g,e);if(!(f[o>>0]&1))f[o>>0]=0;else d[d[o+8>>2]>>2]=0;d[o+4>>2]=0;k=0;we(93,o|0,0);i=k;k=0;if(i&1){i=Ze(0)|0;Xt(i)}else{d[o>>2]=d[g>>2];d[o+4>>2]=d[g+4>>2];d[o+8>>2]=d[g+8>>2];d[g>>2]=0;d[g+4>>2]=0;d[g+8>>2]=0;rd(g);_=y_[d[(d[e>>2]|0)+36>>2]&127](e)|0;break}}else{e=Hc(t,43892)|0;g_[d[(d[e>>2]|0)+44>>2]&127](v,e);v=d[v>>2]|0;f[n>>0]=v;f[n+1>>0]=v>>8;f[n+2>>0]=v>>16;f[n+3>>0]=v>>24;g_[d[(d[e>>2]|0)+32>>2]&127](y,e);if(!(f[u>>0]&1))f[u>>0]=0;else d[d[u+8>>2]>>2]=0;d[u+4>>2]=0;k=0;we(93,u|0,0);n=k;k=0;if(n&1){n=Ze(0)|0;Xt(n)}d[u>>2]=d[y>>2];d[u+4>>2]=d[y+4>>2];d[u+8>>2]=d[y+8>>2];d[y>>2]=0;d[y+4>>2]=0;d[y+8>>2]=0;rd(y);g_[d[(d[e>>2]|0)+28>>2]&127](b,e);if(!(f[s>>0]&1))f[s>>0]=0;else d[d[s+8>>2]>>2]=0;d[s+4>>2]=0;k=0;we(93,s|0,0);n=k;k=0;if(n&1){n=Ze(0)|0;Xt(n)}d[s>>2]=d[b>>2];d[s+4>>2]=d[b+4>>2];d[s+8>>2]=d[b+8>>2];d[b>>2]=0;d[b+4>>2]=0;d[b+8>>2]=0;rd(b);s=y_[d[(d[e>>2]|0)+12>>2]&127](e)|0;d[r>>2]=s;s=y_[d[(d[e>>2]|0)+16>>2]&127](e)|0;d[i>>2]=s;g_[d[(d[e>>2]|0)+20>>2]&127](S,e);if(!(f[a>>0]&1)){f[a+1>>0]=0;f[a>>0]=0}else{f[d[a+8>>2]>>0]=0;d[a+4>>2]=0}k=0;we(91,a|0,0);i=k;k=0;if(i&1){i=Ze(0)|0;Xt(i)}d[a>>2]=d[S>>2];d[a+4>>2]=d[S+4>>2];d[a+8>>2]=d[S+8>>2];d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;Gh(S);g_[d[(d[e>>2]|0)+24>>2]&127](x,e);if(!(f[o>>0]&1))f[o>>0]=0;else d[d[o+8>>2]>>2]=0;d[o+4>>2]=0;k=0;we(93,o|0,0);i=k;k=0;if(i&1){i=Ze(0)|0;Xt(i)}else{d[o>>2]=d[x>>2];d[o+4>>2]=d[x+4>>2];d[o+8>>2]=d[x+8>>2];d[x>>2]=0;d[x+4>>2]=0;d[x+8>>2]=0;rd(x);_=y_[d[(d[e>>2]|0)+36>>2]&127](e)|0;break}}}while(0);d[l>>2]=_;w=T;return}function cc(e){e=e|0;return}function fc(e){e=e|0;Hw(e);return}function hc(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=+a;var o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0,P=0;O=w;w=w+384|0;b=O+8|0;o=O;u=O+284|0;l=O+72|0;s=O+184|0;M=O+68|0;E=O+80|0;x=O+77|0;C=O+76|0;D=O+56|0;P=O+44|0;R=O+32|0;c=O+28|0;v=O+84|0;T=O+24|0;_=O+20|0;S=O+16|0;d[l>>2]=u;y[b>>3]=a;u=jx(u,100,59018,b)|0;do{if(u>>>0>99){k=0;e=De(3)|0;A=k;k=0;if(!(A&1)?(k=0,y[o>>3]=a,m=Re(17,l|0,e|0,59018,o|0)|0,A=k,k=0,!(A&1)):0){e=d[l>>2]|0;if(!e){k=0;Ne(6);A=k;k=0;if(A&1){e=0;o=0;A=7;break}e=d[l>>2]|0}s=Uf(m)|0;o=s;if(!s){k=0;Ne(6);A=k;k=0;if(A&1)A=7;else{g=0;A=10}}else{g=s;A=10}}else{e=0;o=0;A=7}}else{o=0;e=0;g=s;m=u;A=10}}while(0);if((A|0)==10){k=0;s=xe(68,r|0)|0;p=k;k=0;if(p&1)A=7;else{d[M>>2]=s;k=0;p=Oe(37,M|0,44220)|0;h=k;k=0;if(!(h&1)?(h=d[l>>2]|0,k=0,Re(d[(d[p>>2]|0)+32>>2]|0,p|0,h|0,h+m|0,g|0)|0,h=k,k=0,!(h&1)):0){if(!m)h=0;else h=(f[d[l>>2]>>0]|0)==45;d[D>>2]=0;d[D+4>>2]=0;d[D+8>>2]=0;d[P>>2]=0;d[P+4>>2]=0;d[P+8>>2]=0;d[R>>2]=0;d[R+4>>2]=0;d[R+8>>2]=0;k=0;Ae(3,n|0,h|0,M|0,E|0,x|0,C|0,D|0,P|0,R|0,c|0);n=k;k=0;if(!(n&1)){c=d[c>>2]|0;if((m|0)>(c|0)){n=f[R>>0]|0;u=f[P>>0]|0;u=(m-c<<1|1)+c+((n&1)==0?(n&255)>>>1:d[R+4>>2]|0)+((u&1)==0?(u&255)>>>1:d[P+4>>2]|0)|0}else{n=f[R>>0]|0;u=f[P>>0]|0;u=c+2+((n&1)==0?(n&255)>>>1:d[R+4>>2]|0)+((u&1)==0?(u&255)>>>1:d[P+4>>2]|0)|0}if(u>>>0>100){u=Uf(u)|0;l=u;if(!u){k=0;Ne(6);v=k;k=0;if(!(v&1)){u=0;A=26}}else A=26}else{l=0;u=v;A=26}if((A|0)==26){k=0;Ee(1,u|0,T|0,_|0,d[r+4>>2]|0,g|0,g+m|0,p|0,h|0,E|0,f[x>>0]|0,f[C>>0]|0,D|0,P|0,R|0,c|0);C=k;k=0;if(!(C&1)?(d[S>>2]=d[t>>2],t=d[T>>2]|0,I=d[_>>2]|0,k=0,d[b>>2]=d[S>>2],I=Se(39,b|0,u|0,t|0,I|0,r|0,i|0)|0,t=k,k=0,!(t&1)):0){if(l){jf(l);s=d[M>>2]|0}Gh(R);Gh(P);Gh(D);Th(s)|0;if(o)jf(o);if(e)jf(e);w=O;return I|0}}u=Ze()|0;if(l){jf(l);s=d[M>>2]|0}}else u=Ze()|0;Gh(R);Gh(P);Gh(D)}else u=Ze()|0;Th(s)|0}}if((A|0)==7)u=Ze()|0;if(o)jf(o);if(e)jf(e);ut(u|0);return 0}function dc(e,t,n,r,i,a,o,s,u,l){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;var c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0;O=w;w=w+112|0;p=O+108|0;m=O+96|0;y=O+92|0;b=O+80|0;S=O+68|0;x=O+56|0;_=O+52|0;T=O+40|0;E=O+36|0;C=O+24|0;g=O+12|0;v=O;do{if(e){e=Hc(n,43828)|0;n=d[e>>2]|0;do{if(t){g_[d[n+44>>2]&127](p,e);t=d[p>>2]|0;f[r>>0]=t;f[r+1>>0]=t>>8;f[r+2>>0]=t>>16;f[r+3>>0]=t>>24;g_[d[(d[e>>2]|0)+32>>2]&127](m,e);if(!(f[u>>0]&1)){f[u+1>>0]=0;f[u>>0]=0}else{f[d[u+8>>2]>>0]=0;d[u+4>>2]=0}k=0;we(91,u|0,0);r=k;k=0;if(r&1){u=Ze(0)|0;Xt(u)}else{d[u>>2]=d[m>>2];d[u+4>>2]=d[m+4>>2];d[u+8>>2]=d[m+8>>2];d[m>>2]=0;d[m+4>>2]=0;d[m+8>>2]=0;Gh(m);h=e;break}}else{g_[d[n+40>>2]&127](y,e);t=d[y>>2]|0;f[r>>0]=t;f[r+1>>0]=t>>8;f[r+2>>0]=t>>16;f[r+3>>0]=t>>24;g_[d[(d[e>>2]|0)+28>>2]&127](b,e);if(!(f[u>>0]&1)){f[u+1>>0]=0;f[u>>0]=0}else{f[d[u+8>>2]>>0]=0;d[u+4>>2]=0}k=0;we(91,u|0,0);r=k;k=0;if(r&1){u=Ze(0)|0;Xt(u)}else{d[u>>2]=d[b>>2];d[u+4>>2]=d[b+4>>2];d[u+8>>2]=d[b+8>>2];d[b>>2]=0;d[b+4>>2]=0;d[b+8>>2]=0;Gh(b);h=e;break}}}while(0);u=y_[d[(d[e>>2]|0)+12>>2]&127](e)|0;f[i>>0]=u;u=y_[d[(d[e>>2]|0)+16>>2]&127](e)|0;f[a>>0]=u;g_[d[(d[h>>2]|0)+20>>2]&127](S,e);if(!(f[o>>0]&1)){f[o+1>>0]=0;f[o>>0]=0}else{f[d[o+8>>2]>>0]=0;d[o+4>>2]=0}k=0;we(91,o|0,0);a=k;k=0;if(a&1){a=Ze(0)|0;Xt(a)}d[o>>2]=d[S>>2];d[o+4>>2]=d[S+4>>2];d[o+8>>2]=d[S+8>>2];d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;Gh(S);g_[d[(d[h>>2]|0)+24>>2]&127](x,e);if(!(f[s>>0]&1)){f[s+1>>0]=0;f[s>>0]=0}else{f[d[s+8>>2]>>0]=0;d[s+4>>2]=0}k=0;we(91,s|0,0);a=k;k=0;if(a&1){a=Ze(0)|0;Xt(a)}else{d[s>>2]=d[x>>2];d[s+4>>2]=d[x+4>>2];d[s+8>>2]=d[x+8>>2];d[x>>2]=0;d[x+4>>2]=0;d[x+8>>2]=0;Gh(x);A=y_[d[(d[e>>2]|0)+36>>2]&127](e)|0;break}}else{e=Hc(n,43764)|0;n=d[e>>2]|0;do{if(t){g_[d[n+44>>2]&127](_,e);t=d[_>>2]|0;f[r>>0]=t;f[r+1>>0]=t>>8;f[r+2>>0]=t>>16;f[r+3>>0]=t>>24;g_[d[(d[e>>2]|0)+32>>2]&127](T,e);if(!(f[u>>0]&1)){f[u+1>>0]=0;f[u>>0]=0}else{f[d[u+8>>2]>>0]=0;d[u+4>>2]=0}k=0;we(91,u|0,0);r=k;k=0;if(r&1){u=Ze(0)|0;Xt(u)}else{d[u>>2]=d[T>>2];d[u+4>>2]=d[T+4>>2];d[u+8>>2]=d[T+8>>2];d[T>>2]=0;d[T+4>>2]=0;d[T+8>>2]=0;Gh(T);c=e;break}}else{g_[d[n+40>>2]&127](E,e);t=d[E>>2]|0;f[r>>0]=t;f[r+1>>0]=t>>8;f[r+2>>0]=t>>16;f[r+3>>0]=t>>24;g_[d[(d[e>>2]|0)+28>>2]&127](C,e);if(!(f[u>>0]&1)){f[u+1>>0]=0;f[u>>0]=0}else{f[d[u+8>>2]>>0]=0;d[u+4>>2]=0}k=0;we(91,u|0,0);r=k;k=0;if(r&1){u=Ze(0)|0;Xt(u)}else{d[u>>2]=d[C>>2];d[u+4>>2]=d[C+4>>2];d[u+8>>2]=d[C+8>>2];d[C>>2]=0;d[C+4>>2]=0;d[C+8>>2]=0;Gh(C);c=e;break}}}while(0);u=y_[d[(d[e>>2]|0)+12>>2]&127](e)|0;f[i>>0]=u;u=y_[d[(d[e>>2]|0)+16>>2]&127](e)|0;f[a>>0]=u;g_[d[(d[c>>2]|0)+20>>2]&127](g,e);if(!(f[o>>0]&1)){f[o+1>>0]=0;f[o>>0]=0}else{f[d[o+8>>2]>>0]=0;d[o+4>>2]=0}k=0;we(91,o|0,0);a=k;k=0;if(a&1){a=Ze(0)|0;Xt(a)}d[o>>2]=d[g>>2];d[o+4>>2]=d[g+4>>2];d[o+8>>2]=d[g+8>>2];d[g>>2]=0;d[g+4>>2]=0;d[g+8>>2]=0;Gh(g);g_[d[(d[c>>2]|0)+24>>2]&127](v,e);if(!(f[s>>0]&1)){f[s+1>>0]=0;f[s>>0]=0}else{f[d[s+8>>2]>>0]=0;d[s+4>>2]=0}k=0;we(91,s|0,0);a=k;k=0;if(a&1){a=Ze(0)|0;Xt(a)}else{d[s>>2]=d[v>>2];d[s+4>>2]=d[v+4>>2];d[s+8>>2]=d[v+8>>2];d[v>>2]=0;d[v+4>>2]=0;d[v+8>>2]=0;Gh(v);A=y_[d[(d[e>>2]|0)+36>>2]&127](e)|0;break}}}while(0);d[l>>2]=A;w=O;return}function pc(e,t,n,r,i,a,o,s,u,l,c,p,m,g,v){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;c=c|0;p=p|0;m=m|0;g=g|0;v=v|0;var y=0,b=0,w=0,S=0,x=0,_=0,T=0,E=0,k=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0,P=0,N=0,L=0,F=0,B=0,z=0,U=0,j=0;d[n>>2]=e;z=g+4|0;U=g+8|0;j=g+1|0;R=m+4|0;P=(r&512|0)==0;N=m+8|0;L=m+1|0;F=o+8|0;B=(v|0)>0;k=p+4|0;C=p+8|0;A=p+1|0;O=v+1|0;M=-2-v-((v|0)<0?~v:-1)|0;D=(v|0)>0;E=0;do{switch(f[u+E>>0]|0){case 0:{d[t>>2]=d[n>>2];break}case 1:{d[t>>2]=d[n>>2];_=E_[d[(d[o>>2]|0)+28>>2]&63](o,32)|0;T=d[n>>2]|0;d[n>>2]=T+1;f[T>>0]=_;break}case 3:{T=f[g>>0]|0;y=(T&1)==0;if((y?(T&255)>>>1:d[z>>2]|0)|0){_=f[(y?j:d[U>>2]|0)>>0]|0;T=d[n>>2]|0;d[n>>2]=T+1;f[T>>0]=_}break}case 2:{w=f[m>>0]|0;y=(w&1)==0;w=y?(w&255)>>>1:d[R>>2]|0;if(!(P|(w|0)==0)){b=y?L:d[N>>2]|0;S=b+w|0;y=d[n>>2]|0;if(w)do{f[y>>0]=f[b>>0]|0;b=b+1|0;y=y+1|0}while((b|0)!=(S|0));d[n>>2]=y}break}case 4:{y=d[n>>2]|0;i=s?i+1|0:i;x=i;S=d[F>>2]|0;e:do{if(i>>>0<a>>>0){b=i;do{w=f[b>>0]|0;if(w<<24>>24<=-1)break e;if(!(h[S+(w<<24>>24<<1)>>1]&2048))break e;b=b+1|0}while(b>>>0<a>>>0)}else b=i}while(0);w=b;if(B){_=-2-w-~(w>>>0>x>>>0?x:w)|0;_=M>>>0>_>>>0?M:_;if(b>>>0>i>>>0&D){w=b;x=v;while(1){w=w+-1|0;T=f[w>>0]|0;S=d[n>>2]|0;d[n>>2]=S+1;f[S>>0]=T;S=(x|0)>1;if(!(w>>>0>i>>>0&S))break;else x=x+-1|0}}else S=D;T=O+_|0;w=b+(_+1)|0;if(S)x=E_[d[(d[o>>2]|0)+28>>2]&63](o,48)|0;else x=0;b=d[n>>2]|0;d[n>>2]=b+1;if((T|0)>0){S=T;while(1){f[b>>0]=x;b=d[n>>2]|0;d[n>>2]=b+1;if((S|0)>1)S=S+-1|0;else break}}f[b>>0]=l}else w=b;if((w|0)!=(i|0)){T=f[p>>0]|0;b=(T&1)==0;if(!((b?(T&255)>>>1:d[k>>2]|0)|0))b=-1;else b=f[(b?A:d[C>>2]|0)>>0]|0;if((w|0)!=(i|0)){S=0;x=0;while(1){if((x|0)==(b|0)){T=d[n>>2]|0;d[n>>2]=T+1;f[T>>0]=c;S=S+1|0;T=f[p>>0]|0;b=(T&1)==0;if(S>>>0<(b?(T&255)>>>1:d[k>>2]|0)>>>0){b=f[(b?A:d[C>>2]|0)+S>>0]|0;b=b<<24>>24==127?-1:b<<24>>24;x=0}else{b=x;x=0}}w=w+-1|0;_=f[w>>0]|0;T=d[n>>2]|0;d[n>>2]=T+1;f[T>>0]=_;if((w|0)==(i|0))break;else x=x+1|0}}}else{_=E_[d[(d[o>>2]|0)+28>>2]&63](o,48)|0;T=d[n>>2]|0;d[n>>2]=T+1;f[T>>0]=_}b=d[n>>2]|0;if((y|0)!=(b|0)?(I=b+-1|0,y>>>0<I>>>0):0){b=I;do{T=f[y>>0]|0;f[y>>0]=f[b>>0]|0;f[b>>0]=T;y=y+1|0;b=b+-1|0}while(y>>>0<b>>>0)}break}default:{}}E=E+1|0}while((E|0)!=4);b=f[g>>0]|0;i=(b&1)==0;b=i?(b&255)>>>1:d[z>>2]|0;if(b>>>0>1){y=i?j:d[U>>2]|0;w=y+b|0;i=d[n>>2]|0;if((b|0)!=1){y=y+1|0;do{f[i>>0]=f[y>>0]|0;i=i+1|0;y=y+1|0}while((y|0)!=(w|0))}d[n>>2]=i}switch(r&176|0){case 32:{d[t>>2]=d[n>>2];break}case 16:break;default:d[t>>2]=e}return}function mc(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0,D=0;T=w;w=w+176|0;m=T+56|0;C=T+52|0;x=T+64|0;y=T+61|0;_=T+60|0;A=T+40|0;I=T+28|0;O=T+16|0;l=T+12|0;p=T+68|0;S=T+8|0;b=T+4|0;g=T;e=vd(r)|0;d[C>>2]=e;k=0;v=Oe(37,C|0,44220)|0;h=k;k=0;do{if(h&1)M=13;else{c=f[a>>0]|0;o=(c&1)==0;h=a+4|0;if(!((o?(c&255)>>>1:d[h>>2]|0)|0))c=0;else{o=f[(o?a+1|0:d[a+8>>2]|0)>>0]|0;k=0;s=Oe(d[(d[v>>2]|0)+28>>2]|0,v|0,45)|0;c=k;k=0;if(c&1){M=13;break}c=o<<24>>24==s<<24>>24}d[A>>2]=0;d[A+4>>2]=0;d[A+8>>2]=0;d[I>>2]=0;d[I+4>>2]=0;d[I+8>>2]=0;d[O>>2]=0;d[O+4>>2]=0;d[O+8>>2]=0;k=0;Ae(3,n|0,c|0,C|0,x|0,y|0,_|0,A|0,I|0,O|0,l|0);u=k;k=0;if(!(u&1)){u=f[a>>0]|0;n=d[h>>2]|0;o=(u&1)==0?(u&255)>>>1:n;l=d[l>>2]|0;if((o|0)>(l|0)){D=f[O>>0]|0;s=f[I>>0]|0;o=(o-l<<1|1)+l+((D&1)==0?(D&255)>>>1:d[O+4>>2]|0)+((s&1)==0?(s&255)>>>1:d[I+4>>2]|0)|0}else{D=f[O>>0]|0;o=f[I>>0]|0;o=l+2+((D&1)==0?(D&255)>>>1:d[O+4>>2]|0)+((o&1)==0?(o&255)>>>1:d[I+4>>2]|0)|0}if(o>>>0>100){o=Uf(o)|0;s=o;if(!o){k=0;Ne(6);D=k;k=0;if(!(D&1)){u=f[a>>0]|0;n=d[h>>2]|0;o=0;M=17}}else M=17}else{s=0;o=p;M=17}if((M|0)==17){D=(u&1)==0;a=D?a+1|0:d[a+8>>2]|0;k=0;Ee(1,o|0,S|0,b|0,d[r+4>>2]|0,a|0,a+(D?(u&255)>>>1:n)|0,v|0,c|0,x|0,f[y>>0]|0,f[_>>0]|0,A|0,I|0,O|0,l|0);D=k;k=0;if(!(D&1)?(d[g>>2]=d[t>>2],D=d[S>>2]|0,E=d[b>>2]|0,k=0,d[m>>2]=d[g>>2],E=Se(39,m|0,o|0,D|0,E|0,r|0,i|0)|0,D=k,k=0,!(D&1)):0){if(s){jf(s);e=d[C>>2]|0}Gh(O);Gh(I);Gh(A);Th(e)|0;w=T;return E|0}}o=Ze()|0;if(s){jf(s);e=d[C>>2]|0}}else o=Ze()|0;Gh(O);Gh(I);Gh(A)}}while(0);if((M|0)==13)o=Ze()|0;Th(e)|0;ut(o|0);return 0}function gc(e){e=e|0;return}function vc(e){e=e|0;Hw(e);return}function yc(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=+a;var o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0,P=0;O=w;w=w+992|0;b=O+8|0;o=O;u=O+888|0;l=O+880|0;s=O+480|0;M=O+76|0;E=O+884|0;x=O+72|0;C=O+68|0;D=O+56|0;P=O+44|0;R=O+32|0;c=O+28|0;v=O+80|0;T=O+24|0;_=O+20|0;S=O+16|0;d[l>>2]=u;y[b>>3]=a;u=jx(u,100,59018,b)|0;do{if(u>>>0>99){k=0;e=De(3)|0;A=k;k=0;if(!(A&1)?(k=0,y[o>>3]=a,m=Re(17,l|0,e|0,59018,o|0)|0,A=k,k=0,!(A&1)):0){e=d[l>>2]|0;if(!e){k=0;Ne(6);A=k;k=0;if(A&1){e=0;o=0;A=7;break}e=d[l>>2]|0}s=Uf(m<<2)|0;o=s;if(!s){k=0;Ne(6);A=k;k=0;if(A&1)A=7;else{g=0;A=10}}else{g=s;A=10}}else{e=0;o=0;A=7}}else{o=0;e=0;g=s;m=u;A=10}}while(0);if((A|0)==10){k=0;s=xe(68,r|0)|0;p=k;k=0;if(p&1)A=7;else{d[M>>2]=s;k=0;p=Oe(37,M|0,44212)|0;h=k;k=0;if(!(h&1)?(h=d[l>>2]|0,k=0,Re(d[(d[p>>2]|0)+48>>2]|0,p|0,h|0,h+m|0,g|0)|0,h=k,k=0,!(h&1)):0){if(!m)h=0;else h=(f[d[l>>2]>>0]|0)==45;d[D>>2]=0;d[D+4>>2]=0;d[D+8>>2]=0;d[P>>2]=0;d[P+4>>2]=0;d[P+8>>2]=0;d[R>>2]=0;d[R+4>>2]=0;d[R+8>>2]=0;k=0;Ae(4,n|0,h|0,M|0,E|0,x|0,C|0,D|0,P|0,R|0,c|0);n=k;k=0;if(!(n&1)){c=d[c>>2]|0;if((m|0)>(c|0)){n=f[R>>0]|0;u=f[P>>0]|0;u=(m-c<<1|1)+c+((n&1)==0?(n&255)>>>1:d[R+4>>2]|0)+((u&1)==0?(u&255)>>>1:d[P+4>>2]|0)|0}else{n=f[R>>0]|0;u=f[P>>0]|0;u=c+2+((n&1)==0?(n&255)>>>1:d[R+4>>2]|0)+((u&1)==0?(u&255)>>>1:d[P+4>>2]|0)|0}if(u>>>0>100){u=Uf(u<<2)|0;l=u;if(!u){k=0;Ne(6);v=k;k=0;if(!(v&1)){u=0;A=26}}else A=26}else{l=0;u=v;A=26}if((A|0)==26){k=0;Ee(2,u|0,T|0,_|0,d[r+4>>2]|0,g|0,g+(m<<2)|0,p|0,h|0,E|0,d[x>>2]|0,d[C>>2]|0,D|0,P|0,R|0,c|0);C=k;k=0;if(!(C&1)?(d[S>>2]=d[t>>2],t=d[T>>2]|0,I=d[_>>2]|0,k=0,d[b>>2]=d[S>>2],I=Se(40,b|0,u|0,t|0,I|0,r|0,i|0)|0,t=k,k=0,!(t&1)):0){if(l){jf(l);s=d[M>>2]|0}rd(R);rd(P);Gh(D);Th(s)|0;if(o)jf(o);if(e)jf(e);w=O;return I|0}}u=Ze()|0;if(l){jf(l);s=d[M>>2]|0}}else u=Ze()|0;rd(R);rd(P);Gh(D)}else u=Ze()|0;Th(s)|0}}if((A|0)==7)u=Ze()|0;if(o)jf(o);if(e)jf(e);ut(u|0);return 0}function bc(e,t,n,r,i,a,o,s,u,l){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;var c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0;C=w;w=w+112|0;c=C+108|0;h=C+96|0;g=C+92|0;v=C+80|0;y=C+68|0;b=C+56|0;S=C+52|0;x=C+40|0;_=C+36|0;T=C+24|0;p=C+12|0;m=C;do{if(e){e=Hc(n,43956)|0;n=d[e>>2]|0;do{if(t){g_[d[n+44>>2]&127](c,e);t=d[c>>2]|0;f[r>>0]=t;f[r+1>>0]=t>>8;f[r+2>>0]=t>>16;f[r+3>>0]=t>>24;g_[d[(d[e>>2]|0)+32>>2]&127](h,e);if(!(f[u>>0]&1))f[u>>0]=0;else d[d[u+8>>2]>>2]=0;d[u+4>>2]=0;k=0;we(93,u|0,0);r=k;k=0;if(r&1){u=Ze(0)|0;Xt(u)}else{d[u>>2]=d[h>>2];d[u+4>>2]=d[h+4>>2];d[u+8>>2]=d[h+8>>2];d[h>>2]=0;d[h+4>>2]=0;d[h+8>>2]=0;rd(h);break}}else{g_[d[n+40>>2]&127](g,e);t=d[g>>2]|0;f[r>>0]=t;f[r+1>>0]=t>>8;f[r+2>>0]=t>>16;f[r+3>>0]=t>>24;g_[d[(d[e>>2]|0)+28>>2]&127](v,e);if(!(f[u>>0]&1))f[u>>0]=0;else d[d[u+8>>2]>>2]=0;d[u+4>>2]=0;k=0;we(93,u|0,0);r=k;k=0;if(r&1){u=Ze(0)|0;Xt(u)}else{d[u>>2]=d[v>>2];d[u+4>>2]=d[v+4>>2];d[u+8>>2]=d[v+8>>2];d[v>>2]=0;d[v+4>>2]=0;d[v+8>>2]=0;rd(v);break}}}while(0);u=y_[d[(d[e>>2]|0)+12>>2]&127](e)|0;d[i>>2]=u;u=y_[d[(d[e>>2]|0)+16>>2]&127](e)|0;d[a>>2]=u;g_[d[(d[e>>2]|0)+20>>2]&127](y,e);if(!(f[o>>0]&1)){f[o+1>>0]=0;f[o>>0]=0}else{f[d[o+8>>2]>>0]=0;d[o+4>>2]=0}k=0;we(91,o|0,0);a=k;k=0;if(a&1){a=Ze(0)|0;Xt(a)}d[o>>2]=d[y>>2];d[o+4>>2]=d[y+4>>2];d[o+8>>2]=d[y+8>>2];d[y>>2]=0;d[y+4>>2]=0;d[y+8>>2]=0;Gh(y);g_[d[(d[e>>2]|0)+24>>2]&127](b,e);if(!(f[s>>0]&1))f[s>>0]=0;else d[d[s+8>>2]>>2]=0;d[s+4>>2]=0;k=0;we(93,s|0,0);a=k;k=0;if(a&1){a=Ze(0)|0;Xt(a)}else{d[s>>2]=d[b>>2];d[s+4>>2]=d[b+4>>2];d[s+8>>2]=d[b+8>>2];d[b>>2]=0;d[b+4>>2]=0;d[b+8>>2]=0;rd(b);E=y_[d[(d[e>>2]|0)+36>>2]&127](e)|0;break}}else{e=Hc(n,43892)|0;n=d[e>>2]|0;do{if(t){g_[d[n+44>>2]&127](S,e);t=d[S>>2]|0;f[r>>0]=t;f[r+1>>0]=t>>8;f[r+2>>0]=t>>16;f[r+3>>0]=t>>24;g_[d[(d[e>>2]|0)+32>>2]&127](x,e);if(!(f[u>>0]&1))f[u>>0]=0;else d[d[u+8>>2]>>2]=0;d[u+4>>2]=0;k=0;we(93,u|0,0);r=k;k=0;if(r&1){u=Ze(0)|0;Xt(u)}else{d[u>>2]=d[x>>2];d[u+4>>2]=d[x+4>>2];d[u+8>>2]=d[x+8>>2];d[x>>2]=0;d[x+4>>2]=0;d[x+8>>2]=0;rd(x);break}}else{g_[d[n+40>>2]&127](_,e);t=d[_>>2]|0;f[r>>0]=t;f[r+1>>0]=t>>8;f[r+2>>0]=t>>16;f[r+3>>0]=t>>24;g_[d[(d[e>>2]|0)+28>>2]&127](T,e);if(!(f[u>>0]&1))f[u>>0]=0;else d[d[u+8>>2]>>2]=0;d[u+4>>2]=0;k=0;we(93,u|0,0);r=k;k=0;if(r&1){u=Ze(0)|0;Xt(u)}else{d[u>>2]=d[T>>2];d[u+4>>2]=d[T+4>>2];d[u+8>>2]=d[T+8>>2];d[T>>2]=0;d[T+4>>2]=0;d[T+8>>2]=0;rd(T);break}}}while(0);u=y_[d[(d[e>>2]|0)+12>>2]&127](e)|0;d[i>>2]=u;u=y_[d[(d[e>>2]|0)+16>>2]&127](e)|0;d[a>>2]=u;g_[d[(d[e>>2]|0)+20>>2]&127](p,e);if(!(f[o>>0]&1)){f[o+1>>0]=0;f[o>>0]=0}else{f[d[o+8>>2]>>0]=0;d[o+4>>2]=0}k=0;we(91,o|0,0);a=k;k=0;if(a&1){a=Ze(0)|0;Xt(a)}d[o>>2]=d[p>>2];d[o+4>>2]=d[p+4>>2];d[o+8>>2]=d[p+8>>2];d[p>>2]=0;d[p+4>>2]=0;d[p+8>>2]=0;Gh(p);g_[d[(d[e>>2]|0)+24>>2]&127](m,e);if(!(f[s>>0]&1))f[s>>0]=0;else d[d[s+8>>2]>>2]=0;d[s+4>>2]=0;k=0;we(93,s|0,0);a=k;k=0;if(a&1){a=Ze(0)|0;Xt(a)}else{d[s>>2]=d[m>>2];d[s+4>>2]=d[m+4>>2];d[s+8>>2]=d[m+8>>2];d[m>>2]=0;d[m+4>>2]=0;d[m+8>>2]=0;rd(m);E=y_[d[(d[e>>2]|0)+36>>2]&127](e)|0;break}}}while(0);d[l>>2]=E;w=C;return}function wc(e,t,n,r,i,a,o,s,u,l,c,h,p,m,g){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;c=c|0;h=h|0;p=p|0;m=m|0;g=g|0;var v=0,y=0,b=0,w=0,S=0,x=0,_=0,T=0,E=0,k=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0,P=0,N=0,L=0;d[n>>2]=e;N=m+4|0;L=m+8|0;A=p+4|0;O=(r&512|0)==0;I=p+8|0;M=(g|0)>0;D=h+4|0;R=h+8|0;P=h+1|0;k=(g|0)>0;E=0;do{switch(f[u+E>>0]|0){case 0:{d[t>>2]=d[n>>2];break}case 1:{d[t>>2]=d[n>>2];_=E_[d[(d[o>>2]|0)+44>>2]&63](o,32)|0;T=d[n>>2]|0;d[n>>2]=T+4;d[T>>2]=_;break}case 3:{T=f[m>>0]|0;v=(T&1)==0;if((v?(T&255)>>>1:d[N>>2]|0)|0){_=d[(v?N:d[L>>2]|0)>>2]|0;T=d[n>>2]|0;d[n>>2]=T+4;d[T>>2]=_}break}case 2:{S=f[p>>0]|0;v=(S&1)==0;S=v?(S&255)>>>1:d[A>>2]|0;if(!(O|(S|0)==0)){v=v?A:d[I>>2]|0;b=v+(S<<2)|0;w=d[n>>2]|0;if(S){y=w;while(1){d[y>>2]=d[v>>2];v=v+4|0;if((v|0)==(b|0))break;else y=y+4|0}}d[n>>2]=w+(S<<2)}break}case 4:{v=d[n>>2]|0;i=s?i+4|0:i;e:do{if(i>>>0<a>>>0){y=i;do{if(!(w_[d[(d[o>>2]|0)+12>>2]&63](o,2048,d[y>>2]|0)|0))break e;y=y+4|0}while(y>>>0<a>>>0)}else y=i}while(0);if(M){if(y>>>0>i>>>0&k){S=d[n>>2]|0;w=g;while(1){y=y+-4|0;b=S+4|0;d[S>>2]=d[y>>2];x=w+-1|0;w=(w|0)>1;if(y>>>0>i>>>0&w){S=b;w=x}else{S=x;break}}d[n>>2]=b;b=S}else{w=k;b=g}if(w)x=E_[d[(d[o>>2]|0)+44>>2]&63](o,48)|0;else x=0;_=d[n>>2]|0;w=b+((b|0)<0?~b:-1)|0;if((b|0)>0){S=_;while(1){d[S>>2]=x;if((b|0)>1){S=S+4|0;b=b+-1|0}else break}}d[n>>2]=_+(w+2<<2);d[_+(w+1<<2)>>2]=l}if((y|0)==(i|0)){_=E_[d[(d[o>>2]|0)+44>>2]&63](o,48)|0;T=d[n>>2]|0;y=T+4|0;d[n>>2]=y;d[T>>2]=_}else{_=f[h>>0]|0;b=(_&1)==0;T=d[D>>2]|0;if(!((b?(_&255)>>>1:T)|0))b=-1;else b=f[(b?P:d[R>>2]|0)>>0]|0;if((y|0)!=(i|0)){x=0;_=0;while(1){w=d[n>>2]|0;if((_|0)==(b|0)){S=w+4|0;d[n>>2]=S;d[w>>2]=c;x=x+1|0;w=f[h>>0]|0;b=(w&1)==0;if(x>>>0<(b?(w&255)>>>1:T)>>>0){b=f[(b?P:d[R>>2]|0)+x>>0]|0;w=S;b=b<<24>>24==127?-1:b<<24>>24;S=0}else{w=S;b=_;S=0}}else S=_;y=y+-4|0;_=d[y>>2]|0;d[n>>2]=w+4;d[w>>2]=_;if((y|0)==(i|0))break;else _=S+1|0}}y=d[n>>2]|0}if((v|0)!=(y|0)?(C=y+-4|0,v>>>0<C>>>0):0){y=C;do{T=d[v>>2]|0;d[v>>2]=d[y>>2];d[y>>2]=T;v=v+4|0;y=y+-4|0}while(v>>>0<y>>>0)}break}default:{}}E=E+1|0}while((E|0)!=4);v=f[m>>0]|0;i=(v&1)==0;v=i?(v&255)>>>1:d[N>>2]|0;if(v>>>0>1){y=i?N:d[L>>2]|0;i=y+4|0;y=y+(v<<2)|0;b=d[n>>2]|0;w=y-i|0;if((v|0)!=1){v=b;while(1){d[v>>2]=d[i>>2];i=i+4|0;if((i|0)==(y|0))break;else v=v+4|0}}d[n>>2]=b+(w>>>2<<2)}switch(r&176|0){case 32:{d[t>>2]=d[n>>2];break}case 16:break;default:d[t>>2]=e}return}function Sc(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0,D=0;T=w;w=w+480|0;p=T+468|0;C=T+464|0;x=T+472|0;y=T+56|0;_=T+52|0;A=T+40|0;I=T+28|0;O=T+16|0;l=T+12|0;h=T+64|0;S=T+8|0;b=T+4|0;m=T;e=vd(r)|0;d[C>>2]=e;k=0;g=Oe(37,C|0,44212)|0;v=k;k=0;do{if(v&1)M=13;else{c=f[a>>0]|0;o=(c&1)==0;v=a+4|0;if(!((o?(c&255)>>>1:d[v>>2]|0)|0))c=0;else{o=d[(o?v:d[a+8>>2]|0)>>2]|0;k=0;s=Oe(d[(d[g>>2]|0)+44>>2]|0,g|0,45)|0;c=k;k=0;if(c&1){M=13;break}c=(o|0)==(s|0)}d[A>>2]=0;d[A+4>>2]=0;d[A+8>>2]=0;d[I>>2]=0;d[I+4>>2]=0;d[I+8>>2]=0;d[O>>2]=0;d[O+4>>2]=0;d[O+8>>2]=0;k=0;Ae(4,n|0,c|0,C|0,x|0,y|0,_|0,A|0,I|0,O|0,l|0);u=k;k=0;if(!(u&1)){u=f[a>>0]|0;n=d[v>>2]|0;o=(u&1)==0?(u&255)>>>1:n;l=d[l>>2]|0;if((o|0)>(l|0)){D=f[O>>0]|0;s=f[I>>0]|0;o=(o-l<<1|1)+l+((D&1)==0?(D&255)>>>1:d[O+4>>2]|0)+((s&1)==0?(s&255)>>>1:d[I+4>>2]|0)|0}else{D=f[O>>0]|0;o=f[I>>0]|0;o=l+2+((D&1)==0?(D&255)>>>1:d[O+4>>2]|0)+((o&1)==0?(o&255)>>>1:d[I+4>>2]|0)|0}if(o>>>0>100){o=Uf(o<<2)|0;s=o;if(!o){k=0;Ne(6);D=k;k=0;if(!(D&1)){u=f[a>>0]|0;n=d[v>>2]|0;o=0;M=17}}else M=17}else{s=0;o=h;M=17}if((M|0)==17){D=(u&1)==0;a=D?v:d[a+8>>2]|0;k=0;Ee(2,o|0,S|0,b|0,d[r+4>>2]|0,a|0,a+((D?(u&255)>>>1:n)<<2)|0,g|0,c|0,x|0,d[y>>2]|0,d[_>>2]|0,A|0,I|0,O|0,l|0);D=k;k=0;if(!(D&1)?(d[m>>2]=d[t>>2],D=d[S>>2]|0,E=d[b>>2]|0,k=0,d[p>>2]=d[m>>2],E=Se(40,p|0,o|0,D|0,E|0,r|0,i|0)|0,D=k,k=0,!(D&1)):0){if(s){jf(s);e=d[C>>2]|0}rd(O);rd(I);Gh(A);Th(e)|0;w=T;return E|0}}o=Ze()|0;if(s){jf(s);e=d[C>>2]|0}}else o=Ze()|0;rd(O);rd(I);Gh(A)}}while(0);if((M|0)==13)o=Ze()|0;Th(e)|0;ut(o|0);return 0}function xc(e){e=e|0;return}function _c(e){e=e|0;Hw(e);return}function Tc(e,t,n){e=e|0;t=t|0;n=n|0;e=ex((f[t>>0]&1)==0?t+1|0:d[t+8>>2]|0,1)|0;return e>>>((e|0)!=(-1|0)&1)|0}function Ec(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0;s=w;w=w+16|0;u=s;d[u>>2]=0;d[u+4>>2]=0;d[u+8>>2]=0;o=f[a>>0]|0;l=(o&1)==0;t=l?a+1|0:d[a+8>>2]|0;o=l?(o&255)>>>1:d[a+4>>2]|0;a=t+o|0;e:do{if((o|0)>0){while(1){k=0;we(67,u|0,f[t>>0]|0);l=k;k=0;if(l&1)break;t=t+1|0;if(t>>>0>=a>>>0){o=4;break e}}t=Ze()|0;o=7}else o=4}while(0);e:do{if((o|0)==4){k=0;t=Re(19,((n|0)==-1?-1:n<<1)|0,r|0,i|0,((f[u>>0]&1)==0?u+1|0:d[u+8>>2]|0)|0)|0;l=k;k=0;if(l&1){t=Ze()|0;o=7;break}d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;l=n_(t)|0;a=t+l|0;t:do{if((l|0)>0){while(1){k=0;we(67,e|0,f[t>>0]|0);l=k;k=0;if(l&1)break;t=t+1|0;if(t>>>0>=a>>>0)break t}t=Ze()|0;Gh(e);break e}}while(0);Gh(u);w=s;return}}while(0);Gh(u);ut(t|0)}function kc(e,t){e=e|0;t=t|0;return}function Cc(e){e=e|0;return}function Ac(e){e=e|0;Hw(e);return}function Oc(e,t,n){e=e|0;t=t|0;n=n|0;e=ex((f[t>>0]&1)==0?t+1|0:d[t+8>>2]|0,1)|0;return e>>>((e|0)!=(-1|0)&1)|0}function Ic(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;S=w;w=w+224|0;h=S+184|0;c=S+192|0;l=S+180|0;p=S+176|0;y=S+168|0;v=S+40|0;g=S+32|0;b=S+28|0;x=S+16|0;u=S+8|0;m=S;d[x>>2]=0;d[x+4>>2]=0;d[x+8>>2]=0;d[u+4>>2]=0;d[u>>2]=44696;s=f[a>>0]|0;_=(s&1)==0;o=a+4|0;t=_?o:d[a+8>>2]|0;a=_?(s&255)>>>1:d[o>>2]|0;o=t+(a<<2)|0;s=c+32|0;e:do{if((a|0)>0){t:while(1){d[p>>2]=t;k=0;a=Le(d[(d[u>>2]|0)+12>>2]|0,u|0,h|0,t|0,o|0,p|0,c|0,s|0,l|0)|0;_=k;k=0;if(_&1){a=12;break}if((a|0)==2?1:(d[p>>2]|0)==(t|0)){a=5;break}if(c>>>0<(d[l>>2]|0)>>>0){t=c;do{k=0;we(67,x|0,f[t>>0]|0);_=k;k=0;if(_&1){a=11;break t}t=t+1|0}while(t>>>0<(d[l>>2]|0)>>>0)}t=d[p>>2]|0;if(!((a|0)!=2&t>>>0<o>>>0)){a=9;break e}}if((a|0)==5){k=0;be(190,58955);k=0;t=Ze()|0}else if((a|0)==11)t=Ze()|0;else if((a|0)==12)t=Ze()|0}else a=9}while(0);e:do{if((a|0)==9){k=0;t=Re(19,((n|0)==-1?-1:n<<1)|0,r|0,i|0,((f[x>>0]&1)==0?x+1|0:d[x+8>>2]|0)|0)|0;_=k;k=0;if(_&1){t=Ze()|0;break}d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[m+4>>2]=0;d[m>>2]=44744;_=n_(t)|0;o=t+_|0;s=o;u=v+128|0;t:do{if((_|0)>0){n:while(1){d[b>>2]=t;k=0;a=Le(d[(d[m>>2]|0)+16>>2]|0,m|0,y|0,t|0,((s-t|0)>32?t+32|0:o)|0,b|0,v|0,u|0,g|0)|0;_=k;k=0;if(_&1){a=24;break}if((a|0)==2?1:(d[b>>2]|0)==(t|0)){a=18;break}if(v>>>0<(d[g>>2]|0)>>>0){t=v;do{k=0;we(92,e|0,d[t>>2]|0);_=k;k=0;if(_&1){a=23;break n}t=t+4|0}while(t>>>0<(d[g>>2]|0)>>>0)}t=d[b>>2]|0;if(!((a|0)!=2&t>>>0<o>>>0))break t}if((a|0)==18){k=0;be(190,58955);k=0;t=Ze()|0}else if((a|0)==23)t=Ze()|0;else if((a|0)==24)t=Ze()|0;rd(e);break e}}while(0);Gh(x);w=S;return}}while(0);Gh(x);ut(t|0)}function Mc(e,t){e=e|0;t=t|0;return}function Dc(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0;d[e+4>>2]=t+-1;d[e>>2]=44196;a=e+8|0;k=0;we(94,a|0,28);i=k;k=0;if(i&1)t=Ze()|0;else{i=e+144|0;k=0;Pe(5,i|0,58885,1);r=k;k=0;if(r&1)t=Ze()|0;else{n=d[a>>2]|0;r=e+12|0;t=d[r>>2]|0;if((t|0)!=(n|0)){do{t=t+-4|0}while((t|0)!=(n|0));d[r>>2]=t}d[495]=0;d[494]=43124;k=0;we(95,e|0,1976);r=k;k=0;do{if(((((((((((((!(r&1)?(d[497]=0,d[496]=43164,k=0,we(96,e|0,1984),r=k,k=0,!(r&1)):0)?(d[499]=0,d[498]=44236,d[500]=0,f[2004]=0,r=Zc()|0,d[500]=r,k=0,we(97,e|0,1992),r=k,k=0,!(r&1)):0)?(d[503]=0,d[502]=44484,k=0,we(98,e|0,2008),r=k,k=0,!(r&1)):0)?(d[505]=0,d[504]=44552,k=0,we(99,e|0,2016),r=k,k=0,!(r&1)):0)?(k=0,we(100,2024,1),r=k,k=0,!(r&1)):0)?(k=0,we(101,e|0,2024),r=k,k=0,!(r&1)):0)?(d[511]=0,d[510]=44600,k=0,we(102,e|0,2040),r=k,k=0,!(r&1)):0)?(d[513]=0,d[512]=44648,k=0,we(103,e|0,2048),r=k,k=0,!(r&1)):0)?(mg(2056,1),k=0,we(104,e|0,2056),r=k,k=0,!(r&1)):0)?(gg(2080,1),k=0,we(105,e|0,2080),r=k,k=0,!(r&1)):0)?(d[529]=0,d[528]=43204,k=0,we(106,e|0,2112),r=k,k=0,!(r&1)):0)?(d[531]=0,d[530]=43276,k=0,we(107,e|0,2120),r=k,k=0,!(r&1)):0)?(d[533]=0,d[532]=43348,k=0,we(108,e|0,2128),r=k,k=0,!(r&1)):0){d[535]=0;d[534]=43408;k=0;we(109,e|0,2136);r=k;k=0;if(r&1){o=42;break}d[537]=0;d[536]=43716;k=0;we(110,e|0,2144);r=k;k=0;if(r&1){o=42;break}d[539]=0;d[538]=43780;k=0;we(111,e|0,2152);r=k;k=0;if(r&1){o=42;break}d[541]=0;d[540]=43844;k=0;we(112,e|0,2160);r=k;k=0;if(r&1){o=42;break}d[543]=0;d[542]=43908;k=0;we(113,e|0,2168);r=k;k=0;if(r&1){o=42;break}d[545]=0;d[544]=43972;k=0;we(114,e|0,2176);r=k;k=0;if(r&1){o=42;break}d[547]=0;d[546]=44008;k=0;we(115,e|0,2184);r=k;k=0;if(r&1){o=42;break}d[549]=0;d[548]=44044;k=0;we(116,e|0,2192);r=k;k=0;if(r&1){o=42;break}d[551]=0;d[550]=44080;k=0;we(117,e|0,2200);r=k;k=0;if(r&1){o=42;break}d[553]=0;d[552]=43468;d[554]=43516;k=0;we(118,e|0,2208);r=k;k=0;if(r&1){o=42;break}d[557]=0;d[556]=43560;d[558]=43608;k=0;we(119,e|0,2224);r=k;k=0;if(r&1){o=42;break}d[561]=0;d[560]=44464;k=0;t=De(3)|0;r=k;k=0;if(r&1){t=Ze()|0;break}d[562]=t;d[560]=43652;k=0;we(120,e|0,2240);r=k;k=0;if(r&1){o=42;break}d[565]=0;d[564]=44464;k=0;t=De(3)|0;r=k;k=0;if(r&1){t=Ze()|0;break}d[566]=t;d[564]=43684;k=0;we(121,e|0,2256);o=k;k=0;if(o&1){o=42;break}d[569]=0;d[568]=44116;k=0;we(122,e|0,2272);o=k;k=0;if(o&1){o=42;break}d[571]=0;d[570]=44156;k=0;we(123,e|0,2280);o=k;k=0;if(o&1){o=42;break}return}else o=42}while(0);if((o|0)==42)t=Ze()|0;Gh(i)}$v(a)}ut(t|0)}function Rc(){var e=0;do{if((f[2288]|0)==0?(He(2288)|0)!=0:0){k=0;De(4)|0;e=k;k=0;if(e&1){e=Ze()|0;It(2288);ut(e|0)}else{d[11246]=44980;$e(2288);break}}}while(0);return d[11246]|0}function Pc(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;_h(t);i=e+8|0;r=d[i>>2]|0;do{if((d[e+12>>2]|0)-r>>2>>>0<=n>>>0){k=0;we(124,i|0,n+1|0);e=k;k=0;if(!(e&1)){r=d[i>>2]|0;break}r=Ze()|0;if(t)Th(t)|0;ut(r|0)}}while(0);e=d[r+(n<<2)>>2]|0;if(e){Th(e)|0;r=d[i>>2]|0}d[r+(n<<2)>>2]=t;return}function Nc(e){e=e|0;var t=0,n=0,r=0,i=0;d[e>>2]=44196;r=e+8|0;i=e+12|0;t=d[r>>2]|0;if((d[i>>2]|0)!=(t|0)){n=0;do{t=d[t+(n<<2)>>2]|0;if(t)Th(t)|0;n=n+1|0;t=d[r>>2]|0}while(n>>>0<(d[i>>2]|0)-t>>2>>>0)}Gh(e+144|0);$v(r);return}function Lc(e){e=e|0;Nc(e);Hw(e);return}function Fc(e,t){e=e|0;t=t|0;if(ty(e,t)|0)return d[(d[e+8>>2]|0)+(t<<2)>>2]|0;else{e=Ke(4)|0;aS(e);_t(e|0,640,82)}return 0}function Bc(){Dc(2296,1);d[11245]=2296;return 44980}function zc(){var e=0;e=Rc()|0;e=d[e>>2]|0;d[11247]=e;_h(e);return 44988}function Uc(){var e=0;do{if((f[2456]|0)==0?(He(2456)|0)!=0:0){k=0;De(5)|0;e=k;k=0;if(e&1){e=Ze()|0;It(2456);ut(e|0)}else{d[11248]=44988;$e(2456);break}}}while(0);return d[11248]|0}function jc(e){e=e|0;var t=0,n=0;k=0;t=De(6)|0;n=k;k=0;if(n&1){n=Ze(0)|0;Xt(n)}else{n=d[t>>2]|0;d[e>>2]=n;_h(n);return}}function Vc(e,t){e=e|0;t=t|0;t=d[t>>2]|0;d[e>>2]=t;_h(t);return}function Gc(e){e=e|0;Th(d[e>>2]|0)|0;return}function Wc(e){e=e|0;var t=0,n=0;n=w;w=w+16|0;t=n;if((d[e>>2]|0)!=-1){d[t>>2]=e;d[t+4>>2]=191;d[t+8>>2]=0;zh(e,t,192)}w=n;return(d[e+4>>2]|0)+-1|0}function Hc(e,t){e=e|0;t=t|0;e=d[e>>2]|0;return Fc(e,Wc(t)|0)|0}function qc(e){e=e|0;Hw(e);return}function Qc(e){e=e|0;if(e)m_[d[(d[e>>2]|0)+4>>2]&255](e);return}function Xc(e){e=e|0;var t=0;t=d[11052]|0;d[11052]=t+1;d[e+4>>2]=t+1;return}function Yc(e){e=e|0;Hw(e);return}function Kc(e,t,n){e=e|0;t=t|0;n=n|0;if(n>>>0<128){n=(Zc()|0)+(n<<1)|0;n=(h[n>>1]&t)<<16>>16!=0}else n=0;return n|0}function Zc(){var e=0,t=0;k=0;e=De(7)|0;t=k;k=0;if(t&1){t=Ze(0)|0;Xt(t)}else return d[e>>2]|0;return 0}function Jc(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;a=(n-t|0)>>>2;if((t|0)!=(n|0)){i=t;while(1){e=d[i>>2]|0;if(e>>>0<128){e=(Zc()|0)+(e<<1)|0;e=m[e>>1]|0}else e=0;h[r>>1]=e;i=i+4|0;if((i|0)==(n|0))break;else r=r+2|0}}return t+(a<<2)|0}function $c(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;e:do{if((n|0)==(r|0))n=r;else while(1){e=d[n>>2]|0;if(e>>>0<128?(e=(Zc()|0)+(e<<1)|0,(h[e>>1]&t)<<16>>16!=0):0)break e;n=n+4|0;if((n|0)==(r|0)){n=r;break}}}while(0);return n|0}function ef(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;e:do{if((n|0)==(r|0))n=r;else while(1){e=d[n>>2]|0;if(e>>>0>=128)break e;e=(Zc()|0)+(e<<1)|0;if(!((h[e>>1]&t)<<16>>16))break e;n=n+4|0;if((n|0)==(r|0)){n=r;break}}}while(0);return n|0}function tf(e,t){e=e|0;t=t|0;if(t>>>0<128){t=(nf()|0)+(t<<2)|0;t=d[t>>2]|0}return t|0}function nf(){var e=0,t=0;k=0;e=De(8)|0;t=k;k=0;if(t&1){t=Ze(0)|0;Xt(t)}else return d[e>>2]|0;return 0}function rf(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;i=(n-t|0)>>>2;if((t|0)!=(n|0)){r=t;do{e=d[r>>2]|0;if(e>>>0<128){e=(nf()|0)+(e<<2)|0;e=d[e>>2]|0}d[r>>2]=e;r=r+4|0}while((r|0)!=(n|0))}return t+(i<<2)|0}function af(e,t){e=e|0;t=t|0;if(t>>>0<128){t=(of()|0)+(t<<2)|0;t=d[t>>2]|0}return t|0}function of(){var e=0,t=0;k=0;e=De(9)|0;t=k;k=0;if(t&1){t=Ze(0)|0;Xt(t)}else return d[e>>2]|0;return 0}function sf(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;i=(n-t|0)>>>2;if((t|0)!=(n|0)){r=t;do{e=d[r>>2]|0;if(e>>>0<128){e=(of()|0)+(e<<2)|0;e=d[e>>2]|0}d[r>>2]=e;r=r+4|0}while((r|0)!=(n|0))}return t+(i<<2)|0}function uf(e,t){e=e|0;t=t|0;return t<<24>>24|0}function lf(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;if((t|0)!=(n|0))while(1){d[r>>2]=f[t>>0];t=t+1|0;if((t|0)==(n|0))break;else r=r+4|0}return n|0}function cf(e,t,n){e=e|0;t=t|0;n=n|0;return(t>>>0<128?t&255:n)|0}function ff(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0;o=(n-t|0)>>>2;if((t|0)!=(n|0)){a=t;e=i;while(1){i=d[a>>2]|0;f[e>>0]=i>>>0<128?i&255:r;a=a+4|0;if((a|0)==(n|0))break;else e=e+1|0}}return t+(o<<2)|0}function hf(e){e=e|0;var t=0;d[e>>2]=44236;t=d[e+8>>2]|0;if((t|0)!=0?(f[e+12>>0]|0)!=0:0)qw(t);return}function df(e){e=e|0;hf(e);Hw(e);return}function pf(e,t){e=e|0;t=t|0;if(t<<24>>24>-1){t=(nf()|0)+((t&255)<<2)|0;t=d[t>>2]&255}return t|0}function mf(e,t,n){e=e|0;t=t|0;n=n|0;if((t|0)!=(n|0)){e=t;do{t=f[e>>0]|0;if(t<<24>>24>-1){t=(nf()|0)+(t<<24>>24<<2)|0;t=d[t>>2]&255}f[e>>0]=t;e=e+1|0}while((e|0)!=(n|0))}return n|0}function gf(e,t){e=e|0;t=t|0;if(t<<24>>24>-1){t=(of()|0)+(t<<24>>24<<2)|0;t=d[t>>2]&255}return t|0}function vf(e,t,n){e=e|0;t=t|0;n=n|0;if((t|0)!=(n|0)){e=t;do{t=f[e>>0]|0;if(t<<24>>24>-1){t=(of()|0)+(t<<24>>24<<2)|0;t=d[t>>2]&255}f[e>>0]=t;e=e+1|0}while((e|0)!=(n|0))}return n|0}function yf(e,t){e=e|0;t=t|0;return t|0}function bf(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;if((t|0)!=(n|0))while(1){f[r>>0]=f[t>>0]|0;t=t+1|0;if((t|0)==(n|0))break;else r=r+1|0}return n|0}function wf(e,t,n){e=e|0;t=t|0;n=n|0;return(t<<24>>24>-1?t:n)|0}function Sf(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;if((t|0)!=(n|0))while(1){e=f[t>>0]|0;f[i>>0]=e<<24>>24>-1?e:r;t=t+1|0;if((t|0)==(n|0))break;else i=i+1|0}return n|0}function xf(e){e=e|0;Hw(e);return}function _f(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;d[i>>2]=n;d[s>>2]=a;return 3}function Tf(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;d[i>>2]=n;d[s>>2]=a;return 3}function Ef(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;d[i>>2]=n;return 3}function kf(e){e=e|0;return 1}function Cf(e){e=e|0;return 1}function Af(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;e=r-n|0;return(e>>>0<i>>>0?e:i)|0}function Of(e){e=e|0;return 1}function If(e,t){e=e|0;t=t|0;var n=0;d[e+4>>2]=t+-1;d[e>>2]=44304;k=0;t=De(3)|0;n=k;k=0;if(n&1){n=Ze()|0;ut(n|0)}else{d[e+8>>2]=t;return}}function Mf(e){e=e|0;qg(e);Hw(e);return}function Df(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0.0,c=0,m=0,g=0,v=0,b=0.0,S=0,_=0,T=0,E=0,k=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0,P=0,N=0,L=0,F=0,B=0,z=0,U=0,V=0,G=0,W=0,H=0,q=0,Q=0,X=0,Y=0,K=0,Z=0,J=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0;oe=w;w=w+624|0;te=oe+24|0;re=oe+16|0;ne=oe+588|0;K=oe+576|0;ee=oe;Q=oe+536|0;ae=oe+8|0;ie=oe+528|0;F=(e|0)!=0;B=Q+40|0;q=B;Q=Q+39|0;X=ae+4|0;Y=K+12|0;K=K+11|0;Z=ne;J=Y;$=J-Z|0;z=-2-Z|0;U=J+2|0;V=te+288|0;G=ne+9|0;W=G;H=ne+8|0;a=0;S=t;o=0;t=0;e:while(1){do{if((a|0)>-1)if((o|0)>(2147483647-a|0)){a=HS()|0;d[a>>2]=75;a=-1;break}else{a=o+a|0;break}}while(0);o=f[S>>0]|0;if(!(o<<24>>24)){L=245;break}else s=S;t:while(1){switch(o<<24>>24){case 37:{o=s;L=9;break t}case 0:{o=s;break t}default:{}}N=s+1|0;o=f[N>>0]|0;s=N}t:do{if((L|0)==9)while(1){L=0;if((f[o+1>>0]|0)!=37)break t;s=s+1|0;o=o+2|0;if((f[o>>0]|0)==37)L=9;else break}}while(0);T=s-S|0;if(F?(d[e>>2]&32|0)==0:0)Bx(S,T,e)|0;if((s|0)!=(S|0)){S=o;o=T;continue}c=o+1|0;s=f[c>>0]|0;u=(s<<24>>24)+-48|0;if(u>>>0<10){N=(f[o+2>>0]|0)==36;c=N?o+3|0:c;s=f[c>>0]|0;v=N?u:-1;t=N?1:t}else v=-1;o=s<<24>>24;t:do{if((o&-32|0)==32){u=0;while(1){if(!(1<<o+-32&75913)){m=u;o=c;break t}u=1<<(s<<24>>24)+-32|u;c=c+1|0;s=f[c>>0]|0;o=s<<24>>24;if((o&-32|0)!=32){m=u;o=c;break}}}else{m=0;o=c}}while(0);do{if(s<<24>>24==42){u=o+1|0;s=(f[u>>0]|0)+-48|0;if(s>>>0<10?(f[o+2>>0]|0)==36:0){d[i+(s<<2)>>2]=10;t=1;o=o+3|0;s=d[r+((f[u>>0]|0)+-48<<3)>>2]|0}else{if(t){a=-1;break e}if(!F){_=m;o=u;t=0;N=0;break}t=(d[n>>2]|0)+(4-1)&~(4-1);s=d[t>>2]|0;d[n>>2]=t+4;t=0;o=u}if((s|0)<0){_=m|8192;N=0-s|0}else{_=m;N=s}}else{u=(s<<24>>24)+-48|0;if(u>>>0<10){s=0;do{s=(s*10|0)+u|0;o=o+1|0;u=(f[o>>0]|0)+-48|0}while(u>>>0<10);if((s|0)<0){a=-1;break e}else{_=m;N=s}}else{_=m;N=0}}}while(0);t:do{if((f[o>>0]|0)==46){u=o+1|0;s=f[u>>0]|0;if(s<<24>>24!=42){c=(s<<24>>24)+-48|0;if(c>>>0<10){o=u;s=0}else{o=u;c=0;break}while(1){s=(s*10|0)+c|0;o=o+1|0;c=(f[o>>0]|0)+-48|0;if(c>>>0>=10){c=s;break t}}}u=o+2|0;s=(f[u>>0]|0)+-48|0;if(s>>>0<10?(f[o+3>>0]|0)==36:0){d[i+(s<<2)>>2]=10;o=o+4|0;c=d[r+((f[u>>0]|0)+-48<<3)>>2]|0;break}if(t){a=-1;break e}if(F){o=(d[n>>2]|0)+(4-1)&~(4-1);c=d[o>>2]|0;d[n>>2]=o+4;o=u}else{o=u;c=0}}else c=-1}while(0);g=0;while(1){s=(f[o>>0]|0)+-65|0;if(s>>>0>57){a=-1;break e}u=o+1|0;s=f[56223+(g*58|0)+s>>0]|0;m=s&255;if((m+-1|0)>>>0<8){o=u;g=m}else{P=u;break}}if(!(s<<24>>24)){a=-1;break}u=(v|0)>-1;do{if(s<<24>>24==19){if(u){a=-1;break e}else L=52}else{if(u){d[i+(v<<2)>>2]=m;D=r+(v<<3)|0;R=d[D+4>>2]|0;L=ee;d[L>>2]=d[D>>2];d[L+4>>2]=R;L=52;break}if(!F){a=0;break e}Ff(ee,m,n)}}while(0);if((L|0)==52?(L=0,!F):0){S=P;o=T;continue}v=f[o>>0]|0;v=(g|0)!=0&(v&15|0)==3?v&-33:v;u=_&-65537;R=(_&8192|0)==0?_:u;t:do{switch(v|0){case 110:switch(g|0){case 0:{d[d[ee>>2]>>2]=a;S=P;o=T;continue e}case 1:{d[d[ee>>2]>>2]=a;S=P;o=T;continue e}case 2:{S=d[ee>>2]|0;d[S>>2]=a;d[S+4>>2]=((a|0)<0)<<31>>31;S=P;o=T;continue e}case 3:{h[d[ee>>2]>>1]=a;S=P;o=T;continue e}case 4:{f[d[ee>>2]>>0]=a;S=P;o=T;continue e}case 6:{d[d[ee>>2]>>2]=a;S=P;o=T;continue e}case 7:{S=d[ee>>2]|0;d[S>>2]=a;d[S+4>>2]=((a|0)<0)<<31>>31;S=P;o=T;continue e}default:{S=P;o=T;continue e}}case 112:{g=R|8;c=c>>>0>8?c:8;v=120;L=64;break}case 88:case 120:{g=R;L=64;break}case 111:{u=ee;s=d[u>>2]|0;u=d[u+4>>2]|0;if((s|0)==0&(u|0)==0)o=B;else{o=B;do{o=o+-1|0;f[o>>0]=s&7|48;s=Py(s|0,u|0,3)|0;u=j}while(!((s|0)==0&(u|0)==0))}if(!(R&8)){s=R;g=0;m=56703;L=77}else{g=q-o+1|0;s=R;c=(c|0)<(g|0)?g:c;g=0;m=56703;L=77}break}case 105:case 100:{s=ee;o=d[s>>2]|0;s=d[s+4>>2]|0;if((s|0)<0){o=My(0,0,o|0,s|0)|0;s=j;u=ee;d[u>>2]=o;d[u+4>>2]=s;u=1;m=56703;L=76;break t}if(!(R&2048)){m=R&1;u=m;m=(m|0)==0?56703:56705;L=76}else{u=1;m=56704;L=76}break}case 117:{s=ee;o=d[s>>2]|0;s=d[s+4>>2]|0;u=0;m=56703;L=76;break}case 99:{f[Q>>0]=d[ee>>2];S=Q;s=1;g=0;v=56703;o=B;break}case 109:{o=HS()|0;o=qS(d[o>>2]|0)|0;L=82;break}case 115:{o=d[ee>>2]|0;o=(o|0)!=0?o:56713;L=82;break}case 67:{d[ae>>2]=d[ee>>2];d[X>>2]=0;d[ee>>2]=ae;c=-1;L=86;break}case 83:{if(!c){zf(e,32,N,0,R);o=0;L=98}else L=86;break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{l=+y[ee>>3];d[re>>2]=0;y[x>>3]=l;if((d[x+4>>2]|0)>=0){if(!(R&2048)){D=R&1;M=D;D=(D|0)==0?56721:56726}else{M=1;D=56723}}else{l=-l;M=1;D=56720}y[x>>3]=l;I=d[x+4>>2]&2146435072;do{if(I>>>0<2146435072|(I|0)==2146435072&0<0){b=+fx(l,re)*2.0;s=b!=0.0;if(s)d[re>>2]=(d[re>>2]|0)+-1;A=v|32;if((A|0)==97){S=v&32;T=(S|0)==0?D:D+9|0;_=M|2;o=12-c|0;do{if(!(c>>>0>11|(o|0)==0)){l=8.0;do{o=o+-1|0;l=l*16.0}while((o|0)!=0);if((f[T>>0]|0)==45){l=-(l+(-b-l));break}else{l=b+l-l;break}}else l=b}while(0);s=d[re>>2]|0;o=(s|0)<0?0-s|0:s;o=Bf(o,((o|0)<0)<<31>>31,Y)|0;if((o|0)==(Y|0)){f[K>>0]=48;o=K}f[o+-1>>0]=(s>>31&2)+43;g=o+-2|0;f[g>>0]=v+15;m=(c|0)<1;u=(R&8|0)==0;s=ne;while(1){D=~~l;o=s+1|0;f[s>>0]=p[56687+D>>0]|S;l=(l-+(D|0))*16.0;do{if((o-Z|0)==1){if(u&(m&l==0.0))break;f[o>>0]=46;o=s+2|0}}while(0);if(!(l!=0.0))break;else s=o}c=(c|0)!=0&(z+o|0)<(c|0)?U+c-g|0:$-g+o|0;u=c+_|0;zf(e,32,N,u,R);if(!(d[e>>2]&32))Bx(T,_,e)|0;zf(e,48,N,u,R^65536);o=o-Z|0;if(!(d[e>>2]&32))Bx(ne,o,e)|0;s=J-g|0;zf(e,48,c-(o+s)|0,0,0);if(!(d[e>>2]&32))Bx(g,s,e)|0;zf(e,32,N,u,R^8192);o=(u|0)<(N|0)?N:u;break}o=(c|0)<0?6:c;if(s){s=(d[re>>2]|0)+-28|0;d[re>>2]=s;l=b*268435456.0}else{l=b;s=d[re>>2]|0}I=(s|0)<0?te:V;O=I;s=I;do{C=~~l>>>0;d[s>>2]=C;s=s+4|0;l=(l-+(C>>>0))*1.0e9}while(l!=0.0);u=s;s=d[re>>2]|0;if((s|0)>0){m=I;while(1){g=(s|0)>29?29:s;c=u+-4|0;do{if(c>>>0<m>>>0)c=m;else{s=0;do{C=Ly(d[c>>2]|0,0,g|0)|0;C=Ry(C|0,j|0,s|0,0)|0;s=j;k=Hy(C|0,s|0,1e9,0)|0;d[c>>2]=k;s=Wy(C|0,s|0,1e9,0)|0;c=c+-4|0}while(c>>>0>=m>>>0);if(!s){c=m;break}c=m+-4|0;d[c>>2]=s}}while(0);while(1){if(u>>>0<=c>>>0)break;s=u+-4|0;if(!(d[s>>2]|0))u=s;else break}s=(d[re>>2]|0)-g|0;d[re>>2]=s;if((s|0)>0)m=c;else break}}else c=I;if((s|0)<0){T=((o+25|0)/9|0)+1|0;E=(A|0)==102;S=c;while(1){_=0-s|0;_=(_|0)>9?9:_;do{if(S>>>0<u>>>0){s=(1<<_)+-1|0;m=1e9>>>_;c=0;g=S;do{C=d[g>>2]|0;d[g>>2]=(C>>>_)+c;c=fe(C&s,m)|0;g=g+4|0}while(g>>>0<u>>>0);s=(d[S>>2]|0)==0?S+4|0:S;if(!c){c=s;break}d[u>>2]=c;c=s;u=u+4|0}else c=(d[S>>2]|0)==0?S+4|0:S}while(0);s=E?I:c;u=(u-s>>2|0)>(T|0)?s+(T<<2)|0:u;s=(d[re>>2]|0)+_|0;d[re>>2]=s;if((s|0)>=0){S=c;break}else S=c}}else S=c;do{if(S>>>0<u>>>0){s=(O-S>>2)*9|0;m=d[S>>2]|0;if(m>>>0<10)break;else c=10;do{c=c*10|0;s=s+1|0}while(m>>>0>=c>>>0)}else s=0}while(0);k=(A|0)==103;C=(o|0)!=0;c=o-((A|0)!=102?s:0)+((C&k)<<31>>31)|0;if((c|0)<(((u-O>>2)*9|0)+-9|0)){g=c+9216|0;E=(g|0)/9|0;c=I+(E+-1023<<2)|0;g=((g|0)%9|0)+1|0;if((g|0)<9){m=10;do{m=m*10|0;g=g+1|0}while((g|0)!=9)}else m=10;_=d[c>>2]|0;T=(_>>>0)%(m>>>0)|0;if((T|0)==0?(I+(E+-1022<<2)|0)==(u|0):0)m=S;else L=163;do{if((L|0)==163){L=0;b=(((_>>>0)/(m>>>0)|0)&1|0)==0?9007199254740992.0:9007199254740994.0;g=(m|0)/2|0;do{if(T>>>0<g>>>0)l=.5;else{if((T|0)==(g|0)?(I+(E+-1022<<2)|0)==(u|0):0){l=1.0;break}l=1.5}}while(0);do{if(M){if((f[D>>0]|0)!=45)break;b=-b;l=-l}}while(0);g=_-T|0;d[c>>2]=g;if(!(b+l!=b)){m=S;break}A=g+m|0;d[c>>2]=A;if(A>>>0>999999999){s=S;while(1){m=c+-4|0;d[c>>2]=0;if(m>>>0<s>>>0){s=s+-4|0;d[s>>2]=0}A=(d[m>>2]|0)+1|0;d[m>>2]=A;if(A>>>0>999999999)c=m;else{S=s;c=m;break}}}s=(O-S>>2)*9|0;g=d[S>>2]|0;if(g>>>0<10){m=S;break}else m=10;do{m=m*10|0;s=s+1|0}while(g>>>0>=m>>>0);m=S}}while(0);A=c+4|0;S=m;u=u>>>0>A>>>0?A:u}T=0-s|0;while(1){if(u>>>0<=S>>>0){E=0;A=u;break}c=u+-4|0;if(!(d[c>>2]|0))u=c;else{E=1;A=u;break}}do{if(k){o=(C&1^1)+o|0;if((o|0)>(s|0)&(s|0)>-5){v=v+-1|0;o=o+-1-s|0}else{v=v+-2|0;o=o+-1|0}u=R&8;if(u)break;do{if(E){u=d[A+-4>>2]|0;if(!u){c=9;break}if(!((u>>>0)%10|0)){m=10;c=0}else{c=0;break}do{m=m*10|0;c=c+1|0}while(((u>>>0)%(m>>>0)|0|0)==0)}else c=9}while(0);u=((A-O>>2)*9|0)+-9|0;if((v|32|0)==102){u=u-c|0;u=(u|0)<0?0:u;o=(o|0)<(u|0)?o:u;u=0;break}else{u=u+s-c|0;u=(u|0)<0?0:u;o=(o|0)<(u|0)?o:u;u=0;break}}else u=R&8}while(0);_=o|u;m=(_|0)!=0&1;g=(v|32|0)==102;if(g){s=(s|0)>0?s:0;v=0}else{c=(s|0)<0?T:s;c=Bf(c,((c|0)<0)<<31>>31,Y)|0;if((J-c|0)<2)do{c=c+-1|0;f[c>>0]=48}while((J-c|0)<2);f[c+-1>>0]=(s>>31&2)+43;O=c+-2|0;f[O>>0]=v;s=J-O|0;v=O}T=M+1+o+m+s|0;zf(e,32,N,T,R);if(!(d[e>>2]&32))Bx(D,M,e)|0;zf(e,48,N,T,R^65536);do{if(g){c=S>>>0>I>>>0?I:S;s=c;do{u=Bf(d[s>>2]|0,0,G)|0;do{if((s|0)==(c|0)){if((u|0)!=(G|0))break;f[H>>0]=48;u=H}else{if(u>>>0<=ne>>>0)break;do{u=u+-1|0;f[u>>0]=48}while(u>>>0>ne>>>0)}}while(0);if(!(d[e>>2]&32))Bx(u,W-u|0,e)|0;s=s+4|0}while(s>>>0<=I>>>0);do{if(_){if(d[e>>2]&32)break;Bx(56755,1,e)|0}}while(0);if((o|0)>0&s>>>0<A>>>0){u=s;while(1){s=Bf(d[u>>2]|0,0,G)|0;if(s>>>0>ne>>>0)do{s=s+-1|0;f[s>>0]=48}while(s>>>0>ne>>>0);if(!(d[e>>2]&32))Bx(s,(o|0)>9?9:o,e)|0;u=u+4|0;s=o+-9|0;if(!((o|0)>9&u>>>0<A>>>0)){o=s;break}else o=s}}zf(e,48,o+9|0,9,0)}else{g=E?A:S+4|0;if((o|0)>-1){m=(u|0)==0;c=S;do{s=Bf(d[c>>2]|0,0,G)|0;if((s|0)==(G|0)){f[H>>0]=48;s=H}do{if((c|0)==(S|0)){u=s+1|0;if(!(d[e>>2]&32))Bx(s,1,e)|0;if(m&(o|0)<1){s=u;break}if(d[e>>2]&32){s=u;break}Bx(56755,1,e)|0;s=u}else{if(s>>>0<=ne>>>0)break;do{s=s+-1|0;f[s>>0]=48}while(s>>>0>ne>>>0)}}while(0);u=W-s|0;if(!(d[e>>2]&32))Bx(s,(o|0)>(u|0)?u:o,e)|0;o=o-u|0;c=c+4|0}while(c>>>0<g>>>0&(o|0)>-1)}zf(e,48,o+18|0,18,0);if(d[e>>2]&32)break;Bx(v,J-v|0,e)|0}}while(0);zf(e,32,N,T,R^8192);o=(T|0)<(N|0)?N:T}else{g=(v&32|0)!=0;m=l!=l|0.0!=0.0;s=m?0:M;c=s+3|0;zf(e,32,N,c,u);o=d[e>>2]|0;if(!(o&32)){Bx(D,s,e)|0;o=d[e>>2]|0}if(!(o&32))Bx(m?g?56747:56751:g?56739:56743,3,e)|0;zf(e,32,N,c,R^8192);o=(c|0)<(N|0)?N:c}}while(0);S=P;continue e}default:{u=R;s=c;g=0;v=56703;o=B}}}while(0);t:do{if((L|0)==64){u=ee;s=d[u>>2]|0;u=d[u+4>>2]|0;m=v&32;if(!((s|0)==0&(u|0)==0)){o=B;do{o=o+-1|0;f[o>>0]=p[56687+(s&15)>>0]|m;s=Py(s|0,u|0,4)|0;u=j}while(!((s|0)==0&(u|0)==0));L=ee;if((g&8|0)==0|(d[L>>2]|0)==0&(d[L+4>>2]|0)==0){s=g;g=0;m=56703;L=77}else{s=g;g=2;m=56703+(v>>4)|0;L=77}}else{o=B;s=g;g=0;m=56703;L=77}}else if((L|0)==76){o=Bf(o,s,B)|0;s=R;g=u;L=77}else if((L|0)==82){L=0;R=Jx(o,0,c)|0;D=(R|0)==0;S=o;s=D?c:R-o|0;g=0;v=56703;o=D?o+c|0:R}else if((L|0)==86){L=0;s=0;o=0;m=d[ee>>2]|0;while(1){u=d[m>>2]|0;if(!u)break;o=_x(ie,u)|0;if((o|0)<0|o>>>0>(c-s|0)>>>0)break;s=o+s|0;if(c>>>0>s>>>0)m=m+4|0;else break}if((o|0)<0){a=-1;break e}zf(e,32,N,s,R);if(!s){o=0;L=98}else{u=0;c=d[ee>>2]|0;while(1){o=d[c>>2]|0;if(!o){o=s;L=98;break t}o=_x(ie,o)|0;u=o+u|0;if((u|0)>(s|0)){o=s;L=98;break t}if(!(d[e>>2]&32))Bx(ie,o,e)|0;if(u>>>0>=s>>>0){o=s;L=98;break}else c=c+4|0}}}}while(0);if((L|0)==98){L=0;zf(e,32,N,o,R^8192);S=P;o=(N|0)>(o|0)?N:o;continue}if((L|0)==77){L=0;u=(c|0)>-1?s&-65537:s;s=ee;s=(d[s>>2]|0)!=0|(d[s+4>>2]|0)!=0;if((c|0)!=0|s){s=(s&1^1)+(q-o)|0;S=o;s=(c|0)>(s|0)?c:s;v=m;o=B}else{S=B;s=0;v=m;o=B}}m=o-S|0;s=(s|0)<(m|0)?m:s;c=g+s|0;o=(N|0)<(c|0)?c:N;zf(e,32,o,c,u);if(!(d[e>>2]&32))Bx(v,g,e)|0;zf(e,48,o,c,u^65536);zf(e,48,s,m,0);if(!(d[e>>2]&32))Bx(S,m,e)|0;zf(e,32,o,c,u^8192);S=P}e:do{if((L|0)==245)if(!e)if(t){a=1;while(1){t=d[i+(a<<2)>>2]|0;if(!t)break;Ff(r+(a<<3)|0,t,n);a=a+1|0;if((a|0)>=10){a=1;break e}}if((a|0)<10)while(1){if(d[i+(a<<2)>>2]|0){a=-1;break e}a=a+1|0;if((a|0)>=10){a=1;break}}else a=1}else a=0}while(0);w=oe;return a|0}function Rf(e,t,n){e=e|0;t=t|0;n=n|0;return Dx(e,t,n)|0}function Pf(e,t,n){e=e|0;t=t|0;n=n|0;var r=0.0,i=0,a=0,o=0,s=0;s=w;w=w+112|0;o=s;i=o;a=i+112|0;do{d[i>>2]=0;i=i+4|0}while((i|0)<(a|0));i=o+4|0;d[i>>2]=e;a=o+8|0;d[a>>2]=-1;d[o+44>>2]=e;d[o+76>>2]=-1;YS(o,0);r=+QS(o,n,1);n=(d[i>>2]|0)-(d[a>>2]|0)+(d[o+108>>2]|0)|0;if(t)d[t>>2]=(n|0)!=0?e+n|0:e;w=s;return+r}function Nf(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0;u=w;w=w+112|0;s=u;d[s>>2]=0;a=s+4|0;d[a>>2]=e;d[s+44>>2]=e;o=s+8|0;d[o>>2]=(e|0)<0?-1:e+2147483647|0;d[s+76>>2]=-1;YS(s,0);r=XS(s,n,1,r,i)|0;if(t)d[t>>2]=e+((d[a>>2]|0)+(d[s+108>>2]|0)-(d[o>>2]|0));w=u;return r|0}function Lf(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;r=e+20|0;i=d[r>>2]|0;e=(d[e+16>>2]|0)-i|0;e=e>>>0>n>>>0?n:e;Ny(i|0,t|0,e|0)|0;d[r>>2]=(d[r>>2]|0)+e;return n|0}function Ff(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0.0;e:do{if(t>>>0<=20)do{switch(t|0){case 9:{r=(d[n>>2]|0)+(4-1)&~(4-1);t=d[r>>2]|0;d[n>>2]=r+4;d[e>>2]=t;break e}case 10:{r=(d[n>>2]|0)+(4-1)&~(4-1);t=d[r>>2]|0;d[n>>2]=r+4;r=e;d[r>>2]=t;d[r+4>>2]=((t|0)<0)<<31>>31;break e}case 11:{r=(d[n>>2]|0)+(4-1)&~(4-1);t=d[r>>2]|0;d[n>>2]=r+4;r=e;d[r>>2]=t;d[r+4>>2]=0;break e}case 12:{r=(d[n>>2]|0)+(8-1)&~(8-1);t=r;i=d[t>>2]|0;t=d[t+4>>2]|0;d[n>>2]=r+8;r=e;d[r>>2]=i;d[r+4>>2]=t;break e}case 13:{i=(d[n>>2]|0)+(4-1)&~(4-1);r=d[i>>2]|0;d[n>>2]=i+4;r=(r&65535)<<16>>16;i=e;d[i>>2]=r;d[i+4>>2]=((r|0)<0)<<31>>31;break e}case 14:{i=(d[n>>2]|0)+(4-1)&~(4-1);r=d[i>>2]|0;d[n>>2]=i+4;i=e;d[i>>2]=r&65535;d[i+4>>2]=0;break e}case 15:{i=(d[n>>2]|0)+(4-1)&~(4-1);r=d[i>>2]|0;d[n>>2]=i+4;r=(r&255)<<24>>24;i=e;d[i>>2]=r;d[i+4>>2]=((r|0)<0)<<31>>31;break e}case 16:{i=(d[n>>2]|0)+(4-1)&~(4-1);r=d[i>>2]|0;d[n>>2]=i+4;i=e;d[i>>2]=r&255;d[i+4>>2]=0;break e}case 17:{i=(d[n>>2]|0)+(8-1)&~(8-1);a=+y[i>>3];d[n>>2]=i+8;y[e>>3]=a;break e}case 18:{i=(d[n>>2]|0)+(8-1)&~(8-1);a=+y[i>>3];d[n>>2]=i+8;y[e>>3]=a;break e}default:break e}}while(0)}while(0);return}function Bf(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;if(t>>>0>0|(t|0)==0&e>>>0>4294967295)while(1){r=Hy(e|0,t|0,10,0)|0;n=n+-1|0;f[n>>0]=r|48;r=Wy(e|0,t|0,10,0)|0;if(t>>>0>9|(t|0)==9&e>>>0>4294967295){e=r;t=j}else{e=r;break}}if(e)while(1){n=n+-1|0;f[n>>0]=(e>>>0)%10|0|48;if(e>>>0<10)break;else e=(e>>>0)/10|0}return n|0}function zf(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0;s=w;w=w+256|0;o=s;do{if((n|0)>(r|0)&(i&73728|0)==0){i=n-r|0;Dy(o|0,t|0,(i>>>0>256?256:i)|0)|0;t=d[e>>2]|0;a=(t&32|0)==0;if(i>>>0>255){r=n-r|0;do{if(a){Bx(o,256,e)|0;t=d[e>>2]|0}i=i+-256|0;a=(t&32|0)==0}while(i>>>0>255);if(a)i=r&255;else break}else if(!a)break;Bx(o,i,e)|0}}while(0);w=s;return}function Uf(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,w=0,S=0,x=0,_=0,T=0,E=0,k=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0,P=0,N=0,L=0,F=0,B=0;do{if(e>>>0<245){p=e>>>0<11?16:e+11&-8;e=p>>>3;s=d[10218]|0;n=s>>>e;if(n&3){e=(n&1^1)+e|0;r=e<<1;n=40912+(r<<2)|0;r=40912+(r+2<<2)|0;i=d[r>>2]|0;a=i+8|0;o=d[a>>2]|0;do{if((n|0)!=(o|0)){if(o>>>0<(d[10222]|0)>>>0)We();t=o+12|0;if((d[t>>2]|0)==(i|0)){d[t>>2]=n;d[r>>2]=o;break}else We()}else d[10218]=s&~(1<<e)}while(0);B=e<<3;d[i+4>>2]=B|3;B=i+(B|4)|0;d[B>>2]=d[B>>2]|1;B=a;return B|0}o=d[10220]|0;if(p>>>0>o>>>0){if(n){r=2<<e;r=n<<e&(r|0-r);r=(r&0-r)+-1|0;u=r>>>12&16;r=r>>>u;i=r>>>5&8;r=r>>>i;a=r>>>2&4;r=r>>>a;n=r>>>1&2;r=r>>>n;e=r>>>1&1;e=(i|u|a|n|e)+(r>>>e)|0;r=e<<1;n=40912+(r<<2)|0;r=40912+(r+2<<2)|0;a=d[r>>2]|0;u=a+8|0;i=d[u>>2]|0;do{if((n|0)!=(i|0)){if(i>>>0<(d[10222]|0)>>>0)We();t=i+12|0;if((d[t>>2]|0)==(a|0)){d[t>>2]=n;d[r>>2]=i;l=d[10220]|0;break}else We()}else{d[10218]=s&~(1<<e);l=o}}while(0);B=e<<3;o=B-p|0;d[a+4>>2]=p|3;s=a+p|0;d[a+(p|4)>>2]=o|1;d[a+B>>2]=o;if(l){i=d[10223]|0;n=l>>>3;t=n<<1;r=40912+(t<<2)|0;e=d[10218]|0;n=1<<n;if(e&n){e=40912+(t+2<<2)|0;t=d[e>>2]|0;if(t>>>0<(d[10222]|0)>>>0)We();else{c=e;f=t}}else{d[10218]=e|n;c=40912+(t+2<<2)|0;f=r}d[c>>2]=i;d[f+12>>2]=i;d[i+8>>2]=f;d[i+12>>2]=r}d[10220]=o;d[10223]=s;B=u;return B|0}e=d[10219]|0;if(e){n=(e&0-e)+-1|0;F=n>>>12&16;n=n>>>F;L=n>>>5&8;n=n>>>L;B=n>>>2&4;n=n>>>B;e=n>>>1&2;n=n>>>e;r=n>>>1&1;r=d[41176+((L|F|B|e|r)+(n>>>r)<<2)>>2]|0;n=(d[r+4>>2]&-8)-p|0;e=r;while(1){t=d[e+16>>2]|0;if(!t){t=d[e+20>>2]|0;if(!t){u=n;break}}e=(d[t+4>>2]&-8)-p|0;B=e>>>0<n>>>0;n=B?e:n;e=t;r=B?t:r}a=d[10222]|0;if(r>>>0<a>>>0)We();s=r+p|0;if(r>>>0>=s>>>0)We();o=d[r+24>>2]|0;n=d[r+12>>2]|0;do{if((n|0)==(r|0)){e=r+20|0;t=d[e>>2]|0;if(!t){e=r+16|0;t=d[e>>2]|0;if(!t){h=0;break}}while(1){n=t+20|0;i=d[n>>2]|0;if(i){t=i;e=n;continue}n=t+16|0;i=d[n>>2]|0;if(!i)break;else{t=i;e=n}}if(e>>>0<a>>>0)We();else{d[e>>2]=0;h=t;break}}else{i=d[r+8>>2]|0;if(i>>>0<a>>>0)We();t=i+12|0;if((d[t>>2]|0)!=(r|0))We();e=n+8|0;if((d[e>>2]|0)==(r|0)){d[t>>2]=n;d[e>>2]=i;h=n;break}else We()}}while(0);do{if(o){t=d[r+28>>2]|0;e=41176+(t<<2)|0;if((r|0)==(d[e>>2]|0)){d[e>>2]=h;if(!h){d[10219]=d[10219]&~(1<<t);break}}else{if(o>>>0<(d[10222]|0)>>>0)We();t=o+16|0;if((d[t>>2]|0)==(r|0))d[t>>2]=h;else d[o+20>>2]=h;if(!h)break}e=d[10222]|0;if(h>>>0<e>>>0)We();d[h+24>>2]=o;t=d[r+16>>2]|0;do{if(t)if(t>>>0<e>>>0)We();else{d[h+16>>2]=t;d[t+24>>2]=h;break}}while(0);t=d[r+20>>2]|0;if(t)if(t>>>0<(d[10222]|0)>>>0)We();else{d[h+20>>2]=t;d[t+24>>2]=h;break}}}while(0);if(u>>>0<16){B=u+p|0;d[r+4>>2]=B|3;B=r+(B+4)|0;d[B>>2]=d[B>>2]|1}else{d[r+4>>2]=p|3;d[r+(p|4)>>2]=u|1;d[r+(u+p)>>2]=u;t=d[10220]|0;if(t){a=d[10223]|0;n=t>>>3;t=n<<1;i=40912+(t<<2)|0;e=d[10218]|0;n=1<<n;if(e&n){t=40912+(t+2<<2)|0;e=d[t>>2]|0;if(e>>>0<(d[10222]|0)>>>0)We();else{m=t;g=e}}else{d[10218]=e|n;m=40912+(t+2<<2)|0;g=i}d[m>>2]=a;d[g+12>>2]=a;d[a+8>>2]=g;d[a+12>>2]=i}d[10220]=u;d[10223]=s}B=r+8|0;return B|0}else g=p}else g=p}else if(e>>>0<=4294967231){e=e+11|0;f=e&-8;c=d[10219]|0;if(c){n=0-f|0;e=e>>>8;if(e){if(f>>>0>16777215)l=31;else{g=(e+1048320|0)>>>16&8;S=e<<g;m=(S+520192|0)>>>16&4;S=S<<m;l=(S+245760|0)>>>16&2;l=14-(m|g|l)+(S<<l>>>15)|0;l=f>>>(l+7|0)&1|l<<1}}else l=0;e=d[41176+(l<<2)>>2]|0;e:do{if(!e){i=0;e=0;S=86}else{o=n;i=0;s=f<<((l|0)==31?0:25-(l>>>1)|0);u=e;e=0;while(1){a=d[u+4>>2]&-8;n=a-f|0;if(n>>>0<o>>>0){if((a|0)==(f|0)){a=u;e=u;S=90;break e}else e=u}else n=o;S=d[u+20>>2]|0;u=d[u+16+(s>>>31<<2)>>2]|0;i=(S|0)==0|(S|0)==(u|0)?i:S;if(!u){S=86;break}else{o=n;s=s<<1}}}}while(0);if((S|0)==86){if((i|0)==0&(e|0)==0){e=2<<l;e=c&(e|0-e);if(!e){g=f;break}e=(e&0-e)+-1|0;h=e>>>12&16;e=e>>>h;c=e>>>5&8;e=e>>>c;m=e>>>2&4;e=e>>>m;g=e>>>1&2;e=e>>>g;i=e>>>1&1;i=d[41176+((c|h|m|g|i)+(e>>>i)<<2)>>2]|0;e=0}if(!i){s=n;u=e}else{a=i;S=90}}if((S|0)==90)while(1){S=0;g=(d[a+4>>2]&-8)-f|0;i=g>>>0<n>>>0;n=i?g:n;e=i?a:e;i=d[a+16>>2]|0;if(i){a=i;S=90;continue}a=d[a+20>>2]|0;if(!a){s=n;u=e;break}else S=90}if((u|0)!=0?s>>>0<((d[10220]|0)-f|0)>>>0:0){i=d[10222]|0;if(u>>>0<i>>>0)We();o=u+f|0;if(u>>>0>=o>>>0)We();a=d[u+24>>2]|0;n=d[u+12>>2]|0;do{if((n|0)==(u|0)){e=u+20|0;t=d[e>>2]|0;if(!t){e=u+16|0;t=d[e>>2]|0;if(!t){p=0;break}}while(1){n=t+20|0;r=d[n>>2]|0;if(r){t=r;e=n;continue}n=t+16|0;r=d[n>>2]|0;if(!r)break;else{t=r;e=n}}if(e>>>0<i>>>0)We();else{d[e>>2]=0;p=t;break}}else{r=d[u+8>>2]|0;if(r>>>0<i>>>0)We();t=r+12|0;if((d[t>>2]|0)!=(u|0))We();e=n+8|0;if((d[e>>2]|0)==(u|0)){d[t>>2]=n;d[e>>2]=r;p=n;break}else We()}}while(0);do{if(a){t=d[u+28>>2]|0;e=41176+(t<<2)|0;if((u|0)==(d[e>>2]|0)){d[e>>2]=p;if(!p){d[10219]=d[10219]&~(1<<t);break}}else{if(a>>>0<(d[10222]|0)>>>0)We();t=a+16|0;if((d[t>>2]|0)==(u|0))d[t>>2]=p;else d[a+20>>2]=p;if(!p)break}e=d[10222]|0;if(p>>>0<e>>>0)We();d[p+24>>2]=a;t=d[u+16>>2]|0;do{if(t)if(t>>>0<e>>>0)We();else{d[p+16>>2]=t;d[t+24>>2]=p;break}}while(0);t=d[u+20>>2]|0;if(t)if(t>>>0<(d[10222]|0)>>>0)We();else{d[p+20>>2]=t;d[t+24>>2]=p;break}}}while(0);e:do{if(s>>>0>=16){d[u+4>>2]=f|3;d[u+(f|4)>>2]=s|1;d[u+(s+f)>>2]=s;t=s>>>3;if(s>>>0<256){e=t<<1;r=40912+(e<<2)|0;n=d[10218]|0;t=1<<t;if(n&t){t=40912+(e+2<<2)|0;e=d[t>>2]|0;if(e>>>0<(d[10222]|0)>>>0)We();else{y=t;b=e}}else{d[10218]=n|t;y=40912+(e+2<<2)|0;b=r}d[y>>2]=o;d[b+12>>2]=o;d[u+(f+8)>>2]=b;d[u+(f+12)>>2]=r;break}t=s>>>8;if(t){if(s>>>0>16777215)r=31;else{F=(t+1048320|0)>>>16&8;B=t<<F;L=(B+520192|0)>>>16&4;B=B<<L;r=(B+245760|0)>>>16&2;r=14-(L|F|r)+(B<<r>>>15)|0;r=s>>>(r+7|0)&1|r<<1}}else r=0;t=41176+(r<<2)|0;d[u+(f+28)>>2]=r;d[u+(f+20)>>2]=0;d[u+(f+16)>>2]=0;e=d[10219]|0;n=1<<r;if(!(e&n)){d[10219]=e|n;d[t>>2]=o;d[u+(f+24)>>2]=t;d[u+(f+12)>>2]=o;d[u+(f+8)>>2]=o;break}t=d[t>>2]|0;t:do{if((d[t+4>>2]&-8|0)!=(s|0)){r=s<<((r|0)==31?0:25-(r>>>1)|0);while(1){e=t+16+(r>>>31<<2)|0;n=d[e>>2]|0;if(!n)break;if((d[n+4>>2]&-8|0)==(s|0)){T=n;break t}else{r=r<<1;t=n}}if(e>>>0<(d[10222]|0)>>>0)We();else{d[e>>2]=o;d[u+(f+24)>>2]=t;d[u+(f+12)>>2]=o;d[u+(f+8)>>2]=o;break e}}else T=t}while(0);t=T+8|0;e=d[t>>2]|0;B=d[10222]|0;if(e>>>0>=B>>>0&T>>>0>=B>>>0){d[e+12>>2]=o;d[t>>2]=o;d[u+(f+8)>>2]=e;d[u+(f+12)>>2]=T;d[u+(f+24)>>2]=0;break}else We()}else{B=s+f|0;d[u+4>>2]=B|3;B=u+(B+4)|0;d[B>>2]=d[B>>2]|1}}while(0);B=u+8|0;return B|0}else g=f}else g=f}else g=-1}while(0);n=d[10220]|0;if(n>>>0>=g>>>0){t=n-g|0;e=d[10223]|0;if(t>>>0>15){d[10223]=e+g;d[10220]=t;d[e+(g+4)>>2]=t|1;d[e+n>>2]=t;d[e+4>>2]=g|3}else{d[10220]=0;d[10223]=0;d[e+4>>2]=n|3;B=e+(n+4)|0;d[B>>2]=d[B>>2]|1}B=e+8|0;return B|0}e=d[10221]|0;if(e>>>0>g>>>0){F=e-g|0;d[10221]=F;B=d[10224]|0;d[10224]=B+g;d[B+(g+4)>>2]=F|1;d[B+4>>2]=g|3;B=B+8|0;return B|0}do{if(!(d[10336]|0)){e=ct(30)|0;if(!(e+-1&e)){d[10338]=e;d[10337]=e;d[10339]=-1;d[10340]=-1;d[10341]=0;d[10329]=0;T=(At(0)|0)&-16^1431655768;d[10336]=T;break}else We()}}while(0);u=g+48|0;s=d[10338]|0;l=g+47|0;o=s+l|0;s=0-s|0;c=o&s;if(c>>>0<=g>>>0){B=0;return B|0}e=d[10328]|0;if((e|0)!=0?(b=d[10326]|0,T=b+c|0,T>>>0<=b>>>0|T>>>0>e>>>0):0){B=0;return B|0}e:do{if(!(d[10329]&4)){e=d[10224]|0;t:do{if(e){i=41320;while(1){n=d[i>>2]|0;if(n>>>0<=e>>>0?(v=i+4|0,(n+(d[v>>2]|0)|0)>>>0>e>>>0):0){a=i;e=v;break}i=d[i+8>>2]|0;if(!i){S=174;break t}}n=o-(d[10221]|0)&s;if(n>>>0<2147483647){i=it(n|0)|0;T=(i|0)==((d[a>>2]|0)+(d[e>>2]|0)|0);e=T?n:0;if(T){if((i|0)!=(-1|0)){x=i;m=e;S=194;break e}}else S=184}else e=0}else S=174}while(0);do{if((S|0)==174){a=it(0)|0;if((a|0)!=(-1|0)){e=a;n=d[10337]|0;i=n+-1|0;if(!(i&e))n=c;else n=c-e+(i+e&0-n)|0;e=d[10326]|0;i=e+n|0;if(n>>>0>g>>>0&n>>>0<2147483647){T=d[10328]|0;if((T|0)!=0?i>>>0<=e>>>0|i>>>0>T>>>0:0){e=0;break}i=it(n|0)|0;T=(i|0)==(a|0);e=T?n:0;if(T){x=a;m=e;S=194;break e}else S=184}else e=0}else e=0}}while(0);t:do{if((S|0)==184){a=0-n|0;do{if(u>>>0>n>>>0&(n>>>0<2147483647&(i|0)!=(-1|0))?(w=d[10338]|0,w=l-n+w&0-w,w>>>0<2147483647):0)if((it(w|0)|0)==(-1|0)){it(a|0)|0;break t}else{n=w+n|0;break}}while(0);if((i|0)!=(-1|0)){x=i;m=n;S=194;break e}}}while(0);d[10329]=d[10329]|4;S=191}else{e=0;S=191}}while(0);if((((S|0)==191?c>>>0<2147483647:0)?(x=it(c|0)|0,_=it(0)|0,x>>>0<_>>>0&((x|0)!=(-1|0)&(_|0)!=(-1|0))):0)?(E=_-x|0,k=E>>>0>(g+40|0)>>>0,k):0){m=k?E:e;S=194}if((S|0)==194){e=(d[10326]|0)+m|0;d[10326]=e;if(e>>>0>(d[10327]|0)>>>0)d[10327]=e;o=d[10224]|0;e:do{if(o){a=41320;do{e=d[a>>2]|0;n=a+4|0;i=d[n>>2]|0;if((x|0)==(e+i|0)){C=e;A=n;O=i;I=a;S=204;break}a=d[a+8>>2]|0}while((a|0)!=0);if(((S|0)==204?(d[I+12>>2]&8|0)==0:0)?o>>>0<x>>>0&o>>>0>=C>>>0:0){d[A>>2]=O+m;B=(d[10221]|0)+m|0;F=o+8|0;F=(F&7|0)==0?0:0-F&7;L=B-F|0;d[10224]=o+F;d[10221]=L;d[o+(F+4)>>2]=L|1;d[o+(B+4)>>2]=40;d[10225]=d[10340];break}e=d[10222]|0;if(x>>>0<e>>>0){d[10222]=x;e=x}n=x+m|0;a=41320;while(1){if((d[a>>2]|0)==(n|0)){i=a;n=a;S=212;break}a=d[a+8>>2]|0;if(!a){n=41320;break}}if((S|0)==212)if(!(d[n+12>>2]&8)){d[i>>2]=x;h=n+4|0;d[h>>2]=(d[h>>2]|0)+m;h=x+8|0;h=(h&7|0)==0?0:0-h&7;l=x+(m+8)|0;l=(l&7|0)==0?0:0-l&7;t=x+(l+m)|0;f=h+g|0;p=x+f|0;c=t-(x+h)-g|0;d[x+(h+4)>>2]=g|3;t:do{if((t|0)!=(o|0)){if((t|0)==(d[10223]|0)){B=(d[10220]|0)+c|0;d[10220]=B;d[10223]=p;d[x+(f+4)>>2]=B|1;d[x+(B+f)>>2]=B;break}s=m+4|0;n=d[x+(s+l)>>2]|0;if((n&3|0)==1){u=n&-8;a=n>>>3;n:do{if(n>>>0>=256){o=d[x+((l|24)+m)>>2]|0;r=d[x+(m+12+l)>>2]|0;do{if((r|0)==(t|0)){i=l|16;r=x+(s+i)|0;n=d[r>>2]|0;if(!n){r=x+(i+m)|0;n=d[r>>2]|0;if(!n){N=0;break}}while(1){i=n+20|0;a=d[i>>2]|0;if(a){n=a;r=i;continue}i=n+16|0;a=d[i>>2]|0;if(!a)break;else{n=a;r=i}}if(r>>>0<e>>>0)We();else{d[r>>2]=0;N=n;break}}else{i=d[x+((l|8)+m)>>2]|0;if(i>>>0<e>>>0)We();e=i+12|0;if((d[e>>2]|0)!=(t|0))We();n=r+8|0;if((d[n>>2]|0)==(t|0)){d[e>>2]=r;d[n>>2]=i;N=r;break}else We()}}while(0);if(!o)break;e=d[x+(m+28+l)>>2]|0;n=41176+(e<<2)|0;do{if((t|0)!=(d[n>>2]|0)){if(o>>>0<(d[10222]|0)>>>0)We();e=o+16|0;if((d[e>>2]|0)==(t|0))d[e>>2]=N;else d[o+20>>2]=N;if(!N)break n}else{d[n>>2]=N;if(N)break;d[10219]=d[10219]&~(1<<e);break n}}while(0);n=d[10222]|0;if(N>>>0<n>>>0)We();d[N+24>>2]=o;t=l|16;e=d[x+(t+m)>>2]|0;do{if(e)if(e>>>0<n>>>0)We();else{d[N+16>>2]=e;d[e+24>>2]=N;break}}while(0);t=d[x+(s+t)>>2]|0;if(!t)break;if(t>>>0<(d[10222]|0)>>>0)We();else{d[N+20>>2]=t;d[t+24>>2]=N;break}}else{r=d[x+((l|8)+m)>>2]|0;i=d[x+(m+12+l)>>2]|0;n=40912+(a<<1<<2)|0;do{if((r|0)!=(n|0)){if(r>>>0<e>>>0)We();if((d[r+12>>2]|0)==(t|0))break;We()}}while(0);if((i|0)==(r|0)){d[10218]=d[10218]&~(1<<a);break}do{if((i|0)==(n|0))M=i+8|0;else{if(i>>>0<e>>>0)We();e=i+8|0;if((d[e>>2]|0)==(t|0)){M=e;break}We()}}while(0);d[r+12>>2]=i;d[M>>2]=r}}while(0);t=x+((u|l)+m)|0;i=u+c|0}else i=c;t=t+4|0;d[t>>2]=d[t>>2]&-2;d[x+(f+4)>>2]=i|1;d[x+(i+f)>>2]=i;t=i>>>3;if(i>>>0<256){e=t<<1;r=40912+(e<<2)|0;n=d[10218]|0;t=1<<t;do{if(!(n&t)){d[10218]=n|t;L=40912+(e+2<<2)|0;F=r}else{t=40912+(e+2<<2)|0;e=d[t>>2]|0;if(e>>>0>=(d[10222]|0)>>>0){L=t;F=e;break}We()}}while(0);d[L>>2]=p;d[F+12>>2]=p;d[x+(f+8)>>2]=F;d[x+(f+12)>>2]=r;break}t=i>>>8;do{if(!t)r=0;else{if(i>>>0>16777215){r=31;break}L=(t+1048320|0)>>>16&8;F=t<<L;N=(F+520192|0)>>>16&4;F=F<<N;r=(F+245760|0)>>>16&2;r=14-(N|L|r)+(F<<r>>>15)|0;r=i>>>(r+7|0)&1|r<<1}}while(0);t=41176+(r<<2)|0;d[x+(f+28)>>2]=r;d[x+(f+20)>>2]=0;d[x+(f+16)>>2]=0;e=d[10219]|0;n=1<<r;if(!(e&n)){d[10219]=e|n;d[t>>2]=p;d[x+(f+24)>>2]=t;d[x+(f+12)>>2]=p;d[x+(f+8)>>2]=p;break}t=d[t>>2]|0;n:do{if((d[t+4>>2]&-8|0)!=(i|0)){r=i<<((r|0)==31?0:25-(r>>>1)|0);while(1){e=t+16+(r>>>31<<2)|0;n=d[e>>2]|0;if(!n)break;if((d[n+4>>2]&-8|0)==(i|0)){B=n;break n}else{r=r<<1;t=n}}if(e>>>0<(d[10222]|0)>>>0)We();else{d[e>>2]=p;d[x+(f+24)>>2]=t;d[x+(f+12)>>2]=p;d[x+(f+8)>>2]=p;break t}}else B=t}while(0);t=B+8|0;e=d[t>>2]|0;F=d[10222]|0;if(e>>>0>=F>>>0&B>>>0>=F>>>0){d[e+12>>2]=p;d[t>>2]=p;d[x+(f+8)>>2]=e;d[x+(f+12)>>2]=B;d[x+(f+24)>>2]=0;break}else We()}else{B=(d[10221]|0)+c|0;d[10221]=B;d[10224]=p;d[x+(f+4)>>2]=B|1}}while(0);B=x+(h|8)|0;return B|0}else n=41320;while(1){e=d[n>>2]|0;if(e>>>0<=o>>>0?(t=d[n+4>>2]|0,r=e+t|0,r>>>0>o>>>0):0)break;n=d[n+8>>2]|0}i=e+(t+-39)|0;e=e+(t+-47+((i&7|0)==0?0:0-i&7))|0;i=o+16|0;e=e>>>0<i>>>0?o:e;t=e+8|0;n=x+8|0;n=(n&7|0)==0?0:0-n&7;B=m+-40-n|0;d[10224]=x+n;d[10221]=B;d[x+(n+4)>>2]=B|1;d[x+(m+-36)>>2]=40;d[10225]=d[10340];n=e+4|0;d[n>>2]=27;d[t>>2]=d[10330];d[t+4>>2]=d[10331];d[t+8>>2]=d[10332];d[t+12>>2]=d[10333];d[10330]=x;d[10331]=m;d[10333]=0;d[10332]=t;t=e+28|0;d[t>>2]=7;if((e+32|0)>>>0<r>>>0)do{B=t;t=t+4|0;d[t>>2]=7}while((B+8|0)>>>0<r>>>0);if((e|0)!=(o|0)){a=e-o|0;d[n>>2]=d[n>>2]&-2;d[o+4>>2]=a|1;d[e>>2]=a;t=a>>>3;if(a>>>0<256){e=t<<1;r=40912+(e<<2)|0;n=d[10218]|0;t=1<<t;if(n&t){t=40912+(e+2<<2)|0;e=d[t>>2]|0;if(e>>>0<(d[10222]|0)>>>0)We();else{D=t;R=e}}else{d[10218]=n|t;D=40912+(e+2<<2)|0;R=r}d[D>>2]=o;d[R+12>>2]=o;d[o+8>>2]=R;d[o+12>>2]=r;break}t=a>>>8;if(t){if(a>>>0>16777215)r=31;else{F=(t+1048320|0)>>>16&8;B=t<<F;L=(B+520192|0)>>>16&4;B=B<<L;r=(B+245760|0)>>>16&2;r=14-(L|F|r)+(B<<r>>>15)|0;r=a>>>(r+7|0)&1|r<<1}}else r=0;n=41176+(r<<2)|0;d[o+28>>2]=r;d[o+20>>2]=0;d[i>>2]=0;t=d[10219]|0;e=1<<r;if(!(t&e)){d[10219]=t|e;d[n>>2]=o;d[o+24>>2]=n;d[o+12>>2]=o;d[o+8>>2]=o;break}t=d[n>>2]|0;t:do{if((d[t+4>>2]&-8|0)!=(a|0)){r=a<<((r|0)==31?0:25-(r>>>1)|0);while(1){e=t+16+(r>>>31<<2)|0;n=d[e>>2]|0;if(!n)break;if((d[n+4>>2]&-8|0)==(a|0)){P=n;break t}else{r=r<<1;t=n}}if(e>>>0<(d[10222]|0)>>>0)We();else{d[e>>2]=o;d[o+24>>2]=t;d[o+12>>2]=o;d[o+8>>2]=o;break e}}else P=t}while(0);t=P+8|0;e=d[t>>2]|0;B=d[10222]|0;if(e>>>0>=B>>>0&P>>>0>=B>>>0){d[e+12>>2]=o;d[t>>2]=o;d[o+8>>2]=e;d[o+12>>2]=P;d[o+24>>2]=0;break}else We()}}else{B=d[10222]|0;if((B|0)==0|x>>>0<B>>>0)d[10222]=x;d[10330]=x;d[10331]=m;d[10333]=0;d[10227]=d[10336];d[10226]=-1;t=0;do{B=t<<1;F=40912+(B<<2)|0;d[40912+(B+3<<2)>>2]=F;d[40912+(B+2<<2)>>2]=F;t=t+1|0}while((t|0)!=32);B=x+8|0;B=(B&7|0)==0?0:0-B&7;F=m+-40-B|0;d[10224]=x+B;d[10221]=F;d[x+(B+4)>>2]=F|1;d[x+(m+-36)>>2]=40;d[10225]=d[10340]}}while(0);t=d[10221]|0;if(t>>>0>g>>>0){F=t-g|0;d[10221]=F;B=d[10224]|0;d[10224]=B+g;d[B+(g+4)>>2]=F|1;d[B+4>>2]=g|3;B=B+8|0;return B|0}}B=HS()|0;d[B>>2]=12;B=0;return B|0}function jf(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,w=0;if(!e)return;t=e+-8|0;s=d[10222]|0;if(t>>>0<s>>>0)We();n=d[e+-4>>2]|0;r=n&3;if((r|0)==1)We();p=n&-8;g=e+(p+-8)|0;do{if(!(n&1)){t=d[t>>2]|0;if(!r)return;u=-8-t|0;c=e+u|0;f=t+p|0;if(c>>>0<s>>>0)We();if((c|0)==(d[10223]|0)){t=e+(p+-4)|0;n=d[t>>2]|0;if((n&3|0)!=3){w=c;a=f;break}d[10220]=f;d[t>>2]=n&-2;d[e+(u+4)>>2]=f|1;d[g>>2]=f;return}i=t>>>3;if(t>>>0<256){r=d[e+(u+8)>>2]|0;n=d[e+(u+12)>>2]|0;t=40912+(i<<1<<2)|0;if((r|0)!=(t|0)){if(r>>>0<s>>>0)We();if((d[r+12>>2]|0)!=(c|0))We()}if((n|0)==(r|0)){d[10218]=d[10218]&~(1<<i);w=c;a=f;break}if((n|0)!=(t|0)){if(n>>>0<s>>>0)We();t=n+8|0;if((d[t>>2]|0)==(c|0))o=t;else We()}else o=n+8|0;d[r+12>>2]=n;d[o>>2]=r;w=c;a=f;break}o=d[e+(u+24)>>2]|0;r=d[e+(u+12)>>2]|0;do{if((r|0)==(c|0)){n=e+(u+20)|0;t=d[n>>2]|0;if(!t){n=e+(u+16)|0;t=d[n>>2]|0;if(!t){l=0;break}}while(1){r=t+20|0;i=d[r>>2]|0;if(i){t=i;n=r;continue}r=t+16|0;i=d[r>>2]|0;if(!i)break;else{t=i;n=r}}if(n>>>0<s>>>0)We();else{d[n>>2]=0;l=t;break}}else{i=d[e+(u+8)>>2]|0;if(i>>>0<s>>>0)We();t=i+12|0;if((d[t>>2]|0)!=(c|0))We();n=r+8|0;if((d[n>>2]|0)==(c|0)){d[t>>2]=r;d[n>>2]=i;l=r;break}else We()}}while(0);if(o){t=d[e+(u+28)>>2]|0;n=41176+(t<<2)|0;if((c|0)==(d[n>>2]|0)){d[n>>2]=l;if(!l){d[10219]=d[10219]&~(1<<t);w=c;a=f;break}}else{if(o>>>0<(d[10222]|0)>>>0)We();t=o+16|0;if((d[t>>2]|0)==(c|0))d[t>>2]=l;else d[o+20>>2]=l;if(!l){w=c;a=f;break}}n=d[10222]|0;if(l>>>0<n>>>0)We();d[l+24>>2]=o;t=d[e+(u+16)>>2]|0;do{if(t)if(t>>>0<n>>>0)We();else{d[l+16>>2]=t;d[t+24>>2]=l;break}}while(0);t=d[e+(u+20)>>2]|0;if(t){if(t>>>0<(d[10222]|0)>>>0)We();else{d[l+20>>2]=t;d[t+24>>2]=l;w=c;a=f;break}}else{w=c;a=f}}else{w=c;a=f}}else{w=t;a=p}}while(0);if(w>>>0>=g>>>0)We();t=e+(p+-4)|0;n=d[t>>2]|0;if(!(n&1))We();if(!(n&2)){if((g|0)==(d[10224]|0)){b=(d[10221]|0)+a|0;d[10221]=b;d[10224]=w;d[w+4>>2]=b|1;if((w|0)!=(d[10223]|0))return;d[10223]=0;d[10220]=0;return}if((g|0)==(d[10223]|0)){b=(d[10220]|0)+a|0;d[10220]=b;d[10223]=w;d[w+4>>2]=b|1;d[w+b>>2]=b;return}a=(n&-8)+a|0;i=n>>>3;do{if(n>>>0>=256){o=d[e+(p+16)>>2]|0;t=d[e+(p|4)>>2]|0;do{if((t|0)==(g|0)){n=e+(p+12)|0;t=d[n>>2]|0;if(!t){n=e+(p+8)|0;t=d[n>>2]|0;if(!t){m=0;break}}while(1){r=t+20|0;i=d[r>>2]|0;if(i){t=i;n=r;continue}r=t+16|0;i=d[r>>2]|0;if(!i)break;else{t=i;n=r}}if(n>>>0<(d[10222]|0)>>>0)We();else{d[n>>2]=0;m=t;break}}else{n=d[e+p>>2]|0;if(n>>>0<(d[10222]|0)>>>0)We();r=n+12|0;if((d[r>>2]|0)!=(g|0))We();i=t+8|0;if((d[i>>2]|0)==(g|0)){d[r>>2]=t;d[i>>2]=n;m=t;break}else We()}}while(0);if(o){t=d[e+(p+20)>>2]|0;n=41176+(t<<2)|0;if((g|0)==(d[n>>2]|0)){d[n>>2]=m;if(!m){d[10219]=d[10219]&~(1<<t);break}}else{if(o>>>0<(d[10222]|0)>>>0)We();t=o+16|0;if((d[t>>2]|0)==(g|0))d[t>>2]=m;else d[o+20>>2]=m;if(!m)break}n=d[10222]|0;if(m>>>0<n>>>0)We();d[m+24>>2]=o;t=d[e+(p+8)>>2]|0;do{if(t)if(t>>>0<n>>>0)We();else{d[m+16>>2]=t;d[t+24>>2]=m;break}}while(0);t=d[e+(p+12)>>2]|0;if(t)if(t>>>0<(d[10222]|0)>>>0)We();else{d[m+20>>2]=t;d[t+24>>2]=m;break}}}else{r=d[e+p>>2]|0;n=d[e+(p|4)>>2]|0;t=40912+(i<<1<<2)|0;if((r|0)!=(t|0)){if(r>>>0<(d[10222]|0)>>>0)We();if((d[r+12>>2]|0)!=(g|0))We()}if((n|0)==(r|0)){d[10218]=d[10218]&~(1<<i);break}if((n|0)!=(t|0)){if(n>>>0<(d[10222]|0)>>>0)We();t=n+8|0;if((d[t>>2]|0)==(g|0))h=t;else We()}else h=n+8|0;d[r+12>>2]=n;d[h>>2]=r}}while(0);d[w+4>>2]=a|1;d[w+a>>2]=a;if((w|0)==(d[10223]|0)){d[10220]=a;return}}else{d[t>>2]=n&-2;d[w+4>>2]=a|1;d[w+a>>2]=a}t=a>>>3;if(a>>>0<256){n=t<<1;i=40912+(n<<2)|0;r=d[10218]|0;t=1<<t;if(r&t){t=40912+(n+2<<2)|0;n=d[t>>2]|0;if(n>>>0<(d[10222]|0)>>>0)We();else{v=t;y=n}}else{d[10218]=r|t;v=40912+(n+2<<2)|0;y=i}d[v>>2]=w;d[y+12>>2]=w;d[w+8>>2]=y;d[w+12>>2]=i;return}t=a>>>8;if(t){if(a>>>0>16777215)i=31;else{v=(t+1048320|0)>>>16&8;y=t<<v;g=(y+520192|0)>>>16&4;y=y<<g;i=(y+245760|0)>>>16&2;i=14-(g|v|i)+(y<<i>>>15)|0;i=a>>>(i+7|0)&1|i<<1}}else i=0;t=41176+(i<<2)|0;d[w+28>>2]=i;d[w+20>>2]=0;d[w+16>>2]=0;n=d[10219]|0;r=1<<i;e:do{if(n&r){t=d[t>>2]|0;t:do{if((d[t+4>>2]&-8|0)!=(a|0)){i=a<<((i|0)==31?0:25-(i>>>1)|0);while(1){n=t+16+(i>>>31<<2)|0;r=d[n>>2]|0;if(!r)break;if((d[r+4>>2]&-8|0)==(a|0)){b=r;break t}else{i=i<<1;t=r}}if(n>>>0<(d[10222]|0)>>>0)We();else{d[n>>2]=w;d[w+24>>2]=t;d[w+12>>2]=w;d[w+8>>2]=w;break e}}else b=t}while(0);t=b+8|0;n=d[t>>2]|0;y=d[10222]|0;if(n>>>0>=y>>>0&b>>>0>=y>>>0){d[n+12>>2]=w;d[t>>2]=w;d[w+8>>2]=n;d[w+12>>2]=b;d[w+24>>2]=0;break}else We()}else{d[10219]=n|r;d[t>>2]=w;d[w+24>>2]=t;d[w+12>>2]=w;d[w+8>>2]=w}}while(0);w=(d[10226]|0)+-1|0;d[10226]=w;if(!w)t=41328;else return;while(1){t=d[t>>2]|0;if(!t)break;else t=t+8|0}d[10226]=-1;return}function Vf(e,t){e=e|0;t=t|0;var n=0;if(e){n=fe(t,e)|0;if((t|e)>>>0>65535)n=((n>>>0)/(e>>>0)|0|0)==(t|0)?n:-1}else n=0;t=Uf(n)|0;if(!t)return t|0;if(!(d[t+-4>>2]&3))return t|0;Dy(t|0,0,n|0)|0;return t|0}function Gf(e,t){e=e|0;t=t|0;var n=0,r=0;if(!e){e=Uf(t)|0;return e|0}if(t>>>0>4294967231){e=HS()|0;d[e>>2]=12;e=0;return e|0}n=Wf(e+-8|0,t>>>0<11?16:t+11&-8)|0;if(n){e=n+8|0;return e|0}n=Uf(t)|0;if(!n){e=0;return e|0}r=d[e+-4>>2]|0;r=(r&-8)-((r&3|0)==0?8:4)|0;Ny(n|0,e|0,(r>>>0<t>>>0?r:t)|0)|0;jf(e);e=n;return e|0}function Wf(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0,m=0;p=e+4|0;m=d[p>>2]|0;u=m&-8;c=e+u|0;s=d[10222]|0;n=m&3;if(!((n|0)!=1&e>>>0>=s>>>0&e>>>0<c>>>0))We();r=e+(u|4)|0;i=d[r>>2]|0;if(!(i&1))We();if(!n){if(t>>>0<256){e=0;return e|0}if(u>>>0>=(t+4|0)>>>0?(u-t|0)>>>0<=d[10338]<<1>>>0:0)return e|0;e=0;return e|0}if(u>>>0>=t>>>0){n=u-t|0;if(n>>>0<=15)return e|0;d[p>>2]=m&1|t|2;d[e+(t+4)>>2]=n|3;d[r>>2]=d[r>>2]|1;Hf(e+t|0,n);return e|0}if((c|0)==(d[10224]|0)){n=(d[10221]|0)+u|0;if(n>>>0<=t>>>0){e=0;return e|0}h=n-t|0;d[p>>2]=m&1|t|2;d[e+(t+4)>>2]=h|1;d[10224]=e+t;d[10221]=h;return e|0}if((c|0)==(d[10223]|0)){r=(d[10220]|0)+u|0;if(r>>>0<t>>>0){e=0;return e|0}n=r-t|0;if(n>>>0>15){d[p>>2]=m&1|t|2;d[e+(t+4)>>2]=n|1;d[e+r>>2]=n;r=e+(r+4)|0;d[r>>2]=d[r>>2]&-2;r=e+t|0}else{d[p>>2]=m&1|r|2;r=e+(r+4)|0;d[r>>2]=d[r>>2]|1;r=0;n=0}d[10220]=n;d[10223]=r;return e|0}if(i&2){e=0;return e|0}f=(i&-8)+u|0;if(f>>>0<t>>>0){e=0;return e|0}h=f-t|0;a=i>>>3;do{if(i>>>0>=256){o=d[e+(u+24)>>2]|0;a=d[e+(u+12)>>2]|0;do{if((a|0)==(c|0)){r=e+(u+20)|0;n=d[r>>2]|0;if(!n){r=e+(u+16)|0;n=d[r>>2]|0;if(!n){l=0;break}}while(1){i=n+20|0;a=d[i>>2]|0;if(a){n=a;r=i;continue}i=n+16|0;a=d[i>>2]|0;if(!a)break;else{n=a;r=i}}if(r>>>0<s>>>0)We();else{d[r>>2]=0;l=n;break}}else{i=d[e+(u+8)>>2]|0;if(i>>>0<s>>>0)We();n=i+12|0;if((d[n>>2]|0)!=(c|0))We();r=a+8|0;if((d[r>>2]|0)==(c|0)){d[n>>2]=a;d[r>>2]=i;l=a;break}else We()}}while(0);if(o){n=d[e+(u+28)>>2]|0;r=41176+(n<<2)|0;if((c|0)==(d[r>>2]|0)){d[r>>2]=l;if(!l){d[10219]=d[10219]&~(1<<n);break}}else{if(o>>>0<(d[10222]|0)>>>0)We();n=o+16|0;if((d[n>>2]|0)==(c|0))d[n>>2]=l;else d[o+20>>2]=l;if(!l)break}r=d[10222]|0;if(l>>>0<r>>>0)We();d[l+24>>2]=o;n=d[e+(u+16)>>2]|0;do{if(n)if(n>>>0<r>>>0)We();else{d[l+16>>2]=n;d[n+24>>2]=l;break}}while(0);n=d[e+(u+20)>>2]|0;if(n)if(n>>>0<(d[10222]|0)>>>0)We();else{d[l+20>>2]=n;d[n+24>>2]=l;break}}}else{i=d[e+(u+8)>>2]|0;r=d[e+(u+12)>>2]|0;n=40912+(a<<1<<2)|0;if((i|0)!=(n|0)){if(i>>>0<s>>>0)We();if((d[i+12>>2]|0)!=(c|0))We()}if((r|0)==(i|0)){d[10218]=d[10218]&~(1<<a);break}if((r|0)!=(n|0)){if(r>>>0<s>>>0)We();n=r+8|0;if((d[n>>2]|0)==(c|0))o=n;else We()}else o=r+8|0;d[i+12>>2]=r;d[o>>2]=i}}while(0);if(h>>>0<16){d[p>>2]=f|m&1|2;t=e+(f|4)|0;d[t>>2]=d[t>>2]|1;return e|0}else{d[p>>2]=m&1|t|2;d[e+(t+4)>>2]=h|3;m=e+(f|4)|0;d[m>>2]=d[m>>2]|1;Hf(e+t|0,h);return e|0}return 0}function Hf(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0;g=e+t|0;n=d[e+4>>2]|0;do{if(!(n&1)){l=d[e>>2]|0;if(!(n&3))return;h=e+(0-l)|0;f=l+t|0;u=d[10222]|0;if(h>>>0<u>>>0)We();if((h|0)==(d[10223]|0)){r=e+(t+4)|0;n=d[r>>2]|0;if((n&3|0)!=3){b=h;o=f;break}d[10220]=f;d[r>>2]=n&-2;d[e+(4-l)>>2]=f|1;d[g>>2]=f;return}a=l>>>3;if(l>>>0<256){i=d[e+(8-l)>>2]|0;r=d[e+(12-l)>>2]|0;n=40912+(a<<1<<2)|0;if((i|0)!=(n|0)){if(i>>>0<u>>>0)We();if((d[i+12>>2]|0)!=(h|0))We()}if((r|0)==(i|0)){d[10218]=d[10218]&~(1<<a);b=h;o=f;break}if((r|0)!=(n|0)){if(r>>>0<u>>>0)We();n=r+8|0;if((d[n>>2]|0)==(h|0))s=n;else We()}else s=r+8|0;d[i+12>>2]=r;d[s>>2]=i;b=h;o=f;break}s=d[e+(24-l)>>2]|0;i=d[e+(12-l)>>2]|0;do{if((i|0)==(h|0)){i=16-l|0;r=e+(i+4)|0;n=d[r>>2]|0;if(!n){r=e+i|0;n=d[r>>2]|0;if(!n){c=0;break}}while(1){i=n+20|0;a=d[i>>2]|0;if(a){n=a;r=i;continue}i=n+16|0;a=d[i>>2]|0;if(!a)break;else{n=a;r=i}}if(r>>>0<u>>>0)We();else{d[r>>2]=0;c=n;break}}else{a=d[e+(8-l)>>2]|0;if(a>>>0<u>>>0)We();n=a+12|0;if((d[n>>2]|0)!=(h|0))We();r=i+8|0;if((d[r>>2]|0)==(h|0)){d[n>>2]=i;d[r>>2]=a;c=i;break}else We()}}while(0);if(s){n=d[e+(28-l)>>2]|0;r=41176+(n<<2)|0;if((h|0)==(d[r>>2]|0)){d[r>>2]=c;if(!c){d[10219]=d[10219]&~(1<<n);b=h;o=f;break}}else{if(s>>>0<(d[10222]|0)>>>0)We();n=s+16|0;if((d[n>>2]|0)==(h|0))d[n>>2]=c;else d[s+20>>2]=c;if(!c){b=h;o=f;break}}i=d[10222]|0;if(c>>>0<i>>>0)We();d[c+24>>2]=s;n=16-l|0;r=d[e+n>>2]|0;do{if(r)if(r>>>0<i>>>0)We();else{d[c+16>>2]=r;d[r+24>>2]=c;break}}while(0);n=d[e+(n+4)>>2]|0;if(n){if(n>>>0<(d[10222]|0)>>>0)We();else{d[c+20>>2]=n;d[n+24>>2]=c;b=h;o=f;break}}else{b=h;o=f}}else{b=h;o=f}}else{b=e;o=t}}while(0);u=d[10222]|0;if(g>>>0<u>>>0)We();n=e+(t+4)|0;r=d[n>>2]|0;if(!(r&2)){if((g|0)==(d[10224]|0)){y=(d[10221]|0)+o|0;d[10221]=y;d[10224]=b;d[b+4>>2]=y|1;if((b|0)!=(d[10223]|0))return;d[10223]=0;d[10220]=0;return}if((g|0)==(d[10223]|0)){y=(d[10220]|0)+o|0;d[10220]=y;d[10223]=b;d[b+4>>2]=y|1;d[b+y>>2]=y;return}o=(r&-8)+o|0;a=r>>>3;do{if(r>>>0>=256){s=d[e+(t+24)>>2]|0;i=d[e+(t+12)>>2]|0;do{if((i|0)==(g|0)){r=e+(t+20)|0;n=d[r>>2]|0;if(!n){r=e+(t+16)|0;n=d[r>>2]|0;if(!n){m=0;break}}while(1){i=n+20|0;a=d[i>>2]|0;if(a){n=a;r=i;continue}i=n+16|0;a=d[i>>2]|0;if(!a)break;else{n=a;r=i}}if(r>>>0<u>>>0)We();else{d[r>>2]=0;m=n;break}}else{a=d[e+(t+8)>>2]|0;if(a>>>0<u>>>0)We();n=a+12|0;if((d[n>>2]|0)!=(g|0))We();r=i+8|0;if((d[r>>2]|0)==(g|0)){d[n>>2]=i;d[r>>2]=a;m=i;break}else We()}}while(0);if(s){n=d[e+(t+28)>>2]|0;r=41176+(n<<2)|0;if((g|0)==(d[r>>2]|0)){d[r>>2]=m;if(!m){d[10219]=d[10219]&~(1<<n);break}}else{if(s>>>0<(d[10222]|0)>>>0)We();n=s+16|0;if((d[n>>2]|0)==(g|0))d[n>>2]=m;else d[s+20>>2]=m;if(!m)break}r=d[10222]|0;if(m>>>0<r>>>0)We();d[m+24>>2]=s;n=d[e+(t+16)>>2]|0;do{if(n)if(n>>>0<r>>>0)We();else{d[m+16>>2]=n;d[n+24>>2]=m;break}}while(0);n=d[e+(t+20)>>2]|0;if(n)if(n>>>0<(d[10222]|0)>>>0)We();else{d[m+20>>2]=n;d[n+24>>2]=m;break}}}else{i=d[e+(t+8)>>2]|0;r=d[e+(t+12)>>2]|0;n=40912+(a<<1<<2)|0;if((i|0)!=(n|0)){if(i>>>0<u>>>0)We();if((d[i+12>>2]|0)!=(g|0))We()}if((r|0)==(i|0)){d[10218]=d[10218]&~(1<<a);break}if((r|0)!=(n|0)){if(r>>>0<u>>>0)We();n=r+8|0;if((d[n>>2]|0)==(g|0))p=n;else We()}else p=r+8|0;d[i+12>>2]=r;d[p>>2]=i}}while(0);d[b+4>>2]=o|1;d[b+o>>2]=o;if((b|0)==(d[10223]|0)){d[10220]=o;return}}else{d[n>>2]=r&-2;d[b+4>>2]=o|1;d[b+o>>2]=o}n=o>>>3;if(o>>>0<256){r=n<<1;a=40912+(r<<2)|0;i=d[10218]|0;n=1<<n;if(i&n){n=40912+(r+2<<2)|0;r=d[n>>2]|0;if(r>>>0<(d[10222]|0)>>>0)We();else{v=n;y=r}}else{d[10218]=i|n;v=40912+(r+2<<2)|0;y=a}d[v>>2]=b;d[y+12>>2]=b;d[b+8>>2]=y;d[b+12>>2]=a;return}n=o>>>8;if(n){if(o>>>0>16777215)a=31;else{v=(n+1048320|0)>>>16&8;y=n<<v;g=(y+520192|0)>>>16&4;y=y<<g;a=(y+245760|0)>>>16&2;a=14-(g|v|a)+(y<<a>>>15)|0;a=o>>>(a+7|0)&1|a<<1}}else a=0;n=41176+(a<<2)|0;d[b+28>>2]=a;d[b+20>>2]=0;d[b+16>>2]=0;r=d[10219]|0;i=1<<a;if(!(r&i)){d[10219]=r|i;d[n>>2]=b;d[b+24>>2]=n;d[b+12>>2]=b;d[b+8>>2]=b;return}n=d[n>>2]|0;e:do{if((d[n+4>>2]&-8|0)!=(o|0)){a=o<<((a|0)==31?0:25-(a>>>1)|0);while(1){r=n+16+(a>>>31<<2)|0;i=d[r>>2]|0;if(!i)break;if((d[i+4>>2]&-8|0)==(o|0)){n=i;break e}else{a=a<<1;n=i}}if(r>>>0<(d[10222]|0)>>>0)We();d[r>>2]=b;d[b+24>>2]=n;d[b+12>>2]=b;d[b+8>>2]=b;return}}while(0);r=n+8|0;i=d[r>>2]|0;y=d[10222]|0;if(!(i>>>0>=y>>>0&n>>>0>=y>>>0))We();d[i+12>>2]=b;d[r>>2]=b;d[b+8>>2]=i;d[b+12>>2]=n;d[b+24>>2]=0;return}function qf(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0;r=d[9321]|0;Kf(42048,r,42104);d[10342]=42892;d[10344]=42912;d[10343]=0;e=d[10720]|0;k=0;we(62,41368+e|0,42048);a=k;k=0;if(a&1){a=Ze()|0;pd(41376);ut(a|0)}d[41368+(e+72)>>2]=0;d[41368+(e+76)>>2]=-1;i=d[9322]|0;Zf(42152,i,42112);d[10364]=42972;d[10365]=42992;n=d[10740]|0;k=0;we(62,41456+n|0,42152);a=k;k=0;if(a&1){a=Ze()|0;pd(41460);ut(a|0)}e=n+72|0;d[41456+e>>2]=0;t=n+76|0;d[41456+t>>2]=-1;a=d[9320]|0;Zf(42200,a,42120);d[10385]=42972;d[10386]=42992;k=0;we(62,41540+n|0,42200);o=k;k=0;if(o&1){o=Ze()|0;pd(41544);ut(o|0)}d[41540+e>>2]=0;d[41540+t>>2]=-1;o=d[41540+((d[(d[10385]|0)+-12>>2]|0)+24)>>2]|0;d[10406]=42972;d[10407]=42992;k=0;we(62,41624+n|0,o|0);o=k;k=0;if(o&1){o=Ze()|0;pd(41628);ut(o|0)}d[41624+e>>2]=0;d[41624+t>>2]=-1;d[41368+((d[(d[10342]|0)+-12>>2]|0)+72)>>2]=41456;e=41540+((d[(d[10385]|0)+-12>>2]|0)+4)|0;d[e>>2]=d[e>>2]|8192;d[41540+((d[(d[10385]|0)+-12>>2]|0)+72)>>2]=41456;Jf(42248,r,42128);d[10427]=42932;d[10429]=42952;d[10428]=0;e=d[10730]|0;k=0;we(62,41708+e|0,42248);o=k;k=0;if(o&1){o=Ze()|0;bd(41716);ut(o|0)}d[41708+(e+72)>>2]=0;d[41708+(e+76)>>2]=-1;$f(42304,i,42136);d[10449]=43012;d[10450]=43032;n=d[10750]|0;k=0;we(62,41796+n|0,42304);o=k;k=0;if(o&1){o=Ze()|0;bd(41800);ut(o|0)}e=n+72|0;d[41796+e>>2]=0;t=n+76|0;d[41796+t>>2]=-1;$f(42352,a,42144);d[10470]=43012;d[10471]=43032;k=0;we(62,41880+n|0,42352);o=k;k=0;if(o&1){o=Ze()|0;bd(41884);ut(o|0)}d[41880+e>>2]=0;d[41880+t>>2]=-1;o=d[41880+((d[(d[10470]|0)+-12>>2]|0)+24)>>2]|0;d[10491]=43012;d[10492]=43032;k=0;we(62,41964+n|0,o|0);o=k;k=0;if(o&1){o=Ze()|0;bd(41968);ut(o|0)}else{d[41964+e>>2]=0;d[41964+t>>2]=-1;d[41708+((d[(d[10427]|0)+-12>>2]|0)+72)>>2]=41796;o=41880+((d[(d[10470]|0)+-12>>2]|0)+4)|0;d[o>>2]=d[o>>2]|8192;d[41880+((d[(d[10470]|0)+-12>>2]|0)+72)>>2]=41796;return}}function Qf(e){e=e|0;k=0;xe(70,41456)|0;e=k;k=0;if(((!(e&1)?(k=0,xe(70,41624)|0,e=k,k=0,!(e&1)):0)?(k=0,xe(71,41796)|0,e=k,k=0,!(e&1)):0)?(k=0,xe(71,41964)|0,e=k,k=0,!(e&1)):0)return;e=Ze(0)|0;Xt(e)}function Xf(){qf(0);xt(187,56757,E|0)|0;return}function Yf(){return}function Kf(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0;i=w;w=w+16|0;a=i+4|0;r=i;_d(e);d[e>>2]=42600;d[e+32>>2]=t;d[e+40>>2]=n;d[e+48>>2]=-1;f[e+52>>0]=0;Vc(a,e+4|0);d[r>>2]=d[a>>2];k=0;we(23,e|0,r|0);n=k;k=0;if(n&1){a=Ze()|0;Gc(r);Sd(e);ut(a|0)}else{Gc(r);w=i;return}}function Zf(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0;i=w;w=w+16|0;a=i+4|0;r=i;_d(e);d[e>>2]=42536;d[e+32>>2]=t;Vc(a,e+4|0);d[r>>2]=d[a>>2];k=0;t=Oe(37,r|0,44280)|0;a=k;k=0;if(a&1){a=Ze()|0;Gc(r);Sd(e);ut(a|0)}else{Gc(r);d[e+36>>2]=t;d[e+40>>2]=n;a=(y_[d[(d[t>>2]|0)+28>>2]&127](t)|0)&1;f[e+44>>0]=a;w=i;return}}function Jf(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0;i=w;w=w+16|0;a=i+4|0;r=i;Bd(e);d[e>>2]=42472;d[e+32>>2]=t;d[e+40>>2]=n;d[e+48>>2]=-1;f[e+52>>0]=0;Vc(a,e+4|0);d[r>>2]=d[a>>2];k=0;we(21,e|0,r|0);n=k;k=0;if(n&1){a=Ze()|0;Gc(r);Ld(e);ut(a|0)}else{Gc(r);w=i;return}}function $f(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0;i=w;w=w+16|0;a=i+4|0;r=i;Bd(e);d[e>>2]=42408;d[e+32>>2]=t;Vc(a,e+4|0);d[r>>2]=d[a>>2];k=0;t=Oe(37,r|0,44288)|0;a=k;k=0;if(a&1){a=Ze()|0;Gc(r);Ld(e);ut(a|0)}else{Gc(r);d[e+36>>2]=t;d[e+40>>2]=n;a=(y_[d[(d[t>>2]|0)+28>>2]&127](t)|0)&1;f[e+44>>0]=a;w=i;return}}function eh(e){e=e|0;Ld(e);Hw(e);return}function th(e,t){e=e|0;t=t|0;y_[d[(d[e>>2]|0)+24>>2]&127](e)|0;t=Hc(t,44288)|0;d[e+36>>2]=t;t=(y_[d[(d[t>>2]|0)+28>>2]&127](t)|0)&1;f[e+44>>0]=t;return}function nh(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;l=w;w=w+16|0;s=l+8|0;o=l;n=e+36|0;r=e+40|0;i=s+8|0;a=s;t=e+32|0;e:while(1){e=d[n>>2]|0;e=k_[d[(d[e>>2]|0)+20>>2]&31](e,d[r>>2]|0,s,i,o)|0;c=(d[o>>2]|0)-a|0;if((zx(s,1,c,d[t>>2]|0)|0)!=(c|0)){e=-1;break}switch(e|0){case 1:break;case 2:{e=-1;break e}default:{u=4;break e}}}if((u|0)==4)e=((Lx(d[t>>2]|0)|0)!=0)<<31>>31;w=l;return e|0}function rh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;e:do{if(!(f[e+44>>0]|0)){if((n|0)>0){r=t;t=0;while(1){if((E_[d[(d[e>>2]|0)+52>>2]&63](e,d[r>>2]|0)|0)==-1)break e;t=t+1|0;if((t|0)<(n|0))r=r+4|0;else break}}else t=0}else t=zx(t,4,n,d[e+32>>2]|0)|0}while(0);return t|0}function ih(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0;v=w;w=w+32|0;p=v+16|0;n=v+8|0;h=v+4|0;c=v;m=(t|0)==-1;e:do{if(!m){d[n>>2]=t;if(f[e+44>>0]|0)if((zx(n,4,1,d[e+32>>2]|0)|0)==1){g=11;break}else{n=-1;break}d[h>>2]=p;u=n+4|0;l=e+36|0;i=e+40|0;a=p+8|0;o=p;s=e+32|0;while(1){e=d[l>>2]|0;e=D_[d[(d[e>>2]|0)+12>>2]&15](e,d[i>>2]|0,n,u,c,p,a,h)|0;if((d[c>>2]|0)==(n|0)){n=-1;break e}if((e|0)==3)break;r=(e|0)==1;if(e>>>0>=2){n=-1;break e}e=(d[h>>2]|0)-o|0;if((zx(p,1,e,d[s>>2]|0)|0)!=(e|0)){n=-1;break e}if(r)n=r?d[c>>2]|0:n;else{g=11;break e}}if((zx(n,1,1,d[s>>2]|0)|0)!=1)n=-1;else g=11}else g=11}while(0);if((g|0)==11)n=m?0:t;w=v;return n|0}function ah(e,t){e=e|0;t=t|0;var n=0,r=0;r=Hc(t,44288)|0;n=e+36|0;d[n>>2]=r;r=y_[d[(d[r>>2]|0)+24>>2]&127](r)|0;t=e+44|0;d[t>>2]=r;n=d[n>>2]|0;n=(y_[d[(d[n>>2]|0)+28>>2]&127](n)|0)&1;f[e+53>>0]=n;if((d[t>>2]|0)>8)ec(56783);return}function oh(e){e=e|0;Ld(e);Hw(e);return}function sh(e){e=e|0;return ch(e,0)|0}function uh(e){e=e|0;return ch(e,1)|0}function lh(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0;l=w;w=w+32|0;u=l+16|0;s=l+8|0;r=l+4|0;i=l;a=e+52|0;n=(f[a>>0]|0)!=0;e:do{if((t|0)==-1){if(n)t=-1;else{t=d[e+48>>2]|0;f[a>>0]=(t|0)!=-1&1}}else{o=e+48|0;t:do{if(n){d[r>>2]=d[o>>2];n=d[e+36>>2]|0;switch(D_[d[(d[n>>2]|0)+12>>2]&15](n,d[e+40>>2]|0,r,r+4|0,i,u,u+8|0,s)|0){case 1:case 2:{t=-1;break e}case 3:{f[u>>0]=d[o>>2];d[s>>2]=u+1;break}default:{}}n=e+32|0;while(1){r=d[s>>2]|0;if(r>>>0<=u>>>0)break t;e=r+-1|0;d[s>>2]=e;if((Gx(f[e>>0]|0,d[n>>2]|0)|0)==-1){t=-1;break e}}}}while(0);d[o>>2]=t;f[a>>0]=1}}while(0);w=l;return t|0}function ch(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0;g=w;w=w+32|0;m=g+16|0;p=g+8|0;l=g+4|0;c=g;i=e+52|0;e:do{if(f[i>>0]|0){r=e+48|0;n=d[r>>2]|0;if(t){d[r>>2]=-1;f[i>>0]=0}}else{n=d[e+44>>2]|0;n=(n|0)>1?n:1;h=e+32|0;if((n|0)>0){i=0;do{r=Ux(d[h>>2]|0)|0;if((r|0)==-1){n=-1;break e}f[m+i>>0]=r;i=i+1|0}while((i|0)<(n|0))}t:do{if(!(f[e+53>>0]|0)){o=e+40|0;s=e+36|0;u=p+4|0;n:while(1){v=d[o>>2]|0;i=v;r=d[i>>2]|0;i=d[i+4>>2]|0;y=d[s>>2]|0;a=m+n|0;switch(D_[d[(d[y>>2]|0)+16>>2]&15](y,v,m,a,l,p,u,c)|0){case 2:{n=-1;break e}case 3:break n;case 1:break;default:break t}y=d[o>>2]|0;d[y>>2]=r;d[y+4>>2]=i;if((n|0)==8){n=-1;break e}r=Ux(d[h>>2]|0)|0;if((r|0)==-1){n=-1;break e}f[a>>0]=r;n=n+1|0}d[p>>2]=f[m>>0]}else d[p>>2]=f[m>>0]}while(0);if(t){n=d[p>>2]|0;d[e+48>>2]=n;break}while(1){if((n|0)<=0)break;n=n+-1|0;if((Gx(f[m+n>>0]|0,d[h>>2]|0)|0)==-1){n=-1;break e}}n=d[p>>2]|0}}while(0);w=g;return n|0}function fh(e){e=e|0;Sd(e);Hw(e);return}function hh(e,t){e=e|0;t=t|0;y_[d[(d[e>>2]|0)+24>>2]&127](e)|0;t=Hc(t,44280)|0;d[e+36>>2]=t;t=(y_[d[(d[t>>2]|0)+28>>2]&127](t)|0)&1;f[e+44>>0]=t;return}function dh(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;l=w;w=w+16|0;s=l+8|0;o=l;n=e+36|0;r=e+40|0;i=s+8|0;a=s;t=e+32|0;e:while(1){e=d[n>>2]|0;e=k_[d[(d[e>>2]|0)+20>>2]&31](e,d[r>>2]|0,s,i,o)|0;c=(d[o>>2]|0)-a|0;if((zx(s,1,c,d[t>>2]|0)|0)!=(c|0)){e=-1;break}switch(e|0){case 1:break;case 2:{e=-1;break e}default:{u=4;break e}}}if((u|0)==4)e=((Lx(d[t>>2]|0)|0)!=0)<<31>>31;w=l;return e|0}function ph(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;e:do{if(!(f[e+44>>0]|0)){if((n|0)>0){r=t;t=0;while(1){if((E_[d[(d[e>>2]|0)+52>>2]&63](e,p[r>>0]|0)|0)==-1)break e;t=t+1|0;if((t|0)<(n|0))r=r+1|0;else break}}else t=0}else t=zx(t,1,n,d[e+32>>2]|0)|0}while(0);return t|0}function mh(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0;v=w;w=w+32|0;p=v+16|0;n=v+8|0;h=v+4|0;c=v;m=(t|0)==-1;e:do{if(!m){f[n>>0]=t;if(f[e+44>>0]|0)if((zx(n,1,1,d[e+32>>2]|0)|0)==1){g=11;break}else{n=-1;break}d[h>>2]=p;l=n+1|0;i=e+36|0;a=e+40|0;o=p+8|0;s=p;u=e+32|0;while(1){e=d[i>>2]|0;e=D_[d[(d[e>>2]|0)+12>>2]&15](e,d[a>>2]|0,n,l,c,p,o,h)|0;if((d[c>>2]|0)==(n|0)){n=-1;break e}if((e|0)==3)break;r=(e|0)==1;if(e>>>0>=2){n=-1;break e}e=(d[h>>2]|0)-s|0;if((zx(p,1,e,d[u>>2]|0)|0)!=(e|0)){n=-1;break e}if(r)n=r?d[c>>2]|0:n;else{g=11;break e}}if((zx(n,1,1,d[u>>2]|0)|0)!=1)n=-1;else g=11}else g=11}while(0);if((g|0)==11)n=m?0:t;w=v;return n|0}function gh(e,t){e=e|0;t=t|0;var n=0,r=0;r=Hc(t,44280)|0;n=e+36|0;d[n>>2]=r;r=y_[d[(d[r>>2]|0)+24>>2]&127](r)|0;t=e+44|0;d[t>>2]=r;n=d[n>>2]|0;n=(y_[d[(d[n>>2]|0)+28>>2]&127](n)|0)&1;f[e+53>>0]=n;if((d[t>>2]|0)>8)ec(56783);return}function vh(e){e=e|0;Sd(e);Hw(e);return}function yh(e){e=e|0;return Sh(e,0)|0}function bh(e){e=e|0;return Sh(e,1)|0}function wh(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0;l=w;w=w+32|0;u=l+16|0;s=l+4|0;r=l+8|0;i=l;a=e+52|0;n=(f[a>>0]|0)!=0;e:do{if((t|0)==-1){if(n)t=-1;else{t=d[e+48>>2]|0;f[a>>0]=(t|0)!=-1&1}}else{o=e+48|0;t:do{if(n){f[r>>0]=d[o>>2];n=d[e+36>>2]|0;switch(D_[d[(d[n>>2]|0)+12>>2]&15](n,d[e+40>>2]|0,r,r+1|0,i,u,u+8|0,s)|0){case 1:case 2:{t=-1;break e}case 3:{f[u>>0]=d[o>>2];d[s>>2]=u+1;break}default:{}}n=e+32|0;while(1){r=d[s>>2]|0;if(r>>>0<=u>>>0)break t;e=r+-1|0;d[s>>2]=e;if((Gx(f[e>>0]|0,d[n>>2]|0)|0)==-1){t=-1;break e}}}}while(0);d[o>>2]=t;f[a>>0]=1}}while(0);w=l;return t|0}function Sh(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,y=0,b=0;v=w;w=w+32|0;g=v+16|0;m=v+8|0;l=v+4|0;c=v;i=e+52|0;e:do{if(f[i>>0]|0){r=e+48|0;n=d[r>>2]|0;if(t){d[r>>2]=-1;f[i>>0]=0}}else{n=d[e+44>>2]|0;n=(n|0)>1?n:1;h=e+32|0;if((n|0)>0){i=0;do{r=Ux(d[h>>2]|0)|0;if((r|0)==-1){n=-1;break e}f[g+i>>0]=r;i=i+1|0}while((i|0)<(n|0))}t:do{if(!(f[e+53>>0]|0)){o=e+40|0;s=e+36|0;u=m+1|0;n:while(1){y=d[o>>2]|0;i=y;r=d[i>>2]|0;i=d[i+4>>2]|0;b=d[s>>2]|0;a=g+n|0;switch(D_[d[(d[b>>2]|0)+16>>2]&15](b,y,g,a,l,m,u,c)|0){case 2:{n=-1;break e}case 3:break n;case 1:break;default:break t}b=d[o>>2]|0;d[b>>2]=r;d[b+4>>2]=i;if((n|0)==8){n=-1;break e}r=Ux(d[h>>2]|0)|0;if((r|0)==-1){n=-1;break e}f[a>>0]=r;n=n+1|0}f[m>>0]=f[g>>0]|0}else f[m>>0]=f[g>>0]|0}while(0);if(t){n=f[m>>0]|0;d[e+48>>2]=n&255}else{while(1){if((n|0)<=0)break;n=n+-1|0;if((Gx(p[g+n>>0]|0,d[h>>2]|0)|0)==-1){n=-1;break e}}n=f[m>>0]|0}n=n&255}}while(0);w=v;return n|0}function xh(e){e=e|0;return}function _h(e){e=e|0;e=e+4|0;d[e>>2]=(d[e>>2]|0)+1;return}function Th(e){e=e|0;var t=0,n=0;n=e+4|0;t=d[n>>2]|0;d[n>>2]=t+-1;if(!t){m_[d[(d[e>>2]|0)+8>>2]&255](e);e=1}else e=0;return e|0}function Eh(e,t){e=e|0;t=t|0;d[e>>2]=36868;k=0;we(86,e+4|0,((f[t>>0]&1)==0?t+1|0:d[t+8>>2]|0)|0);e=k;k=0;if(e&1){e=Ze()|0;ut(e|0)}else return}function kh(e,t){e=e|0;t=t|0;d[e>>2]=36868;k=0;we(86,e+4|0,t|0);e=k;k=0;if(e&1){e=Ze()|0;ut(e|0)}else return}function Ch(e,t){e=e|0;t=t|0;var n=0,r=0;r=n_(t)|0;n=Ww(r+13|0)|0;d[n>>2]=r;d[n+4>>2]=r;d[n+8>>2]=0;n=n+12|0;Ny(n|0,t|0,r+1|0)|0;d[e>>2]=n;return}function Ah(e,t,n){e=e|0;t=t|0;n=n|0;d[e>>2]=n;d[e+4>>2]=t;return}function Oh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;i=w;w=w+16|0;r=i;I_[d[(d[e>>2]|0)+12>>2]&15](r,e,t);if((d[r+4>>2]|0)==(d[n+4>>2]|0))r=(d[r>>2]|0)==(d[n>>2]|0);else r=0;w=i;return r|0}function Ih(e,t,n){e=e|0;t=t|0;n=n|0;return((d[t>>2]|0)==(n|0)?(d[t+4>>2]|0)==(e|0):0)|0}function Mh(e,t,n){e=e|0;t=t|0;n=n|0;t=qS(n)|0;jh(e,t,n_(t)|0);return}function Dh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;o=w;w=w+16|0;a=o;r=d[t>>2]|0;do{if(r){i=f[n>>0]|0;if(!(i&1))i=(i&255)>>>1;else i=d[n+4>>2]|0;if(i){Kh(n,56990)|0;r=d[t>>2]|0}t=d[t+4>>2]|0;I_[d[(d[t>>2]|0)+24>>2]&15](a,t,r);t=f[a>>0]|0;i=(t&1)==0;k=0;Te(30,n|0,(i?a+1|0:d[a+8>>2]|0)|0,(i?(t&255)>>>1:d[a+4>>2]|0)|0)|0;t=k;k=0;if(t&1){o=Ze()|0;Gh(a);ut(o|0)}else{Gh(a);break}}}while(0);d[e>>2]=d[n>>2];d[e+4>>2]=d[n+4>>2];d[e+8>>2]=d[n+8>>2];d[n>>2]=0;d[n+4>>2]=0;d[n+8>>2]=0;w=o;return}function Rh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0;i=w;w=w+32|0;r=i+12|0;a=i;jh(a,n,n_(n)|0);k=0;Pe(10,r|0,t|0,a|0);n=k;k=0;do{if(!(n&1)){k=0;we(87,e|0,r|0);n=k;k=0;if(n&1){i=Ze()|0;Gh(r);r=i;break}else{Gh(r);Gh(a);d[e>>2]=42664;n=d[t+4>>2]|0;a=e+8|0;d[a>>2]=d[t>>2];d[a+4>>2]=n;w=i;return}}else r=Ze()|0}while(0);Gh(a);ut(r|0)}function Ph(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0;a=w;w=w+48|0;i=a+24|0;s=a+16|0;o=a;d[s>>2]=t;d[s+4>>2]=n;Uh(o,r);k=0;Pe(10,i|0,s|0,o|0);r=k;k=0;do{if(!(r&1)){k=0;we(87,e|0,i|0);s=k;k=0;if(s&1){s=Ze()|0;Gh(i);i=s;break}else{Gh(i);Gh(o);d[e>>2]=42664;d[e+8>>2]=t;d[e+12>>2]=n;w=a;return}}else i=Ze()|0}while(0);Gh(o);ut(i|0)}function Nh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;i=w;w=w+48|0;r=i+24|0;o=i+16|0;a=i;d[o>>2]=t;d[o+4>>2]=n;jh(a,58898,0);k=0;Pe(10,r|0,o|0,a|0);o=k;k=0;do{if(!(o&1)){k=0;we(87,e|0,r|0);o=k;k=0;if(o&1){o=Ze()|0;Gh(r);r=o;break}else{Gh(r);Gh(a);d[e>>2]=42664;d[e+8>>2]=t;d[e+12>>2]=n;w=i;return}}else r=Ze()|0}while(0);Gh(a);ut(r|0)}function Lh(e){e=e|0;tS(e);return}function Fh(e){e=e|0;tS(e);Hw(e);return}function Bh(e){e=e|0;return}function zh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;Ot(42676)|0;if((d[e>>2]|0)==1)do{je(42704,42676)|0}while((d[e>>2]|0)==1);do{if(!(d[e>>2]|0)){d[e>>2]=1;k=0;xe(72,42676)|0;r=k;k=0;if((((!(r&1)?(k=0,be(n|0,t|0),r=k,k=0,!(r&1)):0)?(k=0,xe(73,42676)|0,r=k,k=0,!(r&1)):0)?(d[e>>2]=-1,k=0,xe(72,42676)|0,r=k,k=0,!(r&1)):0)?(k=0,xe(74,42704)|0,r=k,k=0,!(r&1)):0)break;r=Ze(0)|0;at(r|0)|0;k=0;xe(73,42676)|0;r=k;k=0;if((!(r&1)?(d[e>>2]=0,k=0,xe(72,42676)|0,r=k,k=0,!(r&1)):0)?(k=0,xe(74,42704)|0,r=k,k=0,!(r&1)):0){k=0;Ne(5);k=0}t=Ze()|0;k=0;Ne(3);r=k;k=0;if(r&1){r=Ze(0)|0;Xt(r)}else ut(t|0)}else pt(42676)|0}while(0);return}function Uh(e,t){e=e|0;t=t|0;if(!(f[t>>0]&1)){d[e>>2]=d[t>>2];d[e+4>>2]=d[t+4>>2];d[e+8>>2]=d[t+8>>2]}else jh(e,d[t+8>>2]|0,d[t+4>>2]|0);return}function jh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;if(n>>>0>4294967279)jw(e);if(n>>>0<11){f[e>>0]=n<<1;e=e+1|0}else{i=n+16&-16;r=Ww(i)|0;d[e+8>>2]=r;d[e>>2]=i|1;d[e+4>>2]=n;e=r}Ny(e|0,t|0,n|0)|0;f[e+n>>0]=0;return}function Vh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;if(t>>>0>4294967279)jw(e);if(t>>>0<11){f[e>>0]=t<<1;e=e+1|0}else{i=t+16&-16;r=Ww(i)|0;d[e+8>>2]=r;d[e>>2]=i|1;d[e+4>>2]=t;e=r}Dy(e|0,n|0,t|0)|0;f[e+t>>0]=0;return}function Gh(e){e=e|0;if(f[e>>0]&1)Hw(d[e+8>>2]|0);return}function Wh(e,t){e=e|0;t=t|0;var n=0,r=0;if((e|0)!=(t|0)){n=f[t>>0]|0;r=(n&1)==0;qh(e,r?t+1|0:d[t+8>>2]|0,r?(n&255)>>>1:d[t+4>>2]|0)|0}return e|0}function Hh(e,t){e=e|0;t=t|0;return qh(e,t,n_(t)|0)|0}function qh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0;r=f[e>>0]|0;if(!(r&1))a=10;else{r=d[e>>2]|0;a=(r&-2)+-1|0;r=r&255}i=(r&1)==0;do{if(a>>>0>=n>>>0){if(i)r=e+1|0;else r=d[e+8>>2]|0;Fy(r|0,t|0,n|0)|0;f[r+n>>0]=0;if(!(f[e>>0]&1)){f[e>>0]=n<<1;break}else{d[e+4>>2]=n;break}}else{if(i)r=(r&255)>>>1;else r=d[e+4>>2]|0;$h(e,a,n-a|0,r,0,r,n,t)}}while(0);return e|0}function Qh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;r=f[e>>0]|0;i=(r&1)==0;if(i)r=(r&255)>>>1;else r=d[e+4>>2]|0;do{if(r>>>0>=t>>>0){if(i){f[e+1+t>>0]=0;f[e>>0]=t<<1;break}else{f[(d[e+8>>2]|0)+t>>0]=0;d[e+4>>2]=t;break}}else Xh(e,t-r|0,n)|0}while(0);return}function Xh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0;if(t){r=f[e>>0]|0;if(!(r&1))i=10;else{r=d[e>>2]|0;i=(r&-2)+-1|0;r=r&255}if(!(r&1))a=(r&255)>>>1;else a=d[e+4>>2]|0;if((i-a|0)>>>0<t>>>0){ed(e,i,t-i+a|0,a,a,0,0);r=f[e>>0]|0}if(!(r&1))i=e+1|0;else i=d[e+8>>2]|0;Dy(i+a|0,n|0,t|0)|0;r=a+t|0;if(!(f[e>>0]&1))f[e>>0]=r<<1;else d[e+4>>2]=r;f[i+r>>0]=0}return e|0}function Yh(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0;if(t>>>0>4294967279)jw(e);n=f[e>>0]|0;if(!(n&1))r=10;else{n=d[e>>2]|0;r=(n&-2)+-1|0;n=n&255}if(!(n&1))s=(n&255)>>>1;else s=d[e+4>>2]|0;t=s>>>0>t>>>0?s:t;if(t>>>0<11)o=10;else o=(t+16&-16)+-1|0;e:do{if((o|0)!=(r|0)){do{if((o|0)!=10){t=o+1|0;if(o>>>0<=r>>>0){k=0;t=xe(67,t|0)|0;a=k;k=0;if(a&1){e=Ze(0)|0;at(e|0)|0;st();break e}}else t=Ww(t)|0;if(!(n&1)){r=1;i=e+1|0;a=0;break}else{r=1;i=d[e+8>>2]|0;a=1;break}}else{t=e+1|0;r=0;i=d[e+8>>2]|0;a=1}}while(0);if(!(n&1))n=(n&255)>>>1;else n=d[e+4>>2]|0;Ny(t|0,i|0,n+1|0)|0;if(a)Hw(i);if(r){d[e>>2]=o+1|1;d[e+4>>2]=s;d[e+8>>2]=t;break}else{f[e>>0]=s<<1;break}}}while(0);return}function Kh(e,t){e=e|0;t=t|0;return Jh(e,t,n_(t)|0)|0}function Zh(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0;n=f[e>>0]|0;r=(n&1)!=0;if(r){i=(d[e>>2]&-2)+-1|0;a=d[e+4>>2]|0}else{i=10;a=(n&255)>>>1}if((a|0)==(i|0)){ed(e,i,1,i,i,0,0);if(!(f[e>>0]&1))i=7;else i=8}else if(r)i=8;else i=7;if((i|0)==7){f[e>>0]=(a<<1)+2;n=e+1|0;r=a+1|0}else if((i|0)==8){n=d[e+8>>2]|0;r=a+1|0;d[e+4>>2]=r}f[n+a>>0]=t;f[n+r>>0]=0;return}function Jh(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0;r=f[e>>0]|0;if(!(r&1))i=10;else{r=d[e>>2]|0;i=(r&-2)+-1|0;r=r&255}if(!(r&1))a=(r&255)>>>1;else a=d[e+4>>2]|0;if((i-a|0)>>>0>=n>>>0){if(n){if(!(r&1))i=e+1|0;else i=d[e+8>>2]|0;Ny(i+a|0,t|0,n|0)|0;r=a+n|0;if(!(f[e>>0]&1))f[e>>0]=r<<1;else d[e+4>>2]=r;f[i+r>>0]=0}}else $h(e,i,n-i+a|0,a,a,0,n,t);return e|0}function $h(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;var u=0,l=0,c=0;if((-18-t|0)>>>0<n>>>0)jw(e);if(!(f[e>>0]&1))c=e+1|0;else c=d[e+8>>2]|0;if(t>>>0<2147483623){u=n+t|0;l=t<<1;u=u>>>0<l>>>0?l:u;u=u>>>0<11?11:u+16&-16}else u=-17;l=Ww(u)|0;if(i)Ny(l|0,c|0,i|0)|0;if(o)Ny(l+i|0,s|0,o|0)|0;n=r-a|0;if((n|0)!=(i|0))Ny(l+(o+i)|0,c+(a+i)|0,n-i|0)|0;if((t|0)!=10)Hw(c);d[e+8>>2]=l;d[e>>2]=u|1;t=n+o|0;d[e+4>>2]=t;f[l+t>>0]=0;return}function ed(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;var s=0,u=0,l=0;if((-17-t|0)>>>0<n>>>0)jw(e);if(!(f[e>>0]&1))l=e+1|0;else l=d[e+8>>2]|0;if(t>>>0<2147483623){s=n+t|0;u=t<<1;s=s>>>0<u>>>0?u:s;s=s>>>0<11?11:s+16&-16}else s=-17;u=Ww(s)|0;if(i)Ny(u|0,l|0,i|0)|0;n=r-a|0;if((n|0)!=(i|0))Ny(u+(o+i)|0,l+(a+i)|0,n-i|0)|0;if((t|0)!=10)Hw(l);d[e+8>>2]=u;d[e>>2]=s|1;return}function td(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;if(n>>>0>1073741807)jw(e);if(n>>>0<2){f[e>>0]=n<<1;e=e+4|0}else{i=n+4&-4;r=Ww(i<<2)|0;d[e+8>>2]=r;d[e>>2]=i|1;d[e+4>>2]=n;e=r}a_(e,t,n)|0;d[e+(n<<2)>>2]=0;return}function nd(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;if(t>>>0>1073741807)jw(e);if(t>>>0<2){f[e>>0]=t<<1;e=e+4|0}else{i=t+4&-4;r=Ww(i<<2)|0;d[e+8>>2]=r;d[e>>2]=i|1;d[e+4>>2]=t;e=r}s_(e,n,t)|0;d[e+(t<<2)>>2]=0;return}function rd(e){e=e|0;if(f[e>>0]&1)Hw(d[e+8>>2]|0);return}function id(e,t){e=e|0;t=t|0;return ad(e,t,i_(t)|0)|0}function ad(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0;r=f[e>>0]|0;if(!(r&1))a=1;else{r=d[e>>2]|0;a=(r&-2)+-1|0;r=r&255}i=(r&1)==0;do{if(a>>>0>=n>>>0){if(i)r=e+4|0;else r=d[e+8>>2]|0;o_(r,t,n)|0;d[r+(n<<2)>>2]=0;if(!(f[e>>0]&1)){f[e>>0]=n<<1;break}else{d[e+4>>2]=n;break}}else{if(i)r=(r&255)>>>1;else r=d[e+4>>2]|0;ud(e,a,n-a|0,r,0,r,n,t)}}while(0);return e|0}function od(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0;if(t>>>0>1073741807)jw(e);n=f[e>>0]|0;if(!(n&1))r=1;else{n=d[e>>2]|0;r=(n&-2)+-1|0;n=n&255}if(!(n&1))s=(n&255)>>>1;else s=d[e+4>>2]|0;t=s>>>0>t>>>0?s:t;if(t>>>0<2)o=1;else o=(t+4&-4)+-1|0;e:do{if((o|0)!=(r|0)){do{if((o|0)!=1){t=(o<<2)+4|0;if(o>>>0<=r>>>0){k=0;t=xe(67,t|0)|0;a=k;k=0;if(a&1){e=Ze(0)|0;at(e|0)|0;st();break e}}else t=Ww(t)|0;if(!(n&1)){r=1;i=e+4|0;a=0;break}else{r=1;i=d[e+8>>2]|0;a=1;break}}else{t=e+4|0;r=0;i=d[e+8>>2]|0;a=1}}while(0);if(!(n&1))n=(n&255)>>>1;else n=d[e+4>>2]|0;a_(t,i,n+1|0)|0;if(a)Hw(i);if(r){d[e>>2]=o+1|1;d[e+4>>2]=s;d[e+8>>2]=t;break}else{f[e>>0]=s<<1;break}}}while(0);return}function sd(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0;n=f[e>>0]|0;r=(n&1)!=0;if(r){i=(d[e>>2]&-2)+-1|0;a=d[e+4>>2]|0}else{i=1;a=(n&255)>>>1}if((a|0)==(i|0)){ld(e,i,1,i,i,0,0);if(!(f[e>>0]&1))i=7;else i=8}else if(r)i=8;else i=7;if((i|0)==7){f[e>>0]=(a<<1)+2;n=e+4|0;r=a+1|0}else if((i|0)==8){n=d[e+8>>2]|0;r=a+1|0;d[e+4>>2]=r}d[n+(a<<2)>>2]=t;d[n+(r<<2)>>2]=0;return}function ud(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;var u=0,l=0,c=0;if((1073741806-t|0)>>>0<n>>>0)jw(e);if(!(f[e>>0]&1))c=e+4|0;else c=d[e+8>>2]|0;if(t>>>0<536870887){u=n+t|0;l=t<<1;u=u>>>0<l>>>0?l:u;u=u>>>0<2?2:u+4&-4}else u=1073741807;l=Ww(u<<2)|0;if(i)a_(l,c,i)|0;if(o)a_(l+(i<<2)|0,s,o)|0;n=r-a|0;if((n|0)!=(i|0))a_(l+(o+i<<2)|0,c+(a+i<<2)|0,n-i|0)|0;if((t|0)!=1)Hw(c);d[e+8>>2]=l;d[e>>2]=u|1;t=n+o|0;d[e+4>>2]=t;d[l+(t<<2)>>2]=0;return}function ld(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;var s=0,u=0,l=0;if((1073741807-t|0)>>>0<n>>>0)jw(e);if(!(f[e>>0]&1))l=e+4|0;else l=d[e+8>>2]|0;if(t>>>0<536870887){s=n+t|0;u=t<<1;s=s>>>0<u>>>0?u:s;s=s>>>0<2?2:s+4&-4}else s=1073741807;u=Ww(s<<2)|0;if(i)a_(u,l,i)|0;n=r-a|0;if((n|0)!=(i|0))a_(u+(o+i<<2)|0,l+(a+i<<2)|0,n-i|0)|0;if((t|0)!=1)Hw(l);d[e+8>>2]=u;d[e>>2]=s|1;return}function cd(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;i=t;r=n-i|0;if(r>>>0>4294967279)jw(e);if(r>>>0<11){f[e>>0]=r<<1;a=e+1|0}else{o=r+16&-16;a=Ww(o)|0;d[e+8>>2]=a;d[e>>2]=o|1;d[e+4>>2]=r}e=n-i|0;if((t|0)!=(n|0)){r=a;while(1){f[r>>0]=f[t>>0]|0;t=t+1|0;if((t|0)==(n|0))break;else r=r+1|0}}f[a+e>>0]=0;return}function fd(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;a=t;r=n-a|0;i=r>>2;if(i>>>0>1073741807)jw(e);if(i>>>0<2){f[e>>0]=r>>>1;e=e+4|0}else{o=i+4&-4;r=Ww(o<<2)|0;d[e+8>>2]=r;d[e>>2]=o|1;d[e+4>>2]=i;e=r}i=(n-a|0)>>>2;if((t|0)!=(n|0)){r=e;while(1){d[r>>2]=d[t>>2];t=t+4|0;if((t|0)==(n|0))break;else r=r+4|0}}d[e+(i<<2)>>2]=0;return}function hd(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;n=w;w=w+16|0;r=n;i=(d[e+24>>2]|0)==0;d[e+16>>2]=i&1|t;if(!((i&1|t)&d[e+20>>2])){w=n;return}t=Ke(16)|0;Ep()|0;d[r>>2]=1;d[r+4>>2]=43112;k=0;Pe(11,t|0,57437,r|0);i=k;k=0;if(i&1){i=Ze()|0;Ye(t|0);ut(i|0)}else _t(t|0,864,112)}function dd(e){e=e|0;var t=0;d[e>>2]=43068;k=0;we(88,e|0,0);t=k;k=0;if(t&1){t=Ze(0)|0;Xt(t)}else{Gc(e+28|0);jf(d[e+32>>2]|0);jf(d[e+36>>2]|0);jf(d[e+48>>2]|0);jf(d[e+60>>2]|0);return}}function pd(e){e=e|0;dd(e);return}function md(e){e=e|0;dd(e);Hw(e);return}function gd(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;n=d[e+40>>2]|0;r=e+32|0;i=e+36|0;if(n)do{n=n+-1|0;I_[d[(d[r>>2]|0)+(n<<2)>>2]&15](t,e,d[(d[i>>2]|0)+(n<<2)>>2]|0)}while((n|0)!=0);return}function vd(e){e=e|0;var t=0,n=0;n=w;w=w+16|0;t=n;Vc(t,e+28|0);w=n;return d[t>>2]|0}function yd(e,t){e=e|0;t=t|0;var n=0;d[e+24>>2]=t;d[e+16>>2]=(t|0)==0&1;d[e+20>>2]=0;d[e+4>>2]=4098;d[e+12>>2]=0;d[e+8>>2]=6;n=e+28|0;t=e+32|0;e=t+40|0;do{d[t>>2]=0;t=t+4|0}while((t|0)<(e|0));jc(n);return}function bd(e){e=e|0;dd(e);return}function wd(e){e=e|0;dd(e);Hw(e);return}function Sd(e){e=e|0;d[e>>2]=42760;Gc(e+4|0);return}function xd(e){e=e|0;d[e>>2]=42760;Gc(e+4|0);Hw(e);return}function _d(e){e=e|0;d[e>>2]=42760;jc(e+4|0);e=e+8|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[e+16>>2]=0;d[e+20>>2]=0;return}function Td(e,t){e=e|0;t=t|0;return}function Ed(e,t,n){e=e|0;t=t|0;n=n|0;return e|0}function kd(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;t=e;d[t>>2]=0;d[t+4>>2]=0;t=e+8|0;d[t>>2]=-1;d[t+4>>2]=-1;return}function Cd(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;t=e;d[t>>2]=0;d[t+4>>2]=0;t=e+8|0;d[t>>2]=-1;d[t+4>>2]=-1;return}function Ad(e){e=e|0;return 0}function Od(e){e=e|0;return 0}function Id(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;a=e+12|0;o=e+16|0;e:do{if((n|0)>0){i=t;t=0;while(1){r=d[a>>2]|0;if(r>>>0<(d[o>>2]|0)>>>0){d[a>>2]=r+1;r=f[r>>0]|0}else{r=y_[d[(d[e>>2]|0)+40>>2]&127](e)|0;if((r|0)==-1)break e;r=r&255}f[i>>0]=r;t=t+1|0;if((t|0)<(n|0))i=i+1|0;else break}}else t=0}while(0);return t|0}function Md(e){e=e|0;return-1}function Dd(e){e=e|0;var t=0;if((y_[d[(d[e>>2]|0)+36>>2]&127](e)|0)==-1)e=-1;else{t=e+12|0;e=d[t>>2]|0;d[t>>2]=e+1;e=p[e>>0]|0}return e|0}function Rd(e,t){e=e|0;t=t|0;return-1}function Pd(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0;a=e+24|0;o=e+28|0;e:do{if((n|0)>0){i=t;t=0;while(1){r=d[a>>2]|0;if(r>>>0>=(d[o>>2]|0)>>>0){if((E_[d[(d[e>>2]|0)+52>>2]&63](e,p[i>>0]|0)|0)==-1)break e}else{s=f[i>>0]|0;d[a>>2]=r+1;f[r>>0]=s}t=t+1|0;if((t|0)<(n|0))i=i+1|0;else break}}else t=0}while(0);return t|0}function Nd(e,t){e=e|0;t=t|0;return-1}function Ld(e){e=e|0;d[e>>2]=42824;Gc(e+4|0);return}function Fd(e){e=e|0;d[e>>2]=42824;Gc(e+4|0);Hw(e);return}function Bd(e){e=e|0;d[e>>2]=42824;jc(e+4|0);e=e+8|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[e+16>>2]=0;d[e+20>>2]=0;return}function zd(e,t){e=e|0;t=t|0;return}function Ud(e,t,n){e=e|0;t=t|0;n=n|0;return e|0}function jd(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;t=e;d[t>>2]=0;d[t+4>>2]=0;t=e+8|0;d[t>>2]=-1;d[t+4>>2]=-1;return}function Vd(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;t=e;d[t>>2]=0;d[t+4>>2]=0;t=e+8|0;d[t>>2]=-1;d[t+4>>2]=-1;return}function Gd(e){e=e|0;return 0}function Wd(e){e=e|0;return 0}function Hd(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;a=e+12|0;o=e+16|0;e:do{if((n|0)>0){i=t;t=0;while(1){r=d[a>>2]|0;if(r>>>0>=(d[o>>2]|0)>>>0){r=y_[d[(d[e>>2]|0)+40>>2]&127](e)|0;if((r|0)==-1)break e}else{d[a>>2]=r+4;r=d[r>>2]|0}d[i>>2]=r;t=t+1|0;if((t|0)<(n|0))i=i+4|0;else break}}else t=0}while(0);return t|0}function qd(e){e=e|0;return-1}function Qd(e){e=e|0;var t=0;if((y_[d[(d[e>>2]|0)+36>>2]&127](e)|0)==-1)e=-1;else{t=e+12|0;e=d[t>>2]|0;d[t>>2]=e+4;e=d[e>>2]|0}return e|0}function Xd(e,t){e=e|0;t=t|0;return-1}function Yd(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0;a=e+24|0;o=e+28|0;e:do{if((n|0)>0){i=t;t=0;while(1){r=d[a>>2]|0;if(r>>>0>=(d[o>>2]|0)>>>0){if((E_[d[(d[e>>2]|0)+52>>2]&63](e,d[i>>2]|0)|0)==-1)break e}else{s=d[i>>2]|0;d[a>>2]=r+4;d[r>>2]=s}t=t+1|0;if((t|0)<(n|0))i=i+4|0;else break}}else t=0}while(0);return t|0}function Kd(e,t){e=e|0;t=t|0;return-1}function Zd(e){e=e|0;dd(e+8|0);return}function Jd(e){e=e|0;dd(e+((d[(d[e>>2]|0)+-12>>2]|0)+8)|0);return}function $d(e){e=e|0;dd(e+8|0);Hw(e);return}function ep(e){e=e|0;$d(e+(d[(d[e>>2]|0)+-12>>2]|0)|0);return}function tp(e){e=e|0;var t=0,n=0,r=0,i=0;r=w;w=w+16|0;n=r;e:do{if(d[e+((d[(d[e>>2]|0)+-12>>2]|0)+24)>>2]|0){k=0;we(65,n|0,e|0);t=k;k=0;t:do{if(t&1)t=Ze(0)|0;else{do{if(f[n>>0]|0){t=d[e+((d[(d[e>>2]|0)+-12>>2]|0)+24)>>2]|0;k=0;t=xe(d[(d[t>>2]|0)+24>>2]|0,t|0)|0;i=k;k=0;if(!(i&1)){if((t|0)!=-1)break;i=d[(d[e>>2]|0)+-12>>2]|0;k=0;we(66,e+i|0,d[e+(i+16)>>2]|1|0);i=k;k=0;if(!(i&1))break}t=Ze(0)|0;pp(n);break t}}while(0);pp(n);break e}}while(0);at(t|0)|0;k=0;be(181,e+(d[(d[e>>2]|0)+-12>>2]|0)|0);i=k;k=0;if(!(i&1)){st();break}t=Ze()|0;k=0;Ne(3);i=k;k=0;if(i&1){i=Ze(0)|0;Xt(i)}else ut(t|0)}}while(0);w=r;return e|0}function np(e){e=e|0;var t=0;t=e+16|0;d[t>>2]=d[t>>2]|1;if(!(d[e+20>>2]&1))return;else Tt()}function rp(e){e=e|0;dd(e+8|0);return}function ip(e){e=e|0;dd(e+((d[(d[e>>2]|0)+-12>>2]|0)+8)|0);return}function ap(e){e=e|0;dd(e+8|0);Hw(e);return}function op(e){e=e|0;ap(e+(d[(d[e>>2]|0)+-12>>2]|0)|0);return}function sp(e){e=e|0;var t=0,n=0,r=0,i=0;r=w;w=w+16|0;n=r;e:do{if(d[e+((d[(d[e>>2]|0)+-12>>2]|0)+24)>>2]|0){k=0;we(89,n|0,e|0);t=k;k=0;t:do{if(t&1)t=Ze(0)|0;else{do{if(f[n>>0]|0){t=d[e+((d[(d[e>>2]|0)+-12>>2]|0)+24)>>2]|0;k=0;t=xe(d[(d[t>>2]|0)+24>>2]|0,t|0)|0;i=k;k=0;if(!(i&1)){if((t|0)!=-1)break;i=d[(d[e>>2]|0)+-12>>2]|0;k=0;we(66,e+i|0,d[e+(i+16)>>2]|1|0);i=k;k=0;if(!(i&1))break}t=Ze(0)|0;xp(n);break t}}while(0);xp(n);break e}}while(0);at(t|0)|0;k=0;be(181,e+(d[(d[e>>2]|0)+-12>>2]|0)|0);i=k;k=0;if(!(i&1)){st();break}t=Ze()|0;k=0;Ne(3);i=k;k=0;if(i&1){i=Ze(0)|0;Xt(i)}else ut(t|0)}}while(0);w=r;return e|0}function up(e,t){e=e|0;t=t|0;return}function lp(e){e=e|0;dd(e+4|0);return}function cp(e){e=e|0;dd(e+((d[(d[e>>2]|0)+-12>>2]|0)+4)|0);return}function fp(e){e=e|0;dd(e+4|0);Hw(e);return}function hp(e){e=e|0;fp(e+(d[(d[e>>2]|0)+-12>>2]|0)|0);return}function dp(e,t){e=e|0;t=t|0;var n=0;f[e>>0]=0;d[e+4>>2]=t;n=d[(d[t>>2]|0)+-12>>2]|0;if(!(d[t+(n+16)>>2]|0)){n=d[t+(n+72)>>2]|0;if(n)tp(n)|0;f[e>>0]=1}return}function pp(e){e=e|0;var t=0,n=0;e=e+4|0;n=d[e>>2]|0;t=d[(d[n>>2]|0)+-12>>2]|0;do{if((((d[n+(t+24)>>2]|0)!=0?(d[n+(t+16)>>2]|0)==0:0)?(d[n+(t+4)>>2]&8192|0)!=0:0)?!(lt()|0):0){t=d[e>>2]|0;t=d[t+((d[(d[t>>2]|0)+-12>>2]|0)+24)>>2]|0;k=0;t=xe(d[(d[t>>2]|0)+24>>2]|0,t|0)|0;n=k;k=0;if(!(n&1)){if((t|0)!=-1)break;t=d[e>>2]|0;n=d[(d[t>>2]|0)+-12>>2]|0;k=0;we(66,t+n|0,d[t+(n+16)>>2]|1|0);n=k;k=0;if(!(n&1))break}n=Ze(0)|0;at(n|0)|0;k=0;Ne(3);n=k;k=0;if(n&1){n=Ze(0)|0;Xt(n)}}}while(0);return}function mp(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;p=w;w=w+32|0;s=p+20|0;u=p+16|0;c=p+8|0;n=p;k=0;we(65,c|0,e|0);l=k;k=0;e:do{if(l&1){n=Ze(0)|0;r=e;i=e;h=19}else{do{if(f[c>>0]|0){l=vd(e+(d[(d[e>>2]|0)+-12>>2]|0)|0)|0;d[n>>2]=l;k=0;l=Oe(37,n|0,43392)|0;o=k;k=0;if(o&1){h=Ze(0)|0;Gc(n);n=h}else{Gc(n);i=d[(d[e>>2]|0)+-12>>2]|0;o=d[e+(i+24)>>2]|0;r=e+i|0;i=e+(i+76)|0;n=d[i>>2]|0;do{if((n|0)==-1){n=vd(r)|0;d[s>>2]=n;k=0;n=Oe(37,s|0,44220)|0;m=k;k=0;if(!(m&1)?(k=0,a=Oe(d[(d[n>>2]|0)+28>>2]|0,n|0,32)|0,m=k,k=0,!(m&1)):0){Gc(s);n=a<<24>>24;d[i>>2]=n;h=10;break}n=Ze(0)|0;Gc(s)}else h=10}while(0);if((h|0)==10){m=d[(d[l>>2]|0)+16>>2]|0;d[u>>2]=o;k=0;d[s>>2]=d[u>>2];n=Ie(m|0,l|0,s|0,r|0,n&255|0,t|0)|0;m=k;k=0;if(!(m&1)){if(n)break;m=d[(d[e>>2]|0)+-12>>2]|0;k=0;we(66,e+m|0,d[e+(m+16)>>2]|5|0);m=k;k=0;if(!(m&1))break}n=Ze(0)|0}}pp(c);r=e;i=e;h=19;break e}}while(0);pp(c)}}while(0);do{if((h|0)==19){at(n|0)|0;k=0;be(181,r+(d[(d[i>>2]|0)+-12>>2]|0)|0);m=k;k=0;if(!(m&1)){st();break}n=Ze()|0;k=0;Ne(3);m=k;k=0;if(m&1){m=Ze(0)|0;Xt(m)}else ut(n|0)}}while(0);w=p;return e|0}function gp(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;p=w;w=w+32|0;s=p+20|0;u=p+16|0;c=p+8|0;n=p;k=0;we(65,c|0,e|0);l=k;k=0;e:do{if(l&1){n=Ze(0)|0;r=e;i=e;h=19}else{do{if(f[c>>0]|0){l=vd(e+(d[(d[e>>2]|0)+-12>>2]|0)|0)|0;d[n>>2]=l;k=0;l=Oe(37,n|0,43392)|0;o=k;k=0;if(o&1){h=Ze(0)|0;Gc(n);n=h}else{Gc(n);i=d[(d[e>>2]|0)+-12>>2]|0;o=d[e+(i+24)>>2]|0;r=e+i|0;i=e+(i+76)|0;n=d[i>>2]|0;do{if((n|0)==-1){n=vd(r)|0;d[s>>2]=n;k=0;n=Oe(37,s|0,44220)|0;m=k;k=0;if(!(m&1)?(k=0,a=Oe(d[(d[n>>2]|0)+28>>2]|0,n|0,32)|0,m=k,k=0,!(m&1)):0){Gc(s);n=a<<24>>24;d[i>>2]=n;h=10;break}n=Ze(0)|0;Gc(s)}else h=10}while(0);if((h|0)==10){m=d[(d[l>>2]|0)+24>>2]|0;d[u>>2]=o;k=0;d[s>>2]=d[u>>2];n=Ie(m|0,l|0,s|0,r|0,n&255|0,t|0)|0;m=k;k=0;if(!(m&1)){if(n)break;m=d[(d[e>>2]|0)+-12>>2]|0;k=0;we(66,e+m|0,d[e+(m+16)>>2]|5|0);m=k;k=0;if(!(m&1))break}n=Ze(0)|0}}pp(c);r=e;i=e;h=19;break e}}while(0);pp(c)}}while(0);do{if((h|0)==19){at(n|0)|0;k=0;be(181,r+(d[(d[i>>2]|0)+-12>>2]|0)|0);m=k;k=0;if(!(m&1)){st();break}n=Ze()|0;k=0;Ne(3);m=k;k=0;if(m&1){m=Ze(0)|0;Xt(m)}else ut(n|0)}}while(0);w=p;return e|0}function vp(e){e=e|0;dd(e+4|0);return}function yp(e){e=e|0;dd(e+((d[(d[e>>2]|0)+-12>>2]|0)+4)|0);return}function bp(e){e=e|0;dd(e+4|0);Hw(e);return}function wp(e){e=e|0;bp(e+(d[(d[e>>2]|0)+-12>>2]|0)|0);return}function Sp(e,t){e=e|0;t=t|0;var n=0;f[e>>0]=0;d[e+4>>2]=t;n=d[(d[t>>2]|0)+-12>>2]|0;if(!(d[t+(n+16)>>2]|0)){n=d[t+(n+72)>>2]|0;if(n)sp(n)|0;f[e>>0]=1}return}function xp(e){e=e|0;var t=0,n=0;e=e+4|0;n=d[e>>2]|0;t=d[(d[n>>2]|0)+-12>>2]|0;do{if((((d[n+(t+24)>>2]|0)!=0?(d[n+(t+16)>>2]|0)==0:0)?(d[n+(t+4)>>2]&8192|0)!=0:0)?!(lt()|0):0){t=d[e>>2]|0;t=d[t+((d[(d[t>>2]|0)+-12>>2]|0)+24)>>2]|0;k=0;t=xe(d[(d[t>>2]|0)+24>>2]|0,t|0)|0;n=k;k=0;if(!(n&1)){if((t|0)!=-1)break;t=d[e>>2]|0;n=d[(d[t>>2]|0)+-12>>2]|0;k=0;we(66,t+n|0,d[t+(n+16)>>2]|1|0);n=k;k=0;if(!(n&1))break}n=Ze(0)|0;at(n|0)|0;k=0;Ne(3);n=k;k=0;if(n&1){n=Ze(0)|0;Xt(n)}}}while(0);return}function _p(e){e=e|0;return 57453}function Tp(e,t,n){e=e|0;t=t|0;n=n|0;if((n|0)!=1&(n|0)<257)Mh(e,t,n);else jh(e,57462,35);return}function Ep(){if((f[1048]|0)==0?(He(1048)|0)!=0:0){d[10778]=43084;xt(72,43112,E|0)|0;$e(1048)}return 43112}function kp(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0;r=w;w=w+16|0;i=r+8|0;a=r;s=n;o=d[s+4>>2]|0;n=a;d[n>>2]=d[s>>2];d[n+4>>2]=o;d[i>>2]=d[a>>2];d[i+4>>2]=d[a+4>>2];Rh(e,i,t);d[e>>2]=43048;w=r;return}function Cp(e){e=e|0;Lh(e);return}function Ap(e){e=e|0;Lh(e);Hw(e);return}function Op(e){e=e|0;dd(e);Hw(e);return}function Ip(e){e=e|0;Hw(e);return}function Mp(e){e=e|0;return}function Dp(e){e=e|0;return}function Rp(e){e=e|0;Hw(e);return}function Pp(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0;e:do{if((r|0)==(i|0))o=6;else while(1){if((t|0)==(n|0)){t=-1;break e}e=f[t>>0]|0;a=f[r>>0]|0;if(e<<24>>24<a<<24>>24){t=-1;break e}if(a<<24>>24<e<<24>>24){t=1;break e}t=t+1|0;r=r+1|0;if((r|0)==(i|0)){o=6;break}}}while(0);if((o|0)==6)t=(t|0)!=(n|0)&1;return t|0}function Np(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;cd(e,n,r);return}function Lp(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;if((t|0)==(n|0))e=0;else{e=0;do{e=(f[t>>0]|0)+(e<<4)|0;r=e&-268435456;e=(r>>>24|r)^e;t=t+1|0}while((t|0)!=(n|0))}return e|0}function Fp(e){e=e|0;return}function Bp(e){e=e|0;Hw(e);return}function zp(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0;e:do{if((r|0)==(i|0))o=6;else while(1){if((t|0)==(n|0)){t=-1;break e}e=d[t>>2]|0;a=d[r>>2]|0;if((e|0)<(a|0)){t=-1;break e}if((a|0)<(e|0)){t=1;break e}t=t+4|0;r=r+4|0;if((r|0)==(i|0)){o=6;break}}}while(0);if((o|0)==6)t=(t|0)!=(n|0)&1;return t|0}function Up(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;fd(e,n,r);return}function jp(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;if((t|0)==(n|0))e=0;else{e=0;do{e=(d[t>>2]|0)+(e<<4)|0;r=e&-268435456;e=(r>>>24|r)^e;t=t+4|0}while((t|0)!=(n|0))}return e|0}function Vp(e){e=e|0;return}function Gp(e){e=e|0;Hw(e);return}function Wp(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0;g=w;w=w+64|0;p=g+56|0;o=g+52|0;c=g+48|0;s=g+44|0;u=g+40|0;l=g+36|0;h=g+32|0;v=g+8|0;m=g;e:do{if(!(d[r+4>>2]&1)){d[c>>2]=-1;v=d[(d[e>>2]|0)+16>>2]|0;d[s>>2]=d[t>>2];d[u>>2]=d[n>>2];d[o>>2]=d[s>>2];d[p>>2]=d[u>>2];o=v_[v&63](e,o,p,r,i,c)|0;d[t>>2]=o;switch(d[c>>2]|0){case 0:{f[a>>0]=0;break e}case 1:{f[a>>0]=1;break e}default:{f[a>>0]=1;d[i>>2]=4;break e}}}else{o=vd(r)|0;d[l>>2]=o;k=0;e=Oe(37,l|0,44220)|0;c=k;k=0;do{if(!(c&1)){Th(o)|0;o=vd(r)|0;d[h>>2]=o;k=0;u=Oe(37,h|0,44360)|0;h=k;k=0;if(h&1){v=Ze()|0;Th(o)|0;o=v;break}Th(o)|0;k=0;we(d[(d[u>>2]|0)+24>>2]|0,v|0,u|0);h=k;k=0;if(!(h&1)){s=v+12|0;k=0;we(d[(d[u>>2]|0)+28>>2]|0,s|0,u|0);h=k;k=0;if(!(h&1)){d[m>>2]=d[n>>2];k=0;d[p>>2]=d[m>>2];o=ge(7,t|0,p|0,v|0,v+24|0,e|0,i|0,1)|0;i=k;k=0;if(i&1){o=Ze()|0;Gh(v+12|0);Gh(v);break}else{f[a>>0]=(o|0)==(v|0)&1;o=d[t>>2]|0;Gh(v+12|0);Gh(v);break e}}}else s=v;o=Ze()|0;u=j;if((v|0)!=(s|0))do{s=s+-12|0;Gh(s)}while((s|0)!=(v|0))}else{v=Ze()|0;Th(o)|0;o=v}}while(0);ut(o|0)}}while(0);w=g;return o|0}function Hp(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=Xg(e,u,s,r,i,a)|0;w=o;return e|0}function qp(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=Yg(e,u,s,r,i,a)|0;w=o;return e|0}function Qp(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=Kg(e,u,s,r,i,a)|0;w=o;return e|0}function Xp(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=Zg(e,u,s,r,i,a)|0;w=o;return e|0}function Yp(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=Jg(e,u,s,r,i,a)|0;w=o;return e|0}function Kp(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=$g(e,u,s,r,i,a)|0;w=o;return e|0}function Zp(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=ev(e,u,s,r,i,a)|0;w=o;return e|0}function Jp(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=tv(e,u,s,r,i,a)|0;w=o;return e|0}function $p(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=nv(e,u,s,r,i,a)|0;w=o;return e|0}function em(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0,D=0;A=w;w=w+240|0;x=A;g=A+208|0;I=A+32|0;e=A+28|0;O=A+16|0;S=A+12|0;y=A+48|0;b=A+8|0;v=A+4|0;d[I>>2]=0;d[I+4>>2]=0;d[I+8>>2]=0;k=0;r=xe(68,r|0)|0;m=k;k=0;do{if(m&1)e=Ze()|0;else{d[e>>2]=r;k=0;e=Oe(37,e|0,44220)|0;m=k;k=0;if(!(m&1)?(k=0,Re(d[(d[e>>2]|0)+32>>2]|0,e|0,57498,57524,g|0)|0,m=k,k=0,!(m&1)):0){Th(r)|0;d[O>>2]=0;d[O+4>>2]=0;d[O+8>>2]=0;if(!(f[O>>0]&1))e=10;else e=(d[O>>2]&-2)+-1|0;k=0;Pe(8,O|0,e|0,0);m=k;k=0;e:do{if(!(m&1)){h=O+8|0;m=O+1|0;r=(f[O>>0]&1)==0?m:d[h>>2]|0;d[S>>2]=r;d[b>>2]=y;d[v>>2]=0;c=O+4|0;e=d[t>>2]|0;t:while(1){if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;o=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;l=k;k=0;if(l&1){M=29;break}if((o|0)==-1){d[t>>2]=0;e=0}}}else e=0;s=(e|0)==0;o=d[n>>2]|0;do{if(o){if((d[o+12>>2]|0)!=(d[o+16>>2]|0))if(s)break;else break t;k=0;u=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;l=k;k=0;if(l&1){M=29;break t}if((u|0)!=-1){if(s)break;else break t}else{d[n>>2]=0;M=19;break}}else M=19}while(0);if((M|0)==19){M=0;if(s){o=0;break}else o=0}s=f[O>>0]|0;s=(s&1)==0?(s&255)>>>1:d[c>>2]|0;if((d[S>>2]|0)==(r+s|0)){k=0;Pe(8,O|0,s<<1|0,0);l=k;k=0;if(l&1){M=29;break}if(!(f[O>>0]&1))r=10;else r=(d[O>>2]&-2)+-1|0;k=0;Pe(8,O|0,r|0,0);l=k;k=0;if(l&1){M=29;break}r=(f[O>>0]&1)==0?m:d[h>>2]|0;d[S>>2]=r+s}u=e+12|0;s=d[u>>2]|0;l=e+16|0;if((s|0)==(d[l>>2]|0)){k=0;s=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;D=k;k=0;if(D&1){M=29;break}}else s=p[s>>0]|0;if(tm(s&255,16,r,S,v,0,I,y,b,g)|0)break;o=d[u>>2]|0;if((o|0)==(d[l>>2]|0)){k=0;xe(d[(d[e>>2]|0)+40>>2]|0,e|0)|0;D=k;k=0;if(D&1){M=29;break}else continue}else{d[u>>2]=o+1;continue}}if((M|0)==29){e=Ze()|0;break}k=0;Pe(8,O|0,(d[S>>2]|0)-r|0,0);D=k;k=0;if((!(D&1)?(_=f[O>>0]|0,T=d[h>>2]|0,k=0,E=De(3)|0,D=k,k=0,!(D&1)):0)?(k=0,d[x>>2]=a,C=Re(16,((_&1)==0?m:T)|0,E|0,58882,x|0)|0,D=k,k=0,!(D&1)):0){if((C|0)!=1)d[i>>2]=4;if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;r=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;D=k;k=0;if(D&1){M=30;break}if((r|0)==-1){d[t>>2]=0;e=0}}}else e=0;r=(e|0)==0;do{if(o){if((d[o+12>>2]|0)==(d[o+16>>2]|0)){k=0;e=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;D=k;k=0;if(D&1){M=30;break e}if((e|0)==-1){d[n>>2]=0;M=55;break}}if(!r)M=56}else M=55}while(0);if((M|0)==55?r:0)M=56;if((M|0)==56)d[i>>2]=d[i>>2]|2;D=d[t>>2]|0;Gh(O);Gh(I);w=A;return D|0}else M=30}else M=30}while(0);if((M|0)==30)e=Ze()|0;Gh(O);break}e=Ze()|0;Th(r)|0}}while(0);Gh(I);ut(e|0);return 0}function tm(e,t,n,r,i,a,o,s,u,l){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;var c=0,h=0,p=0,m=0;p=d[r>>2]|0;m=(p|0)==(n|0);do{if(m){c=(f[l+24>>0]|0)==e<<24>>24;if(!c?(f[l+25>>0]|0)!=e<<24>>24:0){h=5;break}d[r>>2]=n+1;f[n>>0]=c?43:45;d[i>>2]=0;c=0}else h=5}while(0);e:do{if((h|0)==5){h=f[o>>0]|0;if(e<<24>>24==a<<24>>24?(((h&1)==0?(h&255)>>>1:d[o+4>>2]|0)|0)!=0:0){c=d[u>>2]|0;if((c-s|0)>=160){c=0;break}t=d[i>>2]|0;d[u>>2]=c+4;d[c>>2]=t;d[i>>2]=0;c=0;break}o=l+26|0;c=l;while(1){if((f[c>>0]|0)==e<<24>>24)break;c=c+1|0;if((c|0)==(o|0)){c=o;break}}c=c-l|0;if((c|0)>23)c=-1;else{switch(t|0){case 10:case 8:{if((c|0)>=(t|0)){c=-1;break e}break}case 16:{if((c|0)>=22){if(m){c=-1;break e}if((p-n|0)>=3){c=-1;break e}if((f[p+-1>>0]|0)!=48){c=-1;break e}d[i>>2]=0;c=f[57498+c>>0]|0;d[r>>2]=p+1;f[p>>0]=c;c=0;break e}break}default:{}}c=f[57498+c>>0]|0;d[r>>2]=p+1;f[p>>0]=c;d[i>>2]=(d[i>>2]|0)+1;c=0}}}while(0);return c|0}function nm(){var e=0,t=0;do{if((f[1968]|0)==0?(He(1968)|0)!=0:0){k=0;e=Te(31,2147483647,58885,0)|0;t=k;k=0;if(t&1){t=Ze()|0;It(1968);ut(t|0)}else{d[11196]=e;$e(1968);break}}}while(0);return d[11196]|0}function rm(e){e=e|0;return}function im(e){e=e|0;Hw(e);return}function am(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0;g=w;w=w+64|0;p=g+56|0;o=g+52|0;c=g+48|0;s=g+44|0;u=g+40|0;l=g+36|0;h=g+32|0;v=g+8|0;m=g;e:do{if(!(d[r+4>>2]&1)){d[c>>2]=-1;v=d[(d[e>>2]|0)+16>>2]|0;d[s>>2]=d[t>>2];d[u>>2]=d[n>>2];d[o>>2]=d[s>>2];d[p>>2]=d[u>>2];o=v_[v&63](e,o,p,r,i,c)|0;d[t>>2]=o;switch(d[c>>2]|0){case 0:{f[a>>0]=0;break e}case 1:{f[a>>0]=1;break e}default:{f[a>>0]=1;d[i>>2]=4;break e}}}else{o=vd(r)|0;d[l>>2]=o;k=0;e=Oe(37,l|0,44212)|0;c=k;k=0;do{if(!(c&1)){Th(o)|0;o=vd(r)|0;d[h>>2]=o;k=0;u=Oe(37,h|0,44368)|0;h=k;k=0;if(h&1){v=Ze()|0;Th(o)|0;o=v;break}Th(o)|0;k=0;we(d[(d[u>>2]|0)+24>>2]|0,v|0,u|0);h=k;k=0;if(!(h&1)){s=v+12|0;k=0;we(d[(d[u>>2]|0)+28>>2]|0,s|0,u|0);h=k;k=0;if(!(h&1)){d[m>>2]=d[n>>2];k=0;d[p>>2]=d[m>>2];o=ge(8,t|0,p|0,v|0,v+24|0,e|0,i|0,1)|0;i=k;k=0;if(i&1){o=Ze()|0;rd(v+12|0);rd(v);break}else{f[a>>0]=(o|0)==(v|0)&1;o=d[t>>2]|0;rd(v+12|0);rd(v);break e}}}else s=v;o=Ze()|0;u=j;if((v|0)!=(s|0))do{s=s+-12|0;rd(s)}while((s|0)!=(v|0))}else{v=Ze()|0;Th(o)|0;o=v}}while(0);ut(o|0)}}while(0);w=g;return o|0}function om(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=av(e,u,s,r,i,a)|0;w=o;return e|0}function sm(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=ov(e,u,s,r,i,a)|0;w=o;return e|0}function um(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=sv(e,u,s,r,i,a)|0;w=o;return e|0}function lm(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=uv(e,u,s,r,i,a)|0;w=o;return e|0}function cm(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=lv(e,u,s,r,i,a)|0;w=o;return e|0}function fm(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=cv(e,u,s,r,i,a)|0;w=o;return e|0}function hm(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=fv(e,u,s,r,i,a)|0;w=o;return e|0}function dm(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=hv(e,u,s,r,i,a)|0;w=o;return e|0}function pm(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0;o=w;w=w+16|0;s=o+12|0;u=o+8|0;c=o+4|0;l=o;d[c>>2]=d[t>>2];d[l>>2]=d[n>>2];d[u>>2]=d[c>>2];d[s>>2]=d[l>>2];e=dv(e,u,s,r,i,a)|0;w=o;return e|0}function mm(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0;C=w;w=w+320|0;S=C;m=C+208|0;O=C+32|0;e=C+28|0;A=C+16|0;b=C+12|0;v=C+48|0;y=C+8|0;g=C+4|0;d[O>>2]=0;d[O+4>>2]=0;d[O+8>>2]=0;k=0;r=xe(68,r|0)|0;p=k;k=0;do{if(p&1)e=Ze()|0;else{d[e>>2]=r;k=0;e=Oe(37,e|0,44212)|0;p=k;k=0;if(!(p&1)?(k=0,Re(d[(d[e>>2]|0)+48>>2]|0,e|0,57498,57524,m|0)|0,p=k,k=0,!(p&1)):0){Th(r)|0;d[A>>2]=0;d[A+4>>2]=0;d[A+8>>2]=0;if(!(f[A>>0]&1))e=10;else e=(d[A>>2]&-2)+-1|0;k=0;Pe(8,A|0,e|0,0);p=k;k=0;e:do{if(!(p&1)){h=A+8|0;p=A+1|0;e=(f[A>>0]&1)==0?p:d[h>>2]|0;d[b>>2]=e;d[y>>2]=v;d[g>>2]=0;c=A+4|0;o=d[t>>2]|0;t:while(1){if(o){r=d[o+12>>2]|0;if((r|0)==(d[o+16>>2]|0)){k=0;r=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;l=k;k=0;if(l&1){I=30;break}}else r=d[r>>2]|0;if((r|0)==-1){d[t>>2]=0;r=0;s=1}else{r=o;s=0}}else{r=0;s=1}u=d[n>>2]|0;do{if(u){o=d[u+12>>2]|0;if((o|0)==(d[u+16>>2]|0)){k=0;o=xe(d[(d[u>>2]|0)+36>>2]|0,u|0)|0;l=k;k=0;if(l&1){I=30;break t}}else o=d[o>>2]|0;if((o|0)!=-1){if(s){o=u;break}else{o=u;break t}}else{d[n>>2]=0;I=20;break}}else I=20}while(0);if((I|0)==20){I=0;if(s){o=0;break}else o=0}s=f[A>>0]|0;s=(s&1)==0?(s&255)>>>1:d[c>>2]|0;if((d[b>>2]|0)==(e+s|0)){k=0;Pe(8,A|0,s<<1|0,0);l=k;k=0;if(l&1){I=30;break}if(!(f[A>>0]&1))e=10;else e=(d[A>>2]&-2)+-1|0;k=0;Pe(8,A|0,e|0,0);l=k;k=0;if(l&1){I=30;break}e=(f[A>>0]&1)==0?p:d[h>>2]|0;d[b>>2]=e+s}u=r+12|0;s=d[u>>2]|0;l=r+16|0;if((s|0)==(d[l>>2]|0)){k=0;s=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;M=k;k=0;if(M&1){I=30;break}}else s=d[s>>2]|0;if(gm(s,16,e,b,g,0,O,v,y,m)|0)break;o=d[u>>2]|0;if((o|0)==(d[l>>2]|0)){k=0;xe(d[(d[r>>2]|0)+40>>2]|0,r|0)|0;M=k;k=0;if(M&1){I=30;break}else{o=r;continue}}else{d[u>>2]=o+4;o=r;continue}}if((I|0)==30){e=Ze()|0;break}k=0;Pe(8,A|0,(d[b>>2]|0)-e|0,0);M=k;k=0;if((!(M&1)?(x=f[A>>0]|0,_=d[h>>2]|0,k=0,T=De(3)|0,M=k,k=0,!(M&1)):0)?(k=0,d[S>>2]=a,E=Re(16,((x&1)==0?p:_)|0,T|0,58882,S|0)|0,M=k,k=0,!(M&1)):0){if((E|0)!=1)d[i>>2]=4;if(r){e=d[r+12>>2]|0;if((e|0)==(d[r+16>>2]|0)){k=0;e=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;M=k;k=0;if(M&1){I=31;break}}else e=d[e>>2]|0;if((e|0)==-1){d[t>>2]=0;r=1}else r=0}else r=1;do{if(o){e=d[o+12>>2]|0;if((e|0)==(d[o+16>>2]|0)){k=0;e=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;M=k;k=0;if(M&1){I=31;break e}}else e=d[e>>2]|0;if((e|0)!=-1){if(r)break;else{I=59;break}}else{d[n>>2]=0;I=57;break}}else I=57}while(0);if((I|0)==57?r:0)I=59;if((I|0)==59)d[i>>2]=d[i>>2]|2;M=d[t>>2]|0;Gh(A);Gh(O);w=C;return M|0}else I=31}else I=31}while(0);if((I|0)==31)e=Ze()|0;Gh(A);break}e=Ze()|0;Th(r)|0}}while(0);Gh(O);ut(e|0);return 0}function gm(e,t,n,r,i,a,o,s,u,l){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;var c=0,h=0,p=0,m=0;p=d[r>>2]|0;m=(p|0)==(n|0);do{if(m){c=(d[l+96>>2]|0)==(e|0);if(!c?(d[l+100>>2]|0)!=(e|0):0){h=5;break}d[r>>2]=n+1;f[n>>0]=c?43:45;d[i>>2]=0;c=0}else h=5}while(0);e:do{if((h|0)==5){h=f[o>>0]|0;if((e|0)==(a|0)?(((h&1)==0?(h&255)>>>1:d[o+4>>2]|0)|0)!=0:0){c=d[u>>2]|0;if((c-s|0)>=160){c=0;break}t=d[i>>2]|0;d[u>>2]=c+4;d[c>>2]=t;d[i>>2]=0;c=0;break}o=l+104|0;c=l;while(1){if((d[c>>2]|0)==(e|0))break;c=c+4|0;if((c|0)==(o|0)){c=o;break}}c=c-l|0;o=c>>2;if((c|0)>92)c=-1;else{switch(t|0){case 10:case 8:{if((o|0)>=(t|0)){c=-1;break e}break}case 16:{if((c|0)>=88){if(m){c=-1;break e}if((p-n|0)>=3){c=-1;break e}if((f[p+-1>>0]|0)!=48){c=-1;break e}d[i>>2]=0;c=f[57498+o>>0]|0;d[r>>2]=p+1;f[p>>0]=c;c=0;break e}break}default:{}}c=f[57498+o>>0]|0;d[r>>2]=p+1;f[p>>0]=c;d[i>>2]=(d[i>>2]|0)+1;c=0}}}while(0);return c|0}function vm(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0;u=w;w=w+16|0;s=u;t=vd(t)|0;d[s>>2]=t;k=0;i=Oe(37,s|0,44220)|0;l=k;k=0;if((((!(l&1)?(k=0,Re(d[(d[i>>2]|0)+32>>2]|0,i|0,57498,57524,n|0)|0,l=k,k=0,!(l&1)):0)?(k=0,o=Oe(37,s|0,44360)|0,l=k,k=0,!(l&1)):0)?(k=0,a=xe(d[(d[o>>2]|0)+16>>2]|0,o|0)|0,l=k,k=0,!(l&1)):0)?(f[r>>0]=a,k=0,we(d[(d[o>>2]|0)+20>>2]|0,e|0,o|0),l=k,k=0,!(l&1)):0){Th(t)|0;w=u;return}l=Ze()|0;Th(t)|0;ut(l|0)}function ym(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0;c=w;w=w+16|0;l=c;t=vd(t)|0;d[l>>2]=t;k=0;a=Oe(37,l|0,44220)|0;h=k;k=0;if(((((!(h&1)?(k=0,Re(d[(d[a>>2]|0)+32>>2]|0,a|0,57498,57530,n|0)|0,h=k,k=0,!(h&1)):0)?(k=0,u=Oe(37,l|0,44360)|0,h=k,k=0,!(h&1)):0)?(k=0,o=xe(d[(d[u>>2]|0)+12>>2]|0,u|0)|0,h=k,k=0,!(h&1)):0)?(f[r>>0]=o,k=0,s=xe(d[(d[u>>2]|0)+16>>2]|0,u|0)|0,h=k,k=0,!(h&1)):0)?(f[i>>0]=s,k=0,we(d[(d[u>>2]|0)+20>>2]|0,e|0,u|0),h=k,k=0,!(h&1)):0){Th(t)|0;w=c;return}h=Ze()|0;Th(t)|0;ut(h|0)}function bm(e,t,n,r,i,a,o,s,u,l,c,h){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;c=c|0;h=h|0;var m=0,g=0;e:do{if(e<<24>>24==a<<24>>24){if(f[t>>0]|0){f[t>>0]=0;n=d[i>>2]|0;d[i>>2]=n+1;f[n>>0]=46;n=f[s>>0]|0;if((((n&1)==0?(n&255)>>>1:d[s+4>>2]|0)|0)!=0?(m=d[l>>2]|0,(m-u|0)<160):0){u=d[c>>2]|0;d[l>>2]=m+4;d[m>>2]=u;m=0}else m=0}else m=-1}else{if(e<<24>>24==o<<24>>24?(o=f[s>>0]|0,(((o&1)==0?(o&255)>>>1:d[s+4>>2]|0)|0)!=0):0){if(!(f[t>>0]|0)){m=-1;break}m=d[l>>2]|0;if((m-u|0)>=160){m=0;break}u=d[c>>2]|0;d[l>>2]=m+4;d[m>>2]=u;d[c>>2]=0;m=0;break}a=h+32|0;m=h;while(1){if((f[m>>0]|0)==e<<24>>24)break;m=m+1|0;if((m|0)==(a|0)){m=a;break}}a=m-h|0;if((a|0)>31)m=-1;else{o=f[57498+a>>0]|0;switch(a|0){case 24:case 25:{m=d[i>>2]|0;if((m|0)!=(r|0)?(p[m+-1>>0]&95|0)!=(p[n>>0]&127|0):0){m=-1;break e}d[i>>2]=m+1;f[m>>0]=o;m=0;break e}case 23:case 22:{f[n>>0]=80;m=d[i>>2]|0;d[i>>2]=m+1;f[m>>0]=o;m=0;break e}default:{m=o&95;if((((m|0)==(f[n>>0]|0)?(f[n>>0]=m|128,(f[t>>0]|0)!=0):0)?(f[t>>0]=0,n=f[s>>0]|0,(((n&1)==0?(n&255)>>>1:d[s+4>>2]|0)|0)!=0):0)?(g=d[l>>2]|0,(g-u|0)<160):0){u=d[c>>2]|0;d[l>>2]=g+4;d[g>>2]=u}l=d[i>>2]|0;d[i>>2]=l+1;f[l>>0]=o;if((a|0)>21){m=0;break e}d[c>>2]=(d[c>>2]|0)+1;m=0;break e}}}}}while(0);return m|0}function wm(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0;u=w;w=w+16|0;s=u;t=vd(t)|0;d[s>>2]=t;k=0;i=Oe(37,s|0,44212)|0;l=k;k=0;if((((!(l&1)?(k=0,Re(d[(d[i>>2]|0)+48>>2]|0,i|0,57498,57524,n|0)|0,l=k,k=0,!(l&1)):0)?(k=0,o=Oe(37,s|0,44368)|0,l=k,k=0,!(l&1)):0)?(k=0,a=xe(d[(d[o>>2]|0)+16>>2]|0,o|0)|0,l=k,k=0,!(l&1)):0)?(d[r>>2]=a,k=0,we(d[(d[o>>2]|0)+20>>2]|0,e|0,o|0),l=k,k=0,!(l&1)):0){Th(t)|0;w=u;return}l=Ze()|0;Th(t)|0;ut(l|0)}function Sm(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,f=0;c=w;w=w+16|0;l=c;t=vd(t)|0;d[l>>2]=t;k=0;a=Oe(37,l|0,44212)|0;f=k;k=0;if(((((!(f&1)?(k=0,Re(d[(d[a>>2]|0)+48>>2]|0,a|0,57498,57530,n|0)|0,f=k,k=0,!(f&1)):0)?(k=0,u=Oe(37,l|0,44368)|0,f=k,k=0,!(f&1)):0)?(k=0,o=xe(d[(d[u>>2]|0)+12>>2]|0,u|0)|0,f=k,k=0,!(f&1)):0)?(d[r>>2]=o,k=0,s=xe(d[(d[u>>2]|0)+16>>2]|0,u|0)|0,f=k,k=0,!(f&1)):0)?(d[i>>2]=s,k=0,we(d[(d[u>>2]|0)+20>>2]|0,e|0,u|0),f=k,k=0,!(f&1)):0){Th(t)|0;w=c;return}f=Ze()|0;Th(t)|0;ut(f|0)}function xm(e,t,n,r,i,a,o,s,u,l,c,h){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;c=c|0;h=h|0;var m=0,g=0;e:do{if((e|0)==(a|0)){if(f[t>>0]|0){f[t>>0]=0;n=d[i>>2]|0;d[i>>2]=n+1;f[n>>0]=46;n=f[s>>0]|0;if((((n&1)==0?(n&255)>>>1:d[s+4>>2]|0)|0)!=0?(m=d[l>>2]|0,(m-u|0)<160):0){u=d[c>>2]|0;d[l>>2]=m+4;d[m>>2]=u;m=0}else m=0}else m=-1}else{if((e|0)==(o|0)?(o=f[s>>0]|0,(((o&1)==0?(o&255)>>>1:d[s+4>>2]|0)|0)!=0):0){if(!(f[t>>0]|0)){m=-1;break}m=d[l>>2]|0;if((m-u|0)>=160){m=0;break}u=d[c>>2]|0;d[l>>2]=m+4;d[m>>2]=u;d[c>>2]=0;m=0;break}a=h+128|0;m=h;while(1){if((d[m>>2]|0)==(e|0))break;m=m+4|0;if((m|0)==(a|0)){m=a;break}}a=m-h|0;m=a>>2;if((a|0)<=124){o=f[57498+m>>0]|0;switch(m|0){case 24:case 25:{m=d[i>>2]|0;if((m|0)!=(r|0)?(p[m+-1>>0]&95|0)!=(p[n>>0]&127|0):0){m=-1;break e}d[i>>2]=m+1;f[m>>0]=o;m=0;break e}case 23:case 22:{f[n>>0]=80;break}default:{m=o&95;if((((m|0)==(f[n>>0]|0)?(f[n>>0]=m|128,(f[t>>0]|0)!=0):0)?(f[t>>0]=0,n=f[s>>0]|0,(((n&1)==0?(n&255)>>>1:d[s+4>>2]|0)|0)!=0):0)?(g=d[l>>2]|0,(g-u|0)<160):0){u=d[c>>2]|0;d[l>>2]=g+4;d[g>>2]=u}}}l=d[i>>2]|0;d[i>>2]=l+1;f[l>>0]=o;if((a|0)>84)m=0;else{d[c>>2]=(d[c>>2]|0)+1;m=0}}else m=-1}}while(0);return m|0}function _m(e){e=e|0;return}function Tm(e){e=e|0;Hw(e);return}function Em(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0;c=w;w=w+32|0;a=c+20|0;o=c+16|0;s=c+12|0;l=c;e:do{if(!(d[n+4>>2]&1)){l=d[(d[e>>2]|0)+24>>2]|0;d[o>>2]=d[t>>2];d[a>>2]=d[o>>2];a=k_[l&31](e,a,n,r,i&1)|0}else{a=vd(n)|0;d[s>>2]=a;k=0;o=Oe(37,s|0,44360)|0;u=k;k=0;t:do{if(u&1){c=Ze()|0;Th(a)|0;a=c}else{Th(a)|0;a=d[o>>2]|0;if(i)g_[d[a+24>>2]&127](l,o);else g_[d[a+28>>2]&127](l,o);e=f[l>>0]|0;u=(e&1)==0;a=l+1|0;i=l+8|0;s=u?a:l+1|0;a=u?a:d[l+8>>2]|0;u=l+4|0;n=(e&1)==0;n:do{if((a|0)!=((n?s:d[i>>2]|0)+(n?(e&255)>>>1:d[u>>2]|0)|0)){r:while(1){o=f[a>>0]|0;r=d[t>>2]|0;do{if(r){n=r+24|0;e=d[n>>2]|0;if((e|0)!=(d[r+28>>2]|0)){d[n>>2]=e+1;f[e>>0]=o;break}k=0;o=Oe(d[(d[r>>2]|0)+52>>2]|0,r|0,o&255|0)|0;e=k;k=0;if(e&1)break r;if((o|0)==-1)d[t>>2]=0}}while(0);a=a+1|0;e=f[l>>0]|0;n=(e&1)==0;if((a|0)==((n?s:d[i>>2]|0)+(n?(e&255)>>>1:d[u>>2]|0)|0))break n}a=Ze()|0;Gh(l);break t}}while(0);a=d[t>>2]|0;Gh(l);break e}}while(0);ut(a|0)}}while(0);w=c;return a|0}function km(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;c=w;w=w+64|0;a=c;p=c+56|0;m=c+44|0;s=c+20|0;l=c+16|0;u=c+12|0;h=c+8|0;o=c+4|0;f[p>>0]=f[58887]|0;f[p+1>>0]=f[58888]|0;f[p+2>>0]=f[58889]|0;f[p+3>>0]=f[58890]|0;f[p+4>>0]=f[58891]|0;f[p+5>>0]=f[58892]|0;Cm(p+1|0,58893,1,d[n+4>>2]|0);e=nm()|0;d[a>>2]=i;i=m+(pv(m,12,e,p,a)|0)|0;p=Am(m,i,n)|0;e=vd(n)|0;d[h>>2]=e;k=0;Ce(1,m|0,p|0,i|0,s|0,l|0,u|0,h|0);i=k;k=0;if(i&1){m=Ze()|0;Th(e)|0;ut(m|0)}else{Th(e)|0;d[o>>2]=d[t>>2];p=d[l>>2]|0;m=d[u>>2]|0;d[a>>2]=d[o>>2];m=Qn(a,s,p,m,n,r)|0;w=c;return m|0}return 0}function Cm(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;if(r&2048){f[e>>0]=43;e=e+1|0}if(r&512){f[e>>0]=35;e=e+1|0}i=f[t>>0]|0;if(i<<24>>24){a=t;while(1){a=a+1|0;t=e+1|0;f[e>>0]=i;i=f[a>>0]|0;if(!(i<<24>>24)){e=t;break}else e=t}}e:do{switch(r&74|0){case 64:{f[e>>0]=111;break}case 8:if(!(r&16384)){f[e>>0]=120;break e}else{f[e>>0]=88;break e}default:if(n){f[e>>0]=100;break e}else{f[e>>0]=117;break e}}}while(0);return}function Am(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;e:do{switch(d[n+4>>2]&176|0){case 16:{n=f[e>>0]|0;switch(n<<24>>24){case 43:case 45:{e=e+1|0;break e}default:{}}if((t-e|0)>1&n<<24>>24==48){switch(f[e+1>>0]|0){case 88:case 120:break;default:{r=7;break e}}e=e+2|0}else r=7;break}case 32:{e=t;break}default:r=7}}while(0);return e|0}function Om(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;var s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0;b=w;w=w+16|0;S=b;v=Hc(o,44220)|0;l=Hc(o,44360)|0;g_[d[(d[l>>2]|0)+20>>2]&127](S,l);m=f[S>>0]|0;g=S+4|0;e:do{if(!(((m&1)==0?(m&255)>>>1:d[g>>2]|0)|0)){k=0;Re(d[(d[v>>2]|0)+32>>2]|0,v|0,e|0,n|0,r|0)|0;y=k;k=0;if(y&1)y=5;else{o=r+(n-e)|0;d[a>>2]=o;y=29}}else{d[a>>2]=r;o=f[e>>0]|0;switch(o<<24>>24){case 43:case 45:{k=0;o=Oe(d[(d[v>>2]|0)+28>>2]|0,v|0,o|0)|0;m=k;k=0;if(m&1){y=5;break e}u=d[a>>2]|0;d[a>>2]=u+1;f[u>>0]=o;u=e+1|0;break}default:u=e}t:do{if((n-u|0)>1?(f[u>>0]|0)==48:0){o=u+1|0;switch(f[o>>0]|0){case 88:case 120:break;default:break t}k=0;s=Oe(d[(d[v>>2]|0)+28>>2]|0,v|0,48)|0;m=k;k=0;if(m&1){y=5;break e}m=d[a>>2]|0;d[a>>2]=m+1;f[m>>0]=s;k=0;o=Oe(d[(d[v>>2]|0)+28>>2]|0,v|0,f[o>>0]|0)|0;m=k;k=0;if(m&1){y=5;break e}m=d[a>>2]|0;d[a>>2]=m+1;f[m>>0]=o;u=u+2|0}}while(0);if((u|0)!=(n|0)?(c=n+-1|0,u>>>0<c>>>0):0){s=u;o=c;do{m=f[s>>0]|0;f[s>>0]=f[o>>0]|0;f[o>>0]=m;s=s+1|0;o=o+-1|0}while(s>>>0<o>>>0)}k=0;c=xe(d[(d[l>>2]|0)+16>>2]|0,l|0)|0;m=k;k=0;if(!(m&1)){h=S+8|0;p=S+1|0;t:do{if(u>>>0<n>>>0){o=0;s=0;m=u;while(1){l=f[((f[S>>0]&1)==0?p:d[h>>2]|0)+s>>0]|0;if(l<<24>>24!=0&(o|0)==(l<<24>>24|0)){o=d[a>>2]|0;d[a>>2]=o+1;f[o>>0]=c;o=f[S>>0]|0;l=0;s=(s>>>0<(((o&1)==0?(o&255)>>>1:d[g>>2]|0)+-1|0)>>>0&1)+s|0}else l=o;k=0;o=Oe(d[(d[v>>2]|0)+28>>2]|0,v|0,f[m>>0]|0)|0;x=k;k=0;if(x&1)break;x=d[a>>2]|0;d[a>>2]=x+1;f[x>>0]=o;m=m+1|0;if(m>>>0>=n>>>0)break t;else o=l+1|0}o=Ze()|0;break e}}while(0);s=e;o=r+(u-s)|0;e=d[a>>2]|0;if((o|0)==(e|0)){e=s;y=29}else{e=e+-1|0;if(o>>>0<e>>>0)do{x=f[o>>0]|0;f[o>>0]=f[e>>0]|0;f[e>>0]=x;o=o+1|0;e=e+-1|0}while(o>>>0<e>>>0);e=s;o=d[a>>2]|0;y=29}}else y=5}}while(0);if((y|0)==5)o=Ze()|0;else if((y|0)==29){d[i>>2]=(t|0)==(n|0)?o:r+(t-e)|0;Gh(S);w=b;return}Gh(S);ut(o|0)}function Im(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0,m=0,g=0;f=w;w=w+96|0;o=f+8|0;e=f;p=f+74|0;u=f+32|0;c=f+28|0;l=f+24|0;h=f+20|0;s=f+16|0;m=e;d[m>>2]=37;d[m+4>>2]=0;Cm(e+1|0,58895,1,d[n+4>>2]|0);m=nm()|0;g=o;d[g>>2]=i;d[g+4>>2]=a;a=p+(pv(p,22,m,e,o)|0)|0;i=Am(p,a,n)|0;e=vd(n)|0;d[h>>2]=e;k=0;Ce(1,p|0,i|0,a|0,u|0,c|0,l|0,h|0);a=k;k=0;if(a&1){g=Ze()|0;Th(e)|0;ut(g|0)}else{Th(e)|0;d[s>>2]=d[t>>2];m=d[c>>2]|0;g=d[l>>2]|0;d[o>>2]=d[s>>2];g=Qn(o,u,m,g,n,r)|0;w=f;return g|0}return 0}function Mm(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;c=w;w=w+64|0;a=c;p=c+56|0;m=c+44|0;s=c+20|0;l=c+16|0;u=c+12|0;h=c+8|0;o=c+4|0;f[p>>0]=f[58887]|0;f[p+1>>0]=f[58888]|0;f[p+2>>0]=f[58889]|0;f[p+3>>0]=f[58890]|0;f[p+4>>0]=f[58891]|0;f[p+5>>0]=f[58892]|0;Cm(p+1|0,58893,0,d[n+4>>2]|0);e=nm()|0;d[a>>2]=i;i=m+(pv(m,12,e,p,a)|0)|0;p=Am(m,i,n)|0;e=vd(n)|0;d[h>>2]=e;k=0;Ce(1,m|0,p|0,i|0,s|0,l|0,u|0,h|0);i=k;k=0;if(i&1){m=Ze()|0;Th(e)|0;ut(m|0)}else{Th(e)|0;d[o>>2]=d[t>>2];p=d[l>>2]|0;m=d[u>>2]|0;d[a>>2]=d[o>>2];m=Qn(a,s,p,m,n,r)|0;w=c;return m|0}return 0}function Dm(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0,m=0,g=0;f=w;w=w+112|0;o=f+8|0;e=f;p=f+75|0;u=f+32|0;c=f+28|0;l=f+24|0;h=f+20|0;s=f+16|0;m=e;d[m>>2]=37;d[m+4>>2]=0;Cm(e+1|0,58895,0,d[n+4>>2]|0);m=nm()|0;g=o;d[g>>2]=i;d[g+4>>2]=a;a=p+(pv(p,23,m,e,o)|0)|0;i=Am(p,a,n)|0;e=vd(n)|0;d[h>>2]=e;k=0;Ce(1,p|0,i|0,a|0,u|0,c|0,l|0,h|0);a=k;k=0;if(a&1){g=Ze()|0;Th(e)|0;ut(g|0)}else{Th(e)|0;d[s>>2]=d[t>>2];m=d[c>>2]|0;g=d[l>>2]|0;d[o>>2]=d[s>>2];g=Qn(o,u,m,g,n,r)|0;w=f;return g|0}return 0}function Rm(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=+i;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0,m=0,g=0,v=0,b=0,S=0,x=0,_=0,T=0,E=0;T=w;w=w+176|0;v=T+84|0;h=T+48|0;f=T+32|0;u=T+24|0;a=T+8|0;c=T;m=T+88|0;g=T+80|0;s=T+118|0;_=T+76|0;x=T+72|0;b=T+68|0;S=T+64|0;l=c;d[l>>2]=37;d[l+4>>2]=0;l=Pm(c+1|0,58898,d[n+4>>2]|0)|0;d[g>>2]=m;e=nm()|0;if(l){d[a>>2]=d[n+8>>2];y[a+8>>3]=i;a=pv(m,30,e,c,a)|0}else{y[u>>3]=i;a=pv(m,30,e,c,u)|0}e:do{if((a|0)>29){k=0;e=De(3)|0;a=k;k=0;a=a&1;if(l){if(!a?(k=0,d[f>>2]=d[n+8>>2],y[f+8>>3]=i,o=Re(17,g|0,e|0,c|0,f|0)|0,p=k,k=0,!(p&1)):0)E=12}else if(!a?(k=0,d[h>>2]=d[n+8>>2],y[h+8>>3]=i,p=Re(17,g|0,e|0,c|0,h|0)|0,h=k,k=0,!(h&1)):0){o=p;E=12}do{if((E|0)==12){e=d[g>>2]|0;if(!e){k=0;Ne(6);p=k;k=0;if(p&1)break;a=d[g>>2]|0}else a=e;e=a;c=a;E=16;break e}}while(0);e=Ze()|0}else{e=d[g>>2]|0;c=0;o=a;E=16}}while(0);if((E|0)==16){u=e+o|0;l=Am(e,u,n)|0;do{if((e|0)==(m|0)){e=m;a=0;E=22}else{o=Uf(o<<1)|0;if(!o){k=0;Ne(6);E=k;k=0;if(E&1){a=0;E=20;break}e=d[g>>2]|0}a=o;s=o;E=22}}while(0);do{if((E|0)==22){k=0;o=xe(68,n|0)|0;g=k;k=0;if(!(g&1)){d[b>>2]=o;k=0;Ce(2,e|0,l|0,u|0,s|0,_|0,x|0,b|0);b=k;k=0;if(b&1){e=Ze()|0;Th(o)|0;break}Th(o)|0;d[S>>2]=d[t>>2];E=d[_>>2]|0;e=d[x>>2]|0;k=0;d[v>>2]=d[S>>2];e=Se(39,v|0,s|0,E|0,e|0,n|0,r|0)|0;E=k;k=0;if(!(E&1)){d[t>>2]=e;if(a)jf(a);if(c)jf(c);w=T;return e|0}else E=20}else E=20}}while(0);if((E|0)==20)e=Ze()|0;if(a)jf(a);if(c)jf(c)}ut(e|0);return 0}function Pm(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0;if(n&2048){f[e>>0]=43;e=e+1|0}if(n&1024){f[e>>0]=35;e=e+1|0}o=n&260;i=n>>>14;s=(o|0)==260;if(s)a=0;else{f[e>>0]=46;f[e+1>>0]=42;e=e+2|0;a=1}n=f[t>>0]|0;if(n<<24>>24){r=e;while(1){t=t+1|0;e=r+1|0;f[r>>0]=n;n=f[t>>0]|0;if(!(n<<24>>24))break;else r=e}}e:do{switch(o|0){case 4:if(!(i&1)){f[e>>0]=102;break e}else{f[e>>0]=70;break e}case 256:if(!(i&1)){f[e>>0]=101;break e}else{f[e>>0]=69;break e}default:{n=(i&1|0)!=0;if(s){if(n){f[e>>0]=65;break e}else{f[e>>0]=97;break e}}else if(n){f[e>>0]=71;break e}else{f[e>>0]=103;break e}}}}while(0);return a|0}function Nm(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;var s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0;T=w;w=w+16|0;E=T;_=Hc(o,44220)|0;S=Hc(o,44360)|0;g_[d[(d[S>>2]|0)+20>>2]&127](E,S);d[a>>2]=r;o=f[e>>0]|0;switch(o<<24>>24){case 43:case 45:{k=0;o=Oe(d[(d[_>>2]|0)+28>>2]|0,_|0,o|0)|0;x=k;k=0;if(x&1)b=8;else{c=d[a>>2]|0;d[a>>2]=c+1;f[c>>0]=o;c=e+1|0;b=10}break}default:{c=e;b=10}}e:do{if((b|0)==10){x=n;t:do{if((x-c|0)>1?(f[c>>0]|0)==48:0){u=c+1|0;switch(f[u>>0]|0){case 88:case 120:break;default:{b=11;break t}}k=0;o=Oe(d[(d[_>>2]|0)+28>>2]|0,_|0,48)|0;y=k;k=0;if(y&1){b=8;break e}y=d[a>>2]|0;d[a>>2]=y+1;f[y>>0]=o;c=c+2|0;k=0;o=Oe(d[(d[_>>2]|0)+28>>2]|0,_|0,f[u>>0]|0)|0;y=k;k=0;if(y&1){b=8;break e}y=d[a>>2]|0;d[a>>2]=y+1;f[y>>0]=o;if(c>>>0<n>>>0){o=c;while(1){u=f[o>>0]|0;k=0;l=De(3)|0;y=k;k=0;if(y&1)break;k=0;u=Oe(39,u<<24>>24|0,l|0)|0;y=k;k=0;if(y&1)break;if(!u){y=c;break t}o=o+1|0;if(o>>>0>=n>>>0){y=c;break t}}o=Ze()|0;break e}else{y=c;o=c}}else b=11}while(0);t:do{if((b|0)==11)if(c>>>0<n>>>0){o=c;while(1){u=f[o>>0]|0;k=0;l=De(3)|0;y=k;k=0;if(y&1)break;k=0;u=Oe(40,u<<24>>24|0,l|0)|0;y=k;k=0;if(y&1)break;if(!u){y=c;break t}o=o+1|0;if(o>>>0>=n>>>0){y=c;break t}}o=Ze()|0;break e}else{y=c;o=c}}while(0);g=f[E>>0]|0;v=E+4|0;if(((g&1)==0?(g&255)>>>1:d[v>>2]|0)|0){if((y|0)!=(o|0)?(h=o+-1|0,y>>>0<h>>>0):0){l=y;u=h;do{g=f[l>>0]|0;f[l>>0]=f[u>>0]|0;f[u>>0]=g;l=l+1|0;u=u+-1|0}while(l>>>0<u>>>0)}k=0;h=xe(d[(d[S>>2]|0)+16>>2]|0,S|0)|0;g=k;k=0;if(g&1){b=8;break}p=E+8|0;m=E+1|0;t:do{if(y>>>0<o>>>0){u=0;l=0;g=y;while(1){c=f[((f[E>>0]&1)==0?m:d[p>>2]|0)+l>>0]|0;if(c<<24>>24>0&(u|0)==(c<<24>>24|0)){u=d[a>>2]|0;d[a>>2]=u+1;f[u>>0]=h;u=f[E>>0]|0;c=0;l=(l>>>0<(((u&1)==0?(u&255)>>>1:d[v>>2]|0)+-1|0)>>>0&1)+l|0}else c=u;k=0;u=Oe(d[(d[_>>2]|0)+28>>2]|0,_|0,f[g>>0]|0)|0;C=k;k=0;if(C&1)break;C=d[a>>2]|0;d[a>>2]=C+1;f[C>>0]=u;g=g+1|0;if(g>>>0>=o>>>0)break t;else u=c+1|0}o=Ze()|0;break e}}while(0);u=r+(y-e)|0;l=d[a>>2]|0;if((u|0)!=(l|0)?(s=l+-1|0,u>>>0<s>>>0):0){do{C=f[u>>0]|0;f[u>>0]=f[s>>0]|0;f[s>>0]=C;u=u+1|0;s=s+-1|0}while(u>>>0<s>>>0);u=_}else u=_}else{k=0;Re(d[(d[_>>2]|0)+32>>2]|0,_|0,y|0,o|0,d[a>>2]|0)|0;C=k;k=0;if(C&1){b=8;break}d[a>>2]=(d[a>>2]|0)+(o-y);u=_}t:do{if(o>>>0<n>>>0){while(1){s=f[o>>0]|0;if(s<<24>>24==46)break;k=0;s=Oe(d[(d[u>>2]|0)+28>>2]|0,_|0,s|0)|0;C=k;k=0;if(C&1){b=4;break}C=d[a>>2]|0;d[a>>2]=C+1;f[C>>0]=s;o=o+1|0;if(o>>>0>=n>>>0)break t}if((b|0)==4){o=Ze()|0;break e}k=0;s=xe(d[(d[S>>2]|0)+12>>2]|0,S|0)|0;C=k;k=0;if(C&1){b=8;break e}C=d[a>>2]|0;d[a>>2]=C+1;f[C>>0]=s;o=o+1|0}}while(0);k=0;Re(d[(d[_>>2]|0)+32>>2]|0,_|0,o|0,n|0,d[a>>2]|0)|0;C=k;k=0;if(C&1)b=8;else{C=(d[a>>2]|0)+(x-o)|0;d[a>>2]=C;d[i>>2]=(t|0)==(n|0)?C:r+(t-e)|0;Gh(E);w=T;return}}}while(0);if((b|0)==8)o=Ze()|0;Gh(E);ut(o|0)}function Lm(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=+i;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0,m=0,g=0,v=0,b=0,S=0,x=0,_=0,T=0,E=0;T=w;w=w+176|0;v=T+76|0;h=T+48|0;f=T+32|0;u=T+24|0;a=T+8|0;c=T;m=T+80|0;g=T+72|0;s=T+110|0;_=T+68|0;x=T+64|0;b=T+60|0;S=T+56|0;l=c;d[l>>2]=37;d[l+4>>2]=0;l=Pm(c+1|0,58899,d[n+4>>2]|0)|0;d[g>>2]=m;e=nm()|0;if(l){d[a>>2]=d[n+8>>2];y[a+8>>3]=i;a=pv(m,30,e,c,a)|0}else{y[u>>3]=i;a=pv(m,30,e,c,u)|0}e:do{if((a|0)>29){k=0;e=De(3)|0;a=k;k=0;a=a&1;if(l){if(!a?(k=0,d[f>>2]=d[n+8>>2],y[f+8>>3]=i,o=Re(17,g|0,e|0,c|0,f|0)|0,p=k,k=0,!(p&1)):0)E=12}else if(!a?(k=0,y[h>>3]=i,p=Re(17,g|0,e|0,c|0,h|0)|0,h=k,k=0,!(h&1)):0){o=p;E=12}do{if((E|0)==12){e=d[g>>2]|0;if(!e){k=0;Ne(6);p=k;k=0;if(p&1)break;a=d[g>>2]|0}else a=e;e=a;c=a;E=16;break e}}while(0);e=Ze()|0}else{e=d[g>>2]|0;c=0;o=a;E=16}}while(0);if((E|0)==16){u=e+o|0;l=Am(e,u,n)|0;do{if((e|0)==(m|0)){e=m;a=0;E=22}else{o=Uf(o<<1)|0;if(!o){k=0;Ne(6);E=k;k=0;if(E&1){a=0;E=20;break}e=d[g>>2]|0}a=o;s=o;E=22}}while(0);do{if((E|0)==22){k=0;o=xe(68,n|0)|0;g=k;k=0;if(!(g&1)){d[b>>2]=o;k=0;Ce(2,e|0,l|0,u|0,s|0,_|0,x|0,b|0);b=k;k=0;if(b&1){e=Ze()|0;Th(o)|0;break}Th(o)|0;d[S>>2]=d[t>>2];E=d[_>>2]|0;e=d[x>>2]|0;k=0;d[v>>2]=d[S>>2];e=Se(39,v|0,s|0,E|0,e|0,n|0,r|0)|0;E=k;k=0;if(!(E&1)){d[t>>2]=e;if(a)jf(a);if(c)jf(c);w=T;return e|0}else E=20}else E=20}}while(0);if((E|0)==20)e=Ze()|0;if(a)jf(a);if(c)jf(c)}ut(e|0);return 0}function Fm(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;p=w;w=w+80|0;u=p;e=p+70|0;c=p+12|0;h=p+32|0;s=p+8|0;l=p+4|0;f[e>>0]=f[58901]|0;f[e+1>>0]=f[58902]|0;f[e+2>>0]=f[58903]|0;f[e+3>>0]=f[58904]|0;f[e+4>>0]=f[58905]|0;f[e+5>>0]=f[58906]|0;a=nm()|0;d[u>>2]=i;e=pv(c,20,a,e,u)|0;i=c+e|0;a=Am(c,i,n)|0;o=vd(n)|0;d[s>>2]=o;k=0;s=Oe(37,s|0,44220)|0;m=k;k=0;if(m&1){m=Ze()|0;Th(o)|0;ut(m|0)}else{Th(o)|0;O_[d[(d[s>>2]|0)+32>>2]&31](s,c,i,h)|0;m=h+e|0;d[l>>2]=d[t>>2];d[u>>2]=d[l>>2];m=Qn(u,h,(a|0)==(i|0)?m:h+(a-c)|0,m,n,r)|0;w=p;return m|0}return 0}function Bm(e){e=e|0;return}function zm(e){e=e|0;Hw(e);return}function Um(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0;l=w;w=w+32|0;a=l+20|0;o=l+16|0;s=l+12|0;u=l;e:do{if(!(d[n+4>>2]&1)){u=d[(d[e>>2]|0)+24>>2]|0;d[o>>2]=d[t>>2];d[a>>2]=d[o>>2];a=k_[u&31](e,a,n,r,i&1)|0}else{a=vd(n)|0;d[s>>2]=a;k=0;o=Oe(37,s|0,44368)|0;s=k;k=0;t:do{if(s&1){l=Ze()|0;Th(a)|0;a=l}else{Th(a)|0;a=d[o>>2]|0;if(i)g_[d[a+24>>2]&127](u,o);else g_[d[a+28>>2]&127](u,o);e=f[u>>0]|0;n=(e&1)==0;a=u+4|0;i=u+8|0;s=n?a:u+4|0;a=n?a:d[u+8>>2]|0;n=(e&1)==0;n:do{if((a|0)!=((n?s:d[i>>2]|0)+((n?(e&255)>>>1:d[s>>2]|0)<<2)|0)){while(1){o=d[a>>2]|0;r=d[t>>2]|0;if(r){n=r+24|0;e=d[n>>2]|0;if((e|0)==(d[r+28>>2]|0)){k=0;o=Oe(d[(d[r>>2]|0)+52>>2]|0,r|0,o|0)|0;e=k;k=0;if(e&1)break}else{d[n>>2]=e+4;d[e>>2]=o}if((o|0)==-1)d[t>>2]=0}a=a+4|0;e=f[u>>0]|0;n=(e&1)==0;if((a|0)==((n?s:d[i>>2]|0)+((n?(e&255)>>>1:d[s>>2]|0)<<2)|0))break n}a=Ze()|0;rd(u);break t}}while(0);a=d[t>>2]|0;rd(u);break e}}while(0);ut(a|0)}}while(0);w=l;return a|0}function jm(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;c=w;w=w+128|0;a=c;p=c+116|0;m=c+104|0;s=c+20|0;l=c+16|0;u=c+12|0;h=c+8|0;o=c+4|0;f[p>>0]=f[58887]|0;f[p+1>>0]=f[58888]|0;f[p+2>>0]=f[58889]|0;f[p+3>>0]=f[58890]|0;f[p+4>>0]=f[58891]|0;f[p+5>>0]=f[58892]|0;Cm(p+1|0,58893,1,d[n+4>>2]|0);e=nm()|0;d[a>>2]=i;i=m+(pv(m,12,e,p,a)|0)|0;p=Am(m,i,n)|0;e=vd(n)|0;d[h>>2]=e;k=0;Ce(3,m|0,p|0,i|0,s|0,l|0,u|0,h|0);i=k;k=0;if(i&1){m=Ze()|0;Th(e)|0;ut(m|0)}else{Th(e)|0;d[o>>2]=d[t>>2];p=d[l>>2]|0;m=d[u>>2]|0;d[a>>2]=d[o>>2];m=gv(a,s,p,m,n,r)|0;w=c;return m|0}return 0}function Vm(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;var s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0;b=w;w=w+16|0;S=b;v=Hc(o,44212)|0;l=Hc(o,44368)|0;g_[d[(d[l>>2]|0)+20>>2]&127](S,l);m=f[S>>0]|0;g=S+4|0;e:do{if(!(((m&1)==0?(m&255)>>>1:d[g>>2]|0)|0)){k=0;Re(d[(d[v>>2]|0)+48>>2]|0,v|0,e|0,n|0,r|0)|0;y=k;k=0;if(y&1)y=5;else{o=r+(n-e<<2)|0;d[a>>2]=o;y=28}}else{d[a>>2]=r;o=f[e>>0]|0;switch(o<<24>>24){case 43:case 45:{k=0;o=Oe(d[(d[v>>2]|0)+44>>2]|0,v|0,o|0)|0;m=k;k=0;if(m&1){y=5;break e}u=d[a>>2]|0;d[a>>2]=u+4;d[u>>2]=o;u=e+1|0;break}default:u=e}t:do{if((n-u|0)>1?(f[u>>0]|0)==48:0){o=u+1|0;switch(f[o>>0]|0){case 88:case 120:break;default:{m=u;break t}}k=0;s=Oe(d[(d[v>>2]|0)+44>>2]|0,v|0,48)|0;m=k;k=0;if(m&1){y=5;break e}m=d[a>>2]|0;d[a>>2]=m+4;d[m>>2]=s;k=0;o=Oe(d[(d[v>>2]|0)+44>>2]|0,v|0,f[o>>0]|0)|0;m=k;k=0;if(m&1){y=5;break e}m=d[a>>2]|0;d[a>>2]=m+4;d[m>>2]=o;m=u+2|0}else m=u}while(0);if((m|0)!=(n|0)?(c=n+-1|0,m>>>0<c>>>0):0){s=m;o=c;do{p=f[s>>0]|0;f[s>>0]=f[o>>0]|0;f[o>>0]=p;s=s+1|0;o=o+-1|0}while(s>>>0<o>>>0)}k=0;l=xe(d[(d[l>>2]|0)+16>>2]|0,l|0)|0;p=k;k=0;if(!(p&1)){c=S+8|0;h=S+1|0;t:do{if(m>>>0<n>>>0){o=0;s=0;p=m;while(1){u=f[((f[S>>0]&1)==0?h:d[c>>2]|0)+s>>0]|0;if(u<<24>>24!=0&(o|0)==(u<<24>>24|0)){o=d[a>>2]|0;d[a>>2]=o+4;d[o>>2]=l;o=f[S>>0]|0;u=0;s=(s>>>0<(((o&1)==0?(o&255)>>>1:d[g>>2]|0)+-1|0)>>>0&1)+s|0}else u=o;k=0;o=Oe(d[(d[v>>2]|0)+44>>2]|0,v|0,f[p>>0]|0)|0;x=k;k=0;if(x&1)break;x=d[a>>2]|0;d[a>>2]=x+4;d[x>>2]=o;p=p+1|0;if(p>>>0>=n>>>0)break t;else o=u+1|0}o=Ze()|0;break e}}while(0);u=e;o=r+(m-u<<2)|0;s=d[a>>2]|0;if((o|0)!=(s|0)){e=s+-4|0;if(o>>>0<e>>>0){do{x=d[o>>2]|0;d[o>>2]=d[e>>2];d[e>>2]=x;o=o+4|0;e=e+-4|0}while(o>>>0<e>>>0);e=u;o=s;y=28}else{e=u;o=s;y=28}}else{e=u;y=28}}else y=5}}while(0);if((y|0)==5)o=Ze()|0;else if((y|0)==28){d[i>>2]=(t|0)==(n|0)?o:r+(t-e<<2)|0;Gh(S);w=b;return}Gh(S);ut(o|0)}function Gm(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0,m=0,g=0;f=w;w=w+224|0;o=f+8|0;e=f;p=f+196|0;u=f+32|0;c=f+28|0;l=f+24|0;h=f+20|0;s=f+16|0;m=e;d[m>>2]=37;d[m+4>>2]=0;Cm(e+1|0,58895,1,d[n+4>>2]|0);m=nm()|0;g=o;d[g>>2]=i;d[g+4>>2]=a;a=p+(pv(p,22,m,e,o)|0)|0;i=Am(p,a,n)|0;e=vd(n)|0;d[h>>2]=e;k=0;Ce(3,p|0,i|0,a|0,u|0,c|0,l|0,h|0);a=k;k=0;if(a&1){g=Ze()|0;Th(e)|0;ut(g|0)}else{Th(e)|0;d[s>>2]=d[t>>2];m=d[c>>2]|0;g=d[l>>2]|0;d[o>>2]=d[s>>2];g=gv(o,u,m,g,n,r)|0;w=f;return g|0}return 0}function Wm(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;var u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0;y=w;w=w+16|0;g=y;p=y+8|0;e:do{if((n|0)==(r|0))u=r;else{u=n;while(1){if(!(d[u>>2]|0))break e;u=u+4|0;if((u|0)==(r|0)){u=r;break}}}}while(0);d[s>>2]=a;d[i>>2]=n;c=o;m=e+8|0;e:do{if(!((a|0)==(o|0)|(n|0)==(r|0))){e=a;l=u;t:while(1){S=t;a=d[S+4>>2]|0;u=g;d[u>>2]=d[S>>2];d[u+4>>2]=a;u=ax(d[m>>2]|0)|0;k=0;a=Ie(21,e|0,i|0,l-n>>2|0,c-e|0,t|0)|0;S=k;k=0;if(S&1){b=9;break}if((u|0)!=0?(k=0,xe(75,u|0)|0,S=k,k=0,S&1):0){b=8;break}switch(a|0){case 0:{h=1;break e}case-1:{u=e;b=14;break t}default:{}}u=(d[s>>2]|0)+a|0;d[s>>2]=u;if((u|0)==(o|0)){b=27;break}if((l|0)==(r|0)){n=d[i>>2]|0;e=u;u=r}else{u=ax(d[m>>2]|0)|0;k=0;n=Te(34,p|0,0,t|0)|0;S=k;k=0;if(S&1){b=35;break}if((u|0)!=0?(k=0,xe(75,u|0)|0,S=k,k=0,S&1):0){b=34;break}if((n|0)==-1){h=2;break e}if(n>>>0>(c-(d[s>>2]|0)|0)>>>0){h=1;break e}if(n){u=p;while(1){l=f[u>>0]|0;S=d[s>>2]|0;d[s>>2]=S+1;f[S>>0]=l;n=n+-1|0;if(!n)break;else u=u+1|0}}n=(d[i>>2]|0)+4|0;d[i>>2]=n;n:do{if((n|0)==(r|0))u=r;else{u=n;while(1){if(!(d[u>>2]|0))break n;u=u+4|0;if((u|0)==(r|0)){u=r;break}}}}while(0);e=d[s>>2]|0}if((e|0)==(o|0)|(n|0)==(r|0)){b=47;break e}else l=u}if((b|0)==8){S=Ze(0)|0;Xt(S)}else if((b|0)==9){n=Ze()|0;if((u|0)!=0?(k=0,xe(75,u|0)|0,S=k,k=0,S&1):0){S=Ze(0)|0;Xt(S)}ut(n|0)}else if((b|0)==14){d[s>>2]=u;t:do{if((n|0)!=(d[i>>2]|0)){while(1){S=d[n>>2]|0;e=ax(d[m>>2]|0)|0;k=0;u=Te(34,u|0,S|0,g|0)|0;S=k;k=0;if(S&1){v=e;break}if((e|0)!=0?(k=0,xe(75,e|0)|0,S=k,k=0,S&1):0){b=18;break}if((u|0)==-1)break t;u=(d[s>>2]|0)+u|0;d[s>>2]=u;n=n+4|0;if((n|0)==(d[i>>2]|0))break t}if((b|0)==18){S=Ze(0)|0;Xt(S)}n=Ze()|0;if((v|0)!=0?(k=0,xe(75,v|0)|0,S=k,k=0,S&1):0){S=Ze(0)|0;Xt(S)}ut(n|0)}}while(0);d[i>>2]=n;h=2;break}else if((b|0)==27){n=d[i>>2]|0;b=47;break}else if((b|0)==34){S=Ze(0)|0;Xt(S)}else if((b|0)==35){n=Ze()|0;if((u|0)!=0?(k=0,xe(75,u|0)|0,S=k,k=0,S&1):0){S=Ze(0)|0;Xt(S)}ut(n|0)}}else b=47}while(0);if((b|0)==47)h=(n|0)!=(r|0)&1;w=y;return h|0}function Hm(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;var u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0;y=w;w=w+16|0;v=y;e:do{if((n|0)==(r|0))u=r;else{u=n;while(1){if(!(f[u>>0]|0))break e;u=u+1|0;if((u|0)==(r|0)){u=r;break}}}}while(0);d[s>>2]=a;d[i>>2]=n;h=o;m=e+8|0;e:do{if(!((a|0)==(o|0)|(n|0)==(r|0))){e=a;c=u;t:while(1){l=t;u=d[l+4>>2]|0;a=v;d[a>>2]=d[l>>2];d[a+4>>2]=u;a=c;u=ax(d[m>>2]|0)|0;k=0;l=Ie(22,e|0,i|0,a-n|0,h-e>>2|0,t|0)|0;S=k;k=0;if(S&1){b=9;break}if((u|0)!=0?(k=0,xe(75,u|0)|0,S=k,k=0,S&1):0){b=8;break}switch(l|0){case 0:{p=2;break e}case-1:{u=e;b=14;break t}default:{}}e=(d[s>>2]|0)+(l<<2)|0;d[s>>2]=e;if((e|0)==(o|0)){b=31;break}n=d[i>>2]|0;if((c|0)==(r|0))u=r;else{u=ax(d[m>>2]|0)|0;k=0;n=Re(20,e|0,n|0,1,t|0)|0;S=k;k=0;if(S&1){b=38;break}if((u|0)!=0?(k=0,xe(75,u|0)|0,S=k,k=0,S&1):0){b=37;break}if(n){p=2;break e}d[s>>2]=(d[s>>2]|0)+4;n=(d[i>>2]|0)+1|0;d[i>>2]=n;n:do{if((n|0)==(r|0))u=r;else{u=n;while(1){if(!(f[u>>0]|0))break n;u=u+1|0;if((u|0)==(r|0)){u=r;break}}}}while(0);e=d[s>>2]|0}if((e|0)==(o|0)|(n|0)==(r|0)){b=47;break e}else c=u}if((b|0)==8){S=Ze(0)|0;Xt(S)}else if((b|0)==9){n=Ze()|0;if((u|0)!=0?(k=0,xe(75,u|0)|0,S=k,k=0,S&1):0){S=Ze(0)|0;Xt(S)}ut(n|0)}else if((b|0)==14){d[s>>2]=u;t:do{if((n|0)!=(d[i>>2]|0)){e=u;n:while(1){u=ax(d[m>>2]|0)|0;k=0;e=Re(20,e|0,n|0,a-n|0,v|0)|0;S=k;k=0;if(S&1){b=19;break}if((u|0)!=0?(k=0,xe(75,u|0)|0,S=k,k=0,S&1):0){b=18;break}switch(e|0){case-1:{b=25;break n}case-2:{b=26;break n}case 0:{n=n+1|0;break}default:n=n+e|0}e=(d[s>>2]|0)+4|0;d[s>>2]=e;if((n|0)==(d[i>>2]|0)){g=n;break t}}if((b|0)==18){S=Ze(0)|0;Xt(S)}else if((b|0)==19){n=Ze()|0;if((u|0)!=0?(k=0,xe(75,u|0)|0,S=k,k=0,S&1):0){S=Ze(0)|0;Xt(S)}ut(n|0)}else if((b|0)==25){d[i>>2]=n;p=2;break e}else if((b|0)==26){d[i>>2]=n;p=1;break e}}else g=n}while(0);d[i>>2]=g;p=(g|0)!=(r|0)&1;break}else if((b|0)==31){n=d[i>>2]|0;b=47;break}else if((b|0)==37){S=Ze(0)|0;Xt(S)}else if((b|0)==38){n=Ze()|0;if((u|0)!=0?(k=0,xe(75,u|0)|0,S=k,k=0,S&1):0){S=Ze(0)|0;Xt(S)}ut(n|0)}}else b=47}while(0);if((b|0)==47)p=(n|0)!=(r|0)&1;w=y;return p|0}function qm(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0;o=w;w=w+16|0;a=o;d[i>>2]=n;n=ax(d[e+8>>2]|0)|0;k=0;e=Te(34,a|0,0,t|0)|0;t=k;k=0;if(t&1){a=Ze()|0;if((n|0)!=0?(k=0,xe(75,n|0)|0,o=k,k=0,o&1):0){o=Ze(0)|0;Xt(o)}ut(a|0)}if((n|0)!=0?(k=0,xe(75,n|0)|0,t=k,k=0,t&1):0){t=Ze(0)|0;Xt(t)}switch(e|0){case 0:case-1:{a=2;break}default:{e=e+-1|0;if(e>>>0<=(r-(d[i>>2]|0)|0)>>>0){if(!e)a=0;else while(1){t=f[a>>0]|0;r=d[i>>2]|0;d[i>>2]=r+1;f[r>>0]=t;e=e+-1|0;if(!e){a=0;break}else a=a+1|0}}else a=1}}w=o;return a|0}function Qm(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0;t=e+8|0;k=0;n=xe(75,d[t>>2]|0)|0;r=k;k=0;do{if(r&1)i=16;else{k=0;r=Te(35,0,0,4)|0;e=k;k=0;if(e&1){e=Ze(0)|0;if(!n)break;k=0;xe(75,n|0)|0;o=k;k=0;if(!(o&1))break;o=Ze(0)|0;Xt(o)}if((n|0)!=0?(k=0,xe(75,n|0)|0,o=k,k=0,o&1):0){o=Ze(0)|0;Xt(o)}if(!r){e=d[t>>2]|0;if(e){k=0;e=xe(75,e|0)|0;o=k;k=0;if(o&1){i=16;break}if((e|0)!=0?(k=0,xe(75,e|0)|0,o=k,k=0,o&1):0){o=Ze(0)|0;Xt(o)}else a=0}else a=1}else a=-1;return a|0}}while(0);if((i|0)==16)e=Ze(0)|0;Xt(e);return 0}function Xm(e){e=e|0;return 0}function Ym(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0;l=r;u=e+8|0;e:do{if((n|0)==(r|0)|(i|0)==0)e=0;else{e=0;s=0;while(1){o=ax(d[u>>2]|0)|0;k=0;a=Te(36,n|0,l-n|0,t|0)|0;h=k;k=0;if(h&1){f=o;break}if((o|0)!=0?(k=0,xe(75,o|0)|0,h=k,k=0,h&1):0){c=5;break}switch(a|0){case-2:case-1:break e;case 0:{n=n+1|0;a=1;break}default:n=n+a|0}e=a+e|0;s=s+1|0;if((n|0)==(r|0)|s>>>0>=i>>>0)break e}if((c|0)==5){h=Ze(0)|0;Xt(h)}e=Ze()|0;if((f|0)!=0?(k=0,xe(75,f|0)|0,h=k,k=0,h&1):0){h=Ze(0)|0;Xt(h)}ut(e|0)}}while(0);return e|0}function Km(e){e=e|0;var t=0,n=0;e=d[e+8>>2]|0;if(e){k=0;e=xe(75,e|0)|0;n=k;k=0;if(n&1){n=Ze(0)|0;Xt(n)}if((e|0)!=0?(k=0,xe(75,e|0)|0,n=k,k=0,n&1):0){n=Ze(0)|0;Xt(n)}else t=4}else t=1;return t|0}function Zm(e){e=e|0;Hw(e);return}function Jm(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;var u=0;e=w;w=w+16|0;u=e+4|0;t=e;d[u>>2]=n;d[t>>2]=a;o=ry(n,r,u,a,o,t,1114111,0)|0;d[i>>2]=d[u>>2];d[s>>2]=d[t>>2];w=e;return o|0}function $m(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;var u=0;e=w;w=w+16|0;u=e+4|0;t=e;d[u>>2]=n;d[t>>2]=a;o=iy(n,r,u,a,o,t,1114111,0)|0;d[i>>2]=d[u>>2];d[s>>2]=d[t>>2];w=e;return o|0}function eg(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;d[i>>2]=n;return 3}function tg(e){e=e|0;return 0}function ng(e){e=e|0;return 0}function rg(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;return ay(n,r,i,1114111,0)|0}function ig(e){e=e|0;return 4}function ag(e){e=e|0;Hw(e);return}function og(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;var u=0;e=w;w=w+16|0;u=e+4|0;t=e;d[u>>2]=n;d[t>>2]=a;o=oy(n,r,u,a,o,t,1114111,0)|0;d[i>>2]=d[u>>2];d[s>>2]=d[t>>2];w=e;return o|0}function sg(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;var u=0;e=w;w=w+16|0;u=e+4|0;t=e;d[u>>2]=n;d[t>>2]=a;o=sy(n,r,u,a,o,t,1114111,0)|0;d[i>>2]=d[u>>2];d[s>>2]=d[t>>2];w=e;return o|0}function ug(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;d[i>>2]=n;return 3}function lg(e){e=e|0;return 0}function cg(e){e=e|0;return 0}function fg(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;return uy(n,r,i,1114111,0)|0}function hg(e){e=e|0;return 4}function dg(e){e=e|0;Hw(e);return}function pg(e){e=e|0;Hw(e);return}function mg(e,t){e=e|0;t=t|0;d[e+4>>2]=t+-1;d[e>>2]=44384;f[e+8>>0]=46;f[e+9>>0]=44;e=e+12|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;return}function gg(e,t){e=e|0;t=t|0;d[e+4>>2]=t+-1;d[e>>2]=44424;d[e+8>>2]=46;d[e+12>>2]=44;e=e+16|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;return}function vg(e){e=e|0;d[e>>2]=44384;Gh(e+12|0);return}function yg(e){e=e|0;vg(e);Hw(e);return}function bg(e){e=e|0;d[e>>2]=44424;Gh(e+16|0);return}function wg(e){e=e|0;bg(e);Hw(e);return}function Sg(e){e=e|0;return f[e+8>>0]|0}function xg(e){e=e|0;return d[e+8>>2]|0}function _g(e){e=e|0;return f[e+9>>0]|0}function Tg(e){e=e|0;return d[e+12>>2]|0}function Eg(e,t){e=e|0;t=t|0;Uh(e,t+12|0);return}function kg(e,t){e=e|0;t=t|0;Uh(e,t+16|0);return}function Cg(e,t){e=e|0;t=t|0;jh(e,59024,4);return}function Ag(e,t){e=e|0;t=t|0;td(e,44996,i_(44996)|0);return}function Og(e,t){e=e|0;t=t|0;jh(e,59029,5);return}function Ig(e,t){e=e|0;t=t|0;td(e,45016,i_(45016)|0);return}function Mg(e){e=e|0;switch(d[e+4>>2]&74|0){case 64:{e=8;break}case 8:{e=16;break}case 0:{e=0;break}default:e=10}return e|0}function Dg(e){e=e|0;do{if((f[2464]|0)==0?(He(2464)|0)!=0:0){if((f[2472]|0)==0?(He(2472)|0)!=0:0){e=45040;do{d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;e=e+12|0}while((e|0)!=45208);xt(193,0,E|0)|0;$e(2472)}k=0;Oe(41,45040,59035)|0;e=k;k=0;if(((((((((((((!(e&1)?(k=0,Oe(41,45052,59042)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45064,59049)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45076,59057)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45088,59067)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45100,59076)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45112,59083)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45124,59092)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45136,59096)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45148,59100)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45160,59104)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45172,59108)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45184,59112)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45196,59116)|0,e=k,k=0,!(e&1)):0){d[11302]=45040;$e(2464);break}e=Ze()|0;It(2464);ut(e|0)}}while(0);return d[11302]|0}function Rg(e){e=e|0;do{if((f[2480]|0)==0?(He(2480)|0)!=0:0){if((f[2488]|0)==0?(He(2488)|0)!=0:0){e=45212;do{d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;e=e+12|0}while((e|0)!=45380);xt(194,0,E|0)|0;$e(2488)}k=0;Oe(42,45212,45380)|0;e=k;k=0;if(((((((((((((!(e&1)?(k=0,Oe(42,45224,45408)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,45236,45436)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,45248,45468)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,45260,45508)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,45272,45544)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,45284,45572)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,45296,45608)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,45308,45624)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,45320,45640)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,45332,45656)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,45344,45672)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,45356,45688)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,45368,45704)|0,e=k,k=0,!(e&1)):0){d[11430]=45212;$e(2480);break}e=Ze()|0;It(2480);ut(e|0)}}while(0);return d[11430]|0}function Pg(e){e=e|0;e:do{if((f[2496]|0)==0?(He(2496)|0)!=0:0){if((f[2504]|0)==0?(He(2504)|0)!=0:0){e=45724;do{d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;e=e+12|0}while((e|0)!=46012);xt(195,0,E|0)|0;$e(2504)}k=0;Oe(41,45724,59120)|0;e=k;k=0;do{if((((((((((((((!(e&1)?(k=0,Oe(41,45736,59128)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45748,59137)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45760,59143)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45772,59149)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45784,59153)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45796,59158)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45808,59163)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45820,59170)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45832,59180)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45844,59188)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45856,59197)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45868,59206)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45880,59210)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(41,45892,59214)|0,e=k,k=0,!(e&1)):0){k=0;Oe(41,45904,59218)|0;e=k;k=0;if(e&1)break;k=0;Oe(41,45916,59149)|0;e=k;k=0;if(e&1)break;k=0;Oe(41,45928,59222)|0;e=k;k=0;if(e&1)break;k=0;Oe(41,45940,59226)|0;e=k;k=0;if(e&1)break;k=0;Oe(41,45952,59230)|0;e=k;k=0;if(e&1)break;k=0;Oe(41,45964,59234)|0;e=k;k=0;if(e&1)break;k=0;Oe(41,45976,59238)|0;e=k;k=0;if(e&1)break;k=0;Oe(41,45988,59242)|0;e=k;k=0;if(e&1)break;k=0;Oe(41,46e3,59246)|0;e=k;k=0;if(e&1)break;d[11503]=45724;$e(2496);break e}}while(0);e=Ze()|0;It(2496);ut(e|0)}}while(0);return d[11503]|0}function Ng(e){e=e|0;e:do{if((f[2512]|0)==0?(He(2512)|0)!=0:0){if((f[2520]|0)==0?(He(2520)|0)!=0:0){e=46016;do{d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;e=e+12|0}while((e|0)!=46304);xt(196,0,E|0)|0;$e(2520)}k=0;Oe(42,46016,46304)|0;e=k;k=0;do{if((((((((((((((!(e&1)?(k=0,Oe(42,46028,46336)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,46040,46372)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,46052,46396)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,46064,46420)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,46076,46436)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,46088,46456)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,46100,46476)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,46112,46504)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,46124,46544)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,46136,46576)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,46148,46612)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,46160,46648)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,46172,46664)|0,e=k,k=0,!(e&1)):0)?(k=0,Oe(42,46184,46680)|0,e=k,k=0,!(e&1)):0){k=0;Oe(42,46196,46696)|0;e=k;k=0;if(e&1)break;k=0;Oe(42,46208,46420)|0;e=k;k=0;if(e&1)break;k=0;Oe(42,46220,46712)|0;e=k;k=0;if(e&1)break;k=0;Oe(42,46232,46728)|0;e=k;k=0;if(e&1)break;k=0;Oe(42,46244,46744)|0;e=k;k=0;if(e&1)break;k=0;Oe(42,46256,46760)|0;e=k;k=0;if(e&1)break;k=0;Oe(42,46268,46776)|0;e=k;k=0;if(e&1)break;k=0;Oe(42,46280,46792)|0;e=k;k=0;if(e&1)break;k=0;Oe(42,46292,46808)|0;e=k;k=0;if(e&1)break;d[11706]=46016;$e(2512);break e}}while(0);e=Ze()|0;It(2512);ut(e|0)}}while(0);return d[11706]|0}function Lg(e){e=e|0;do{if((f[2528]|0)==0?(He(2528)|0)!=0:0){if((f[2536]|0)==0?(He(2536)|0)!=0:0){e=46828;do{d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;e=e+12|0}while((e|0)!=47116);xt(197,0,E|0)|0;$e(2536)}k=0;Oe(41,46828,59250)|0;e=k;k=0;if(!(e&1)?(k=0,Oe(41,46840,59253)|0,e=k,k=0,!(e&1)):0){d[11779]=46828;$e(2528);break}e=Ze()|0;It(2528);ut(e|0)}}while(0);return d[11779]|0}function Fg(e){e=e|0;do{if((f[2544]|0)==0?(He(2544)|0)!=0:0){if((f[2552]|0)==0?(He(2552)|0)!=0:0){e=47120;do{d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;e=e+12|0}while((e|0)!=47408);xt(198,0,E|0)|0;$e(2552)}k=0;Oe(42,47120,47408)|0;e=k;k=0;if(!(e&1)?(k=0,Oe(42,47132,47420)|0,e=k,k=0,!(e&1)):0){d[11858]=47120;$e(2544);break}e=Ze()|0;It(2544);ut(e|0)}}while(0);return d[11858]|0}function Bg(e){e=e|0;do{if((f[2560]|0)==0?(He(2560)|0)!=0:0){k=0;Pe(5,47436,59256,8);e=k;k=0;if(e&1){e=Ze()|0;It(2560);ut(e|0)}else{xt(199,47436,E|0)|0;$e(2560);break}}}while(0);return 47436}function zg(e){e=e|0;var t=0;do{if((f[2568]|0)==0?(He(2568)|0)!=0:0){k=0;e=xe(76,47448)|0;t=k;k=0;if(!(t&1)?(k=0,Pe(15,47484,47448,e|0),t=k,k=0,!(t&1)):0){xt(200,47484,E|0)|0;$e(2568);break}t=Ze()|0;It(2568);ut(t|0)}}while(0);return 47484}function Ug(e){e=e|0;do{if((f[2576]|0)==0?(He(2576)|0)!=0:0){k=0;Pe(5,47496,59265,8);e=k;k=0;if(e&1){e=Ze()|0;It(2576);ut(e|0)}else{xt(199,47496,E|0)|0;$e(2576);break}}}while(0);return 47496}function jg(e){e=e|0;var t=0;do{if((f[2584]|0)==0?(He(2584)|0)!=0:0){k=0;e=xe(76,47508)|0;t=k;k=0;if(!(t&1)?(k=0,Pe(15,47544,47508,e|0),t=k,k=0,!(t&1)):0){xt(200,47544,E|0)|0;$e(2584);break}t=Ze()|0;It(2584);ut(t|0)}}while(0);return 47544}function Vg(e){e=e|0;do{if((f[2592]|0)==0?(He(2592)|0)!=0:0){k=0;Pe(5,47556,59274,20);e=k;k=0;if(e&1){e=Ze()|0;It(2592);ut(e|0)}else{xt(199,47556,E|0)|0;$e(2592);break}}}while(0);return 47556}function Gg(e){e=e|0;var t=0;do{if((f[2600]|0)==0?(He(2600)|0)!=0:0){k=0;e=xe(76,47568)|0;t=k;k=0;if(!(t&1)?(k=0,Pe(15,47652,47568,e|0),t=k,k=0,!(t&1)):0){xt(200,47652,E|0)|0;$e(2600);break}t=Ze()|0;It(2600);ut(t|0)}}while(0);return 47652}function Wg(e){e=e|0;do{if((f[2608]|0)==0?(He(2608)|0)!=0:0){k=0;Pe(5,47664,59295,11);e=k;k=0;if(e&1){e=Ze()|0;It(2608);ut(e|0)}else{xt(199,47664,E|0)|0;$e(2608);break}}}while(0);return 47664}function Hg(e){e=e|0;var t=0;do{if((f[2616]|0)==0?(He(2616)|0)!=0:0){k=0;e=xe(76,47676)|0;t=k;k=0;if(!(t&1)?(k=0,Pe(15,47724,47676,e|0),t=k,k=0,!(t&1)):0){xt(200,47724,E|0)|0;$e(2616);break}t=Ze()|0;It(2616);ut(t|0)}}while(0);return 47724}function qg(e){e=e|0;var t=0,n=0,r=0;d[e>>2]=44304;e=e+8|0;t=d[e>>2]|0;k=0;n=De(3)|0;r=k;k=0;do{if(!(r&1)){if((t|0)!=(n|0)?(k=0,be(188,d[e>>2]|0),r=k,k=0,r&1):0)break;return}}while(0);r=Ze(0)|0;Xt(r)}function Qg(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;var s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0;T=w;w=w+112|0;u=T;c=(r-n|0)/12|0;do{if(c>>>0>100){u=Uf(c)|0;if((u|0)==0?(k=0,Ne(6),_=k,k=0,_&1):0){s=0;g=6;break}s=u;g=11}else{s=0;g=11}}while(0);e:do{if((g|0)==11){if((n|0)==(r|0))l=0;else{g=n;h=0;m=u;while(1){l=f[g>>0]|0;if(!(l&1))l=(l&255)>>>1;else l=d[g+4>>2]|0;if(!l){f[m>>0]=2;l=h+1|0;c=c+-1|0}else{f[m>>0]=1;l=h}g=g+12|0;if((g|0)==(r|0))break;else{h=l;m=m+1|0}}}x=(n|0)==(r|0);_=(n|0)==(r|0);S=0;v=l;t:while(1){l=d[e>>2]|0;do{if(l){if((d[l+12>>2]|0)==(d[l+16>>2]|0)){k=0;l=xe(d[(d[l>>2]|0)+36>>2]|0,l|0)|0;b=k;k=0;if(b&1){g=5;break t}if((l|0)==-1){d[e>>2]=0;l=0;break}else{l=d[e>>2]|0;break}}}else l=0}while(0);g=(l|0)==0;h=d[t>>2]|0;if(h){if((d[h+12>>2]|0)==(d[h+16>>2]|0)){k=0;l=xe(d[(d[h>>2]|0)+36>>2]|0,h|0)|0;b=k;k=0;if(b&1){g=5;break}if((l|0)==-1){d[t>>2]=0;h=0}}}else h=0;m=(h|0)==0;l=d[e>>2]|0;if(!((c|0)!=0&(g^m))){g=64;break}h=d[l+12>>2]|0;if((h|0)==(d[l+16>>2]|0)){k=0;l=xe(d[(d[l>>2]|0)+36>>2]|0,l|0)|0;b=k;k=0;if(b&1){g=5;break}}else l=p[h>>0]|0;l=l&255;if(!o){k=0;l=Oe(d[(d[i>>2]|0)+12>>2]|0,i|0,l|0)|0;b=k;k=0;if(b&1){g=5;break}}b=S+1|0;if(x){l=0;g=v}else{m=0;y=n;g=v;v=u;while(1){do{if((f[v>>0]|0)==1){if(!(f[y>>0]&1))h=y+1|0;else h=d[y+8>>2]|0;h=f[h+S>>0]|0;if(!o){k=0;h=Oe(d[(d[i>>2]|0)+12>>2]|0,i|0,h|0)|0;E=k;k=0;if(E&1){g=4;break t}}if(l<<24>>24!=h<<24>>24){f[v>>0]=0;h=m;c=c+-1|0;break}h=f[y>>0]|0;if(!(h&1))h=(h&255)>>>1;else h=d[y+4>>2]|0;if((h|0)==(b|0)){f[v>>0]=2;h=1;g=g+1|0;c=c+-1|0}else h=1}else h=m}while(0);y=y+12|0;if((y|0)==(r|0)){l=h;break}else{m=h;v=v+1|0}}}if(!l){S=b;v=g;continue}l=d[e>>2]|0;h=l+12|0;m=d[h>>2]|0;if((m|0)==(d[l+16>>2]|0)){k=0;xe(d[(d[l>>2]|0)+40>>2]|0,l|0)|0;E=k;k=0;if(E&1){g=5;break}}else d[h>>2]=m+1;if((g+c|0)>>>0<2|_){S=b;v=g;continue}else{l=n;m=g;g=u}while(1){if((f[g>>0]|0)==2){h=f[l>>0]|0;if(!(h&1))h=(h&255)>>>1;else h=d[l+4>>2]|0;if((h|0)!=(b|0)){f[g>>0]=0;m=m+-1|0}}l=l+12|0;if((l|0)==(r|0)){S=b;v=m;continue t}else g=g+1|0}}if((g|0)==4){n=Ze()|0;break}else if((g|0)==5){n=Ze()|0;break}else if((g|0)==64){do{if(l){if((d[l+12>>2]|0)==(d[l+16>>2]|0)){k=0;l=xe(d[(d[l>>2]|0)+36>>2]|0,l|0)|0;E=k;k=0;if(E&1){g=6;break e}if((l|0)==-1){d[e>>2]=0;l=0;break}else{l=d[e>>2]|0;break}}}else l=0}while(0);c=(l|0)==0;do{if(!m){if((d[h+12>>2]|0)==(d[h+16>>2]|0)){k=0;l=xe(d[(d[h>>2]|0)+36>>2]|0,h|0)|0;E=k;k=0;if(E&1){g=6;break e}if((l|0)==-1){d[t>>2]=0;g=76;break}}if(!c)g=77}else g=76}while(0);if((g|0)==76?c:0)g=77;if((g|0)==77)d[a>>2]=d[a>>2]|2;t:do{if((n|0)==(r|0))g=81;else while(1){if((f[u>>0]|0)==2)break t;n=n+12|0;if((n|0)==(r|0)){g=81;break}else u=u+1|0}}while(0);if((g|0)==81){d[a>>2]=d[a>>2]|4;n=r}if(s)jf(s);w=T;return n|0}}}while(0);if((g|0)==6)n=Ze()|0;if(s)jf(s);ut(n|0);return 0}function Xg(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0;E=w;w=w+240|0;v=E+202|0;o=E+200|0;A=E+24|0;C=E+12|0;b=E+8|0;_=E+40|0;T=E+4|0;S=E;y=Mg(r)|0;vm(A,r,v,o);d[C>>2]=0;d[C+4>>2]=0;d[C+8>>2]=0;if(!(f[C>>0]&1))e=10;else e=(d[C>>2]&-2)+-1|0;k=0;Pe(8,C|0,e|0,0);g=k;k=0;e:do{if(!(g&1)){h=C+8|0;m=C+1|0;r=(f[C>>0]&1)==0?m:d[h>>2]|0;d[b>>2]=r;d[T>>2]=_;d[S>>2]=0;g=C+4|0;c=f[o>>0]|0;e=d[t>>2]|0;t:while(1){if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;o=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;l=k;k=0;if(l&1){O=24;break}if((o|0)==-1){d[t>>2]=0;e=0}}}else e=0;s=(e|0)==0;o=d[n>>2]|0;do{if(o){if((d[o+12>>2]|0)!=(d[o+16>>2]|0))if(s)break;else break t;k=0;u=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;l=k;k=0;if(l&1){O=24;break t}if((u|0)!=-1){if(s)break;else break t}else{d[n>>2]=0;O=16;break}}else O=16}while(0);if((O|0)==16){O=0;if(s){o=0;break}else o=0}s=f[C>>0]|0;s=(s&1)==0?(s&255)>>>1:d[g>>2]|0;if((d[b>>2]|0)==(r+s|0)){k=0;Pe(8,C|0,s<<1|0,0);l=k;k=0;if(l&1){O=24;break}if(!(f[C>>0]&1))r=10;else r=(d[C>>2]&-2)+-1|0;k=0;Pe(8,C|0,r|0,0);l=k;k=0;if(l&1){O=24;break}r=(f[C>>0]&1)==0?m:d[h>>2]|0;d[b>>2]=r+s}u=e+12|0;s=d[u>>2]|0;l=e+16|0;if((s|0)==(d[l>>2]|0)){k=0;s=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;I=k;k=0;if(I&1){O=24;break}}else s=p[s>>0]|0;if(tm(s&255,y,r,b,S,c,A,_,T,v)|0)break;o=d[u>>2]|0;if((o|0)==(d[l>>2]|0)){k=0;xe(d[(d[e>>2]|0)+40>>2]|0,e|0)|0;I=k;k=0;if(I&1){O=24;break}else continue}else{d[u>>2]=o+1;continue}}if((O|0)==24){e=Ze()|0;break}I=f[A>>0]|0;if((((I&1)==0?(I&255)>>>1:d[A+4>>2]|0)|0)!=0?(x=d[T>>2]|0,(x-_|0)<160):0){I=d[S>>2]|0;d[T>>2]=x+4;d[x>>2]=I}k=0;r=Re(21,r|0,d[b>>2]|0,i|0,y|0)|0;I=k;k=0;if(!(I&1)){d[a>>2]=r;rc(A,_,d[T>>2]|0,i);if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;r=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;I=k;k=0;if(I&1){O=25;break}if((r|0)==-1){d[t>>2]=0;e=0}}}else e=0;r=(e|0)==0;do{if(o){if((d[o+12>>2]|0)==(d[o+16>>2]|0)){k=0;e=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;I=k;k=0;if(I&1){O=25;break e}if((e|0)==-1){d[n>>2]=0;O=49;break}}if(!r)O=50}else O=49}while(0);if((O|0)==49?r:0)O=50;if((O|0)==50)d[i>>2]=d[i>>2]|2;I=d[t>>2]|0;Gh(C);Gh(A);w=E;return I|0}else O=25}else O=25}while(0);if((O|0)==25)e=Ze()|0;Gh(C);Gh(A);ut(e|0);return 0}function Yg(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0;E=w;w=w+240|0;v=E+202|0;o=E+200|0;A=E+24|0;C=E+12|0;b=E+8|0;_=E+40|0;T=E+4|0;S=E;y=Mg(r)|0;vm(A,r,v,o);d[C>>2]=0;d[C+4>>2]=0;d[C+8>>2]=0;if(!(f[C>>0]&1))e=10;else e=(d[C>>2]&-2)+-1|0;k=0;Pe(8,C|0,e|0,0);g=k;k=0;e:do{if(!(g&1)){h=C+8|0;m=C+1|0;r=(f[C>>0]&1)==0?m:d[h>>2]|0;d[b>>2]=r;d[T>>2]=_;d[S>>2]=0;g=C+4|0;c=f[o>>0]|0;e=d[t>>2]|0;t:while(1){if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;o=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;l=k;k=0;if(l&1){O=24;break}if((o|0)==-1){d[t>>2]=0;e=0}}}else e=0;o=(e|0)==0;s=d[n>>2]|0;do{if(s){if((d[s+12>>2]|0)!=(d[s+16>>2]|0))if(o)break;else break t;k=0;u=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;l=k;k=0;if(l&1){O=24;break t}if((u|0)!=-1){if(o)break;else break t}else{d[n>>2]=0;O=16;break}}else O=16}while(0);if((O|0)==16){O=0;if(o){s=0;break}else s=0}o=f[C>>0]|0;o=(o&1)==0?(o&255)>>>1:d[g>>2]|0;if((d[b>>2]|0)==(r+o|0)){k=0;Pe(8,C|0,o<<1|0,0);l=k;k=0;if(l&1){O=24;break}if(!(f[C>>0]&1))r=10;else r=(d[C>>2]&-2)+-1|0;k=0;Pe(8,C|0,r|0,0);l=k;k=0;if(l&1){O=24;break}r=(f[C>>0]&1)==0?m:d[h>>2]|0;d[b>>2]=r+o}u=e+12|0;o=d[u>>2]|0;l=e+16|0;if((o|0)==(d[l>>2]|0)){k=0;o=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;I=k;k=0;if(I&1){O=24;break}}else o=p[o>>0]|0;if(tm(o&255,y,r,b,S,c,A,_,T,v)|0)break;o=d[u>>2]|0;if((o|0)==(d[l>>2]|0)){k=0;xe(d[(d[e>>2]|0)+40>>2]|0,e|0)|0;I=k;k=0;if(I&1){O=24;break}else continue}else{d[u>>2]=o+1;continue}}if((O|0)==24){e=Ze()|0;break}I=f[A>>0]|0;if((((I&1)==0?(I&255)>>>1:d[A+4>>2]|0)|0)!=0?(x=d[T>>2]|0,(x-_|0)<160):0){I=d[S>>2]|0;d[T>>2]=x+4;d[x>>2]=I}k=0;r=Re(22,r|0,d[b>>2]|0,i|0,y|0)|0;o=j;I=k;k=0;if(!(I&1)){I=a;d[I>>2]=r;d[I+4>>2]=o;rc(A,_,d[T>>2]|0,i);if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;r=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;I=k;k=0;if(I&1){O=25;break}if((r|0)==-1){d[t>>2]=0;e=0}}}else e=0;r=(e|0)==0;do{if(s){if((d[s+12>>2]|0)==(d[s+16>>2]|0)){k=0;e=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;I=k;k=0;if(I&1){O=25;break e}if((e|0)==-1){d[n>>2]=0;O=49;break}}if(!r)O=50}else O=49}while(0);if((O|0)==49?r:0)O=50;if((O|0)==50)d[i>>2]=d[i>>2]|2;I=d[t>>2]|0;Gh(C);Gh(A);w=E;return I|0}else O=25}else O=25}while(0);if((O|0)==25)e=Ze()|0;Gh(C);Gh(A);ut(e|0);return 0}function Kg(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0;C=w;w=w+240|0;y=C+202|0;o=C+200|0;O=C+24|0;A=C+12|0;S=C+8|0;T=C+40|0;E=C+4|0;x=C;b=Mg(r)|0;vm(O,r,y,o);d[A>>2]=0;d[A+4>>2]=0;d[A+8>>2]=0;if(!(f[A>>0]&1))e=10;else e=(d[A>>2]&-2)+-1|0;k=0;Pe(8,A|0,e|0,0);v=k;k=0;e:do{if(!(v&1)){m=A+8|0;g=A+1|0;r=(f[A>>0]&1)==0?g:d[m>>2]|0;d[S>>2]=r;d[E>>2]=T;d[x>>2]=0;v=A+4|0;c=f[o>>0]|0;e=d[t>>2]|0;t:while(1){if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;o=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;l=k;k=0;if(l&1){I=24;break}if((o|0)==-1){d[t>>2]=0;e=0}}}else e=0;s=(e|0)==0;o=d[n>>2]|0;do{if(o){if((d[o+12>>2]|0)!=(d[o+16>>2]|0))if(s)break;else break t;k=0;u=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;l=k;k=0;if(l&1){I=24;break t}if((u|0)!=-1){if(s)break;else break t}else{d[n>>2]=0;I=16;break}}else I=16}while(0);if((I|0)==16){I=0;if(s){o=0;break}else o=0}s=f[A>>0]|0;s=(s&1)==0?(s&255)>>>1:d[v>>2]|0;if((d[S>>2]|0)==(r+s|0)){k=0;Pe(8,A|0,s<<1|0,0);l=k;k=0;if(l&1){I=24;break}if(!(f[A>>0]&1))r=10;else r=(d[A>>2]&-2)+-1|0;k=0;Pe(8,A|0,r|0,0);l=k;k=0;if(l&1){I=24;break}r=(f[A>>0]&1)==0?g:d[m>>2]|0;d[S>>2]=r+s}u=e+12|0;s=d[u>>2]|0;l=e+16|0;if((s|0)==(d[l>>2]|0)){k=0;s=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;M=k;k=0;if(M&1){I=24;break}}else s=p[s>>0]|0;if(tm(s&255,b,r,S,x,c,O,T,E,y)|0)break;o=d[u>>2]|0;if((o|0)==(d[l>>2]|0)){k=0;xe(d[(d[e>>2]|0)+40>>2]|0,e|0)|0;M=k;k=0;if(M&1){I=24;break}else continue}else{d[u>>2]=o+1;continue}}if((I|0)==24){e=Ze()|0;break}M=f[O>>0]|0;if((((M&1)==0?(M&255)>>>1:d[O+4>>2]|0)|0)!=0?(_=d[E>>2]|0,(_-T|0)<160):0){M=d[x>>2]|0;d[E>>2]=_+4;d[_>>2]=M}k=0;r=Re(23,r|0,d[S>>2]|0,i|0,b|0)|0;M=k;k=0;if(!(M&1)){h[a>>1]=r;rc(O,T,d[E>>2]|0,i);if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;r=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;M=k;k=0;if(M&1){I=25;break}if((r|0)==-1){d[t>>2]=0;e=0}}}else e=0;r=(e|0)==0;do{if(o){if((d[o+12>>2]|0)==(d[o+16>>2]|0)){k=0;e=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;M=k;k=0;if(M&1){I=25;break e}if((e|0)==-1){d[n>>2]=0;I=49;break}}if(!r)I=50}else I=49}while(0);if((I|0)==49?r:0)I=50;if((I|0)==50)d[i>>2]=d[i>>2]|2;M=d[t>>2]|0;Gh(A);Gh(O);w=C;return M|0}else I=25}else I=25}while(0);if((I|0)==25)e=Ze()|0;Gh(A);Gh(O);ut(e|0);return 0}function Zg(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0;E=w;w=w+240|0;v=E+202|0;o=E+200|0;A=E+24|0;C=E+12|0;b=E+8|0;_=E+40|0;T=E+4|0;S=E;y=Mg(r)|0;vm(A,r,v,o);d[C>>2]=0;d[C+4>>2]=0;d[C+8>>2]=0;if(!(f[C>>0]&1))e=10;else e=(d[C>>2]&-2)+-1|0;k=0;Pe(8,C|0,e|0,0);g=k;k=0;e:do{if(!(g&1)){h=C+8|0;m=C+1|0;r=(f[C>>0]&1)==0?m:d[h>>2]|0;d[b>>2]=r;d[T>>2]=_;d[S>>2]=0;g=C+4|0;c=f[o>>0]|0;e=d[t>>2]|0;t:while(1){if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;o=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;l=k;k=0;if(l&1){O=24;break}if((o|0)==-1){d[t>>2]=0;e=0}}}else e=0;s=(e|0)==0;o=d[n>>2]|0;do{if(o){if((d[o+12>>2]|0)!=(d[o+16>>2]|0))if(s)break;else break t;k=0;u=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;l=k;k=0;if(l&1){O=24;break t}if((u|0)!=-1){if(s)break;else break t}else{d[n>>2]=0;O=16;break}}else O=16}while(0);if((O|0)==16){O=0;if(s){o=0;break}else o=0}s=f[C>>0]|0;s=(s&1)==0?(s&255)>>>1:d[g>>2]|0;if((d[b>>2]|0)==(r+s|0)){k=0;Pe(8,C|0,s<<1|0,0);l=k;k=0;if(l&1){O=24;break}if(!(f[C>>0]&1))r=10;else r=(d[C>>2]&-2)+-1|0;k=0;Pe(8,C|0,r|0,0);l=k;k=0;if(l&1){O=24;break}r=(f[C>>0]&1)==0?m:d[h>>2]|0;d[b>>2]=r+s}u=e+12|0;s=d[u>>2]|0;l=e+16|0;if((s|0)==(d[l>>2]|0)){k=0;s=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;I=k;k=0;if(I&1){O=24;break}}else s=p[s>>0]|0;if(tm(s&255,y,r,b,S,c,A,_,T,v)|0)break;o=d[u>>2]|0;if((o|0)==(d[l>>2]|0)){k=0;xe(d[(d[e>>2]|0)+40>>2]|0,e|0)|0;I=k;k=0;if(I&1){O=24;break}else continue}else{d[u>>2]=o+1;continue}}if((O|0)==24){e=Ze()|0;break}I=f[A>>0]|0;if((((I&1)==0?(I&255)>>>1:d[A+4>>2]|0)|0)!=0?(x=d[T>>2]|0,(x-_|0)<160):0){I=d[S>>2]|0;d[T>>2]=x+4;d[x>>2]=I}k=0;r=Re(24,r|0,d[b>>2]|0,i|0,y|0)|0;I=k;k=0;if(!(I&1)){d[a>>2]=r;rc(A,_,d[T>>2]|0,i);if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;r=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;I=k;k=0;if(I&1){O=25;break}if((r|0)==-1){d[t>>2]=0;e=0}}}else e=0;r=(e|0)==0;do{if(o){if((d[o+12>>2]|0)==(d[o+16>>2]|0)){k=0;e=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;I=k;k=0;if(I&1){O=25;break e}if((e|0)==-1){d[n>>2]=0;O=49;break}}if(!r)O=50}else O=49}while(0);if((O|0)==49?r:0)O=50;if((O|0)==50)d[i>>2]=d[i>>2]|2;I=d[t>>2]|0;Gh(C);Gh(A);w=E;return I|0}else O=25}else O=25}while(0);if((O|0)==25)e=Ze()|0;Gh(C);Gh(A);ut(e|0);return 0}function Jg(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0;E=w;w=w+240|0;v=E+202|0;o=E+200|0;A=E+24|0;C=E+12|0;b=E+8|0;_=E+40|0;T=E+4|0;S=E;y=Mg(r)|0;vm(A,r,v,o);d[C>>2]=0;d[C+4>>2]=0;d[C+8>>2]=0;if(!(f[C>>0]&1))e=10;else e=(d[C>>2]&-2)+-1|0;k=0;Pe(8,C|0,e|0,0);g=k;k=0;e:do{if(!(g&1)){h=C+8|0;m=C+1|0;r=(f[C>>0]&1)==0?m:d[h>>2]|0;d[b>>2]=r;d[T>>2]=_;d[S>>2]=0;g=C+4|0;c=f[o>>0]|0;e=d[t>>2]|0;t:while(1){if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;o=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;l=k;k=0;if(l&1){O=24;break}if((o|0)==-1){d[t>>2]=0;e=0}}}else e=0;s=(e|0)==0;o=d[n>>2]|0;do{if(o){if((d[o+12>>2]|0)!=(d[o+16>>2]|0))if(s)break;else break t;k=0;u=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;l=k;k=0;if(l&1){O=24;break t}if((u|0)!=-1){if(s)break;else break t}else{d[n>>2]=0;O=16;break}}else O=16}while(0);if((O|0)==16){O=0;if(s){o=0;break}else o=0}s=f[C>>0]|0;s=(s&1)==0?(s&255)>>>1:d[g>>2]|0;if((d[b>>2]|0)==(r+s|0)){k=0;Pe(8,C|0,s<<1|0,0);l=k;k=0;if(l&1){O=24;break}if(!(f[C>>0]&1))r=10;else r=(d[C>>2]&-2)+-1|0;k=0;Pe(8,C|0,r|0,0);l=k;k=0;if(l&1){O=24;break}r=(f[C>>0]&1)==0?m:d[h>>2]|0;d[b>>2]=r+s}u=e+12|0;s=d[u>>2]|0;l=e+16|0;if((s|0)==(d[l>>2]|0)){k=0;s=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;I=k;k=0;if(I&1){O=24;break}}else s=p[s>>0]|0;if(tm(s&255,y,r,b,S,c,A,_,T,v)|0)break;o=d[u>>2]|0;if((o|0)==(d[l>>2]|0)){k=0;xe(d[(d[e>>2]|0)+40>>2]|0,e|0)|0;I=k;k=0;if(I&1){O=24;break}else continue}else{d[u>>2]=o+1;continue}}if((O|0)==24){e=Ze()|0;break}I=f[A>>0]|0;if((((I&1)==0?(I&255)>>>1:d[A+4>>2]|0)|0)!=0?(x=d[T>>2]|0,(x-_|0)<160):0){I=d[S>>2]|0;d[T>>2]=x+4;d[x>>2]=I}k=0;r=Re(25,r|0,d[b>>2]|0,i|0,y|0)|0;I=k;k=0;if(!(I&1)){d[a>>2]=r;rc(A,_,d[T>>2]|0,i);if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;r=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;I=k;k=0;if(I&1){O=25;break}if((r|0)==-1){d[t>>2]=0;e=0}}}else e=0;r=(e|0)==0;do{if(o){if((d[o+12>>2]|0)==(d[o+16>>2]|0)){k=0;e=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;I=k;k=0;if(I&1){O=25;break e}if((e|0)==-1){d[n>>2]=0;O=49;break}}if(!r)O=50}else O=49}while(0);if((O|0)==49?r:0)O=50;if((O|0)==50)d[i>>2]=d[i>>2]|2;I=d[t>>2]|0;Gh(C);Gh(A);w=E;return I|0}else O=25}else O=25}while(0);if((O|0)==25)e=Ze()|0;Gh(C);Gh(A);ut(e|0);return 0}function $g(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0;E=w;w=w+240|0;v=E+202|0;o=E+200|0;A=E+24|0;C=E+12|0;b=E+8|0;_=E+40|0;T=E+4|0;S=E;y=Mg(r)|0;vm(A,r,v,o);d[C>>2]=0;d[C+4>>2]=0;d[C+8>>2]=0;if(!(f[C>>0]&1))e=10;else e=(d[C>>2]&-2)+-1|0;k=0;Pe(8,C|0,e|0,0);g=k;k=0;e:do{if(!(g&1)){h=C+8|0;m=C+1|0;r=(f[C>>0]&1)==0?m:d[h>>2]|0;d[b>>2]=r;d[T>>2]=_;d[S>>2]=0;g=C+4|0;c=f[o>>0]|0;e=d[t>>2]|0;t:while(1){if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;o=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;l=k;k=0;if(l&1){O=24;break}if((o|0)==-1){d[t>>2]=0;e=0}}}else e=0;o=(e|0)==0;s=d[n>>2]|0;do{if(s){if((d[s+12>>2]|0)!=(d[s+16>>2]|0))if(o)break;else break t;k=0;u=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;l=k;k=0;if(l&1){O=24;break t}if((u|0)!=-1){if(o)break;else break t}else{d[n>>2]=0;O=16;break}}else O=16}while(0);if((O|0)==16){O=0;if(o){s=0;break}else s=0}o=f[C>>0]|0;o=(o&1)==0?(o&255)>>>1:d[g>>2]|0;if((d[b>>2]|0)==(r+o|0)){k=0;Pe(8,C|0,o<<1|0,0);l=k;k=0;if(l&1){O=24;break}if(!(f[C>>0]&1))r=10;else r=(d[C>>2]&-2)+-1|0;k=0;Pe(8,C|0,r|0,0);l=k;k=0;if(l&1){O=24;break}r=(f[C>>0]&1)==0?m:d[h>>2]|0;d[b>>2]=r+o}u=e+12|0;o=d[u>>2]|0;l=e+16|0;if((o|0)==(d[l>>2]|0)){k=0;o=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;I=k;k=0;if(I&1){O=24;break}}else o=p[o>>0]|0;if(tm(o&255,y,r,b,S,c,A,_,T,v)|0)break;o=d[u>>2]|0;if((o|0)==(d[l>>2]|0)){k=0;xe(d[(d[e>>2]|0)+40>>2]|0,e|0)|0;I=k;k=0;if(I&1){O=24;break}else continue}else{d[u>>2]=o+1;continue}}if((O|0)==24){e=Ze()|0;break}I=f[A>>0]|0;if((((I&1)==0?(I&255)>>>1:d[A+4>>2]|0)|0)!=0?(x=d[T>>2]|0,(x-_|0)<160):0){I=d[S>>2]|0;d[T>>2]=x+4;d[x>>2]=I}k=0;r=Re(26,r|0,d[b>>2]|0,i|0,y|0)|0;o=j;I=k;k=0;if(!(I&1)){I=a;d[I>>2]=r;d[I+4>>2]=o;rc(A,_,d[T>>2]|0,i);if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;r=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;I=k;k=0;if(I&1){O=25;break}if((r|0)==-1){d[t>>2]=0;e=0}}}else e=0;r=(e|0)==0;do{if(s){if((d[s+12>>2]|0)==(d[s+16>>2]|0)){k=0;e=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;I=k;k=0;if(I&1){O=25;break e}if((e|0)==-1){d[n>>2]=0;O=49;break}}if(!r)O=50}else O=49}while(0);if((O|0)==49?r:0)O=50;if((O|0)==50)d[i>>2]=d[i>>2]|2;I=d[t>>2]|0;Gh(C);Gh(A);w=E;return I|0}else O=25}else O=25}while(0);if((O|0)==25)e=Ze()|0;Gh(C);Gh(A);ut(e|0);return 0}function ev(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0.0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0,P=0;I=w;w=w+240|0;S=I+208|0;s=I+203|0;u=I+202|0;D=I+24|0;M=I+12|0;_=I+8|0;A=I+40|0;O=I+4|0;T=I;E=I+201|0;x=I+200|0;ym(D,r,S,s,u);d[M>>2]=0;d[M+4>>2]=0;d[M+8>>2]=0;if(!(f[M>>0]&1))e=10;else e=(d[M>>2]&-2)+-1|0;k=0;Pe(8,M|0,e|0,0);b=k;k=0;e:do{if(!(b&1)){g=M+8|0;y=M+1|0;r=(f[M>>0]&1)==0?y:d[g>>2]|0;d[_>>2]=r;d[O>>2]=A;d[T>>2]=0;f[E>>0]=1;f[x>>0]=69;b=M+4|0;m=f[s>>0]|0;h=f[u>>0]|0;e=d[t>>2]|0;t:while(1){if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;s=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;c=k;k=0;if(c&1){R=24;break}if((s|0)==-1){d[t>>2]=0;e=0}}}else e=0;u=(e|0)==0;s=d[n>>2]|0;do{if(s){if((d[s+12>>2]|0)!=(d[s+16>>2]|0))if(u)break;else break t;k=0;l=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;c=k;k=0;if(c&1){R=24;break t}if((l|0)!=-1){if(u)break;else break t}else{d[n>>2]=0;R=16;break}}else R=16}while(0);if((R|0)==16){R=0;if(u){s=0;break}else s=0}u=f[M>>0]|0;u=(u&1)==0?(u&255)>>>1:d[b>>2]|0;if((d[_>>2]|0)==(r+u|0)){k=0;Pe(8,M|0,u<<1|0,0);c=k;k=0;if(c&1){R=24;break}if(!(f[M>>0]&1))r=10;else r=(d[M>>2]&-2)+-1|0;k=0;Pe(8,M|0,r|0,0);c=k;k=0;if(c&1){R=24;break}r=(f[M>>0]&1)==0?y:d[g>>2]|0;d[_>>2]=r+u}l=e+12|0;u=d[l>>2]|0;c=e+16|0;if((u|0)==(d[c>>2]|0)){k=0;u=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;P=k;k=0;if(P&1){R=24;break}}else u=p[u>>0]|0;if(bm(u&255,E,x,r,_,m,h,D,A,O,T,S)|0)break;s=d[l>>2]|0;if((s|0)==(d[c>>2]|0)){k=0;xe(d[(d[e>>2]|0)+40>>2]|0,e|0)|0;P=k;k=0;if(P&1){R=24;break}else continue}else{d[l>>2]=s+1;continue}}if((R|0)==24){e=Ze()|0;break}P=f[D>>0]|0;if(!((f[E>>0]|0)==0?1:(((P&1)==0?(P&255)>>>1:d[D+4>>2]|0)|0)==0)?(C=d[O>>2]|0,(C-A|0)<160):0){P=d[T>>2]|0;d[O>>2]=C+4;d[C>>2]=P}k=0;o=+Me(1,r|0,d[_>>2]|0,i|0);P=k;k=0;if(!(P&1)){v[a>>2]=o;rc(D,A,d[O>>2]|0,i);if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;r=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;P=k;k=0;if(P&1){R=25;break}if((r|0)==-1){d[t>>2]=0;e=0}}}else e=0;r=(e|0)==0;do{if(s){if((d[s+12>>2]|0)==(d[s+16>>2]|0)){k=0;e=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;P=k;k=0;if(P&1){R=25;break e}if((e|0)==-1){d[n>>2]=0;R=49;break}}if(!r)R=50}else R=49}while(0);if((R|0)==49?r:0)R=50;if((R|0)==50)d[i>>2]=d[i>>2]|2;P=d[t>>2]|0;Gh(M);Gh(D);w=I;return P|0}else R=25}else R=25}while(0);if((R|0)==25)e=Ze()|0;Gh(M);Gh(D);ut(e|0);return 0}function tv(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0.0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0,P=0;I=w;w=w+240|0;S=I+208|0;s=I+203|0;u=I+202|0;D=I+24|0;M=I+12|0;_=I+8|0;A=I+40|0;O=I+4|0;T=I;E=I+201|0;x=I+200|0;ym(D,r,S,s,u);d[M>>2]=0;d[M+4>>2]=0;d[M+8>>2]=0;if(!(f[M>>0]&1))e=10;else e=(d[M>>2]&-2)+-1|0;k=0;Pe(8,M|0,e|0,0);b=k;k=0;e:do{if(!(b&1)){g=M+8|0;v=M+1|0;r=(f[M>>0]&1)==0?v:d[g>>2]|0;d[_>>2]=r;d[O>>2]=A;d[T>>2]=0;f[E>>0]=1;f[x>>0]=69;b=M+4|0;m=f[s>>0]|0;h=f[u>>0]|0;e=d[t>>2]|0;t:while(1){if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;s=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;c=k;k=0;if(c&1){R=24;break}if((s|0)==-1){d[t>>2]=0;e=0}}}else e=0;u=(e|0)==0;s=d[n>>2]|0;do{if(s){if((d[s+12>>2]|0)!=(d[s+16>>2]|0))if(u)break;else break t;k=0;l=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;c=k;k=0;if(c&1){R=24;break t}if((l|0)!=-1){if(u)break;else break t}else{d[n>>2]=0;R=16;break}}else R=16}while(0);if((R|0)==16){R=0;if(u){s=0;break}else s=0}u=f[M>>0]|0;u=(u&1)==0?(u&255)>>>1:d[b>>2]|0;if((d[_>>2]|0)==(r+u|0)){k=0;Pe(8,M|0,u<<1|0,0);c=k;k=0;if(c&1){R=24;break}if(!(f[M>>0]&1))r=10;else r=(d[M>>2]&-2)+-1|0;k=0;Pe(8,M|0,r|0,0);c=k;k=0;if(c&1){R=24;break}r=(f[M>>0]&1)==0?v:d[g>>2]|0;d[_>>2]=r+u}l=e+12|0;u=d[l>>2]|0;c=e+16|0;if((u|0)==(d[c>>2]|0)){k=0;u=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;P=k;k=0;if(P&1){R=24;break}}else u=p[u>>0]|0;if(bm(u&255,E,x,r,_,m,h,D,A,O,T,S)|0)break;s=d[l>>2]|0;if((s|0)==(d[c>>2]|0)){k=0;xe(d[(d[e>>2]|0)+40>>2]|0,e|0)|0;P=k;k=0;if(P&1){R=24;break}else continue}else{d[l>>2]=s+1;continue}}if((R|0)==24){e=Ze()|0;break}P=f[D>>0]|0;if(!((f[E>>0]|0)==0?1:(((P&1)==0?(P&255)>>>1:d[D+4>>2]|0)|0)==0)?(C=d[O>>2]|0,(C-A|0)<160):0){P=d[T>>2]|0;d[O>>2]=C+4;d[C>>2]=P}k=0;o=+Me(2,r|0,d[_>>2]|0,i|0);P=k;k=0;if(!(P&1)){y[a>>3]=o;rc(D,A,d[O>>2]|0,i);if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;r=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;P=k;k=0;if(P&1){R=25;break}if((r|0)==-1){d[t>>2]=0;e=0}}}else e=0;r=(e|0)==0;do{if(s){if((d[s+12>>2]|0)==(d[s+16>>2]|0)){k=0;e=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;P=k;k=0;if(P&1){R=25;break e}if((e|0)==-1){d[n>>2]=0;R=49;break}}if(!r)R=50}else R=49}while(0);if((R|0)==49?r:0)R=50;if((R|0)==50)d[i>>2]=d[i>>2]|2;P=d[t>>2]|0;Gh(M);Gh(D);w=I;return P|0}else R=25}else R=25}while(0);if((R|0)==25)e=Ze()|0;Gh(M);Gh(D);ut(e|0);return 0}function nv(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0.0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0,P=0;I=w;w=w+240|0;S=I+208|0;s=I+203|0;u=I+202|0;D=I+24|0;M=I+12|0;_=I+8|0;A=I+40|0;O=I+4|0;T=I;E=I+201|0;x=I+200|0;ym(D,r,S,s,u);d[M>>2]=0;d[M+4>>2]=0;d[M+8>>2]=0;if(!(f[M>>0]&1))e=10;else e=(d[M>>2]&-2)+-1|0;k=0;Pe(8,M|0,e|0,0);b=k;k=0;e:do{if(!(b&1)){g=M+8|0;v=M+1|0;r=(f[M>>0]&1)==0?v:d[g>>2]|0;d[_>>2]=r;d[O>>2]=A;d[T>>2]=0;f[E>>0]=1;f[x>>0]=69;b=M+4|0;m=f[s>>0]|0;h=f[u>>0]|0;e=d[t>>2]|0;t:while(1){if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;s=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;c=k;k=0;if(c&1){R=24;break}if((s|0)==-1){d[t>>2]=0;e=0}}}else e=0;u=(e|0)==0;s=d[n>>2]|0;do{if(s){if((d[s+12>>2]|0)!=(d[s+16>>2]|0))if(u)break;else break t;k=0;l=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;c=k;k=0;if(c&1){R=24;break t}if((l|0)!=-1){if(u)break;else break t}else{d[n>>2]=0;R=16;break}}else R=16}while(0);if((R|0)==16){R=0;if(u){s=0;break}else s=0}u=f[M>>0]|0;u=(u&1)==0?(u&255)>>>1:d[b>>2]|0;if((d[_>>2]|0)==(r+u|0)){k=0;Pe(8,M|0,u<<1|0,0);c=k;k=0;if(c&1){R=24;break}if(!(f[M>>0]&1))r=10;else r=(d[M>>2]&-2)+-1|0;k=0;Pe(8,M|0,r|0,0);c=k;k=0;if(c&1){R=24;break}r=(f[M>>0]&1)==0?v:d[g>>2]|0;d[_>>2]=r+u}l=e+12|0;u=d[l>>2]|0;c=e+16|0;if((u|0)==(d[c>>2]|0)){k=0;u=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;P=k;k=0;if(P&1){R=24;break}}else u=p[u>>0]|0;if(bm(u&255,E,x,r,_,m,h,D,A,O,T,S)|0)break;s=d[l>>2]|0;if((s|0)==(d[c>>2]|0)){k=0;xe(d[(d[e>>2]|0)+40>>2]|0,e|0)|0;P=k;k=0;if(P&1){R=24;break}else continue}else{d[l>>2]=s+1;continue}}if((R|0)==24){e=Ze()|0;break}P=f[D>>0]|0;if(!((f[E>>0]|0)==0?1:(((P&1)==0?(P&255)>>>1:d[D+4>>2]|0)|0)==0)?(C=d[O>>2]|0,(C-A|0)<160):0){P=d[T>>2]|0;d[O>>2]=C+4;d[C>>2]=P}k=0;o=+Me(3,r|0,d[_>>2]|0,i|0);P=k;k=0;if(!(P&1)){y[a>>3]=o;rc(D,A,d[O>>2]|0,i);if(e){if((d[e+12>>2]|0)==(d[e+16>>2]|0)){k=0;r=xe(d[(d[e>>2]|0)+36>>2]|0,e|0)|0;P=k;k=0;if(P&1){R=25;break}if((r|0)==-1){d[t>>2]=0;e=0}}}else e=0;r=(e|0)==0;do{if(s){if((d[s+12>>2]|0)==(d[s+16>>2]|0)){k=0;e=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;P=k;k=0;if(P&1){R=25;break e}if((e|0)==-1){d[n>>2]=0;R=49;break}}if(!r)R=50}else R=49}while(0);if((R|0)==49?r:0)R=50;if((R|0)==50)d[i>>2]=d[i>>2]|2;P=d[t>>2]|0;Gh(M);Gh(D);w=I;return P|0}else R=25}else R=25}while(0);if((R|0)==25)e=Ze()|0;Gh(M);Gh(D);ut(e|0);return 0}function rv(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;i=w;w=w+16|0;a=i;d[a>>2]=r;r=ax(t)|0;t=Xx(e,n,a)|0;if((r|0)!=0?(k=0,xe(75,r|0)|0,a=k,k=0,a&1):0){a=Ze(0)|0;Xt(a)}w=i;return t|0}function iv(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;var s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0;_=w;w=w+112|0;u=_;c=(r-n|0)/12|0;do{if(c>>>0>100){u=Uf(c)|0;if((u|0)==0?(k=0,Ne(6),x=k,k=0,x&1):0){s=0;p=6;break}s=u;p=11}else{s=0;p=11}}while(0);e:do{if((p|0)==11){if((n|0)==(r|0))l=0;else{m=n;h=0;p=u;while(1){l=f[m>>0]|0;if(!(l&1))l=(l&255)>>>1;else l=d[m+4>>2]|0;if(!l){f[p>>0]=2;l=h+1|0;c=c+-1|0}else{f[p>>0]=1;l=h}m=m+12|0;if((m|0)==(r|0))break;else{h=l;p=p+1|0}}}S=(n|0)==(r|0);x=(n|0)==(r|0);b=0;g=c;t:while(1){c=d[e>>2]|0;do{if(c){h=d[c+12>>2]|0;if((h|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;y=k;k=0;if(y&1){p=5;break t}}else c=d[h>>2]|0;if((c|0)==-1){d[e>>2]=0;m=1;break}else{m=(d[e>>2]|0)==0;break}}else m=1}while(0);h=d[t>>2]|0;if(h){c=d[h+12>>2]|0;if((c|0)==(d[h+16>>2]|0)){k=0;c=xe(d[(d[h>>2]|0)+36>>2]|0,h|0)|0;y=k;k=0;if(y&1){p=5;break}}else c=d[c>>2]|0;if((c|0)==-1){d[t>>2]=0;h=0;p=1}else p=0}else{h=0;p=1}c=d[e>>2]|0;if(!((g|0)!=0&(m^p))){p=66;break}h=d[c+12>>2]|0;if((h|0)==(d[c+16>>2]|0)){k=0;c=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;y=k;k=0;if(y&1){p=5;break}}else c=d[h>>2]|0;if(!o){k=0;c=Oe(d[(d[i>>2]|0)+28>>2]|0,i|0,c|0)|0;y=k;k=0;if(y&1){p=5;break}}y=b+1|0;if(S){c=0;m=g}else{m=0;v=n;p=g;g=u;while(1){do{if((f[g>>0]|0)==1){if(!(f[v>>0]&1))h=v+4|0;else h=d[v+8>>2]|0;h=d[h+(b<<2)>>2]|0;if(!o){k=0;h=Oe(d[(d[i>>2]|0)+28>>2]|0,i|0,h|0)|0;T=k;k=0;if(T&1){p=4;break t}}if((c|0)!=(h|0)){f[g>>0]=0;h=m;p=p+-1|0;break}h=f[v>>0]|0;if(!(h&1))h=(h&255)>>>1;else h=d[v+4>>2]|0;if((h|0)==(y|0)){f[g>>0]=2;h=1;l=l+1|0;p=p+-1|0}else h=1}else h=m}while(0);v=v+12|0;if((v|0)==(r|0)){c=h;m=p;break}else{m=h;g=g+1|0}}}if(!c){b=y;g=m;continue}c=d[e>>2]|0;h=c+12|0;p=d[h>>2]|0;if((p|0)==(d[c+16>>2]|0)){k=0;xe(d[(d[c>>2]|0)+40>>2]|0,c|0)|0;T=k;k=0;if(T&1){p=5;break}}else d[h>>2]=p+4;if((l+m|0)>>>0<2|x){b=y;g=m;continue}else{c=n;p=u}while(1){if((f[p>>0]|0)==2){h=f[c>>0]|0;if(!(h&1))h=(h&255)>>>1;else h=d[c+4>>2]|0;if((h|0)!=(y|0)){f[p>>0]=0;l=l+-1|0}}c=c+12|0;if((c|0)==(r|0)){b=y;g=m;continue t}else p=p+1|0}}if((p|0)==4){n=Ze()|0;break}else if((p|0)==5){n=Ze()|0;break}else if((p|0)==66){do{if(c){l=d[c+12>>2]|0;if((l|0)==(d[c+16>>2]|0)){k=0;l=xe(d[(d[c>>2]|0)+36>>2]|0,c|0)|0;T=k;k=0;if(T&1){p=6;break e}}else l=d[l>>2]|0;if((l|0)==-1){d[e>>2]=0;c=1;break}else{c=(d[e>>2]|0)==0;break}}else c=1}while(0);do{if(h){l=d[h+12>>2]|0;if((l|0)==(d[h+16>>2]|0)){k=0;l=xe(d[(d[h>>2]|0)+36>>2]|0,h|0)|0;T=k;k=0;if(T&1){p=6;break e}}else l=d[l>>2]|0;if((l|0)!=-1){if(c)break;else{p=81;break}}else{d[t>>2]=0;p=79;break}}else p=79}while(0);if((p|0)==79?c:0)p=81;if((p|0)==81)d[a>>2]=d[a>>2]|2;t:do{if((n|0)==(r|0))p=85;else while(1){if((f[u>>0]|0)==2)break t;n=n+12|0;if((n|0)==(r|0)){p=85;break}else u=u+1|0}}while(0);if((p|0)==85){d[a>>2]=d[a>>2]|4;n=r}if(s)jf(s);w=_;return n|0}}}while(0);if((p|0)==6)n=Ze()|0;if(s)jf(s);ut(n|0);return 0}function av(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0;T=w;w=w+320|0;g=T+208|0;o=T+200|0;C=T+24|0;E=T+12|0;y=T+8|0;x=T+40|0;_=T+4|0;b=T;v=Mg(r)|0;wm(C,r,g,o);d[E>>2]=0;d[E+4>>2]=0;d[E+8>>2]=0;if(!(f[E>>0]&1))e=10;else e=(d[E>>2]&-2)+-1|0;k=0;Pe(8,E|0,e|0,0);m=k;k=0;e:do{if(!(m&1)){h=E+8|0;p=E+1|0;e=(f[E>>0]&1)==0?p:d[h>>2]|0;d[y>>2]=e;d[_>>2]=x;d[b>>2]=0;m=E+4|0;c=d[o>>2]|0;o=d[t>>2]|0;t:while(1){if(o){r=d[o+12>>2]|0;if((r|0)==(d[o+16>>2]|0)){k=0;r=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;l=k;k=0;if(l&1){A=25;break}}else r=d[r>>2]|0;if((r|0)==-1){d[t>>2]=0;r=0;s=1}else{r=o;s=0}}else{r=0;s=1}u=d[n>>2]|0;do{if(u){o=d[u+12>>2]|0;if((o|0)==(d[u+16>>2]|0)){k=0;o=xe(d[(d[u>>2]|0)+36>>2]|0,u|0)|0;l=k;k=0;if(l&1){A=25;break t}}else o=d[o>>2]|0;if((o|0)!=-1){if(s)break;else{o=u;break t}}else{d[n>>2]=0;A=17;break}}else A=17}while(0);if((A|0)==17){A=0;if(s){o=0;break}else u=0}o=f[E>>0]|0;o=(o&1)==0?(o&255)>>>1:d[m>>2]|0;if((d[y>>2]|0)==(e+o|0)){k=0;Pe(8,E|0,o<<1|0,0);l=k;k=0;if(l&1){A=25;break}if(!(f[E>>0]&1))e=10;else e=(d[E>>2]&-2)+-1|0;k=0;Pe(8,E|0,e|0,0);l=k;k=0;if(l&1){A=25;break}e=(f[E>>0]&1)==0?p:d[h>>2]|0;d[y>>2]=e+o}s=r+12|0;o=d[s>>2]|0;l=r+16|0;if((o|0)==(d[l>>2]|0)){k=0;o=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;O=k;k=0;if(O&1){A=25;break}}else o=d[o>>2]|0;if(gm(o,v,e,y,b,c,C,x,_,g)|0){o=u;break}o=d[s>>2]|0;if((o|0)==(d[l>>2]|0)){k=0;xe(d[(d[r>>2]|0)+40>>2]|0,r|0)|0;O=k;k=0;if(O&1){A=25;break}else{o=r;continue}}else{d[s>>2]=o+4;o=r;continue}}if((A|0)==25){e=Ze()|0;break}O=f[C>>0]|0;if((((O&1)==0?(O&255)>>>1:d[C+4>>2]|0)|0)!=0?(S=d[_>>2]|0,(S-x|0)<160):0){O=d[b>>2]|0;d[_>>2]=S+4;d[S>>2]=O}k=0;e=Re(21,e|0,d[y>>2]|0,i|0,v|0)|0;O=k;k=0;if(!(O&1)){d[a>>2]=e;rc(C,x,d[_>>2]|0,i);if(r){e=d[r+12>>2]|0;if((e|0)==(d[r+16>>2]|0)){k=0;e=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;O=k;k=0;if(O&1){A=26;break}}else e=d[e>>2]|0;if((e|0)==-1){d[t>>2]=0;r=1}else r=0}else r=1;do{if(o){e=d[o+12>>2]|0;if((e|0)==(d[o+16>>2]|0)){k=0;e=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;O=k;k=0;if(O&1){A=26;break e}}else e=d[e>>2]|0;if((e|0)!=-1){if(r)break;else{A=53;break}}else{d[n>>2]=0;A=51;break}}else A=51}while(0);if((A|0)==51?r:0)A=53;if((A|0)==53)d[i>>2]=d[i>>2]|2;O=d[t>>2]|0;Gh(E);Gh(C);w=T;return O|0}else A=26}else A=26}while(0);if((A|0)==26)e=Ze()|0;Gh(E);Gh(C);ut(e|0);return 0}function ov(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0;T=w;w=w+320|0;g=T+208|0;o=T+200|0;C=T+24|0;E=T+12|0;y=T+8|0;x=T+40|0;_=T+4|0;b=T;v=Mg(r)|0;wm(C,r,g,o);d[E>>2]=0;d[E+4>>2]=0;d[E+8>>2]=0;if(!(f[E>>0]&1))e=10;else e=(d[E>>2]&-2)+-1|0;k=0;Pe(8,E|0,e|0,0);m=k;k=0;e:do{if(!(m&1)){h=E+8|0;p=E+1|0;e=(f[E>>0]&1)==0?p:d[h>>2]|0;d[y>>2]=e;d[_>>2]=x;d[b>>2]=0;m=E+4|0;c=d[o>>2]|0;o=d[t>>2]|0;t:while(1){if(o){r=d[o+12>>2]|0;if((r|0)==(d[o+16>>2]|0)){k=0;r=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;l=k;k=0;if(l&1){A=25;break}}else r=d[r>>2]|0;if((r|0)==-1){d[t>>2]=0;o=0;u=1}else u=0}else{o=0;u=1}s=d[n>>2]|0;do{if(s){r=d[s+12>>2]|0;if((r|0)==(d[s+16>>2]|0)){k=0;r=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;l=k;k=0;if(l&1){A=25;break t}}else r=d[r>>2]|0;if((r|0)!=-1){if(u)break;else break t}else{d[n>>2]=0;A=17;break}}else A=17}while(0);if((A|0)==17){A=0;if(u){s=0;break}else s=0}r=f[E>>0]|0;r=(r&1)==0?(r&255)>>>1:d[m>>2]|0;if((d[y>>2]|0)==(e+r|0)){k=0;Pe(8,E|0,r<<1|0,0);l=k;k=0;if(l&1){A=25;break}if(!(f[E>>0]&1))e=10;else e=(d[E>>2]&-2)+-1|0;k=0;Pe(8,E|0,e|0,0);l=k;k=0;if(l&1){A=25;break}e=(f[E>>0]&1)==0?p:d[h>>2]|0;d[y>>2]=e+r}u=o+12|0;r=d[u>>2]|0;l=o+16|0;if((r|0)==(d[l>>2]|0)){k=0;r=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;O=k;k=0;if(O&1){A=25;break}}else r=d[r>>2]|0;if(gm(r,v,e,y,b,c,C,x,_,g)|0)break;r=d[u>>2]|0;if((r|0)==(d[l>>2]|0)){k=0;xe(d[(d[o>>2]|0)+40>>2]|0,o|0)|0;O=k;k=0;if(O&1){A=25;break}else continue}else{d[u>>2]=r+4;continue}}if((A|0)==25){e=Ze()|0;break}O=f[C>>0]|0;if((((O&1)==0?(O&255)>>>1:d[C+4>>2]|0)|0)!=0?(S=d[_>>2]|0,(S-x|0)<160):0){O=d[b>>2]|0;d[_>>2]=S+4;d[S>>2]=O}k=0;e=Re(22,e|0,d[y>>2]|0,i|0,v|0)|0;r=j;O=k;k=0;if(!(O&1)){O=a;d[O>>2]=e;d[O+4>>2]=r;rc(C,x,d[_>>2]|0,i);if(o){e=d[o+12>>2]|0;if((e|0)==(d[o+16>>2]|0)){k=0;e=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;O=k;k=0;if(O&1){A=26;break}}else e=d[e>>2]|0;if((e|0)==-1){d[t>>2]=0;r=1}else r=0}else r=1;do{if(s){e=d[s+12>>2]|0;if((e|0)==(d[s+16>>2]|0)){k=0;e=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;O=k;k=0;if(O&1){A=26;break e}}else e=d[e>>2]|0;if((e|0)!=-1){if(r)break;else{A=53;break}}else{d[n>>2]=0;A=51;break}}else A=51}while(0);if((A|0)==51?r:0)A=53;if((A|0)==53)d[i>>2]=d[i>>2]|2;O=d[t>>2]|0;Gh(E);Gh(C);w=T;return O|0}else A=26}else A=26}while(0);if((A|0)==26)e=Ze()|0;Gh(E);Gh(C);ut(e|0);return 0}function sv(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0;E=w;w=w+320|0;v=E+208|0;o=E+200|0;A=E+24|0;C=E+12|0;b=E+8|0;_=E+40|0;T=E+4|0;S=E;y=Mg(r)|0;wm(A,r,v,o);d[C>>2]=0;d[C+4>>2]=0;d[C+8>>2]=0;if(!(f[C>>0]&1))e=10;else e=(d[C>>2]&-2)+-1|0;k=0;Pe(8,C|0,e|0,0);g=k;k=0;e:do{if(!(g&1)){p=C+8|0;m=C+1|0;e=(f[C>>0]&1)==0?m:d[p>>2]|0;d[b>>2]=e;d[T>>2]=_;d[S>>2]=0;g=C+4|0;c=d[o>>2]|0;o=d[t>>2]|0;t:while(1){if(o){r=d[o+12>>2]|0;if((r|0)==(d[o+16>>2]|0)){k=0;r=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;l=k;k=0;if(l&1){O=25;break}}else r=d[r>>2]|0;if((r|0)==-1){d[t>>2]=0;r=0;s=1}else{r=o;s=0}}else{r=0;s=1}u=d[n>>2]|0;do{if(u){o=d[u+12>>2]|0;if((o|0)==(d[u+16>>2]|0)){k=0;o=xe(d[(d[u>>2]|0)+36>>2]|0,u|0)|0;l=k;k=0;if(l&1){O=25;break t}}else o=d[o>>2]|0;if((o|0)!=-1){if(s)break;else{o=u;break t}}else{d[n>>2]=0;O=17;break}}else O=17}while(0);if((O|0)==17){O=0;if(s){o=0;break}else u=0}o=f[C>>0]|0;o=(o&1)==0?(o&255)>>>1:d[g>>2]|0;if((d[b>>2]|0)==(e+o|0)){k=0;Pe(8,C|0,o<<1|0,0);l=k;k=0;if(l&1){O=25;break}if(!(f[C>>0]&1))e=10;else e=(d[C>>2]&-2)+-1|0;k=0;Pe(8,C|0,e|0,0);l=k;k=0;if(l&1){O=25;break}e=(f[C>>0]&1)==0?m:d[p>>2]|0;d[b>>2]=e+o}s=r+12|0;o=d[s>>2]|0;l=r+16|0;if((o|0)==(d[l>>2]|0)){k=0;o=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;I=k;k=0;if(I&1){O=25;break}}else o=d[o>>2]|0;if(gm(o,y,e,b,S,c,A,_,T,v)|0){o=u;break}o=d[s>>2]|0;if((o|0)==(d[l>>2]|0)){k=0;xe(d[(d[r>>2]|0)+40>>2]|0,r|0)|0;I=k;k=0;if(I&1){O=25;break}else{o=r;continue}}else{d[s>>2]=o+4;o=r;continue}}if((O|0)==25){e=Ze()|0;break}I=f[A>>0]|0;if((((I&1)==0?(I&255)>>>1:d[A+4>>2]|0)|0)!=0?(x=d[T>>2]|0,(x-_|0)<160):0){I=d[S>>2]|0;d[T>>2]=x+4;d[x>>2]=I}k=0;e=Re(23,e|0,d[b>>2]|0,i|0,y|0)|0;I=k;k=0;if(!(I&1)){h[a>>1]=e;rc(A,_,d[T>>2]|0,i);if(r){e=d[r+12>>2]|0;if((e|0)==(d[r+16>>2]|0)){k=0;e=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;I=k;k=0;if(I&1){O=26;break}}else e=d[e>>2]|0;if((e|0)==-1){d[t>>2]=0;r=1}else r=0}else r=1;do{if(o){e=d[o+12>>2]|0;if((e|0)==(d[o+16>>2]|0)){k=0;e=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;I=k;k=0;if(I&1){O=26;break e}}else e=d[e>>2]|0;if((e|0)!=-1){if(r)break;else{O=53;break}}else{d[n>>2]=0;O=51;break}}else O=51}while(0);if((O|0)==51?r:0)O=53;if((O|0)==53)d[i>>2]=d[i>>2]|2;I=d[t>>2]|0;Gh(C);Gh(A);w=E;return I|0}else O=26}else O=26}while(0);if((O|0)==26)e=Ze()|0;Gh(C);Gh(A);ut(e|0);return 0}function uv(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0;T=w;w=w+320|0;g=T+208|0;o=T+200|0;C=T+24|0;E=T+12|0;y=T+8|0;x=T+40|0;_=T+4|0;b=T;v=Mg(r)|0;wm(C,r,g,o);d[E>>2]=0;d[E+4>>2]=0;d[E+8>>2]=0;if(!(f[E>>0]&1))e=10;else e=(d[E>>2]&-2)+-1|0;k=0;Pe(8,E|0,e|0,0);m=k;k=0;e:do{if(!(m&1)){h=E+8|0;p=E+1|0;e=(f[E>>0]&1)==0?p:d[h>>2]|0;d[y>>2]=e;d[_>>2]=x;d[b>>2]=0;m=E+4|0;c=d[o>>2]|0;o=d[t>>2]|0;t:while(1){if(o){r=d[o+12>>2]|0;if((r|0)==(d[o+16>>2]|0)){k=0;r=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;l=k;k=0;if(l&1){A=25;break}}else r=d[r>>2]|0;if((r|0)==-1){d[t>>2]=0;r=0;s=1}else{r=o;s=0}}else{r=0;s=1}u=d[n>>2]|0;do{if(u){o=d[u+12>>2]|0;if((o|0)==(d[u+16>>2]|0)){k=0;o=xe(d[(d[u>>2]|0)+36>>2]|0,u|0)|0;l=k;k=0;if(l&1){A=25;break t}}else o=d[o>>2]|0;if((o|0)!=-1){if(s)break;else{o=u;break t}}else{d[n>>2]=0;A=17;break}}else A=17}while(0);if((A|0)==17){A=0;if(s){o=0;break}else u=0}o=f[E>>0]|0;o=(o&1)==0?(o&255)>>>1:d[m>>2]|0;if((d[y>>2]|0)==(e+o|0)){k=0;Pe(8,E|0,o<<1|0,0);l=k;k=0;if(l&1){A=25;break}if(!(f[E>>0]&1))e=10;else e=(d[E>>2]&-2)+-1|0;k=0;Pe(8,E|0,e|0,0);l=k;k=0;if(l&1){A=25;break}e=(f[E>>0]&1)==0?p:d[h>>2]|0;d[y>>2]=e+o}s=r+12|0;o=d[s>>2]|0;l=r+16|0;if((o|0)==(d[l>>2]|0)){k=0;o=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;O=k;k=0;if(O&1){A=25;break}}else o=d[o>>2]|0;if(gm(o,v,e,y,b,c,C,x,_,g)|0){o=u;break}o=d[s>>2]|0;if((o|0)==(d[l>>2]|0)){k=0;xe(d[(d[r>>2]|0)+40>>2]|0,r|0)|0;O=k;k=0;if(O&1){A=25;break}else{o=r;continue}}else{d[s>>2]=o+4;o=r;continue}}if((A|0)==25){e=Ze()|0;break}O=f[C>>0]|0;if((((O&1)==0?(O&255)>>>1:d[C+4>>2]|0)|0)!=0?(S=d[_>>2]|0,(S-x|0)<160):0){O=d[b>>2]|0;d[_>>2]=S+4;d[S>>2]=O}k=0;e=Re(24,e|0,d[y>>2]|0,i|0,v|0)|0;O=k;k=0;if(!(O&1)){d[a>>2]=e;rc(C,x,d[_>>2]|0,i);if(r){e=d[r+12>>2]|0;if((e|0)==(d[r+16>>2]|0)){k=0;e=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;O=k;k=0;if(O&1){A=26;break}}else e=d[e>>2]|0;if((e|0)==-1){d[t>>2]=0;r=1}else r=0}else r=1;do{if(o){e=d[o+12>>2]|0;if((e|0)==(d[o+16>>2]|0)){k=0;e=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;O=k;k=0;if(O&1){A=26;break e}}else e=d[e>>2]|0;if((e|0)!=-1){if(r)break;else{A=53;break}}else{d[n>>2]=0;A=51;break}}else A=51}while(0);if((A|0)==51?r:0)A=53;if((A|0)==53)d[i>>2]=d[i>>2]|2;O=d[t>>2]|0;Gh(E);Gh(C);w=T;return O|0}else A=26}else A=26}while(0);if((A|0)==26)e=Ze()|0;Gh(E);Gh(C);ut(e|0);return 0}function lv(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0;T=w;w=w+320|0;g=T+208|0;o=T+200|0;C=T+24|0;E=T+12|0;y=T+8|0;x=T+40|0;_=T+4|0;b=T;v=Mg(r)|0;wm(C,r,g,o);d[E>>2]=0;d[E+4>>2]=0;d[E+8>>2]=0;if(!(f[E>>0]&1))e=10;else e=(d[E>>2]&-2)+-1|0;k=0;Pe(8,E|0,e|0,0);m=k;k=0;e:do{if(!(m&1)){h=E+8|0;p=E+1|0;e=(f[E>>0]&1)==0?p:d[h>>2]|0;d[y>>2]=e;d[_>>2]=x;d[b>>2]=0;m=E+4|0;c=d[o>>2]|0;o=d[t>>2]|0;t:while(1){if(o){r=d[o+12>>2]|0;if((r|0)==(d[o+16>>2]|0)){k=0;r=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;l=k;k=0;if(l&1){A=25;break}}else r=d[r>>2]|0;if((r|0)==-1){d[t>>2]=0;r=0;s=1}else{r=o;s=0}}else{r=0;s=1}u=d[n>>2]|0;do{if(u){o=d[u+12>>2]|0;if((o|0)==(d[u+16>>2]|0)){k=0;o=xe(d[(d[u>>2]|0)+36>>2]|0,u|0)|0;l=k;k=0;if(l&1){A=25;break t}}else o=d[o>>2]|0;if((o|0)!=-1){if(s)break;else{o=u;break t}}else{d[n>>2]=0;A=17;break}}else A=17}while(0);if((A|0)==17){A=0;if(s){o=0;break}else u=0}o=f[E>>0]|0;o=(o&1)==0?(o&255)>>>1:d[m>>2]|0;if((d[y>>2]|0)==(e+o|0)){k=0;Pe(8,E|0,o<<1|0,0);l=k;k=0;if(l&1){A=25;break}if(!(f[E>>0]&1))e=10;else e=(d[E>>2]&-2)+-1|0;k=0;Pe(8,E|0,e|0,0);l=k;k=0;if(l&1){A=25;break}e=(f[E>>0]&1)==0?p:d[h>>2]|0;d[y>>2]=e+o}s=r+12|0;o=d[s>>2]|0;l=r+16|0;if((o|0)==(d[l>>2]|0)){k=0;o=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;O=k;k=0;if(O&1){A=25;break}}else o=d[o>>2]|0;if(gm(o,v,e,y,b,c,C,x,_,g)|0){o=u;break}o=d[s>>2]|0;if((o|0)==(d[l>>2]|0)){k=0;xe(d[(d[r>>2]|0)+40>>2]|0,r|0)|0;O=k;k=0;if(O&1){A=25;break}else{o=r;continue}}else{d[s>>2]=o+4;o=r;continue}}if((A|0)==25){e=Ze()|0;break}O=f[C>>0]|0;if((((O&1)==0?(O&255)>>>1:d[C+4>>2]|0)|0)!=0?(S=d[_>>2]|0,(S-x|0)<160):0){O=d[b>>2]|0;d[_>>2]=S+4;d[S>>2]=O}k=0;e=Re(25,e|0,d[y>>2]|0,i|0,v|0)|0;O=k;k=0;if(!(O&1)){d[a>>2]=e;rc(C,x,d[_>>2]|0,i);if(r){e=d[r+12>>2]|0;if((e|0)==(d[r+16>>2]|0)){k=0;e=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;O=k;k=0;if(O&1){A=26;break}}else e=d[e>>2]|0;if((e|0)==-1){d[t>>2]=0;r=1}else r=0}else r=1;do{if(o){e=d[o+12>>2]|0;if((e|0)==(d[o+16>>2]|0)){k=0;e=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;O=k;k=0;if(O&1){A=26;break e}}else e=d[e>>2]|0;if((e|0)!=-1){if(r)break;else{A=53;break}}else{d[n>>2]=0;A=51;break}}else A=51}while(0);if((A|0)==51?r:0)A=53;if((A|0)==53)d[i>>2]=d[i>>2]|2;O=d[t>>2]|0;Gh(E);Gh(C);w=T;return O|0}else A=26}else A=26}while(0);if((A|0)==26)e=Ze()|0;Gh(E);Gh(C);ut(e|0);return 0}function cv(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0;T=w;w=w+320|0;g=T+208|0;o=T+200|0;C=T+24|0;E=T+12|0;y=T+8|0;x=T+40|0;_=T+4|0;b=T;v=Mg(r)|0;wm(C,r,g,o);d[E>>2]=0;d[E+4>>2]=0;d[E+8>>2]=0;if(!(f[E>>0]&1))e=10;else e=(d[E>>2]&-2)+-1|0;k=0;Pe(8,E|0,e|0,0);m=k;k=0;e:do{if(!(m&1)){h=E+8|0;p=E+1|0;e=(f[E>>0]&1)==0?p:d[h>>2]|0;d[y>>2]=e;d[_>>2]=x;d[b>>2]=0;m=E+4|0;c=d[o>>2]|0;o=d[t>>2]|0;t:while(1){if(o){r=d[o+12>>2]|0;if((r|0)==(d[o+16>>2]|0)){k=0;r=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;l=k;k=0;if(l&1){A=25;break}}else r=d[r>>2]|0;if((r|0)==-1){d[t>>2]=0;o=0;u=1}else u=0}else{o=0;u=1}s=d[n>>2]|0;do{if(s){r=d[s+12>>2]|0;if((r|0)==(d[s+16>>2]|0)){k=0;r=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;l=k;k=0;if(l&1){A=25;break t}}else r=d[r>>2]|0;if((r|0)!=-1){if(u)break;else break t}else{d[n>>2]=0;A=17;break}}else A=17}while(0);if((A|0)==17){A=0;if(u){s=0;break}else s=0}r=f[E>>0]|0;r=(r&1)==0?(r&255)>>>1:d[m>>2]|0;if((d[y>>2]|0)==(e+r|0)){k=0;Pe(8,E|0,r<<1|0,0);l=k;k=0;if(l&1){A=25;break}if(!(f[E>>0]&1))e=10;else e=(d[E>>2]&-2)+-1|0;k=0;Pe(8,E|0,e|0,0);l=k;k=0;if(l&1){A=25;break}e=(f[E>>0]&1)==0?p:d[h>>2]|0;d[y>>2]=e+r}u=o+12|0;r=d[u>>2]|0;l=o+16|0;if((r|0)==(d[l>>2]|0)){k=0;r=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;O=k;k=0;if(O&1){A=25;break}}else r=d[r>>2]|0;if(gm(r,v,e,y,b,c,C,x,_,g)|0)break;r=d[u>>2]|0;if((r|0)==(d[l>>2]|0)){k=0;xe(d[(d[o>>2]|0)+40>>2]|0,o|0)|0;O=k;k=0;if(O&1){A=25;break}else continue}else{d[u>>2]=r+4;continue}}if((A|0)==25){e=Ze()|0;break}O=f[C>>0]|0;if((((O&1)==0?(O&255)>>>1:d[C+4>>2]|0)|0)!=0?(S=d[_>>2]|0,(S-x|0)<160):0){O=d[b>>2]|0;d[_>>2]=S+4;d[S>>2]=O}k=0;e=Re(26,e|0,d[y>>2]|0,i|0,v|0)|0;r=j;O=k;k=0;if(!(O&1)){O=a;d[O>>2]=e;d[O+4>>2]=r;rc(C,x,d[_>>2]|0,i);if(o){e=d[o+12>>2]|0;if((e|0)==(d[o+16>>2]|0)){k=0;e=xe(d[(d[o>>2]|0)+36>>2]|0,o|0)|0;O=k;k=0;if(O&1){A=26;break}}else e=d[e>>2]|0;if((e|0)==-1){d[t>>2]=0;r=1}else r=0}else r=1;do{if(s){e=d[s+12>>2]|0;if((e|0)==(d[s+16>>2]|0)){k=0;e=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;O=k;k=0;if(O&1){A=26;break e}}else e=d[e>>2]|0;if((e|0)!=-1){if(r)break;else{A=53;break}}else{d[n>>2]=0;A=51;break}}else A=51}while(0);if((A|0)==51?r:0)A=53;if((A|0)==53)d[i>>2]=d[i>>2]|2;O=d[t>>2]|0;Gh(E);Gh(C);w=T;return O|0}else A=26}else A=26}while(0);if((A|0)==26)e=Ze()|0;Gh(E);Gh(C);ut(e|0);return 0}function fv(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0.0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0;O=w;w=w+352|0;b=O+208|0;s=O+40|0;u=O+36|0;M=O+24|0;I=O+12|0;x=O+8|0;C=O+48|0;A=O+4|0;_=O;T=O+337|0;S=O+336|0;Sm(M,r,b,s,u);d[I>>2]=0;d[I+4>>2]=0;d[I+8>>2]=0;if(!(f[I>>0]&1))e=10;else e=(d[I>>2]&-2)+-1|0;k=0;Pe(8,I|0,e|0,0);y=k;k=0;e:do{if(!(y&1)){m=I+8|0;g=I+1|0;e=(f[I>>0]&1)==0?g:d[m>>2]|0;d[x>>2]=e;d[A>>2]=C;d[_>>2]=0;f[T>>0]=1;f[S>>0]=69;y=I+4|0;p=d[s>>2]|0;h=d[u>>2]|0;r=d[t>>2]|0;t:while(1){if(r){s=d[r+12>>2]|0;if((s|0)==(d[r+16>>2]|0)){k=0;s=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;c=k;k=0;if(c&1){D=25;break}}else s=d[s>>2]|0;if((s|0)==-1){d[t>>2]=0;r=0;l=1}else l=0}else{r=0;l=1}s=d[n>>2]|0;do{if(s){u=d[s+12>>2]|0;if((u|0)==(d[s+16>>2]|0)){k=0;u=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;c=k;k=0;if(c&1){D=25;break t}}else u=d[u>>2]|0;if((u|0)!=-1){if(l)break;else break t}else{d[n>>2]=0;D=17;break}}else D=17}while(0);if((D|0)==17){D=0;if(l){s=0;break}else s=0}u=f[I>>0]|0;u=(u&1)==0?(u&255)>>>1:d[y>>2]|0;if((d[x>>2]|0)==(e+u|0)){k=0;Pe(8,I|0,u<<1|0,0);c=k;k=0;if(c&1){D=25;break}if(!(f[I>>0]&1))e=10;else e=(d[I>>2]&-2)+-1|0;k=0;Pe(8,I|0,e|0,0);c=k;k=0;if(c&1){D=25;break}e=(f[I>>0]&1)==0?g:d[m>>2]|0;d[x>>2]=e+u}l=r+12|0;u=d[l>>2]|0;c=r+16|0;if((u|0)==(d[c>>2]|0)){k=0;u=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;R=k;k=0;if(R&1){D=25;break}}else u=d[u>>2]|0;if(xm(u,T,S,e,x,p,h,M,C,A,_,b)|0)break;s=d[l>>2]|0;if((s|0)==(d[c>>2]|0)){k=0;xe(d[(d[r>>2]|0)+40>>2]|0,r|0)|0;R=k;k=0;if(R&1){D=25;break}else continue}else{d[l>>2]=s+4;continue}}if((D|0)==25){e=Ze()|0;break}R=f[M>>0]|0;if(!((f[T>>0]|0)==0?1:(((R&1)==0?(R&255)>>>1:d[M+4>>2]|0)|0)==0)?(E=d[A>>2]|0,(E-C|0)<160):0){R=d[_>>2]|0;d[A>>2]=E+4;d[E>>2]=R}k=0;o=+Me(1,e|0,d[x>>2]|0,i|0);R=k;k=0;if(!(R&1)){v[a>>2]=o;rc(M,C,d[A>>2]|0,i);if(r){e=d[r+12>>2]|0;if((e|0)==(d[r+16>>2]|0)){k=0;e=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;R=k;k=0;if(R&1){D=26;break}}else e=d[e>>2]|0;if((e|0)==-1){d[t>>2]=0;r=1}else r=0}else r=1;do{if(s){e=d[s+12>>2]|0;if((e|0)==(d[s+16>>2]|0)){k=0;e=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;R=k;k=0;if(R&1){D=26;break e}}else e=d[e>>2]|0;if((e|0)!=-1){if(r)break;else{D=53;break}}else{d[n>>2]=0;D=51;break}}else D=51}while(0);if((D|0)==51?r:0)D=53;if((D|0)==53)d[i>>2]=d[i>>2]|2;R=d[t>>2]|0;Gh(I);Gh(M);w=O;return R|0}else D=26}else D=26}while(0);if((D|0)==26)e=Ze()|0;Gh(I);Gh(M);ut(e|0);return 0}function hv(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0.0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0;O=w;w=w+352|0;b=O+208|0;s=O+40|0;u=O+36|0;M=O+24|0;I=O+12|0;x=O+8|0;C=O+48|0;A=O+4|0;_=O;T=O+337|0;S=O+336|0;Sm(M,r,b,s,u);d[I>>2]=0;d[I+4>>2]=0;d[I+8>>2]=0;if(!(f[I>>0]&1))e=10;else e=(d[I>>2]&-2)+-1|0;k=0;Pe(8,I|0,e|0,0);v=k;k=0;e:do{if(!(v&1)){m=I+8|0;g=I+1|0;e=(f[I>>0]&1)==0?g:d[m>>2]|0;d[x>>2]=e;d[A>>2]=C;d[_>>2]=0;f[T>>0]=1;f[S>>0]=69;v=I+4|0;p=d[s>>2]|0;h=d[u>>2]|0;r=d[t>>2]|0;t:while(1){if(r){s=d[r+12>>2]|0;if((s|0)==(d[r+16>>2]|0)){k=0;s=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;c=k;k=0;if(c&1){D=25;break}}else s=d[s>>2]|0;if((s|0)==-1){d[t>>2]=0;r=0;l=1}else l=0}else{r=0;l=1}s=d[n>>2]|0;do{if(s){u=d[s+12>>2]|0;if((u|0)==(d[s+16>>2]|0)){k=0;u=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;c=k;k=0;if(c&1){D=25;break t}}else u=d[u>>2]|0;if((u|0)!=-1){if(l)break;else break t}else{d[n>>2]=0;D=17;break}}else D=17}while(0);if((D|0)==17){D=0;if(l){s=0;break}else s=0}u=f[I>>0]|0;u=(u&1)==0?(u&255)>>>1:d[v>>2]|0;if((d[x>>2]|0)==(e+u|0)){k=0;Pe(8,I|0,u<<1|0,0);c=k;k=0;if(c&1){D=25;break}if(!(f[I>>0]&1))e=10;else e=(d[I>>2]&-2)+-1|0;k=0;Pe(8,I|0,e|0,0);c=k;k=0;if(c&1){D=25;break}e=(f[I>>0]&1)==0?g:d[m>>2]|0;d[x>>2]=e+u}l=r+12|0;u=d[l>>2]|0;c=r+16|0;if((u|0)==(d[c>>2]|0)){k=0;u=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;R=k;k=0;if(R&1){D=25;break}}else u=d[u>>2]|0;if(xm(u,T,S,e,x,p,h,M,C,A,_,b)|0)break;s=d[l>>2]|0;if((s|0)==(d[c>>2]|0)){k=0;xe(d[(d[r>>2]|0)+40>>2]|0,r|0)|0;R=k;k=0;if(R&1){D=25;break}else continue}else{d[l>>2]=s+4;continue}}if((D|0)==25){e=Ze()|0;break}R=f[M>>0]|0;if(!((f[T>>0]|0)==0?1:(((R&1)==0?(R&255)>>>1:d[M+4>>2]|0)|0)==0)?(E=d[A>>2]|0,(E-C|0)<160):0){R=d[_>>2]|0;d[A>>2]=E+4;d[E>>2]=R}k=0;o=+Me(2,e|0,d[x>>2]|0,i|0);R=k;k=0;if(!(R&1)){y[a>>3]=o;rc(M,C,d[A>>2]|0,i);if(r){e=d[r+12>>2]|0;if((e|0)==(d[r+16>>2]|0)){k=0;e=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;R=k;k=0;if(R&1){D=26;break}}else e=d[e>>2]|0;if((e|0)==-1){d[t>>2]=0;r=1}else r=0}else r=1;do{if(s){e=d[s+12>>2]|0;if((e|0)==(d[s+16>>2]|0)){k=0;e=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;R=k;k=0;if(R&1){D=26;break e}}else e=d[e>>2]|0;if((e|0)!=-1){if(r)break;else{D=53;break}}else{d[n>>2]=0;D=51;break}}else D=51}while(0);if((D|0)==51?r:0)D=53;if((D|0)==53)d[i>>2]=d[i>>2]|2;R=d[t>>2]|0;Gh(I);Gh(M);w=O;return R|0}else D=26}else D=26}while(0);if((D|0)==26)e=Ze()|0;Gh(I);Gh(M);ut(e|0);return 0}function dv(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0.0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0;O=w;w=w+352|0;b=O+208|0;s=O+40|0;u=O+36|0;M=O+24|0;I=O+12|0;x=O+8|0;C=O+48|0;A=O+4|0;_=O;T=O+337|0;S=O+336|0;Sm(M,r,b,s,u);d[I>>2]=0;d[I+4>>2]=0;d[I+8>>2]=0;if(!(f[I>>0]&1))e=10;else e=(d[I>>2]&-2)+-1|0;k=0;Pe(8,I|0,e|0,0);v=k;k=0;e:do{if(!(v&1)){m=I+8|0;g=I+1|0;e=(f[I>>0]&1)==0?g:d[m>>2]|0;d[x>>2]=e;d[A>>2]=C;d[_>>2]=0;f[T>>0]=1;f[S>>0]=69;v=I+4|0;p=d[s>>2]|0;h=d[u>>2]|0;r=d[t>>2]|0;t:while(1){if(r){s=d[r+12>>2]|0;if((s|0)==(d[r+16>>2]|0)){k=0;s=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;c=k;k=0;if(c&1){D=25;break}}else s=d[s>>2]|0;if((s|0)==-1){d[t>>2]=0;r=0;l=1}else l=0}else{r=0;l=1}s=d[n>>2]|0;do{if(s){u=d[s+12>>2]|0;if((u|0)==(d[s+16>>2]|0)){k=0;u=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;c=k;k=0;if(c&1){D=25;break t}}else u=d[u>>2]|0;if((u|0)!=-1){if(l)break;else break t}else{d[n>>2]=0;D=17;break}}else D=17}while(0);if((D|0)==17){D=0;if(l){s=0;break}else s=0}u=f[I>>0]|0;u=(u&1)==0?(u&255)>>>1:d[v>>2]|0;if((d[x>>2]|0)==(e+u|0)){k=0;Pe(8,I|0,u<<1|0,0);c=k;k=0;if(c&1){D=25;break}if(!(f[I>>0]&1))e=10;else e=(d[I>>2]&-2)+-1|0;k=0;Pe(8,I|0,e|0,0);c=k;k=0;if(c&1){D=25;break}e=(f[I>>0]&1)==0?g:d[m>>2]|0;d[x>>2]=e+u}l=r+12|0;u=d[l>>2]|0;c=r+16|0;if((u|0)==(d[c>>2]|0)){k=0;u=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;R=k;k=0;if(R&1){D=25;break}}else u=d[u>>2]|0;if(xm(u,T,S,e,x,p,h,M,C,A,_,b)|0)break;s=d[l>>2]|0;if((s|0)==(d[c>>2]|0)){k=0;xe(d[(d[r>>2]|0)+40>>2]|0,r|0)|0;R=k;k=0;if(R&1){D=25;break}else continue}else{d[l>>2]=s+4;continue}}if((D|0)==25){e=Ze()|0;break}R=f[M>>0]|0;if(!((f[T>>0]|0)==0?1:(((R&1)==0?(R&255)>>>1:d[M+4>>2]|0)|0)==0)?(E=d[A>>2]|0,(E-C|0)<160):0){R=d[_>>2]|0;d[A>>2]=E+4;d[E>>2]=R}k=0;o=+Me(3,e|0,d[x>>2]|0,i|0);R=k;k=0;if(!(R&1)){y[a>>3]=o;rc(M,C,d[A>>2]|0,i);if(r){e=d[r+12>>2]|0;if((e|0)==(d[r+16>>2]|0)){k=0;e=xe(d[(d[r>>2]|0)+36>>2]|0,r|0)|0;R=k;k=0;if(R&1){D=26;break}}else e=d[e>>2]|0;if((e|0)==-1){d[t>>2]=0;r=1}else r=0}else r=1;do{if(s){e=d[s+12>>2]|0;if((e|0)==(d[s+16>>2]|0)){k=0;e=xe(d[(d[s>>2]|0)+36>>2]|0,s|0)|0;R=k;k=0;if(R&1){D=26;break e}}else e=d[e>>2]|0;if((e|0)!=-1){if(r)break;else{D=53;break}}else{d[n>>2]=0;D=51;break}}else D=51}while(0);if((D|0)==51?r:0)D=53;if((D|0)==53)d[i>>2]=d[i>>2]|2;R=d[t>>2]|0;Gh(I);Gh(M);w=O;return R|0}else D=26}else D=26}while(0);if((D|0)==26)e=Ze()|0;Gh(I);Gh(M);ut(e|0);return 0}function pv(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0;a=w;w=w+16|0;o=a;d[o>>2]=i;i=ax(n)|0;n=Qx(e,t,r,o)|0;if((i|0)!=0?(k=0,xe(75,i|0)|0,o=k,k=0,o&1):0){o=Ze(0)|0;Xt(o)}w=a;return n|0}function mv(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;i=w;w=w+16|0;a=i;d[a>>2]=r;r=ax(t)|0;k=0;t=Te(37,e|0,n|0,a|0)|0;e=k;k=0;if(e&1){t=Ze()|0;if((r|0)!=0?(k=0,xe(75,r|0)|0,a=k,k=0,a&1):0){a=Ze(0)|0;Xt(a)}ut(t|0)}else{if((r|0)!=0?(k=0,xe(75,r|0)|0,a=k,k=0,a&1):0){a=Ze(0)|0;Xt(a)}w=i;return t|0}return 0}function gv(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,p=0;h=w;w=w+16|0;c=h;o=d[e>>2]|0;e:do{if(!o)o=0;else{p=t;u=r-p>>2;l=i+12|0;s=d[l>>2]|0;u=(s|0)>(u|0)?s-u|0:0;s=n;p=s-p|0;i=p>>2;if((p|0)>0?(w_[d[(d[o>>2]|0)+48>>2]&63](o,t,i)|0)!=(i|0):0){d[e>>2]=0;o=0;break}do{if((u|0)>0){nd(c,u,a);k=0;i=Te(d[(d[o>>2]|0)+48>>2]|0,o|0,((f[c>>0]&1)==0?c+4|0:d[c+8>>2]|0)|0,u|0)|0;p=k;k=0;if(p&1){p=Ze()|0;rd(c);ut(p|0)}if((i|0)==(u|0)){rd(c);break}else{d[e>>2]=0;rd(c);o=0;break e}}}while(0);p=r-s|0;r=p>>2;if((p|0)>0?(w_[d[(d[o>>2]|0)+48>>2]&63](o,n,r)|0)!=(r|0):0){d[e>>2]=0;o=0;break}d[l>>2]=0}}while(0);w=h;return o|0}function vv(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,m=0,g=0,v=0;a=d[e>>2]|0;do{if(a){if((d[a+12>>2]|0)==(d[a+16>>2]|0))if((y_[d[(d[a>>2]|0)+36>>2]&127](a)|0)==-1){d[e>>2]=0;a=0;break}else{a=d[e>>2]|0;break}}else a=0}while(0);o=(a|0)==0;a=d[t>>2]|0;do{if(a){if((d[a+12>>2]|0)==(d[a+16>>2]|0)?(y_[d[(d[a>>2]|0)+36>>2]&127](a)|0)==-1:0){d[t>>2]=0;v=11;break}if(o)v=13;else v=12}else v=11}while(0);if((v|0)==11)if(o)v=12;else{a=0;v=13}e:do{if((v|0)==12){d[n>>2]=d[n>>2]|6;a=0}else if((v|0)==13){o=d[e>>2]|0;s=d[o+12>>2]|0;if((s|0)==(d[o+16>>2]|0))o=y_[d[(d[o>>2]|0)+36>>2]&127](o)|0;else o=p[s>>0]|0;s=o&255;if(s<<24>>24>-1?(g=r+8|0,(h[(d[g>>2]|0)+(o<<24>>24<<1)>>1]&2048)!=0):0){l=(w_[d[(d[r>>2]|0)+36>>2]&63](r,s,0)|0)<<24>>24;o=d[e>>2]|0;s=o+12|0;u=d[s>>2]|0;if((u|0)==(d[o+16>>2]|0)){y_[d[(d[o>>2]|0)+40>>2]&127](o)|0;f=i;c=a;i=a;a=l}else{d[s>>2]=u+1;f=i;c=a;i=a;a=l}while(1){a=a+-48|0;m=f+-1|0;o=d[e>>2]|0;do{if(o){if((d[o+12>>2]|0)==(d[o+16>>2]|0))if((y_[d[(d[o>>2]|0)+36>>2]&127](o)|0)==-1){d[e>>2]=0;o=0;break}else{o=d[e>>2]|0;break}}else o=0}while(0);u=(o|0)==0;if(i){if((d[i+12>>2]|0)==(d[i+16>>2]|0)){if((y_[d[(d[i>>2]|0)+36>>2]&127](i)|0)==-1){d[t>>2]=0;s=0;i=0}else{s=c;i=c}}else s=c}else{s=c;i=0}o=d[e>>2]|0;if(!((f|0)>1&(u^(i|0)==0)))break;u=d[o+12>>2]|0;if((u|0)==(d[o+16>>2]|0))o=y_[d[(d[o>>2]|0)+36>>2]&127](o)|0;else o=p[u>>0]|0;u=o&255;if(u<<24>>24<=-1)break e;if(!(h[(d[g>>2]|0)+(o<<24>>24<<1)>>1]&2048))break e;a=((w_[d[(d[r>>2]|0)+36>>2]&63](r,u,0)|0)<<24>>24)+(a*10|0)|0;o=d[e>>2]|0;u=o+12|0;l=d[u>>2]|0;if((l|0)==(d[o+16>>2]|0)){y_[d[(d[o>>2]|0)+40>>2]&127](o)|0;f=m;c=s;continue}else{d[u>>2]=l+1;f=m;c=s;continue}}do{if(o){if((d[o+12>>2]|0)==(d[o+16>>2]|0))if((y_[d[(d[o>>2]|0)+36>>2]&127](o)|0)==-1){d[e>>2]=0;o=0;break}else{o=d[e>>2]|0;break}}else o=0}while(0);o=(o|0)==0;do{if(s){if((d[s+12>>2]|0)==(d[s+16>>2]|0)?(y_[d[(d[s>>2]|0)+36>>2]&127](s)|0)==-1:0){d[t>>2]=0;v=50;break}if(o)break e}else v=50}while(0);if((v|0)==50?!o:0)break;d[n>>2]=d[n>>2]|2;break}d[n>>2]=d[n>>2]|4;a=0}}while(0);return a|0}function yv(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0;a=d[e>>2]|0;do{if(a){o=d[a+12>>2]|0;if((o|0)==(d[a+16>>2]|0))a=y_[d[(d[a>>2]|0)+36>>2]&127](a)|0;else a=d[o>>2]|0;if((a|0)==-1){d[e>>2]=0;s=1;break}else{s=(d[e>>2]|0)==0;break}}else s=1}while(0);o=d[t>>2]|0;do{if(o){a=d[o+12>>2]|0;if((a|0)==(d[o+16>>2]|0))a=y_[d[(d[o>>2]|0)+36>>2]&127](o)|0;else a=d[a>>2]|0;if((a|0)!=-1){if(s){p=17;break}else{p=16;break}}else{d[t>>2]=0;p=14;break}}else p=14}while(0);if((p|0)==14)if(s)p=16;else{o=0;p=17}e:do{if((p|0)==16){d[n>>2]=d[n>>2]|6;a=0}else if((p|0)==17){a=d[e>>2]|0;s=d[a+12>>2]|0;if((s|0)==(d[a+16>>2]|0))a=y_[d[(d[a>>2]|0)+36>>2]&127](a)|0;else a=d[s>>2]|0;if(!(w_[d[(d[r>>2]|0)+12>>2]&63](r,2048,a)|0)){d[n>>2]=d[n>>2]|4;a=0;break}a=(w_[d[(d[r>>2]|0)+52>>2]&63](r,a,0)|0)<<24>>24;s=d[e>>2]|0;u=s+12|0;l=d[u>>2]|0;if((l|0)==(d[s+16>>2]|0)){y_[d[(d[s>>2]|0)+40>>2]&127](s)|0;f=i;c=o;u=o}else{d[u>>2]=l+4;f=i;c=o;u=o}while(1){a=a+-48|0;h=f+-1|0;o=d[e>>2]|0;do{if(o){s=d[o+12>>2]|0;if((s|0)==(d[o+16>>2]|0))o=y_[d[(d[o>>2]|0)+36>>2]&127](o)|0;else o=d[s>>2]|0;if((o|0)==-1){d[e>>2]=0;l=1;break}else{l=(d[e>>2]|0)==0;break}}else l=1}while(0);do{if(u){o=d[u+12>>2]|0;if((o|0)==(d[u+16>>2]|0))o=y_[d[(d[u>>2]|0)+36>>2]&127](u)|0;else o=d[o>>2]|0;if((o|0)==-1){d[t>>2]=0;u=0;i=0;o=1;break}else{u=c;i=c;o=(c|0)==0;break}}else{u=c;i=0;o=1}}while(0);s=d[e>>2]|0;if(!((f|0)>1&(l^o)))break;o=d[s+12>>2]|0;if((o|0)==(d[s+16>>2]|0))o=y_[d[(d[s>>2]|0)+36>>2]&127](s)|0;else o=d[o>>2]|0;if(!(w_[d[(d[r>>2]|0)+12>>2]&63](r,2048,o)|0))break e;a=((w_[d[(d[r>>2]|0)+52>>2]&63](r,o,0)|0)<<24>>24)+(a*10|0)|0;o=d[e>>2]|0;s=o+12|0;l=d[s>>2]|0;if((l|0)==(d[o+16>>2]|0)){y_[d[(d[o>>2]|0)+40>>2]&127](o)|0;f=h;c=u;u=i;continue}else{d[s>>2]=l+4;f=h;c=u;u=i;continue}}do{if(s){o=d[s+12>>2]|0;if((o|0)==(d[s+16>>2]|0))o=y_[d[(d[s>>2]|0)+36>>2]&127](s)|0;else o=d[o>>2]|0;if((o|0)==-1){d[e>>2]=0;s=1;break}else{s=(d[e>>2]|0)==0;break}}else s=1}while(0);do{if(u){o=d[u+12>>2]|0;if((o|0)==(d[u+16>>2]|0))o=y_[d[(d[u>>2]|0)+36>>2]&127](u)|0;else o=d[o>>2]|0;if((o|0)!=-1){if(s)break e;else break}else{d[t>>2]=0;p=60;break}}else p=60}while(0);if((p|0)==60?!s:0)break;d[n>>2]=d[n>>2]|2}}while(0);return a|0}function bv(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0;a=e+4|0;r=(d[a>>2]|0)!=189;s=d[e>>2]|0;o=s;i=(d[n>>2]|0)-o|0;i=i>>>0<2147483647?i<<1:-1;o=(d[t>>2]|0)-o|0;s=Gf(r?s:0,i)|0;if(!s)RS();do{if(!r){r=d[e>>2]|0;d[e>>2]=s;if(r){k=0;be(d[a>>2]|0,r|0);s=k;k=0;if(s&1){s=Ze(0)|0;Xt(s)}else{u=d[e>>2]|0;break}}else u=s}else{d[e>>2]=s;u=s}}while(0);d[a>>2]=201;d[t>>2]=u+o;d[n>>2]=(d[e>>2]|0)+i;return}function wv(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0;a=e+4|0;r=(d[a>>2]|0)!=189;s=d[e>>2]|0;o=s;i=(d[n>>2]|0)-o|0;i=i>>>0<2147483647?i<<1:-1;o=(d[t>>2]|0)-o>>2;s=Gf(r?s:0,i)|0;if(!s)RS();do{if(!r){r=d[e>>2]|0;d[e>>2]=s;if(r){k=0;be(d[a>>2]|0,r|0);s=k;k=0;if(s&1){s=Ze(0)|0;Xt(s)}else{u=d[e>>2]|0;break}}else u=s}else{d[e>>2]=s;u=s}}while(0);d[a>>2]=201;d[t>>2]=u+(o<<2);d[n>>2]=(d[e>>2]|0)+(i>>>2<<2);return}function Sv(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0;a=t;r=f[e>>0]|0;if(!(r&1)){i=10;u=(r&255)>>>1}else{r=d[e>>2]|0;i=(r&-2)+-1|0;u=d[e+4>>2]|0;r=r&255}s=n-a|0;do{if((n|0)!=(t|0)){if((i-u|0)>>>0<s>>>0){ed(e,i,u+s-i|0,u,u,0,0);r=f[e>>0]|0}if(!(r&1))o=e+1|0;else o=d[e+8>>2]|0;a=n+(u-a)|0;if((t|0)!=(n|0)){r=t;i=o+u|0;while(1){f[i>>0]=f[r>>0]|0;r=r+1|0;if((r|0)==(n|0))break;else i=i+1|0}}f[o+a>>0]=0;r=u+s|0;if(!(f[e>>0]&1)){f[e>>0]=r<<1;break}else{d[e+4>>2]=r;break}}}while(0);return e|0}function xv(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0;a=e+4|0;r=(d[a>>2]|0)!=189;s=d[e>>2]|0;o=s;i=(d[n>>2]|0)-o|0;i=i>>>0<2147483647?i<<1:-1;o=(d[t>>2]|0)-o>>2;s=Gf(r?s:0,i)|0;if(!s)RS();do{if(!r){r=d[e>>2]|0;d[e>>2]=s;if(r){k=0;be(d[a>>2]|0,r|0);s=k;k=0;if(s&1){s=Ze(0)|0;Xt(s)}else{u=d[e>>2]|0;break}}else u=s}else{d[e>>2]=s;u=s}}while(0);d[a>>2]=201;d[t>>2]=u+(o<<2);d[n>>2]=(d[e>>2]|0)+(i>>>2<<2);return}function _v(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0;a=t;r=f[e>>0]|0;if(!(r&1)){i=1;u=(r&255)>>>1}else{r=d[e>>2]|0;i=(r&-2)+-1|0;u=d[e+4>>2]|0;r=r&255}s=n-a>>2;do{if(s){if((i-u|0)>>>0<s>>>0){ld(e,i,u+s-i|0,u,u,0,0);r=f[e>>0]|0}if(!(r&1))o=e+4|0;else o=d[e+8>>2]|0;a=u+((n-a|0)>>>2)|0;if((t|0)!=(n|0)){r=t;i=o+(u<<2)|0;while(1){d[i>>2]=d[r>>2];r=r+4|0;if((r|0)==(n|0))break;else i=i+4|0}}d[o+(a<<2)>>2]=0;r=u+s|0;if(!(f[e>>0]&1)){f[e>>0]=r<<1;break}else{d[e+4>>2]=r;break}}}while(0);return e|0}function Tv(e,t){e=e|0;t=t|0;var n=0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;f[e+128>>0]=0;do{if(t){k=0;we(125,e|0,t|0);n=k;k=0;if(n&1){n=Ze()|0;$v(e);ut(n|0)}else{gy(e,t);break}}}while(0);return}function Ev(e,t){e=e|0;t=t|0;Pc(e,t,Wc(43148)|0);return}function kv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(43188)|0);return}function Cv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(44220)|0);return}function Av(e,t){e=e|0;t=t|0;Pc(e,t,Wc(44212)|0);return}function Ov(e,t){e=e|0;t=t|0;Pc(e,t,Wc(44280)|0);return}function Iv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(44288)|0);return}function Mv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(44344)|0);return}function Dv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(44352)|0);return}function Rv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(44360)|0);return}function Pv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(44368)|0);return}function Nv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(43260)|0);return}function Lv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(43332)|0);return}function Fv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(43392)|0);return}function Bv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(43452)|0);return}function zv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(43764)|0);return}function Uv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(43828)|0);return}function jv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(43892)|0);return}function Vv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(43956)|0);return}function Gv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(43992)|0);return}function Wv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(44028)|0);return}function Hv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(44064)|0);return}function qv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(44100)|0);return}function Qv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(43544)|0);return}function Xv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(43636)|0);return}function Yv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(43668)|0);return}function Kv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(43700)|0);return}function Zv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(44140)|0);return}function Jv(e,t){e=e|0;t=t|0;Pc(e,t,Wc(44180)|0);return}function $v(e){e=e|0;var t=0,n=0,r=0;n=d[e>>2]|0;do{if(n){r=e+4|0;t=d[r>>2]|0;if((t|0)!=(n|0)){do{t=t+-4|0}while((t|0)!=(n|0));d[r>>2]=t}if((e+16|0)==(n|0)){f[e+128>>0]=0;break}else{Hw(n);break}}}while(0);return}function ey(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0;o=e+4|0;n=d[o>>2]|0;r=d[e>>2]|0;i=n-r>>2;if(i>>>0>=t>>>0){if(i>>>0>t>>>0?(a=r+(t<<2)|0,(n|0)!=(a|0)):0){do{n=n+-4|0}while((n|0)!=(a|0));d[o>>2]=n}}else my(e,t-i|0);return}function ty(e,t){e=e|0;t=t|0;var n=0;n=d[e+8>>2]|0;if((d[e+12>>2]|0)-n>>2>>>0>t>>>0)n=(d[n+(t<<2)>>2]|0)!=0;else n=0;return n|0}function ny(e){e=e|0;var t=0,n=0;n=e+4|0;t=d[n>>2]|0;n=d[n+4>>2]|0;e=(d[e>>2]|0)+(n>>1)|0;if(n&1)t=d[(d[e>>2]|0)+t>>2]|0;m_[t&255](e);return}function ry(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;var u=0,l=0;d[n>>2]=e;d[a>>2]=r;if(s&2){if((i-r|0)<3)e=1;else{d[a>>2]=r+1;f[r>>0]=-17;u=d[a>>2]|0;d[a>>2]=u+1;f[u>>0]=-69;u=d[a>>2]|0;d[a>>2]=u+1;f[u>>0]=-65;u=4}}else u=4;e:do{if((u|0)==4){l=t;e=d[n>>2]|0;if(e>>>0<t>>>0)while(1){s=h[e>>1]|0;u=s&65535;if(u>>>0>o>>>0){e=2;break e}do{if((s&65535)<128){e=d[a>>2]|0;if((i-e|0)<1){e=1;break e}d[a>>2]=e+1;f[e>>0]=s}else{if((s&65535)<2048){e=d[a>>2]|0;if((i-e|0)<2){e=1;break e}d[a>>2]=e+1;f[e>>0]=u>>>6|192;r=d[a>>2]|0;d[a>>2]=r+1;f[r>>0]=u&63|128;break}if((s&65535)<55296){e=d[a>>2]|0;if((i-e|0)<3){e=1;break e}d[a>>2]=e+1;f[e>>0]=u>>>12|224;r=d[a>>2]|0;d[a>>2]=r+1;f[r>>0]=u>>>6&63|128;r=d[a>>2]|0;d[a>>2]=r+1;f[r>>0]=u&63|128;break}if((s&65535)>=56320){if((s&65535)<57344){e=2;break e}e=d[a>>2]|0;if((i-e|0)<3){e=1;break e}d[a>>2]=e+1;f[e>>0]=u>>>12|224;r=d[a>>2]|0;d[a>>2]=r+1;f[r>>0]=u>>>6&63|128;r=d[a>>2]|0;d[a>>2]=r+1;f[r>>0]=u&63|128;break}if((l-e|0)<4){e=1;break e}e=e+2|0;s=m[e>>1]|0;if((s&64512|0)!=56320){e=2;break e}if((i-(d[a>>2]|0)|0)<4){e=1;break e}r=u&960;if(((r<<10)+65536|u<<10&64512|s&1023)>>>0>o>>>0){e=2;break e}d[n>>2]=e;e=(r>>>6)+1|0;r=d[a>>2]|0;d[a>>2]=r+1;f[r>>0]=e>>>2|240;r=d[a>>2]|0;d[a>>2]=r+1;f[r>>0]=u>>>2&15|e<<4&48|128;r=d[a>>2]|0;d[a>>2]=r+1;f[r>>0]=u<<4&48|s>>>6&15|128;u=d[a>>2]|0;d[a>>2]=u+1;f[u>>0]=s&63|128}}while(0);e=(d[n>>2]|0)+2|0;d[n>>2]=e;if(e>>>0>=t>>>0){e=0;break}}else e=0}}while(0);return e|0}function iy(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;var u=0,l=0,c=0,m=0,g=0,v=0;d[n>>2]=e;d[a>>2]=r;if(s&4){e=d[n>>2]|0;s=t;if((((s-e|0)>2?(f[e>>0]|0)==-17:0)?(f[e+1>>0]|0)==-69:0)?(f[e+2>>0]|0)==-65:0){d[n>>2]=e+3;u=d[a>>2]|0}else u=r}else{u=r;s=t}g=i;r=d[n>>2]|0;e=r>>>0<t>>>0;e:do{if(e&u>>>0<i>>>0)while(1){e=f[r>>0]|0;c=e&255;if(c>>>0>o>>>0){e=2;break e}do{if(e<<24>>24>-1){h[u>>1]=e&255;d[n>>2]=r+1}else{if((e&255)<194){e=2;break e}if((e&255)<224){if((s-r|0)<2){e=1;break e}e=p[r+1>>0]|0;if((e&192|0)!=128){e=2;break e}e=e&63|c<<6&1984;if(e>>>0>o>>>0){e=2;break e}h[u>>1]=e;d[n>>2]=r+2;break}if((e&255)<240){if((s-r|0)<3){e=1;break e}l=f[r+1>>0]|0;e=f[r+2>>0]|0;switch(c|0){case 224:{if((l&-32)<<24>>24!=-96){e=2;break e}break}case 237:{if((l&-32)<<24>>24!=-128){e=2;break e}break}default:if((l&-64)<<24>>24!=-128){e=2;break e}}e=e&255;if((e&192|0)!=128){e=2;break e}e=(l&255)<<6&4032|c<<12|e&63;if((e&65535)>>>0>o>>>0){e=2;break e}h[u>>1]=e;d[n>>2]=r+3;break}if((e&255)>=245){e=2;break e}if((s-r|0)<4){e=1;break e}l=f[r+1>>0]|0;e=f[r+2>>0]|0;r=f[r+3>>0]|0;switch(c|0){case 240:{if((l+112&255)>=48){e=2;break e}break}case 244:{if((l&-16)<<24>>24!=-128){e=2;break e}break}default:if((l&-64)<<24>>24!=-128){e=2;break e}}m=e&255;if((m&192|0)!=128){e=2;break e}e=r&255;if((e&192|0)!=128){e=2;break e}if((g-u|0)<4){e=1;break e}c=c&7;r=l&255;l=m<<6;e=e&63;if((r<<12&258048|c<<18|l&4032|e)>>>0>o>>>0){e=2;break e}h[u>>1]=r<<2&60|m>>>4&3|((r>>>4&3|c<<2)<<6)+16320|55296;m=u+2|0;d[a>>2]=m;h[m>>1]=e|l&960|56320;d[n>>2]=(d[n>>2]|0)+4}}while(0);u=(d[a>>2]|0)+2|0;d[a>>2]=u;r=d[n>>2]|0;e=r>>>0<t>>>0;if(!(e&u>>>0<i>>>0)){v=39;break}}else v=39}while(0);if((v|0)==39)e=e&1;return e|0}function ay(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0;h=t;if((((i&4|0)!=0?(h-e|0)>2:0)?(f[e>>0]|0)==-17:0)?(f[e+1>>0]|0)==-69:0)i=(f[e+2>>0]|0)==-65?e+3|0:e;else i=e;e:do{if((n|0)!=0&i>>>0<t>>>0){c=i;a=0;t:while(1){i=f[c>>0]|0;l=i&255;if(l>>>0>r>>>0){i=c;a=42;break e}do{if(i<<24>>24>-1)i=c+1|0;else{if((i&255)<194){i=c;a=42;break e}if((i&255)<224){if((h-c|0)<2){i=c;a=42;break e}i=p[c+1>>0]|0;if((i&192|0)!=128){i=c;a=42;break e}if((i&63|l<<6&1984)>>>0>r>>>0){i=c;a=42;break e}i=c+2|0;break}if((i&255)<240){i=c;if((h-i|0)<3){i=c;a=42;break e}s=f[c+1>>0]|0;o=f[c+2>>0]|0;switch(l|0){case 224:{if((s&-32)<<24>>24!=-96){a=20;break t}break}case 237:{if((s&-32)<<24>>24!=-128){a=22;break t}break}default:if((s&-64)<<24>>24!=-128){a=24;break t}}i=o&255;if((i&192|0)!=128){i=c;a=42;break e}if(((s&255)<<6&4032|l<<12&61440|i&63)>>>0>r>>>0){i=c;a=42;break e}i=c+3|0;break}if((i&255)>=245){i=c;a=42;break e}i=c;if((n-a|0)>>>0<2|(h-i|0)<4){i=c;a=42;break e}u=f[c+1>>0]|0;o=f[c+2>>0]|0;s=f[c+3>>0]|0;switch(l|0){case 240:{if((u+112&255)>=48){a=32;break t}break}case 244:{if((u&-16)<<24>>24!=-128){a=34;break t}break}default:if((u&-64)<<24>>24!=-128){a=36;break t}}o=o&255;if((o&192|0)!=128){i=c;a=42;break e}i=s&255;if((i&192|0)!=128){i=c;a=42;break e}if(((u&255)<<12&258048|l<<18&1835008|o<<6&4032|i&63)>>>0>r>>>0){i=c;a=42;break e}i=c+4|0;a=a+1|0}}while(0);a=a+1|0;if(!(a>>>0<n>>>0&i>>>0<t>>>0)){a=42;break e}else c=i}if((a|0)==20){i=i-e|0;break}else if((a|0)==22){i=i-e|0;break}else if((a|0)==24){i=i-e|0;break}else if((a|0)==32){i=i-e|0;break}else if((a|0)==34){i=i-e|0;break}else if((a|0)==36){i=i-e|0;break}}else a=42}while(0);if((a|0)==42)i=i-e|0;return i|0}function oy(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;var u=0,l=0;d[n>>2]=e;d[a>>2]=r;l=i;if(s&2){if((l-r|0)<3)e=1;else{d[a>>2]=r+1;f[r>>0]=-17;u=d[a>>2]|0;d[a>>2]=u+1;f[u>>0]=-69;u=d[a>>2]|0;d[a>>2]=u+1;f[u>>0]=-65;u=4}}else u=4;e:do{if((u|0)==4){e=d[n>>2]|0;if(e>>>0<t>>>0)while(1){s=d[e>>2]|0;if(s>>>0>o>>>0|(s&-2048|0)==55296){e=2;break e}do{if(s>>>0>=128){if(s>>>0<2048){e=d[a>>2]|0;if((l-e|0)<2){e=1;break e}d[a>>2]=e+1;f[e>>0]=s>>>6|192;u=d[a>>2]|0;d[a>>2]=u+1;f[u>>0]=s&63|128;break}e=d[a>>2]|0;i=l-e|0;if(s>>>0<65536){if((i|0)<3){e=1;break e}d[a>>2]=e+1;f[e>>0]=s>>>12|224;u=d[a>>2]|0;d[a>>2]=u+1;f[u>>0]=s>>>6&63|128;u=d[a>>2]|0;d[a>>2]=u+1;f[u>>0]=s&63|128;break}else{if((i|0)<4){e=1;break e}d[a>>2]=e+1;f[e>>0]=s>>>18|240;u=d[a>>2]|0;d[a>>2]=u+1;f[u>>0]=s>>>12&63|128;u=d[a>>2]|0;d[a>>2]=u+1;f[u>>0]=s>>>6&63|128;u=d[a>>2]|0;d[a>>2]=u+1;f[u>>0]=s&63|128;break}}else{e=d[a>>2]|0;if((l-e|0)<1){e=1;break e}d[a>>2]=e+1;f[e>>0]=s}}while(0);e=(d[n>>2]|0)+4|0;d[n>>2]=e;if(e>>>0>=t>>>0){e=0;break}}else e=0}}while(0);return e|0}function sy(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;var u=0,l=0,c=0,h=0,m=0,g=0;d[n>>2]=e;d[a>>2]=r;if(s&4){e=d[n>>2]|0;s=t;if((((s-e|0)>2?(f[e>>0]|0)==-17:0)?(f[e+1>>0]|0)==-69:0)?(f[e+2>>0]|0)==-65:0){d[n>>2]=e+3;r=d[a>>2]|0;m=s}else m=s}else m=t;s=d[n>>2]|0;e=s>>>0<t>>>0;e:do{if(e&r>>>0<i>>>0)while(1){e=f[s>>0]|0;h=e&255;do{if(e<<24>>24>-1){if(h>>>0>o>>>0){e=2;break e}d[r>>2]=h;d[n>>2]=s+1}else{if((e&255)<194){e=2;break e}if((e&255)<224){if((m-s|0)<2){e=1;break e}e=p[s+1>>0]|0;if((e&192|0)!=128){e=2;break e}e=e&63|h<<6&1984;if(e>>>0>o>>>0){e=2;break e}d[r>>2]=e;d[n>>2]=s+2;break}if((e&255)<240){if((m-s|0)<3){e=1;break e}u=f[s+1>>0]|0;e=f[s+2>>0]|0;switch(h|0){case 224:{if((u&-32)<<24>>24!=-96){e=2;break e}break}case 237:{if((u&-32)<<24>>24!=-128){e=2;break e}break}default:if((u&-64)<<24>>24!=-128){e=2;break e}}e=e&255;if((e&192|0)!=128){e=2;break e}e=(u&255)<<6&4032|h<<12&61440|e&63;if(e>>>0>o>>>0){e=2;break e}d[r>>2]=e;d[n>>2]=s+3;break}if((e&255)>=245){e=2;break e}if((m-s|0)<4){e=1;break e}c=f[s+1>>0]|0;e=f[s+2>>0]|0;u=f[s+3>>0]|0;switch(h|0){case 240:{if((c+112&255)>=48){e=2;break e}break}case 244:{if((c&-16)<<24>>24!=-128){e=2;break e}break}default:if((c&-64)<<24>>24!=-128){e=2;break e}}l=e&255;if((l&192|0)!=128){e=2;break e}e=u&255;if((e&192|0)!=128){e=2;break e}e=(c&255)<<12&258048|h<<18&1835008|l<<6&4032|e&63;if(e>>>0>o>>>0){e=2;break e}d[r>>2]=e;d[n>>2]=s+4}}while(0);r=(d[a>>2]|0)+4|0;d[a>>2]=r;s=d[n>>2]|0;e=s>>>0<t>>>0;if(!(e&r>>>0<i>>>0)){g=38;break}}else g=38}while(0);if((g|0)==38)e=e&1;return e|0}function uy(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0;h=t;if((((i&4|0)!=0?(h-e|0)>2:0)?(f[e>>0]|0)==-17:0)?(f[e+1>>0]|0)==-69:0)i=(f[e+2>>0]|0)==-65?e+3|0:e;else i=e;e:do{if((n|0)!=0&i>>>0<t>>>0){l=i;c=0;t:while(1){i=f[l>>0]|0;u=i&255;do{if(i<<24>>24>-1){if(u>>>0>r>>>0){i=l;a=42;break e}i=l+1|0}else{if((i&255)<194){i=l;a=42;break e}if((i&255)<224){if((h-l|0)<2){i=l;a=42;break e}i=p[l+1>>0]|0;if((i&192|0)!=128){i=l;a=42;break e}if((i&63|u<<6&1984)>>>0>r>>>0){i=l;a=42;break e}i=l+2|0;break}if((i&255)<240){i=l;if((h-i|0)<3){i=l;a=42;break e}o=f[l+1>>0]|0;a=f[l+2>>0]|0;switch(u|0){case 224:{if((o&-32)<<24>>24!=-96){a=20;break t}break}case 237:{if((o&-32)<<24>>24!=-128){a=22;break t}break}default:if((o&-64)<<24>>24!=-128){a=24;break t}}i=a&255;if((i&192|0)!=128){i=l;a=42;break e}if(((o&255)<<6&4032|u<<12&61440|i&63)>>>0>r>>>0){i=l;a=42;break e}i=l+3|0;break}if((i&255)>=245){i=l;a=42;break e}i=l;if((h-i|0)<4){i=l;a=42;break e}s=f[l+1>>0]|0;a=f[l+2>>0]|0;o=f[l+3>>0]|0;switch(u|0){case 240:{if((s+112&255)>=48){a=32;break t}break}case 244:{if((s&-16)<<24>>24!=-128){a=34;break t}break}default:if((s&-64)<<24>>24!=-128){a=36;break t}}a=a&255;if((a&192|0)!=128){i=l;a=42;break e}i=o&255;if((i&192|0)!=128){i=l;a=42;break e}if(((s&255)<<12&258048|u<<18&1835008|a<<6&4032|i&63)>>>0>r>>>0){i=l;a=42;break e}i=l+4|0}}while(0);c=c+1|0;if(!(c>>>0<n>>>0&i>>>0<t>>>0)){a=42;break e}else l=i}if((a|0)==20){i=i-e|0;break}else if((a|0)==22){i=i-e|0;break}else if((a|0)==24){i=i-e|0;break}else if((a|0)==32){i=i-e|0;break}else if((a|0)==34){i=i-e|0;break}else if((a|0)==36){i=i-e|0;break}}else a=42}while(0);if((a|0)==42)i=i-e|0;return i|0}function ly(e){e=e|0;Gh(45196);Gh(45184);Gh(45172);Gh(45160);Gh(45148);Gh(45136);Gh(45124);Gh(45112);Gh(45100);Gh(45088);Gh(45076);Gh(45064);Gh(45052);Gh(45040);return}function cy(e){e=e|0;rd(45368);rd(45356);rd(45344);rd(45332);rd(45320);rd(45308);rd(45296);rd(45284);rd(45272);rd(45260);rd(45248);rd(45236);rd(45224);rd(45212);return}function fy(e){e=e|0;Gh(46e3);Gh(45988);Gh(45976);Gh(45964);Gh(45952);Gh(45940);Gh(45928);Gh(45916);Gh(45904);Gh(45892);Gh(45880);Gh(45868);Gh(45856);Gh(45844);Gh(45832);Gh(45820);Gh(45808);Gh(45796);Gh(45784);Gh(45772);Gh(45760);Gh(45748);Gh(45736);Gh(45724);return}function hy(e){e=e|0;rd(46292);rd(46280);rd(46268);rd(46256);rd(46244);rd(46232);rd(46220);rd(46208);rd(46196);rd(46184);rd(46172);rd(46160);rd(46148);rd(46136);rd(46124);rd(46112);rd(46100);rd(46088);rd(46076);rd(46064);rd(46052);rd(46040);rd(46028);rd(46016);return}function dy(e){e=e|0;Gh(47104);Gh(47092);Gh(47080);Gh(47068);Gh(47056);Gh(47044);Gh(47032);Gh(47020);Gh(47008);Gh(46996);Gh(46984);Gh(46972);Gh(46960);Gh(46948);Gh(46936);Gh(46924);Gh(46912);Gh(46900);Gh(46888);Gh(46876);Gh(46864);Gh(46852);Gh(46840);Gh(46828);return}function py(e){e=e|0;rd(47396);rd(47384);rd(47372);rd(47360);rd(47348);rd(47336);rd(47324);rd(47312);rd(47300);rd(47288);rd(47276);rd(47264);rd(47252);rd(47240);rd(47228);rd(47216);rd(47204);rd(47192);rd(47180);rd(47168);rd(47156);rd(47144);rd(47132);rd(47120);return}function my(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0;u=w;w=w+32|0;s=u;a=d[e+8>>2]|0;n=d[e+4>>2]|0;if(a-n>>2>>>0<t>>>0){r=d[e>>2]|0;o=n-r>>2;i=o+t|0;if(i>>>0>1073741823)Vw(e);n=a-r|0;if(n>>2>>>0<536870911){n=n>>1;n=n>>>0<i>>>0?i:n}else n=1073741823;vy(s,n,o,e+16|0);o=s+8|0;a=d[o>>2]|0;Dy(a|0,0,t<<2|0)|0;d[o>>2]=a+(t<<2);yy(e,s);by(s)}else gy(e,t);w=u;return}function gy(e,t){e=e|0;t=t|0;var n=0;n=e+4|0;e=t;t=d[n>>2]|0;do{d[t>>2]=0;t=(d[n>>2]|0)+4|0;d[n>>2]=t;e=e+-1|0}while((e|0)!=0);return}function vy(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;d[e+12>>2]=0;d[e+16>>2]=r;do{if(t){i=r+112|0;if(t>>>0<29&(f[i>>0]|0)==0){f[i>>0]=1;break}else{r=Ww(t<<2)|0;break}}else r=0}while(0);d[e>>2]=r;n=r+(n<<2)|0;d[e+8>>2]=n;d[e+4>>2]=n;d[e+12>>2]=r+(t<<2);return}function yy(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0;r=d[e>>2]|0;a=e+4|0;n=t+4|0;i=(d[a>>2]|0)-r|0;o=(d[n>>2]|0)+(0-(i>>2)<<2)|0;d[n>>2]=o;Ny(o|0,r|0,i|0)|0;i=d[e>>2]|0;d[e>>2]=d[n>>2];d[n>>2]=i;i=t+8|0;r=d[a>>2]|0;d[a>>2]=d[i>>2];d[i>>2]=r;i=e+8|0;e=t+12|0;r=d[i>>2]|0;d[i>>2]=d[e>>2];d[e>>2]=r;d[t>>2]=d[n>>2];return}function by(e){e=e|0;var t=0,n=0,r=0;n=d[e+4>>2]|0;r=e+8|0;t=d[r>>2]|0;if((t|0)!=(n|0)){do{t=t+-4|0}while((t|0)!=(n|0));d[r>>2]=t}n=d[e>>2]|0;do{if(n){t=d[e+16>>2]|0;if((t|0)==(n|0)){f[t+112>>0]=0;break}else{Hw(n);break}}}while(0);return}function wy(e,t){e=e|0;t=t|0;var n=0;if(t>>>0>1073741823)Vw(e);n=e+128|0;if(t>>>0<29&(f[n>>0]|0)==0){f[n>>0]=1;n=e+16|0}else n=Ww(t<<2)|0;d[e+4>>2]=n;d[e>>2]=n;d[e+8>>2]=n+(t<<2);return}function Sy(e,t,n){e=e|0;t=t|0;n=n|0;var r=0.0,i=0,a=0,o=0,s=0;s=w;w=w+16|0;o=s;do{if((e|0)!=(t|0)){i=HS()|0;a=d[i>>2]|0;d[i>>2]=0;r=+Yx(e,o,nm()|0);e=d[i>>2]|0;if(!e)d[i>>2]=a;if((d[o>>2]|0)!=(t|0)){d[n>>2]=4;r=0.0;break}if((e|0)==34)d[n>>2]=4}else{d[n>>2]=4;r=0.0}}while(0);w=s;return+r}function xy(e,t,n){e=e|0;t=t|0;n=n|0;var r=0.0,i=0,a=0,o=0,s=0;s=w;w=w+16|0;o=s;do{if((e|0)!=(t|0)){i=HS()|0;a=d[i>>2]|0;d[i>>2]=0;r=+Yx(e,o,nm()|0);e=d[i>>2]|0;if(!e)d[i>>2]=a;if((d[o>>2]|0)!=(t|0)){d[n>>2]=4;r=0.0;break}if((e|0)==34)d[n>>2]=4}else{d[n>>2]=4;r=0.0}}while(0);w=s;return+r}function _y(e,t,n){e=e|0;t=t|0;n=n|0;var r=0.0,i=0,a=0,o=0,s=0;s=w;w=w+16|0;o=s;do{if((e|0)==(t|0)){d[n>>2]=4;r=0.0}else{i=HS()|0;a=d[i>>2]|0;d[i>>2]=0;r=+Yx(e,o,nm()|0);e=d[i>>2]|0;if(!e)d[i>>2]=a;if((d[o>>2]|0)!=(t|0)){d[n>>2]=4;r=0.0;break}if((e|0)==34)d[n>>2]=4}}while(0);w=s;return+r}function Ty(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0;s=w;w=w+16|0;o=s;do{if((e|0)!=(t|0)){if((f[e>>0]|0)==45){d[n>>2]=4;r=0;e=0;break}i=HS()|0;a=d[i>>2]|0;d[i>>2]=0;e=BS(e,o,r,nm()|0)|0;r=d[i>>2]|0;if(!r)d[i>>2]=a;if((d[o>>2]|0)!=(t|0)){d[n>>2]=4;r=0;e=0;break}if((r|0)==34){d[n>>2]=4;r=-1;e=-1}else r=j}else{d[n>>2]=4;r=0;e=0}}while(0);j=r;w=s;return e|0}function Ey(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0;u=w;w=w+16|0;s=u;do{if((e|0)!=(t|0)){if((f[e>>0]|0)==45){d[n>>2]=4;e=0;break}a=HS()|0;o=d[a>>2]|0;d[a>>2]=0;e=BS(e,s,r,nm()|0)|0;r=j;i=d[a>>2]|0;if(!i)d[a>>2]=o;if((d[s>>2]|0)!=(t|0)){d[n>>2]=4;e=0;break}if(r>>>0>0|(r|0)==0&e>>>0>4294967295|(i|0)==34){d[n>>2]=4;e=-1;break}else break}else{d[n>>2]=4;e=0}}while(0);w=u;return e|0}function ky(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0;u=w;w=w+16|0;s=u;do{if((e|0)!=(t|0)){if((f[e>>0]|0)==45){d[n>>2]=4;e=0;break}a=HS()|0;o=d[a>>2]|0;d[a>>2]=0;e=BS(e,s,r,nm()|0)|0;r=j;i=d[a>>2]|0;if(!i)d[a>>2]=o;if((d[s>>2]|0)!=(t|0)){d[n>>2]=4;e=0;break}if(r>>>0>0|(r|0)==0&e>>>0>4294967295|(i|0)==34){d[n>>2]=4;e=-1;break}else break}else{d[n>>2]=4;e=0}}while(0);w=u;return e|0}function Cy(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0;u=w;w=w+16|0;s=u;do{if((e|0)!=(t|0)){if((f[e>>0]|0)==45){d[n>>2]=4;e=0;break}a=HS()|0;o=d[a>>2]|0;d[a>>2]=0;e=BS(e,s,r,nm()|0)|0;r=j;i=d[a>>2]|0;if(!i)d[a>>2]=o;if((d[s>>2]|0)!=(t|0)){d[n>>2]=4;e=0;break}if(r>>>0>0|(r|0)==0&e>>>0>65535|(i|0)==34){d[n>>2]=4;e=-1;break}else{e=e&65535;break}}else{d[n>>2]=4;e=0}}while(0);w=u;return e|0}function Ay(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0;u=w;w=w+16|0;s=u;do{if((e|0)!=(t|0)){a=HS()|0;o=d[a>>2]|0;d[a>>2]=0;e=zS(e,s,r,nm()|0)|0;r=j;i=d[a>>2]|0;if(!i)d[a>>2]=o;if((d[s>>2]|0)!=(t|0)){d[n>>2]=4;r=0;e=0;break}if((i|0)==34){d[n>>2]=4;s=(r|0)>0|(r|0)==0&e>>>0>0;j=s?2147483647:-2147483648;w=u;return(s?-1:0)|0}}else{d[n>>2]=4;r=0;e=0}}while(0);j=r;w=u;return e|0}function Oy(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0;u=w;w=w+16|0;s=u;e:do{if((e|0)==(t|0)){d[n>>2]=4;e=0}else{a=HS()|0;o=d[a>>2]|0;d[a>>2]=0;e=zS(e,s,r,nm()|0)|0;r=j;i=d[a>>2]|0;if(!i)d[a>>2]=o;if((d[s>>2]|0)!=(t|0)){d[n>>2]=4;e=0;break}do{if((i|0)==34){d[n>>2]=4;if((r|0)>0|(r|0)==0&e>>>0>0){e=2147483647;break e}}else{if((r|0)<-1|(r|0)==-1&e>>>0<2147483648){d[n>>2]=4;break}if((r|0)>0|(r|0)==0&e>>>0>2147483647){d[n>>2]=4;e=2147483647;break e}else break e}}while(0);e=-2147483648}}while(0);w=u;return e|0}function Iy(){}function My(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;r=t-r-(n>>>0>e>>>0|0)>>>0;return(j=r,e-n>>>0|0)|0}function Dy(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;r=e+n|0;if((n|0)>=20){t=t&255;a=e&3;o=t|t<<8|t<<16|t<<24;i=r&~3;if(a){a=e+4-a|0;while((e|0)<(a|0)){f[e>>0]=t;e=e+1|0}}while((e|0)<(i|0)){d[e>>2]=o;e=e+4|0}}while((e|0)<(r|0)){f[e>>0]=t;e=e+1|0}return e-n|0}function Ry(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;n=e+n>>>0;return(j=t+r+(n>>>0<e>>>0|0)>>>0,n|0)|0}function Py(e,t,n){e=e|0;t=t|0;n=n|0;if((n|0)<32){j=t>>>n;return e>>>n|(t&(1<<n)-1)<<32-n}j=0;return t>>>n-32|0}function Ny(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;if((n|0)>=4096)return ot(e|0,t|0,n|0)|0;r=e|0;if((e&3)==(t&3)){while(e&3){if(!n)return r|0;f[e>>0]=f[t>>0]|0;e=e+1|0;t=t+1|0;n=n-1|0}while((n|0)>=4){d[e>>2]=d[t>>2];e=e+4|0;t=t+4|0;n=n-4|0}}while((n|0)>0){f[e>>0]=f[t>>0]|0;e=e+1|0;t=t+1|0;n=n-1|0}return r|0}function Ly(e,t,n){e=e|0;t=t|0;n=n|0;if((n|0)<32){j=t<<n|(e&(1<<n)-1<<32-n)>>>32-n;return e<<n}j=e<<n-32;return 0}function Fy(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;if((t|0)<(e|0)&(e|0)<(t+n|0)){r=e;t=t+n|0;e=e+n|0;while((n|0)>0){e=e-1|0;t=t-1|0;n=n-1|0;f[e>>0]=f[t>>0]|0}e=r}else Ny(e,t,n)|0;return e|0}function By(e,t,n){e=e|0;t=t|0;n=n|0;if((n|0)<32){j=t>>n;return e>>>n|(t&(1<<n)-1)<<32-n}j=(t|0)<0?-1:0;return t>>n-32|0}function zy(e){e=e|0;var t=0;t=f[T+(e&255)>>0]|0;if((t|0)<8)return t|0;t=f[T+(e>>8&255)>>0]|0;if((t|0)<8)return t+8|0;t=f[T+(e>>16&255)>>0]|0;if((t|0)<8)return t+16|0;return(f[T+(e>>>24)>>0]|0)+24|0}function Uy(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0;a=e&65535;i=t&65535;n=fe(i,a)|0;r=e>>>16;e=(n>>>16)+(fe(i,r)|0)|0;i=t>>>16;t=fe(i,a)|0;return(j=(e>>>16)+(fe(i,r)|0)+(((e&65535)+t|0)>>>16)|0,e+t<<16|n&65535|0)|0}function jy(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0;l=t>>31|((t|0)<0?-1:0)<<1;u=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;a=r>>31|((r|0)<0?-1:0)<<1;i=((r|0)<0?-1:0)>>31|((r|0)<0?-1:0)<<1;s=My(l^e,u^t,l,u)|0;o=j;e=a^l;t=i^u;return My((qy(s,o,My(a^n,i^r,a,i)|0,j,0)|0)^e,j^t,e,t)|0}function Vy(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0;i=w;w=w+16|0;s=i|0;o=t>>31|((t|0)<0?-1:0)<<1;a=((t|0)<0?-1:0)>>31|((t|0)<0?-1:0)<<1;l=r>>31|((r|0)<0?-1:0)<<1;u=((r|0)<0?-1:0)>>31|((r|0)<0?-1:0)<<1;e=My(o^e,a^t,o,a)|0;t=j;qy(e,t,My(l^n,u^r,l,u)|0,j,s)|0;r=My(d[s>>2]^o,d[s+4>>2]^a,o,a)|0;n=j;w=i;return(j=n,r)|0}function Gy(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;i=e;a=n;n=Uy(i,a)|0;e=j;return(j=(fe(t,a)|0)+(fe(r,i)|0)+e|e&0,n|0|0)|0}function Wy(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;return qy(e,t,n,r,0)|0}function Hy(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;a=w;w=w+16|0;i=a|0;qy(e,t,n,r,i)|0;w=a;return(j=d[i+4>>2]|0,d[i>>2]|0)|0}function qy(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0,m=0;c=e;u=t;l=u;o=n;h=r;s=h;if(!l){a=(i|0)!=0;if(!s){if(a){d[i>>2]=(c>>>0)%(o>>>0);d[i+4>>2]=0}h=0;i=(c>>>0)/(o>>>0)>>>0;return(j=h,i)|0}else{if(!a){h=0;i=0;return(j=h,i)|0}d[i>>2]=e|0;d[i+4>>2]=t&0;h=0;i=0;return(j=h,i)|0}}a=(s|0)==0;do{if(o){if(!a){a=(de(s|0)|0)-(de(l|0)|0)|0;if(a>>>0<=31){f=a+1|0;s=31-a|0;t=a-31>>31;o=f;e=c>>>(f>>>0)&t|l<<s;t=l>>>(f>>>0)&t;a=0;s=c<<s;break}if(!i){h=0;i=0;return(j=h,i)|0}d[i>>2]=e|0;d[i+4>>2]=u|t&0;h=0;i=0;return(j=h,i)|0}a=o-1|0;if(a&o){s=(de(o|0)|0)+33-(de(l|0)|0)|0;m=64-s|0;f=32-s|0;u=f>>31;p=s-32|0;t=p>>31;o=s;e=f-1>>31&l>>>(p>>>0)|(l<<f|c>>>(s>>>0))&t;t=t&l>>>(s>>>0);a=c<<m&u;s=(l<<m|c>>>(p>>>0))&u|c<<f&s-33>>31;break}if(i){d[i>>2]=a&c;d[i+4>>2]=0}if((o|0)==1){p=u|t&0;m=e|0|0;return(j=p,m)|0}else{m=zy(o|0)|0;p=l>>>(m>>>0)|0;m=l<<32-m|c>>>(m>>>0)|0;return(j=p,m)|0}}else{if(a){if(i){d[i>>2]=(l>>>0)%(o>>>0);d[i+4>>2]=0}p=0;m=(l>>>0)/(o>>>0)>>>0;return(j=p,m)|0}if(!c){if(i){d[i>>2]=0;d[i+4>>2]=(l>>>0)%(s>>>0)}p=0;m=(l>>>0)/(s>>>0)>>>0;return(j=p,m)|0}a=s-1|0;if(!(a&s)){if(i){d[i>>2]=e|0;d[i+4>>2]=a&l|t&0}p=0;m=l>>>((zy(s|0)|0)>>>0);return(j=p,m)|0}a=(de(s|0)|0)-(de(l|0)|0)|0;if(a>>>0<=30){t=a+1|0;s=31-a|0;o=t;e=l<<s|c>>>(t>>>0);t=l>>>(t>>>0);a=0;s=c<<s;break}if(!i){p=0;m=0;return(j=p,m)|0}d[i>>2]=e|0;d[i+4>>2]=u|t&0;p=0;m=0;return(j=p,m)|0}}while(0);if(!o){l=s;u=0;s=0}else{f=n|0|0;c=h|r&0;l=Ry(f|0,c|0,-1,-1)|0;n=j;u=s;s=0;do{r=u;u=a>>>31|u<<1;a=s|a<<1;r=e<<1|r>>>31|0;h=e>>>31|t<<1|0;My(l,n,r,h)|0;m=j;p=m>>31|((m|0)<0?-1:0)<<1;s=p&1;e=My(r,h,p&f,(((m|0)<0?-1:0)>>31|((m|0)<0?-1:0)<<1)&c)|0;t=j;o=o-1|0}while((o|0)!=0);l=u;u=0}o=0;if(i){d[i>>2]=e;d[i+4>>2]=t}p=(a|0)>>>31|(l|o)<<1|(o<<1|a>>>31)&0|u;m=(a<<1|0>>>31)&-2|s;return(j=p,m)|0}function Qy(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;return h_[e&15](t|0,n|0,r|0,i|0,a|0,o|0,s|0)|0}function Xy(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;d_[e&15](t|0,n|0,r|0,i|0,a|0)}function Yy(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=+o;return p_[e&3](t|0,n|0,r|0,i|0,a|0,+o)|0}function Ky(e,t){e=e|0;t=t|0;m_[e&255](t|0)}function Zy(e,t,n){e=e|0;t=t|0;n=n|0;g_[e&127](t|0,n|0)}function Jy(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;return v_[e&63](t|0,n|0,r|0,i|0,a|0,o|0)|0}function $y(e,t){e=e|0;t=t|0;return y_[e&127](t|0)|0}function eb(e,t,n,r,i,a,o,s,u,l,c,f){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;c=c|0;f=f|0;return b_[e&3](t|0,n|0,r|0,i|0,a|0,o|0,s|0,u|0,l|0,c|0,f|0)|0}function tb(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;return w_[e&63](t|0,n|0,r|0)|0}function nb(e,t,n,r,i,a,o,s,u,l,c,f,h,d,p,m){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;c=c|0;f=f|0;h=h|0;d=d|0;p=p|0;m=m|0;S_[e&3](t|0,n|0,r|0,i|0,a|0,o|0,s|0,u|0,l|0,c|0,f|0,h|0,d|0,p|0,m|0)}function rb(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;x_[e&15](t|0,n|0,r|0,i|0,a|0,o|0)}function ib(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;__[e&7](t|0,n|0,r|0,i|0,a|0,o|0,s|0)}function ab(e,t,n,r,i,a,o,s,u,l,c){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;c=c|0;T_[e&7](t|0,n|0,r|0,i|0,a|0,o|0,s|0,u|0,l|0,c|0)}function ob(e,t,n){e=e|0;t=t|0;n=n|0;return E_[e&63](t|0,n|0)|0}function sb(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;return k_[e&31](t|0,n|0,r|0,i|0,a|0)|0}function ub(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;return+C_[e&3](t|0,n|0,r|0)}function lb(e){e=e|0;return A_[e&15]()|0}function cb(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;return O_[e&31](t|0,n|0,r|0,i|0)|0}function fb(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;I_[e&15](t|0,n|0,r|0)}function hb(e){e=e|0;M_[e&7]()}function db(e,t,n,r,i,a,o,s,u){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;return D_[e&15](t|0,n|0,r|0,i|0,a|0,o|0,s|0,u|0)|0}function pb(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=+a;return R_[e&7](t|0,n|0,r|0,i|0,+a)|0}function mb(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;P_[e&63](t|0,n|0,r|0,i|0)}function gb(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;pe(0);return 0}function vb(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;pe(1)}function yb(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=+a;pe(2);return 0}function bb(e){e=e|0;pe(3)}function wb(e,t){e=e|0;t=t|0;pe(4)}function Sb(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;pe(5);return 0}function xb(e){e=e|0;pe(6);return 0}function _b(e){e=e|0;return pt(e|0)|0}function Tb(e){e=e|0;return Ot(e|0)|0}function Eb(e){e=e|0;return bt(e|0)|0}function kb(e,t,n,r,i,a,o,s,u,l,c){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;c=c|0;pe(7);return 0}function Cb(e,t,n){e=e|0;t=t|0;n=n|0;pe(8);return 0}function Ab(e,t,n,r,i,a,o,s,u,l,c,f,h,d,p){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;c=c|0;f=f|0;h=h|0;d=d|0;p=p|0;pe(9)}function Ob(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;pe(10)}function Ib(e,t,n,r,i,a,o){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;pe(11)}function Mb(e,t,n,r,i,a,o,s,u,l){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;pe(12)}function Db(e,t){e=e|0;t=t|0;pe(13);return 0}function Rb(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;pe(14);return 0}function Pb(e,t,n){e=e|0;t=t|0;n=n|0;pe(15);return 0.0}function Nb(){pe(16);return 0}function Lb(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;pe(17);return 0}function Fb(e,t,n){e=e|0;t=t|0;n=n|0;pe(18)}function Bb(e,t,n){e=e|0;t=t|0;n=n|0;_t(e|0,t|0,n|0)}function zb(){pe(19)}function Ub(){Ct()}function jb(){st()}function Vb(){Tt()}function Gb(e,t,n,r,i,a,o,s){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;pe(20);return 0}function Wb(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=+i;pe(21);return 0}function Hb(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;pe(22)}function qb(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0;l=w;w=w+32|0;s=l;bw(s,255,0);u=e+152|0;if(((d[s+4>>2]|0)==(d[u>>2]|0)?(d[s+8>>2]|0)==(d[e+156>>2]|0):0)?(d[s+12>>2]|0)==(d[e+160>>2]|0):0){u=d[8900]|0;d[e+4580>>2]=u+(((d[8901]|0)-u|0)>>>1);w=l;return}n=e+4584|0;r=e+4588|0;i=d[r>>2]|0;t=d[n>>2]|0;a=i-t|0;if(a>>>0>=512){if(a>>>0>512?(o=t+512|0,(i|0)!=(o|0)):0)d[r>>2]=o}else{$r(n,512-a|0);t=d[n>>2]|0}s=e+4580|0;d[s>>2]=t+256;o=e+160|0;i=e+156|0;a=-256;while(1){t=d[o>>2]|0;if((a|0)>(0-t|0)){n=d[i>>2]|0;if((a|0)>(0-n|0)){r=d[u>>2]|0;if((a|0)>(0-r|0)){if((a|0)>=0){if((a|0)<1){f[(d[s>>2]|0)+a>>0]=0;a=1;continue}if((r|0)<=(a|0)){if((n|0)>(a|0))t=2;else t=(t|0)>(a|0)?3:4}else t=1}else t=-1}else t=-2}else t=-3}else t=-4;f[(d[s>>2]|0)+a>>0]=t;a=a+1|0;if((a|0)==256)break}w=l;return}function Qb(e){e=e|0;var t=0,n=0;d[e>>2]=35660;t=d[e+4608>>2]|0;if(t){n=e+4612|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}e=e+88|0;t=d[e>>2]|0;d[e>>2]=0;if(!t)return;m_[d[(d[t>>2]|0)+4>>2]&255](t);return}function Xb(e){e=e|0;var t=0,n=0;d[e>>2]=35660;t=d[e+4608>>2]|0;if(t){n=e+4612|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}d[e>>2]=36736;t=d[e+92>>2]|0;if(t){n=e+96|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t)}n=e+88|0;t=d[n>>2]|0;d[n>>2]=0;if(!t){Hw(e);return}m_[d[(d[t>>2]|0)+4>>2]&255](t);Hw(e);return}function Yb(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;b=w;w=w+352|0;S=b+328|0;x=b+192|0;n=b+343|0;r=b+342|0;i=b+341|0;a=b+340|0;p=b+176|0;s=b+168|0;u=b+160|0;l=b+152|0;y=b;g=b+136|0;if((d[e+28>>2]|0)!=0?(d[e+20>>2]|0)!=1:0){m=e+4|0;v=e+32|0;o=d[v>>2]|0;if(!o){e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[n>>0]|0;Be(44,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}e=d[e+12>>2]|0;if((e|0)==8)switch(o|0){case 1:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[r>>0]|0;Be(45,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[i>>0]|0;Be(46,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(48)|0;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];f[S>>0]=f[a>>0]|0;Be(47,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=x+56|0;i=x+4|0;d[x>>2]=36160;d[o>>2]=36180;k=0;we(62,x+56|0,i|0);b=k;k=0;if(b&1){_=Ze()|0;pd(o);ut(_|0)}d[x+128>>2]=0;d[x+132>>2]=-1;d[x>>2]=36200;d[x+56>>2]=36220;k=0;be(180,i|0);b=k;k=0;do{if(b&1)e=Ze()|0;else{d[i>>2]=36236;a=x+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[x+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);b=k;k=0;if(b&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,x|0,49007,21)|0;S=k;k=0;do{if((!(S&1)?(k=0,c=Oe(36,e|0,d[v>>2]|0)|0,S=k,k=0,!(S&1)):0)?(k=0,Te(28,c|0,50997,18)|0,S=k,k=0,!(S&1)):0){r=Ke(16)|0;k=0;we(64,p|0,i|0);S=k;k=0;if(!(S&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,p|0);S=k;k=0;if(S&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(p);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=34}while(0);if((_|0)==34)e=Ze()|0;d[x>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}if((e|0)<=8){e=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,e|0,8,35648);_=k;k=0;if(!(_&1))_t(e|0,824,96);_=Ze()|0;Ye(e|0);ut(_|0)}n=16-e|0;switch(o|0){case 1:{e=Ww(60)|0;d[s>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[s>>2];d[S+4>>2]=d[s+4>>2];Be(41,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 2:{e=Ww(60)|0;d[u>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[u>>2];d[S+4>>2]=d[u+4>>2];Be(42,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}case 3:{e=Ww(60)|0;d[l>>2]=n;k=0;d[x>>2]=d[t>>2];d[x+4>>2]=d[t+4>>2];d[x+8>>2]=d[t+8>>2];d[S>>2]=d[l>>2];d[S+4>>2]=d[l+4>>2];Be(43,e|0,x|0,m|0,S|0);_=k;k=0;if(!(_&1)){_=e;w=b;return _|0}_=Ze()|0;Hw(e);ut(_|0)}default:{o=y+56|0;i=y+4|0;d[y>>2]=36160;d[o>>2]=36180;k=0;we(62,y+56|0,i|0);x=k;k=0;if(x&1){_=Ze()|0;pd(o);ut(_|0)}d[y+128>>2]=0;d[y+132>>2]=-1;d[y>>2]=36200;d[y+56>>2]=36220;k=0;be(180,i|0);x=k;k=0;do{if(x&1)e=Ze()|0;else{d[i>>2]=36236;a=y+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[y+52>>2]=16;d[S>>2]=0;d[S+4>>2]=0;d[S+8>>2]=0;k=0;we(63,i|0,S|0);x=k;k=0;if(x&1){e=Ze()|0;Gh(S);Gh(a);Sd(i);break}Gh(S);k=0;e=Te(28,y|0,49007,21)|0;x=k;k=0;do{if((!(x&1)?(k=0,h=Oe(36,e|0,d[v>>2]|0)|0,x=k,k=0,!(x&1)):0)?(k=0,Te(28,h|0,50997,18)|0,x=k,k=0,!(x&1)):0){r=Ke(16)|0;k=0;we(64,g|0,i|0);x=k;k=0;if(!(x&1)){if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Be(36,r|0,9,35648,g|0);x=k;k=0;if(x&1)n=1;else{k=0;Pe(6,r|0,824,96);k=0;n=0}e=Ze()|0;Gh(g);if(!n)break}else e=Ze()|0;Ye(r|0)}else _=64}while(0);if((_|0)==64)e=Ze()|0;d[y>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);_=e;ut(_|0)}}while(0);_=e;pd(o);ut(_|0)}}}n=d[t+4>>2]|0;r=Ww(16)|0;e=d[e+16>>2]|0;if(!n){_=d[t>>2]|0;d[r>>2]=36132;d[r+4>>2]=_;d[r+8>>2]=1;d[r+12>>2]=e;_=r;w=b;return _|0}else{d[r>>2]=36108;d[r+4>>2]=n;d[r+8>>2]=1;d[r+12>>2]=e;_=r;w=b;return _|0}return 0}function Kb(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0;o=w;w=w+32|0;u=o;bw(u,d[e+128>>2]|0,d[e+136>>2]|0);s=d[t+4>>2]|0;a=d[t+8>>2]|0;a=(a|0)==0?d[u+8>>2]|0:a;i=d[t+12>>2]|0;i=(i|0)==0?d[u+12>>2]|0:i;n=d[t+16>>2]|0;r=d[u+16>>2]|0;d[e+176>>2]=(s|0)==0?d[u+4>>2]|0:s;d[e+180>>2]=a;d[e+184>>2]=i;iw(e);i=e+132|0;t=(d[i>>2]|0)+32|0;t=(t|0)<128?2:(t|0)/64|0;a=0;do{d[e+188+(a*12|0)>>2]=t;d[e+188+(a*12|0)+4>>2]=0;h[e+188+(a*12|0)+8>>1]=0;h[e+188+(a*12|0)+10>>1]=1;a=a+1|0}while((a|0)!=365);s=(d[i>>2]|0)+32|0;s=(s|0)<128?2:(s|0)/64|0;u=((n|0)==0?r:n)&255;d[e+4568>>2]=s;d[e+4572>>2]=0;f[e+4576>>0]=u;f[e+4577>>0]=1;f[e+4578>>0]=0;d[e+4580>>2]=s;d[e+4584>>2]=1;f[e+4588>>0]=u;f[e+4589>>0]=1;f[e+4590>>0]=0;d[e+4592>>2]=0;w=o;return}function Zb(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0;o=e+88|0;a=d[t>>2]|0;d[t>>2]=0;t=d[o>>2]|0;d[o>>2]=a;if(t)m_[d[(d[t>>2]|0)+4>>2]&255](t);o=r+4|0;a=d[o>>2]|0;f[e+4620>>0]=i&1;t=e+156|0;d[t>>2]=d[n>>2];d[t+4>>2]=d[n+4>>2];d[t+8>>2]=d[n+8>>2];d[t+12>>2]=d[n+12>>2];zr(e,r);Jb(e);t=d[e+116>>2]|0;e=d[e+112>>2]|0;while(1){i=t+-1|0;n=(f[i>>0]|0)==-1?7:8;if((e|0)<(n|0))break;else{t=i;e=e-n|0}}t=t-a|0;i=d[o>>2]|0;if(!i)return;d[o>>2]=i+t;r=r+8|0;d[r>>2]=(d[r>>2]|0)-t;return}function Jb(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,C=0,A=0,O=0;E=w;w=w+32|0;A=E+12|0;T=E;s=e+172|0;_=(d[s>>2]|0)+4|0;if((d[e+28>>2]|0)==1)u=d[e+20>>2]|0;else u=1;t=fe(u<<1,_)|0;d[A>>2]=0;O=A+4|0;d[O>>2]=0;d[A+8>>2]=0;e:do{if(t){if(!((t|0)<0?(k=0,be(178,A|0),C=k,k=0,C&1):0))x=6;if((x|0)==6?(k=0,n=xe(67,t|0)|0,C=k,k=0,!(C&1)):0){d[O>>2]=n;d[A>>2]=n;d[A+8>>2]=n+t;while(1){f[n>>0]=0;n=(d[O>>2]|0)+1|0;d[O>>2]=n;t=t+-1|0;if(!t)break e}}n=Ze()|0;t=d[A>>2]|0;if(!t)ut(n|0);if((d[O>>2]|0)!=(t|0))d[O>>2]=t;Hw(t);ut(n|0)}}while(0);d[T>>2]=0;C=T+4|0;d[C>>2]=0;d[T+8>>2]=0;do{if(!u)x=19;else{if(!(u>>>0>1073741823?(k=0,be(178,T|0),S=k,k=0,S&1):0))x=17;if((x|0)==17?(r=u<<2,k=0,i=xe(67,r|0)|0,S=k,k=0,!(S&1)):0){d[T>>2]=i;x=i+(u<<2)|0;d[T+8>>2]=x;Dy(i|0,0,r|0)|0;d[C>>2]=x;x=19;break}n=Ze()|0;t=d[T>>2]|0;r=t;if(t){i=d[C>>2]|0;if((i|0)!=(t|0))d[C>>2]=i+(~((i+-4-r|0)>>>2)<<2);Hw(t)}}}while(0);if((x|0)==19){l=e+8|0;t=d[l>>2]|0;e:do{if((t|0)>0){c=e+4596|0;h=fe(u,_)|0;p=h+1|0;m=e+4600|0;g=e+160|0;v=e+168|0;y=e+164|0;b=e+156|0;S=e+88|0;o=e+4592|0;if((u|0)>0)a=0;else{a=0;while(1){i=d[A>>2]|0;n=i+1|0;d[c>>2]=n;r=i+p|0;d[m>>2]=r;if(!(a&1))n=p;else{d[c>>2]=r;d[m>>2]=n;n=1}u=d[g>>2]|0;if((u|0)<=(a|0)?(a|0)<((d[v>>2]|0)+u|0):0){u=d[S>>2]|0;k=0;Be(d[(d[u>>2]|0)+8>>2]|0,u|0,i+(n+((d[b>>2]|0)-h))|0,d[y>>2]|0,_|0);u=k;k=0;if(u&1)break;t=d[l>>2]|0}a=a+1|0;if((a|0)>=(t|0)){x=50;break e}}n=Ze()|0;break}t:while(1){n=d[A>>2]|0;t=n+1|0;d[c>>2]=t;n=n+p|0;d[m>>2]=n;if(a&1){d[c>>2]=n;d[m>>2]=t;t=n}i=d[T>>2]|0;n=t;r=0;do{d[o>>2]=d[i+(r<<2)>>2];x=d[s>>2]|0;f[n+x>>0]=f[n+(x+-1)>>0]|0;f[(d[m>>2]|0)+-1>>0]=f[d[c>>2]>>0]|0;k=0;we(83,e|0,0);x=k;k=0;if(x&1){x=38;break t}i=d[T>>2]|0;d[i+(r<<2)>>2]=d[o>>2];n=(d[c>>2]|0)+_|0;d[c>>2]=n;t=d[m>>2]|0;d[m>>2]=t+_;r=r+1|0}while((r|0)<(u|0));x=d[g>>2]|0;if(((x|0)<=(a|0)?(a|0)<((d[v>>2]|0)+x|0):0)?(x=d[S>>2]|0,k=0,Be(d[(d[x>>2]|0)+8>>2]|0,x|0,t+(_+((d[b>>2]|0)-h))|0,d[y>>2]|0,_|0),x=k,k=0,x&1):0){x=30;break}a=a+1|0;if((a|0)>=(d[l>>2]|0)){x=50;break e}}if((x|0)==30){n=Ze()|0;break}else if((x|0)==38){n=Ze()|0;break}}else x=50}while(0);do{if((x|0)==50){k=0;be(183,e|0);e=k;k=0;if(e&1){n=Ze()|0;break}t=d[T>>2]|0;n=t;if(t){r=d[C>>2]|0;if((r|0)!=(t|0))d[C>>2]=r+(~((r+-4-n|0)>>>2)<<2);Hw(t)}t=d[A>>2]|0;if(!t){w=E;return}if((d[O>>2]|0)!=(t|0))d[O>>2]=t;Hw(t);w=E;return}}while(0);t=d[T>>2]|0;r=t;if(t){i=d[C>>2]|0;if((i|0)!=(t|0))d[C>>2]=i+(~((i+-4-r|0)>>>2)<<2);Hw(t)}}t=d[A>>2]|0;if(!t)ut(n|0);if((d[O>>2]|0)!=(t|0))d[O>>2]=t;Hw(t);ut(n|0)}function $b(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0,y=0,b=0;m=e+4596|0;n=d[m>>2]|0;b=e+172|0;t=d[b>>2]|0;if((t|0)<=0)return;g=e+4600|0;v=e+4604|0;y=e+4592|0;s=n;a=p[n+-1>>0]|0;n=p[n>>0]|0;h=0;while(1){l=d[g>>2]|0;o=f[l+(h+-1)>>0]|0;c=o&255;i=h+1|0;r=p[s+i>>0]|0;u=d[v>>2]|0;s=n-a|0;a=a-c|0;u=((((f[u+(r-n)>>0]|0)*9|0)+(f[u+s>>0]|0)|0)*9|0)+(f[u+a>>0]|0)|0;l=l+h|0;if(!u){t=tw(e,o,l,t-h|0)|0;n=t+h|0;if((n|0)!=(d[b>>2]|0)){c=nw(e,c,p[(d[m>>2]|0)+n>>0]|0)|0;f[(d[g>>2]|0)+n>>0]=c;c=d[y>>2]|0;d[y>>2]=(c|0)<1?0:c+-1|0;t=t+1|0}i=t+h|0;r=d[m>>2]|0;n=p[r+(i+-1)>>0]|0;r=p[r+i>>0]|0}else{t=n-c>>31;if((t^a|0)<0)t=n;else t=c+((t^s|0)<0?0:s)|0;c=ew(e,u,p[l>>0]|0,t,0)|0;f[(d[g>>2]|0)+h>>0]=c}t=d[b>>2]|0;if((t|0)<=(i|0))break;s=d[m>>2]|0;a=n;n=r;h=i}return}function ew(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,p=0,m=0,g=0,v=0;v=t>>31;u=(v^t)-v|0;m=e+188+(u*12|0)+10|0;n=h[m>>1]|0;p=e+188+(u*12|0)|0;i=d[p>>2]|0;if((n|0)<(i|0)){if((n<<1|0)<(i|0)){if((n<<2|0)<(i|0)){if((n<<3|0)<(i|0)){if((n<<4|0)<(i|0)){t=5;while(1){if((n<<t|0)<(i|0))t=t+1|0;else break}}else t=4}else t=3}else t=2}else t=1}else t=0;c=e+188+(u*12|0)+8|0;n=(h[c>>1]^v)-v+r|0;g=e+128|0;i=d[g>>2]|0;if((n&i|0)==(n|0))l=n;else l=i&~(n>>31);n=e+112|0;if((d[n>>2]|0)<8)Zr(e);i=e+108|0;r=d[i>>2]|0;a=r>>>24;o=d[2832+(t<<11)+(a<<3)+4>>2]|0;if(!o){s=d[e+148>>2]|0;i=d[e+140>>2]|0;n=ko(e)|0;if((n|0)<(s+-1-i|0)){if(t)n=(Co(e,t)|0)+(n<<t)|0}else n=(Co(e,i)|0)+1|0;n=n<<31>>31^n>>1;if((((n|0)>-1?n:0-n|0)|0)>65535){n=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,n|0,5,35648);e=k;k=0;if(e&1){e=Ze()|0;Ye(n|0);ut(e|0)}else _t(n|0,824,96)}}else{d[n>>2]=(d[n>>2]|0)-o;d[i>>2]=r<<o;n=d[2832+(t<<11)+(a<<3)>>2]|0}s=e+136|0;r=d[s>>2]|0;if(!t){if(!r)i=(d[e+188+(u*12|0)+4>>2]<<1)+-1+(h[m>>1]|0)>>31;else i=0;o=i^n}else o=n;t=d[e+152>>2]|0;i=(d[p>>2]|0)+((o|0)>-1?o:0-o|0)|0;a=e+188+(u*12|0)+4|0;n=(d[a>>2]|0)+(fe(r<<1|1,o)|0)|0;r=h[m>>1]|0;if((r|0)==(t|0)){i=i>>1;n=n>>1;r=t>>1}d[p>>2]=i;t=r+1|0;h[m>>1]=t;i=t+n|0;if((i|0)>=1){if((n|0)>0){n=n-t|0;m=h[c>>1]|0;h[c>>1]=(m<<16>>16<127&1)+(m&65535);n=(n|0)>0?0:n}}else{n=h[c>>1]|0;h[c>>1]=(n&65535)-(n<<16>>16>-128&1);n=(i|0)>(~r|0)?i:0-r|0}d[a>>2]=n;t=d[s>>2]|0;r=t<<1|1;i=(fe(r,(o^v)-v|0)|0)+l|0;if((i|0)>=(0-t|0)){n=d[g>>2]|0;if((n+t|0)<(i|0))i=i-(fe(d[e+132>>2]|0,r)|0)|0}else{i=(fe(d[e+132>>2]|0,r)|0)+i|0;n=d[g>>2]|0}if((i&n|0)==(i|0)){e=i;e=e&255;return e|0}e=n&~(i>>31);e=e&255;return e|0}function tw(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0;s=e+112|0;u=e+108|0;l=e+4592|0;i=d[s>>2]|0;a=0;while(1){if((i|0)<1){Zr(e);i=d[s>>2]|0}o=d[u>>2]|0;i=i+-1|0;d[s>>2]=i;d[u>>2]=o<<1;if((o|0)>=0){c=8;break}o=d[l>>2]|0;h=1<<d[36476+(o<<2)>>2];p=r-a|0;p=(h|0)<(p|0)?h:p;a=p+a|0;if((p|0)==(h|0))d[l>>2]=(o|0)>30?31:o+1|0;if((a|0)==(r|0)){i=r;break}}if((c|0)==8)if((a|0)!=(r|0)){i=d[l>>2]|0;if((i+-4|0)>>>0<28)i=Co(e,d[36476+(i<<2)>>2]|0)|0;else i=0;i=i+a|0;if((i|0)>(r|0)){i=Ke(16)|0;if((f[8]|0)==0?(He(8)|0)!=0:0){xt(72,35648,E|0)|0;$e(8)}k=0;Pe(7,i|0,5,35648);p=k;k=0;if(p&1){p=Ze()|0;Ye(i|0);ut(p|0)}else _t(i|0,824,96)}}else i=r;if((i|0)<=0)return i|0;Dy(n|0,t|0,i|0)|0;return i|0}function nw(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;a=t-n|0;o=e+128|0;r=e+136|0;if((((a|0)>-1?a:0-a|0)|0)>(d[r>>2]|0)){t=fe(rw(e,e+4568|0)|0,n-t>>31|1)|0;i=d[r>>2]|0;a=i<<1|1;t=(fe(t,a)|0)+n|0;if((t|0)>=(0-i|0)){r=d[o>>2]|0;if((r+i|0)<(t|0))t=t-(fe(d[e+132>>2]|0,a)|0)|0}else{t=(fe(d[e+132>>2]|0,a)|0)+t|0;r=d[o>>2]|0}if((t&r|0)==(t|0)){e=t;e=e&255;return e|0}e=r&~(t>>31);e=e&255;return e|0}else{n=rw(e,e+4580|0)|0;a=d[r>>2]|0;i=a<<1|1;t=(fe(i,n)|0)+t|0;if((t|0)>=(0-a|0)){r=d[o>>2]|0;if((r+a|0)<(t|0))t=t-(fe(d[e+132>>2]|0,i)|0)|0}else{t=(fe(d[e+132>>2]|0,i)|0)+t|0;r=d[o>>2]|0}if((t&r|0)==(t|0)){e=t;e=e&255;return e|0}e=r&~(t>>31);e=e&255;return e|0}return 0}function rw(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0;l=t+9|0;n=p[l>>0]|0;a=t+4|0;i=(fe(n>>>1,d[a>>2]|0)|0)+(d[t>>2]|0)|0;if((n|0)<(i|0)){r=0;do{n=n<<1;r=r+1|0}while((n|0)<(i|0))}else r=0;o=d[e+148>>2]|0;s=d[36476+(d[e+4592>>2]<<2)>>2]|0;n=d[e+140>>2]|0;i=ko(e)|0;do{if((i|0)<(o+-2-s-n|0)){if(!r){r=d[a>>2]|0;e=r+i|0;n=e&1;e=(n+e|0)/2|0;u=8;break}else{s=(Co(e,r)|0)+(i<<r)|0;r=d[a>>2]|0;i=s+r|0;o=i&1;n=o;a=1;i=(o+i|0)/2|0;break}}else{i=(Co(e,n)|0)+1|0;o=d[a>>2]|0;e=i+o|0;n=e&1;e=(n+e|0)/2|0;if(!r){r=o;u=8}else{s=i;a=1;i=e;r=o}}}while(0);if((u|0)==8){s=i;a=p[t+10>>0]<<1>>>0>=(p[l>>0]|0)>>>0;i=e}i=(n|0)!=0^a?i:0-i|0;if((i|0)<0){u=t+10|0;f[u>>0]=(p[u>>0]|0)+1}n=(s+1-r>>1)+(d[t>>2]|0)|0;d[t>>2]=n;r=f[l>>0]|0;if(r<<24>>24!=(f[t+8>>0]|0)){t=r;t=t&255;t=t+1|0;t=t&255;f[l>>0]=t;return i|0}d[t>>2]=n>>1;u=(r&255)>>>1;f[l>>0]=u;t=t+10|0;f[t>>0]=(p[t>>0]|0)>>>1;t=u;t=t&255;t=t+1|0;t=t&255;f[l>>0]=t;return i|0}function iw(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0;p=w;w=w+32|0;r=p;h=e+136|0;e:do{if(!(d[h>>2]|0)){n=d[e+128>>2]|0;t=e+144|0;if((((n|0)==((1<<d[t>>2])+-1|0)?(bw(r,n,0),(d[r+4>>2]|0)==(d[e+176>>2]|0)):0)?(d[r+8>>2]|0)==(d[e+180>>2]|0):0)?(d[r+12>>2]|0)==(d[e+184>>2]|0):0)switch(d[t>>2]|0){case 8:{h=d[8900]|0;d[e+4604>>2]=h+(((d[8901]|0)-h|0)>>>1);w=p;return}case 10:{h=d[8903]|0;d[e+4604>>2]=h+(((d[8904]|0)-h|0)>>>1);w=p;return}case 12:{h=d[8906]|0;d[e+4604>>2]=h+(((d[8907]|0)-h|0)>>>1);w=p;return}case 16:{h=d[8909]|0;d[e+4604>>2]=h+(((d[8910]|0)-h|0)>>>1);w=p;return}default:break e}}else t=e+144|0}while(0);c=1<<d[t>>2];n=e+4608|0;r=c<<1;i=e+4612|0;a=d[i>>2]|0;t=d[n>>2]|0;o=a-t|0;if(r>>>0<=o>>>0){if(r>>>0<o>>>0?(s=t+r|0,(a|0)!=(s|0)):0)d[i>>2]=s}else{$r(n,r-o|0);t=d[n>>2]|0}l=e+4604|0;d[l>>2]=t+c;t=0-c|0;if((c|0)<=(t|0)){w=p;return}s=e+184|0;u=e+180|0;o=e+176|0;a=t;do{t=d[s>>2]|0;if((a|0)>(0-t|0)){n=d[u>>2]|0;if((a|0)>(0-n|0)){r=d[o>>2]|0;if((a|0)>(0-r|0)){i=d[h>>2]|0;if((a|0)>=(0-i|0)){if((i|0)<(a|0)){if((r|0)<=(a|0)){if((n|0)>(a|0))t=2;else t=(t|0)>(a|0)?3:4}else t=1}else t=0}else t=-1}else t=-2}else t=-3}else t=-4;f[(d[l>>2]|0)+a>>0]=t;a=a+1|0}while((a|0)!=(c|0));w=p;return}function aw(e){e=e|0;Hw(e);return}function ow(e){e=e|0;return 50767}function sw(e,t,n){e=e|0;t=t|0;n=n|0;jh(e,50754,12);return}function uw(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0;g=w;w=w+16|0;v=g;d[v>>2]=0;y=v+4|0;d[y>>2]=0;d[v+8>>2]=0;p=v+8|0;k=0;i=xe(67,1)|0;h=k;k=0;e:do{if((!(h&1)?(h=i+1|0,f[i>>0]=n,d[v>>2]=i,d[y>>2]=h,d[p>>2]=h,k=0,we(84,v|0,t&65535|0),h=k,k=0,!(h&1)):0)?(k=0,we(84,v|0,e&65535|0),h=k,k=0,!(h&1)):0){l=r&255;i=d[y>>2]|0;n=d[p>>2]|0;if(i>>>0>=n>>>0){t=d[v>>2]|0;e=t;o=i-e+1|0;if((o|0)<0){k=0;be(178,v|0);h=k;k=0;if(h&1){m=52;break}e=d[v>>2]|0;n=d[p>>2]|0;t=e}u=t;i=n-u|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i;n=d[y>>2]|0;s=n-u|0;if(!i){i=0;o=0}else m=12}else{s=d[y>>2]|0;i=2147483647;n=s;s=s-u|0;m=12}if((m|0)==12){k=0;o=xe(67,i|0)|0;h=k;k=0;if(h&1){m=52;break}}f[o+s>>0]=l;c=n-u|0;h=o+(s-c)|0;Ny(h|0,t|0,c|0)|0;d[v>>2]=h;d[y>>2]=o+(s+1);d[p>>2]=o+i;if(e)Hw(e)}else{f[i>>0]=l;d[y>>2]=(d[y>>2]|0)+1}t:do{if((r|0)>0){h=0;while(1){h=h+1|0;c=h&255;i=d[y>>2]|0;t=d[p>>2]|0;if(i>>>0>=t>>>0){e=d[v>>2]|0;n=e;o=i-n+1|0;if((o|0)<0){k=0;be(178,v|0);l=k;k=0;if(l&1)break;e=d[v>>2]|0;n=e;t=d[p>>2]|0}l=e;i=t-l|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i;t=d[y>>2]|0;s=t-l|0;if(!i){u=0;o=0}else m=25}else{s=d[y>>2]|0;i=2147483647;t=s;s=s-l|0;m=25}if((m|0)==25){m=0;k=0;o=xe(67,i|0)|0;u=k;k=0;if(u&1)break;else u=i}f[o+s>>0]=c;i=o+(s+1)|0;l=t-l|0;c=o+(s-l)|0;Ny(c|0,e|0,l|0)|0;d[v>>2]=c;d[y>>2]=i;d[p>>2]=o+u;if(n){Hw(n);i=d[y>>2]|0}}else{f[i>>0]=c;i=(d[y>>2]|0)+1|0;d[y>>2]=i}n=d[p>>2]|0;if(i>>>0>=n>>>0){t=d[v>>2]|0;e=t;o=i-e+1|0;if((o|0)<0){k=0;be(178,v|0);c=k;k=0;if(c&1)break;e=d[v>>2]|0;n=d[p>>2]|0;t=e}l=t;i=n-l|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i;o=d[y>>2]|0;s=o-l|0;if(!i){u=0;n=0}else m=36}else{s=d[y>>2]|0;i=2147483647;o=s;s=s-l|0;m=36}if((m|0)==36){m=0;k=0;n=xe(67,i|0)|0;c=k;k=0;if(c&1)break;else u=i}f[n+s>>0]=17;i=n+(s+1)|0;l=o-l|0;c=n+(s-l)|0;Ny(c|0,t|0,l|0)|0;d[v>>2]=c;d[y>>2]=i;d[p>>2]=n+u;if(e){Hw(e);i=d[y>>2]|0}}else{f[i>>0]=17;i=(d[y>>2]|0)+1|0;d[y>>2]=i}n=d[p>>2]|0;if(i>>>0>=n>>>0){t=d[v>>2]|0;e=t;o=i-e+1|0;if((o|0)<0){k=0;be(178,v|0);c=k;k=0;if(c&1)break;e=d[v>>2]|0;n=d[p>>2]|0;t=e}u=t;i=n-u|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i;n=d[y>>2]|0;s=n-u|0;if(!i){i=0;o=0}else m=48}else{s=d[y>>2]|0;i=2147483647;n=s;s=s-u|0;m=48}if((m|0)==48){m=0;k=0;o=xe(67,i|0)|0;c=k;k=0;if(c&1)break}f[o+s>>0]=0;l=n-u|0;c=o+(s-l)|0;Ny(c|0,t|0,l|0)|0;d[v>>2]=c;d[y>>2]=o+(s+1);d[p>>2]=o+i;if(e)Hw(e)}else{f[i>>0]=0;d[y>>2]=(d[y>>2]|0)+1}if((h|0)>=(r|0))break t}a=Ze()|0;break e}}while(0);k=0;s=xe(67,20)|0;r=k;k=0;if(!(r&1)){d[s>>2]=36800;f[s+4>>0]=-9;e=s+8|0;d[e>>2]=0;o=s+12|0;d[o>>2]=0;n=s+16|0;d[n>>2]=0;i=d[y>>2]|0;r=d[v>>2]|0;t=i-r|0;do{if((i|0)!=(r|0)){if(!((t|0)<0?(k=0,be(178,e|0),r=k,k=0,r&1):0))m=62;if((m|0)==62?(k=0,a=xe(67,t|0)|0,r=k,k=0,!(r&1)):0){d[o>>2]=a;d[e>>2]=a;d[n>>2]=a+t;i=d[v>>2]|0;n=d[y>>2]|0;if((i|0)==(n|0))break;do{f[a>>0]=f[i>>0]|0;a=(d[o>>2]|0)+1|0;d[o>>2]=a;i=i+1|0}while((i|0)!=(n|0));i=d[v>>2]|0;break}a=Ze()|0;i=d[e>>2]|0;if(i){if((d[o>>2]|0)!=(i|0))d[o>>2]=i;Hw(i)}Hw(s);break e}}while(0);if(!i){w=g;return s|0}if((d[y>>2]|0)!=(i|0))d[y>>2]=i;Hw(i);w=g;return s|0}else m=52}else m=52}while(0);if((m|0)==52)a=Ze()|0;i=d[v>>2]|0;if(!i)ut(a|0);if((d[y>>2]|0)!=(i|0))d[y>>2]=i;Hw(i);ut(a|0);return 0}function lw(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0,_=0;y=w;w=w+32|0;m=y+28|0;S=y+16|0;v=y+4|0;g=y;d[S>>2]=0;x=S+4|0;d[x>>2]=0;d[S+8>>2]=0;h=Ww(5)|0;d[S>>2]=h;p=S+8|0;d[p>>2]=h+5;f[h>>0]=74;f[h+1>>0]=70;f[h+2>>0]=73;f[h+3>>0]=70;f[h+4>>0]=0;d[x>>2]=h+5;k=0;we(84,S|0,d[e>>2]&65535|0);h=k;k=0;e:do{if(!(h&1)){l=d[e+4>>2]&255;t=d[x>>2]|0;r=d[p>>2]|0;if(t>>>0>=r>>>0){i=d[S>>2]|0;a=i;o=t-a+1|0;if((o|0)<0){k=0;be(178,S|0);h=k;k=0;if(h&1){b=43;break}a=d[S>>2]|0;r=d[p>>2]|0;i=a}u=i;t=r-u|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<o>>>0?o:t;r=d[x>>2]|0;s=r-u|0;if(!t){t=0;o=0}else b=10}else{s=d[x>>2]|0;t=2147483647;r=s;s=s-u|0;b=10}if((b|0)==10){k=0;o=xe(67,t|0)|0;h=k;k=0;if(h&1){b=43;break}}f[o+s>>0]=l;c=r-u|0;h=o+(s-c)|0;Ny(h|0,i|0,c|0)|0;d[S>>2]=h;d[x>>2]=o+(s+1);d[p>>2]=o+t;if(a)Hw(a)}else{f[t>>0]=l;d[x>>2]=(d[x>>2]|0)+1}k=0;we(84,S|0,d[e+8>>2]&65535|0);h=k;k=0;if(!(h&1)?(k=0,we(84,S|0,d[e+12>>2]&65535|0),h=k,k=0,!(h&1)):0){h=e+16|0;c=d[h>>2]&255;t=d[x>>2]|0;i=d[p>>2]|0;if(t>>>0>=i>>>0){a=d[S>>2]|0;r=a;o=t-r+1|0;if((o|0)<0){k=0;be(178,S|0);l=k;k=0;if(l&1){b=43;break}a=d[S>>2]|0;r=a;i=d[p>>2]|0}l=a;t=i-l|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<o>>>0?o:t;o=d[x>>2]|0;s=o-l|0;if(!t){u=0;i=0}else b=23}else{s=d[x>>2]|0;t=2147483647;o=s;s=s-l|0;b=23}if((b|0)==23){k=0;i=xe(67,t|0)|0;u=k;k=0;if(u&1){b=43;break}else u=t}f[i+s>>0]=c;t=i+(s+1)|0;l=o-l|0;c=i+(s-l)|0;Ny(c|0,a|0,l|0)|0;d[S>>2]=c;d[x>>2]=t;d[p>>2]=i+u;if(r){Hw(r);t=d[x>>2]|0}}else{f[t>>0]=c;t=(d[x>>2]|0)+1|0;d[x>>2]=t}c=e+20|0;l=d[c>>2]&255;r=d[p>>2]|0;if(t>>>0>=r>>>0){i=d[S>>2]|0;a=i;o=t-a+1|0;if((o|0)<0){k=0;be(178,S|0);u=k;k=0;if(u&1){b=43;break}a=d[S>>2]|0;r=d[p>>2]|0;i=a}u=i;t=r-u|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<o>>>0?o:t;r=d[x>>2]|0;s=r-u|0;if(!t){t=0;o=0}else b=34}else{s=d[x>>2]|0;t=2147483647;r=s;s=s-u|0;b=34}if((b|0)==34){k=0;o=xe(67,t|0)|0;_=k;k=0;if(_&1){b=43;break}}f[o+s>>0]=l;l=r-u|0;_=o+(s-l)|0;Ny(_|0,i|0,l|0)|0;d[S>>2]=_;d[x>>2]=o+(s+1);d[p>>2]=o+t;if(a)Hw(a)}else{f[t>>0]=l;d[x>>2]=(d[x>>2]|0)+1}t=d[h>>2]|0;do{if((t|0)>0){if(!(d[e+24>>2]|0)){d[g>>2]=d[x>>2];_=0+(fe(t*3|0,d[c>>2]|0)|0)|0;k=0;d[m>>2]=d[g>>2];Re(15,S|0,m|0,0,_|0)|0;_=k;k=0;if(_&1){b=43;break e}else break}r=Ke(16)|0;k=0;Pe(5,v|0,50792,57);_=k;k=0;if(!(_&1)){k=0;t=De(1)|0;_=k;k=0;if(!(_&1)?(k=0,Be(36,r|0,1,t|0,v|0),_=k,k=0,!(_&1)):0){k=0;Pe(6,r|0,824,96);k=0;n=0}else n=1;t=Ze()|0;Gh(v);if(!n){n=t;break e}}else t=Ze()|0;Ye(r|0);n=t;break e}}while(0);k=0;s=xe(67,20)|0;_=k;k=0;if(!(_&1)){d[s>>2]=36800;f[s+4>>0]=-32;a=s+8|0;d[a>>2]=0;o=s+12|0;d[o>>2]=0;r=s+16|0;d[r>>2]=0;t=d[x>>2]|0;_=d[S>>2]|0;i=t-_|0;do{if((t|0)!=(_|0)){if(!((i|0)<0?(k=0,be(178,a|0),_=k,k=0,_&1):0))b=53;if((b|0)==53?(k=0,n=xe(67,i|0)|0,_=k,k=0,!(_&1)):0){d[o>>2]=n;d[a>>2]=n;d[r>>2]=n+i;t=d[S>>2]|0;r=d[x>>2]|0;if((t|0)==(r|0))break;do{f[n>>0]=f[t>>0]|0;n=(d[o>>2]|0)+1|0;d[o>>2]=n;t=t+1|0}while((t|0)!=(r|0));t=d[S>>2]|0;break}t=Ze()|0;n=d[a>>2]|0;if(n){if((d[o>>2]|0)!=(n|0))d[o>>2]=n;Hw(n)}Hw(s);b=44;break e}}while(0);if(!t){w=y;return s|0}if((d[x>>2]|0)!=(t|0))d[x>>2]=t;Hw(t);w=y;return s|0}else b=43}else b=43}else b=43}while(0);if((b|0)==43){t=Ze()|0;b=44}if((b|0)==44)n=t;t=d[S>>2]|0;if(!t)ut(n|0);if((d[x>>2]|0)!=(t|0))d[x>>2]=t;Hw(t);ut(n|0);return 0}function cw(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0;s=w;w=w+16|0;l=s;d[l>>2]=0;c=l+4|0;d[c>>2]=0;d[l+8>>2]=0;k=0;t=xe(67,1)|0;o=k;k=0;e:do{if((((((!(o&1)?(o=t+1|0,f[t>>0]=1,d[l>>2]=t,d[c>>2]=o,d[l+8>>2]=o,k=0,we(84,l|0,d[e>>2]&65535|0),o=k,k=0,!(o&1)):0)?(k=0,we(84,l|0,d[e+4>>2]&65535|0),o=k,k=0,!(o&1)):0)?(k=0,we(84,l|0,d[e+8>>2]&65535|0),o=k,k=0,!(o&1)):0)?(k=0,we(84,l|0,d[e+12>>2]&65535|0),o=k,k=0,!(o&1)):0)?(k=0,we(84,l|0,d[e+16>>2]&65535|0),o=k,k=0,!(o&1)):0)?(k=0,u=xe(67,20)|0,o=k,k=0,!(o&1)):0){d[u>>2]=36800;f[u+4>>0]=-8;i=u+8|0;d[i>>2]=0;o=u+12|0;d[o>>2]=0;e=u+16|0;d[e>>2]=0;t=d[c>>2]|0;h=d[l>>2]|0;r=t-h|0;do{if((t|0)!=(h|0)){if(!((r|0)<0?(k=0,be(178,i|0),h=k,k=0,h&1):0))a=11;if((a|0)==11?(k=0,n=xe(67,r|0)|0,h=k,k=0,!(h&1)):0){d[o>>2]=n;d[i>>2]=n;d[e>>2]=n+r;t=d[l>>2]|0;e=d[c>>2]|0;if((t|0)==(e|0))break;do{f[n>>0]=f[t>>0]|0;n=(d[o>>2]|0)+1|0;d[o>>2]=n;t=t+1|0}while((t|0)!=(e|0));t=d[l>>2]|0;break}n=Ze()|0;t=d[i>>2]|0;if(t){if((d[o>>2]|0)!=(t|0))d[o>>2]=t;Hw(t)}Hw(u);break e}}while(0);if(!t){w=s;return u|0}if((d[c>>2]|0)!=(t|0))d[c>>2]=t;Hw(t);w=s;return u|0}else a=25}while(0);if((a|0)==25)n=Ze()|0;t=d[l>>2]|0;if(!t)ut(n|0);if((d[c>>2]|0)!=(t|0))d[c>>2]=t;Hw(t);ut(n|0);return 0}function fw(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0;a=Ww(5)|0;f[a>>0]=109;f[a+1>>0]=114;f[a+2>>0]=102;f[a+3>>0]=120;f[a+4>>0]=e;k=0;i=xe(67,20)|0;r=k;k=0;if(r&1){i=Ze()|0;Hw(a);ut(i|0)}d[i>>2]=36800;f[i+4>>0]=-24;e=i+8|0;d[e>>2]=0;t=i+12|0;d[t>>2]=0;n=i+16|0;d[n>>2]=0;k=0;r=xe(67,5)|0;o=k;k=0;if(!(o&1)){d[t>>2]=r;d[e>>2]=r;d[n>>2]=r+5;f[r>>0]=109;o=(d[t>>2]|0)+1|0;d[t>>2]=o;r=a+1|0;f[o>>0]=f[r>>0]|0;o=(d[t>>2]|0)+1|0;d[t>>2]=o;r=r+1|0;f[o>>0]=f[r>>0]|0;o=(d[t>>2]|0)+1|0;d[t>>2]=o;r=r+1|0;f[o>>0]=f[r>>0]|0;o=(d[t>>2]|0)+1|0;d[t>>2]=o;f[o>>0]=f[r+1>>0]|0;d[t>>2]=(d[t>>2]|0)+1;Hw(a);return i|0}o=Ze()|0;Hw(i);Hw(a);ut(o|0);return 0}function hw(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0;b=w;w=w+16|0;S=b;d[S>>2]=0;x=S+4|0;d[x>>2]=0;d[S+8>>2]=0;v=S+8|0;k=0;i=xe(67,1)|0;g=k;k=0;e:do{if(!(g&1)){s=i+1|0;g=s;f[i>>0]=t;d[S>>2]=i;d[x>>2]=g;d[v>>2]=g;if((t|0)>0){o=s;g=0;do{m=g+e&255;if(o>>>0>=s>>>0){i=d[S>>2]|0;u=i;o=o-u+1|0;if((o|0)<0){k=0;be(178,S|0);p=k;k=0;if(p&1){y=28;break}u=d[S>>2]|0;s=d[v>>2]|0;p=u}else p=i;h=p;i=s-h|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i;s=d[x>>2]|0;l=s-h|0;if(!i){c=0;o=0}else y=13}else{l=d[x>>2]|0;i=2147483647;s=l;l=l-h|0;y=13}if((y|0)==13){y=0;k=0;o=xe(67,i|0)|0;c=k;k=0;if(c&1){y=28;break}else c=i}f[o+l>>0]=m;i=o+(l+1)|0;h=s-h|0;m=o+(l-h)|0;Ny(m|0,p|0,h|0)|0;d[S>>2]=m;d[x>>2]=i;d[v>>2]=o+c;if(u){Hw(u);i=d[x>>2]|0}}else{f[o>>0]=m;i=(d[x>>2]|0)+1|0;d[x>>2]=i}s=d[v>>2]|0;if(i>>>0>=s>>>0){u=d[S>>2]|0;o=u;l=i-o+1|0;if((l|0)<0){k=0;be(178,S|0);m=k;k=0;if(m&1){y=28;break}u=d[S>>2]|0;o=u;s=d[v>>2]|0}h=u;i=s-h|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<l>>>0?l:i;l=d[x>>2]|0;s=l-h|0;if(!i){i=0;c=0}else y=24}else{s=d[x>>2]|0;i=2147483647;l=s;s=s-h|0;y=24}if((y|0)==24){y=0;k=0;c=xe(67,i|0)|0;m=k;k=0;if(m&1){y=28;break}}f[c+s>>0]=0;p=l-h|0;m=c+(s-p)|0;Ny(m|0,u|0,p|0)|0;d[S>>2]=m;d[x>>2]=c+(s+1);d[v>>2]=c+i;if(o)Hw(o)}else{f[i>>0]=0;d[x>>2]=(d[x>>2]|0)+1}g=g+1|0;o=d[x>>2]|0;s=d[v>>2]|0}while((g|0)<(t|0));if((y|0)==28){a=Ze()|0;break}i=n&255;if(o>>>0<s>>>0){f[o>>0]=i;o=(d[x>>2]|0)+1|0;d[x>>2]=o}else y=37}else{o=s;i=n&255;y=37}if((y|0)==37){u=d[S>>2]|0;l=u;c=o-l+1|0;if((c|0)<0){k=0;be(178,S|0);n=k;k=0;if(n&1){y=29;break}l=d[S>>2]|0;s=d[v>>2]|0;u=l}m=u;o=s-m|0;if(o>>>0<1073741823){o=o<<1;o=o>>>0<c>>>0?c:o;c=d[x>>2]|0;h=c-m|0;if(!o){p=0;s=0}else y=43}else{h=d[x>>2]|0;o=2147483647;c=h;h=h-m|0;y=43}if((y|0)==43){k=0;s=xe(67,o|0)|0;n=k;k=0;if(n&1){y=29;break}else p=o}f[s+h>>0]=i;o=s+(h+1)|0;e=c-m|0;n=s+(h-e)|0;Ny(n|0,u|0,e|0)|0;d[S>>2]=n;d[x>>2]=o;d[v>>2]=s+p;if(l){Hw(l);o=d[x>>2]|0}}m=r&255;i=d[v>>2]|0;if(o>>>0>=i>>>0){s=d[S>>2]|0;u=s;o=o-u+1|0;if((o|0)<0){k=0;be(178,S|0);r=k;k=0;if(r&1){y=29;break}u=d[S>>2]|0;i=d[v>>2]|0;s=u}p=s;i=i-p|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<o>>>0?o:i;l=d[x>>2]|0;c=l-p|0;if(!i){h=0;o=0}else y=54}else{c=d[x>>2]|0;i=2147483647;l=c;c=c-p|0;y=54}if((y|0)==54){k=0;o=xe(67,i|0)|0;r=k;k=0;if(r&1){y=29;break}else h=i}f[o+c>>0]=m;i=o+(c+1)|0;n=l-p|0;r=o+(c-n)|0;Ny(r|0,s|0,n|0)|0;d[S>>2]=r;d[x>>2]=i;d[v>>2]=o+h;if(u){Hw(u);i=d[x>>2]|0}}else{f[o>>0]=m;i=(d[x>>2]|0)+1|0;d[x>>2]=i}o=d[v>>2]|0;if(i>>>0>=o>>>0){s=d[S>>2]|0;u=s;l=i-u+1|0;if((l|0)<0){k=0;be(178,S|0);r=k;k=0;if(r&1){y=29;break}u=d[S>>2]|0;o=d[v>>2]|0;s=u}h=s;i=o-h|0;if(i>>>0<1073741823){i=i<<1;i=i>>>0<l>>>0?l:i;o=d[x>>2]|0;c=o-h|0;if(!i){i=0;l=0}else y=65}else{c=d[x>>2]|0;i=2147483647;o=c;c=c-h|0;y=65}if((y|0)==65){k=0;l=xe(67,i|0)|0;r=k;k=0;if(r&1){y=29;break}}f[l+c>>0]=0;n=o-h|0;r=l+(c-n)|0;Ny(r|0,s|0,n|0)|0;d[S>>2]=r;d[x>>2]=l+(c+1);d[v>>2]=l+i;if(u)Hw(u)}else{f[i>>0]=0;d[x>>2]=(d[x>>2]|0)+1}k=0;c=xe(67,20)|0;v=k;k=0;if(!(v&1)){d[c>>2]=36800;f[c+4>>0]=-38;u=c+8|0;d[u>>2]=0;l=c+12|0;d[l>>2]=0;o=c+16|0;d[o>>2]=0;i=d[x>>2]|0;v=d[S>>2]|0;s=i-v|0;do{if((i|0)!=(v|0)){if(!((s|0)<0?(k=0,be(178,u|0),v=k,k=0,v&1):0))y=72;if((y|0)==72?(k=0,a=xe(67,s|0)|0,v=k,k=0,!(v&1)):0){d[l>>2]=a;d[u>>2]=a;d[o>>2]=a+s;i=d[S>>2]|0;o=d[x>>2]|0;if((i|0)==(o|0))break;do{f[a>>0]=f[i>>0]|0;a=(d[l>>2]|0)+1|0;d[l>>2]=a;i=i+1|0}while((i|0)!=(o|0));i=d[S>>2]|0;break}a=Ze()|0;i=d[u>>2]|0;if(i){if((d[l>>2]|0)!=(i|0))d[l>>2]=i;Hw(i)}Hw(c);break e}}while(0);if(!i){w=b;return c|0}if((d[x>>2]|0)!=(i|0))d[x>>2]=i;Hw(i);w=b;return c|0}else y=29}else y=29}while(0);if((y|0)==29)a=Ze()|0;i=d[S>>2]|0;if(!i)ut(a|0);if((d[x>>2]|0)!=(i|0))d[x>>2]=i;Hw(i);ut(a|0);return 0}function dw(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0;h=(t&65535)>>>8&255;p=e+4|0;n=d[p>>2]|0;m=e+8|0;r=d[m>>2]|0;if(n>>>0>=r>>>0){i=d[e>>2]|0;a=i;o=n-a+1|0;if((o|0)<0){Vw(e);a=d[e>>2]|0;r=d[m>>2]|0;i=a}c=i;n=r-c|0;if(n>>>0<1073741823){n=n<<1;n=n>>>0<o>>>0?o:n;o=d[p>>2]|0;r=o-c|0;if(!n){l=0;u=0;s=r;n=o}else g=8}else{r=d[p>>2]|0;n=2147483647;o=r;r=r-c|0;g=8}if((g|0)==8){l=n;u=Ww(n)|0;s=r;n=o}f[u+s>>0]=h;r=u+(s+1)|0;c=n-c|0;h=u+(s-c)|0;Ny(h|0,i|0,c|0)|0;d[e>>2]=h;d[p>>2]=r;d[m>>2]=u+l;if(a){Hw(a);r=d[p>>2]|0}}else{f[n>>0]=h;r=(d[p>>2]|0)+1|0;d[p>>2]=r}c=t&255;n=d[m>>2]|0;if(r>>>0<n>>>0){f[r>>0]=c;d[p>>2]=(d[p>>2]|0)+1;return}i=d[e>>2]|0;a=i;r=r-a+1|0;if((r|0)<0){Vw(e);a=d[e>>2]|0;n=d[m>>2]|0;i=a}l=i;n=n-l|0;if(n>>>0<1073741823){n=n<<1;n=n>>>0<r>>>0?r:n;o=d[p>>2]|0;r=o-l|0;if(!n){u=0;s=0;n=o}else g=18}else{r=d[p>>2]|0;n=2147483647;o=r;r=r-l|0;g=18}if((g|0)==18){u=n;s=Ww(n)|0;n=o}f[s+r>>0]=c;t=n-l|0;g=s+(r-t)|0;Ny(g|0,i|0,t|0)|0;d[e>>2]=g;d[p>>2]=s+(r+1);d[m>>2]=s+u;if(!a)return;Hw(a);return}function pw(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0;i=d[e>>2]|0;g=d[t>>2]|0;m=g;u=i;h=n;l=r-h|0;if((l|0)<=0){v=g;return v|0}p=e+8|0;t=d[p>>2]|0;v=e+4|0;c=d[v>>2]|0;a=c;if((l|0)<=(t-a|0)){s=a-m|0;if((l|0)>(s|0)){o=n+s|0;if((o|0)==(r|0))t=c;else{a=o;t=c;do{f[t>>0]=f[a>>0]|0;t=(d[v>>2]|0)+1|0;d[v>>2]=t;a=a+1|0}while((a|0)!=(r|0))}if((s|0)>0)s=t;else{v=g;return v|0}}else{s=c;o=r}i=s-(i+(l-u+m))|0;t=g+i|0;if(t>>>0<c>>>0){a=s;do{f[a>>0]=f[t>>0]|0;t=t+1|0;a=(d[v>>2]|0)+1|0;d[v>>2]=a}while((t|0)!=(c|0))}Fy(s+(0-i)|0,g|0,i|0)|0;Fy(g|0,n|0,o-h|0)|0;v=g;return v|0}a=a-u+l|0;if((a|0)<0){Vw(e);t=d[p>>2]|0;i=d[e>>2]|0}o=i;t=t-o|0;if(t>>>0<1073741823){t=t<<1;t=t>>>0<a>>>0?a:t;a=m-o|0;if(!t){o=0;l=0}else s=15}else{t=2147483647;a=m-o|0;s=15}if((s|0)==15){o=t;l=Ww(t)|0}u=l+a|0;t=u;s=l+o|0;if((n|0)!=(r|0)){i=n;o=u;do{f[o>>0]=f[i>>0]|0;o=t+1|0;t=o;i=i+1|0}while((i|0)!=(r|0));i=d[e>>2]|0}n=m-i|0;r=l+(a-n)|0;Ny(r|0,i|0,n|0)|0;m=(d[v>>2]|0)-m|0;n=t;Ny(n|0,g|0,m|0)|0;t=d[e>>2]|0;d[e>>2]=r;d[v>>2]=n+m;d[p>>2]=s;if(!t){v=u;return v|0}Hw(t);v=u;return v|0}function mw(e){e=e|0;var t=0;d[e>>2]=36800;t=d[e+8>>2]|0;if(!t)return;e=e+12|0;if((d[e>>2]|0)!=(t|0))d[e>>2]=t;Hw(t);return}function gw(e){e=e|0;var t=0,n=0;d[e>>2]=36800;t=d[e+8>>2]|0;if(!t){Hw(e);return}n=e+12|0;if((d[n>>2]|0)!=(t|0))d[n>>2]=t;Hw(t);Hw(e);return}function vw(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;yw(t,-1);yw(t,f[e+4>>0]|0);i=e+12|0;r=e+8|0;e=(d[i>>2]|0)-(d[r>>2]|0)+2|0;yw(t,(e&65535)>>>8&255);yw(t,e&255);e=d[r>>2]|0;if((d[i>>2]|0)==(e|0))return;else n=0;do{yw(t,f[e+n>>0]|0);n=n+1|0;e=d[r>>2]|0}while(n>>>0<((d[i>>2]|0)-e|0)>>>0);return}function yw(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;i=d[e+4>>2]|0;if(i){n=i+24|0;r=d[n>>2]|0;if((r|0)==(d[i+28>>2]|0)){E_[d[(d[i>>2]|0)+52>>2]&63](i,t&255)|0;return}else{d[n>>2]=r+1;f[r>>0]=t;return}}n=e+16|0;r=d[n>>2]|0;if(r>>>0<(d[e+12>>2]|0)>>>0){d[n>>2]=r+1;f[(d[e+8>>2]|0)+r>>0]=t;return}n=Ke(16)|0;k=0;r=De(1)|0;t=k;k=0;if(t&1){t=Ze()|0;Ye(n|0);ut(t|0)}k=0;Pe(7,n|0,4,r|0);t=k;k=0;if(t&1){t=Ze()|0;Ye(n|0);ut(t|0)}else _t(n|0,824,96)}function bw(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;i=(t|0)<4095?(t+128|0)/256|0:16;a=(n*3|0)+2+i|0;r=n+1|0;a=(a|0)<(r|0)|(a|0)>(t|0)?r:a;d[e+4>>2]=a;r=(i<<2|3)+(n*5|0)|0;r=(r|0)>(t|0)|(r|0)<(a|0)?a:r;d[e+8>>2]=r;n=(n*7|0)+4+(i*17|0)|0;d[e+12>>2]=(n|0)>(t|0)|(n|0)<(r|0)?r:n;d[e>>2]=t;d[e+16>>2]=64;return}function ww(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;l=w;w=w+128|0;s=l+100|0;r=l+16|0;n=l+112|0;u=l+4|0;c=l;i=r;a=e+20|0;o=i+84|0;do{d[i>>2]=d[a>>2];i=i+4|0;a=a+4|0}while((i|0)<(o|0));d[r+16>>2]=d[e+4>>2];a=on(n,r,e+56|0)|0;n=d[(d[a>>2]|0)+16>>2]|0;e=e+8|0;k=0;d[s>>2]=d[e>>2];d[s+4>>2]=d[e+4>>2];d[s+8>>2]=d[e+8>>2];n=Oe(n|0,a|0,s|0)|0;e=k;k=0;do{if(e&1)n=Ze()|0;else{i=t+4|0;d[u>>2]=d[i>>2];d[u+4>>2]=d[i+4>>2];d[u+8>>2]=d[i+8>>2];i=t+16|0;e=d[i>>2]|0;s=u+8|0;d[s>>2]=(d[s>>2]|0)-e;s=u+4|0;d[s>>2]=(d[s>>2]|0)+e;s=d[(d[a>>2]|0)+12>>2]|0;d[c>>2]=n;k=0;n=Re(s|0,a|0,c|0,u|0,((f[t>>0]|0)==0?0:(d[t+8>>2]|0)+e|0)|0)|0;u=k;k=0;if(u&1){n=Ze()|0;r=d[c>>2]|0;d[c>>2]=0;if(!r)break;m_[d[(d[r>>2]|0)+4>>2]&255](r);break}r=d[c>>2]|0;d[c>>2]=0;if(r)m_[d[(d[r>>2]|0)+4>>2]&255](r);if(!(d[t+4>>2]|0))d[i>>2]=(d[i>>2]|0)+n;if(!a){w=l;return}m_[d[(d[a>>2]|0)+4>>2]&255](a);w=l;return}}while(0);if(!a)ut(n|0);m_[d[(d[a>>2]|0)+4>>2]&255](a);ut(n|0)}function Sw(e,t){e=e|0;t=t|0;d[e>>2]=d[t>>2];d[e+4>>2]=d[t+4>>2];d[e+8>>2]=d[t+8>>2];f[e+12>>0]=0;t=e+16|0;e=t+100|0;do{d[t>>2]=0;t=t+4|0}while((t|0)<(e|0));return}function xw(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0,y=0,b=0,S=0,x=0;b=w;w=w+32|0;y=b+4|0;p=b+16|0;S=b;_w(e);m=e+16|0;i=d[e+24>>2]|0;e:do{if((i+-2|0)>>>0<=14){g=e+40|0;n=d[g>>2]|0;if(n>>>0>2)n=5;else{v=e+32|0;a=d[v>>2]|0;switch(a|0){case 0:{n=1;break e}case 4:{if((n|0)==2){n=2;break e}break}case 3:break;default:if(n){n=2;break e}}h=e+100|0;n=e+108|0;r=d[n>>2]|0;if((r|0)<1){r=d[m>>2]|0;d[n>>2]=r;n=d[e+20>>2]|0;d[e+112>>2]=n}else n=d[e+112>>2]|0;u=Gy(n|0,((n|0)<0)<<31>>31|0,r|0,((r|0)<0)<<31>>31|0)|0;s=(i+7|0)/8|0;s=Gy(u|0,j|0,s|0,((s|0)<0)<<31>>31|0)|0;u=t+4|0;n=d[u>>2]|0;o=t+8|0;if((n|0)!=0?(l=d[o>>2]|0,c=Gy(a|0,((a|0)<0)<<31>>31|0,s|0,j|0)|0,i=j,0<(i|0)|0==(i|0)&l>>>0<c>>>0):0){n=Ke(16)|0;k=0;r=De(1)|0;S=k;k=0;if(!(S&1)?(k=0,Pe(7,n|0,3,r|0),S=k,k=0,!(S&1)):0)_t(n|0,824,96);S=Ze()|0;Ye(n|0);ut(S|0)}l=e+52|0;c=e+12|0;if((a|0)>0)a=0;else{w=b;return}while(1){Tw(e,(a|0)==0);r=rn(p,m,l)|0;i=d[(d[r>>2]|0)+8>>2]|0;k=0;d[y>>2]=d[t>>2];d[y+4>>2]=d[t+4>>2];d[y+8>>2]=d[t+8>>2];i=Oe(i|0,r|0,y|0)|0;x=k;k=0;if(x&1){i=32;break}x=d[(d[r>>2]|0)+16>>2]|0;d[S>>2]=i;k=0;ve(x|0,r|0,S|0,h|0,e|0,(f[c>>0]|0)!=0|0);x=k;k=0;if(x&1){i=30;break}i=d[S>>2]|0;d[S>>2]=0;if(i)m_[d[(d[i>>2]|0)+4>>2]&255](i);if(!n)n=0;else{n=n+s|0;d[u>>2]=n;d[o>>2]=(d[o>>2]|0)-s}i=(d[g>>2]|0)==0;a=(i&1)+a|0;if(r)m_[d[(d[r>>2]|0)+4>>2]&255](r);if(!i){i=34;break}if((a|0)>=(d[v>>2]|0)){i=34;break}}if((i|0)==30){n=Ze()|0;i=d[S>>2]|0;d[S>>2]=0;if(i)m_[d[(d[i>>2]|0)+4>>2]&255](i)}else if((i|0)==32){n=Ze()|0;if(!r){x=n;ut(x|0)}}else if((i|0)==34){w=b;return}m_[d[(d[r>>2]|0)+4>>2]&255](r);x=n;ut(x|0)}}else n=2}while(0);r=Ke(16)|0;k=0;i=De(1)|0;x=k;k=0;if(!(x&1)?(k=0,Pe(7,r|0,n|0,i|0),x=k,k=0,!(x&1)):0)_t(r|0,824,96);x=Ze()|0;Ye(r|0);ut(x|0)}function _w(e){e=e|0;var t=0,n=0,r=0,i=0;if((Cw(e)|0)<<24>>24!=-40){t=Ke(16)|0;k=0;n=De(1)|0;i=k;k=0;if(!(i&1)?(k=0,Pe(7,t|0,5,n|0),i=k,k=0,!(i&1)):0)_t(t|0,824,96);i=Ze()|0;Ye(t|0);ut(i|0)}t=Cw(e)|0;if(t<<24>>24==-38)return;while(1){r=((kw(e)|0)&255)<<8;r=r|(kw(e)|0)&255;t=Aw(e,t)|0;n=-2-t+r|0;if((n|0)<0)break;if((n|0)>0){t=r+-2-t|0;n=0;do{kw(e)|0;n=n+1|0}while((n|0)!=(t|0))}t=Cw(e)|0;if(t<<24>>24==-38){i=8;break}}if((i|0)==8)return;t=Ke(16)|0;k=0;n=De(1)|0;i=k;k=0;if(!(i&1)?(k=0,Pe(7,t|0,5,n|0),i=k,k=0,!(i&1)):0)_t(t|0,824,96);i=Ze()|0;Ye(t|0);ut(i|0)}function Tw(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;if(!t){if((kw(e)|0)<<24>>24!=-1){t=Ke(16)|0;k=0;n=De(1)|0;e=k;k=0;if(!(e&1)?(k=0,Pe(7,t|0,12,n|0),e=k,k=0,!(e&1)):0)_t(t|0,824,96);e=Ze()|0;Ye(t|0);ut(e|0)}if((kw(e)|0)<<24>>24!=-38){t=Ke(16)|0;k=0;n=De(1)|0;e=k;k=0;if(!(e&1)?(k=0,Pe(7,t|0,5,n|0),e=k,k=0,!(e&1)):0)_t(t|0,824,96);e=Ze()|0;Ye(t|0);ut(e|0)}}kw(e)|0;kw(e)|0;n=kw(e)|0;r=n&255;do{if(n<<24>>24==1){kw(e)|0;n=0;i=20}else{if((r|0)==(d[e+32>>2]|0)){t=kw(e)|0;if(!(n<<24>>24))break;else{n=0;i=20;break}}t=Ke(16)|0;k=0;n=De(1)|0;e=k;k=0;if(!(e&1)?(k=0,Pe(7,t|0,2,n|0),e=k,k=0,!(e&1)):0)_t(t|0,824,96);e=Ze()|0;Ye(t|0);ut(e|0)}}while(0);if((i|0)==20)while(1){kw(e)|0;n=n+1|0;t=kw(e)|0;if((n|0)==(r|0))break;else i=20}d[e+36>>2]=t&255;i=kw(e)|0;n=e+40|0;d[n>>2]=i&255;if((i&255)>=3){t=Ke(16)|0;k=0;n=De(1)|0;e=k;k=0;if(!(e&1)?(k=0,Pe(7,t|0,5,n|0),e=k,k=0,!(e&1)):0)_t(t|0,824,96);e=Ze()|0;Ye(t|0);ut(e|0)}if((kw(e)|0)<<24>>24){t=Ke(16)|0;k=0;n=De(1)|0;e=k;k=0;if(!(e&1)?(k=0,Pe(7,t|0,5,n|0),e=k,k=0,!(e&1)):0)_t(t|0,824,96);e=Ze()|0;Ye(t|0);ut(e|0)}r=e+28|0;if(d[r>>2]|0)return;t=d[e+108>>2]|0;if(!t)t=d[e+16>>2]|0;if(!(d[n>>2]|0))n=1;else n=d[e+32>>2]|0;i=fe(n,t)|0;e=fe(i,((d[e+24>>2]|0)+7|0)/8|0)|0;d[r>>2]=e;return}function Ew(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0;if((n|0)<=0)return;h=t+4|0;p=t+8|0;g=0;do{m=kw(e)|0;r=d[h>>2]|0;i=d[p>>2]|0;if(r>>>0>=i>>>0){a=d[t>>2]|0;o=a;s=r-o+1|0;if((s|0)<0){Vw(t);o=d[t>>2]|0;i=d[p>>2]|0;a=o}c=a;r=i-c|0;if(r>>>0<1073741823){r=r<<1;r=r>>>0<s>>>0?s:r;s=d[h>>2]|0;i=s-c|0;if(!r){l=0;u=0;r=s}else v=10}else{i=d[h>>2]|0;r=2147483647;s=i;i=i-c|0;v=10}if((v|0)==10){v=0;l=r;u=Ww(r)|0;r=s}f[u+i>>0]=m;c=r-c|0;m=u+(i-c)|0;Ny(m|0,a|0,c|0)|0;d[t>>2]=m;d[h>>2]=u+(i+1);d[p>>2]=u+l;if(o)Hw(o)}else{f[r>>0]=m;d[h>>2]=(d[h>>2]|0)+1}g=g+1|0}while((g|0)!=(n|0));return}function kw(e){e=e|0;var t=0,n=0,r=0,i=0;n=d[e>>2]|0;if(n){e=n+12|0;t=d[e>>2]|0;if((t|0)==(d[n+16>>2]|0))e=y_[d[(d[n>>2]|0)+40>>2]&127](n)|0;else{d[e>>2]=t+1;e=p[t>>0]|0}i=e&255;return i|0}r=e+8|0;i=d[r>>2]|0;if(i){e=e+4|0;t=d[e>>2]|0;n=f[t>>0]|0;if(!t){i=n;return i|0}d[e>>2]=t+1;d[r>>2]=i+-1;i=n;return i|0}e=Ke(16)|0;k=0;t=De(1)|0;i=k;k=0;if(i&1){i=Ze()|0;Ye(e|0);ut(i|0)}k=0;Pe(7,e|0,4,t|0);i=k;k=0;if(i&1){i=Ze()|0;Ye(e|0);ut(i|0)}else _t(e|0,824,96);return 0}function Cw(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,u=0;n=w;w=w+176|0;t=n+152|0;u=n+16|0;o=n;s=kw(e)|0;r=s&255;if(s<<24>>24==-1){do{t=kw(e)|0}while(t<<24>>24==-1);w=n;return t|0}s=u+56|0;a=u+4|0;d[u>>2]=36160;d[s>>2]=36180;k=0;we(62,u+56|0,a|0);i=k;k=0;if(i&1){u=Ze()|0;pd(s);ut(u|0)}d[u+128>>2]=0;d[u+132>>2]=-1;d[u>>2]=36200;d[u+56>>2]=36220;k=0;be(180,a|0);i=k;k=0;do{if(i&1)t=Ze()|0;else{d[a>>2]=36236;i=u+36|0;d[i>>2]=0;d[i+4>>2]=0;d[i+8>>2]=0;d[i+12>>2]=0;d[u+52>>2]=16;d[t>>2]=0;d[t+4>>2]=0;d[t+8>>2]=0;k=0;we(63,a|0,t|0);n=k;k=0;if(n&1){u=Ze()|0;Gh(t);Gh(i);Sd(a);t=u;break}Gh(t);d[u+((d[(d[u>>2]|0)+-12>>2]|0)+76)>>2]=48;k=0;t=Te(28,u|0,50907,62)|0;n=k;k=0;if(!(n&1)?(n=t+((d[(d[t>>2]|0)+-12>>2]|0)+4)|0,d[n>>2]=d[n>>2]&-75|8,n=t+((d[(d[t>>2]|0)+-12>>2]|0)+4)|0,d[n>>2]=d[n>>2]|16384,d[t+((d[(d[t>>2]|0)+-12>>2]|0)+12)>>2]=2,k=0,Oe(38,t|0,r|0)|0,r=k,k=0,!(r&1)):0){n=Ke(16)|0;k=0;we(64,o|0,a|0);r=k;k=0;if(!(r&1)){k=0;t=De(1)|0;r=k;k=0;if(!(r&1)?(k=0,Be(36,n|0,12,t|0,o|0),r=k,k=0,!(r&1)):0){k=0;Pe(6,n|0,824,96);k=0;e=0}else e=1;t=Ze()|0;Gh(o);if(!e){o=t;d[u>>2]=36200;d[s>>2]=36220;d[a>>2]=36236;Gh(i);Sd(a);pd(s);ut(o|0)}}else t=Ze()|0;Ye(n|0);o=t;d[u>>2]=36200;d[s>>2]=36220;d[a>>2]=36236;Gh(i);Sd(a);pd(s);ut(o|0)}o=Ze()|0;d[u>>2]=36200;d[s>>2]=36220;d[a>>2]=36236;Gh(i);Sd(a);pd(s);ut(o|0)}}while(0);u=t;pd(s);ut(u|0);return 0}function Aw(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0;n=w;w=w+320|0;s=n+300|0;c=n+152|0;u=n+288|0;f=n+16|0;l=n;switch(t<<24>>24){case-9:{h=(kw(e)|0)&255;d[e+24>>2]=h;h=((kw(e)|0)&255)<<8|(kw(e)|0)&255;f=((kw(e)|0)&255)<<8|(kw(e)|0)&255;d[e+16>>2]=f;d[e+20>>2]=h;h=(kw(e)|0)&255;d[e+32>>2]=h;h=6;w=n;return h|0}case-8:{h=Ow(e)|0;w=n;return h|0}case-24:{h=Iw(e)|0;w=n;return h|0}case-53:case-54:case-55:case-57:case-58:case-59:case-61:case-62:case-63:case-64:{o=c+56|0;i=c+4|0;d[c>>2]=36160;d[o>>2]=36180;k=0;we(62,c+56|0,i|0);f=k;k=0;if(f&1){h=Ze()|0;pd(o);ut(h|0)}d[c+128>>2]=0;d[c+132>>2]=-1;d[c>>2]=36200;d[c+56>>2]=36220;k=0;be(180,i|0);f=k;k=0;do{if(f&1)e=Ze()|0;else{d[i>>2]=36236;a=c+36|0;d[a>>2]=0;d[a+4>>2]=0;d[a+8>>2]=0;d[a+12>>2]=0;d[c+52>>2]=16;d[s>>2]=0;d[s+4>>2]=0;d[s+8>>2]=0;k=0;we(63,i|0,s|0);f=k;k=0;if(f&1){e=Ze()|0;Gh(s);Gh(a);Sd(i);break}Gh(s);k=0;e=Te(28,c|0,50970,26)|0;f=k;k=0;do{if((!(f&1)?(k=0,r=Oe(38,e|0,t&255|0)|0,f=k,k=0,!(f&1)):0)?(k=0,Te(28,r|0,50997,18)|0,f=k,k=0,!(f&1)):0){r=Ke(16)|0;k=0;we(64,u|0,i|0);f=k;k=0;if(!(f&1)){k=0;e=De(1)|0;f=k;k=0;if(!(f&1)?(k=0,Be(36,r|0,10,e|0,u|0),f=k,k=0,!(f&1)):0){k=0;Pe(6,r|0,824,96);k=0;n=0}else n=1;e=Ze()|0;Gh(u);if(!n)break}else e=Ze()|0;Ye(r|0)}else h=20}while(0);if((h|0)==20)e=Ze()|0;d[c>>2]=36200;d[o>>2]=36220;d[i>>2]=36236;Gh(a);Sd(i);pd(o);h=e;ut(h|0)}}while(0);h=e;pd(o);ut(h|0)}case-25:case-32:case-2:{h=0;w=n;return h|0}default:{u=f+56|0;a=f+4|0;d[f>>2]=36160;d[u>>2]=36180;k=0;we(62,f+56|0,a|0);c=k;k=0;if(c&1){h=Ze()|0;pd(u);ut(h|0)}d[f+128>>2]=0;d[f+132>>2]=-1;d[f>>2]=36200;d[f+56>>2]=36220;k=0;be(180,a|0);c=k;k=0;do{if(c&1)e=Ze()|0;else{d[a>>2]=36236;o=f+36|0;d[o>>2]=0;d[o+4>>2]=0;d[o+8>>2]=0;d[o+12>>2]=0;d[f+52>>2]=16;d[s>>2]=0;d[s+4>>2]=0;d[s+8>>2]=0;k=0;we(63,a|0,s|0);c=k;k=0;if(c&1){e=Ze()|0;Gh(s);Gh(o);Sd(a);break}Gh(s);k=0;e=Te(28,f|0,51016,20)|0;c=k;k=0;do{if((!(c&1)?(k=0,i=Oe(38,e|0,t&255|0)|0,c=k,k=0,!(c&1)):0)?(k=0,Te(28,i|0,51037,13)|0,c=k,k=0,!(c&1)):0){r=Ke(16)|0;k=0;we(64,l|0,a|0);c=k;k=0;if(!(c&1)){k=0;e=De(1)|0;c=k;k=0;if(!(c&1)?(k=0,Be(36,r|0,11,e|0,l|0),c=k,k=0,!(c&1)):0){k=0;Pe(6,r|0,824,96);k=0;n=0}else n=1;e=Ze()|0;Gh(l);if(!n)break}else e=Ze()|0;Ye(r|0)}else h=40}while(0);if((h|0)==40)e=Ze()|0;d[f>>2]=36200;d[u>>2]=36220;d[a>>2]=36236;Gh(o);Sd(a);pd(u);h=e;ut(h|0)}}while(0);h=e;pd(u);ut(h|0)}}return 0}function Ow(e){e=e|0;var t=0;if((kw(e)|0)<<24>>24!=1){e=1;return e|0}t=((kw(e)|0)&255)<<8;t=t|(kw(e)|0)&255;d[e+52>>2]=t;t=((kw(e)|0)&255)<<8;t=t|(kw(e)|0)&255;d[e+56>>2]=t;t=((kw(e)|0)&255)<<8;t=t|(kw(e)|0)&255;d[e+60>>2]=t;t=((kw(e)|0)&255)<<8;t=t|(kw(e)|0)&255;d[e+64>>2]=t;t=((kw(e)|0)&255)<<8;t=t|(kw(e)|0)&255;d[e+68>>2]=t;e=11;return e|0}function Iw(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0;n=w;w=w+16|0;i=n;d[i>>2]=0;a=i+4|0;d[a>>2]=0;d[i+8>>2]=0;k=0;Pe(9,e|0,i|0,4);t=k;k=0;e:do{if(t&1)r=3;else{t=d[i>>2]|0;t:do{if(!(r_(t,51051,4)|0)){k=0;t=xe(69,e|0)|0;o=k;k=0;if(o&1){r=3;break e}t=t&255;switch(t|0){case 3:case 2:case 1:case 0:{d[e+44>>2]=t;e=5;t=d[i>>2]|0;break t}case 5:case 4:{t=Ke(16)|0;k=0;e=De(1)|0;o=k;k=0;if(!(o&1)?(k=0,Pe(7,t|0,7,e|0),o=k,k=0,!(o&1)):0){k=0;Pe(6,t|0,824,96);k=0;r=3;break e}e=Ze()|0;Ye(t|0);break e}default:{t=Ke(16)|0;k=0;e=De(1)|0;o=k;k=0;if(!(o&1)?(k=0,Pe(7,t|0,5,e|0),o=k,k=0,!(o&1)):0){k=0;Pe(6,t|0,824,96);k=0;r=3;break e}e=Ze()|0;Ye(t|0);break e}}}else e=4}while(0);if(!t){w=n;return e|0}if((d[a>>2]|0)!=(t|0))d[a>>2]=t;Hw(t);w=n;return e|0}}while(0);if((r|0)==3)e=Ze()|0;t=d[i>>2]|0;if(!t)ut(e|0);if((d[a>>2]|0)!=(t|0))d[a>>2]=t;Hw(t);ut(e|0);return 0}function Mw(e){e=e|0;var t=0,n=0,r=0;r=d[(d[e>>2]|0)+-12>>2]|0;d[e+r>>2]=36200;t=e+(r+56)|0;d[t>>2]=36220;n=e+(r+4)|0;d[n>>2]=36236;Gh(e+(r+36)|0);Sd(n);pd(t);return}function Dw(e){e=e|0;return}function Rw(e){e=e|0;Hw(e);return}function Pw(e){e=e|0;f[e>>0]=0;e=e+4|0;d[e>>2]=0;d[e+4>>2]=0;d[e+8>>2]=0;d[e+12>>2]=0;d[e+16>>2]=0;d[e+20>>2]=0;d[e+24>>2]=0;d[e+28>>2]=0;return}function Nw(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0;i=w;w=w+16|0;a=i;t=fw(t)|0;d[a>>2]=t;n=e+28|0;r=d[n>>2]|0;if(r>>>0<(d[e+32>>2]|0)>>>0){d[r>>2]=t;d[n>>2]=r+4;d[a>>2]=0;w=i;return}k=0;we(57,e+24|0,a|0);e=k;k=0;if(e&1){t=Ze()|0;n=d[a>>2]|0;d[a>>2]=0;if(!n)ut(t|0);m_[d[(d[n>>2]|0)+4>>2]&255](n);ut(t|0)}else{t=d[a>>2]|0;d[a>>2]=0;if(!t){w=i;return}m_[d[(d[t>>2]|0)+4>>2]&255](t);w=i;return}}function Lw(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0;r=e+4|0;d[r>>2]=d[t>>2];d[r+4>>2]=d[t+4>>2];d[r+8>>2]=d[t+8>>2];yw(e,-1);yw(e,-40);r=e+28|0;i=e+24|0;t=d[i>>2]|0;if((d[r>>2]|0)==(t|0)){yw(e,-1);yw(e,-39);e=e+16|0;e=d[e>>2]|0;return e|0}else n=0;do{a=d[t+(n<<2)>>2]|0;g_[d[(d[a>>2]|0)+8>>2]&127](a,e);n=n+1|0;t=d[i>>2]|0}while(n>>>0<(d[r>>2]|0)-t>>2>>>0);yw(e,-1);yw(e,-39);a=e+16|0;a=d[a>>2]|0;return a|0}function Fw(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0;f=w;w=w+48|0;s=f+32|0;i=f+12|0;u=f+8|0;c=f+4|0;h=f;r=n+36|0;do{if(((((d[r>>2]|0)==0?(d[n+40>>2]|0)==0:0)?(d[n+44>>2]|0)==0:0)?(d[n+48>>2]|0)==0:0)?(d[n+52>>2]|0)==0:0){r=d[n+8>>2]|0;if((r|0)<=12){a=e+28|0;o=e+32|0;break}bw(i,(1<<r)+-1|0,d[n+20>>2]|0);r=cw(i)|0;d[u>>2]=r;a=e+28|0;i=d[a>>2]|0;o=e+32|0;if(i>>>0<(d[o>>2]|0)>>>0){d[i>>2]=r;d[a>>2]=i+4;d[u>>2]=0;break}k=0;we(57,e+24|0,u|0);s=k;k=0;if(!(s&1)){r=d[u>>2]|0;d[u>>2]=0;if(!r)break;m_[d[(d[r>>2]|0)+4>>2]&255](r);break}n=Ze()|0;r=d[u>>2]|0;d[u>>2]=0;if(!r){h=n;ut(h|0)}m_[d[(d[r>>2]|0)+4>>2]&255](r);h=n;ut(h|0)}else l=6}while(0);do{if((l|0)==6){r=cw(r)|0;d[s>>2]=r;a=e+28|0;i=d[a>>2]|0;o=e+32|0;if(i>>>0<(d[o>>2]|0)>>>0){d[i>>2]=r;d[a>>2]=i+4;d[s>>2]=0;break}k=0;we(57,e+24|0,s|0);l=k;k=0;if(!(l&1)){r=d[s>>2]|0;d[s>>2]=0;if(!r)break;m_[d[(d[r>>2]|0)+4>>2]&255](r);break}n=Ze()|0;r=d[s>>2]|0;d[s>>2]=0;if(!r){h=n;ut(h|0)}m_[d[(d[r>>2]|0)+4>>2]&255](r);h=n;ut(h|0)}}while(0);r=e+20|0;i=(d[r>>2]|0)+1|0;d[r>>2]=i;r=d[n+24>>2]|0;s=(r|0)==0?1:d[n+16>>2]|0;r=hw(i,s,d[n+20>>2]|0,r)|0;d[c>>2]=r;i=d[a>>2]|0;do{if(i>>>0<(d[o>>2]|0)>>>0){d[i>>2]=r;d[a>>2]=i+4;d[c>>2]=0}else{k=0;we(57,e+24|0,c|0);l=k;k=0;if(!(l&1)){r=d[c>>2]|0;d[c>>2]=0;if(!r)break;m_[d[(d[r>>2]|0)+4>>2]&255](r);break}n=Ze()|0;r=d[c>>2]|0;d[c>>2]=0;if(!r){h=n;ut(h|0)}m_[d[(d[r>>2]|0)+4>>2]&255](r);h=n;ut(h|0)}}while(0);u=Ww(104)|0;d[u>>2]=36820;d[u+4>>2]=s;i=u+8|0;d[i>>2]=d[t>>2];d[i+4>>2]=d[t+4>>2];d[i+8>>2]=d[t+8>>2];i=u+20|0;r=i+84|0;do{d[i>>2]=d[n>>2];i=i+4|0;n=n+4|0}while((i|0)<(r|0));d[h>>2]=u;n=d[a>>2]|0;if(n>>>0<(d[o>>2]|0)>>>0){d[n>>2]=u;d[a>>2]=n+4;d[h>>2]=0;w=f;return}k=0;we(57,e+24|0,h|0);e=k;k=0;if(e&1){n=Ze()|0;r=d[h>>2]|0;d[h>>2]=0;if(!r){h=n;ut(h|0)}m_[d[(d[r>>2]|0)+4>>2]&255](r);h=n;ut(h|0)}else{n=d[h>>2]|0;d[h>>2]=0;if(!n){w=f;return}m_[d[(d[n>>2]|0)+4>>2]&255](n);w=f;return}}function Bw(e,t,n,r,i,a,o,s,u,l,c){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;l=l|0;c=c|0;var h=0,p=0,m=0,g=0,v=0,y=0,b=0;m=w;w=w+96|0;p=m;h=Jt(e,t,p,0)|0;if(h){i=h;w=m;return i|0}f[p+32>>0]=0;v=d[p+8>>2]|0;b=d[p>>2]|0;y=d[p+4>>2]|0;h=fe(y,b)|0;g=d[p+16>>2]|0;h=fe(fe(h,(v|0)<9?1:2)|0,g)|0;d[r>>2]=h;h=Uf(h)|0;d[n>>2]=h;d[i>>2]=b;d[a>>2]=y;d[o>>2]=v;d[s>>2]=d[p+12>>2];d[u>>2]=g;d[l>>2]=d[p+20>>2];d[c>>2]=d[p+24>>2];i=$t(h,d[r>>2]|0,e,t,0,0)|0;w=m;return i|0}function zw(e,t,n,r,i,a,o,s,u){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;o=o|0;s=s|0;u=u|0;var l=0,c=0,f=0,h=0;f=w;w=w+96|0;l=f+4|0;o=f;c=l;h=c+84|0;do{d[c>>2]=0;c=c+4|0}while((c|0)<(h|0));d[l+16>>2]=a;d[l+8>>2]=i;d[l>>2]=n;d[l+4>>2]=r;n=Uf(t)|0;d[s>>2]=n;d[o>>2]=0;n=Zt(s,t,o,e,t,l,0)|0;d[u>>2]=d[o>>2];w=f;return n|0}function Uw(e,t){e=e|0;t=t|0;var n=0;n=w;w=w+16|0;d[n>>2]=t;t=d[9320]|0;Hx(t,e,n)|0;Fx(10,t)|0;We()}function jw(e){e=e|0;Xe(51337,51366,1164,51442)}function Vw(e){e=e|0;Xe(51463,51486,303,51442)}function Gw(){var e=0,t=0;e=w;w=w+16|0;if(!(mt(37024,4)|0)){t=ft(d[9255]|0)|0;w=e;return t|0}else Uw(51562,e);return 0}function Ww(e){e=e|0;var t=0;t=(e|0)==0?1:e;e=Uf(t)|0;e:do{if(!e){while(1){e=$w()|0;if(!e)break;M_[e&7]();e=Uf(t)|0;if(e)break e}t=Ke(4)|0;d[t>>2]=36844;_t(t|0,592,78)}}while(0);return e|0}function Hw(e){e=e|0;jf(e);return}function qw(e){e=e|0;Hw(e);return}function Qw(e){e=e|0;d[e>>2]=36844;return}function Xw(e){e=e|0;return}function Yw(e){e=e|0;Hw(e);return}function Kw(e){e=e|0;return 51611}function Zw(e){e=e|0;var t=0;t=w;w=w+16|0;k=0;Ne(e|0);e=k;k=0;if(!(e&1)){k=0;we(85,51626,t|0);k=0}e=Ze(0)|0;at(e|0)|0;k=0;we(85,51666,t+8|0);k=0;e=Ze(0)|0;k=0;Ne(3);t=k;k=0;if(t&1){t=Ze(0)|0;Xt(t)}else Xt(e)}function Jw(){var e=0,t=0,n=0;k=0;e=De(2)|0;n=k;k=0;if(n&1){n=Ze(0)|0;Xt(n)}if(((e|0)!=0?(t=d[e>>2]|0,(t|0)!=0):0)?(n=t+48|0,(d[n>>2]&-256|0)==1126902528?(d[n+4>>2]|0)==1129074247:0):0)Zw(d[t+12>>2]|0);n=d[9208]|0;d[9208]=n+0;Zw(n)}function $w(){var e=0;e=d[9214]|0;d[9214]=e+0;return e|0}function eS(e){e=e|0;return}function tS(e){e=e|0;d[e>>2]=36868;LS(e+4|0);return}function nS(e){e=e|0;tS(e);Hw(e);return}function rS(e){e=e|0;return d[e+4>>2]|0}function iS(e){e=e|0;return}function aS(e){e=e|0;d[e>>2]=36888;return}function oS(e){e=e|0;return}function sS(e){e=e|0;Hw(e);return}function uS(e){e=e|0;return 51716}function lS(e){e=e|0;return}function cS(e){e=e|0;return}function fS(e){e=e|0;return}function hS(e){e=e|0;Hw(e);return}function dS(e){e=e|0;Hw(e);return}function pS(e){e=e|0;Hw(e);return}function mS(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;o=w;w=w+64|0;a=o;if((e|0)!=(t|0)){if((t|0)!=0?(i=SS(t,656,672,0)|0,(i|0)!=0):0){t=a;r=t+56|0;do{d[t>>2]=0;t=t+4|0}while((t|0)<(r|0));d[a>>2]=i;d[a+8>>2]=e;d[a+12>>2]=-1;d[a+48>>2]=1;P_[d[(d[i>>2]|0)+28>>2]&63](i,a,d[n>>2]|0,1);if((d[a+24>>2]|0)==1){d[n>>2]=d[a+16>>2];t=1}else t=0}else t=0}else t=1;w=o;return t|0}function gS(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0;e=t+16|0;i=d[e>>2]|0;do{if(i){if((i|0)!=(n|0)){r=t+36|0;d[r>>2]=(d[r>>2]|0)+1;d[t+24>>2]=2;f[t+54>>0]=1;break}e=t+24|0;if((d[e>>2]|0)==2)d[e>>2]=r}else{d[e>>2]=n;d[t+24>>2]=r;d[t+36>>2]=1}}while(0);return}function vS(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;if((e|0)==(d[t+8>>2]|0))gS(0,t,n,r);return}function yS(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;if((e|0)==(d[t+8>>2]|0))gS(0,t,n,r);else{e=d[e+8>>2]|0;P_[d[(d[e>>2]|0)+28>>2]&63](e,t,n,r)}return}function bS(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;a=d[e+4>>2]|0;i=a>>8;if(a&1)i=d[(d[n>>2]|0)+i>>2]|0;e=d[e>>2]|0;P_[d[(d[e>>2]|0)+28>>2]&63](e,t,n+i|0,(a&2|0)!=0?r:2);return}function wS(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;e:do{if((e|0)!=(d[t+8>>2]|0)){a=d[e+12>>2]|0;i=e+16+(a<<3)|0;bS(e+16|0,t,n,r);if((a|0)>1){a=t+54|0;e=e+24|0;do{bS(e,t,n,r);if(f[a>>0]|0)break e;e=e+8|0}while(e>>>0<i>>>0)}}else gS(0,t,n,r)}while(0);return}function SS(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0,p=0,m=0,g=0;g=w;w=w+64|0;m=g;p=d[e>>2]|0;c=e+(d[p+-8>>2]|0)|0;p=d[p+-4>>2]|0;d[m>>2]=n;d[m+4>>2]=e;d[m+8>>2]=t;d[m+12>>2]=r;r=m+16|0;e=m+20|0;t=m+24|0;i=m+28|0;a=m+32|0;o=m+40|0;s=(p|0)==(n|0);u=r;l=u+36|0;do{d[u>>2]=0;u=u+4|0}while((u|0)<(l|0));h[r+36>>1]=0;f[r+38>>0]=0;e:do{if(s){d[m+48>>2]=1;x_[d[(d[n>>2]|0)+20>>2]&15](n,m,c,c,1,0);r=(d[t>>2]|0)==1?c:0}else{d_[d[(d[p>>2]|0)+24>>2]&15](p,m,c,1,0);switch(d[m+36>>2]|0){case 0:{r=(d[o>>2]|0)==1&(d[i>>2]|0)==1&(d[a>>2]|0)==1?d[e>>2]|0:0;break e}case 1:break;default:{r=0;break e}}if((d[t>>2]|0)!=1?!((d[o>>2]|0)==0&(d[i>>2]|0)==1&(d[a>>2]|0)==1):0){r=0;break}r=d[r>>2]|0}}while(0);w=g;return r|0}function xS(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;f[t+53>>0]=1;do{if((d[t+4>>2]|0)==(r|0)){f[t+52>>0]=1;r=t+16|0;e=d[r>>2]|0;if(!e){d[r>>2]=n;d[t+24>>2]=i;d[t+36>>2]=1;if(!((i|0)==1?(d[t+48>>2]|0)==1:0))break;f[t+54>>0]=1;break}if((e|0)!=(n|0)){i=t+36|0;d[i>>2]=(d[i>>2]|0)+1;f[t+54>>0]=1;break}e=t+24|0;r=d[e>>2]|0;if((r|0)==2){d[e>>2]=i;r=i}if((r|0)==1?(d[t+48>>2]|0)==1:0)f[t+54>>0]=1}}while(0);return}function _S(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0;e:do{if((e|0)==(d[t+8>>2]|0)){if((d[t+4>>2]|0)==(n|0)?(a=t+28|0,(d[a>>2]|0)!=1):0)d[a>>2]=r}else{if((e|0)!=(d[t>>2]|0)){g=d[e+12>>2]|0;s=e+16+(g<<3)|0;ES(e+16|0,t,n,r,i);a=e+24|0;if((g|0)<=1)break;o=d[e+8>>2]|0;if((o&2|0)==0?(u=t+36|0,(d[u>>2]|0)!=1):0){if(!(o&1)){o=t+54|0;while(1){if(f[o>>0]|0)break e;if((d[u>>2]|0)==1)break e;ES(a,t,n,r,i);a=a+8|0;if(a>>>0>=s>>>0)break e}}o=t+24|0;e=t+54|0;while(1){if(f[e>>0]|0)break e;if((d[u>>2]|0)==1?(d[o>>2]|0)==1:0)break e;ES(a,t,n,r,i);a=a+8|0;if(a>>>0>=s>>>0)break e}}o=t+54|0;while(1){if(f[o>>0]|0)break e;ES(a,t,n,r,i);a=a+8|0;if(a>>>0>=s>>>0)break e}}if((d[t+16>>2]|0)!=(n|0)?(m=t+20|0,(d[m>>2]|0)!=(n|0)):0){d[t+32>>2]=r;c=t+44|0;if((d[c>>2]|0)==4)break;o=d[e+12>>2]|0;s=e+16+(o<<3)|0;u=t+52|0;r=t+53|0;h=t+54|0;l=e+8|0;p=t+24|0;t:do{if((o|0)>0){o=0;a=0;e=e+16|0;while(1){f[u>>0]=0;f[r>>0]=0;TS(e,t,n,n,1,i);if(f[h>>0]|0){g=20;break t}do{if(f[r>>0]|0){if(!(f[u>>0]|0))if(!(d[l>>2]&1)){a=1;g=20;break t}else{a=1;break}if((d[p>>2]|0)==1)break t;if(!(d[l>>2]&2))break t;else{o=1;a=1}}}while(0);e=e+8|0;if(e>>>0>=s>>>0){g=20;break}}}else{o=0;a=0;g=20}}while(0);do{if((g|0)==20){if((!o?(d[m>>2]=n,n=t+40|0,d[n>>2]=(d[n>>2]|0)+1,(d[t+36>>2]|0)==1):0)?(d[p>>2]|0)==2:0){f[h>>0]=1;if(a)break}else g=24;if((g|0)==24?a:0)break;d[c>>2]=4;break e}}while(0);d[c>>2]=3;break}if((r|0)==1)d[t+32>>2]=1}}while(0);return}function TS(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0;s=d[e+4>>2]|0;o=s>>8;if(s&1)o=d[(d[r>>2]|0)+o>>2]|0;e=d[e>>2]|0;x_[d[(d[e>>2]|0)+20>>2]&15](e,t,n,r+o|0,(s&2|0)!=0?i:2,a);return}function ES(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0;o=d[e+4>>2]|0;a=o>>8;if(o&1)a=d[(d[n>>2]|0)+a>>2]|0;e=d[e>>2]|0;d_[d[(d[e>>2]|0)+24>>2]&15](e,t,n+a|0,(o&2|0)!=0?r:2,i);return}function kS(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0;e:do{if((e|0)==(d[t+8>>2]|0)){if((d[t+4>>2]|0)==(n|0)?(a=t+28|0,(d[a>>2]|0)!=1):0)d[a>>2]=r}else{if((e|0)!=(d[t>>2]|0)){s=d[e+8>>2]|0;d_[d[(d[s>>2]|0)+24>>2]&15](s,t,n,r,i);break}if((d[t+16>>2]|0)!=(n|0)?(o=t+20|0,(d[o>>2]|0)!=(n|0)):0){d[t+32>>2]=r;r=t+44|0;if((d[r>>2]|0)==4)break;a=t+52|0;f[a>>0]=0;u=t+53|0;f[u>>0]=0;e=d[e+8>>2]|0;x_[d[(d[e>>2]|0)+20>>2]&15](e,t,n,n,1,i);if(f[u>>0]|0){if(!(f[a>>0]|0)){a=1;s=13}}else{a=0;s=13}do{if((s|0)==13){d[o>>2]=n;u=t+40|0;d[u>>2]=(d[u>>2]|0)+1;if((d[t+36>>2]|0)==1?(d[t+24>>2]|0)==2:0){f[t+54>>0]=1;if(a)break}else s=16;if((s|0)==16?a:0)break;d[r>>2]=4;break e}}while(0);d[r>>2]=3;break}if((r|0)==1)d[t+32>>2]=1}}while(0);return}function CS(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0;do{if((e|0)==(d[t+8>>2]|0)){if((d[t+4>>2]|0)==(n|0)?(o=t+28|0,(d[o>>2]|0)!=1):0)d[o>>2]=r}else if((e|0)==(d[t>>2]|0)){if((d[t+16>>2]|0)!=(n|0)?(a=t+20|0,(d[a>>2]|0)!=(n|0)):0){d[t+32>>2]=r;d[a>>2]=n;i=t+40|0;d[i>>2]=(d[i>>2]|0)+1;if((d[t+36>>2]|0)==1?(d[t+24>>2]|0)==2:0)f[t+54>>0]=1;d[t+44>>2]=4;break}if((r|0)==1)d[t+32>>2]=1}}while(0);return}function AS(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;var o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0;if((e|0)==(d[t+8>>2]|0))xS(0,t,n,r,i);else{c=t+52|0;h=f[c>>0]|0;p=t+53|0;m=f[p>>0]|0;l=d[e+12>>2]|0;o=e+16+(l<<3)|0;f[c>>0]=0;f[p>>0]=0;TS(e+16|0,t,n,r,i,a);e:do{if((l|0)>1){s=t+24|0;u=e+8|0;l=t+54|0;e=e+24|0;do{if(f[l>>0]|0)break e;if(!(f[c>>0]|0)){if((f[p>>0]|0)!=0?(d[u>>2]&1|0)==0:0)break e}else{if((d[s>>2]|0)==1)break e;if(!(d[u>>2]&2))break e}f[c>>0]=0;f[p>>0]=0;TS(e,t,n,r,i,a);e=e+8|0}while(e>>>0<o>>>0)}}while(0);f[c>>0]=h;f[p>>0]=m}return}function OS(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;if((e|0)==(d[t+8>>2]|0))xS(0,t,n,r,i);else{e=d[e+8>>2]|0;x_[d[(d[e>>2]|0)+20>>2]&15](e,t,n,r,i,a)}return}function IS(e,t,n,r,i,a){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;a=a|0;if((e|0)==(d[t+8>>2]|0))xS(0,t,n,r,i);return}function MS(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;i=w;w=w+16|0;r=i;d[r>>2]=d[n>>2];e=w_[d[(d[e>>2]|0)+16>>2]&63](e,t,r)|0;if(e)d[n>>2]=d[r>>2];w=i;return e&1|0}function DS(e){e=e|0;if(!e)e=0;else e=(SS(e,656,704,0)|0)!=0;return e&1|0}function RS(){var e=0;e=Ke(4)|0;Qw(e);_t(e|0,592,78)}function PS(){var e=0,t=0,n=0,r=0,i=0,a=0,o=0,s=0;i=w;w=w+48|0;o=i+32|0;n=i+24|0;s=i+16|0;a=i;i=i+36|0;e=Gw()|0;if((e|0)!=0?(r=d[e>>2]|0,(r|0)!=0):0){e=r+48|0;t=d[e>>2]|0;e=d[e+4>>2]|0;if(!((t&-256|0)==1126902528&(e|0)==1129074247)){d[n>>2]=d[9257];Uw(51919,n)}if((t|0)==1126902529&(e|0)==1129074247)e=d[r+44>>2]|0;else e=r+80|0;d[i>>2]=e;r=d[r>>2]|0;e=d[r+4>>2]|0;if(w_[d[(d[608>>2]|0)+16>>2]&63](608,r,i)|0){s=d[i>>2]|0;i=d[9257]|0;s=y_[d[(d[s>>2]|0)+8>>2]&127](s)|0;d[a>>2]=i;d[a+4>>2]=e;d[a+8>>2]=s;Uw(51833,a)}else{d[s>>2]=d[9257];d[s+4>>2]=e;Uw(51878,s)}}Uw(51957,o)}function NS(){var e=0;e=w;w=w+16|0;if(!(Ge(37020,184)|0)){w=e;return}else Uw(51730,e)}function LS(e){e=e|0;var t=0,n=0;n=(d[e>>2]|0)+-4|0;t=d[n>>2]|0;d[n>>2]=t+-1;if((t+-1|0)<0)Hw((d[e>>2]|0)+-12|0);return}function FS(e){e=e|0;var t=0;t=w;w=w+16|0;jf(e);if(!(St(d[9255]|0,0)|0)){w=t;return}else Uw(51780,t)}function BS(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;e=Kx(e,t,n)|0;return e|0}function zS(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;e=Zx(e,t,n)|0;return e|0}function US(){return 37296}function jS(){return 37300}function VS(){return 37304}function GS(e){e=e|0;return((e|0)==32|(e+-9|0)>>>0<5)&1|0}function WS(e){e=e|0;if((e+-48|0)>>>0<10)e=1;else e=((e|32)+-97|0)>>>0<6;return e&1|0}function HS(){var e=0;if(!(d[9258]|0))e=37308;else{e=(dt()|0)+60|0;e=d[e>>2]|0}return e|0}function qS(e){e=e|0;var t=0,n=0;t=0;while(1){if((p[51978+t>>0]|0)==(e|0)){n=2;break}t=t+1|0;if((t|0)==87){t=87;e=52066;n=5;break}}if((n|0)==2)if(!t)e=52066;else{e=52066;n=5}if((n|0)==5)while(1){n=e;while(1){e=n+1|0;if(!(f[n>>0]|0))break;else n=e}t=t+-1|0;if(!t)break;else n=5}return e|0}function QS(e,t,n){e=e|0;t=t|0;n=n|0;var r=0.0,i=0,a=0.0,o=0,s=0,u=0.0,l=0,c=0,h=0,m=0.0,g=0.0,v=0,y=0,b=0,S=0,x=0,_=0,T=0,E=0,k=0,C=0,A=0,O=0,D=0,R=0,P=0,N=0,L=0,F=0.0;L=w;w=w+512|0;D=L;switch(t|0){case 0:{N=24;P=-149;T=4;break}case 1:{N=53;P=-1074;T=4;break}case 2:{N=53;P=-1074;T=4;break}default:r=0.0}e:do{if((T|0)==4){C=e+4|0;k=e+100|0;do{t=d[C>>2]|0;if(t>>>0<(d[k>>2]|0)>>>0){d[C>>2]=t+1;t=p[t>>0]|0}else t=KS(e)|0}while((GS(t)|0)!=0);t:do{switch(t|0){case 43:case 45:{i=1-(((t|0)==45&1)<<1)|0;t=d[C>>2]|0;if(t>>>0<(d[k>>2]|0)>>>0){d[C>>2]=t+1;t=p[t>>0]|0;R=i;break t}else{t=KS(e)|0;R=i;break t}}default:R=1}}while(0);i=t;t=0;do{if((i|32|0)!=(f[53870+t>>0]|0))break;do{if(t>>>0<7){i=d[C>>2]|0;if(i>>>0<(d[k>>2]|0)>>>0){d[C>>2]=i+1;i=p[i>>0]|0;break}else{i=KS(e)|0;break}}}while(0);t=t+1|0}while(t>>>0<8);t:do{switch(t|0){case 8:break;case 3:{T=23;break}default:{o=(n|0)!=0;if(o&t>>>0>3)if((t|0)==8)break t;else{T=23;break t}n:do{if(!t){t=0;do{if((i|32|0)!=(f[56747+t>>0]|0))break n;do{if(t>>>0<2){i=d[C>>2]|0;if(i>>>0<(d[k>>2]|0)>>>0){d[C>>2]=i+1;i=p[i>>0]|0;break}else{i=KS(e)|0;break}}}while(0);t=t+1|0}while(t>>>0<3)}}while(0);switch(t|0){case 3:{t=d[C>>2]|0;if(t>>>0<(d[k>>2]|0)>>>0){d[C>>2]=t+1;t=p[t>>0]|0}else t=KS(e)|0;if((t|0)==40)t=1;else{if(!(d[k>>2]|0)){r=I;break e}d[C>>2]=(d[C>>2]|0)+-1;r=I;break e}while(1){i=d[C>>2]|0;if(i>>>0<(d[k>>2]|0)>>>0){d[C>>2]=i+1;i=p[i>>0]|0}else i=KS(e)|0;if(!((i+-48|0)>>>0<10|(i+-65|0)>>>0<26)?!((i|0)==95|(i+-97|0)>>>0<26):0)break;t=t+1|0}if((i|0)==41){r=I;break e}i=(d[k>>2]|0)==0;if(!i)d[C>>2]=(d[C>>2]|0)+-1;if(!o){N=HS()|0;d[N>>2]=22;YS(e,0);r=0.0;break e}if(!t){r=I;break e}while(1){t=t+-1|0;if(!i)d[C>>2]=(d[C>>2]|0)+-1;if(!t){r=I;break e}}}case 0:{do{if((i|0)==48){t=d[C>>2]|0;if(t>>>0<(d[k>>2]|0)>>>0){d[C>>2]=t+1;t=p[t>>0]|0}else t=KS(e)|0;if((t|32|0)!=120){if(!(d[k>>2]|0)){t=48;break}d[C>>2]=(d[C>>2]|0)+-1;t=48;break}t=d[C>>2]|0;if(t>>>0<(d[k>>2]|0)>>>0){d[C>>2]=t+1;t=p[t>>0]|0;o=0}else{t=KS(e)|0;o=0}n:while(1){switch(t|0){case 46:{T=74;break n}case 48:break;default:{x=0;s=0;S=0;i=0;l=o;c=0;b=0;u=1.0;o=0;r=0.0;break n}}t=d[C>>2]|0;if(t>>>0<(d[k>>2]|0)>>>0){d[C>>2]=t+1;t=p[t>>0]|0;o=1;continue}else{t=KS(e)|0;o=1;continue}}if((T|0)==74){t=d[C>>2]|0;if(t>>>0<(d[k>>2]|0)>>>0){d[C>>2]=t+1;t=p[t>>0]|0}else t=KS(e)|0;if((t|0)==48){o=0;i=0;do{t=d[C>>2]|0;if(t>>>0<(d[k>>2]|0)>>>0){d[C>>2]=t+1;t=p[t>>0]|0}else t=KS(e)|0;o=Ry(o|0,i|0,-1,-1)|0;i=j}while((t|0)==48);x=0;s=0;S=o;l=1;c=1;b=0;u=1.0;o=0;r=0.0}else{x=0;s=0;S=0;i=0;l=o;c=1;b=0;u=1.0;o=0;r=0.0}}while(1){v=t+-48|0;h=t|32;if(v>>>0>=10){y=(t|0)==46;if(!(y|(h+-97|0)>>>0<6)){h=S;v=x;break}if(y){if(!c){y=s;i=x;v=x;c=1;h=b;a=u}else{h=S;v=x;t=46;break}}else T=86}else T=86;if((T|0)==86){T=0;t=(t|0)>57?h+-87|0:v;do{if(!((x|0)<0|(x|0)==0&s>>>0<8)){if((x|0)<0|(x|0)==0&s>>>0<14){g=u*.0625;h=b;a=g;r=r+g*+(t|0);break}if((b|0)!=0|(t|0)==0){h=b;a=u}else{h=1;a=u;r=r+u*.5}}else{h=b;a=u;o=t+(o<<4)|0}}while(0);s=Ry(s|0,x|0,1,0)|0;y=S;v=j;l=1}t=d[C>>2]|0;if(t>>>0<(d[k>>2]|0)>>>0){d[C>>2]=t+1;x=v;S=y;t=p[t>>0]|0;b=h;u=a;continue}else{x=v;S=y;t=KS(e)|0;b=h;u=a;continue}}if(!l){t=(d[k>>2]|0)==0;if(!t)d[C>>2]=(d[C>>2]|0)+-1;if(n){if(!t?(_=d[C>>2]|0,d[C>>2]=_+-1,(c|0)!=0):0)d[C>>2]=_+-2}else YS(e,0);r=+(R|0)*0.0;break e}l=(c|0)==0;c=l?s:h;l=l?v:i;if((v|0)<0|(v|0)==0&s>>>0<8){i=v;do{o=o<<4;s=Ry(s|0,i|0,1,0)|0;i=j}while((i|0)<0|(i|0)==0&s>>>0<8)}if((t|32|0)==112){i=u_(e,n)|0;t=j;if((i|0)==0&(t|0)==-2147483648){if(!n){YS(e,0);r=0.0;break e}if(!(d[k>>2]|0)){i=0;t=0}else{d[C>>2]=(d[C>>2]|0)+-1;i=0;t=0}}}else if(!(d[k>>2]|0)){i=0;t=0}else{d[C>>2]=(d[C>>2]|0)+-1;i=0;t=0}D=Ly(c|0,l|0,2)|0;D=Ry(D|0,j|0,-32,-1)|0;t=Ry(D|0,j|0,i|0,t|0)|0;i=j;if(!o){r=+(R|0)*0.0;break e}if((i|0)>0|(i|0)==0&t>>>0>(0-P|0)>>>0){N=HS()|0;d[N>>2]=34;r=+(R|0)*1797693134862315708145274.0e284*1797693134862315708145274.0e284;break e}D=P+-106|0;O=((D|0)<0)<<31>>31;if((i|0)<(O|0)|(i|0)==(O|0)&t>>>0<D>>>0){N=HS()|0;d[N>>2]=34;r=+(R|0)*2.2250738585072014e-308*2.2250738585072014e-308;break e}if((o|0)>-1){do{O=!(r>=.5);D=O&1|o<<1;o=D^1;r=r+(O?r:r+-1.0);t=Ry(t|0,i|0,-1,-1)|0;i=j}while((D|0)>-1);s=t;u=r}else{s=t;u=r}t=My(32,0,P|0,((P|0)<0)<<31>>31|0)|0;t=Ry(s|0,i|0,t|0,j|0)|0;P=j;if(0>(P|0)|0==(P|0)&N>>>0>t>>>0){if((t|0)<0){t=0;T=127}else T=125}else{t=N;T=125}if((T|0)==125)if((t|0)<53)T=127;else{i=t;a=+(R|0);r=0.0}if((T|0)==127){r=+(R|0);i=t;a=r;r=+sx(+hx(1.0,84-t|0),r)}N=(o&1|0)==0&(u!=0.0&(i|0)<32);r=a*(N?0.0:u)+(r+a*+(((N&1)+o|0)>>>0))-r;if(!(r!=0.0)){N=HS()|0;d[N>>2]=34}r=+dx(r,s);break e}else t=i}while(0);A=P+N|0;O=0-A|0;o=0;n:while(1){switch(t|0){case 46:{T=138;break n}case 48:break;default:{i=0;h=0;c=0;break n}}t=d[C>>2]|0;if(t>>>0<(d[k>>2]|0)>>>0){d[C>>2]=t+1;t=p[t>>0]|0;o=1;continue}else{t=KS(e)|0;o=1;continue}}if((T|0)==138){t=d[C>>2]|0;if(t>>>0<(d[k>>2]|0)>>>0){d[C>>2]=t+1;t=p[t>>0]|0}else t=KS(e)|0;if((t|0)==48){i=0;t=0;while(1){i=Ry(i|0,t|0,-1,-1)|0;o=j;t=d[C>>2]|0;if(t>>>0<(d[k>>2]|0)>>>0){d[C>>2]=t+1;t=p[t>>0]|0}else t=KS(e)|0;if((t|0)==48)t=o;else{h=o;o=1;c=1;break}}}else{i=0;h=0;c=1}}d[D>>2]=0;l=t+-48|0;s=(t|0)==46;n:do{if(s|l>>>0<10){E=D+496|0;x=0;y=0;b=s;T=h;v=o;_=c;o=0;s=0;c=0;r:while(1){do{if(b){if(!_){i=x;h=y;_=1}else{h=T;t=x;l=y;break r}}else{b=Ry(x|0,y|0,1,0)|0;y=j;S=(t|0)!=48;if((s|0)>=125){if(!S){h=T;x=b;break}d[E>>2]=d[E>>2]|1;h=T;x=b;break}h=D+(s<<2)|0;if(o)l=t+-48+((d[h>>2]|0)*10|0)|0;d[h>>2]=l;o=o+1|0;l=(o|0)==9;h=T;x=b;v=1;o=l?0:o;s=(l&1)+s|0;c=S?b:c}}while(0);t=d[C>>2]|0;if(t>>>0<(d[k>>2]|0)>>>0){d[C>>2]=t+1;t=p[t>>0]|0}else t=KS(e)|0;l=t+-48|0;b=(t|0)==46;if(!(b|l>>>0<10)){l=_;T=161;break n}else T=h}v=(v|0)!=0;T=169}else{x=0;y=0;v=o;l=c;o=0;s=0;c=0;T=161}}while(0);do{if((T|0)==161){E=(l|0)==0;i=E?x:i;h=E?y:h;v=(v|0)!=0;if(!((t|32|0)==101&v))if((t|0)>-1){t=x;l=y;T=169;break}else{t=x;l=y;T=171;break}l=u_(e,n)|0;t=j;if((l|0)==0&(t|0)==-2147483648){if(!n){YS(e,0);r=0.0;break}if(!(d[k>>2]|0)){l=0;t=0}else{d[C>>2]=(d[C>>2]|0)+-1;l=0;t=0}}i=Ry(l|0,t|0,i|0,h|0)|0;v=x;h=j;l=y;T=173}}while(0);if((T|0)==169)if(d[k>>2]|0){d[C>>2]=(d[C>>2]|0)+-1;if(v){v=t;T=173}else T=172}else T=171;if((T|0)==171)if(v){v=t;T=173}else T=172;do{if((T|0)==172){N=HS()|0;d[N>>2]=22;YS(e,0);r=0.0}else if((T|0)==173){t=d[D>>2]|0;if(!t){r=+(R|0)*0.0;break}if(((l|0)<0|(l|0)==0&v>>>0<10)&((i|0)==(v|0)&(h|0)==(l|0))?N>>>0>30|(t>>>N|0)==0:0){r=+(R|0)*+(t>>>0);break}e=(P|0)/-2|0;C=((e|0)<0)<<31>>31;if((h|0)>(C|0)|(h|0)==(C|0)&i>>>0>e>>>0){N=HS()|0;d[N>>2]=34;r=+(R|0)*1797693134862315708145274.0e284*1797693134862315708145274.0e284;break}e=P+-106|0;C=((e|0)<0)<<31>>31;if((h|0)<(C|0)|(h|0)==(C|0)&i>>>0<e>>>0){N=HS()|0;d[N>>2]=34;r=+(R|0)*2.2250738585072014e-308*2.2250738585072014e-308;break}if(o){if((o|0)<9){l=D+(s<<2)|0;t=d[l>>2]|0;do{t=t*10|0;o=o+1|0}while((o|0)!=9);d[l>>2]=t}s=s+1|0}if((c|0)<9?(c|0)<=(i|0)&(i|0)<18:0){if((i|0)==9){r=+(R|0)*+((d[D>>2]|0)>>>0);break}if((i|0)<9){r=+(R|0)*+((d[D>>2]|0)>>>0)/+(d[37312+(8-i<<2)>>2]|0);break}e=N+27+(fe(i,-3)|0)|0;t=d[D>>2]|0;if((e|0)>30|(t>>>e|0)==0){r=+(R|0)*+(t>>>0)*+(d[37312+(i+-10<<2)>>2]|0);break}}t=(i|0)%9|0;if(!t){o=0;t=0}else{v=(i|0)>-1?t:t+9|0;l=d[37312+(8-v<<2)>>2]|0;if(s){c=1e9/(l|0)|0;o=0;t=0;h=0;do{k=D+(h<<2)|0;C=d[k>>2]|0;e=((C>>>0)/(l>>>0)|0)+t|0;d[k>>2]=e;t=fe((C>>>0)%(l>>>0)|0,c)|0;e=(h|0)==(o|0)&(e|0)==0;h=h+1|0;i=e?i+-9|0:i;o=e?h&127:o}while((h|0)!=(s|0));if(t){d[D+(s<<2)>>2]=t;s=s+1|0}}else{o=0;s=0}t=0;i=9-v+i|0}n:while(1){y=(i|0)<18;b=(i|0)==18;S=D+(o<<2)|0;do{if(!y){if(!b)break n;if((d[S>>2]|0)>>>0>=9007199){i=18;break n}}l=0;c=s+127|0;while(1){v=c&127;h=D+(v<<2)|0;c=Ly(d[h>>2]|0,0,29)|0;c=Ry(c|0,j|0,l|0,0)|0;l=j;if(l>>>0>0|(l|0)==0&c>>>0>1e9){e=Wy(c|0,l|0,1e9,0)|0;c=Hy(c|0,l|0,1e9,0)|0;l=e}else l=0;d[h>>2]=c;e=(v|0)==(o|0);s=(v|0)!=(s+127&127|0)|e?s:(c|0)==0?v:s;if(e)break;else c=v+-1|0}t=t+-29|0}while((l|0)==0);o=o+127&127;if((o|0)==(s|0)){e=s+127&127;s=D+((s+126&127)<<2)|0;d[s>>2]=d[s>>2]|d[D+(e<<2)>>2];s=e}d[D+(o<<2)>>2]=l;i=i+9|0}n:while(1){x=s+1&127;S=D+((s+127&127)<<2)|0;while(1){y=(i|0)==18;b=(i|0)>27?9:1;v=y^1;while(1){c=o&127;h=(c|0)==(s|0);do{if(!h){l=d[D+(c<<2)>>2]|0;if(l>>>0<9007199){T=219;break}if(l>>>0>9007199)break;l=o+1&127;if((l|0)==(s|0)){T=219;break}l=d[D+(l<<2)>>2]|0;if(l>>>0<254740991){T=219;break}if(!(l>>>0>254740991|v)){i=c;break n}}else T=219}while(0);if((T|0)==219?(T=0,y):0){T=220;break n}t=t+b|0;if((o|0)==(s|0))o=s;else break}v=(1<<b)+-1|0;y=1e9>>>b;c=o;l=0;h=o;while(1){C=D+(h<<2)|0;e=d[C>>2]|0;o=(e>>>b)+l|0;d[C>>2]=o;l=fe(e&v,y)|0;o=(h|0)==(c|0)&(o|0)==0;h=h+1&127;i=o?i+-9|0:i;o=o?h:c;if((h|0)==(s|0))break;else c=o}if(!l)continue;if((x|0)!=(o|0))break;d[S>>2]=d[S>>2]|1}d[D+(s<<2)>>2]=l;s=x}if((T|0)==220)if(h){d[D+(x+-1<<2)>>2]=0;i=s;s=x}else i=c;r=+((d[D+(i<<2)>>2]|0)>>>0);i=o+1&127;if((i|0)==(s|0)){s=o+2&127;d[D+(s+-1<<2)>>2]=0}g=+(R|0);a=g*(r*1.0e9+ +((d[D+(i<<2)>>2]|0)>>>0));y=t+53|0;h=y-P|0;v=(h|0)<(N|0);i=v&1;c=v?(h|0)<0?0:h:N;if((c|0)<53){F=+sx(+hx(1.0,105-c|0),a);u=+lx(a,+hx(1.0,53-c|0));m=F;r=u;u=F+(a-u)}else{m=0.0;r=0.0;u=a}l=o+2&127;do{if((l|0)==(s|0))a=r;else{l=d[D+(l<<2)>>2]|0;do{if(l>>>0>=5e8){if(l>>>0>5e8){r=g*.75+r;break}if((o+3&127|0)==(s|0)){r=g*.5+r;break}else{r=g*.75+r;break}}else{if((l|0)==0?(o+3&127|0)==(s|0):0)break;r=g*.25+r}}while(0);if((53-c|0)<=1){a=r;break}if(+lx(r,1.0)!=0.0){a=r;break}a=r+1.0}}while(0);r=u+a-m;do{if((y&2147483647|0)>(-2-A|0)){if(+J(+r)>=9007199254740992.0){i=v&(c|0)==(h|0)?0:i;t=t+1|0;r=r*.5}if((t+50|0)<=(O|0)?!(a!=0.0&(i|0)!=0):0)break;N=HS()|0;d[N>>2]=34}}while(0);r=+dx(r,t)}}while(0);break e}default:{if(d[k>>2]|0)d[C>>2]=(d[C>>2]|0)+-1;N=HS()|0;d[N>>2]=22;YS(e,0);r=0.0;break e}}}}}while(0);if((T|0)==23){i=(d[k>>2]|0)==0;if(!i)d[C>>2]=(d[C>>2]|0)+-1;if((n|0)!=0&t>>>0>3)do{if(!i)d[C>>2]=(d[C>>2]|0)+-1;t=t+-1|0}while(t>>>0>3)}r=+(R|0)*M}}while(0);w=L;return+r}function XS(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,h=0,m=0,g=0,v=0;e:do{if(t>>>0>36){i=HS()|0;d[i>>2]=22;i=0;r=0}else{v=e+4|0;g=e+100|0;do{a=d[v>>2]|0;if(a>>>0<(d[g>>2]|0)>>>0){d[v>>2]=a+1;a=p[a>>0]|0}else a=KS(e)|0}while((GS(a)|0)!=0);t:do{switch(a|0){case 43:case 45:{o=((a|0)==45)<<31>>31;a=d[v>>2]|0;if(a>>>0<(d[g>>2]|0)>>>0){d[v>>2]=a+1;a=p[a>>0]|0;m=o;break t}else{a=KS(e)|0;m=o;break t}}default:m=0}}while(0);o=(t|0)==0;do{if((t&-17|0)==0&(a|0)==48){a=d[v>>2]|0;if(a>>>0<(d[g>>2]|0)>>>0){d[v>>2]=a+1;a=p[a>>0]|0}else a=KS(e)|0;if((a|32|0)!=120)if(o){t=8;c=46;break}else{c=32;break}t=d[v>>2]|0;if(t>>>0<(d[g>>2]|0)>>>0){d[v>>2]=t+1;a=p[t>>0]|0}else a=KS(e)|0;if((p[53879+(a+1)>>0]|0)>15){r=(d[g>>2]|0)==0;if(!r)d[v>>2]=(d[v>>2]|0)+-1;if(!n){YS(e,0);i=0;r=0;break e}if(r){i=0;r=0;break e}d[v>>2]=(d[v>>2]|0)+-1;i=0;r=0;break e}else{t=16;c=46}}else{t=o?10:t;if((p[53879+(a+1)>>0]|0)>>>0<t>>>0)c=32;else{if(d[g>>2]|0)d[v>>2]=(d[v>>2]|0)+-1;YS(e,0);i=HS()|0;d[i>>2]=22;i=0;r=0;break e}}}while(0);if((c|0)==32)if((t|0)==10){t=a+-48|0;if(t>>>0<10){a=0;while(1){o=(a*10|0)+t|0;t=d[v>>2]|0;if(t>>>0<(d[g>>2]|0)>>>0){d[v>>2]=t+1;a=p[t>>0]|0}else a=KS(e)|0;t=a+-48|0;if(!(t>>>0<10&o>>>0<429496729)){t=o;break}else a=o}o=0}else{t=0;o=0}n=a+-48|0;if(n>>>0<10){while(1){s=Gy(t|0,o|0,10,0)|0;u=j;l=((n|0)<0)<<31>>31;h=~l;if(u>>>0>h>>>0|(u|0)==(h|0)&s>>>0>~n>>>0){s=t;break}t=Ry(s|0,u|0,n|0,l|0)|0;o=j;a=d[v>>2]|0;if(a>>>0<(d[g>>2]|0)>>>0){d[v>>2]=a+1;a=p[a>>0]|0}else a=KS(e)|0;n=a+-48|0;if(!(n>>>0<10&(o>>>0<429496729|(o|0)==429496729&t>>>0<2576980378))){s=t;break}}if(n>>>0>9){a=s;t=m}else{t=10;c=72}}else{a=t;t=m}}else c=46;t:do{if((c|0)==46){if(!(t+-1&t)){c=f[54136+((t*23|0)>>>5&7)>>0]|0;o=f[53879+(a+1)>>0]|0;n=o&255;if(n>>>0<t>>>0){a=0;while(1){s=n|a<<c;a=d[v>>2]|0;if(a>>>0<(d[g>>2]|0)>>>0){d[v>>2]=a+1;a=p[a>>0]|0}else a=KS(e)|0;o=f[53879+(a+1)>>0]|0;n=o&255;if(!(s>>>0<134217728&n>>>0<t>>>0))break;else a=s}n=0}else{n=0;s=0}u=Py(-1,-1,c|0)|0;l=j;if((o&255)>>>0>=t>>>0|(n>>>0>l>>>0|(n|0)==(l|0)&s>>>0>u>>>0)){o=n;c=72;break}else a=n;while(1){s=Ly(s|0,a|0,c|0)|0;n=j;s=o&255|s;a=d[v>>2]|0;if(a>>>0<(d[g>>2]|0)>>>0){d[v>>2]=a+1;a=p[a>>0]|0}else a=KS(e)|0;o=f[53879+(a+1)>>0]|0;if((o&255)>>>0>=t>>>0|(n>>>0>l>>>0|(n|0)==(l|0)&s>>>0>u>>>0)){o=n;c=72;break t}else a=n}}o=f[53879+(a+1)>>0]|0;n=o&255;if(n>>>0<t>>>0){a=0;while(1){s=n+(fe(a,t)|0)|0;a=d[v>>2]|0;if(a>>>0<(d[g>>2]|0)>>>0){d[v>>2]=a+1;a=p[a>>0]|0}else a=KS(e)|0;o=f[53879+(a+1)>>0]|0;n=o&255;if(!(s>>>0<119304647&n>>>0<t>>>0))break;else a=s}n=0}else{s=0;n=0}if((o&255)>>>0<t>>>0){c=Wy(-1,-1,t|0,0)|0;h=j;l=n;while(1){if(l>>>0>h>>>0|(l|0)==(h|0)&s>>>0>c>>>0){o=l;c=72;break t}n=Gy(s|0,l|0,t|0,0)|0;u=j;o=o&255;if(u>>>0>4294967295|(u|0)==-1&n>>>0>~o>>>0){o=l;c=72;break t}s=Ry(o|0,0,n|0,u|0)|0;n=j;a=d[v>>2]|0;if(a>>>0<(d[g>>2]|0)>>>0){d[v>>2]=a+1;a=p[a>>0]|0}else a=KS(e)|0;o=f[53879+(a+1)>>0]|0;if((o&255)>>>0>=t>>>0){o=n;c=72;break}else l=n}}else{o=n;c=72}}}while(0);if((c|0)==72)if((p[53879+(a+1)>>0]|0)>>>0<t>>>0){do{a=d[v>>2]|0;if(a>>>0<(d[g>>2]|0)>>>0){d[v>>2]=a+1;a=p[a>>0]|0}else a=KS(e)|0}while((p[53879+(a+1)>>0]|0)>>>0<t>>>0);o=HS()|0;d[o>>2]=34;o=i;a=r;t=(r&1|0)==0&0==0?m:0}else{a=s;t=m}if(d[g>>2]|0)d[v>>2]=(d[v>>2]|0)+-1;if(!(o>>>0<i>>>0|(o|0)==(i|0)&a>>>0<r>>>0)){if(!((r&1|0)!=0|0!=0|(t|0)!=0)){v=HS()|0;d[v>>2]=34;r=Ry(r|0,i|0,-1,-1)|0;i=j;break}if(o>>>0>i>>>0|(o|0)==(i|0)&a>>>0>r>>>0){v=HS()|0;d[v>>2]=34;break}}r=((t|0)<0)<<31>>31;r=My(a^t|0,o^r|0,t|0,r|0)|0;i=j}}while(0);j=i;return r|0}function YS(e,t){e=e|0;t=t|0;var n=0,r=0,i=0;d[e+104>>2]=t;n=d[e+4>>2]|0;r=d[e+8>>2]|0;i=r-n|0;d[e+108>>2]=i;if((t|0)!=0&(i|0)>(t|0))d[e+100>>2]=n+t;else d[e+100>>2]=r;return}function KS(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0;n=e+104|0;a=d[n>>2]|0;if((a|0)!=0?(d[e+108>>2]|0)>=(a|0):0)o=4;else{t=Nx(e)|0;if((t|0)>=0){i=d[n>>2]|0;n=e+8|0;if(i){r=d[n>>2]|0;a=d[e+4>>2]|0;n=r;i=i-(d[e+108>>2]|0)+-1|0;if((n-a|0)>(i|0))d[e+100>>2]=a+i;else o=9}else{r=d[n>>2]|0;n=r;o=9}if((o|0)==9)d[e+100>>2]=n;n=d[e+4>>2]|0;if(r){e=e+108|0;d[e>>2]=r+1-n+(d[e>>2]|0)}n=n+-1|0;if((p[n>>0]|0|0)!=(t|0))f[n>>0]=t}else o=4}if((o|0)==4){d[e+100>>2]=0;t=-1}return t|0}function ZS(e){e=e|0;var t=0;if(e>>>0>4294963200){t=HS()|0;d[t>>2]=0-e;e=-1}return e|0}function JS(e){e=e|0;return 0}function $S(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;return r|0}function ex(e,t){e=e|0;t=t|0;return-1|0}function tx(e){e=e|0;jf(e);return}function nx(e,t){e=e|0;t=t|0;return(e+-48|0)>>>0<10|0}function rx(e,t){e=e|0;t=t|0;return WS(e)|0}function ix(e,t,n){e=e|0;t=t|0;n=n|0;if(((f[t>>0]|0)!=0?(e_(t,58885)|0)!=0:0)?(e_(t,54145)|0)!=0:0)n=0;else if(!n)n=Vf(1,4)|0;return n|0}function ax(e){e=e|0;var t=0,n=0;t=(dt()|0)+176|0;n=d[t>>2]|0;if(e)d[t>>2]=e;return n|0}function ox(e,t){e=+e;t=+t;var n=0,r=0;y[x>>3]=e;r=d[x>>2]|0;n=d[x+4>>2]|0;y[x>>3]=t;n=d[x+4>>2]&-2147483648|n&2147483647;d[x>>2]=r;d[x+4>>2]=n;return+ +y[x>>3]}function sx(e,t){e=+e;t=+t;return+ +ox(e,t)}function ux(e,t){e=+e;t=+t;var n=0,r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0;y[x>>3]=e;n=d[x>>2]|0;l=d[x+4>>2]|0;y[x>>3]=t;c=d[x>>2]|0;f=d[x+4>>2]|0;r=Py(n|0,l|0,52)|0;r=r&2047;s=Py(c|0,f|0,52)|0;s=s&2047;h=l&-2147483648;o=Ly(c|0,f|0,1)|0;u=j;e:do{if(!((o|0)==0&(u|0)==0)?(a=f&2147483647,!(a>>>0>2146435072|(a|0)==2146435072&c>>>0>0|(r|0)==2047)):0){i=Ly(n|0,l|0,1)|0;a=j;if(!(a>>>0>u>>>0|(a|0)==(u|0)&i>>>0>o>>>0))return+((i|0)==(o|0)&(a|0)==(u|0)?e*0.0:e);if(!r){r=Ly(n|0,l|0,12)|0;i=j;if((i|0)>-1|(i|0)==-1&r>>>0>4294967295){a=r;r=0;do{r=r+-1|0;a=Ly(a|0,i|0,1)|0;i=j}while((i|0)>-1|(i|0)==-1&a>>>0>4294967295)}else r=0;n=Ly(n|0,l|0,1-r|0)|0;i=j}else i=l&1048575|1048576;if(!s){a=Ly(c|0,f|0,12)|0;o=j;if((o|0)>-1|(o|0)==-1&a>>>0>4294967295){s=0;do{s=s+-1|0;a=Ly(a|0,o|0,1)|0;o=j}while((o|0)>-1|(o|0)==-1&a>>>0>4294967295)}else s=0;c=Ly(c|0,f|0,1-s|0)|0;l=j}else l=f&1048575|1048576;u=My(n|0,i|0,c|0,l|0)|0;o=j;a=(o|0)>-1|(o|0)==-1&u>>>0>4294967295;t:do{if((r|0)>(s|0)){while(1){if(a)if((n|0)==(c|0)&(i|0)==(l|0))break;else{n=u;i=o}n=Ly(n|0,i|0,1)|0;i=j;r=r+-1|0;u=My(n|0,i|0,c|0,l|0)|0;o=j;a=(o|0)>-1|(o|0)==-1&u>>>0>4294967295;if((r|0)<=(s|0))break t}t=e*0.0;break e}}while(0);if(a)if((n|0)==(c|0)&(i|0)==(l|0)){t=e*0.0;break}else{i=o;n=u}if(i>>>0<1048576|(i|0)==1048576&n>>>0<0)do{n=Ly(n|0,i|0,1)|0;i=j;r=r+-1|0}while(i>>>0<1048576|(i|0)==1048576&n>>>0<0);if((r|0)>0){f=Ry(n|0,i|0,0,-1048576)|0;n=j;r=Ly(r|0,0,52)|0;n=n|j;r=f|r}else{r=Py(n|0,i|0,1-r|0)|0;n=j}d[x>>2]=r;d[x+4>>2]=n|h;t=+y[x>>3]}else p=3}while(0);if((p|0)==3){t=e*t;t=t/t}return+t}function lx(e,t){e=+e;t=+t;return+ +ux(e,t)}function cx(e,t){e=+e;t=t|0;var n=0,r=0,i=0;y[x>>3]=e;n=d[x>>2]|0;r=d[x+4>>2]|0;i=Py(n|0,r|0,52)|0;i=i&2047;switch(i|0){case 0:{if(e!=0.0){e=+cx(e*18446744073709551616.0,t);n=(d[t>>2]|0)+-64|0}else n=0;d[t>>2]=n;break}case 2047:break;default:{d[t>>2]=i+-1022;d[x>>2]=n;d[x+4>>2]=r&-2146435073|1071644672;e=+y[x>>3]}}return+e}function fx(e,t){e=+e;t=t|0;return+ +cx(e,t)}function hx(e,t){e=+e;t=t|0;var n=0;if((t|0)>1023){e=e*8988465674311579538646525.0e283;n=t+-1023|0;if((n|0)>1023){n=t+-2046|0;n=(n|0)>1023?1023:n;e=e*8988465674311579538646525.0e283}}else if((t|0)<-1022){e=e*2.2250738585072014e-308;n=t+1022|0;if((n|0)<-1022){n=t+2044|0;n=(n|0)<-1022?-1022:n;e=e*2.2250738585072014e-308}}else n=t;n=Ly(n+1023|0,0,52)|0;t=j;d[x>>2]=n;d[x+4>>2]=t;return+(e*+y[x>>3])}function dx(e,t){e=+e;t=t|0;return+ +hx(e,t)}function px(e,t,n){e=e|0;t=t|0;n=n|0;return mx(0,e,t,(n|0)!=0?n:37344)|0}function mx(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0;u=w;w=w+16|0;i=u;o=(r|0)==0?37348:r;r=d[o>>2]|0;e:do{if(!t){if(!r)r=0;else s=15}else{a=(e|0)==0?i:e;if(!n)r=-2;else{if(!r){r=f[t>>0]|0;i=r&255;if(r<<24>>24>-1){d[a>>2]=i;r=r<<24>>24!=0&1;break}r=i+-194|0;if(r>>>0>50){s=15;break}r=d[37076+(r<<2)>>2]|0;i=n+-1|0;if(i){t=t+1|0;s=9}}else{i=n;s=9}t:do{if((s|0)==9){e=f[t>>0]|0;l=(e&255)>>>3;if((l+-16|l+(r>>26))>>>0>7){s=15;break e}while(1){t=t+1|0;r=(e&255)+-128|r<<6;i=i+-1|0;if((r|0)>=0)break;if(!i)break t;e=f[t>>0]|0;if((e&-64)<<24>>24!=-128){s=15;break e}}d[o>>2]=0;d[a>>2]=r;r=n-i|0;break e}}while(0);d[o>>2]=r;r=-2}}}while(0);if((s|0)==15){d[o>>2]=0;r=HS()|0;d[r>>2]=84;r=-1}w=u;return r|0}function gx(e){e=e|0;if(!e)e=1;else e=(d[e>>2]|0)==0;return e&1|0}function vx(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0;h=w;w=w+1040|0;l=h+8|0;f=h;u=d[t>>2]|0;d[f>>2]=u;c=(e|0)!=0;r=c?r:256;e=c?e:l;a=u;e:do{if((r|0)!=0&(u|0)!=0){s=r;u=a;r=0;while(1){a=n>>>2;o=a>>>0>=s>>>0;if(!(n>>>0>131|o)){a=u;break e}a=o?s:a;n=n-a|0;a=yx(e,f,a,i)|0;if((a|0)==-1){r=n;break}p=(e|0)==(l|0);u=p?0:a;o=s-u|0;e=p?e:e+(a<<2)|0;r=a+r|0;a=d[f>>2]|0;if((s|0)!=(u|0)&(a|0)!=0){s=o;u=a}else{s=o;break e}}n=r;s=0;a=d[f>>2]|0;r=-1}else{s=r;r=0}}while(0);e:do{if((a|0)!=0?(s|0)!=0&(n|0)!=0:0){o=a;a=e;while(1){e=mx(a,o,n,i)|0;if((e+2|0)>>>0<3)break;o=(d[f>>2]|0)+e|0;d[f>>2]=o;s=s+-1|0;r=r+1|0;if(!((s|0)!=0&(n|0)!=(e|0)))break e;else{n=n-e|0;a=a+4|0}}switch(e|0){case-1:{r=-1;break e}case 0:{d[f>>2]=0;break e}default:{d[i>>2]=0;break e}}}}while(0);if(c)d[t>>2]=d[f>>2];w=h;return r|0}function yx(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0;i=d[t>>2]|0;if((r|0)!=0?(a=d[r>>2]|0,(a|0)!=0):0){if(!e){r=n;o=i;l=16}else{d[r>>2]=0;u=e;r=n;s=a;l=37}}else if(!e){r=n;l=7}else{a=e;r=n;l=6}e:while(1){if((l|0)==6){if(!r){l=26;break}else e=a;while(1){a=f[i>>0]|0;do{if(((a&255)+-1|0)>>>0<127?r>>>0>4&(i&3|0)==0:0){o=i;while(1){i=d[o>>2]|0;if((i+-16843009|i)&-2139062144){a=i;i=o;l=32;break}d[e>>2]=i&255;d[e+4>>2]=p[o+1>>0];d[e+8>>2]=p[o+2>>0];i=o+4|0;a=e+16|0;d[e+12>>2]=p[o+3>>0];r=r+-4|0;if(r>>>0>4){e=a;o=i}else{l=31;break}}if((l|0)==31){e=a;a=f[i>>0]|0;break}else if((l|0)==32){a=a&255;break}}}while(0);a=a&255;if((a+-1|0)>>>0>=127)break;i=i+1|0;d[e>>2]=a;r=r+-1|0;if(!r){l=26;break e}else e=e+4|0}a=a+-194|0;if(a>>>0>50){l=48;break}u=e;s=d[37076+(a<<2)>>2]|0;i=i+1|0;l=37;continue}else if((l|0)==7){a=f[i>>0]|0;if(((a&255)+-1|0)>>>0<127?(i&3|0)==0:0){a=d[i>>2]|0;if(!((a+-16843009|a)&-2139062144))do{i=i+4|0;r=r+-4|0;a=d[i>>2]|0}while(((a+-16843009|a)&-2139062144|0)==0);a=a&255}a=a&255;if((a+-1|0)>>>0<127){r=r+-1|0;i=i+1|0;l=7;continue}a=a+-194|0;if(a>>>0>50){l=48;break}a=d[37076+(a<<2)>>2]|0;o=i+1|0;l=16;continue}else if((l|0)==16){l=(p[o>>0]|0)>>>3;if((l+-16|l+(a>>26))>>>0>7){l=17;break}i=o+1|0;if(a&33554432){if((f[i>>0]&-64)<<24>>24!=-128){l=20;break}i=o+2|0;if(a&524288){if((f[i>>0]&-64)<<24>>24!=-128){l=23;break}i=o+3|0}}r=r+-1|0;l=7;continue}else if((l|0)==37){a=p[i>>0]|0;l=a>>>3;if((l+-16|l+(s>>26))>>>0>7){l=38;break}o=i+1|0;e=a+-128|s<<6;if((e|0)<0){a=p[o>>0]|0;if((a&192|0)!=128){l=41;break}o=i+2|0;e=a+-128|e<<6;if((e|0)<0){a=p[o>>0]|0;if((a&192|0)!=128){l=44;break}e=a+-128|e<<6;i=i+3|0}else i=o}else i=o;d[u>>2]=e;a=u+4|0;r=r+-1|0;l=6;continue}}if((l|0)==17){i=o+-1|0;l=47}else if((l|0)==20){i=o+-1|0;l=47}else if((l|0)==23){i=o+-1|0;l=47}else if((l|0)==26)d[t>>2]=i;else if((l|0)==38){e=u;a=s;i=i+-1|0;l=47}else if((l|0)==41){r=u;n=i+-1|0;l=52}else if((l|0)==44){r=u;n=i+-1|0;l=52}if((l|0)==47)if(!a)l=48;else{r=e;n=i;l=52}if((l|0)==48)if(!(f[i>>0]|0)){if(e){d[e>>2]=0;d[t>>2]=0}n=n-r|0}else{r=e;n=i;l=52}if((l|0)==52){l=HS()|0;d[l>>2]=84;if(!r)n=-1;else{d[t>>2]=n;n=-1}}return n|0}function bx(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;o=w;w=w+16|0;r=o;e:do{if(!t)r=0;else{do{if(n){a=(e|0)==0?r:e;r=f[t>>0]|0;e=r&255;if(r<<24>>24>-1){d[a>>2]=e;r=r<<24>>24!=0&1;break e}r=e+-194|0;if(r>>>0<=50){e=t+1|0;i=d[37076+(r<<2)>>2]|0;if(n>>>0<4?(i&-2147483648>>>((n*6|0)+-6|0)|0)!=0:0)break;r=p[e>>0]|0;n=r>>>3;if((n+-16|n+(i>>26))>>>0<=7){r=r+-128|i<<6;if((r|0)>=0){d[a>>2]=r;r=2;break e}e=p[t+2>>0]|0;if((e&192|0)==128){e=e+-128|r<<6;if((e|0)>=0){d[a>>2]=e;r=3;break e}r=p[t+3>>0]|0;if((r&192|0)==128){d[a>>2]=r+-128|e<<6;r=4;break e}}}}}}while(0);r=HS()|0;d[r>>2]=84;r=-1}}while(0);w=o;return r|0}function wx(e,t,n){e=e|0;t=t|0;n=n|0;do{if(e){if(t>>>0<128){f[e>>0]=t;e=1;break}if(t>>>0<2048){f[e>>0]=t>>>6|192;f[e+1>>0]=t&63|128;e=2;break}if(t>>>0<55296|(t&-8192|0)==57344){f[e>>0]=t>>>12|224;f[e+1>>0]=t>>>6&63|128;f[e+2>>0]=t&63|128;e=3;break}if((t+-65536|0)>>>0<1048576){f[e>>0]=t>>>18|240;f[e+1>>0]=t>>>12&63|128;f[e+2>>0]=t>>>6&63|128;f[e+3>>0]=t&63|128;e=4;break}else{e=HS()|0;d[e>>2]=84;e=-1;break}}else e=1}while(0);return e|0}function Sx(e,t,n,r,i){e=e|0;t=t|0;n=n|0;r=r|0;i=i|0;var a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0;c=w;w=w+272|0;s=c+8|0;l=c;o=d[t>>2]|0;d[l>>2]=o;u=(e|0)!=0;i=u?r:256;r=u?e:s;e=o;e:do{if((i|0)!=0&(o|0)!=0){o=i;a=e;i=0;while(1){e=n>>>0>=o>>>0;if(!(e|n>>>0>32)){e=a;break e}e=e?o:n;n=n-e|0;e=xx(r,l,e,0)|0;if((e|0)==-1){i=n;break}h=(r|0)==(s|0);f=h?0:e;a=o-f|0;r=h?r:r+e|0;i=e+i|0;e=d[l>>2]|0;if((o|0)!=(f|0)&(e|0)!=0){o=a;a=e}else{o=a;break e}}n=i;o=0;e=d[l>>2]|0;i=-1}else{o=i;i=0}}while(0);e:do{if((e|0)!=0?(o|0)!=0&(n|0)!=0:0){a=e;e=r;while(1){r=wx(e,d[a>>2]|0,0)|0;if((r+1|0)>>>0<2)break;a=(d[l>>2]|0)+4|0;d[l>>2]=a;n=n+-1|0;i=i+1|0;if(!((o|0)!=(r|0)&(n|0)!=0))break e;else{o=o-r|0;e=e+r|0}}if(!r)d[l>>2]=0;else i=-1}}while(0);if(u)d[t>>2]=d[l>>2];w=c;return i|0}function xx(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0;s=w;w=w+16|0;o=s;e:do{if(!e){e=d[t>>2]|0;r=d[e>>2]|0;if(!r)n=0;else{n=0;do{if(r>>>0>127){r=wx(o,r,0)|0;if((r|0)==-1){n=-1;break e}}else r=1;n=r+n|0;e=e+4|0;r=d[e>>2]|0}while((r|0)!=0)}}else{t:do{if(n>>>0>3){r=n;i=d[t>>2]|0;while(1){a=d[i>>2]|0;if((a+-1|0)>>>0>126){if(!a)break;a=wx(e,a,0)|0;if((a|0)==-1){n=-1;break e}e=e+a|0;r=r-a|0}else{f[e>>0]=a;e=e+1|0;r=r+-1|0;i=d[t>>2]|0}i=i+4|0;d[t>>2]=i;if(r>>>0<=3)break t}f[e>>0]=0;d[t>>2]=0;n=n-r|0;break e}else r=n}while(0);if(r){i=d[t>>2]|0;while(1){a=d[i>>2]|0;if((a+-1|0)>>>0>126){if(!a){i=19;break}a=wx(o,a,0)|0;if((a|0)==-1){n=-1;break e}if(r>>>0<a>>>0){i=22;break}wx(e,d[i>>2]|0,0)|0;e=e+a|0;r=r-a|0}else{f[e>>0]=a;e=e+1|0;r=r+-1|0;i=d[t>>2]|0}i=i+4|0;d[t>>2]=i;if(!r)break e}if((i|0)==19){f[e>>0]=0;d[t>>2]=0;n=n-r|0;break}else if((i|0)==22){n=n-r|0;break}}}}while(0);w=s;return n|0}function _x(e,t){e=e|0;t=t|0;if(!e)e=0;else e=wx(e,t,0)|0;return e|0}function Tx(e){e=e|0;return 0}function Ex(e){e=e|0;return}function kx(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0,u=0;u=w;w=w+16|0;s=u;o=t&255;f[s>>0]=o;r=e+16|0;i=d[r>>2]|0;if(!i){if(!(Px(e)|0)){i=d[r>>2]|0;a=4}else n=-1}else a=4;do{if((a|0)==4){r=e+20|0;a=d[r>>2]|0;if(a>>>0<i>>>0?(n=t&255,(n|0)!=(f[e+75>>0]|0)):0){d[r>>2]=a+1;f[a>>0]=o;break}if((w_[d[e+36>>2]&63](e,s,1)|0)==1)n=p[s>>0]|0;else n=-1}}while(0);w=u;return n|0}function Cx(e){e=e|0;var t=0,n=0;t=w;w=w+16|0;n=t;d[n>>2]=d[e+60>>2];e=ZS(Et(6,n|0)|0)|0;w=t;return e|0}function Ax(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0;l=w;w=w+48|0;a=l+16|0;i=l;r=l+32|0;d[r>>2]=t;o=r+4|0;u=e+48|0;c=d[u>>2]|0;d[o>>2]=n-((c|0)!=0&1);s=e+44|0;d[r+8>>2]=d[s>>2];d[r+12>>2]=c;if(!(d[9258]|0)){d[a>>2]=d[e+60>>2];d[a+4>>2]=r;d[a+8>>2]=2;r=ZS(Rt(145,a|0)|0)|0}else{kt(185,e|0);d[i>>2]=d[e+60>>2];d[i+4>>2]=r;d[i+8>>2]=2;r=ZS(Rt(145,i|0)|0)|0;yt(0)}if((r|0)>=1){o=d[o>>2]|0;if(r>>>0>o>>>0){a=d[s>>2]|0;i=e+4|0;d[i>>2]=a;d[e+8>>2]=a+(r-o);if(!(d[u>>2]|0))r=n;else{d[i>>2]=a+1;f[t+(n+-1)>>0]=f[a>>0]|0;r=n}}}else{d[e>>2]=d[e>>2]|r&48^16;d[e+8>>2]=0;d[e+4>>2]=0}w=l;return r|0}function Ox(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0;i=w;w=w+32|0;a=i;r=i+20|0;d[a>>2]=d[e+60>>2];d[a+4>>2]=0;d[a+8>>2]=t;d[a+12>>2]=r;d[a+16>>2]=n;if((ZS(Dt(140,a|0)|0)|0)<0){d[r>>2]=-1;e=-1}else e=d[r>>2]|0;w=i;return e|0}function Ix(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,f=0,h=0,p=0,m=0;m=w;w=w+48|0;f=m+16|0;c=m;r=m+32|0;h=e+28|0;i=d[h>>2]|0;d[r>>2]=i;p=e+20|0;i=(d[p>>2]|0)-i|0;d[r+4>>2]=i;d[r+8>>2]=t;d[r+12>>2]=n;u=e+60|0;l=e+44|0;t=2;i=i+n|0;while(1){if(!(d[9258]|0)){d[f>>2]=d[u>>2];d[f+4>>2]=r;d[f+8>>2]=t;o=ZS(Pt(146,f|0)|0)|0}else{kt(186,e|0);d[c>>2]=d[u>>2];d[c+4>>2]=r;d[c+8>>2]=t;o=ZS(Pt(146,c|0)|0)|0;yt(0)}if((i|0)==(o|0)){i=6;break}if((o|0)<0){i=8;break}i=i-o|0;a=d[r+4>>2]|0;if(o>>>0<=a>>>0){if((t|0)==2){d[h>>2]=(d[h>>2]|0)+o;s=a;t=2}else s=a}else{s=d[l>>2]|0;d[h>>2]=s;d[p>>2]=s;s=d[r+12>>2]|0;o=o-a|0;r=r+8|0;t=t+-1|0}d[r>>2]=(d[r>>2]|0)+o;d[r+4>>2]=s-o}if((i|0)==6){f=d[l>>2]|0;d[e+16>>2]=f+(d[e+48>>2]|0);e=f;d[h>>2]=e;d[p>>2]=e}else if((i|0)==8){d[e+16>>2]=0;d[h>>2]=0;d[p>>2]=0;d[e>>2]=d[e>>2]|32;if((t|0)==2)n=0;else n=n-(d[r+4>>2]|0)|0}w=m;return n|0}function Mx(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;i=w;w=w+80|0;r=i;d[e+36>>2]=8;if((d[e>>2]&64|0)==0?(d[r>>2]=d[e+60>>2],d[r+4>>2]=21505,d[r+8>>2]=i+12,(gt(54,r|0)|0)!=0):0)f[e+75>>0]=-1;r=Ix(e,t,n)|0;w=i;return r|0}function Dx(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;r=e+84|0;a=d[r>>2]|0;o=n+256|0;i=Jx(a,0,o)|0;i=(i|0)==0?o:i-a|0;n=i>>>0<n>>>0?i:n;Ny(t|0,a|0,n|0)|0;d[e+4>>2]=a+n;t=a+i|0;d[e+8>>2]=t;d[r>>2]=t;return n|0}function Rx(e){e=e|0;var t=0,n=0;t=e+74|0;n=f[t>>0]|0;f[t>>0]=n+255|n;t=e+20|0;n=e+44|0;if((d[t>>2]|0)>>>0>(d[n>>2]|0)>>>0)w_[d[e+36>>2]&63](e,0,0)|0;d[e+16>>2]=0;d[e+28>>2]=0;d[t>>2]=0;t=d[e>>2]|0;if(t&20){if(!(t&4))t=-1;else{d[e>>2]=t|32;t=-1}}else{t=d[n>>2]|0;d[e+8>>2]=t;d[e+4>>2]=t;t=0}return t|0}function Px(e){e=e|0;var t=0,n=0;t=e+74|0;n=f[t>>0]|0;f[t>>0]=n+255|n;t=d[e>>2]|0;if(!(t&8)){d[e+8>>2]=0;d[e+4>>2]=0;t=d[e+44>>2]|0;d[e+28>>2]=t;d[e+20>>2]=t;d[e+16>>2]=t+(d[e+48>>2]|0);t=0}else{d[e>>2]=t|32;t=-1}return t|0}function Nx(e){e=e|0;var t=0,n=0;n=w;w=w+16|0;t=n;if((d[e+8>>2]|0)==0?(Rx(e)|0)!=0:0)t=-1;else if((w_[d[e+32>>2]&63](e,t,1)|0)==1)t=p[t>>0]|0;else t=-1;w=n;return t|0}function Lx(e){e=e|0;var t=0,n=0;do{if(e){if((d[e+76>>2]|0)<=-1){t=f_(e)|0;break}n=(Tx(e)|0)==0;t=f_(e)|0;if(!n)Ex(e)}else{if(!(d[9323]|0))t=0;else t=Lx(d[9323]|0)|0;Ve(37060);e=d[9264]|0;if(e)do{if((d[e+76>>2]|0)>-1)n=Tx(e)|0;else n=0;if((d[e+20>>2]|0)>>>0>(d[e+28>>2]|0)>>>0)t=f_(e)|0|t;if(n)Ex(e);e=d[e+56>>2]|0}while((e|0)!=0);vt(37060)}}while(0);return t|0}function Fx(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0;if((d[t+76>>2]|0)>=0?(Tx(t)|0)!=0:0){if((f[t+75>>0]|0)!=(e|0)?(r=t+20|0,i=d[r>>2]|0,i>>>0<(d[t+16>>2]|0)>>>0):0){d[r>>2]=i+1;f[i>>0]=e;n=e&255}else n=kx(t,e)|0;Ex(t)}else o=3;do{if((o|0)==3){if((f[t+75>>0]|0)!=(e|0)?(a=t+20|0,n=d[a>>2]|0,n>>>0<(d[t+16>>2]|0)>>>0):0){d[a>>2]=n+1;f[n>>0]=e;n=e&255;break}n=kx(t,e)|0}}while(0);return n|0}function Bx(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;r=n+16|0;i=d[r>>2]|0;if(!i){if(!(Px(n)|0)){i=d[r>>2]|0;a=4}else r=0}else a=4;e:do{if((a|0)==4){o=n+20|0;a=d[o>>2]|0;if((i-a|0)>>>0<t>>>0){r=w_[d[n+36>>2]&63](n,e,t)|0;break}t:do{if((f[n+75>>0]|0)>-1){r=t;while(1){if(!r){i=a;r=0;break t}i=r+-1|0;if((f[e+i>>0]|0)==10)break;else r=i}if((w_[d[n+36>>2]&63](n,e,r)|0)>>>0<r>>>0)break e;t=t-r|0;e=e+r|0;i=d[o>>2]|0}else{i=a;r=0}}while(0);Ny(i|0,e|0,t|0)|0;d[o>>2]=(d[o>>2]|0)+t;r=r+t|0}}while(0);return r|0}function zx(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;i=fe(n,t)|0;if((d[r+76>>2]|0)>-1){a=(Tx(r)|0)==0;e=Bx(e,i,r)|0;if(!a)Ex(r)}else e=Bx(e,i,r)|0;if((e|0)!=(i|0))n=(e>>>0)/(t>>>0)|0;return n|0}function Ux(e){e=e|0;var t=0,n=0,r=0;if((d[e+76>>2]|0)>=0?(Tx(e)|0)!=0:0){t=e+4|0;n=d[t>>2]|0;if(n>>>0<(d[e+8>>2]|0)>>>0){d[t>>2]=n+1;t=p[n>>0]|0}else t=Nx(e)|0}else r=3;do{if((r|0)==3){t=e+4|0;n=d[t>>2]|0;if(n>>>0<(d[e+8>>2]|0)>>>0){d[t>>2]=n+1;t=p[n>>0]|0;break}else{t=Nx(e)|0;break}}}while(0);return t|0}function jx(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0;i=w;w=w+16|0;a=i;d[a>>2]=r;r=Qx(e,t,n,a)|0;w=i;return r|0}function Vx(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;r=w;w=w+16|0;i=r;d[i>>2]=n;n=Xx(e,t,i)|0;w=r;return n|0}function Gx(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0;do{if((e|0)!=-1){if((d[t+76>>2]|0)>-1)i=Tx(t)|0;else i=0;if(!((d[t+8>>2]|0)==0?(Rx(t)|0)!=0:0))a=6;if((a|0)==6?(n=t+4|0,r=d[n>>2]|0,r>>>0>((d[t+44>>2]|0)+-8|0)>>>0):0){a=r+-1|0;d[n>>2]=a;f[a>>0]=e;d[t>>2]=d[t>>2]&-17;if(!i)break;Ex(t);break}if(i){Ex(t);e=-1}else e=-1}else e=-1}while(0);return e|0}function Wx(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0;s=w;w=w+16|0;r=s;i=Uf(240)|0;do{if(i){d[r>>2]=d[n>>2];r=Qx(i,240,t,r)|0;if(r>>>0<240){t=Gf(i,r+1|0)|0;d[e>>2]=(t|0)!=0?t:i;break}jf(i);if((r|0)>=0?(o=r+1|0,a=Uf(o)|0,d[e>>2]=a,(a|0)!=0):0)r=Qx(a,o,t,n)|0;else r=-1}else r=-1}while(0);w=s;return r|0}function Hx(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0,l=0,c=0,h=0,p=0,m=0,g=0,v=0;v=w;w=w+224|0;h=v+80|0;g=v+96|0;m=v;p=v+136|0;r=g;i=r+40|0;do{d[r>>2]=0;r=r+4|0}while((r|0)<(i|0));d[h>>2]=d[n>>2];if((Df(0,t,h,m,g)|0)<0)n=-1;else{if((d[e+76>>2]|0)>-1)l=Tx(e)|0;else l=0;n=d[e>>2]|0;c=n&32;if((f[e+74>>0]|0)<1)d[e>>2]=n&-33;n=e+48|0;if(!(d[n>>2]|0)){i=e+44|0;a=d[i>>2]|0;d[i>>2]=p;o=e+28|0;d[o>>2]=p;s=e+20|0;d[s>>2]=p;d[n>>2]=80;u=e+16|0;d[u>>2]=p+80;r=Df(e,t,h,m,g)|0;if(a){w_[d[e+36>>2]&63](e,0,0)|0;r=(d[s>>2]|0)==0?-1:r;d[i>>2]=a;d[n>>2]=0;d[u>>2]=0;d[o>>2]=0;d[s>>2]=0}}else r=Df(e,t,h,m,g)|0;n=d[e>>2]|0;d[e>>2]=n|c;if(l)Ex(e);n=(n&32|0)==0?r:-1}w=v;return n|0}function qx(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0,s=0,u=0.0,l=0,c=0,m=0,g=0,b=0,S=0,x=0,_=0,T=0,E=0,k=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0,P=0,N=0,L=0,F=0,B=0,z=0,U=0,V=0;U=w;w=w+304|0;D=U+16|0;P=U+8|0;R=U+33|0;N=U;T=U+32|0;if((d[e+76>>2]|0)>-1)z=Tx(e)|0;else z=0;r=f[t>>0]|0;e:do{if(r<<24>>24){L=e+4|0;F=e+100|0;M=e+108|0;E=e+8|0;k=R+10|0;C=R+33|0;A=P+4|0;O=R+46|0;I=R+94|0;a=r;r=0;o=t;m=0;i=0;t=0;t:while(1){n:do{if(!(GS(a&255)|0)){a=(f[o>>0]|0)==37;r:do{if(a){l=o+1|0;s=f[l>>0]|0;i:do{switch(s<<24>>24){case 37:break r;case 42:{_=0;s=o+2|0;break}default:{s=(s&255)+-48|0;if(s>>>0<10?(f[o+2>>0]|0)==36:0){d[D>>2]=d[n>>2];while(1){_=(d[D>>2]|0)+(4-1)&~(4-1);a=d[_>>2]|0;d[D>>2]=_+4;if(s>>>0>1)s=s+-1|0;else break}_=a;s=o+3|0;break i}s=(d[n>>2]|0)+(4-1)&~(4-1);_=d[s>>2]|0;d[n>>2]=s+4;s=l}}}while(0);a=f[s>>0]|0;o=a&255;if((o+-48|0)>>>0<10){a=0;while(1){l=(a*10|0)+-48+o|0;s=s+1|0;a=f[s>>0]|0;o=a&255;if((o+-48|0)>>>0>=10)break;else a=l}}else l=0;if(a<<24>>24==109){s=s+1|0;c=f[s>>0]|0;a=(_|0)!=0&1;i=0;t=0}else{c=a;a=0}o=s+1|0;switch(c&255|0){case 104:{x=(f[o>>0]|0)==104;o=x?s+2|0:o;s=x?-2:-1;break}case 108:{x=(f[o>>0]|0)==108;o=x?s+2|0:o;s=x?3:1;break}case 106:{s=3;break}case 116:case 122:{s=1;break}case 76:{s=2;break}case 110:case 112:case 67:case 83:case 91:case 99:case 115:case 88:case 71:case 70:case 69:case 65:case 103:case 102:case 101:case 97:case 120:case 117:case 111:case 105:case 100:{o=s;s=0;break}default:{B=152;break t}}c=p[o>>0]|0;g=(c&47|0)==3;c=g?c|32:c;g=g?1:s;switch(c|0){case 99:{x=m;S=(l|0)<1?1:l;break}case 91:{x=m;S=l;break}case 110:{if(!_){s=m;break n}switch(g|0){case-2:{f[_>>0]=m;s=m;break n}case-1:{h[_>>1]=m;s=m;break n}case 0:{d[_>>2]=m;s=m;break n}case 1:{d[_>>2]=m;s=m;break n}case 3:{s=_;d[s>>2]=m;d[s+4>>2]=((m|0)<0)<<31>>31;s=m;break n}default:{s=m;break n}}}default:{YS(e,0);do{s=d[L>>2]|0;if(s>>>0<(d[F>>2]|0)>>>0){d[L>>2]=s+1;s=p[s>>0]|0}else s=KS(e)|0}while((GS(s)|0)!=0);s=d[L>>2]|0;if(d[F>>2]|0){s=s+-1|0;d[L>>2]=s}x=(d[M>>2]|0)+m+s-(d[E>>2]|0)|0;S=l}}YS(e,S);s=d[L>>2]|0;l=d[F>>2]|0;if(s>>>0<l>>>0)d[L>>2]=s+1;else{if((KS(e)|0)<0){B=152;break t}l=d[F>>2]|0}if(l)d[L>>2]=(d[L>>2]|0)+-1;i:do{switch(c|0){case 91:case 99:case 115:{b=(c|0)==99;a:do{if((c&239|0)==99){Dy(R|0,-1,257)|0;f[R>>0]=0;if((c|0)==115){f[C>>0]=0;f[k>>0]=0;f[k+1>>0]=0;f[k+2>>0]=0;f[k+3>>0]=0;f[k+4>>0]=0}}else{V=o+1|0;m=(f[V>>0]|0)==94;s=m&1;c=m?V:o;o=m?o+2|0:V;Dy(R|0,m&1|0,257)|0;f[R>>0]=0;switch(f[o>>0]|0){case 45:{m=(s^1)&255;f[O>>0]=m;o=c+2|0;break}case 93:{m=(s^1)&255;f[I>>0]=m;o=c+2|0;break}default:m=(s^1)&255}while(1){s=f[o>>0]|0;o:do{switch(s<<24>>24){case 0:{B=152;break t}case 93:break a;case 45:{c=o+1|0;s=f[c>>0]|0;switch(s<<24>>24){case 93:case 0:{s=45;break o}default:{}}o=f[o+-1>>0]|0;if((o&255)<(s&255)){o=o&255;do{o=o+1|0;f[R+o>>0]=m;s=f[c>>0]|0}while((o|0)<(s&255|0));o=c}else o=c;break}default:{}}}while(0);f[R+((s&255)+1)>>0]=m;o=o+1|0}}}while(0);c=b?S+1|0:31;m=(g|0)==1;g=(a|0)!=0;a:do{if(m){if(g){t=Uf(c<<2)|0;if(!t){i=0;B=152;break t}}else t=_;d[P>>2]=0;d[A>>2]=0;i=0;o:while(1){l=(t|0)==0;do{s:while(1){s=d[L>>2]|0;if(s>>>0<(d[F>>2]|0)>>>0){d[L>>2]=s+1;s=p[s>>0]|0}else s=KS(e)|0;if(!(f[R+(s+1)>>0]|0))break o;f[T>>0]=s;switch(mx(N,T,1,P)|0){case-1:{i=0;B=152;break t}case-2:break;default:break s}}if(!l){d[t+(i<<2)>>2]=d[N>>2];i=i+1|0}}while(!(g&(i|0)==(c|0)));i=c<<1|1;s=Gf(t,i<<2)|0;if(!s){i=0;B=152;break t}V=c;c=i;t=s;i=V}if(!(gx(P)|0)){i=0;B=152;break t}else{l=i;i=0}}else{if(g){i=Uf(c)|0;if(!i){i=0;t=0;B=152;break t}else s=0;while(1){do{t=d[L>>2]|0;if(t>>>0<(d[F>>2]|0)>>>0){d[L>>2]=t+1;t=p[t>>0]|0}else t=KS(e)|0;if(!(f[R+(t+1)>>0]|0)){l=s;t=0;break a}f[i+s>>0]=t;s=s+1|0}while((s|0)!=(c|0));t=c<<1|1;s=Gf(i,t)|0;if(!s){t=0;B=152;break t}else{V=c;c=t;i=s;s=V}}}if(!_){i=l;while(1){t=d[L>>2]|0;if(t>>>0<i>>>0){d[L>>2]=t+1;t=p[t>>0]|0}else t=KS(e)|0;if(!(f[R+(t+1)>>0]|0)){l=0;i=0;t=0;break a}i=d[F>>2]|0}}else{i=0;while(1){t=d[L>>2]|0;if(t>>>0<l>>>0){d[L>>2]=t+1;t=p[t>>0]|0}else t=KS(e)|0;if(!(f[R+(t+1)>>0]|0)){l=i;i=_;t=0;break a}f[_+i>>0]=t;l=d[F>>2]|0;i=i+1|0}}}}while(0);s=d[L>>2]|0;if(d[F>>2]|0){s=s+-1|0;d[L>>2]=s}s=s-(d[E>>2]|0)+(d[M>>2]|0)|0;if(!s)break t;if(!((s|0)==(S|0)|b^1))break t;do{if(g)if(m){d[_>>2]=t;break}else{d[_>>2]=i;break}}while(0);if(!b){if(t)d[t+(l<<2)>>2]=0;if(!i){i=0;break i}f[i+l>>0]=0}break}case 120:case 88:case 112:{s=16;B=134;break}case 111:{s=8;B=134;break}case 117:case 100:{s=10;B=134;break}case 105:{s=0;B=134;break}case 71:case 103:case 70:case 102:case 69:case 101:case 65:case 97:{u=+QS(e,g,0);if((d[M>>2]|0)==((d[E>>2]|0)-(d[L>>2]|0)|0))break t;if(_)switch(g|0){case 0:{v[_>>2]=u;break i}case 1:{y[_>>3]=u;break i}case 2:{y[_>>3]=u;break i}default:break i}break}default:{}}}while(0);i:do{if((B|0)==134){B=0;s=XS(e,s,0,-1,-1)|0;if((d[M>>2]|0)==((d[E>>2]|0)-(d[L>>2]|0)|0))break t;if((_|0)!=0&(c|0)==112){d[_>>2]=s;break}if(_)switch(g|0){case-2:{f[_>>0]=s;break i}case-1:{h[_>>1]=s;break i}case 0:{d[_>>2]=s;break i}case 1:{d[_>>2]=s;break i}case 3:{V=_;d[V>>2]=s;d[V+4>>2]=j;break i}default:break i}}}while(0);r=((_|0)!=0&1)+r|0;s=(d[M>>2]|0)+x+(d[L>>2]|0)-(d[E>>2]|0)|0;break n}}while(0);o=o+(a&1)|0;YS(e,0);a=d[L>>2]|0;if(a>>>0<(d[F>>2]|0)>>>0){d[L>>2]=a+1;a=p[a>>0]|0}else a=KS(e)|0;if((a|0)!=(p[o>>0]|0)){B=21;break t}s=m+1|0}else{while(1){a=o+1|0;if(!(GS(p[a>>0]|0)|0))break;else o=a}YS(e,0);do{a=d[L>>2]|0;if(a>>>0<(d[F>>2]|0)>>>0){d[L>>2]=a+1;a=p[a>>0]|0}else a=KS(e)|0}while((GS(a)|0)!=0);a=d[L>>2]|0;if(d[F>>2]|0){a=a+-1|0;d[L>>2]=a}s=(d[M>>2]|0)+m+a-(d[E>>2]|0)|0}}while(0);o=o+1|0;a=f[o>>0]|0;if(!(a<<24>>24))break e;else m=s}if((B|0)==21){if(d[F>>2]|0)d[L>>2]=(d[L>>2]|0)+-1;if((r|0)!=0|(a|0)>-1)break;else{r=0;B=153}}else if((B|0)==152)if(!r){r=a;B=153}if((B|0)==153){a=r;r=-1}if(a){jf(i);jf(t)}}else r=0}while(0);if(z)Ex(e);w=U;return r|0}function Qx(e,t,n,r){e=e|0;t=t|0;n=n|0;r=r|0;var i=0,a=0,o=0,s=0,u=0,l=0,c=0;c=w;w=w+128|0;i=c+112|0;l=c;a=l;o=37352;s=a+112|0;do{d[a>>2]=d[o>>2];a=a+4|0;o=o+4|0}while((a|0)<(s|0));if((t+-1|0)>>>0>2147483646){if(!t){t=1;u=4}else{t=HS()|0;d[t>>2]=75;t=-1}}else{i=e;u=4}if((u|0)==4){u=-2-i|0;u=t>>>0>u>>>0?u:t;d[l+48>>2]=u;e=l+20|0;d[e>>2]=i;d[l+44>>2]=i;t=i+u|0;i=l+16|0;d[i>>2]=t;d[l+28>>2]=t;t=Hx(l,n,r)|0;if(u){n=d[e>>2]|0;f[n+(((n|0)==(d[i>>2]|0))<<31>>31)>>0]=0}}w=c;return t|0}function Xx(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;a=w;w=w+112|0;r=a;i=r;o=i+112|0;do{d[i>>2]=0;i=i+4|0}while((i|0)<(o|0));d[r+32>>2]=29;d[r+44>>2]=e;d[r+76>>2]=-1;d[r+84>>2]=e;o=qx(r,t,n)|0;w=a;return o|0}function Yx(e,t,n){e=e|0;t=t|0;n=n|0;return+ +Pf(e,t,2)}function Kx(e,t,n){e=e|0;t=t|0;n=n|0;e=Nf(e,t,n,-1,-1)|0;return e|0}function Zx(e,t,n){e=e|0;t=t|0;n=n|0;e=Nf(e,t,n,0,-2147483648)|0;return e|0}function Jx(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0,a=0,o=0;a=t&255;r=(n|0)!=0;e:do{if(r&(e&3|0)!=0){i=t&255;while(1){if((f[e>>0]|0)==i<<24>>24){o=6;break e}e=e+1|0;n=n+-1|0;r=(n|0)!=0;if(!(r&(e&3|0)!=0)){o=5;break}}}else o=5}while(0);if((o|0)==5)if(r)o=6;else n=0;e:do{if((o|0)==6){i=t&255;if((f[e>>0]|0)!=i<<24>>24){r=fe(a,16843009)|0;t:do{if(n>>>0>3)while(1){a=d[e>>2]^r;if((a&-2139062144^-2139062144)&a+-16843009)break;e=e+4|0;n=n+-4|0;if(n>>>0<=3){o=11;break t}}else o=11}while(0);if((o|0)==11)if(!n){n=0;break}while(1){if((f[e>>0]|0)==i<<24>>24)break e;e=e+1|0;n=n+-1|0;if(!n){n=0;break}}}}}while(0);return((n|0)!=0?e:0)|0}function $x(e,t){e=e|0;t=t|0;var n=0,r=0;n=t;e:do{if(!((n^e)&3)){if(n&3)do{n=f[t>>0]|0;f[e>>0]=n;if(!(n<<24>>24))break e;t=t+1|0;e=e+1|0}while((t&3|0)!=0);n=d[t>>2]|0;if(!((n&-2139062144^-2139062144)&n+-16843009)){r=e;while(1){t=t+4|0;e=r+4|0;d[r>>2]=n;n=d[t>>2]|0;if((n&-2139062144^-2139062144)&n+-16843009)break;else r=e}}r=8}else r=8}while(0);if((r|0)==8){r=f[t>>0]|0;f[e>>0]=r;if(r<<24>>24)do{t=t+1|0;e=e+1|0;r=f[t>>0]|0;f[e>>0]=r}while(r<<24>>24!=0)}return e|0}function e_(e,t){e=e|0;t=t|0;var n=0,r=0;r=f[e>>0]|0;n=f[t>>0]|0;if(r<<24>>24==0?1:r<<24>>24!=n<<24>>24)t=r;else{do{e=e+1|0;t=t+1|0;r=f[e>>0]|0;n=f[t>>0]|0}while(!(r<<24>>24==0?1:r<<24>>24!=n<<24>>24));t=r}return(t&255)-(n&255)|0}function t_(e,t){e=e|0;t=t|0;$x(e,t)|0;return e|0}function n_(e){e=e|0;var t=0,n=0,r=0;r=e;e:do{if(!(r&3))n=4;else{t=e;e=r;while(1){if(!(f[t>>0]|0))break e;t=t+1|0;e=t;if(!(e&3)){e=t;n=4;break}}}}while(0);if((n|0)==4){while(1){t=d[e>>2]|0;if(!((t&-2139062144^-2139062144)&t+-16843009))e=e+4|0;else break}if((t&255)<<24>>24)do{e=e+1|0}while((f[e>>0]|0)!=0)}return e-r|0}function r_(e,t,n){e=e|0;t=t|0;n=n|0;var r=0,i=0;if(!n)t=0;else{r=f[e>>0]|0;e:do{if(!(r<<24>>24))r=0;else while(1){n=n+-1|0;i=f[t>>0]|0;if(!(r<<24>>24==i<<24>>24&((n|0)!=0&i<<24>>24!=0)))break e;e=e+1|0;t=t+1|0;r=f[e>>0]|0;if(!(r<<24>>24)){r=0;break}}}while(0);t=(r&255)-(p[t>>0]|0)|0}return t|0}function i_(e){e=e|0;var t=0;t=e;while(1){if(!(d[t>>2]|0))break;else t=t+4|0}return t-e>>2|0}function a_(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;if(n){r=e;while(1){n=n+-1|0;d[r>>2]=d[t>>2];if(!n)break;else{t=t+4|0;r=r+4|0}}}return e|0}function o_(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;r=(n|0)==0;if(e-t>>2>>>0<n>>>0){if(!r)do{n=n+-1|0;d[e+(n<<2)>>2]=d[t+(n<<2)>>2]}while((n|0)!=0)}else if(!r){r=t;t=e;while(1){n=n+-1|0;d[t>>2]=d[r>>2];if(!n)break;else{r=r+4|0;t=t+4|0}}}return e|0}function s_(e,t,n){e=e|0;t=t|0;n=n|0;var r=0;if(n){r=e;while(1){n=n+-1|0;d[r>>2]=t;if(!n)break;else r=r+4|0}}return e|0}function u_(e,t){e=e|0;t=t|0;var n=0,r=0,i=0,a=0,o=0,s=0;o=e+4|0;n=d[o>>2]|0;s=e+100|0;if(n>>>0<(d[s>>2]|0)>>>0){d[o>>2]=n+1;n=p[n>>0]|0}else n=KS(e)|0;switch(n|0){case 43:case 45:{r=(n|0)==45&1;n=d[o>>2]|0;if(n>>>0<(d[s>>2]|0)>>>0){d[o>>2]=n+1;n=p[n>>0]|0}else n=KS(e)|0;if((t|0)!=0&(n+-48|0)>>>0>9?(d[s>>2]|0)!=0:0){d[o>>2]=(d[o>>2]|0)+-1;a=r}else a=r;break}default:a=0}if((n+-48|0)>>>0>9){if(!(d[s>>2]|0)){r=-2147483648;n=0}else{d[o>>2]=(d[o>>2]|0)+-1;r=-2147483648;n=0}}else{r=0;do{r=n+-48+(r*10|0)|0;n=d[o>>2]|0;if(n>>>0<(d[s>>2]|0)>>>0){d[o>>2]=n+1;n=p[n>>0]|0}else n=KS(e)|0}while((n+-48|0)>>>0<10&(r|0)<214748364);t=((r|0)<0)<<31>>31;if((n+-48|0)>>>0<10){do{t=Gy(r|0,t|0,10,0)|0;r=j;n=Ry(n|0,((n|0)<0)<<31>>31|0,-48,-1)|0;r=Ry(n|0,j|0,t|0,r|0)|0;t=j;n=d[o>>2]|0;if(n>>>0<(d[s>>2]|0)>>>0){d[o>>2]=n+1;n=p[n>>0]|0}else n=KS(e)|0}while((n+-48|0)>>>0<10&((t|0)<21474836|(t|0)==21474836&r>>>0<2061584302));i=r}else i=r;if((n+-48|0)>>>0<10)do{n=d[o>>2]|0;if(n>>>0<(d[s>>2]|0)>>>0){d[o>>2]=n+1;n=p[n>>0]|0}else n=KS(e)|0}while((n+-48|0)>>>0<10);if(d[s>>2]|0)d[o>>2]=(d[o>>2]|0)+-1;e=(a|0)!=0;n=My(0,0,i|0,t|0)|0;r=e?j:t;n=e?n:i}j=r;return n|0}function l_(e){e=e|0;if(!(d[e+68>>2]|0))Ex(e);return}function c_(e){e=e|0;if(!(d[e+68>>2]|0))Ex(e);return}function f_(e){e=e|0;var t=0,n=0,r=0,i=0,a=0,o=0;t=e+20|0;a=e+28|0;if((d[t>>2]|0)>>>0>(d[a>>2]|0)>>>0?(w_[d[e+36>>2]&63](e,0,0)|0,(d[t>>2]|0)==0):0)t=-1;else{o=e+4|0;n=d[o>>2]|0;r=e+8|0;i=d[r>>2]|0;if(n>>>0<i>>>0)w_[d[e+40>>2]&63](e,n-i|0,1)|0;d[e+16>>2]=0;d[a>>2]=0;d[t>>2]=0;d[r>>2]=0;d[o>>2]=0;t=0}return t|0}var h_=[gb,$u,rl,Zl,tc,oc,uc,Qg,iv,gb,gb,gb,gb,gb,gb,gb];var d_=[vb,Zb,js,Os,vs,as,Qo,No,yo,CS,kS,_S,vb,vb,vb,vb];var p_=[yb,hc,yc,yb];var m_=[bb,Qb,Xb,Fs,Bs,Es,ks,ds,ps,ts,ns,Go,Wo,Mo,Do,po,mo,eo,to,Va,Ga,Ia,Ma,ya,ba,oa,sa,mi,gi,ni,ri,cn,fn,Dr,Lr,Rr,lp,fp,cp,hp,tr,nr,Mw,rr,Xn,Yn,En,kn,Rn,Pn,Un,jn,ir,ar,fr,hr,yr,br,Er,kr,ei,ti,Ti,Ei,Mi,Di,Bi,zi,Hi,qi,Oo,Io,Bh,aw,mw,gw,Dw,Rw,Xw,Yw,tS,nS,oS,sS,lS,hS,cS,fS,dS,pS,Ld,eh,oh,Sd,fh,vh,Lh,Fh,xd,Fd,Zd,$d,Jd,ep,rp,ap,ip,op,vp,bp,yp,wp,Cp,Ap,dd,Op,Ip,Mp,Rp,Qc,Fp,Bp,Vp,Gp,rm,im,_m,Tm,Bm,zm,tu,nu,ku,Cu,Ku,Ju,tl,nl,al,ol,gl,vl,Cl,Al,Bl,zl,Yl,Kl,ic,ac,cc,fc,gc,vc,xc,_c,Cc,Ac,Nc,Lc,hf,df,qg,Mf,vg,yg,bg,wg,Dp,qc,Yc,xf,Zm,ag,dg,pg,Pw,_w,Vw,ln,_d,np,Gr,So,FS,l_,c_,Qf,tx,Jl,ec,Xc,ny,ly,cy,fy,hy,dy,py,Gh,rd,jf,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb,bb];var g_=[wb,Kb,Us,As,gs,is,qo,Po,vo,no,Wa,Da,wa,ua,vi,ii,hn,Td,vw,ww,th,ah,hh,gh,zd,ll,cl,fl,hl,pl,ml,wl,Sl,xl,_l,El,kl,Ml,Dl,Rl,Pl,Ll,Fl,Vl,Gl,Wl,Hl,Ql,Xl,kc,Mc,Eg,Cg,Og,kg,Ag,Ig,en,Nw,Sw,xw,Tw,yd,bn,Sn,dp,hd,Zh,Vr,ui,$i,ha,Ta,La,Xa,oo,wo,Fo,Yo,ss,bs,Ms,Gs,$b,dw,Uw,Ch,Eh,gd,Sp,kh,Yh,sd,od,Tv,Ev,kv,Cv,Av,Ov,If,Iv,Mv,Dv,Rv,Pv,Nv,Lv,Fv,Bv,zv,Uv,jv,Vv,Gv,Wv,Hv,qv,Qv,Xv,Yv,Kv,Zv,Jv,ey,wy,wb,wb];var v_=[Sb,Wp,Hp,qp,Qp,Xp,Yp,Kp,Zp,Jp,$p,em,am,om,sm,um,lm,cm,fm,hm,dm,pm,mm,Im,Dm,Gm,Ys,iu,au,ou,uu,cu,Ou,Iu,Mu,Ru,Nu,mc,Sc,Qn,gv,Sb,Sb,Sb,Sb,Sb,Sb,Sb,Sb,Sb,Sb,Sb,Sb,Sb,Sb,Sb,Sb,Sb,Sb,Sb,Sb,Sb,Sb,Sb];var y_=[xb,Ad,Od,Jn,Dd,ow,Kw,rS,uS,Cx,nh,Wd,qd,Qd,Gd,sh,uh,dh,Md,yh,bh,_p,ru,Dg,Pg,Lg,Vg,Wg,Bg,Ug,Au,Rg,Ng,Fg,Gg,Hg,zg,jg,sl,ul,dl,yl,bl,Tl,Ol,Il,Nl,Ul,jl,ql,Qm,Xm,Km,Sg,_g,xg,Tg,kf,Cf,Of,tg,ng,ig,lg,cg,hg,lw,Ww,vd,kw,tp,sp,_b,Tb,Eb,ax,i_,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb,xb];var b_=[kb,$l,sc,kb];var w_=[Cb,Ed,Id,Pd,Oh,Ih,mS,Lf,Ix,Ox,Ax,Mx,Ud,Hd,rh,Yd,ph,Lp,jp,Tc,Oc,mf,vf,wf,Kc,rf,sf,cf,wn,Rf,Jh,ix,Sv,_v,wx,bx,px,Wx,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb,Cb];var S_=[Ab,pc,wc,Ab];var x_=[Ob,Kn,IS,OS,AS,jd,kd,Ec,Ic,Ob,Ob,Ob,Ob,Ob,Ob,Ob];var __=[Ib,Om,Nm,Vm,Zs,Ib,Ib,Ib];var T_=[Mb,nc,lc,dc,bc,Mb,Mb,Mb];var E_=[Db,Yb,zs,Cs,ms,rs,Ho,Ro,go,io,qa,Pa,xa,ca,bi,oi,pn,$n,er,Xd,ih,lh,Kd,Rd,mh,wh,Nd,pf,gf,yf,tf,af,uf,Lw,an,sn,mp,Hc,gp,rx,nx,Hh,id,Db,Db,Db,Db,Db,Db,Db,Db,Db,Db,Db,Db,Db,Db,Db,Db,Db,Db,Db,Db,Db];var k_=[Rb,Pp,zp,Em,km,Mm,Fm,Um,jm,Xs,$s,Sf,qm,Ym,ff,Ef,Af,eg,rg,ug,fg,Sx,vx,Rb,Rb,Rb,Rb,Rb,Rb,Rb,Rb,Rb];var C_=[Pb,_y,xy,Sy];var A_=[Nb,tn,Gw,nm,Bc,zc,Uc,US,VS,jS,Nb,Nb,Nb,Nb,Nb,Nb];var O_=[Lb,ro,Ha,Ra,Sa,la,yi,ai,dn,bf,Jc,$c,ef,lf,uw,pw,rv,mv,yx,$S,mx,Oy,Ay,Cy,ky,Ey,Ty,Lb,Lb,Lb,Lb,Lb];var I_=[Fb,Ah,sw,Tp,Fw,jh,Bb,Nh,Qh,Ew,Dh,kp,bv,wv,xv,td];var M_=[zb,Ub,PS,jb,NS,Vb,RS,zb];var D_=[Gb,hu,Fu,Wm,Hm,_f,Tf,Jm,$m,og,sg,Gb,Gb,Gb,Gb,Gb];var R_=[Wb,Rm,Lm,Ks,Js,Wb,Wb,Wb];var P_=[Hb,Fr,Br,Pr,Nr,Zn,Cn,An,Nn,Ln,Vn,Gn,or,sr,dr,pr,wr,Sr,Cr,Ar,ki,Ci,Ri,Pi,Ui,ji,Qi,Xi,vS,yS,wS,Vd,Cd,Np,Up,Qt,Ph,mn,gn,vn,yn,xn,_n,Tn,wi,Si,xi,_i,Hb,Hb,Hb,Hb,Hb,Hb,Hb,Hb,Hb,Hb,Hb,Hb,Hb,Hb,Hb,Hb];return{_jpegls_encode:zw,___cxa_can_catch:MS,_free:jf,_jpegls_decode:Bw,___cxa_is_pointer_type:DS,_i64Add:Ry,_memmove:Fy,_i64Subtract:My,_memset:Dy,_malloc:Uf,_memcpy:Ny,_bitshift64Lshr:Py,_bitshift64Shl:Ly,__GLOBAL__I_000101:Xf,__GLOBAL__sub_I_jpegls_cpp:un,__GLOBAL__sub_I_iostream_cpp:Yf,runPostSets:Iy,_emscripten_replace_memory:Lt,stackAlloc:Ft,stackSave:Bt,stackRestore:zt,establishStackSpace:Ut,setThrew:jt,setTempRet0:Wt,getTempRet0:Ht,dynCall_iiiiiiii:Qy,dynCall_viiiii:Xy,dynCall_iiiiiid:Yy,dynCall_vi:Ky,dynCall_vii:Zy,dynCall_iiiiiii:Jy,dynCall_ii:$y,dynCall_iiiiiiiiiiii:eb,dynCall_iiii:tb,dynCall_viiiiiiiiiiiiiii:nb,dynCall_viiiiii:rb,dynCall_viiiiiii:ib,dynCall_viiiiiiiiii:ab,dynCall_iii:ob,dynCall_iiiiii:sb,dynCall_diii:ub,dynCall_i:lb,dynCall_iiiii:cb,dynCall_viii:fb,dynCall_v:hb,dynCall_iiiiiiiii:db,dynCall_iiiiid:pb,dynCall_viiii:mb}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),_jpegls_encode=Module._jpegls_encode=asm._jpegls_encode,___cxa_can_catch=Module.___cxa_can_catch=asm.___cxa_can_catch,_free=Module._free=asm._free,_jpegls_decode=Module._jpegls_decode=asm._jpegls_decode,___cxa_is_pointer_type=Module.___cxa_is_pointer_type=asm.___cxa_is_pointer_type,_i64Add=Module._i64Add=asm._i64Add,_memmove=Module._memmove=asm._memmove,_i64Subtract=Module._i64Subtract=asm._i64Subtract,_memset=Module._memset=asm._memset,_malloc=Module._malloc=asm._malloc,_memcpy=Module._memcpy=asm._memcpy,_emscripten_replace_memory=Module._emscripten_replace_memory=asm._emscripten_replace_memory,runPostSets=Module.runPostSets=asm.runPostSets,__GLOBAL__sub_I_iostream_cpp=Module.__GLOBAL__sub_I_iostream_cpp=asm.__GLOBAL__sub_I_iostream_cpp,_bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr,__GLOBAL__sub_I_jpegls_cpp=Module.__GLOBAL__sub_I_jpegls_cpp=asm.__GLOBAL__sub_I_jpegls_cpp,__GLOBAL__I_000101=Module.__GLOBAL__I_000101=asm.__GLOBAL__I_000101,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl,dynCall_iiiiiiii=Module.dynCall_iiiiiiii=asm.dynCall_iiiiiiii,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_iiiiiid=Module.dynCall_iiiiiid=asm.dynCall_iiiiiid,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,dynCall_vii=Module.dynCall_vii=asm.dynCall_vii,dynCall_iiiiiii=Module.dynCall_iiiiiii=asm.dynCall_iiiiiii,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_iiiiiiiiiiii=Module.dynCall_iiiiiiiiiiii=asm.dynCall_iiiiiiiiiiii,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_viiiiiiiiiiiiiii=Module.dynCall_viiiiiiiiiiiiiii=asm.dynCall_viiiiiiiiiiiiiii,dynCall_viiiiii=Module.dynCall_viiiiii=asm.dynCall_viiiiii,dynCall_viiiiiii=Module.dynCall_viiiiiii=asm.dynCall_viiiiiii,dynCall_viiiiiiiiii=Module.dynCall_viiiiiiiiii=asm.dynCall_viiiiiiiiii,dynCall_iii=Module.dynCall_iii=asm.dynCall_iii,dynCall_iiiiii=Module.dynCall_iiiiii=asm.dynCall_iiiiii,dynCall_diii=Module.dynCall_diii=asm.dynCall_diii,dynCall_i=Module.dynCall_i=asm.dynCall_i,dynCall_iiiii=Module.dynCall_iiiii=asm.dynCall_iiiii,dynCall_viii=Module.dynCall_viii=asm.dynCall_viii,dynCall_v=Module.dynCall_v=asm.dynCall_v,dynCall_iiiiiiiii=Module.dynCall_iiiiiiiii=asm.dynCall_iiiiiiiii,dynCall_iiiiid=Module.dynCall_iiiiid=asm.dynCall_iiiiid,dynCall_viiii=Module.dynCall_viiii=asm.dynCall_viiii,initialStackTop;function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}Runtime.stackAlloc=asm.stackAlloc,Runtime.stackSave=asm.stackSave,Runtime.stackRestore=asm.stackRestore,Runtime.establishStackSpace=asm.establishStackSpace,Runtime.setTempRet0=asm.setTempRet0,Runtime.getTempRet0=asm.getTempRet0,ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var preloadStartTime=null,calledMain=!1;function run(e){function t(){Module.calledRun||(Module.calledRun=!0,ABORT||(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(e),postRun()))}e=e||Module.arguments,null===preloadStartTime&&(preloadStartTime=Date.now()),runDependencies>0||(preRun(),runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout((function(){setTimeout((function(){Module.setStatus("")}),1),t()}),1)):t()))}function exit(e,t){if(!t||!Module.noExitRuntime)throw Module.noExitRuntime||(ABORT=!0,EXITSTATUS=e,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(e)),ENVIRONMENT_IS_NODE?(process.stdout.once("drain",(function(){process.exit(e)})),console.log(" "),setTimeout((function(){process.exit(e)}),500)):ENVIRONMENT_IS_SHELL&&"function"===typeof quit&&quit(e),new ExitStatus(e)}dependenciesFulfilled=function e(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=e)},Module.callMain=Module.callMain=function(t){assert(0==runDependencies,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),assert(0==__ATPRERUN__.length,"cannot call main when preRun functions remain to be called"),t=t||[],ensureInitRuntime();var n=t.length+1;function r(){for(var e=0;e<3;e++)i.push(0)}var i=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];r();for(var a=0;a<n-1;a+=1)i.push(allocate(intArrayFromString(t[a]),"i8",ALLOC_NORMAL)),r();i.push(0),i=allocate(i,"i32",ALLOC_NORMAL);try{exit(Module._main(n,i,0),!0)}catch(e){if(e instanceof ExitStatus)return;if("SimulateInfiniteLoop"==e)return void(Module.noExitRuntime=!0);throw e&&"object"===typeof e&&e.stack&&Module.printErr("exception thrown: "+[e,e.stack]),e}finally{calledMain=!0}},Module.run=Module.run=run,Module.exit=Module.exit=exit;var abortDecorators=[];function abort(e){void 0!==e?(Module.print(e),Module.printErr(e),e=JSON.stringify(e)):e="",ABORT=!0,EXITSTATUS=1;var t="abort("+e+") at "+stackTrace()+"\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.";throw abortDecorators&&abortDecorators.forEach((function(n){t=n(t,e)})),t}if(Module.abort=Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;return Module.noInitialRun&&(shouldRunNow=!1),run(),Module},moduleType=typeof module;"undefined"!==moduleType&&module.exports&&(module.exports=CharLS)}).call(this,__webpack_require__(23),"/")},function(e,t,n){"use strict";var r={};(0,n(34).assign)(r,n(173),n(174),n(81)),e.exports=r},function(e,t,n){"use strict";var r=n(34),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(l){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){a=!1}for(var o=new r.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(e,t){if(t<65534&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,t.string2buf=function(e){var t,n,i,a,o,s=e.length,u=0;for(a=0;a<s;a++)55296===(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320===(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(u),o=0,a=0;o<u;a++)55296===(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320===(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},t.buf2binstring=function(e){return u(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,a,s=t||e.length,l=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)l[r++]=i;else if((a=o[i])>4)l[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&n<s;)i=i<<6|63&e[n++],a--;a>1?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return u(l,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},function(e,t,n){"use strict";var r=r||{};r.OrderedMapIterator=r.OrderedMapIterator||n(85),r.OrderedMap=r.OrderedMap||function(){this.map={},this.orderedKeys=[]},r.OrderedMap.prototype.put=function(e,t){e in this.map||(this.orderedKeys.push(e),this.orderedKeys.sort((function(e,t){return parseFloat(e)-parseFloat(t)}))),this.map[e]=t},r.OrderedMap.prototype.remove=function(e){var t=this.orderedKeys.indexOf(e);if(-1===t)throw new Error("key does not exist");this.orderedKeys.splice(t,1),delete this.map[e]},r.OrderedMap.prototype.get=function(e){return e in this.map?this.map[e]:null},r.OrderedMap.prototype.iterator=function(){return new r.OrderedMapIterator(this)},r.OrderedMap.prototype.getOrderedValues=function(){for(var e=[],t=this.iterator();t.hasNext();)e.push(t.next());return e},"undefined"!==typeof e&&e.exports&&(e.exports=r.OrderedMap)},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(9),o=n.n(a),s=n(1),u=n.n(s),l=n(11),c=["xl","lg","md","sm","xs"],f=u.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,s=e.as,f=void 0===s?"div":s,h=Object(i.a)(e,["bsPrefix","className","as"]),d=Object(l.a)(n,"col"),p=[],m=[];return c.forEach((function(e){var t,n,r,i=h[e];if(delete h[e],"object"===typeof i&&null!=i){var a=i.span;t=void 0===a||a,n=i.offset,r=i.order}else t=i;var o="xs"!==e?"-"+e:"";t&&p.push(!0===t?""+d+o:""+d+o+"-"+t),null!=r&&m.push("order"+o+"-"+r),null!=n&&m.push("offset"+o+"-"+n)})),p.length||p.push(d),u.a.createElement(f,Object(r.a)({},h,{ref:t,className:o.a.apply(void 0,[a].concat(p,m))}))}));f.displayName="Col",t.a=f},,,,function(e,t,n){"use strict";(function(e){var r=n(32).Buffer,i=n(151).Transform,a=n(161),o=n(99),s=n(98).ok,u=n(32).kMaxLength,l="Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes";a.Z_MIN_WINDOWBITS=8,a.Z_MAX_WINDOWBITS=15,a.Z_DEFAULT_WINDOWBITS=15,a.Z_MIN_CHUNK=64,a.Z_MAX_CHUNK=1/0,a.Z_DEFAULT_CHUNK=16384,a.Z_MIN_MEMLEVEL=1,a.Z_MAX_MEMLEVEL=9,a.Z_DEFAULT_MEMLEVEL=8,a.Z_MIN_LEVEL=-1,a.Z_MAX_LEVEL=9,a.Z_DEFAULT_LEVEL=a.Z_DEFAULT_COMPRESSION;for(var c=Object.keys(a),f=0;f<c.length;f++){var h=c[f];h.match(/^Z/)&&Object.defineProperty(t,h,{enumerable:!0,value:a[h],writable:!1})}for(var d={Z_OK:a.Z_OK,Z_STREAM_END:a.Z_STREAM_END,Z_NEED_DICT:a.Z_NEED_DICT,Z_ERRNO:a.Z_ERRNO,Z_STREAM_ERROR:a.Z_STREAM_ERROR,Z_DATA_ERROR:a.Z_DATA_ERROR,Z_MEM_ERROR:a.Z_MEM_ERROR,Z_BUF_ERROR:a.Z_BUF_ERROR,Z_VERSION_ERROR:a.Z_VERSION_ERROR},p=Object.keys(d),m=0;m<p.length;m++){var g=p[m];d[d[g]]=g}function v(e,t,n){var i=[],a=0;function o(){for(var t;null!==(t=e.read());)i.push(t),a+=t.length;e.once("readable",o)}function s(){var t,o=null;a>=u?o=new RangeError(l):t=r.concat(i,a),i=[],e.close(),n(o,t)}e.on("error",(function(t){e.removeListener("end",s),e.removeListener("readable",o),n(t)})),e.on("end",s),e.end(t),o()}function y(e,t){if("string"===typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function b(e){if(!(this instanceof b))return new b(e);C.call(this,e,a.DEFLATE)}function w(e){if(!(this instanceof w))return new w(e);C.call(this,e,a.INFLATE)}function S(e){if(!(this instanceof S))return new S(e);C.call(this,e,a.GZIP)}function x(e){if(!(this instanceof x))return new x(e);C.call(this,e,a.GUNZIP)}function _(e){if(!(this instanceof _))return new _(e);C.call(this,e,a.DEFLATERAW)}function T(e){if(!(this instanceof T))return new T(e);C.call(this,e,a.INFLATERAW)}function E(e){if(!(this instanceof E))return new E(e);C.call(this,e,a.UNZIP)}function k(e){return e===a.Z_NO_FLUSH||e===a.Z_PARTIAL_FLUSH||e===a.Z_SYNC_FLUSH||e===a.Z_FULL_FLUSH||e===a.Z_FINISH||e===a.Z_BLOCK}function C(e,n){var o=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&!k(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!k(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||a.Z_NO_FLUSH,this._finishFlushFlag="undefined"!==typeof e.finishFlush?e.finishFlush:a.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new a.Zlib(n);var s=this;this._hadError=!1,this._handle.onerror=function(e,n){A(s),s._hadError=!0;var r=new Error(e);r.errno=n,r.code=t.codes[n],s.emit("error",r)};var u=t.Z_DEFAULT_COMPRESSION;"number"===typeof e.level&&(u=e.level);var l=t.Z_DEFAULT_STRATEGY;"number"===typeof e.strategy&&(l=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,u,e.memLevel||t.Z_DEFAULT_MEMLEVEL,l,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=u,this._strategy=l,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function A(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function O(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),t.Deflate=b,t.Inflate=w,t.Gzip=S,t.Gunzip=x,t.DeflateRaw=_,t.InflateRaw=T,t.Unzip=E,t.createDeflate=function(e){return new b(e)},t.createInflate=function(e){return new w(e)},t.createDeflateRaw=function(e){return new _(e)},t.createInflateRaw=function(e){return new T(e)},t.createGzip=function(e){return new S(e)},t.createGunzip=function(e){return new x(e)},t.createUnzip=function(e){return new E(e)},t.deflate=function(e,t,n){return"function"===typeof t&&(n=t,t={}),v(new b(t),e,n)},t.deflateSync=function(e,t){return y(new b(t),e)},t.gzip=function(e,t,n){return"function"===typeof t&&(n=t,t={}),v(new S(t),e,n)},t.gzipSync=function(e,t){return y(new S(t),e)},t.deflateRaw=function(e,t,n){return"function"===typeof t&&(n=t,t={}),v(new _(t),e,n)},t.deflateRawSync=function(e,t){return y(new _(t),e)},t.unzip=function(e,t,n){return"function"===typeof t&&(n=t,t={}),v(new E(t),e,n)},t.unzipSync=function(e,t){return y(new E(t),e)},t.inflate=function(e,t,n){return"function"===typeof t&&(n=t,t={}),v(new w(t),e,n)},t.inflateSync=function(e,t){return y(new w(t),e)},t.gunzip=function(e,t,n){return"function"===typeof t&&(n=t,t={}),v(new x(t),e,n)},t.gunzipSync=function(e,t){return y(new x(t),e)},t.inflateRaw=function(e,t,n){return"function"===typeof t&&(n=t,t={}),v(new T(t),e,n)},t.inflateRawSync=function(e,t){return y(new T(t),e)},o.inherits(C,i),C.prototype.params=function(n,r,i){if(n<t.Z_MIN_LEVEL||n>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(r!=t.Z_FILTERED&&r!=t.Z_HUFFMAN_ONLY&&r!=t.Z_RLE&&r!=t.Z_FIXED&&r!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==n||this._strategy!==r){var o=this;this.flush(a.Z_SYNC_FLUSH,(function(){s(o._handle,"zlib binding closed"),o._handle.params(n,r),o._hadError||(o._level=n,o._strategy=r,i&&i())}))}else e.nextTick(i)},C.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},C.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},C.prototype.flush=function(t,n){var i=this,o=this._writableState;("function"===typeof t||void 0===t&&!n)&&(n=t,t=a.Z_FULL_FLUSH),o.ended?n&&e.nextTick(n):o.ending?n&&this.once("end",n):o.needDrain?n&&this.once("drain",(function(){return i.flush(t,n)})):(this._flushFlag=t,this.write(r.alloc(0),"",n))},C.prototype.close=function(t){A(this,t),e.nextTick(O,this)},C.prototype._transform=function(e,t,n){var i,o=this._writableState,s=(o.ending||o.ended)&&(!e||o.length===e.length);return null===e||r.isBuffer(e)?this._handle?(s?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||a.Z_NO_FLUSH)),void this._processChunk(e,i,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},C.prototype._processChunk=function(e,t,n){var i=e&&e.length,a=this._chunkSize-this._offset,o=0,c=this,f="function"===typeof n;if(!f){var h,d=[],p=0;this.on("error",(function(e){h=e})),s(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(t,e,o,i,this._buffer,this._offset,a)}while(!this._hadError&&y(m[0],m[1]));if(this._hadError)throw h;if(p>=u)throw A(this),new RangeError(l);var g=r.concat(d,p);return A(this),g}s(this._handle,"zlib binding closed");var v=this._handle.write(t,e,o,i,this._buffer,this._offset,a);function y(u,l){if(this&&(this.buffer=null,this.callback=null),!c._hadError){var h=a-l;if(s(h>=0,"have should not go down"),h>0){var m=c._buffer.slice(c._offset,c._offset+h);c._offset+=h,f?c.push(m):(d.push(m),p+=m.length)}if((0===l||c._offset>=c._chunkSize)&&(a=c._chunkSize,c._offset=0,c._buffer=r.allocUnsafe(c._chunkSize)),0===l){if(o+=i-u,i=u,!f)return!0;var g=c._handle.write(t,e,o,i,c._buffer,c._offset,c._chunkSize);return g.callback=y,void(g.buffer=e)}if(!f)return!1;n()}}v.buffer=e,v.callback=y},o.inherits(b,C),o.inherits(w,C),o.inherits(S,C),o.inherits(x,C),o.inherits(_,C),o.inherits(T,C),o.inherits(E,C)}).call(this,n(23))},function(e,t,n){var r=n(167),i=n(168);e.exports=function(e,t){var n=(t=t||{}).offset||0,a=t.chunkSize||1048576,o=new FileReader(e),s=r((function(t,r){if(n>=e.size)return r(null,null);o.onloadend=function(e){var t=e.target.result;t instanceof ArrayBuffer&&(t=i(new Uint8Array(e.target.result))),r(null,t)};var s=n+a,u=e.slice(n,s);o.readAsArrayBuffer(u),n=s}));return s.name=e.name,s.size=e.size,s.type=e.type,s.lastModified=e.lastModified,o.onerror=function(e){s.destroy(e)},s}},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(9),o=n.n(a),s=n(1),u=n.n(s),l=n(11),c=n(47),f=u.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.variant,s=e.size,f=e.active,h=e.className,d=e.block,p=e.type,m=e.as,g=Object(i.a)(e,["bsPrefix","variant","size","active","className","block","type","as"]),v=Object(l.a)(n,"btn"),y=o()(h,v,f&&"active",v+"-"+a,d&&v+"-block",s&&v+"-"+s);if(g.href)return u.a.createElement(c.a,Object(r.a)({},g,{as:m,ref:t,className:o()(y,g.disabled&&"disabled")}));t&&(g.ref=t),p?g.type=p:m||(g.type="button");var b=m||"button";return u.a.createElement(b,Object(r.a)({},g,{className:y}))}));f.displayName="Button",f.defaultProps={variant:"primary",active:!1,disabled:!1},t.a=f},function(e,t,n){var r=n(178);t.parseFont=r,t.createCanvas=function(e,t){return Object.assign(document.createElement("canvas"),{width:e,height:t})},t.createImageData=function(e,t,n){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(e);case 2:return new ImageData(e,t);default:return new ImageData(e,t,n)}},t.loadImage=function(e,t){return new Promise((function(n,r){var i=Object.assign(document.createElement("img"),t);function a(){i.onload=null,i.onerror=null}i.onload=function(){a(),n(i)},i.onerror=function(){a(),r(new Error('Failed to load the image "'+e+'"'))},i.src=e}))}},function(e,t,n){},function(e,t,n){"use strict";var r=n(76),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function S(){}function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=w.prototype;var _=x.prototype=new S;_.constructor=x,r(_,w.prototype),_.isPureReactComponent=!0;var T={current:null},E=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:T.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var O=/\/+/g,I=[];function M(e,t,n,r){if(I.length){var i=I.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function R(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case o:s=!0}}if(s)return n(r,e,""===t?"."+N(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var u=0;u<e.length;u++){var l=t+N(i=e[u],u);s+=R(i,l,n,r)}else if(null===e||"object"!==typeof e?l=null:l="function"===typeof(l=g&&e[g]||e["@@iterator"])?l:null,"function"===typeof l)for(e=l.call(e),u=0;!(i=e.next()).done;)s+=R(i=i.value,l=t+N(i,u++),n,r);else if("object"===i)throw n=""+e,Error(v(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function P(e,t,n){return null==e?0:R(e,"",t,n)}function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,(function(e){return e})):null!=e&&(A(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(O,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(O,"$&/")+"/"),P(e,F,t=M(t,a,r,i)),D(t)}var z={current:null};function U(){var e=z.current;if(null===e)throw Error(v(321));return e}var j={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;P(e,L,t=M(null,null,t,n)),D(t)},count:function(e){return P(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!A(e))throw Error(v(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=l,t.PureComponent=x,t.StrictMode=u,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(v(267,e));var i=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=T.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];i.children=l}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return U().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,n){return U().useReducer(e,t,n)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var r=n(1),i=n(76),a=n(134);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function s(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var u=!1,l=null,c=!1,f=null,h={onError:function(e){u=!0,l=e}};function d(e,t,n,r,i,a,o,c,f){u=!1,l=null,s.apply(h,arguments)}var p=null,m=null,g=null;function v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,i,a,s,h,p){if(d.apply(this,arguments),u){if(!u)throw Error(o(198));var m=l;u=!1,l=null,c||(c=!0,f=m)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function w(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!x[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in x[n]=t,n=t.eventTypes){var i=void 0,a=n[r],s=t,u=r;if(_.hasOwnProperty(u))throw Error(o(99,u));_[u]=a;var l=a.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&S(l[i],s,u);i=!0}else a.registrationName?(S(a.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function S(e,t,n){if(T[e])throw Error(o(100,e));T[e]=t,E[e]=t.eventTypes[n].dependencies}var x=[],_={},T={},E={};function k(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(o(102,t));b[t]=r,n=!0}}n&&w()}var C=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),A=null,O=null,I=null;function M(e){if(e=m(e)){if("function"!==typeof A)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),A(e.stateNode,e.type,t))}}function D(e){O?I?I.push(e):I=[e]:O=e}function R(){if(O){var e=O,t=I;if(I=O=null,M(e),t)for(e=0;e<t.length;e++)M(t[e])}}function P(e,t){return e(t)}function N(e,t,n,r,i){return e(t,n,r,i)}function L(){}var F=P,B=!1,z=!1;function U(){null===O&&null===I||(L(),R())}function j(e,t,n){if(z)return e(t,n);z=!0;try{return F(e,t,n)}finally{z=!1,U()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G=Object.prototype.hasOwnProperty,W={},H={};function q(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var Q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Q[e]=new q(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Q[t]=new q(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Q[e]=new q(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Q[e]=new q(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Q[e]=new q(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Q[e]=new q(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){Q[e]=new q(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){Q[e]=new q(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){Q[e]=new q(e,5,!1,e.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(X,Y);Q[t]=new q(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(X,Y);Q[t]=new q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(X,Y);Q[t]=new q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){Q[e]=new q(e,1,!1,e.toLowerCase(),null,!1)})),Q.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){Q[e]=new q(e,1,!1,e.toLowerCase(),null,!0)}));var K=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Z(e,t,n,r){var i=Q.hasOwnProperty(t)?Q[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!G.call(H,e)||!G.call(W,e)&&(V.test(e)?H[e]=!0:(W[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}K.hasOwnProperty("ReactCurrentDispatcher")||(K.ReactCurrentDispatcher={current:null}),K.hasOwnProperty("ReactCurrentBatchConfig")||(K.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,$="function"===typeof Symbol&&Symbol.for,ee=$?Symbol.for("react.element"):60103,te=$?Symbol.for("react.portal"):60106,ne=$?Symbol.for("react.fragment"):60107,re=$?Symbol.for("react.strict_mode"):60108,ie=$?Symbol.for("react.profiler"):60114,ae=$?Symbol.for("react.provider"):60109,oe=$?Symbol.for("react.context"):60110,se=$?Symbol.for("react.concurrent_mode"):60111,ue=$?Symbol.for("react.forward_ref"):60112,le=$?Symbol.for("react.suspense"):60113,ce=$?Symbol.for("react.suspense_list"):60120,fe=$?Symbol.for("react.memo"):60115,he=$?Symbol.for("react.lazy"):60116,de=$?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ge(e.type);case de:return ge(e.render);case he:if(e=1===e._status?e._result:null)return ge(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=ge(e.type);n=null,r&&(n=ge(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Se(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function xe(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _e(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Te(e,t){null!=(t=t.checked)&&Z(e,"checked",t,!1)}function Ee(e,t){Te(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ce(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ce(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ke(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ce(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Me(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function De(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Pe="http://www.w3.org/1999/xhtml",Ne="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,ze,Ue=(ze=function(e,t){if(e.namespaceURI!==Ne||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ze(e,t)}))}:ze);function je(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ve(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ge={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},We={},He={};function qe(e){if(We[e])return We[e];if(!Ge[e])return e;var t,n=Ge[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return We[e]=n[t];return e}C&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete Ge.animationend.animation,delete Ge.animationiteration.animation,delete Ge.animationstart.animation),"TransitionEvent"in window||delete Ge.transitionend.transition);var Qe=qe("animationend"),Xe=qe("animationiteration"),Ye=qe("animationstart"),Ke=qe("transitionend"),Ze="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function $e(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(o(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nt(i),e;if(a===r)return nt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function at(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)v(e,t[r],n[r]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ut(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(at(e,st),ot)throw Error(o(95));if(c)throw e=f,c=!1,f=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!C)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ft=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ft.length&&ft.push(e)}function dt(e,t,n,r){if(ft.length){var i=ft.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Mn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=lt(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var s=null,u=0;u<x.length;u++){var l=x[u];l&&(l=l.extractEvents(r,t,a,i,o))&&(s=it(s,l))}ut(s)}}function mt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ze.indexOf(e)&&Xt(e,t)}n.set(e,null)}}var gt,vt,yt,bt=!1,wt=[],St=null,xt=null,_t=null,Tt=new Map,Et=new Map,kt=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),At="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ot(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function It(e,t){switch(e){case"focus":case"blur":St=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=Ot(t,n,r,i,a),null!==t&&(null!==(t=Dn(t))&&vt(t)),e):(e.eventSystemFlags|=r,e)}function Dt(e){var t=Mn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Dn(t);return null!==n&&vt(n),e.blockedOn=t,!1}return!0}function Pt(e,t,n){Rt(e)&&n.delete(t)}function Nt(){for(bt=!1;0<wt.length;){var e=wt[0];if(null!==e.blockedOn){null!==(e=Dn(e.blockedOn))&&gt(e);break}var t=$t(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:wt.shift()}null!==St&&Rt(St)&&(St=null),null!==xt&&Rt(xt)&&(xt=null),null!==_t&&Rt(_t)&&(_t=null),Tt.forEach(Pt),Et.forEach(Pt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Nt)))}function Ft(e){function t(t){return Lt(t,e)}if(0<wt.length){Lt(wt[0],e);for(var n=1;n<wt.length;n++){var r=wt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==St&&Lt(St,e),null!==xt&&Lt(xt,e),null!==_t&&Lt(_t,e),Tt.forEach(t),Et.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Dt(n),null===n.blockedOn&&kt.shift()}var Bt={},zt=new Map,Ut=new Map,jt=["abort","abort",Qe,"animationEnd",Xe,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ke,"transitionEnd","waiting","waiting"];function Vt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Ut.set(r,t),zt.set(r,a),Bt[i]=a}}Vt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Vt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Vt(jt,2);for(var Gt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Wt=0;Wt<Gt.length;Wt++)Ut.set(Gt[Wt],0);var Ht=a.unstable_UserBlockingPriority,qt=a.unstable_runWithPriority,Qt=!0;function Xt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var r=Ut.get(t);switch(void 0===r?2:r){case 0:r=Kt.bind(null,t,1,e);break;case 1:r=Zt.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Kt(e,t,n,r){B||L();var i=Jt,a=B;B=!0;try{N(i,e,t,n,r)}finally{(B=a)||U()}}function Zt(e,t,n,r){qt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(Qt)if(0<wt.length&&-1<Ct.indexOf(e))e=Ot(null,e,t,n,r),wt.push(e);else{var i=$t(e,t,n,r);if(null===i)It(e,r);else if(-1<Ct.indexOf(e))e=Ot(i,e,t,n,r),wt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return St=Mt(St,e,t,n,r,i),!0;case"dragenter":return xt=Mt(xt,e,t,n,r,i),!0;case"mouseover":return _t=Mt(_t,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Tt.set(a,Mt(Tt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Et.set(a,Mt(Et.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){It(e,r),e=dt(e,r,null,t);try{j(pt,e)}finally{ht(e)}}}}function $t(e,t,n,r){if(null!==(n=Mn(n=lt(r)))){var i=et(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=tt(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=dt(e,r,n,t);try{j(pt,e)}finally{ht(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var an=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(an[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function sn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=Pe;function ln(e,t){var n=$e(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=E[t];for(var r=0;r<t.length;r++)mt(t[r],e,n)}function cn(){}function fn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hn(r)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=fn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=fn((e=t.contentWindow).document)}return t}function gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vn="$?",yn="$!",bn=null,wn=null;function Sn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function xn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _n="function"===typeof setTimeout?setTimeout:void 0,Tn="function"===typeof clearTimeout?clearTimeout:void 0;function En(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function kn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||n===yn||n===vn){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Cn=Math.random().toString(36).slice(2),An="__reactInternalInstance$"+Cn,On="__reactEventHandlers$"+Cn,In="__reactContainere$"+Cn;function Mn(e){var t=e[An];if(t)return t;for(var n=e.parentNode;n;){if(t=n[In]||n[An]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=kn(e);null!==e;){if(n=e[An])return n;e=kn(e)}return t}n=(e=n).parentNode}return null}function Dn(e){return!(e=e[An]||e[In])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Rn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Pn(e){return e[On]||null}function Nn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Ln(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function Fn(e,t,n){(t=Ln(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Bn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Nn(t);for(t=n.length;0<t--;)Fn(n[t],"captured",e);for(t=0;t<n.length;t++)Fn(n[t],"bubbled",e)}}function zn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Ln(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Un(e){e&&e.dispatchConfig.registrationName&&zn(e._targetInst,null,e)}function jn(e){at(e,Bn)}var Vn=null,Gn=null,Wn=null;function Hn(){if(Wn)return Wn;var e,t,n=Gn,r=n.length,i="value"in Vn?Vn.value:Vn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Wn=i.slice(e,1<t?1-t:void 0)}function qn(){return!0}function Qn(){return!1}function Xn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?qn:Qn,this.isPropagationStopped=Qn,this}function Yn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Kn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Zn(e){e.eventPool=[],e.getPooled=Yn,e.release=Kn}i(Xn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){this.isPersistent=qn},isPersistent:Qn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Qn,this._dispatchInstances=this._dispatchListeners=null}}),Xn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Xn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Zn(n),n},Zn(Xn);var Jn=Xn.extend({data:null}),$n=Xn.extend({data:null}),er=[9,13,27,32],tr=C&&"CompositionEvent"in window,nr=null;C&&"documentMode"in document&&(nr=document.documentMode);var rr=C&&"TextEvent"in window&&!nr,ir=C&&(!tr||nr&&8<nr&&11>=nr),ar=String.fromCharCode(32),or={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},sr=!1;function ur(e,t){switch(e){case"keyup":return-1!==er.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function lr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var cr=!1;var fr={eventTypes:or,extractEvents:function(e,t,n,r){var i;if(tr)e:{switch(e){case"compositionstart":var a=or.compositionStart;break e;case"compositionend":a=or.compositionEnd;break e;case"compositionupdate":a=or.compositionUpdate;break e}a=void 0}else cr?ur(e,n)&&(a=or.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=or.compositionStart);return a?(ir&&"ko"!==n.locale&&(cr||a!==or.compositionStart?a===or.compositionEnd&&cr&&(i=Hn()):(Gn="value"in(Vn=r)?Vn.value:Vn.textContent,cr=!0)),a=Jn.getPooled(a,t,n,r),i?a.data=i:null!==(i=lr(n))&&(a.data=i),jn(a),i=a):i=null,(e=rr?function(e,t){switch(e){case"compositionend":return lr(t);case"keypress":return 32!==t.which?null:(sr=!0,ar);case"textInput":return(e=t.data)===ar&&sr?null:e;default:return null}}(e,n):function(e,t){if(cr)return"compositionend"===e||!tr&&ur(e,t)?(e=Hn(),Wn=Gn=Vn=null,cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ir&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=$n.getPooled(or.beforeInput,t,n,r)).data=e,jn(t)):t=null,null===i?t:null===t?i:[i,t]}},hr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!hr[e.type]:"textarea"===t}var pr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function mr(e,t,n){return(e=Xn.getPooled(pr.change,e,t,n)).type="change",D(n),jn(e),e}var gr=null,vr=null;function yr(e){ut(e)}function br(e){if(Se(Rn(e)))return e}function wr(e,t){if("change"===e)return t}var Sr=!1;function xr(){gr&&(gr.detachEvent("onpropertychange",_r),vr=gr=null)}function _r(e){if("value"===e.propertyName&&br(vr))if(e=mr(vr,e,lt(e)),B)ut(e);else{B=!0;try{P(yr,e)}finally{B=!1,U()}}}function Tr(e,t,n){"focus"===e?(xr(),vr=n,(gr=t).attachEvent("onpropertychange",_r)):"blur"===e&&xr()}function Er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return br(vr)}function kr(e,t){if("click"===e)return br(t)}function Cr(e,t){if("input"===e||"change"===e)return br(t)}C&&(Sr=ct("input")&&(!document.documentMode||9<document.documentMode));var Ar={eventTypes:pr,_isInputEventSupported:Sr,extractEvents:function(e,t,n,r){var i=t?Rn(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=wr;else if(dr(i))if(Sr)o=Cr;else{o=Er;var s=Tr}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=kr);if(o&&(o=o(e,t)))return mr(o,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ce(i,"number",i.value)}},Or=Xn.extend({view:null,detail:null}),Ir={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ir[e])&&!!t[e]}function Dr(){return Mr}var Rr=0,Pr=0,Nr=!1,Lr=!1,Fr=Or.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Dr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Rr;return Rr=e.screenX,Nr?"mousemove"===e.type?e.screenX-t:0:(Nr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Pr;return Pr=e.screenY,Lr?"mousemove"===e.type?e.screenY-t:0:(Lr=!0,0)}}),Br=Fr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),zr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ur={eventTypes:zr,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?Mn(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var s=Fr,u=zr.mouseLeave,l=zr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Br,u=zr.pointerLeave,l=zr.pointerEnter,c="pointer");if(e=null==o?a:Rn(o),a=null==t?a:Rn(t),(u=s.getPooled(u,o,n,r)).type=c+"leave",u.target=e,u.relatedTarget=a,(n=s.getPooled(l,t,n,r)).type=c+"enter",n.target=a,n.relatedTarget=e,c=t,(r=o)&&c)e:{for(l=c,o=0,e=s=r;e;e=Nn(e))o++;for(e=0,t=l;t;t=Nn(t))e++;for(;0<o-e;)s=Nn(s),o--;for(;0<e-o;)l=Nn(l),e--;for(;o--;){if(s===l||s===l.alternate)break e;s=Nn(s),l=Nn(l)}s=null}else s=null;for(l=s,s=[];r&&r!==l&&(null===(o=r.alternate)||o!==l);)s.push(r),r=Nn(r);for(r=[];c&&c!==l&&(null===(o=c.alternate)||o!==l);)r.push(c),c=Nn(c);for(c=0;c<s.length;c++)zn(s[c],"bubbled",u);for(c=r.length;0<c--;)zn(r[c],"captured",n);return 0===(64&i)?[u]:[u,n]}};var jr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Vr=Object.prototype.hasOwnProperty;function Gr(e,t){if(jr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Vr.call(t,n[r])||!jr(e[n[r]],t[n[r]]))return!1;return!0}var Wr=C&&"documentMode"in document&&11>=document.documentMode,Hr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qr=null,Qr=null,Xr=null,Yr=!1;function Kr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Yr||null==qr||qr!==fn(n)?null:("selectionStart"in(n=qr)&&gn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Xr&&Gr(Xr,n)?null:(Xr=n,(e=Xn.getPooled(Hr.select,Qr,e,t)).type="select",e.target=qr,jn(e),e))}var Zr={eventTypes:Hr,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=$e(i),a=E.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?Rn(t):window,e){case"focus":(dr(i)||"true"===i.contentEditable)&&(qr=i,Qr=t,Xr=null);break;case"blur":Xr=Qr=qr=null;break;case"mousedown":Yr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yr=!1,Kr(n,r);case"selectionchange":if(Wr)break;case"keydown":case"keyup":return Kr(n,r)}return null}},Jr=Xn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),$r=Xn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ei=Or.extend({relatedTarget:null});function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii=Or.extend({key:function(e){if(e.key){var t=ni[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ri[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Dr,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ai=Fr.extend({dataTransfer:null}),oi=Or.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Dr}),si=Xn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ui=Fr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),li={eventTypes:Bt,extractEvents:function(e,t,n,r){var i=zt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ti(n))return null;case"keydown":case"keyup":e=ii;break;case"blur":case"focus":e=ei;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ai;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=oi;break;case Qe:case Xe:case Ye:e=Jr;break;case Ke:e=si;break;case"scroll":e=Or;break;case"wheel":e=ui;break;case"copy":case"cut":case"paste":e=$r;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Br;break;default:e=Xn}return jn(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(o(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=Pn,m=Dn,g=Rn,k({SimpleEventPlugin:li,EnterLeaveEventPlugin:Ur,ChangeEventPlugin:Ar,SelectEventPlugin:Zr,BeforeInputEventPlugin:fr});var ci=[],fi=-1;function hi(e){0>fi||(e.current=ci[fi],ci[fi]=null,fi--)}function di(e,t){fi++,ci[fi]=e.current,e.current=t}var pi={},mi={current:pi},gi={current:!1},vi=pi;function yi(e,t){var n=e.type.contextTypes;if(!n)return pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function bi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function wi(){hi(gi),hi(mi)}function Si(e,t,n){if(mi.current!==pi)throw Error(o(168));di(mi,t),di(gi,n)}function xi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,ge(t)||"Unknown",a));return i({},n,{},r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,vi=mi.current,di(mi,e),di(gi,gi.current),!0}function Ti(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=xi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,hi(gi),hi(mi),di(mi,e)):hi(gi),di(gi,n)}var Ei=a.unstable_runWithPriority,ki=a.unstable_scheduleCallback,Ci=a.unstable_cancelCallback,Ai=a.unstable_requestPaint,Oi=a.unstable_now,Ii=a.unstable_getCurrentPriorityLevel,Mi=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Ri=a.unstable_NormalPriority,Pi=a.unstable_LowPriority,Ni=a.unstable_IdlePriority,Li={},Fi=a.unstable_shouldYield,Bi=void 0!==Ai?Ai:function(){},zi=null,Ui=null,ji=!1,Vi=Oi(),Gi=1e4>Vi?Oi:function(){return Oi()-Vi};function Wi(){switch(Ii()){case Mi:return 99;case Di:return 98;case Ri:return 97;case Pi:return 96;case Ni:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Mi;case 98:return Di;case 97:return Ri;case 96:return Pi;case 95:return Ni;default:throw Error(o(332))}}function qi(e,t){return e=Hi(e),Ei(e,t)}function Qi(e,t,n){return e=Hi(e),ki(e,t,n)}function Xi(e){return null===zi?(zi=[e],Ui=ki(Mi,Ki)):zi.push(e),Li}function Yi(){if(null!==Ui){var e=Ui;Ui=null,Ci(e)}Ki()}function Ki(){if(!ji&&null!==zi){ji=!0;var e=0;try{var t=zi;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zi=null}catch(n){throw null!==zi&&(zi=zi.slice(e+1)),ki(Mi,Yi),n}finally{ji=!1}}}function Zi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Ji(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var $i={current:null},ea=null,ta=null,na=null;function ra(){na=ta=ea=null}function ia(e){var t=$i.current;hi($i),e.type._context._currentValue=t}function aa(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function oa(e,t){ea=e,na=ta=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Po=!0),e.firstContext=null)}function sa(e,t){if(na!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(na=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ta){if(null===ea)throw Error(o(308));ta=t,ea.dependencies={expirationTime:0,firstContext:t,responders:null}}else ta=ta.next=t;return e._currentValue}var ua=!1;function la(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function fa(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ha(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function da(e,t){var n=e.alternate;null!==n&&ca(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function pa(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.baseQueue,s=a.shared.pending;if(null!==s){if(null!==o){var u=o.next;o.next=s.next,s.next=u}o=s,a.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==o){u=o.next;var l=a.baseState,c=0,f=null,h=null,d=null;if(null!==u)for(var p=u;;){if((s=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=m,f=l):d=d.next=m,s>c&&(c=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),du(s,p.suspenseConfig);e:{var g=e,v=p;switch(s=t,m=n,v.tag){case 1:if("function"===typeof(g=v.payload)){l=g.call(m,l,s);break e}l=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(s="function"===typeof(g=v.payload)?g.call(m,l,s):g)||void 0===s)break e;l=i({},l,s);break e;case 2:ua=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=a.effects)?a.effects=[p]:s.push(p))}if(null===(p=p.next)||p===u){if(null===(s=a.shared.pending))break;p=o.next=s.next,s.next=u,a.baseQueue=o=s,a.shared.pending=null}}null===d?f=l:d.next=h,a.baseState=f,a.baseQueue=d,pu(c),e.expirationTime=c,e.memoizedState=l}}function ma(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var ga=K.ReactCurrentBatchConfig,va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var ba={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=eu(),i=ga.suspense;(i=fa(r=tu(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),ha(e,i),nu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=eu(),i=ga.suspense;(i=fa(r=tu(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ha(e,i),nu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=eu(),r=ga.suspense;(r=fa(n=tu(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),ha(e,r),nu(e,n)}};function wa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Gr(n,r)||!Gr(i,a))}function Sa(e,t,n){var r=!1,i=pi,a=t.contextType;return"object"===typeof a&&null!==a?a=sa(a):(i=bi(t)?vi:mi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):pi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ba,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function xa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function _a(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,la(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=sa(a):(a=bi(t)?vi:mi.current,i.context=yi(e,a)),pa(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ba.enqueueReplaceState(i,i.state,null),pa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Ta=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function ka(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ca(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Nu(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case te:return(t=Bu(t,e.mode,n)).return=e,t}if(Ta(t)||me(t))return(t=Lu(t,e.mode,n,null)).return=e,t;ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case te:return n.key===i?c(e,t,n,r):null}if(Ta(n)||me(n))return null!==i?null:f(e,t,n,r,null);ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ta(r)||me(r))return f(t,e=e.get(n)||null,r,i,null);ka(t,r)}return null}function m(i,o,s,u){for(var l=null,c=null,f=o,m=o=0,g=null;null!==f&&m<s.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var v=d(i,f,s[m],u);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(i,f),o=a(v,o,m),null===c?l=v:c.sibling=v,c=v,f=g}if(m===s.length)return n(i,f),l;if(null===f){for(;m<s.length;m++)null!==(f=h(i,s[m],u))&&(o=a(f,o,m),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);m<s.length;m++)null!==(g=p(f,i,m,s[m],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),o=a(g,o,m),null===c?l=g:c.sibling=g,c=g);return e&&f.forEach((function(e){return t(i,e)})),l}function g(i,s,u,l){var c=me(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var f=c=null,m=s,g=s=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=d(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===f?c=b:f.sibling=b,f=b,m=v}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=h(i,y.value,l))&&(s=a(y,s,g),null===f?c=y:f.sibling=y,f=y);return c}for(m=r(i,m);!y.done;g++,y=u.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,a,u){var l="object"===typeof a&&null!==a&&a.type===ne&&null===a.key;l&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case ee:e:{for(c=a.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(a.type===ne){n(e,l.sibling),(r=i(l,a.props.children)).return=e,e=r;break e}break;default:if(l.elementType===a.type){n(e,l.sibling),(r=i(l,a.props)).ref=Ea(e,l,a),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}a.type===ne?((r=Lu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Nu(a.type,a.key,a.props,null,e.mode,u)).ref=Ea(e,r,a),u.return=e,e=u)}return s(e);case te:e:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Bu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Fu(a,e.mode,u)).return=e,e=r),s(e);if(Ta(a))return m(e,r,a,u);if(me(a))return g(e,r,a,u);if(c&&ka(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Aa=Ca(!0),Oa=Ca(!1),Ia={},Ma={current:Ia},Da={current:Ia},Ra={current:Ia};function Pa(e){if(e===Ia)throw Error(o(174));return e}function Na(e,t){switch(di(Ra,t),di(Da,e),di(Ma,Ia),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}hi(Ma),di(Ma,t)}function La(){hi(Ma),hi(Da),hi(Ra)}function Fa(e){Pa(Ra.current);var t=Pa(Ma.current),n=Fe(t,e.type);t!==n&&(di(Da,e),di(Ma,n))}function Ba(e){Da.current===e&&(hi(Ma),hi(Da))}var za={current:0};function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===vn||n.data===yn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ja(e,t){return{responder:e,props:t}}var Va=K.ReactCurrentDispatcher,Ga=K.ReactCurrentBatchConfig,Wa=0,Ha=null,qa=null,Qa=null,Xa=!1;function Ya(){throw Error(o(321))}function Ka(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jr(e[n],t[n]))return!1;return!0}function Za(e,t,n,r,i,a){if(Wa=a,Ha=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Va.current=null===e||null===e.memoizedState?So:xo,e=n(r,i),t.expirationTime===Wa){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Qa=qa=null,t.updateQueue=null,Va.current=_o,e=n(r,i)}while(t.expirationTime===Wa)}if(Va.current=wo,t=null!==qa&&null!==qa.next,Wa=0,Qa=qa=Ha=null,Xa=!1,t)throw Error(o(300));return e}function Ja(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Qa?Ha.memoizedState=Qa=e:Qa=Qa.next=e,Qa}function $a(){if(null===qa){var e=Ha.alternate;e=null!==e?e.memoizedState:null}else e=qa.next;var t=null===Qa?Ha.memoizedState:Qa.next;if(null!==t)Qa=t,qa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(qa=e).memoizedState,baseState:qa.baseState,baseQueue:qa.baseQueue,queue:qa.queue,next:null},null===Qa?Ha.memoizedState=Qa=e:Qa=Qa.next=e}return Qa}function eo(e,t){return"function"===typeof t?t(e):t}function to(e){var t=$a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=qa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,l=i;do{var c=l.expirationTime;if(c<Wa){var f={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,c>Ha.expirationTime&&(Ha.expirationTime=c,pu(c))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),du(c,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===u?a=r:u.next=s,jr(r,t.memoizedState)||(Po=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function no(e){var t=$a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);jr(a,t.memoizedState)||(Po=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ro(e){var t=Ja();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e}).dispatch=bo.bind(null,Ha,e),[t.memoizedState,e]}function io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ha.updateQueue)?(t={lastEffect:null},Ha.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ao(){return $a().memoizedState}function oo(e,t,n,r){var i=Ja();Ha.effectTag|=e,i.memoizedState=io(1|t,n,void 0,void 0===r?null:r)}function so(e,t,n,r){var i=$a();r=void 0===r?null:r;var a=void 0;if(null!==qa){var o=qa.memoizedState;if(a=o.destroy,null!==r&&Ka(r,o.deps))return void io(t,n,a,r)}Ha.effectTag|=e,i.memoizedState=io(1|t,n,a,r)}function uo(e,t){return oo(516,4,e,t)}function lo(e,t){return so(516,4,e,t)}function co(e,t){return so(4,2,e,t)}function fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,so(4,2,fo.bind(null,t,e),n)}function po(){}function mo(e,t){return Ja().memoizedState=[e,void 0===t?null:t],e}function go(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ka(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vo(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ka(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yo(e,t,n){var r=Wi();qi(98>r?98:r,(function(){e(!0)})),qi(97<r?97:r,(function(){var r=Ga.suspense;Ga.suspense=void 0===t?null:t;try{e(!1),n()}finally{Ga.suspense=r}}))}function bo(e,t,n){var r=eu(),i=ga.suspense;i={expirationTime:r=tu(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Ha||null!==a&&a===Ha)Xa=!0,i.expirationTime=Wa,Ha.expirationTime=Wa;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.eagerReducer=a,i.eagerState=s,jr(s,o))return}catch(u){}nu(e,r)}}var wo={readContext:sa,useCallback:Ya,useContext:Ya,useEffect:Ya,useImperativeHandle:Ya,useLayoutEffect:Ya,useMemo:Ya,useReducer:Ya,useRef:Ya,useState:Ya,useDebugValue:Ya,useResponder:Ya,useDeferredValue:Ya,useTransition:Ya},So={readContext:sa,useCallback:mo,useContext:sa,useEffect:uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,oo(4,2,fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oo(4,2,e,t)},useMemo:function(e,t){var n=Ja();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ja();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=bo.bind(null,Ha,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ja().memoizedState=e},useState:ro,useDebugValue:po,useResponder:ja,useDeferredValue:function(e,t){var n=ro(e),r=n[0],i=n[1];return uo((function(){var n=Ga.suspense;Ga.suspense=void 0===t?null:t;try{i(e)}finally{Ga.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ro(!1),n=t[0];return t=t[1],[mo(yo.bind(null,t,e),[t,e]),n]}},xo={readContext:sa,useCallback:go,useContext:sa,useEffect:lo,useImperativeHandle:ho,useLayoutEffect:co,useMemo:vo,useReducer:to,useRef:ao,useState:function(){return to(eo)},useDebugValue:po,useResponder:ja,useDeferredValue:function(e,t){var n=to(eo),r=n[0],i=n[1];return lo((function(){var n=Ga.suspense;Ga.suspense=void 0===t?null:t;try{i(e)}finally{Ga.suspense=n}}),[e,t]),r},useTransition:function(e){var t=to(eo),n=t[0];return t=t[1],[go(yo.bind(null,t,e),[t,e]),n]}},_o={readContext:sa,useCallback:go,useContext:sa,useEffect:lo,useImperativeHandle:ho,useLayoutEffect:co,useMemo:vo,useReducer:no,useRef:ao,useState:function(){return no(eo)},useDebugValue:po,useResponder:ja,useDeferredValue:function(e,t){var n=no(eo),r=n[0],i=n[1];return lo((function(){var n=Ga.suspense;Ga.suspense=void 0===t?null:t;try{i(e)}finally{Ga.suspense=n}}),[e,t]),r},useTransition:function(e){var t=no(eo),n=t[0];return t=t[1],[go(yo.bind(null,t,e),[t,e]),n]}},To=null,Eo=null,ko=!1;function Co(e,t){var n=Du(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Oo(e){if(ko){var t=Eo;if(t){var n=t;if(!Ao(e,t)){if(!(t=En(n.nextSibling))||!Ao(e,t))return e.effectTag=-1025&e.effectTag|2,ko=!1,void(To=e);Co(To,n)}To=e,Eo=En(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,ko=!1,To=e}}function Io(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;To=e}function Mo(e){if(e!==To)return!1;if(!ko)return Io(e),ko=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!xn(t,e.memoizedProps))for(t=Eo;t;)Co(e,t),t=En(t.nextSibling);if(Io(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Eo=En(e.nextSibling);break e}t--}else"$"!==n&&n!==yn&&n!==vn||t++}e=e.nextSibling}Eo=null}}else Eo=To?En(e.stateNode.nextSibling):null;return!0}function Do(){Eo=To=null,ko=!1}var Ro=K.ReactCurrentOwner,Po=!1;function No(e,t,n,r){t.child=null===e?Oa(t,null,n,r):Aa(t,e.child,n,r)}function Lo(e,t,n,r,i){n=n.render;var a=t.ref;return oa(t,i),r=Za(e,t,n,r,a,i),null===e||Po?(t.effectTag|=1,No(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Jo(e,t,i))}function Fo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ru(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Gr)(i,r)&&e.ref===t.ref)?Jo(e,t,a):(t.effectTag|=1,(e=Pu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){return null!==e&&Gr(e.memoizedProps,r)&&e.ref===t.ref&&(Po=!1,i<a)?(t.expirationTime=e.expirationTime,Jo(e,t,a)):Uo(e,t,n,r,a)}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Uo(e,t,n,r,i){var a=bi(n)?vi:mi.current;return a=yi(t,a),oa(t,i),n=Za(e,t,n,r,a,i),null===e||Po?(t.effectTag|=1,No(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Jo(e,t,i))}function jo(e,t,n,r,i){if(bi(n)){var a=!0;_i(t)}else a=!1;if(oa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Sa(t,n,r),_a(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=sa(l):l=yi(t,l=bi(n)?vi:mi.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&xa(t,o,r,l),ua=!1;var h=t.memoizedState;o.state=h,pa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||gi.current||ua?("function"===typeof c&&(ya(t,n,c,r),u=t.memoizedState),(s=ua||wa(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,ca(e,t),s=t.memoizedProps,o.props=t.type===t.elementType?s:Ji(t.type,s),u=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=sa(l):l=yi(t,l=bi(n)?vi:mi.current),(f="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&xa(t,o,r,l),ua=!1,u=t.memoizedState,o.state=u,pa(t,r,o,i),h=t.memoizedState,s!==r||u!==h||gi.current||ua?("function"===typeof c&&(ya(t,n,c,r),h=t.memoizedState),(c=ua||wa(t,n,s,r,u,h,l))?(f||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Vo(e,t,n,r,a,i)}function Vo(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&Ti(t,n,!1),Jo(e,t,a);r=t.stateNode,Ro.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Aa(t,e.child,null,a),t.child=Aa(t,null,s,a)):No(e,t,s,a),t.memoizedState=r.state,i&&Ti(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?Si(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Si(0,t.context,!1),Na(e,t.containerInfo)}var Wo,Ho,qo,Qo={dehydrated:null,retryTime:0};function Xo(e,t,n){var r,i=t.mode,a=t.pendingProps,o=za.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),di(za,1&o),null===e){if(void 0!==a.fallback&&Oo(t),s){if(s=a.fallback,(a=Lu(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Lu(s,i,n,null)).return=t,a.sibling=n,t.memoizedState=Qo,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Oa(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(a=a.fallback,(n=Pu(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Pu(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Qo,t.child=n,i}return n=Aa(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=a.fallback,(a=Lu(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Lu(s,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Qo,t.child=a,n}return t.memoizedState=null,t.child=Aa(t,e,a.children,n)}function Yo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),aa(e.return,t)}function Ko(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function Zo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(No(e,t,r.children,n),0!==(2&(r=za.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yo(e,n);else if(19===e.tag)Yo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(za,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ko(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ko(t,!0,n,null,a,t.lastEffect);break;case"together":Ko(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&pu(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function es(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return bi(t.type)&&wi(),null;case 3:return La(),hi(gi),hi(mi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Mo(t)||(t.effectTag|=4),null;case 5:Ba(t),n=Pa(Ra.current);var a=t.type;if(null!==e&&null!=t.stateNode)Ho(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Ma.current),Mo(t)){r=t.stateNode,a=t.type;var s=t.memoizedProps;switch(r[An]=t,r[On]=s,a){case"iframe":case"object":case"embed":Xt("load",r);break;case"video":case"audio":for(e=0;e<Ze.length;e++)Xt(Ze[e],r);break;case"source":Xt("error",r);break;case"img":case"image":case"link":Xt("error",r),Xt("load",r);break;case"form":Xt("reset",r),Xt("submit",r);break;case"details":Xt("toggle",r);break;case"input":_e(r,s),Xt("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xt("invalid",r),ln(n,"onChange");break;case"textarea":Me(r,s),Xt("invalid",r),ln(n,"onChange")}for(var u in on(a,s),e=null,s)if(s.hasOwnProperty(u)){var l=s[u];"children"===u?"string"===typeof l?r.textContent!==l&&(e=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(e=["children",""+l]):T.hasOwnProperty(u)&&null!=l&&ln(n,u)}switch(a){case"input":we(r),ke(r,s,!0);break;case"textarea":we(r),Re(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===un&&(e=Le(a)),e===un?"script"===a?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(a,{is:r.is}):(e=u.createElement(a),"select"===a&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,a),e[An]=t,e[On]=r,Wo(e,t),t.stateNode=e,u=sn(a,r),a){case"iframe":case"object":case"embed":Xt("load",e),l=r;break;case"video":case"audio":for(l=0;l<Ze.length;l++)Xt(Ze[l],e);l=r;break;case"source":Xt("error",e),l=r;break;case"img":case"image":case"link":Xt("error",e),Xt("load",e),l=r;break;case"form":Xt("reset",e),Xt("submit",e),l=r;break;case"details":Xt("toggle",e),l=r;break;case"input":_e(e,r),l=xe(e,r),Xt("invalid",e),ln(n,"onChange");break;case"option":l=Ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),Xt("invalid",e),ln(n,"onChange");break;case"textarea":Me(e,r),l=Ie(e,r),Xt("invalid",e),ln(n,"onChange");break;default:l=r}on(a,l);var c=l;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?rn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Ue(e,f):"children"===s?"string"===typeof f?("textarea"!==a||""!==f)&&je(e,f):"number"===typeof f&&je(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?null!=f&&ln(n,s):null!=f&&Z(e,s,f,u))}switch(a){case"input":we(e),ke(e,r,!1);break;case"textarea":we(e),Re(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Oe(e,!!r.multiple,n,!1):null!=r.defaultValue&&Oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(e.onclick=cn)}Sn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)qo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Ra.current),Pa(Ma.current),Mo(t)?(n=t.stateNode,r=t.memoizedProps,n[An]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[An]=t,t.stateNode=n)}return null;case 13:return hi(za),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Mo(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=a,a.nextEffect=s):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&za.current)?Ns===As&&(Ns=Os):(Ns!==As&&Ns!==Os||(Ns=Is),0!==Us&&null!==Ds&&(ju(Ds,Ps),Vu(Ds,Us)))),(n||r)&&(t.effectTag|=4),null);case 4:return La(),null;case 10:return ia(t),null;case 17:return bi(t.type)&&wi(),null;case 19:if(hi(za),null===(r=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(s=r.rendering)){if(a)$o(r,!1);else if(Ns!==As||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Ua(s))){for(t.effectTag|=64,$o(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return di(za,1&za.current|2),t.child}s=s.sibling}}else{if(!a)if(null!==(e=Ua(s))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),$o(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,$o(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Gi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,t=za.current,di(za,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function ts(e){switch(e.tag){case 1:bi(e.type)&&wi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(La(),hi(gi),hi(mi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Ba(e),null;case 13:return hi(za),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return hi(za),null;case 4:return La(),null;case 10:return ia(e),null;default:return null}}function ns(e,t){return{value:e,source:t,stack:ve(t)}}Wo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ho=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var s,u,l=t.stateNode;switch(Pa(Ma.current),e=null,n){case"input":o=xe(l,o),r=xe(l,r),e=[];break;case"option":o=Ae(l,o),r=Ae(l,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Ie(l,o),r=Ie(l,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(l.onclick=cn)}for(s in on(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(u in l=o[s])l.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(l=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&c!==l&&(null!=c||null!=l))if("style"===s)if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(s,c)):"children"===s?l===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(T.hasOwnProperty(s)?(null!=c&&ln(a,s),e||l===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},qo=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var rs="function"===typeof WeakSet?WeakSet:Set;function is(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ve(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function as(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){ku(e,n)}else t.current=null}function os(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ss(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function us(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ls(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void us(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ma(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ma(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Sn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ft(n)))));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function cs(e,t,n){switch("function"===typeof Iu&&Iu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;qi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){ku(i,a)}}e=e.next}while(e!==r)}))}break;case 1:as(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){ku(e,n)}}(t,n);break;case 5:as(t);break;case 4:gs(e,t,n)}}function fs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&fs(t)}function hs(e){return 5===e.tag||3===e.tag||4===e.tag}function ds(e){e:{for(var t=e.return;null!==t;){if(hs(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(je(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||hs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?ps(e,n,t):ms(e,n,t)}function ps(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=cn));else if(4!==r&&null!==(e=e.child))for(ps(e,t,n),e=e.sibling;null!==e;)ps(e,t,n),e=e.sibling}function ms(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ms(e,t,n),e=e.sibling;null!==e;)ms(e,t,n),e=e.sibling}function gs(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var u=e,l=a,c=n,f=l;;)if(cs(u,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===l)break e;for(;null===f.sibling;){if(null===f.return||f.return===l)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,l=a.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(cs(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function vs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ss(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[On]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Te(n,r),sn(e,i),t=sn(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?rn(n,u):"dangerouslySetInnerHTML"===s?Ue(n,u):"children"===s?je(n,u):Z(n,s,u,t)}switch(e){case"input":Ee(n,r);break;case"textarea":De(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Oe(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Oe(n,!!r.multiple,r.defaultValue,!0):Oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ft(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Vs=Gi()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ys(t);case 19:return void ys(t);case 17:return}throw Error(o(163))}function ys(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new rs),t.forEach((function(t){var r=Au.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var bs="function"===typeof WeakMap?WeakMap:Map;function ws(e,t,n){(n=fa(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Hs=r),is(e,t)},n}function Ss(e,t,n){(n=fa(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return is(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===qs?qs=new Set([this]):qs.add(this),is(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var xs,_s=Math.ceil,Ts=K.ReactCurrentDispatcher,Es=K.ReactCurrentOwner,ks=16,Cs=32,As=0,Os=3,Is=4,Ms=0,Ds=null,Rs=null,Ps=0,Ns=As,Ls=null,Fs=1073741823,Bs=1073741823,zs=null,Us=0,js=!1,Vs=0,Gs=null,Ws=!1,Hs=null,qs=null,Qs=!1,Xs=null,Ys=90,Ks=null,Zs=0,Js=null,$s=0;function eu(){return 0!==(48&Ms)?1073741821-(Gi()/10|0):0!==$s?$s:$s=1073741821-(Gi()/10|0)}function tu(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Wi();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(Ms&ks))return Ps;if(null!==n)e=Zi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Zi(e,150,100);break;case 97:case 96:e=Zi(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Ds&&e===Ps&&--e,e}function nu(e,t){if(50<Zs)throw Zs=0,Js=null,Error(o(185));if(null!==(e=ru(e,t))){var n=Wi();1073741823===t?0!==(8&Ms)&&0===(48&Ms)?su(e):(au(e),0===Ms&&Yi()):au(e),0===(4&Ms)||98!==n&&99!==n||(null===Ks?Ks=new Map([[e,t]]):(void 0===(n=Ks.get(e))||n>t)&&Ks.set(e,t))}}function ru(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ds===i&&(pu(t),Ns===Is&&ju(i,Ps)),Vu(i,t)),i}function iu(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Uu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function au(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Xi(su.bind(null,e));else{var t=iu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=eu();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Li&&Ci(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Xi(su.bind(null,e)):Qi(r,ou.bind(null,e),{timeout:10*(1073741821-t)-Gi()}),e.callbackNode=t}}}function ou(e,t){if($s=0,t)return Gu(e,t=eu()),au(e),null;var n=iu(e);if(0!==n){if(t=e.callbackNode,0!==(48&Ms))throw Error(o(327));if(_u(),e===Ds&&n===Ps||cu(e,n),null!==Rs){var r=Ms;Ms|=ks;for(var i=hu();;)try{gu();break}catch(u){fu(e,u)}if(ra(),Ms=r,Ts.current=i,1===Ns)throw t=Ls,cu(e,n),ju(e,n),au(e),t;if(null===Rs)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ns,Ds=null,r){case As:case 1:throw Error(o(345));case 2:Gu(e,2<n?2:n);break;case Os:if(ju(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bu(i)),1073741823===Fs&&10<(i=Vs+500-Gi())){if(js){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,cu(e,n);break}}if(0!==(a=iu(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=_n(wu.bind(null,e),i);break}wu(e);break;case Is:if(ju(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bu(i)),js&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,cu(e,n);break}if(0!==(i=iu(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Bs?r=10*(1073741821-Bs)-Gi():1073741823===Fs?r=0:(r=10*(1073741821-Fs)-5e3,0>(r=(i=Gi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=_n(wu.bind(null,e),r);break}wu(e);break;case 5:if(1073741823!==Fs&&null!==zs){a=Fs;var s=zs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(a=Gi()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=i?0:i+r-a),10<r){ju(e,n),e.timeoutHandle=_n(wu.bind(null,e),r);break}}wu(e);break;default:throw Error(o(329))}if(au(e),e.callbackNode===t)return ou.bind(null,e)}}return null}function su(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Ms))throw Error(o(327));if(_u(),e===Ds&&t===Ps||cu(e,t),null!==Rs){var n=Ms;Ms|=ks;for(var r=hu();;)try{mu();break}catch(i){fu(e,i)}if(ra(),Ms=n,Ts.current=r,1===Ns)throw n=Ls,cu(e,t),ju(e,t),au(e),n;if(null!==Rs)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ds=null,wu(e),au(e)}return null}function uu(e,t){var n=Ms;Ms|=1;try{return e(t)}finally{0===(Ms=n)&&Yi()}}function lu(e,t){var n=Ms;Ms&=-2,Ms|=8;try{return e(t)}finally{0===(Ms=n)&&Yi()}}function cu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Tn(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&wi();break;case 3:La(),hi(gi),hi(mi);break;case 5:Ba(r);break;case 4:La();break;case 13:case 19:hi(za);break;case 10:ia(r)}n=n.return}Ds=e,Rs=Pu(e.current,null),Ps=t,Ns=As,Ls=null,Bs=Fs=1073741823,zs=null,Us=0,js=!1}function fu(e,t){for(;;){try{if(ra(),Va.current=wo,Xa)for(var n=Ha.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Wa=0,Qa=qa=Ha=null,Xa=!1,null===Rs||null===Rs.return)return Ns=1,Ls=t,Rs=null;e:{var i=e,a=Rs.return,o=Rs,s=t;if(t=Ps,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&o.mode)){var l=o.alternate;l?(o.updateQueue=l.updateQueue,o.memoizedState=l.memoizedState,o.expirationTime=l.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var c=0!==(1&za.current),f=a;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(h){var m=f.updateQueue;if(null===m){var g=new Set;g.add(u),f.updateQueue=g}else m.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var v=fa(1073741823,null);v.tag=2,ha(o,v)}o.expirationTime=1073741823;break e}s=void 0,o=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new bs,s=new Set,y.set(u,s)):void 0===(s=y.get(u))&&(s=new Set,y.set(u,s)),!s.has(o)){s.add(o);var b=Cu.bind(null,i,u,o);u.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((ge(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(o))}5!==Ns&&(Ns=2),s=ns(s,o),f=a;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t,da(f,ws(f,u,t));break e;case 1:u=s;var w=f.type,S=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===qs||!qs.has(S)))){f.effectTag|=4096,f.expirationTime=t,da(f,Ss(f,u,t));break e}}f=f.return}while(null!==f)}Rs=yu(Rs)}catch(x){t=x;continue}break}}function hu(){var e=Ts.current;return Ts.current=wo,null===e?wo:e}function du(e,t){e<Fs&&2<e&&(Fs=e),null!==t&&e<Bs&&2<e&&(Bs=e,zs=t)}function pu(e){e>Us&&(Us=e)}function mu(){for(;null!==Rs;)Rs=vu(Rs)}function gu(){for(;null!==Rs&&!Fi();)Rs=vu(Rs)}function vu(e){var t=xs(e.alternate,e,Ps);return e.memoizedProps=e.pendingProps,null===t&&(t=yu(e)),Es.current=null,t}function yu(e){Rs=e;do{var t=Rs.alternate;if(e=Rs.return,0===(2048&Rs.effectTag)){if(t=es(t,Rs,Ps),1===Ps||1!==Rs.childExpirationTime){for(var n=0,r=Rs.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}Rs.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Rs.firstEffect),null!==Rs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Rs.firstEffect),e.lastEffect=Rs.lastEffect),1<Rs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Rs:e.firstEffect=Rs,e.lastEffect=Rs))}else{if(null!==(t=ts(Rs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Rs.sibling))return t;Rs=e}while(null!==Rs);return Ns===As&&(Ns=5),null}function bu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function wu(e){var t=Wi();return qi(99,Su.bind(null,e,t)),null}function Su(e,t){do{_u()}while(null!==Xs);if(0!==(48&Ms))throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=bu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ds&&(Rs=Ds=null,Ps=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Ms;Ms|=Cs,Es.current=null,bn=Qt;var s=mn();if(gn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var l=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{u.nodeType,f.nodeType}catch(k){u=null;break e}var h=0,d=-1,p=-1,m=0,g=0,v=s,y=null;t:for(;;){for(var b;v!==u||0!==c&&3!==v.nodeType||(d=h+c),v!==f||0!==l&&3!==v.nodeType||(p=h+l),3===v.nodeType&&(h+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===u&&++m===c&&(d=h),y===f&&++g===l&&(p=h),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}u=-1===d||-1===p?null:{start:d,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;wn={activeElementDetached:null,focusedElem:s,selectionRange:u},Qt=!1,Gs=i;do{try{xu()}catch(k){if(null===Gs)throw Error(o(330));ku(Gs,k),Gs=Gs.nextEffect}}while(null!==Gs);Gs=i;do{try{for(s=e,u=t;null!==Gs;){var w=Gs.effectTag;if(16&w&&je(Gs.stateNode,""),128&w){var S=Gs.alternate;if(null!==S){var x=S.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&w){case 2:ds(Gs),Gs.effectTag&=-3;break;case 6:ds(Gs),Gs.effectTag&=-3,vs(Gs.alternate,Gs);break;case 1024:Gs.effectTag&=-1025;break;case 1028:Gs.effectTag&=-1025,vs(Gs.alternate,Gs);break;case 4:vs(Gs.alternate,Gs);break;case 8:gs(s,c=Gs,u),fs(c)}Gs=Gs.nextEffect}}catch(k){if(null===Gs)throw Error(o(330));ku(Gs,k),Gs=Gs.nextEffect}}while(null!==Gs);if(x=wn,S=mn(),w=x.focusedElem,u=x.selectionRange,S!==w&&w&&w.ownerDocument&&pn(w.ownerDocument.documentElement,w)){null!==u&&gn(w)&&(S=u.start,void 0===(x=u.end)&&(x=S),"selectionStart"in w?(w.selectionStart=S,w.selectionEnd=Math.min(x,w.value.length)):(x=(S=w.ownerDocument||document)&&S.defaultView||window).getSelection&&(x=x.getSelection(),c=w.textContent.length,s=Math.min(u.start,c),u=void 0===u.end?s:Math.min(u.end,c),!x.extend&&s>u&&(c=u,u=s,s=c),c=dn(w,s),f=dn(w,u),c&&f&&(1!==x.rangeCount||x.anchorNode!==c.node||x.anchorOffset!==c.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)&&((S=S.createRange()).setStart(c.node,c.offset),x.removeAllRanges(),s>u?(x.addRange(S),x.extend(f.node,f.offset)):(S.setEnd(f.node,f.offset),x.addRange(S))))),S=[];for(x=w;x=x.parentNode;)1===x.nodeType&&S.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<S.length;w++)(x=S[w]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Qt=!!bn,wn=bn=null,e.current=n,Gs=i;do{try{for(w=e;null!==Gs;){var _=Gs.effectTag;if(36&_&&ls(w,Gs.alternate,Gs),128&_){S=void 0;var T=Gs.ref;if(null!==T){var E=Gs.stateNode;switch(Gs.tag){case 5:S=E;break;default:S=E}"function"===typeof T?T(S):T.current=S}}Gs=Gs.nextEffect}}catch(k){if(null===Gs)throw Error(o(330));ku(Gs,k),Gs=Gs.nextEffect}}while(null!==Gs);Gs=null,Bi(),Ms=a}else e.current=n;if(Qs)Qs=!1,Xs=e,Ys=t;else for(Gs=i;null!==Gs;)t=Gs.nextEffect,Gs.nextEffect=null,Gs=t;if(0===(t=e.firstPendingTime)&&(qs=null),1073741823===t?e===Js?Zs++:(Zs=0,Js=e):Zs=0,"function"===typeof Ou&&Ou(n.stateNode,r),au(e),Ws)throw Ws=!1,e=Hs,Hs=null,e;return 0!==(8&Ms)||Yi(),null}function xu(){for(;null!==Gs;){var e=Gs.effectTag;0!==(256&e)&&os(Gs.alternate,Gs),0===(512&e)||Qs||(Qs=!0,Qi(97,(function(){return _u(),null}))),Gs=Gs.nextEffect}}function _u(){if(90!==Ys){var e=97<Ys?97:Ys;return Ys=90,qi(e,Tu)}}function Tu(){if(null===Xs)return!1;var e=Xs;if(Xs=null,0!==(48&Ms))throw Error(o(331));var t=Ms;for(Ms|=Cs,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ss(5,n),us(5,n)}}catch(r){if(null===e)throw Error(o(330));ku(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Ms=t,Yi(),!0}function Eu(e,t,n){ha(e,t=ws(e,t=ns(n,t),1073741823)),null!==(e=ru(e,1073741823))&&au(e)}function ku(e,t){if(3===e.tag)Eu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Eu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r))){ha(n,e=Ss(n,e=ns(t,e),1073741823)),null!==(n=ru(n,1073741823))&&au(n);break}}n=n.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ds===e&&Ps===n?Ns===Is||Ns===Os&&1073741823===Fs&&Gi()-Vs<500?cu(e,Ps):js=!0:Uu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,au(e)))}function Au(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=tu(t=eu(),e,null)),null!==(e=ru(e,t))&&au(e)}xs=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||gi.current)Po=!0;else{if(r<n){switch(Po=!1,t.tag){case 3:Go(t),Do();break;case 5:if(Fa(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:bi(t.type)&&_i(t);break;case 4:Na(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,di($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Xo(e,t,n):(di(za,1&za.current),null!==(t=Jo(e,t,n))?t.sibling:null);di(za,1&za.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Zo(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),di(za,za.current),!r)return null}return Jo(e,t,n)}Po=!1}}else Po=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=yi(t,mi.current),oa(t,n),i=Za(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,bi(r)){var a=!0;_i(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,la(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ya(t,r,s,e),i.updater=ba,t.stateNode=i,i._reactInternalFiber=t,_a(t,r,e,n),t=Vo(null,t,r,!0,a,n)}else t.tag=0,No(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ru(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ue)return 11;if(e===fe)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Uo(null,t,i,e,n);break e;case 1:t=jo(null,t,i,e,n);break e;case 11:t=Lo(null,t,i,e,n);break e;case 14:t=Fo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),pa(t,r,null,n),(r=t.memoizedState.element)===i)Do(),t=Jo(e,t,n);else{if((i=t.stateNode.hydrate)&&(Eo=En(t.stateNode.containerInfo.firstChild),To=t,i=ko=!0),i)for(n=Oa(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else No(e,t,r,n),Do();t=t.child}return t;case 5:return Fa(t),null===e&&Oo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,xn(r,i)?s=null:null!==a&&xn(r,a)&&(t.effectTag|=16),zo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(No(e,t,s,n),t=t.child),t;case 6:return null===e&&Oo(t),null;case 13:return Xo(e,t,n);case 4:return Na(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Aa(t,null,r,n):No(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Lo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(di($i,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=jr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!gi.current){t=Jo(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===u.tag&&((c=fa(n,null)).tag=2,ha(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),aa(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}No(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,oa(t,n),r=r(i=sa(i,a.unstable_observedBits)),t.effectTag|=1,No(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Fo(e,t,i,a=Ji(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,bi(r)?(e=!0,_i(t)):e=!1,oa(t,n),Sa(t,r,i),_a(t,r,i,n),Vo(null,t,r,!0,e,n);case 19:return Zo(e,t,n)}throw Error(o(156,t.tag))};var Ou=null,Iu=null;function Mu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Du(e,t,n,r){return new Mu(e,t,n,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,t){var n=e.alternate;return null===n?((n=Du(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ru(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Lu(n.children,i,a,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=Du(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case le:return(e=Du(13,n,t,i)).type=le,e.elementType=le,e.expirationTime=a,e;case ce:return(e=Du(19,n,t,i)).elementType=ce,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:s=10;break e;case oe:s=9;break e;case ue:s=11;break e;case fe:s=14;break e;case he:s=16,r=null;break e;case de:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Du(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Lu(e,t,n,r){return(e=Du(7,e,r,t)).expirationTime=n,e}function Fu(e,t,n){return(e=Du(6,e,null,t)).expirationTime=n,e}function Bu(e,t,n){return(t=Du(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Uu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function ju(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Vu(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Gu(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Wu(e,t,n,r){var i=t.current,a=eu(),s=ga.suspense;a=tu(a,i,s);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(bi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var l=n.type;if(bi(l)){n=xi(n,l,u);break e}}n=u}else n=pi;return null===t.context?t.context=n:t.pendingContext=n,(t=fa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ha(i,t),nu(i,a),a}function Hu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function qu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Qu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}function Xu(e,t,n){var r=new zu(e,t,n=null!=n&&!0===n.hydrate),i=Du(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,la(i),e[In]=r.current,n&&0!==t&&function(e,t){var n=$e(t);Ct.forEach((function(e){mt(e,t,n)})),At.forEach((function(e){mt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ku(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Hu(o);s.call(e)}}Wu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Xu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Hu(o);u.call(e)}}lu((function(){Wu(t,o,e,i)}))}return Hu(o)}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ju(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(o(200));return Zu(e,t,null,n)}Xu.prototype.render=function(e){Wu(e,this._internalRoot,null,null)},Xu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Wu(null,e,null,(function(){t[In]=null}))},gt=function(e){if(13===e.tag){var t=Zi(eu(),150,100);nu(e,t),Qu(e,t)}},vt=function(e){13===e.tag&&(nu(e,3),Qu(e,3))},yt=function(e){if(13===e.tag){var t=eu();nu(e,t=tu(t,e,null)),Qu(e,t)}},A=function(e,t,n){switch(t){case"input":if(Ee(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Pn(r);if(!i)throw Error(o(90));Se(r),Ee(r,i)}}}break;case"textarea":De(e,n);break;case"select":null!=(t=n.value)&&Oe(e,!!n.multiple,t,!1)}},P=uu,N=function(e,t,n,r,i){var a=Ms;Ms|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(Ms=a)&&Yi()}},L=function(){0===(49&Ms)&&(function(){if(null!==Ks){var e=Ks;Ks=null,e.forEach((function(e,t){Gu(t,e),au(t)})),Yi()}}(),_u())},F=function(e,t){var n=Ms;Ms|=2;try{return e(t)}finally{0===(Ms=n)&&Yi()}};var $u={Events:[Dn,Rn,Pn,k,_,jn,function(e){at(e,Un)},D,R,Jt,ut,_u,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Ou=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Iu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Mn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$u,t.createPortal=Ju,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Ms))throw Error(o(187));var n=Ms;Ms|=1;try{return qi(99,e.bind(null,t))}finally{Ms=n,Yi()}},t.hydrate=function(e,t,n){if(!Yu(t))throw Error(o(200));return Ku(null,e,t,!0,n)},t.render=function(e,t,n){if(!Yu(t))throw Error(o(200));return Ku(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(o(40));return!!e._reactRootContainer&&(lu((function(){Ku(null,null,e,!1,(function(){e._reactRootContainer=null,e[In]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_createPortal=function(e,t){return Ju(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return Ku(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(135)},function(e,t,n){"use strict";var r,i,a,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,c=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(c,0))},i=function(e,t){l=setTimeout(e,t)},a=function(){clearTimeout(l)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var v=d.now();t.unstable_now=function(){return d.now()-v}}var y=!1,b=null,w=-1,S=5,x=0;o=function(){return t.unstable_now()>=x},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):S=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,T=_.port2;_.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();x=e+S;try{b(!0,e)?T.postMessage(null):(y=!1,b=null)}catch(n){throw T.postMessage(null),n}}else y=!1},r=function(e){b=e,y||(y=!0,T.postMessage(null))},i=function(e,n){w=p((function(){e(t.unstable_now())}),n)},a=function(){m(w),w=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<A(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>A(o,n))void 0!==u&&0>A(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>A(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function A(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],I=[],M=1,D=null,R=3,P=!1,N=!1,L=!1;function F(e){for(var t=k(I);null!==t;){if(null===t.callback)C(I);else{if(!(t.startTime<=e))break;C(I),t.sortIndex=t.expirationTime,E(O,t)}t=k(I)}}function B(e){if(L=!1,F(e),!N)if(null!==k(O))N=!0,r(z);else{var t=k(I);null!==t&&i(B,t.startTime-e)}}function z(e,n){N=!1,L&&(L=!1,a()),P=!0;var r=R;try{for(F(n),D=k(O);null!==D&&(!(D.expirationTime>n)||e&&!o());){var s=D.callback;if(null!==s){D.callback=null,R=D.priorityLevel;var u=s(D.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?D.callback=u:D===k(O)&&C(O),F(n)}else C(O);D=k(O)}if(null!==D)var l=!0;else{var c=k(I);null!==c&&i(B,c.startTime-n),l=!1}return l}finally{D=null,R=r,P=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var j=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||P||(N=!0,r(z))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return k(O)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();if("object"===typeof o&&null!==o){var u=o.delay;u="number"===typeof u&&0<u?s+u:s,o="number"===typeof o.timeout?o.timeout:U(e)}else o=U(e),u=s;return e={id:M++,callback:n,priorityLevel:e,startTime:u,expirationTime:o=u+o,sortIndex:-1},u>s?(e.sortIndex=u,E(I,e),null===k(O)&&e===k(I)&&(L?a():L=!0,i(B,u-s))):(e.sortIndex=o,E(O,e),N||P||(N=!0,r(z))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();F(e);var n=k(O);return n!==D&&null!==D&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<D.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},,function(e,t,n){"use strict";var r=n(138);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,S=r?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case v:case g:case l:return e;default:return t}}case a:return t}}}function _(e){return x(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||x(e)===f},t.isConcurrentMode=_,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===v},t.isMemo=function(e){return x(e)===g},t.isPortal=function(e){return x(e)===a},t.isProfiler=function(e){return x(e)===u},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===u||e===s||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===w||e.$$typeof===S||e.$$typeof===y)},t.typeOf=x},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(M){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),o=new A(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(M){return{type:"throw",arg:M}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",m={};function g(){}function v(){}function y(){}var b={};b[a]=function(){return this};var w=Object.getPrototypeOf,S=w&&w(w(O([])));S&&S!==n&&r.call(S,a)&&(b=S);var x=y.prototype=g.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function O(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:I}}function I(){return{value:t,done:!0}}return v.prototype=x.constructor=y,y.constructor=v,v.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(T.prototype),T.prototype[o]=function(){return this},e.AsyncIterator=T,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new T(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),u(x,s,"Generator"),x[a]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=l(e),o=r[0],s=r[1],u=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),c=0,f=s>0?o-4:o;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=16383,s=0,u=n-i;s<u;s+=o)a.push(c(e,s,s+o>u?u:s+o));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,a=d&(1<<-c)-1,d>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=h,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+f],f+=h,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),a-=l}return(d?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+d]=255&o,d+=p,o/=256,l-=8);e[n+d-p]|=128*m}},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,a={},o=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){c(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&c(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){c(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(c,0,e)},u.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return a[i]=o,r(i),i++},u.clearImmediate=l}function l(e){delete a[e]}function c(e){if(o)setTimeout(c,0,e);else{var t=a[e];if(t){o=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{l(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(27),n(23))},,,,,,,function(e,t,n){e.exports=i;var r=n(77).EventEmitter;function i(){r.call(this)}n(37)(i,r),i.Readable=n(57),i.Writable=n(157),i.Duplex=n(158),i.Transform=n(159),i.PassThrough=n(160),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",a),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var o=!1;function s(){o||(o=!0,e.end())}function u(){o||(o=!0,"function"===typeof e.destroy&&e.destroy())}function l(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",i),e.removeListener("drain",a),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",l),e.on("error",l),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},,function(e,t,n){"use strict";var r=n(59).Buffer,i=n(154);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,a=r.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=a,i=s,t.copy(n,i),s+=o.data.length,o=o.next;return a},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},,function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(27))},function(e,t,n){"use strict";e.exports=a;var r=n(97),i=Object.create(n(52));function a(e){if(!(this instanceof a))return new a(e);r.call(this,e)}i.inherits=n(37),i.inherits(a,r),a.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(78)},function(e,t,n){e.exports=n(38)},function(e,t,n){e.exports=n(57).Transform},function(e,t,n){e.exports=n(57).PassThrough},function(e,t,n){"use strict";(function(e,r){var i=n(98),a=n(79),o=n(100),s=n(103),u=n(81);for(var l in u)t[l]=u[l];t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7;function c(e){if("number"!==typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}c.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||s.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},c.prototype.write=function(e,t,n,r,i,a,o){return this._write(!0,e,t,n,r,i,a,o)},c.prototype.writeSync=function(e,t,n,r,i,a,o){return this._write(!1,e,t,n,r,i,a,o)},c.prototype._write=function(n,a,o,s,u,l,c,f){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==t.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===a,"must provide flush value"),this.write_in_progress=!0,a!==t.Z_NO_FLUSH&&a!==t.Z_PARTIAL_FLUSH&&a!==t.Z_SYNC_FLUSH&&a!==t.Z_FULL_FLUSH&&a!==t.Z_FINISH&&a!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=e.alloc(0),u=0,s=0),this.strm.avail_in=u,this.strm.input=o,this.strm.next_in=s,this.strm.avail_out=f,this.strm.output=l,this.strm.next_out=c,this.flush=a,!n)return this._process(),this._checkError()?this._afterSync():void 0;var h=this;return r.nextTick((function(){h._process(),h._after()})),this},c.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},c.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},c.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},c.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},c.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},c.prototype.init=function(e,n,r,a,o){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(e>=8&&e<=15,"invalid windowBits"),i(n>=-1&&n<=9,"invalid compression level"),i(r>=1&&r<=9,"invalid memlevel"),i(a===t.Z_FILTERED||a===t.Z_HUFFMAN_ONLY||a===t.Z_RLE||a===t.Z_FIXED||a===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,e,r,a,o),this._setDictionary()},c.prototype.params=function(){throw new Error("deflateParams Not supported")},c.prototype.reset=function(){this._reset(),this._setDictionary()},c.prototype._init=function(e,n,r,i,u){switch(this.level=e,this.windowBits=n,this.memLevel=r,this.strategy=i,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new a,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=u,this.write_in_progress=!1,this.init_done=!0},c.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},c.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=o.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=c}).call(this,n(32).Buffer,n(23))},function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r=n(34);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var a=256,o=286,s=30,u=15,l=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],d=new Array(576);i(d);var p=new Array(60);i(p);var m=new Array(512);i(m);var g=new Array(256);i(g);var v=new Array(29);i(v);var y,b,w,S=new Array(s);function x(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function _(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function T(e){return e<256?m[e]:m[256+(e>>>7)]}function E(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function k(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,E(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function C(e,t,n){k(e,n[2*t],n[2*t+1])}function A(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function O(e,t,n){var r,i,a=new Array(16),o=0;for(r=1;r<=u;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=A(a[s]++,s))}}function I(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){e.bi_valid>8?E(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function D(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function R(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&D(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!D(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function P(e,t,n){var r,i,o,s,u=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?C(e,i,t):(C(e,(o=g[i])+a+1,t),0!==(s=l[o])&&k(e,i-=v[o],s),C(e,o=T(--r),n),0!==(s=c[o])&&k(e,r-=S[o],s))}while(u<e.last_lit);C(e,256,t)}function N(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==a[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)R(e,a,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],R(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,R(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,a,o,s,l=t.dyn_tree,c=t.max_code,f=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(a=0;a<=u;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(a=l[2*l[2*(r=e.heap[n])+1]+1]+1)>m&&(a=m,g++),l[2*r+1]=a,r>c||(e.bl_count[a]++,o=0,r>=p&&(o=d[r-p]),s=l[2*r],e.opt_len+=s*(a+o),h&&(e.static_len+=s*(f[2*r+1]+o)));if(0!==g){do{for(a=m-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[m]--,g-=2}while(g>0);for(a=m;0!==a;a--)for(r=e.bl_count[a];0!==r;)(i=e.heap[--n])>c||(l[2*i+1]!==a&&(e.opt_len+=(a-l[2*i+1])*l[2*i],l[2*i+1]=a),r--)}}(e,t),O(a,c,e.bl_count)}function L(e,t,n){var r,i,a=-1,o=t[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++s<u&&i===o||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=i,0===o?(u=138,l=3):i===o?(u=6,l=3):(u=7,l=4))}function F(e,t,n){var r,i,a=-1,o=t[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++s<u&&i===o)){if(s<l)do{C(e,i,e.bl_tree)}while(0!==--s);else 0!==i?(i!==a&&(C(e,i,e.bl_tree),s--),C(e,16,e.bl_tree),k(e,s-3,2)):s<=10?(C(e,17,e.bl_tree),k(e,s-3,3)):(C(e,18,e.bl_tree),k(e,s-11,7));s=0,a=i,0===o?(u=138,l=3):i===o?(u=6,l=3):(u=7,l=4)}}i(S);var B=!1;function z(e,t,n,i){k(e,0+(i?1:0),3),function(e,t,n,i){M(e),i&&(E(e,n),E(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){B||(!function(){var e,t,n,r,i,a=new Array(16);for(n=0,r=0;r<28;r++)for(v[r]=n,e=0;e<1<<l[r];e++)g[n++]=r;for(g[n-1]=r,i=0,r=0;r<16;r++)for(S[r]=i,e=0;e<1<<c[r];e++)m[i++]=r;for(i>>=7;r<s;r++)for(S[r]=i<<7,e=0;e<1<<c[r]-7;e++)m[256+i++]=r;for(t=0;t<=u;t++)a[t]=0;for(e=0;e<=143;)d[2*e+1]=8,e++,a[8]++;for(;e<=255;)d[2*e+1]=9,e++,a[9]++;for(;e<=279;)d[2*e+1]=7,e++,a[7]++;for(;e<=287;)d[2*e+1]=8,e++,a[8]++;for(O(d,287,a),e=0;e<s;e++)p[2*e+1]=5,p[2*e]=A(e,5);y=new x(d,l,257,o,u),b=new x(p,c,0,s,u),w=new x(new Array(0),f,0,19,7)}(),B=!0),e.l_desc=new _(e.dyn_ltree,y),e.d_desc=new _(e.dyn_dtree,b),e.bl_desc=new _(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,I(e)},t._tr_stored_block=z,t._tr_flush_block=function(e,t,n,r){var i,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),N(e,e.l_desc),N(e,e.d_desc),s=function(e){var t;for(L(e,e.dyn_ltree,e.l_desc.max_code),L(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*h[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?z(e,t,n,r):4===e.strategy||o===i?(k(e,2+(r?1:0),3),P(e,d,p)):(k(e,4+(r?1:0),3),function(e,t,n,r){var i;for(k(e,t-257,5),k(e,n-1,5),k(e,r-4,4),i=0;i<r;i++)k(e,e.bl_tree[2*h[i]+1],3);F(e,e.dyn_ltree,t-1),F(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),P(e,e.dyn_ltree,e.dyn_dtree)),I(e),r&&M(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(g[n]+a+1)]++,e.dyn_dtree[2*T(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){k(e,2,3),C(e,256,d),function(e){16===e.bi_valid?(E(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,a,o,s,u,l,c,f,h,d,p,m,g,v,y,b,w,S,x,_,T,E,k;n=e.state,r=e.next_in,E=e.input,i=r+(e.avail_in-5),a=e.next_out,k=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,f=n.wnext,h=n.window,d=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(d+=E[r++]<<p,p+=8,d+=E[r++]<<p,p+=8),b=m[d&v];t:for(;;){if(d>>>=w=b>>>24,p-=w,0===(w=b>>>16&255))k[a++]=65535&b;else{if(!(16&w)){if(0===(64&w)){b=m[(65535&b)+(d&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}S=65535&b,(w&=15)&&(p<w&&(d+=E[r++]<<p,p+=8),S+=d&(1<<w)-1,d>>>=w,p-=w),p<15&&(d+=E[r++]<<p,p+=8,d+=E[r++]<<p,p+=8),b=g[d&y];n:for(;;){if(d>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0===(64&w)){b=g[(65535&b)+(d&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(x=65535&b,p<(w&=15)&&(d+=E[r++]<<p,(p+=8)<w&&(d+=E[r++]<<p,p+=8)),(x+=d&(1<<w)-1)>u){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=w,p-=w,x>(w=a-o)){if((w=x-w)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(_=0,T=h,0===f){if(_+=l-w,w<S){S-=w;do{k[a++]=h[_++]}while(--w);_=a-x,T=k}}else if(f<w){if(_+=l+f-w,(w-=f)<S){S-=w;do{k[a++]=h[_++]}while(--w);if(_=0,f<S){S-=w=f;do{k[a++]=h[_++]}while(--w);_=a-x,T=k}}}else if(_+=f-w,w<S){S-=w;do{k[a++]=h[_++]}while(--w);_=a-x,T=k}for(;S>2;)k[a++]=T[_++],k[a++]=T[_++],k[a++]=T[_++],S-=3;S&&(k[a++]=T[_++],S>1&&(k[a++]=T[_++]))}else{_=a-x;do{k[a++]=k[_++],k[a++]=k[_++],k[a++]=k[_++],S-=3}while(S>2);S&&(k[a++]=k[_++],S>1&&(k[a++]=k[_++]))}break}}break}}while(r<i&&a<s);r-=S=p>>3,d&=(1<<(p-=S<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=d,n.bits=p}},function(e,t,n){"use strict";var r=n(34),i=15,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,c,f,h,d){var p,m,g,v,y,b,w,S,x,_=d.bits,T=0,E=0,k=0,C=0,A=0,O=0,I=0,M=0,D=0,R=0,P=null,N=0,L=new r.Buf16(16),F=new r.Buf16(16),B=null,z=0;for(T=0;T<=i;T++)L[T]=0;for(E=0;E<l;E++)L[t[n+E]]++;for(A=_,C=i;C>=1&&0===L[C];C--);if(A>C&&(A=C),0===C)return c[f++]=20971520,c[f++]=20971520,d.bits=1,0;for(k=1;k<C&&0===L[k];k++);for(A<k&&(A=k),M=1,T=1;T<=i;T++)if(M<<=1,(M-=L[T])<0)return-1;if(M>0&&(0===e||1!==C))return-1;for(F[1]=0,T=1;T<i;T++)F[T+1]=F[T]+L[T];for(E=0;E<l;E++)0!==t[n+E]&&(h[F[t[n+E]]++]=E);if(0===e?(P=B=h,b=19):1===e?(P=a,N-=257,B=o,z-=257,b=256):(P=s,B=u,b=-1),R=0,E=0,T=k,y=f,O=A,I=0,g=-1,v=(D=1<<A)-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){w=T-I,h[E]<b?(S=0,x=h[E]):h[E]>b?(S=B[z+h[E]],x=P[N+h[E]]):(S=96,x=0),p=1<<T-I,k=m=1<<O;do{c[y+(R>>I)+(m-=p)]=w<<24|S<<16|x|0}while(0!==m);for(p=1<<T-1;R&p;)p>>=1;if(0!==p?(R&=p-1,R+=p):R=0,E++,0===--L[T]){if(T===C)break;T=t[n+h[E]]}if(T>A&&(R&v)!==g){for(0===I&&(I=A),y+=k,M=1<<(O=T-I);O+I<C&&!((M-=L[O+I])<=0);)O++,M<<=1;if(D+=1<<O,1===e&&D>852||2===e&&D>592)return 1;c[g=R&v]=A<<24|O<<16|y-f|0}}return 0!==R&&(c[y+R]=T-I<<24|64<<16|0),d.bits=A,0}},function(e,t,n){(function(t){var r=n(57).Readable,i=n(37);e.exports=o,o.ctor=s,o.obj=function(e,t){("function"===typeof e||Array.isArray(e))&&(t=e,e={});return(e=l(e)).objectMode=!0,e.highWaterMark=16,o(e,t)};var a=s();function o(e,t){("object"!==typeof e||Array.isArray(e))&&(t=e,e={});var n,r=new a(e);return r._from=Array.isArray(t)?(n=(n=t).slice(),function(e,t){var r=null,i=n.length?n.shift():null;i instanceof Error&&(r=i,i=null),t(r,i)}):t||u,r}function s(e,n){function a(t){if(!(this instanceof a))return new a(t);this._reading=!1,this._callback=function(e,t){if(n.destroyed)return;if(e)return n.destroy(e);if(null===t)return n.push(null);n._reading=!1,n.push(t)&&n._read(i)},this.destroyed=!1,r.call(this,t||e);var n=this,i=this._readableState.highWaterMark}return"function"===typeof e&&(n=e,e={}),e=l(e),i(a,r),a.prototype._from=n||u,a.prototype._read=function(e){this._reading||this.destroyed||(this._reading=!0,this._from(e,this._callback))},a.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var n=this;t.nextTick((function(){e&&n.emit("error",e),n.emit("close")}))}},a}function u(){}function l(e){return e=e||{}}}).call(this,n(23))},function(e,t,n){(function(t){var r=n(169).strict;e.exports=function(e){if(r(e)){var n=t.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(n=n.slice(e.byteOffset,e.byteOffset+e.byteLength)),n}return t.from(e)}}).call(this,n(32).Buffer)},function(e,t){e.exports=i,i.strict=a,i.loose=o;var n=Object.prototype.toString,r={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function i(e){return a(e)||o(e)}function a(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function o(e){return r[n.call(e)]}},function(e,t,n){"use strict";var r=r||{};r.lossless=r.lossless||{},r.lossless.DataStream=r.lossless.DataStream||n(44),r.lossless.HuffmanTable=r.lossless.HuffmanTable||n(110),r.lossless.QuantizationTable=r.lossless.QuantizationTable||n(111),r.lossless.ScanHeader=r.lossless.ScanHeader||n(112),r.lossless.FrameHeader=r.lossless.FrameHeader||n(114),r.lossless.Utils=r.lossless.Utils||n(60),r.lossless.Decoder=r.lossless.Decoder||function(e,t){this.buffer=e,this.frame=new r.lossless.FrameHeader,this.huffTable=new r.lossless.HuffmanTable,this.quantTable=new r.lossless.QuantizationTable,this.scan=new r.lossless.ScanHeader,this.DU=r.lossless.Utils.createArray(10,4,64),this.HuffTab=r.lossless.Utils.createArray(4,2,12800),this.IDCT_Source=[],this.nBlock=[],this.acTab=r.lossless.Utils.createArray(10,1),this.dcTab=r.lossless.Utils.createArray(10,1),this.qTab=r.lossless.Utils.createArray(10,1),this.marker=0,this.markerIndex=0,this.numComp=0,this.restartInterval=0,this.selection=0,this.xDim=0,this.yDim=0,this.xLoc=0,this.yLoc=0,this.numBytes=0,this.outputData=null,this.restarting=!1,this.mask=0,"undefined"!==typeof t&&(this.numBytes=t)},r.lossless.Decoder.IDCT_P=[0,5,40,16,45,2,7,42,21,56,8,61,18,47,1,4,41,23,58,13,32,24,37,10,63,17,44,3,6,43,20,57,15,34,29,48,53,26,39,9,60,19,46,22,59,12,33,31,50,55,25,36,11,62,14,35,28,49,52,27,38,30,51,54],r.lossless.Decoder.TABLE=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],r.lossless.Decoder.MAX_HUFFMAN_SUBTREE=50,r.lossless.Decoder.MSB=2147483648,r.lossless.Decoder.RESTART_MARKER_BEGIN=65488,r.lossless.Decoder.RESTART_MARKER_END=65495,r.lossless.Decoder.prototype.decompress=function(e,t,n){return this.decode(e,t,n).buffer},r.lossless.Decoder.prototype.decode=function(e,t,n,i){var a,o,s,u,l=0,c=[],f=[],h=[];if("undefined"!==typeof e&&(this.buffer=e),"undefined"!==typeof i&&(this.numBytes=i),this.stream=new r.lossless.DataStream(this.buffer,t,n),this.buffer=null,this.xLoc=0,this.yLoc=0,65496!==(a=this.stream.get16()))throw new Error("Not a JPEG file");for(a=this.stream.get16();a>>4!==4092||65476===a;){switch(a){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,r.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(a>>8!==255)throw new Error("ERROR: format throw new IOException! (decode)")}a=this.stream.get16()}if(a<65472||a>65479)throw new Error("ERROR: could not handle arithmetic code!");this.frame.read(this.stream),a=this.stream.get16();do{for(;65498!==a;){switch(a){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,r.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(a>>8!==255)throw new Error("ERROR: format throw new IOException! (Parser.decode)")}a=this.stream.get16()}switch(this.precision=this.frame.precision,this.components=this.frame.components,this.numBytes||(this.numBytes=parseInt(Math.ceil(this.precision/8))),1==this.numBytes?this.mask=255:this.mask=65535,this.scan.read(this.stream),this.numComp=this.scan.numComp,this.selection=this.scan.selection,1===this.numBytes?3===this.numComp?(this.getter=this.getValueRGB,this.setter=this.setValueRGB,this.output=this.outputRGB):(this.getter=this.getValue8,this.setter=this.setValue8,this.output=this.outputSingle):(this.getter=this.getValue16,this.setter=this.setValue16,this.output=this.outputSingle),this.selection){case 2:this.selector=this.select2;break;case 3:this.selector=this.select3;break;case 4:this.selector=this.select4;break;case 5:this.selector=this.select5;break;case 6:this.selector=this.select6;break;case 7:this.selector=this.select7;break;default:this.selector=this.select1}for(this.scanComps=this.scan.components,this.quantTables=this.quantTable.quantTables,o=0;o<this.numComp;o+=1)s=this.scanComps[o].scanCompSel,this.qTab[o]=this.quantTables[this.components[s].quantTableSel],this.nBlock[o]=this.components[s].vSamp*this.components[s].hSamp,this.dcTab[o]=this.HuffTab[this.scanComps[o].dcTabSel][0],this.acTab[o]=this.HuffTab[this.scanComps[o].acTabSel][1];for(this.xDim=this.frame.dimX,this.yDim=this.frame.dimY,1==this.numBytes?this.outputData=new Uint8Array(new ArrayBuffer(this.xDim*this.yDim*this.numBytes*this.numComp)):this.outputData=new Uint16Array(new ArrayBuffer(this.xDim*this.yDim*this.numBytes*this.numComp)),l+=1;;){for(f[0]=0,h[0]=0,o=0;o<10;o+=1)c[o]=1<<this.precision-1;if(0===this.restartInterval){for(a=this.decodeUnit(c,f,h);0===a&&this.xLoc<this.xDim&&this.yLoc<this.yDim;)this.output(c),a=this.decodeUnit(c,f,h);break}for(u=0;u<this.restartInterval&&(this.restarting=0==u,a=this.decodeUnit(c,f,h),this.output(c),0===a);u+=1);if(0===a&&(0!==this.markerIndex?(a=65280|this.marker,this.markerIndex=0):a=this.stream.get16()),!(a>=r.lossless.Decoder.RESTART_MARKER_BEGIN&&a<=r.lossless.Decoder.RESTART_MARKER_END))break}65500===a&&1===l&&(this.readNumber(),a=this.stream.get16())}while(65497!==a&&this.xLoc<this.xDim&&this.yLoc<this.yDim&&0===l);return this.outputData},r.lossless.Decoder.prototype.decodeUnit=function(e,t,n){return 1==this.numComp?this.decodeSingle(e,t,n):3==this.numComp?this.decodeRGB(e,t,n):-1},r.lossless.Decoder.prototype.select1=function(e){return this.getPreviousX(e)},r.lossless.Decoder.prototype.select2=function(e){return this.getPreviousY(e)},r.lossless.Decoder.prototype.select3=function(e){return this.getPreviousXY(e)},r.lossless.Decoder.prototype.select4=function(e){return this.getPreviousX(e)+this.getPreviousY(e)-this.getPreviousXY(e)},r.lossless.Decoder.prototype.select5=function(e){return this.getPreviousX(e)+(this.getPreviousY(e)-this.getPreviousXY(e)>>1)},r.lossless.Decoder.prototype.select6=function(e){return this.getPreviousY(e)+(this.getPreviousX(e)-this.getPreviousXY(e)>>1)},r.lossless.Decoder.prototype.select7=function(e){return(this.getPreviousX(e)+this.getPreviousY(e))/2},r.lossless.Decoder.prototype.decodeRGB=function(e,t,n){var i,a,o,s,u,l,c,f;for(e[0]=this.selector(0),e[1]=this.selector(1),e[2]=this.selector(2),u=0;u<this.numComp;u+=1)for(s=this.qTab[u],a=this.acTab[u],o=this.dcTab[u],l=0;l<this.nBlock[u];l+=1){for(c=0;c<this.IDCT_Source.length;c+=1)this.IDCT_Source[c]=0;if((i=this.getHuffmanValue(o,t,n))>=65280)return i;for(e[u]=this.IDCT_Source[0]=e[u]+this.getn(n,i,t,n),this.IDCT_Source[0]*=s[0],f=1;f<64;f+=1){if((i=this.getHuffmanValue(a,t,n))>=65280)return i;if(f+=i>>4,0===(15&i)){if(i>>4===0)break}else this.IDCT_Source[r.lossless.Decoder.IDCT_P[f]]=this.getn(n,15&i,t,n)*s[f]}}return 0},r.lossless.Decoder.prototype.decodeSingle=function(e,t,n){var i,a,o,s;for(this.restarting?(this.restarting=!1,e[0]=1<<this.frame.precision-1):e[0]=this.selector(),a=0;a<this.nBlock[0];a+=1){if((i=this.getHuffmanValue(this.dcTab[0],t,n))>=65280)return i;if((s=(o=this.getn(e,i,t,n))>>8)>=r.lossless.Decoder.RESTART_MARKER_BEGIN&&s<=r.lossless.Decoder.RESTART_MARKER_END)return s;e[0]+=o}return 0},r.lossless.Decoder.prototype.getHuffmanValue=function(e,t,n){var i,a;if(65535,n[0]<8?(t[0]<<=8,255===(a=this.stream.get8())&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),t[0]|=a):n[0]-=8,0!==((i=e[t[0]>>n[0]])&r.lossless.Decoder.MSB)){if(0!==this.markerIndex)return this.markerIndex=0,65280|this.marker;t[0]&=65535>>16-n[0],t[0]<<=8,255===(a=this.stream.get8())&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),t[0]|=a,i=e[256*(255&i)+(t[0]>>n[0])],n[0]+=8}if(n[0]+=8-(i>>8),n[0]<0)throw new Error("index="+n[0]+" temp="+t[0]+" code="+i+" in HuffmanValue()");return n[0]<this.markerIndex?(this.markerIndex=0,65280|this.marker):(t[0]&=65535>>16-n[0],255&i)},r.lossless.Decoder.prototype.getn=function(e,t,n,r){var i,a;if(1,-1,65535,0===t)return 0;if(16===t)return e[0]>=0?-32768:32768;if(r[0]-=t,r[0]>=0){if(r[0]<this.markerIndex&&!this.isLastPixel())return this.markerIndex=0,(65280|this.marker)<<8;i=n[0]>>r[0],n[0]&=65535>>16-r[0]}else{if(n[0]<<=8,255===(a=this.stream.get8())&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),n[0]|=a,r[0]+=8,r[0]<0){if(0!==this.markerIndex)return this.markerIndex=0,(65280|this.marker)<<8;n[0]<<=8,255===(a=this.stream.get8())&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),n[0]|=a,r[0]+=8}if(r[0]<0)throw new Error("index="+r[0]+" in getn()");if(r[0]<this.markerIndex)return this.markerIndex=0,(65280|this.marker)<<8;i=n[0]>>r[0],n[0]&=65535>>16-r[0]}return i<1<<t-1&&(i+=1+(-1<<t)),i},r.lossless.Decoder.prototype.getPreviousX=function(e){return this.xLoc>0?this.getter(this.yLoc*this.xDim+this.xLoc-1,e):this.yLoc>0?this.getPreviousY(e):1<<this.frame.precision-1},r.lossless.Decoder.prototype.getPreviousXY=function(e){return this.xLoc>0&&this.yLoc>0?this.getter((this.yLoc-1)*this.xDim+this.xLoc-1,e):this.getPreviousY(e)},r.lossless.Decoder.prototype.getPreviousY=function(e){return this.yLoc>0?this.getter((this.yLoc-1)*this.xDim+this.xLoc,e):this.getPreviousX(e)},r.lossless.Decoder.prototype.isLastPixel=function(){return this.xLoc===this.xDim-1&&this.yLoc===this.yDim-1},r.lossless.Decoder.prototype.outputSingle=function(e){this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(this.yLoc*this.xDim+this.xLoc,this.mask&e[0]),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))},r.lossless.Decoder.prototype.outputRGB=function(e){var t=this.yLoc*this.xDim+this.xLoc;this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(t,e[0],0),this.setter(t,e[1],1),this.setter(t,e[2],2),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))},r.lossless.Decoder.prototype.setValue8=function(e,t){this.outputData[e]=t},r.lossless.Decoder.prototype.getValue8=function(e){return this.outputData[e]},function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()?(r.lossless.Decoder.prototype.setValue16=r.lossless.Decoder.prototype.setValue8,r.lossless.Decoder.prototype.getValue16=r.lossless.Decoder.prototype.getValue8):(r.lossless.Decoder.prototype.setValue16=function(e,t){this.outputData[e]=(255&t)<<8|t>>8&255},r.lossless.Decoder.prototype.getValue16=function(e){var t=this.outputData[e];return(255&t)<<8|t>>8&255}),r.lossless.Decoder.prototype.setValueRGB=function(e,t,n){this.outputData[3*e+n]=t},r.lossless.Decoder.prototype.getValueRGB=function(e,t){return this.outputData[3*e+t]},r.lossless.Decoder.prototype.readApp=function(){var e=0,t=this.stream.get16();for(e+=2;e<t;)this.stream.get8(),e+=1;return t},r.lossless.Decoder.prototype.readComment=function(){var e,t="",n=0;for(e=this.stream.get16(),n+=2;n<e;)t+=this.stream.get8(),n+=1;return t},r.lossless.Decoder.prototype.readNumber=function(){if(4!==this.stream.get16())throw new Error("ERROR: Define number format throw new IOException [Ld!=4]");return this.stream.get16()},"undefined"!==typeof e&&e.exports&&(e.exports=r.lossless.Decoder)},function(e,t){},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,i="/"===o.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var a=t.isAbsolute(e),o="/"===i(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!a).join("/"))||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),a=r(n.split("/")),o=Math.min(i.length,a.length),s=o,u=0;u<o;u++)if(i[u]!==a[u]){s=u;break}var l=[];for(u=s;u<i.length;u++)l.push("..");return(l=l.concat(a.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!i){r=a;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,a=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===r&&(i=!1,r=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){n=o+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(23))},function(e,t,n){"use strict";var r=n(100),i=n(34),a=n(120),o=n(80),s=n(79),u=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"===typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,c)))throw new Error(o[n]);this._dict_set=!0}}function c(e,t){var n=new l(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}l.prototype.push=function(e,t){var n,o,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"===typeof e?s.input=a.string2buf(e):"[object ArrayBuffer]"===u.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=r.deflate(s,o))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==o||(this.onEnd(0),s.avail_out=0,!0)},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=l,t.deflate=c,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},function(e,t,n){"use strict";var r=n(103),i=n(34),a=n(120),o=n(81),s=n(80),u=n(79),l=n(175),c=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);if(this.header=new l,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=a.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==o.Z_OK))throw new Error(s[n])}function h(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(e,t){var n,s,u,l,f,h=this.strm,d=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"===typeof e?h.input=a.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(d),h.next_out=0,h.avail_out=d),(n=r.inflate(h,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===o.Z_BUF_ERROR&&!0===m&&(n=o.Z_OK,m=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==o.Z_STREAM_END&&(0!==h.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(u=a.utf8border(h.output,h.next_out),l=h.next_out-u,f=a.buf2string(h.output,u),h.next_out=l,h.avail_out=d-l,l&&i.arraySet(h.output,h.output,u,l,0),this.onData(f)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),h.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=f,t.inflate=h,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.ungzip=h},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";var r=r||{};r.Parser=r.Parser||n(28),r.Image=r.Image||n(83),r.OrderedMap=r.OrderedMap||n(121),r.OrderedMapIterator=r.OrderedMapIterator||n(85),r.Utils=r.Utils||n(39),r.Series=r.Series||function(){this.images=[],this.imagesOriginalOrder=null,this.isMosaic=!1,this.isElscint=!1,this.isCompressed=!1,this.numberOfFrames=0,this.numberOfFramesInFile=0,this.isMultiFrame=!1,this.isMultiFrameVolume=!1,this.isMultiFrameTimeseries=!1,this.isImplicitTimeseries=!1,this.sliceSense=!1,this.sliceDir=r.Image.SLICE_DIRECTION_UNKNOWN,this.error=null},r.Series.parserError=null,r.Series.useExplicitOrdering=!1,r.Series.useExplicitSpacing=0,r.Series.parseImage=function(e){var t,n;return n=(t=new r.Parser).parse(e),t.hasError()?(r.Series.parserError=t.error,null):(t.inflated&&(n.inflated=t.inflated),n)},r.Series.getMosaicOffset=function(e,t,n,r,i,a,o){var s,u;return s=a,(u=o)%e*t+i+(s=(parseInt(u/e)*n+s)*r)},r.Series.orderDicoms=function(e,t,n){var i,a,o,s,u,l,c,f,h,d;for(i=null!==e[0].getImagePosition(),a=null!==e[0].getSliceLocation(),o=null!==e[0].getImageNumber(),u=(s=r.Series.orderByTime(e,t,n,i,a)).orderedKeys,d=[],l=0;l<u.length;l+=1)for(f=s.get(u[l]),h=i?r.Series.orderByImagePosition(f,n):a?r.Series.orderBySliceLocation(f):o?r.Series.orderByImageNumber(f):f,c=0;c<h.length;c+=1)d.push(h[c]);for(c=0;c<d.length;c+=1)d[c].index=c;return d},r.Series.orderByImagePosition=function(e,t){var n,i;for(n=new r.OrderedMap,i=0;i<e.length;i+=1)n.put(e[i].getImagePositionSliceDir(t),e[i]);return n.getOrderedValues()},r.Series.orderBySliceLocation=function(e){var t,n;for(t=new r.OrderedMap,n=0;n<e.length;n+=1)t.put(e[n].getSliceLocation(),e[n]);return t.getOrderedValues()},r.Series.orderByImageNumber=function(e){var t,n;for(t=new r.OrderedMap,n=0;n<e.length;n+=1)t.put(e[n].getImageNumber(),e[n]);return t.getOrderedValues()},r.Series.hasMatchingSlice=function(e,t,n,r,i){var a,o,s=0;for(s=r?t.getImagePositionSliceDir(n):i?t.getSliceLocation():t.getImageNumber(),a=0;a<e.length;a+=1)if(o=e[a],r){if(o.getImagePositionSliceDir(n)===s)return!0}else if(i){if(o.getSliceLocation()===s)return!0}else if(o.getImageNumber()===s)return!0;return!1},r.Series.orderByTime=function(e,t,n,i,a){var o,s,u,l,c,f,h,d,p,m,g,v,y,b,w,S;if(o=new r.OrderedMap,s=t>1&&null!==e[0].getTemporalPosition(),u=t>1&&null!==e[0].getTemporalNumber()&&e[0].getTemporalNumber()===t,s&&u)for(l=0;l<e.length;l+=1)f=(c=e[l]).getTemporalPosition(),(h=o.get(f))||(h=[],o.put(f,h)),h.push(c);else{for(d=new r.OrderedMap,l=0;l<e.length;l+=1)null!==e[l]&&(e[l].getImageNumber(),p=l,i?p=e[l].getImagePositionSliceDir(n):a&&(p=e[l].getSliceLocation()),null===(m=d.get(p))&&(m=new r.OrderedMap,d.put(p,m)),m.put(l,e[l]));for(g=[],v=0,y=d.iterator();y.hasNext();)for(b=(m=y.next()).iterator();b.hasNext();)g[v]=b.next(),v+=1;for(l=0;l<g.length;l+=1)if(null!==g[l]){for(w=null,S=o.iterator();S.hasNext();)if(h=S.next(),!r.Series.hasMatchingSlice(h,g[l],n,i,a)){w=h;break}null===w&&(w=[],o.put(o.orderedKeys.length,w)),w.push(g[l])}}return o},r.Series.prototype.getOrder=function(){var e,t=[];for(e=0;e<this.imagesOriginalOrder.length;e+=1)t[e]=this.imagesOriginalOrder[e].index;return t},r.Series.prototype.toString=function(){return this.images[0].getSeriesId()},r.Series.prototype.getName=function(){var e=this.images[0].getSeriesDescription(),t=this.images[0].getSeriesInstanceUID();return null!==e?e:null!==t?t:null},r.Series.prototype.addImage=function(e){this.images.push(e)},r.Series.prototype.matchesSeries=function(e){return 0===this.images.length||this.images[0].getSeriesId()===e.getSeriesId()},r.Series.prototype.buildSeries=function(){var e,t,n,i,a,o,s;if(this.isMosaic=this.images[0].isMosaic(),this.isElscint=this.images[0].isElscint(),this.isCompressed=this.images[0].isCompressed(),this.numberOfFrames=this.images[0].getNumberOfFrames(),this.numberOfFramesInFile=this.images[0].getNumberOfImplicitFrames(),this.isMultiFrame=this.numberOfFrames>1||this.isMosaic&&this.images[0].length>1,this.isMultiFrameVolume=!1,this.isMultiFrameTimeseries=!1,this.isImplicitTimeseries=!1,this.isMultiFrame&&(e=this.images[0].getFrameTime()>0,this.isMosaic||e?this.isMultiFrameTimeseries=!0:this.numberOfFramesInFile>1?(this.isMultiFrameTimeseries=!0,this.numberOfFrames=this.images.length):this.isMultiFrameVolume=!0),!this.isMosaic&&this.numberOfFrames<=1){for(n=(this.images[0].getImagePosition()||[]).toString(),this.numberOfFrames=0,t=0;t<this.images.length;t+=1)(this.images[t].getImagePosition()||[]).toString()===n&&(this.numberOfFrames+=1);this.numberOfFrames>1&&(this.isImplicitTimeseries=!0)}this.sliceDir=this.images[0].getAcquiredSliceDirection(),a=(i=r.Series.useExplicitOrdering?this.images.slice():r.Series.orderDicoms(this.images,this.numberOfFrames,this.sliceDir))[0].getImagePositionSliceDir(this.sliceDir),o=i[i.length-1].getImagePositionSliceDir(this.sliceDir)-a,r.Series.useExplicitOrdering?this.sliceSense=!1:this.isMosaic?this.sliceSense=!0:this.isMultiFrame?null!==(s=i[0].getSliceLocationVector())?"Z"===i[0].getOrientation().charAt(2)?this.sliceSense=s[0]-s[s.length-1]<0:this.sliceSense=s[0]-s[s.length-1]>0:this.sliceSense=!(a<0):this.sliceDir===r.Image.SLICE_DIRECTION_SAGITTAL||this.sliceDir===r.Image.SLICE_DIRECTION_CORONAL?this.sliceSense=!(o>0):this.sliceSense=o>0,this.imagesOriginalOrder=this.images,this.images=i},r.Series.prototype.concatenateImageData=function(e,t){var n,i,a;i=this.isMosaic?this.getMosaicData(this.images[0],this.images[0].getPixelDataBytes()):this.images[0].getPixelDataBytes(),a=this.validatePixelDataLength(this.images[0]),this.images[0].clearPixelData(),(n=new Uint8Array(new ArrayBuffer(a*this.images.length))).set(new Uint8Array(i,0,a),0),setTimeout(r.Utils.bind(this,(function(){this.concatenateNextImageData(n,a,e,1,t)})),0)},r.Series.prototype.concatenateNextImageData=function(e,t,n,i,a){var o,s;i>=this.images.length?(n&&n.drawProgress(1,"Reading DICOM Images"),a(e.buffer)):(n&&n.drawProgress(i/this.images.length,"Reading DICOM Images"),o=this.isMosaic?this.getMosaicData(this.images[i],this.images[i].getPixelDataBytes()):this.images[i].getPixelDataBytes(),s=this.validatePixelDataLength(this.images[i]),this.images[i].clearPixelData(),e.set(new Uint8Array(o,0,s),t*i),setTimeout(r.Utils.bind(this,(function(){this.concatenateNextImageData(e,t,n,i+1,a)})),0))},r.Series.prototype.validatePixelDataLength=function(e){var t=e.getPixelDataBytes().byteLength,n=e.getCols()*e.getRows();return t%n===0?t:n*e.getNumberOfFrames()*e.getNumberOfSamplesPerPixel()*(e.getBitsAllocated()/8)},r.Series.prototype.getMosaicData=function(e,t){var n,i,a,o,s,u,l,c,f,h,d,p,m,g,v,y,b,w=0;for(l=parseInt(this.images[0].getBitsAllocated()/8),d=this.images[0].getMosaicCols()*this.images[0].getMosaicRows(),p=parseInt(this.images[0].getRows()/this.images[0].getMosaicRows()),m=parseInt(this.images[0].getCols()/this.images[0].getMosaicCols()),n=this.images[0].getCols(),i=this.images[0].getRows(),a=this.images[0].getMosaicRows(),o=this.images[0].getMosaicCols(),s=parseInt(i/a),u=parseInt(n/o),g=new Uint8Array(new ArrayBuffer(d*p*m*l)),v=new Uint8Array(t),c=0;c<d;c+=1)for(f=0;f<p;f+=1)for(h=0;h<m;h+=1)for(y=r.Series.getMosaicOffset(o,u,s,n,h,f,c),b=0;b<l;b+=1)g[w]=v[y*l+b],w+=1;return g.buffer},"undefined"!==typeof e&&e.exports&&(e.exports=r.Series)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var l=arguments.length,c=Array(l>6?l-6:0),f=6;f<l;f++)c[f-6]=arguments[f];return e.apply(void 0,[n,r,s,a,u].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},function(e,t,n){"use strict";var r="'([^']+)'|\"([^\"]+)\"|[\\w\\s-]+",i=new RegExp("(bold|bolder|lighter|[1-9]00) +","i"),a=new RegExp("(italic|oblique) +","i"),o=new RegExp("(small-caps) +","i"),s=new RegExp("(ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded) +","i"),u=new RegExp("([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q) *((?:"+r+")( *, *(?:"+r+"))*)"),l={};e.exports=function(e){if(l[e])return l[e];var t=u.exec(e);if(t){var n,r,c,f,h={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(t[1]),unit:t[2],family:t[3].replace(/["']/g,"").replace(/ *, */g,",")},d=e.substring(0,t.index);switch((n=i.exec(d))&&(h.weight=n[1]),(r=a.exec(d))&&(h.style=r[1]),(c=o.exec(d))&&(h.variant=c[1]),(f=s.exec(d))&&(h.stretch=f[1]),h.unit){case"pt":h.size/=.75;break;case"pc":h.size*=16;break;case"in":h.size*=96;break;case"cm":h.size*=96/2.54;break;case"mm":h.size*=96/25.4;break;case"%":break;case"em":case"rem":h.size*=16/.75;break;case"q":h.size*=96/25.4/4}return l[e]=h}}},,,,,,,function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(9),o=n.n(a),s=n(1),u=n.n(s),l=n(11),c=u.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.fluid,s=e.as,c=void 0===s?"div":s,f=e.className,h=Object(i.a)(e,["bsPrefix","fluid","as","className"]),d=Object(l.a)(n,"container"),p="string"===typeof a?"-"+a:"-fluid";return u.a.createElement(c,Object(r.a)({ref:t},h,{className:o()(f,a?""+d+p:d)}))}));c.displayName="Container",c.defaultProps={fluid:!1},t.a=c},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(9),o=n.n(a),s=n(1),u=n.n(s),l=n(11),c=["xl","lg","md","sm","xs"],f=u.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,s=e.noGutters,f=e.as,h=void 0===f?"div":f,d=Object(i.a)(e,["bsPrefix","className","noGutters","as"]),p=Object(l.a)(n,"row"),m=p+"-cols",g=[];return c.forEach((function(e){var t,n=d[e];delete d[e];var r="xs"!==e?"-"+e:"";null!=(t=null!=n&&"object"===typeof n?n.cols:n)&&g.push(""+m+r+"-"+t)})),u.a.createElement(h,Object(r.a)({ref:t},d,{className:o.a.apply(void 0,[a,p,s&&"no-gutters"].concat(g))}))}));f.displayName="Row",f.defaultProps={noGutters:!1},t.a=f},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(9),o=n.n(a),s=n(1),u=n.n(s),l=n(11),c=u.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.size,s=e.toggle,c=e.vertical,f=e.className,h=e.as,d=void 0===h?"div":h,p=Object(i.a)(e,["bsPrefix","size","toggle","vertical","className","as"]),m=Object(l.a)(n,"btn-group"),g=m;return c&&(g=m+"-vertical"),u.a.createElement(d,Object(r.a)({},p,{ref:t,className:o()(f,g,a&&m+"-"+a,s&&m+"-toggle")}))}));c.displayName="ButtonGroup",c.defaultProps={vertical:!1,toggle:!1,role:"group"},t.a=c},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(9),o=n.n(a),s=n(1),u=n.n(s),l=(n(104),n(11)),c=u.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.placement,s=e.className,c=e.style,f=e.children,h=e.arrowProps,d=(e.popper,e.show,Object(i.a)(e,["bsPrefix","placement","className","style","children","arrowProps","popper","show"]));n=Object(l.a)(n,"tooltip");var p=((null==a?void 0:a.split("-"))||[])[0];return u.a.createElement("div",Object(r.a)({ref:t,style:c,role:"tooltip","x-placement":p,className:o()(s,n,"bs-tooltip-"+p)},d),u.a.createElement("div",Object(r.a)({className:"arrow"},h)),u.a.createElement("div",{className:n+"-inner"},f))}));c.defaultProps={placement:"right"},c.displayName="Tooltip",t.a=c},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(9),o=n.n(a),s=n(1),u=n.n(s),l=n(11),c=u.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,s=e.striped,c=e.bordered,f=e.borderless,h=e.hover,d=e.size,p=e.variant,m=e.responsive,g=Object(i.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),v=Object(l.a)(n,"table"),y=o()(a,v,p&&v+"-"+p,d&&v+"-"+d,s&&v+"-striped",c&&v+"-bordered",f&&v+"-borderless",h&&v+"-hover"),b=u.a.createElement("table",Object(r.a)({},g,{className:y,ref:t}));if(m){var w=v+"-responsive";return"string"===typeof m&&(w=w+"-"+m),u.a.createElement("div",{className:w},b)}return b}));t.a=c},function(e,t,n){"use strict";var r,i=n(4),a=n(7),o=n(9),s=n.n(o),u=n(65),l=n(35),c=n(18),f=n(53);function h(e){if((!r&&0!==r||e)&&l.a){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return r}var d=n(33),p=n(15),m=n(49),g=n(45),v=n(1),y=n.n(v);function b(e){void 0===e&&(e=Object(c.a)());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(n){return e.body}}var w=n(41),S=n(26),x=n(8),_=n.n(x),T=n(20),E=n.n(T),k=n(46),C=n(66),A=n(50);function O(e,t){e.classList?e.classList.add(t):Object(A.a)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function I(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function M(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=I(e.className,t):e.setAttribute("class",I(e.className&&e.className.baseVal||"",t))}var D=n(21);function R(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function P(e){var t;return R(e)||(t=e)&&"body"===t.tagName.toLowerCase()?function(e){var t=R(e)?Object(c.a)():Object(c.a)(e),n=R(e)||t.defaultView;return t.body.clientWidth<n.innerWidth}(e):e.scrollHeight>e.clientHeight}var N=["template","script","style"],L=function(e,t,n){[].forEach.call(e.children,(function(e){-1===t.indexOf(e)&&function(e){var t=e.nodeType,n=e.tagName;return 1===t&&-1===N.indexOf(n.toLowerCase())}(e)&&n(e)}))};function F(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}var B,z=function(){function e(e){var t=void 0===e?{}:e,n=t.hideSiblingNodes,r=void 0===n||n,i=t.handleContainerOverflow,a=void 0===i||i;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=r,this.handleContainerOverflow=a,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=h()}var t=e.prototype;return t.isContainerOverflowing=function(e){var t=this.data[this.containerIndexFromModal(e)];return t&&t.overflowing},t.containerIndexFromModal=function(e){return function(e,t){var n=-1;return e.some((function(e,r){return!!t(e,r)&&(n=r,!0)})),n}(this.data,(function(t){return-1!==t.modals.indexOf(e)}))},t.setContainerStyle=function(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt(Object(D.a)(t,"paddingRight")||"0",10)+this.scrollbarSize+"px"),Object(D.a)(t,n)},t.removeContainerStyle=function(e,t){Object.assign(t.style,e.style)},t.add=function(e,t,n){var r=this.modals.indexOf(e),i=this.containers.indexOf(t);if(-1!==r)return r;if(r=this.modals.length,this.modals.push(e),this.hideSiblingNodes&&function(e,t){var n=t.dialog,r=t.backdrop;L(e,[n,r],(function(e){return F(!0,e)}))}(t,e),-1!==i)return this.data[i].modals.push(e),r;var a={modals:[e],classes:n?n.split(/\s+/):[],overflowing:P(t)};return this.handleContainerOverflow&&this.setContainerStyle(a,t),a.classes.forEach(O.bind(null,t)),this.containers.push(t),this.data.push(a),r},t.remove=function(e){var t=this.modals.indexOf(e);if(-1!==t){var n=this.containerIndexFromModal(e),r=this.data[n],i=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.classes.forEach(M.bind(null,i)),this.handleContainerOverflow&&this.removeContainerStyle(r,i),this.hideSiblingNodes&&function(e,t){var n=t.dialog,r=t.backdrop;L(e,[n,r],(function(e){return F(!1,e)}))}(i,e),this.containers.splice(n,1),this.data.splice(n,1);else if(this.hideSiblingNodes){var a=r.modals[r.modals.length-1],o=a.backdrop;F(!1,a.dialog),F(!1,o)}}},t.isTopModal=function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e},e}(),U=n(54);function j(e){var t=e||(B||(B=new z),B),n=Object(v.useRef)({dialog:null,backdrop:null});return Object.assign(n.current,{add:function(e,r){return t.add(n.current,e,r)},remove:function(){return t.remove(n.current)},isTopModal:function(){return t.isTopModal(n.current)},setDialogRef:Object(v.useCallback)((function(e){n.current.dialog=e}),[]),setBackdropRef:Object(v.useCallback)((function(e){n.current.backdrop=e}),[])})}var V=Object(v.forwardRef)((function(e,t){var n=e.show,r=void 0!==n&&n,o=e.role,s=void 0===o?"dialog":o,u=e.className,c=e.style,f=e.children,h=e.backdrop,d=void 0===h||h,g=e.keyboard,x=void 0===g||g,_=e.onBackdropClick,T=e.onEscapeKeyDown,A=e.transition,O=e.backdropTransition,I=e.autoFocus,M=void 0===I||I,D=e.enforceFocus,R=void 0===D||D,P=e.restoreFocus,N=void 0===P||P,L=e.restoreFocusOptions,F=e.renderDialog,B=e.renderBackdrop,z=void 0===B?function(e){return y.a.createElement("div",e)}:B,V=e.manager,G=e.container,W=e.containerClassName,H=e.onShow,q=e.onHide,Q=void 0===q?function(){}:q,X=e.onExit,Y=e.onExited,K=e.onExiting,Z=e.onEnter,J=e.onEntering,$=e.onEntered,ee=Object(a.a)(e,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),te=Object(U.a)(G),ne=j(V),re=Object(k.a)(),ie=Object(C.a)(r),ae=Object(v.useState)(!r),oe=ae[0],se=ae[1],ue=Object(v.useRef)(null);Object(v.useImperativeHandle)(t,(function(){return ne}),[ne]),l.a&&!ie&&r&&(ue.current=b()),A||r||oe?r&&oe&&se(!1):se(!0);var le=Object(p.a)((function(){if(ne.add(te,W),me.current=Object(S.a)(document,"keydown",de),pe.current=Object(S.a)(document,"focus",(function(){return setTimeout(fe)}),!0),H&&H(),M){var e=b(document);ne.dialog&&e&&!Object(w.a)(ne.dialog,e)&&(ue.current=e,ne.dialog.focus())}})),ce=Object(p.a)((function(){var e;(ne.remove(),null==me.current||me.current(),null==pe.current||pe.current(),N)&&(null==(e=ue.current)||null==e.focus||e.focus(L),ue.current=null)}));Object(v.useEffect)((function(){r&&te&&le()}),[r,te,le]),Object(v.useEffect)((function(){oe&&ce()}),[oe,ce]),Object(m.a)((function(){ce()}));var fe=Object(p.a)((function(){if(R&&re()&&ne.isTopModal()){var e=b();ne.dialog&&e&&!Object(w.a)(ne.dialog,e)&&ne.dialog.focus()}})),he=Object(p.a)((function(e){e.target===e.currentTarget&&(null==_||_(e),!0===d&&Q())})),de=Object(p.a)((function(e){x&&27===e.keyCode&&ne.isTopModal()&&(null==T||T(e),e.defaultPrevented||Q())})),pe=Object(v.useRef)(),me=Object(v.useRef)(),ge=A;if(!te||!(r||ge&&!oe))return null;var ve=Object(i.a)({role:s,ref:ne.setDialogRef,"aria-modal":"dialog"===s||void 0},ee,{style:c,className:u,tabIndex:-1}),ye=F?F(ve):y.a.createElement("div",ve,y.a.cloneElement(f,{role:"document"}));ge&&(ye=y.a.createElement(ge,{appear:!0,unmountOnExit:!0,in:!!r,onExit:X,onExiting:K,onExited:function(){se(!0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null==Y||Y.apply(void 0,t)},onEnter:Z,onEntering:J,onEntered:$},ye));var be=null;if(d){var we=O;be=z({ref:ne.setBackdropRef,onClick:he}),we&&(be=y.a.createElement(we,{appear:!0,in:!!r},be))}return y.a.createElement(y.a.Fragment,null,E.a.createPortal(y.a.createElement(y.a.Fragment,null,be,ye),te))})),G={show:_.a.bool,container:_.a.any,onShow:_.a.func,onHide:_.a.func,backdrop:_.a.oneOfType([_.a.bool,_.a.oneOf(["static"])]),renderDialog:_.a.func,renderBackdrop:_.a.func,onEscapeKeyDown:_.a.func,onBackdropClick:_.a.func,containerClassName:_.a.string,keyboard:_.a.bool,transition:_.a.elementType,backdropTransition:_.a.elementType,autoFocus:_.a.bool,enforceFocus:_.a.bool,restoreFocus:_.a.bool,restoreFocusOptions:_.a.shape({preventScroll:_.a.bool}),onEnter:_.a.func,onEntering:_.a.func,onEntered:_.a.func,onExit:_.a.func,onExiting:_.a.func,onExited:_.a.func,manager:_.a.instanceOf(z)};V.displayName="Modal",V.propTypes=G;var W=Object.assign(V,{Manager:z}),H=(n(40),n(19)),q=n(22),Q=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",X=".sticky-top",Y=".navbar-toggler",K=function(e){function t(){return e.apply(this,arguments)||this}Object(H.a)(t,e);var n=t.prototype;return n.adjustAndStore=function(e,t,n){var r,i=t.style[e];t.dataset[e]=i,Object(D.a)(t,((r={})[e]=parseFloat(Object(D.a)(t,e))+n+"px",r))},n.restore=function(e,t){var n,r=t.dataset[e];void 0!==r&&(delete t.dataset[e],Object(D.a)(t,((n={})[e]=r,n)))},n.setContainerStyle=function(t,n){var r=this;if(e.prototype.setContainerStyle.call(this,t,n),t.overflowing){var i=h();Object(q.a)(n,Q).forEach((function(e){return r.adjustAndStore("paddingRight",e,i)})),Object(q.a)(n,X).forEach((function(e){return r.adjustAndStore("marginRight",e,-i)})),Object(q.a)(n,Y).forEach((function(e){return r.adjustAndStore("marginRight",e,i)}))}},n.removeContainerStyle=function(t,n){var r=this;e.prototype.removeContainerStyle.call(this,t,n),Object(q.a)(n,Q).forEach((function(e){return r.restore("paddingRight",e)})),Object(q.a)(n,X).forEach((function(e){return r.restore("marginRight",e)})),Object(q.a)(n,Y).forEach((function(e){return r.restore("marginRight",e)}))},t}(z),Z=n(51),J=n(17),$=Object(J.a)("modal-body"),ee=y.a.createContext({onHide:function(){}}),te=n(11),ne=y.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,o=e.centered,u=e.size,l=e.children,c=e.scrollable,f=Object(a.a)(e,["bsPrefix","className","centered","size","children","scrollable"]),h=(n=Object(te.a)(n,"modal"))+"-dialog";return y.a.createElement("div",Object(i.a)({},f,{ref:t,className:s()(h,r,u&&n+"-"+u,o&&h+"-centered",c&&h+"-scrollable")}),y.a.createElement("div",{className:n+"-content"},l))}));ne.displayName="ModalDialog";var re=ne,ie=Object(J.a)("modal-footer"),ae={label:_.a.string.isRequired,onClick:_.a.func},oe=y.a.forwardRef((function(e,t){var n=e.label,r=e.onClick,o=e.className,u=Object(a.a)(e,["label","onClick","className"]);return y.a.createElement("button",Object(i.a)({ref:t,type:"button",className:s()("close",o),onClick:r},u),y.a.createElement("span",{"aria-hidden":"true"},"\xd7"),y.a.createElement("span",{className:"sr-only"},n))}));oe.displayName="CloseButton",oe.propTypes=ae,oe.defaultProps={label:"Close"};var se=oe,ue=y.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.closeLabel,o=e.closeButton,u=e.onHide,l=e.className,c=e.children,f=Object(a.a)(e,["bsPrefix","closeLabel","closeButton","onHide","className","children"]);n=Object(te.a)(n,"modal-header");var h=Object(v.useContext)(ee),d=Object(p.a)((function(){h&&h.onHide(),u&&u()}));return y.a.createElement("div",Object(i.a)({ref:t},f,{className:s()(l,n)}),c,o&&y.a.createElement(se,{label:r,onClick:d}))}));ue.displayName="ModalHeader",ue.defaultProps={closeLabel:"Close",closeButton:!1};var le,ce,fe=ue,he=(le="h4",y.a.forwardRef((function(e,t){return y.a.createElement("div",Object(i.a)({},e,{ref:t,className:s()(e.className,le)}))}))),de=Object(J.a)("modal-title",{Component:he}),pe={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:re};function me(e){return y.a.createElement(Z.a,e)}function ge(e){return y.a.createElement(Z.a,e)}var ve=y.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,o=e.style,b=e.dialogClassName,w=e.children,S=e.dialogAs,x=e["aria-labelledby"],_=e.show,T=e.animation,E=e.backdrop,k=e.keyboard,C=e.onEscapeKeyDown,A=e.onShow,O=e.onHide,I=e.container,M=e.autoFocus,D=e.enforceFocus,R=e.restoreFocus,P=e.restoreFocusOptions,N=e.onEntered,L=e.onExit,F=e.onExiting,B=e.onEnter,z=e.onEntering,U=e.onExited,j=e.backdropClassName,V=e.manager,G=Object(a.a)(e,["bsPrefix","className","style","dialogClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"]),H=Object(v.useState)({}),q=H[0],Q=H[1],X=Object(v.useState)(!1),Y=X[0],Z=X[1],J=Object(v.useRef)(!1),$=Object(v.useRef)(!1),ne=Object(v.useRef)(null),re=Object(d.a)(),ie=re[0],ae=re[1],oe=Object(p.a)(O);n=Object(te.a)(n,"modal"),Object(v.useImperativeHandle)(t,(function(){return{get _modal(){return ie}}}),[ie]);var se=Object(v.useMemo)((function(){return{onHide:oe}}),[oe]);function ue(){return V||(ce||(ce=new K),ce)}function le(e){if(l.a){var t=ue().isContainerOverflowing(ie),n=e.scrollHeight>Object(c.a)(e).documentElement.clientHeight;Q({paddingRight:t&&!n?h():void 0,paddingLeft:!t&&n?h():void 0})}}var fe=Object(p.a)((function(){ie&&le(ie.dialog)}));Object(m.a)((function(){Object(f.a)(window,"resize",fe),ne.current&&ne.current()}));var he=function(){J.current=!0},de=function(e){J.current&&ie&&e.target===ie.dialog&&($.current=!0),J.current=!1},pe=function(){Z(!0),ne.current=Object(g.a)(ie.dialog,(function(){Z(!1)}))},ve=function(e){"static"!==E?$.current||e.target!==e.currentTarget?$.current=!1:O():function(e){e.target===e.currentTarget&&pe()}(e)},ye=Object(v.useCallback)((function(e){return y.a.createElement("div",Object(i.a)({},e,{className:s()(n+"-backdrop",j,!T&&"show")}))}),[T,j,n]),be=Object(i.a)({},o,{},q);T||(be.display="block");return y.a.createElement(ee.Provider,{value:se},y.a.createElement(W,{show:_,ref:ae,backdrop:E,container:I,keyboard:!0,autoFocus:M,enforceFocus:D,restoreFocus:R,restoreFocusOptions:P,onEscapeKeyDown:function(e){k||"static"!==E?k&&C&&C(e):(e.preventDefault(),pe())},onShow:A,onHide:O,onEnter:function(e){e&&(e.style.display="block",le(e));for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];B&&B.apply(void 0,[e].concat(n))},onEntering:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];z&&z.apply(void 0,[e].concat(n)),Object(u.a)(window,"resize",fe)},onEntered:N,onExit:function(e){ne.current&&ne.current();for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];L&&L.apply(void 0,[e].concat(n))},onExiting:F,onExited:function(e){e&&(e.style.display="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];U&&U.apply(void 0,n),Object(f.a)(window,"resize",fe)},manager:ue(),containerClassName:n+"-open",transition:T?me:void 0,backdropTransition:T?ge:void 0,renderBackdrop:ye,renderDialog:function(e){return y.a.createElement("div",Object(i.a)({role:"dialog"},e,{style:be,className:s()(r,n,Y&&n+"-static"),onClick:E?ve:void 0,onMouseUp:de,"aria-labelledby":x}),y.a.createElement(S,Object(i.a)({},G,{role:"document",onMouseDown:he,className:b}),w))}}))}));ve.displayName="Modal",ve.defaultProps=pe,ve.Body=$,ve.Header=fe,ve.Title=de,ve.Footer=ie,ve.Dialog=re,ve.TRANSITION_DURATION=300,ve.BACKDROP_TRANSITION_DURATION=150;t.a=ve},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(9),o=n.n(a),s=n(1),u=n.n(s),l=(n(61),n(8)),c=n.n(l),f={type:c.a.string,tooltip:c.a.bool,as:c.a.elementType},h=u.a.forwardRef((function(e,t){var n=e.as,a=void 0===n?"div":n,s=e.className,l=e.type,c=void 0===l?"valid":l,f=e.tooltip,h=void 0!==f&&f,d=Object(i.a)(e,["as","className","type","tooltip"]);return u.a.createElement(a,Object(r.a)({},d,{ref:t,className:o()(s,c+"-"+(h?"tooltip":"feedback"))}))}));h.displayName="Feedback",h.propTypes=f;var d=h,p=u.a.createContext({controlId:void 0}),m=n(11),g=u.a.forwardRef((function(e,t){var n=e.id,a=e.bsPrefix,l=e.bsCustomPrefix,c=e.className,f=e.type,h=void 0===f?"checkbox":f,d=e.isValid,g=void 0!==d&&d,v=e.isInvalid,y=void 0!==v&&v,b=e.isStatic,w=e.as,S=void 0===w?"input":w,x=Object(i.a)(e,["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"]),_=Object(s.useContext)(p),T=_.controlId,E=_.custom?[l,"custom-control-input"]:[a,"form-check-input"],k=E[0],C=E[1];return a=Object(m.a)(k,C),u.a.createElement(S,Object(r.a)({},x,{ref:t,type:h,id:n||T,className:o()(c,a,g&&"is-valid",y&&"is-invalid",b&&"position-static")}))}));g.displayName="FormCheckInput";var v=g,y=u.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.bsCustomPrefix,l=e.className,c=e.htmlFor,f=Object(i.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),h=Object(s.useContext)(p),d=h.controlId,g=h.custom?[a,"custom-control-label"]:[n,"form-check-label"],v=g[0],y=g[1];return n=Object(m.a)(v,y),u.a.createElement("label",Object(r.a)({},f,{ref:t,htmlFor:c||d,className:o()(l,n)}))}));y.displayName="FormCheckLabel";var b=y,w=u.a.forwardRef((function(e,t){var n=e.id,a=e.bsPrefix,l=e.bsCustomPrefix,c=e.inline,f=void 0!==c&&c,h=e.disabled,g=void 0!==h&&h,y=e.isValid,w=void 0!==y&&y,S=e.isInvalid,x=void 0!==S&&S,_=e.feedbackTooltip,T=void 0!==_&&_,E=e.feedback,k=e.className,C=e.style,A=e.title,O=void 0===A?"":A,I=e.type,M=void 0===I?"checkbox":I,D=e.label,R=e.children,P=e.custom,N=e.as,L=void 0===N?"input":N,F=Object(i.a)(e,["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"]),B="switch"===M||P,z=B?[l,"custom-control"]:[a,"form-check"],U=z[0],j=z[1];a=Object(m.a)(U,j);var V=Object(s.useContext)(p).controlId,G=Object(s.useMemo)((function(){return{controlId:n||V,custom:B}}),[V,B,n]),W=null!=D&&!1!==D&&!R,H=u.a.createElement(v,Object(r.a)({},F,{type:"switch"===M?"checkbox":M,ref:t,isValid:w,isInvalid:x,isStatic:!W,disabled:g,as:L}));return u.a.createElement(p.Provider,{value:G},u.a.createElement("div",{style:C,className:o()(k,a,B&&"custom-"+M,f&&a+"-inline")},R||u.a.createElement(u.a.Fragment,null,H,W&&u.a.createElement(b,{title:O},D),(w||x)&&u.a.createElement(d,{type:w?"valid":"invalid",tooltip:T},E))))}));w.displayName="FormCheck",w.Input=v,w.Label=b;var S=w,x=u.a.forwardRef((function(e,t){var n=e.id,a=e.bsPrefix,l=e.bsCustomPrefix,c=e.className,f=e.isValid,h=e.isInvalid,d=e.lang,g=e.as,v=void 0===g?"input":g,y=Object(i.a)(e,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"]),b=Object(s.useContext)(p),w=b.controlId,S=b.custom?[l,"custom-file-input"]:[a,"form-control-file"],x=S[0],_=S[1];return a=Object(m.a)(x,_),u.a.createElement(v,Object(r.a)({},y,{ref:t,id:n||w,type:"file",lang:d,className:o()(c,a,f&&"is-valid",h&&"is-invalid")}))}));x.displayName="FormFileInput";var _=x,T=u.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.bsCustomPrefix,l=e.className,c=e.htmlFor,f=Object(i.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),h=Object(s.useContext)(p),d=h.controlId,g=h.custom?[a,"custom-file-label"]:[n,"form-file-label"],v=g[0],y=g[1];return n=Object(m.a)(v,y),u.a.createElement("label",Object(r.a)({},f,{ref:t,htmlFor:c||d,className:o()(l,n),"data-browse":f["data-browse"]}))}));T.displayName="FormFileLabel";var E=T,k=u.a.forwardRef((function(e,t){var n=e.id,a=e.bsPrefix,l=e.bsCustomPrefix,c=e.disabled,f=void 0!==c&&c,h=e.isValid,g=void 0!==h&&h,v=e.isInvalid,y=void 0!==v&&v,b=e.feedbackTooltip,w=void 0!==b&&b,S=e.feedback,x=e.className,T=e.style,k=e.label,C=e.children,A=e.custom,O=e.lang,I=e["data-browse"],M=e.as,D=void 0===M?"div":M,R=e.inputAs,P=void 0===R?"input":R,N=Object(i.a)(e,["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"]),L=A?[l,"custom"]:[a,"form-file"],F=L[0],B=L[1];a=Object(m.a)(F,B);var z=Object(s.useContext)(p).controlId,U=Object(s.useMemo)((function(){return{controlId:n||z,custom:A}}),[z,A,n]),j=null!=k&&!1!==k&&!C,V=u.a.createElement(_,Object(r.a)({},N,{ref:t,isValid:g,isInvalid:y,disabled:f,as:P,lang:O}));return u.a.createElement(p.Provider,{value:U},u.a.createElement(D,{style:T,className:o()(x,a,A&&"custom-file")},C||u.a.createElement(u.a.Fragment,null,A?u.a.createElement(u.a.Fragment,null,V,j&&u.a.createElement(E,{"data-browse":I},k)):u.a.createElement(u.a.Fragment,null,j&&u.a.createElement(E,null,k),V),(g||y)&&u.a.createElement(d,{type:g?"valid":"invalid",tooltip:w},S))))}));k.displayName="FormFile",k.Input=_,k.Label=E;var C=k,A=(n(40),u.a.forwardRef((function(e,t){var n,a,l=e.bsPrefix,c=e.bsCustomPrefix,f=e.type,h=e.size,d=e.htmlSize,g=e.id,v=e.className,y=e.isValid,b=void 0!==y&&y,w=e.isInvalid,S=void 0!==w&&w,x=e.plaintext,_=e.readOnly,T=e.custom,E=e.as,k=void 0===E?"input":E,C=Object(i.a)(e,["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),A=Object(s.useContext)(p).controlId,O=T?[c,"custom"]:[l,"form-control"],I=O[0],M=O[1];if(l=Object(m.a)(I,M),x)(a={})[l+"-plaintext"]=!0,n=a;else if("file"===f){var D;(D={})[l+"-file"]=!0,n=D}else if("range"===f){var R;(R={})[l+"-range"]=!0,n=R}else if("select"===k&&T){var P;(P={})[l+"-select"]=!0,P[l+"-select-"+h]=h,n=P}else{var N;(N={})[l]=!0,N[l+"-"+h]=h,n=N}return u.a.createElement(k,Object(r.a)({},C,{type:f,size:d,ref:t,readOnly:_,id:g||A,className:o()(v,n,b&&"is-valid",S&&"is-invalid")}))})));A.displayName="FormControl";var O=Object.assign(A,{Feedback:d}),I=u.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,l=e.children,c=e.controlId,f=e.as,h=void 0===f?"div":f,d=Object(i.a)(e,["bsPrefix","className","children","controlId","as"]);n=Object(m.a)(n,"form-group");var g=Object(s.useMemo)((function(){return{controlId:c}}),[c]);return u.a.createElement(p.Provider,{value:g},u.a.createElement(h,Object(r.a)({},d,{ref:t,className:o()(a,n)}),l))}));I.displayName="FormGroup";var M=I,D=n(123),R=u.a.forwardRef((function(e,t){var n=e.as,a=void 0===n?"label":n,l=e.bsPrefix,c=e.column,f=e.srOnly,h=e.className,d=e.htmlFor,g=Object(i.a)(e,["as","bsPrefix","column","srOnly","className","htmlFor"]),v=Object(s.useContext)(p).controlId;l=Object(m.a)(l,"form-label");var y="col-form-label";"string"===typeof c&&(y=y+"-"+c);var b=o()(h,l,f&&"sr-only",c&&y);return d=d||v,c?u.a.createElement(D.a,Object(r.a)({as:"label",className:b,htmlFor:d},g)):u.a.createElement(a,Object(r.a)({ref:t,className:b,htmlFor:d},g))}));R.displayName="FormLabel",R.defaultProps={column:!1,srOnly:!1};var P=R,N=u.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,s=e.as,l=void 0===s?"small":s,c=e.muted,f=Object(i.a)(e,["bsPrefix","className","as","muted"]);return n=Object(m.a)(n,"form-text"),u.a.createElement(l,Object(r.a)({},f,{ref:t,className:o()(a,n,c&&"text-muted")}))}));N.displayName="FormText";var L=N,F=u.a.forwardRef((function(e,t){return u.a.createElement(S,Object(r.a)({},e,{ref:t,type:"switch"}))}));F.displayName="Switch",F.Input=S.Input,F.Label=S.Label;var B=F,z=n(17),U=Object(z.a)("form-row"),j=u.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.inline,s=e.className,l=e.validated,c=e.as,f=void 0===c?"form":c,h=Object(i.a)(e,["bsPrefix","inline","className","validated","as"]);return n=Object(m.a)(n,"form"),u.a.createElement(f,Object(r.a)({},h,{ref:t,className:o()(s,l&&"was-validated",a&&n+"-inline")}))}));j.displayName="Form",j.defaultProps={inline:!1},j.Row=U,j.Group=M,j.Control=O,j.Check=S,j.File=C,j.Switch=B,j.Label=P,j.Text=L;t.a=j},function(e,t,n){"use strict";var r,i=n(4),a=n(7),o=n(1),s=n.n(o),u=n(8),l=n.n(u),c=n(9),f=n.n(c);var h=n(22),d=n(30),p=n(66),m=n(33),g=n(70),v=n(15),y=s.a.createContext(null),b=n(74),w=n(75),S=n(68),x=function(){};function _(e){void 0===e&&(e={});var t=Object(o.useContext)(y),n=Object(m.a)(),r=n[0],s=n[1],u=Object(o.useRef)(!1),l=e,c=l.flip,f=l.offset,h=l.rootCloseEvent,d=l.popperConfig,p=void 0===d?{}:d,g=l.usePopper,v=void 0===g?!!t:g,_=null==(null==t?void 0:t.show)?e.show:t.show,T=null==(null==t?void 0:t.alignEnd)?e.alignEnd:t.alignEnd;_&&!u.current&&(u.current=!0);var E=function(e){null==t||t.toggle(!1,e)},k=t||{},C=k.drop,A=k.setMenu,O=k.menuElement,I=k.toggleElement,M=T?"bottom-end":"bottom-start";"up"===C?M=T?"top-end":"top-start":"right"===C?M=T?"right-end":"right-start":"left"===C&&(M=T?"left-end":"left-start");var D,R=Object(b.a)(I,O,Object(S.a)({placement:M,enabled:!(!v||!_),enableEvents:_,offset:f,flip:c,arrowElement:r,popperConfig:p})),P=R.styles,N=R.attributes,L=Object(a.a)(R,["styles","attributes"]),F={ref:A||x,"aria-labelledby":null==I?void 0:I.id},B={show:_,alignEnd:T,hasShown:u.current,close:E};return D=v?Object(i.a)({},L,B,{props:Object(i.a)({},F,N.popper,{style:P.popper}),arrowProps:Object(i.a)({ref:s},N.arrow,{style:P.arrow})}):Object(i.a)({},B,{props:F}),Object(w.a)(O,E,{clickTrigger:h,disabled:!(D&&_)}),D}var T={children:l.a.func.isRequired,show:l.a.bool,alignEnd:l.a.bool,flip:l.a.bool,usePopper:l.a.oneOf([!0,!1]),popperConfig:l.a.object,rootCloseEvent:l.a.string};function E(e){var t=e.children,n=_(Object(a.a)(e,["children"]));return s.a.createElement(s.a.Fragment,null,n.hasShown?t(n):null)}E.displayName="ReactOverlaysDropdownMenu",E.propTypes=T,E.defaultProps={usePopper:!0};var k=E,C=function(){};function A(){var e=Object(o.useContext)(y)||{},t=e.show,n=void 0!==t&&t,r=e.toggle,i=void 0===r?C:r;return[{ref:e.setToggle||C,"aria-haspopup":!0,"aria-expanded":!!n},{show:n,toggle:i}]}var O={children:l.a.func.isRequired};function I(e){var t=e.children,n=A(),r=n[0],i=n[1],a=i.show,o=i.toggle;return s.a.createElement(s.a.Fragment,null,t({show:a,toggle:o,props:r}))}I.displayName="ReactOverlaysDropdownToggle",I.propTypes=O;var M=I,D={children:l.a.func.isRequired,drop:l.a.oneOf(["up","left","right","down"]),focusFirstItemOnShow:l.a.oneOf([!1,!0,"keyboard"]),itemSelector:l.a.string,alignEnd:l.a.bool,show:l.a.bool,defaultShow:l.a.bool,onToggle:l.a.func};function R(e){var t=e.drop,n=e.alignEnd,i=e.defaultShow,a=e.show,u=e.onToggle,l=e.itemSelector,c=void 0===l?"* > *":l,f=e.focusFirstItemOnShow,b=e.children,w=Object(g.a)(),S=Object(d.b)(a,i,u),x=S[0],_=S[1],T=Object(m.a)(),E=T[0],k=T[1],C=Object(o.useRef)(null),A=C.current,O=Object(o.useCallback)((function(e){C.current=e,w()}),[w]),I=Object(p.a)(x),M=Object(o.useRef)(null),D=Object(o.useRef)(!1),R=Object(o.useCallback)((function(e){_(!x,e)}),[_,x]),P=Object(o.useMemo)((function(){return{toggle:R,drop:t,show:x,alignEnd:n,menuElement:A,toggleElement:E,setMenu:O,setToggle:k}}),[R,t,x,n,A,E,O,k]);A&&I&&!x&&(D.current=A.contains(document.activeElement));var N=Object(v.a)((function(){E&&E.focus&&E.focus()})),L=Object(v.a)((function(){var e=M.current,t=f;if(null==t&&(t=!(!C.current||!function(e,t){if(!r){var n=document.body,i=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;r=function(e,t){return i.call(e,t)}}return r(e,t)}(C.current,"[role=menu]"))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=Object(h.a)(C.current,c)[0];n&&n.focus&&n.focus()}}));Object(o.useEffect)((function(){x?L():D.current&&(D.current=!1,N())}),[x,D,N,L]),Object(o.useEffect)((function(){M.current=null}));var F=function(e,t){if(!C.current)return null;var n=Object(h.a)(C.current,c),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return s.a.createElement(y.Provider,{value:P},b({props:{onKeyDown:function(e){var t=e.key,n=e.target;if(!/input|textarea/i.test(n.tagName)||!(" "===t||"Escape"!==t&&C.current&&C.current.contains(n)))switch(M.current=e.type,t){case"ArrowUp":var r=F(n,-1);return r&&r.focus&&r.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),x){var i=F(n,1);i&&i.focus&&i.focus()}else R(e);return;case"Escape":case"Tab":_(!1,e)}}}}))}R.displayName="ReactOverlaysDropdown",R.propTypes=D,R.Menu=k,R.Toggle=M;var P=R,N=n(16),L=n(11),F=n(48),B={as:n(47).a,disabled:!1},z=s.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,u=e.children,l=e.eventKey,c=e.disabled,h=e.href,d=e.onClick,p=e.onSelect,m=e.active,g=e.as,y=Object(a.a)(e,["bsPrefix","className","children","eventKey","disabled","href","onClick","onSelect","active","as"]),b=Object(L.a)(n,"dropdown-item"),w=Object(o.useContext)(N.a),S=(Object(o.useContext)(F.a)||{}).activeKey,x=Object(N.b)(l||null,h),_=null==m&&null!=x?Object(N.b)(S)===x:m,T=Object(v.a)((function(e){c||(d&&d(e),w&&w(x,e),p&&p(x,e))}));return s.a.createElement(g,Object(i.a)({},y,{ref:t,href:h,disabled:c,className:f()(r,b,_&&"active",c&&"disabled"),onClick:T}),u)}));z.displayName="DropdownItem",z.defaultProps=B;var U=z,j=n(24),V=n(29);n(25);function G(e,t){return e}var W=n(69),H=s.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,u=e.alignRight,l=e.rootCloseEvent,c=e.flip,h=e.show,d=e.renderOnMount,p=e.as,m=void 0===p?"div":p,g=e.popperConfig,v=Object(a.a)(e,["bsPrefix","className","alignRight","rootCloseEvent","flip","show","renderOnMount","as","popperConfig"]),y=Object(o.useContext)(V.a),b=Object(L.a)(n,"dropdown-menu"),w=Object(W.a)(),S=w[0],x=w[1],T=_({flip:c,rootCloseEvent:l,show:h,alignEnd:u,usePopper:!y,popperConfig:Object(i.a)({},g,{modifiers:x.concat((null==g?void 0:g.modifiers)||[])})}),E=T.hasShown,k=T.placement,C=T.show,A=T.alignEnd,O=T.close,I=T.props;return I.ref=Object(j.a)(S,Object(j.a)(G(t),I.ref)),E||d?("string"!==typeof m&&(I.show=C,I.close=O,I.alignRight=A),k&&(v.style=Object(i.a)({},v.style,{},I.style),v["x-placement"]=k),s.a.createElement(m,Object(i.a)({},v,I,{className:f()(r,b,C&&"show",A&&b+"-right")}))):null}));H.displayName="DropdownMenu",H.defaultProps={alignRight:!1,flip:!0};var q=H,Q=(n(104),n(129)),X=s.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.split,o=e.className,u=e.children,l=e.childBsPrefix,c=e.as,h=void 0===c?Q.a:c,d=Object(a.a)(e,["bsPrefix","split","className","children","childBsPrefix","as"]),p=Object(L.a)(n,"dropdown-toggle");void 0!==l&&(d.bsPrefix=l);var m=A(),g=m[0],v=m[1].toggle;return g.ref=Object(j.a)(g.ref,G(t)),s.a.createElement(h,Object(i.a)({onClick:v,className:f()(o,p,r&&p+"-split")},g,d),u)}));X.displayName="DropdownToggle";var Y=X,K=n(17),Z=Object(K.a)("dropdown-header",{defaultProps:{role:"heading"}}),J=Object(K.a)("dropdown-divider",{defaultProps:{role:"separator"}}),$=Object(K.a)("dropdown-item-text",{Component:"span"}),ee=s.a.forwardRef((function(e,t){var n=Object(d.a)(e,{show:"onToggle"}),r=n.bsPrefix,u=n.drop,l=n.show,c=n.className,h=n.alignRight,p=n.onSelect,m=n.onToggle,g=n.focusFirstItemOnShow,y=n.as,b=void 0===y?"div":y,w=(n.navbar,Object(a.a)(n,["bsPrefix","drop","show","className","alignRight","onSelect","onToggle","focusFirstItemOnShow","as","navbar"])),S=Object(o.useContext)(N.a),x=Object(L.a)(r,"dropdown"),_=Object(v.a)((function(e,t,n){void 0===n&&(n=t.type),t.currentTarget===document&&(n="rootClose"),m&&m(e,t,{source:n})})),T=Object(v.a)((function(e,t){S&&S(e,t),p&&p(e,t),_(!1,t,"select")}));return s.a.createElement(N.a.Provider,{value:T},s.a.createElement(P,{drop:u,show:l,alignEnd:h,onToggle:_,focusFirstItemOnShow:g,itemSelector:"."+x+"-item:not(.disabled):not(:disabled)"},(function(e){var n=e.props;return s.a.createElement(b,Object(i.a)({},w,n,{ref:t,className:f()(c,l&&"show",(!u||"down"===u)&&x,"up"===u&&"dropup","right"===u&&"dropright","left"===u&&"dropleft")}))})))}));ee.displayName="Dropdown",ee.defaultProps={navbar:!1},ee.Divider=J,ee.Header=Z,ee.Item=U,ee.ItemText=$,ee.Menu=q,ee.Toggle=Y;var te=ee,ne=n(71),re=n(73),ie={id:l.a.any,onClick:l.a.func,title:l.a.node.isRequired,disabled:l.a.bool,active:l.a.bool,menuRole:l.a.string,renderMenuOnMount:l.a.bool,rootCloseEvent:l.a.string,bsPrefix:l.a.string},ae=s.a.forwardRef((function(e,t){var n=e.id,r=e.title,o=e.children,u=e.bsPrefix,l=e.rootCloseEvent,c=e.menuRole,f=e.disabled,h=e.active,d=e.renderMenuOnMount,p=Object(a.a)(e,["id","title","children","bsPrefix","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount"]);return s.a.createElement(te,Object(i.a)({ref:t},p,{as:ne.a}),s.a.createElement(te.Toggle,{id:n,eventKey:null,active:h,disabled:f,childBsPrefix:u,as:re.a},r),s.a.createElement(te.Menu,{role:c,renderOnMount:d,rootCloseEvent:l},o))}));ae.displayName="NavDropdown",ae.propTypes=ie,ae.Item=te.Item,ae.ItemText=te.ItemText,ae.Divider=te.Divider,ae.Header=te.Header;t.a=ae},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(9),o=n.n(a),s=n(1),u=n.n(s),l=n(30),c=n(17),f=n(11),h=u.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,s=e.as,l=Object(i.a)(e,["bsPrefix","className","as"]);n=Object(f.a)(n,"navbar-brand");var c=s||(l.href?"a":"span");return u.a.createElement(c,Object(r.a)({},l,{ref:t,className:o()(a,n)}))}));h.displayName="NavbarBrand";var d,p=h,m=n(21),g=n(45),v=n(31),y=n(36),b=n(67),w={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function S(e,t){var n=t["offset"+e[0].toUpperCase()+e.slice(1)],r=w[e];return n+parseInt(Object(m.a)(t,r[0]),10)+parseInt(Object(m.a)(t,r[1]),10)}var x=((d={})[v.c]="collapse",d[v.d]="collapsing",d[v.b]="collapsing",d[v.a]="collapse show",d),_={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:S},T=u.a.forwardRef((function(e,t){var n=e.onEnter,a=e.onEntering,l=e.onEntered,c=e.onExit,f=e.onExiting,h=e.className,d=e.children,p=e.dimension,m=void 0===p?"height":p,w=e.getDimensionValue,_=void 0===w?S:w,T=Object(i.a)(e,["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"]),E="function"===typeof m?m():m,k=Object(s.useMemo)((function(){return Object(y.a)((function(e){e.style[E]="0"}),n)}),[E,n]),C=Object(s.useMemo)((function(){return Object(y.a)((function(e){var t="scroll"+E[0].toUpperCase()+E.slice(1);e.style[E]=e[t]+"px"}),a)}),[E,a]),A=Object(s.useMemo)((function(){return Object(y.a)((function(e){e.style[E]=null}),l)}),[E,l]),O=Object(s.useMemo)((function(){return Object(y.a)((function(e){e.style[E]=_(E,e)+"px",Object(b.a)(e)}),c)}),[c,_,E]),I=Object(s.useMemo)((function(){return Object(y.a)((function(e){e.style[E]=null}),f)}),[E,f]);return u.a.createElement(v.e,Object(r.a)({ref:t,addEndListener:g.a},T,{"aria-expanded":T.role?T.in:null,onEnter:k,onEntering:C,onEntered:A,onExit:O,onExiting:I}),(function(e,t){return u.a.cloneElement(d,Object(r.a)({},t,{className:o()(h,d.props.className,x[e],"width"===E&&"width")}))}))}));T.defaultProps=_;var E=T,k=n(29),C=u.a.forwardRef((function(e,t){var n=e.children,a=e.bsPrefix,o=Object(i.a)(e,["children","bsPrefix"]);return a=Object(f.a)(a,"navbar-collapse"),u.a.createElement(k.a.Consumer,null,(function(e){return u.a.createElement(E,Object(r.a)({in:!(!e||!e.expanded)},o),u.a.createElement("div",{ref:t,className:a},n))}))}));C.displayName="NavbarCollapse";var A=C,O=n(15),I=u.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,l=e.children,c=e.label,h=e.as,d=void 0===h?"button":h,p=e.onClick,m=Object(i.a)(e,["bsPrefix","className","children","label","as","onClick"]);n=Object(f.a)(n,"navbar-toggler");var g=Object(s.useContext)(k.a)||{},v=g.onToggle,y=g.expanded,b=Object(O.a)((function(e){p&&p(e),v&&v()}));return"button"===d&&(m.type="button"),u.a.createElement(d,Object(r.a)({},m,{ref:t,onClick:b,"aria-label":c,className:o()(a,n,!y&&"collapsed")}),l||u.a.createElement("span",{className:n+"-icon"}))}));I.displayName="NavbarToggle",I.defaultProps={label:"Toggle navigation"};var M=I,D=n(16),R=Object(c.a)("navbar-text",{Component:"span"}),P=u.a.forwardRef((function(e,t){var n=Object(l.a)(e,{expanded:"onToggle"}),a=n.bsPrefix,c=n.expand,h=n.variant,d=n.bg,p=n.fixed,m=n.sticky,g=n.className,v=n.children,y=n.as,b=void 0===y?"nav":y,w=n.expanded,S=n.onToggle,x=n.onSelect,_=n.collapseOnSelect,T=Object(i.a)(n,["bsPrefix","expand","variant","bg","fixed","sticky","className","children","as","expanded","onToggle","onSelect","collapseOnSelect"]),E=Object(f.a)(a,"navbar"),C=Object(s.useCallback)((function(){x&&x.apply(void 0,arguments),_&&w&&S&&S(!1)}),[x,_,w,S]);void 0===T.role&&"nav"!==b&&(T.role="navigation");var A=E+"-expand";"string"===typeof c&&(A=A+"-"+c);var O=Object(s.useMemo)((function(){return{onToggle:function(){return S&&S(!w)},bsPrefix:E,expanded:!!w}}),[E,w,S]);return u.a.createElement(k.a.Provider,{value:O},u.a.createElement(D.a.Provider,{value:C},u.a.createElement(b,Object(r.a)({ref:t},T,{className:o()(g,E,c&&A,h&&E+"-"+h,d&&"bg-"+d,m&&"sticky-"+m,p&&"fixed-"+p)}),v)))}));P.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},P.displayName="Navbar",P.Brand=p,P.Toggle=M,P.Collapse=A,P.Text=R;t.a=P},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(19),o=n(41),s=n(1),u=n.n(s),l=n(46),c=n(49),f=Math.pow(2,31)-1;function h(e,t,n){var r=n-Date.now();e.current=r<=f?setTimeout(t,r):setTimeout((function(){return h(e,t,n)}),f)}function d(){var e=Object(l.a)(),t=Object(s.useRef)();return Object(c.a)((function(){return clearTimeout(t.current)})),Object(s.useMemo)((function(){var n=function(){return clearTimeout(t.current)};return{set:function(r,i){void 0===i&&(i=0),e()&&(n(),i<=f?t.current=setTimeout(r,i):h(t,r,Date.now()+i))},clear:n}}),[])}var p=n(42),m=(n(40),n(30)),g=n(9),v=n.n(g),y=n(8),b=n.n(y),w=n(20),S=n.n(w),x=n(33),_=n(24),T=n(72),E=n(74),k=n(75),C=n(54),A=n(68),O=u.a.forwardRef((function(e,t){var n=e.flip,a=e.offset,o=e.placement,l=e.containerPadding,c=void 0===l?5:l,f=e.popperConfig,h=void 0===f?{}:f,d=e.transition,p=Object(x.a)(),m=p[0],g=p[1],v=Object(x.a)(),y=v[0],b=v[1],w=Object(_.a)(g,t),T=Object(C.a)(e.container),O=Object(C.a)(e.target),I=Object(s.useState)(!e.show),M=I[0],D=I[1],R=Object(E.a)(O,m,Object(A.a)({placement:o,enableEvents:!!e.show,containerPadding:c||5,flip:n,offset:a,arrowElement:y,popperConfig:h})),P=R.styles,N=R.attributes,L=Object(i.a)(R,["styles","attributes"]);e.show?M&&D(!1):e.transition||M||D(!0);var F=e.show||d&&!M;if(Object(k.a)(m,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!F)return null;var B=e.children(Object(r.a)({},L,{show:!!e.show,props:Object(r.a)({},N.popper,{style:P.popper,ref:w}),arrowProps:Object(r.a)({},N.arrow,{style:P.arrow,ref:b})}));if(d){var z=e.onExit,U=e.onExiting,j=e.onEnter,V=e.onEntering,G=e.onEntered;B=u.a.createElement(d,{in:e.show,appear:!0,onExit:z,onExiting:U,onExited:function(){D(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:j,onEntering:V,onEntered:G},B)}return T?S.a.createPortal(B,T):null}));O.displayName="Overlay",O.propTypes={show:b.a.bool,placement:b.a.oneOf(T.b),target:b.a.any,container:b.a.any,flip:b.a.bool,children:b.a.func.isRequired,containerPadding:b.a.number,popperConfig:b.a.object,rootClose:b.a.bool,rootCloseEvent:b.a.oneOf(["click","mousedown"]),rootCloseDisabled:b.a.bool,onHide:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;return e.rootClose?(i=b.a.func).isRequired.apply(i,[e].concat(n)):b.a.func.apply(b.a,[e].concat(n))},transition:b.a.elementType,onEnter:b.a.func,onEntering:b.a.func,onEntered:b.a.func,onExit:b.a.func,onExiting:b.a.func,onExited:b.a.func};var I=O,M=n(69),D=n(51),R={transition:D.a,rootClose:!1,show:!1,placement:"top"};function P(e){var t=e.children,n=e.transition,a=e.popperConfig,o=void 0===a?{}:a,l=Object(i.a)(e,["children","transition","popperConfig"]),c=Object(s.useRef)({}),f=Object(M.a)(),h=f[0],d=f[1],m=!0===n?D.a:n||null;return u.a.createElement(I,Object(r.a)({},l,{ref:h,popperConfig:Object(r.a)({},o,{modifiers:d.concat(o.modifiers||[])}),transition:m}),(function(e){var a,o=e.props,s=e.arrowProps,l=e.show,f=e.update,h=(e.forceUpdate,e.placement),d=e.state,m=Object(i.a)(e,["props","arrowProps","show","update","forceUpdate","placement","state"]);!function(e,t){var n=e.ref,r=t.ref;e.ref=n.__wrapped||(n.__wrapped=function(e){return n(Object(p.a)(e))}),t.ref=r.__wrapped||(r.__wrapped=function(e){return r(Object(p.a)(e))})}(o,s);var g=Object.assign(c.current,{state:d,scheduleUpdate:f,placement:h,outOfBoundaries:(null==d||null==(a=d.modifiersData.hide)?void 0:a.isReferenceHidden)||!1});return"function"===typeof t?t(Object(r.a)({},m,{},o,{placement:h,show:l,popper:g,arrowProps:s})):u.a.cloneElement(t,Object(r.a)({},m,{},o,{placement:h,arrowProps:s,popper:g,className:v()(t.props.className,!n&&l&&"show"),style:Object(r.a)({},t.props.style,{},o.style)}))}))}P.defaultProps=R;var N=P,L=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){return this.props.children},t}(u.a.Component);function F(e,t,n){var r=t[0],i=r.currentTarget,a=r.relatedTarget||r.nativeEvent[n];a&&a===i||Object(o.a)(i,a)||e.apply(void 0,t)}function B(e){var t=e.trigger,n=e.overlay,a=e.children,o=e.popperConfig,l=void 0===o?{}:o,c=e.show,f=e.defaultShow,h=void 0!==f&&f,g=e.onToggle,v=e.delay,y=e.placement,b=e.flip,w=void 0===b?y&&-1!==y.indexOf("auto"):b,S=Object(i.a)(e,["trigger","overlay","children","popperConfig","show","defaultShow","onToggle","delay","placement","flip"]),x=Object(s.useRef)(null),_=d(),T=Object(s.useRef)(""),E=Object(m.b)(c,h,g),k=E[0],C=E[1],A=function(e){return e&&"object"===typeof e?e:{show:e,hide:e}}(v),O="function"!==typeof a?u.a.Children.only(a).props:{},I=O.onFocus,M=O.onBlur,D=O.onClick,R=Object(s.useCallback)((function(){return Object(p.a)(x.current)}),[]),P=Object(s.useCallback)((function(){_.clear(),T.current="show",A.show?_.set((function(){"show"===T.current&&C(!0)}),A.show):C(!0)}),[A.show,C,_]),B=Object(s.useCallback)((function(){_.clear(),T.current="hide",A.hide?_.set((function(){"hide"===T.current&&C(!1)}),A.hide):C(!1)}),[A.hide,C,_]),z=Object(s.useCallback)((function(){P();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null==I||I.apply(void 0,t)}),[P,I]),U=Object(s.useCallback)((function(){B();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null==M||M.apply(void 0,t)}),[B,M]),j=Object(s.useCallback)((function(){C(!k),D&&D.apply(void 0,arguments)}),[D,C,k]),V=Object(s.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];F(P,t,"fromElement")}),[P]),G=Object(s.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];F(B,t,"toElement")}),[B]),W=null==t?[]:[].concat(t),H={};return-1!==W.indexOf("click")&&(H.onClick=j),-1!==W.indexOf("focus")&&(H.onFocus=z,H.onBlur=U),-1!==W.indexOf("hover")&&(H.onMouseOver=V,H.onMouseOut=G),u.a.createElement(u.a.Fragment,null,"function"===typeof a?a(Object(r.a)({},H,{ref:x})):u.a.createElement(L,{ref:x},Object(s.cloneElement)(a,H)),u.a.createElement(N,Object(r.a)({},S,{show:k,onHide:B,flip:w,placement:y,popperConfig:l,target:R}),n))}B.defaultProps={defaultShow:!1,trigger:["hover","focus"]};t.a=B},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(9),o=n.n(a),s=(n(61),n(1)),u=n.n(s),l=n(30),c=n(11),f=n(29),h=u.a.createContext(null);h.displayName="CardContext";var d=h,p=n(22),m=n(70),g=n(24),v=n(48),y=n(16),b=u.a.createContext(null),w=function(){},S=u.a.forwardRef((function(e,t){var n,a,o=e.as,l=void 0===o?"ul":o,c=e.onSelect,f=e.activeKey,h=e.role,d=e.onKeyDown,S=Object(i.a)(e,["as","onSelect","activeKey","role","onKeyDown"]),x=Object(m.a)(),_=Object(s.useRef)(!1),T=Object(s.useContext)(y.a),E=Object(s.useContext)(b);E&&(h=h||"tablist",f=E.activeKey,n=E.getControlledId,a=E.getControllerId);var k=Object(s.useRef)(null),C=function(e){var t=k.current;if(!t)return null;var n=Object(p.a)(t,"[data-rb-event-key]:not(.disabled)"),r=t.querySelector(".active");if(!r)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},A=function(e,t){null!=e&&(c&&c(e,t),T&&T(e,t))};Object(s.useEffect)((function(){if(k.current&&_.current){var e=k.current.querySelector("[data-rb-event-key].active");e&&e.focus()}_.current=!1}));var O=Object(g.a)(t,k);return u.a.createElement(y.a.Provider,{value:A},u.a.createElement(v.a.Provider,{value:{role:h,activeKey:Object(y.b)(f),getControlledId:n||w,getControllerId:a||w}},u.a.createElement(l,Object(r.a)({},S,{onKeyDown:function(e){var t;switch(d&&d(e),e.key){case"ArrowLeft":case"ArrowUp":t=C(-1);break;case"ArrowRight":case"ArrowDown":t=C(1);break;default:return}t&&(e.preventDefault(),A(t.dataset.rbEventKey,e),_.current=!0,x())},ref:O,role:h}))))})),x=n(71),_=n(73),T=u.a.forwardRef((function(e,t){var n,a,h,p=Object(l.a)(e,{activeKey:"onSelect"}),m=p.as,g=void 0===m?"div":m,v=p.bsPrefix,y=p.variant,b=p.fill,w=p.justify,x=p.navbar,_=p.className,T=p.children,E=p.activeKey,k=Object(i.a)(p,["as","bsPrefix","variant","fill","justify","navbar","className","children","activeKey"]),C=Object(c.a)(v,"nav"),A=!1,O=Object(s.useContext)(f.a),I=Object(s.useContext)(d);return O?(a=O.bsPrefix,A=null==x||x):I&&(h=I.cardHeaderBsPrefix),u.a.createElement(S,Object(r.a)({as:g,ref:t,activeKey:E,className:o()(_,(n={},n[C]=!A,n[a+"-nav"]=A,n[h+"-"+y]=!!h,n[C+"-"+y]=!!y,n[C+"-fill"]=b,n[C+"-justified"]=w,n))},k),T)}));T.displayName="Nav",T.defaultProps={justify:!1,fill:!1},T.Item=x.a,T.Link=_.a;t.a=T},function(e,t,n){"use strict";var r=n(4),i=n(7),a=n(9),o=n.n(a),s=n(1),u=n.n(s),l=n(11);function c(e,t,n){var r=(e-t)/(n-t)*100;return Math.round(1e3*r)/1e3}function f(e,t){var n,a=e.min,s=e.now,l=e.max,f=e.label,h=e.srOnly,d=e.striped,p=e.animated,m=e.className,g=e.style,v=e.variant,y=e.bsPrefix,b=Object(i.a)(e,["min","now","max","label","srOnly","striped","animated","className","style","variant","bsPrefix"]);return u.a.createElement("div",Object(r.a)({ref:t},b,{role:"progressbar",className:o()(m,y+"-bar",(n={},n["bg-"+v]=v,n[y+"-bar-animated"]=p,n[y+"-bar-striped"]=p||d,n)),style:Object(r.a)({width:c(s,a,l)+"%"},g),"aria-valuenow":s,"aria-valuemin":a,"aria-valuemax":l}),h?u.a.createElement("span",{className:"sr-only"},f):f)}var h=u.a.forwardRef((function(e,t){var n=e.isChild,a=Object(i.a)(e,["isChild"]);if(a.bsPrefix=Object(l.a)(a.bsPrefix,"progress"),n)return f(a,t);var c=a.min,h=a.now,d=a.max,p=a.label,m=a.srOnly,g=a.striped,v=a.animated,y=a.bsPrefix,b=a.variant,w=a.className,S=a.children,x=Object(i.a)(a,["min","now","max","label","srOnly","striped","animated","bsPrefix","variant","className","children"]);return u.a.createElement("div",Object(r.a)({ref:t},x,{className:o()(w,y)}),S?function(e,t){var n=0;return u.a.Children.map(e,(function(e){return u.a.isValidElement(e)?t(e,n++):e}))}(S,(function(e){return Object(s.cloneElement)(e,{isChild:!0})})):f({min:c,now:h,max:d,label:p,srOnly:m,striped:g,animated:v,bsPrefix:y,variant:b},t))}));h.displayName="ProgressBar",h.defaultProps={min:0,max:100,animated:!1,isChild:!1,srOnly:!1,striped:!1};t.a=h}]]);
//# sourceMappingURL=2.95480503.chunk.js.map